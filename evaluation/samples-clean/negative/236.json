{
    "code": "def init_gui_pylab(self):\n        \"\"\"Enable GUI event loop integration, taking pylab into account.\"\"\"\n        enable = False\n        shell = self.shell\n        if self.pylab:\n            enable = lambda key: shell.enable_pylab(key, import_all=self.pylab_import_all)\n            key = self.pylab\n        elif self.matplotlib:\n            enable = shell.enable_matplotlib\n            key = self.matplotlib\n        elif self.gui:\n            enable = shell.enable_gui\n            key = self.gui\n        \n        if not enable:\n            return\n        \n        try:\n            r = enable(key)\n        except ImportError:\n            self.log.warn(\"Eventloop or matplotlib integration failed. Is matplotlib installed?\")\n            self.shell.showtraceback()\n            return\n        except Exception:\n            self.log.warn(\"GUI event loop or pylab initialization failed\")\n            self.shell.showtraceback()\n            return\n            \n        if isinstance(r, tuple):\n            gui, backend = r[:2]\n            self.log.info(\"Enabling GUI event loop integration, \"\n                      \"eventloop=%s, matplotlib=%s\", gui, backend)\n            if key == \"auto\":\n                print(\"Using matplotlib backend: %s\" % backend)\n        else:\n            gui = r\n            self.log.info(\"Enabling GUI event loop integration, \"\n                      \"eventloop=%s\", gui)",
    "smell": []
}