{
    "code": "def parse_ser_results_fp(fp, fp_type=\"gt\", ignore_background=True):\n    # img/zh_val_0.jpg        {\n    #     \"height\": 3508,\n    #     \"width\": 2480,\n    #     \"ocr_info\": [\n    #         {\"text\": \"Maribyrnong\", \"label\": \"other\", \"bbox\": [1958, 144, 2184, 198]},\n    #         {\"text\": \"CITYCOUNCIL\", \"label\": \"other\", \"bbox\": [2052, 183, 2171, 214]},\n    #     ]\n    assert fp_type in [\"gt\", \"pred\"]\n    key = \"label\" if fp_type == \"gt\" else \"pred\"\n    res_dict = dict()\n    with open(fp, \"r\", encoding='utf-8') as fin:\n        lines = fin.readlines()\n\n    for _, line in enumerate(lines):\n        img_path, info = line.strip().split(\"\\t\")\n        # get key\n        image_name = os.path.basename(img_path)\n        res_dict[image_name] = []\n        # get infos\n        json_info = json.loads(info)\n        for single_ocr_info in json_info[\"ocr_info\"]:\n            label = single_ocr_info[key].upper()\n            if label in [\"O\", \"OTHERS\", \"OTHER\"]:\n                label = \"O\"\n            if ignore_background and label == \"O\":\n                continue\n            single_ocr_info[\"label\"] = label\n            res_dict[image_name].append(copy.deepcopy(single_ocr_info))\n    return res_dict",
    "smell": []
}