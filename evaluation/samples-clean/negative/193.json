{
    "code": "def main():\n    closed_count = 0\n    video_capture = cv2.VideoCapture(0)\n\n    ret, frame = video_capture.read(0)\n    # cv2.VideoCapture.release()\n    small_frame = cv2.resize(frame, (0, 0), fx=0.25, fy=0.25)\n    rgb_small_frame = small_frame[:, :, ::-1]\n\n    face_landmarks_list = face_recognition.face_landmarks(rgb_small_frame)\n    process = True\n\n    while True:\n        ret, frame = video_capture.read(0)\n\n        # get it into the correct format\n        small_frame = cv2.resize(frame, (0, 0), fx=0.25, fy=0.25)\n        rgb_small_frame = small_frame[:, :, ::-1]\n\n\n\n        # get the correct face landmarks\n        \n        if process:\n            face_landmarks_list = face_recognition.face_landmarks(rgb_small_frame)\n\n            # get eyes\n            for face_landmark in face_landmarks_list:\n                left_eye = face_landmark['left_eye']\n                right_eye = face_landmark['right_eye']\n\n\n                color = (255,0,0)\n                thickness = 2\n\n                cv2.rectangle(small_frame, left_eye[0], right_eye[-1], color, thickness)\n\n                cv2.imshow('Video', small_frame)\n\n                ear_left = get_ear(left_eye)\n                ear_right = get_ear(right_eye)\n\n                closed = ear_left < 0.2 and ear_right < 0.2\n\n                if (closed):\n                    closed_count += 1\n\n                else:\n                    closed_count = 0\n\n                if (closed_count >= EYES_CLOSED_SECONDS):\n                    asleep = True\n                    while (asleep): #continue this loop until they wake up and acknowledge music\n                        print(\"EYES CLOSED\")\n\n                        if cv2.waitKey(1) == 32: #Wait for space key  \n                            asleep = False\n                            print(\"EYES OPENED\")\n                    closed_count = 0\n\n        process = not process\n        key = cv2.waitKey(1) & 0xFF\n        if key == ord(\"q\"):\n            break",
    "smell": []
}