{
    "code": "def get_context(lineno, context_line, pre_context=None, post_context=None, filename=None):\n    if lineno is None:\n        return []\n\n    if context_line is None and not (pre_context or post_context):\n        return []\n\n    lineno = int(lineno)\n    context = []\n    start_lineno = lineno - len(pre_context or [])\n    if pre_context:\n        start_lineno = lineno - len(pre_context)\n        at_lineno = start_lineno\n        for line in pre_context:\n            context.append((at_lineno, line))\n            at_lineno += 1\n    else:\n        start_lineno = lineno\n        at_lineno = lineno\n\n    if start_lineno < 0:\n        start_lineno = 0\n\n    context.append((at_lineno, context_line))\n    at_lineno += 1\n\n    if post_context:\n        for line in post_context:\n            context.append((at_lineno, line))\n            at_lineno += 1\n\n    # HACK:\n    if filename and is_url(filename) and '.' not in filename.rsplit('/', 1)[-1]:\n        filename = 'index.html'\n\n    return context",
    "smell": []
}