{
    "code": "def _new_instance(self, name, attrs):\n        if name not in self.instances:\n            class_ = globals()[attrs['class']]\n            sig = funcsigs.signature(class_.__init__)\n            keys = [\n                param.name for param in sig.parameters.values()\n                if (param.kind == param.POSITIONAL_OR_KEYWORD)\n            ][1:]\n            keys = set(attrs.keys()).intersection(set(keys))\n            args = {}\n            for key in keys:\n                value = attrs[key]\n                if isinstance(value, str) and value.lower() == 'none':\n                    value = None\n                if isinstance(value, str) and value in self.instances:\n                    value = self.instances[value]\n                if isinstance(value, list):\n                    for i in range(len(value)):\n                        if isinstance(value[i],\n                                      str) and value[i] in self.instances:\n                            value[i] = self.instances[value[i]]\n\n                args[key] = value\n            self.instances[name] = class_(**args)\n        return self.instances.get(name)",
    "smell": []
}