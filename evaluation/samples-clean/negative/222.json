{
    "code": "def _install(self, target: InstallTarget):\n        # download and extract archive\n        tmp_archive = os.path.join(config.dirs.cache, \"localstack.ddb.zip\")\n        install_dir = self._get_install_dir(target)\n        download_and_extract_with_retry(DYNAMODB_JAR_URL, tmp_archive, install_dir)\n\n        # download additional libs for Mac M1 (for local dev mode)\n        ddb_local_lib_dir = os.path.join(install_dir, \"DynamoDBLocal_lib\")\n        if is_mac_os() and get_arch() == \"arm64\":\n            target_path = os.path.join(ddb_local_lib_dir, \"libsqlite4java-osx-aarch64.dylib\")\n            if not file_exists_not_empty(target_path):\n                download(LIBSQLITE_AARCH64_URL, target_path)\n\n        # fix logging configuration for DynamoDBLocal\n        log4j2_config = \"\"\"<Configuration status=\"WARN\">\n          <Appenders>\n            <Console name=\"Console\" target=\"SYSTEM_OUT\">\n              <PatternLayout pattern=\"%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\"/>\n            </Console>\n          </Appenders>\n          <Loggers>\n            <Root level=\"WARN\"><AppenderRef ref=\"Console\"/></Root>\n          </Loggers>\n        </Configuration>\"\"\"\n        log4j2_file = os.path.join(install_dir, \"log4j2.xml\")\n        run_safe(lambda: save_file(log4j2_file, log4j2_config))\n        run_safe(lambda: run([\"zip\", \"-u\", \"DynamoDBLocal.jar\", \"log4j2.xml\"], cwd=install_dir))\n\n        ddb_agent_jar_path = self.get_ddb_agent_jar_path()\n        javassit_jar_path = os.path.join(install_dir, \"javassist.jar\")\n        # download agent JAR\n        if not os.path.exists(ddb_agent_jar_path):\n            download(DDB_AGENT_JAR_URL, ddb_agent_jar_path)\n        if not os.path.exists(javassit_jar_path):\n            download(JAVASSIST_JAR_URL, javassit_jar_path)\n\n        upgrade_jar_file(ddb_local_lib_dir, \"slf4j-ext-*.jar\", \"org/slf4j/slf4j-ext:1.8.0-beta4\")\n\n        # ensure that javassist.jar is in the manifest classpath\n        update_jar_manifest(\n            \"DynamoDBLocal.jar\", install_dir, \"Class-Path: .\", \"Class-Path: javassist.jar .\"\n        )",
    "smell": []
}