{
  "code": "def update_files(data, python=True):\n    \"\"\"Update files with new version number.\"\"\"\n\n    if len(sys.argv) != 2:\n        e = Exception('Specify PEP440 version: \"%s 1.2.3\"' % sys.argv[0])\n        raise(e)\n\n    version = verify_pep440(sys.argv[1])\n\n    # Use normal sem versions for non python things ie node.\n    if not python:\n        version = version.base_version\n\n    for filename, regex in data.items():\n        filename = os.path.join(BASE_DIR, filename)\n        matched = False\n        pattern = re.compile(regex)\n        for line in fileinput.input(filename, inplace=1):\n            if pattern.match(line.rstrip()):\n                matched = True\n            line = re.sub(regex, r'\\g<pre>%s\\g<post>' % version, line.rstrip())\n            print(line)\n        if not matched:\n            logging.error('In file \"%s\", did not find regex \"%s\"',\n                          filename, regex)",
  "smell": [
    {
      "smell_id": 2,
      "line_no": 18,
      "description": "The values of an argument hold inconsistent types in different function calls."
    }
  ]
}