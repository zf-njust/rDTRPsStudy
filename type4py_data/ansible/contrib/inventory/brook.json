{"error": null, "response": {"classes": [{"cls_lc": [[96, 0], [255, 23]], "cls_var_ln": {"_API_ENDPOINT": [[98, 4], [98, 17]]}, "cls_var_occur": {"_API_ENDPOINT": []}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[100, 4], [103, 45]], "fn_var_ln": {"client": [[102, 8], [102, 19]], "inventory": [[103, 8], [103, 22]]}, "fn_var_occur": {"client": [["self", "client", "self", "get_api_client"]], "inventory": [["self", "inventory", "self", "get_inventory"]]}, "name": "__init__", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "_configure_from_file"], ["self", "client", "self", "get_api_client"], ["self", "inventory", "self", "get_inventory"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "BrookInventory.__init__", "ret_exprs": [], "ret_type": "", "variables": {"client": "", "inventory": ""}, "variables_p": {"client": [["int", 0.5262879464076783], ["str", 0.2776271001994988], ["Final", 0.12028108746292338], ["Optional[str]", 0.07580386592989947]], "inventory": [["int", 0.9999999999999999]]}}, {"docstring": {"func": "Initialize from .ini file.", "long_descr": "Configuration file is assumed to be named 'brook.ini' and to be located on the same\ndirectory than this file, unless the environment variable BROOK_INI_PATH says otherwise.", "ret": null}, "fn_lc": [[105, 4], [127, 23]], "fn_var_ln": {"api_token": [[121, 8], [121, 22]], "brook_ini_default_path": [[112, 8], [112, 30]], "brook_ini_path": [[114, 8], [114, 22]], "config": [[116, 8], [116, 14]], "project_id": [[122, 8], [122, 23]]}, "fn_var_occur": {"api_token": [["self", "api_token", "config", "get"], ["self", "api_token"]], "brook_ini_default_path": [["brook_ini_default_path", "os", "path", "join", "os", "path", "dirname", "os", "path", "realpath", "__file__"], ["brook_ini_path", "os", "environ", "get", "brook_ini_default_path"]], "brook_ini_path": [["brook_ini_path", "os", "environ", "get", "brook_ini_default_path"], ["config", "read", "brook_ini_path"]], "config": [["config", "ConfigParser", "defaults"], ["config", "read", "brook_ini_path"], ["self", "api_token", "config", "get"], ["self", "project_id", "config", "get"]], "project_id": [["self", "project_id", "config", "get"]]}, "name": "_configure_from_file", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "api_token", "config", "get"], ["self", "project_id", "config", "get"], ["self", "api_token"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "BrookInventory._configure_from_file", "ret_exprs": [], "ret_type": "", "variables": {"api_token": "", "brook_ini_default_path": "", "brook_ini_path": "", "config": "", "project_id": ""}, "variables_p": {"api_token": [["Dict[str, str]", 0.355557775013532], ["Dict[str, Any]", 0.24955522023303262], ["dict", 0.23129654666525834], ["Dict[str, List[str]]", 0.0884581155462401], ["Dict[str, Union[Any, str]]", 0.07513234254193693]], "brook_ini_default_path": [["str", 1.0]], "brook_ini_path": [["str", 0.5711882769062625], ["List[str]", 0.18362977229914307]], "config": [["configparser.ConfigParser", 0.6973632748853694]], "project_id": [["str", 0.8163366497081701], ["Type[Optional[Any]]", 0.0983991116589996]]}}, {"docstring": {"func": "Authenticate user via the provided credentials and return the corresponding API client.", "long_descr": null, "ret": null}, "fn_lc": [[129, 4], [145, 71]], "fn_var_ln": {"api_token": [[137, 8], [137, 17]], "auth_api": [[136, 8], [136, 16]], "jwt": [[139, 8], [139, 11]], "token": [[138, 8], [138, 23]], "unauthenticated_client": [[135, 8], [135, 30]]}, "fn_var_occur": {"api_token": [["api_token", "libbrook", "AuthTokenRequest"], ["api_token", "token", "self", "api_token"], ["jwt", "auth_api", "auth_token", "token", "api_token"]], "auth_api": [["auth_api", "libbrook", "AuthApi", "unauthenticated_client"], ["jwt", "auth_api", "auth_token", "token", "api_token"]], "jwt": [["jwt", "auth_api", "auth_token", "token", "api_token"], ["libbrook", "ApiClient", "host", "self", "_API_ENDPOINT", "header_name", "header_value", "jwt", "token"]], "token": [["api_token", "token", "self", "api_token"], ["jwt", "auth_api", "auth_token", "token", "api_token"], ["libbrook", "ApiClient", "host", "self", "_API_ENDPOINT", "header_name", "header_value", "jwt", "token"]], "unauthenticated_client": [["unauthenticated_client", "libbrook", "ApiClient", "host", "self", "_API_ENDPOINT"], ["auth_api", "libbrook", "AuthApi", "unauthenticated_client"]]}, "name": "get_api_client", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["unauthenticated_client", "libbrook", "ApiClient", "host", "self", "_API_ENDPOINT"], ["api_token", "token", "self", "api_token"], ["libbrook", "ApiClient", "host", "self", "_API_ENDPOINT", "header_name", "header_value", "jwt", "token"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "BrookInventory.get_api_client", "ret_exprs": ["return libbrook.ApiClient(host=self._API_ENDPOINT, header_name='Authorization', header_value='Bearer %s' % jwt.token)"], "ret_type": "", "ret_type_p": [["str", 0.1959556919810162], ["float", 0.1311385826263114], ["int", 0.09684292516775737]], "variables": {"api_token": "", "auth_api": "", "jwt": "", "token": "", "unauthenticated_client": ""}, "variables_p": {"api_token": [["str", 0.3961581198964743], ["Dict[str, bool]", 0.09075433069164794], ["taskiinfrastructure.data.json.reporters.state_reporter.JsonStateReporter", 0.0892524846288212]], "auth_api": [["str", 0.4090687783699558], ["Dict[str, str]", 0.1069901846604586], ["Dict[str, Dict[str, Any]]", 0.09031621092243228], ["Dict[str, Union[bool, str]]", 0.08716606587131169]], "jwt": [["str", 0.6338055068028543], ["Dict[str, List[str]]", 0.09495748953013514]], "token": [["taskiinfrastructure.data.json.reporters.state_reporter.JsonStateReporter", 0.1241555608616365], ["Dict[int, Any]", 0.12199880953412083], ["Dict[str, Any]", 0.1180120187551784], ["Dict[str, str]", 0.1180120187551784], ["str", 0.10767024350850178], ["Tuple[str, str]", 0.08633411348674848], ["Dict[str, bool]", 0.08282179643329884]], "unauthenticated_client": [["str", 0.2525363868483163], ["bool", 0.16052964159371685]]}}, {"docstring": {"func": "Generate Ansible inventory.", "long_descr": null, "ret": null}, "fn_lc": [[147, 4], [205, 21]], "fn_var_ln": {"groups": [[151, 8], [151, 14]], "instances_api": [[155, 8], [155, 21]], "meta": [[152, 8], [152, 12]], "project": [[169, 12], [169, 19]], "project_group": [[182, 16], [182, 29]], "projects": [[164, 12], [164, 20]], "projects_api": [[156, 8], [156, 20]], "status_group": [[189, 16], [189, 28]], "tag_group": [[198, 20], [198, 29]], "tags": [[196, 16], [196, 20]], "template": [[172, 16], [172, 24]], "templates_api": [[157, 8], [157, 21]]}, "fn_var_occur": {"groups": [["groups", "dict"], ["project_group", "groups", "keys"], ["groups", "project_group", "append", "instance", "name"], ["groups", "project_group", "instance", "name"], ["status_group", "groups", "keys"], ["groups", "status_group", "append", "instance", "name"], ["groups", "status_group", "instance", "name"], ["tag_group", "groups", "keys"], ["groups", "tag_group", "append", "instance", "name"], ["groups", "tag_group", "instance", "name"], ["groups", "meta"]], "instances_api": [["instances_api", "libbrook", "InstancesApi", "self", "client"], ["instances_api", "index_instances", "project_id", "project_id"], ["meta", "instance", "name", "self", "hostvars", "project", "instance", "template", "instances_api"]], "meta": [["meta", "dict"], ["meta", "dict"], ["meta", "instance", "name", "self", "hostvars", "project", "instance", "template", "instances_api"], ["status_group", "meta", "instance", "name"], ["tags", "meta", "instance", "name"], ["groups", "meta"]], "project": [["projects", "project", "id", "project", "projects_api", "index_projects"], ["project", "projects_api", "show_project", "project_id", "project_id"], ["meta", "instance", "name", "self", "hostvars", "project", "instance", "template", "instances_api"], ["project_group", "project", "name"]], "project_group": [["project_group", "project", "name"], ["project_group", "groups", "keys"], ["groups", "project_group", "append", "instance", "name"], ["groups", "project_group", "instance", "name"]], "projects": [["projects", "project", "id", "project", "projects_api", "index_projects"], ["projects", "self", "project_id"]], "projects_api": [["projects_api", "libbrook", "ProjectsApi", "self", "client"], ["projects", "project", "id", "project", "projects_api", "index_projects"], ["project", "projects_api", "show_project", "project_id", "project_id"]], "status_group": [["status_group", "meta", "instance", "name"], ["status_group", "groups", "keys"], ["groups", "status_group", "append", "instance", "name"], ["groups", "status_group", "instance", "name"]], "tag_group": [["tag_group", "tag"], ["tag_group", "groups", "keys"], ["groups", "tag_group", "append", "instance", "name"], ["groups", "tag_group", "instance", "name"]], "tags": [["tags", "meta", "instance", "name"]], "template": [["template", "templates_api", "show_template", "template_id", "instance", "template"], ["meta", "instance", "name", "self", "hostvars", "project", "instance", "template", "instances_api"]], "templates_api": [["templates_api", "libbrook", "TemplatesApi", "self", "client"], ["template", "templates_api", "show_template", "template_id", "instance", "template"]]}, "name": "get_inventory", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["instances_api", "libbrook", "InstancesApi", "self", "client"], ["projects_api", "libbrook", "ProjectsApi", "self", "client"], ["templates_api", "libbrook", "TemplatesApi", "self", "client"], ["self", "project_id"], ["projects", "self", "project_id"], ["meta", "instance", "name", "self", "hostvars", "project", "instance", "template", "instances_api"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "BrookInventory.get_inventory", "ret_exprs": ["return groups"], "ret_type": "", "ret_type_p": [["str", 0.19999999999999998], ["bool", 0.09999999999999999]], "variables": {"groups": "", "instances_api": "", "meta": "", "project": "", "project_group": "", "projects": "", "projects_api": "", "status_group": "", "tag_group": "", "tags": "", "template": "", "templates_api": ""}, "variables_p": {"groups": [["list", 0.5375737167674011], ["List[Dict[str, str]]", 0.20421845689891555], ["dict", 0.09644981347115375], ["Dict[str, List[Any]]", 0.08211435854103794], ["OrderedDict[Any, List[Any]]", 0.07964365432149163]], "instances_api": [["waterbutler.core.streams.json.JSONStream", 0.39598616398854813], ["str", 0.09438679569913523], ["Optional[bool]", 0.09337740055405866]], "meta": [["dict", 0.69640686792302], ["Set[str]", 0.09515970065413702]], "project": [["str", 0.29798863232769995], ["List[str]", 0.13498197721521735], ["Dict[str, Any]", 0.12439972235907637], ["list", 0.08760439981839925]], "project_group": [["str", 0.48638236111370364], ["Dict[str, str]", 0.13264766464648428], ["list", 0.09806556730067188], ["Tuple[str, str, str, str, str, str]", 0.09681487332566653], ["Optional[str]", 0.09430737072800849]], "projects": [["list", 0.3121374656300049], ["str", 0.19227853686463425]], "projects_api": [], "status_group": [["str", 0.38761487230895453], ["Pattern[str]", 0.12899092856182962], ["List[Union[Any, Any, Any, Any]]", 0.09311719599869389], ["dict", 0.09240774850086178], ["Dict[Any, Dict[str, str]]", 0.08507054982213061]], "tag_group": [["Set[str]", 0.2578390999978547], ["list", 0.25443206878617364], ["set", 0.1915640310675527], ["KeysView[Any]", 0.07802602391548774]], "tags": [["str", 0.3879403688200977], ["Pattern[str]", 0.18141243652662375], ["Optional[str]", 0.12004709300829708], ["Dict[str, Any]", 0.08582049583494435], ["Set[str]", 0.08176925438824229]], "template": [["str", 0.2060767647510261], ["List[int]", 0.11343935786422697], ["Dict[str, Any]", 0.09016676152437031], ["Tuple[int, int, str]", 0.08937723007202455], ["List[List[Any]]", 0.08828326546146438], ["taskiinfrastructure.data.json.repositories.project_repository.JsonProjectRepository", 0.08740102261272835]], "templates_api": [["Dict[str, List[str]]", 0.09966199378589186], ["dict", 0.0968086386519109]]}}, {"docstring": {"func": "Return the hostvars dictionary for the given instance.", "long_descr": "Raise libbrook.rest.ApiException if it cannot retrieve all required information from the\nBrook.io API.", "ret": null}, "fn_lc": [[207, 4], [255, 23]], "fn_var_ln": {"addresses": [[244, 8], [244, 17]], "external_ips": [[246, 8], [246, 20]], "hostvars": [[214, 8], [214, 16]], "internal_ips": [[245, 8], [245, 20]], "status": [[234, 8], [234, 14]], "tags": [[239, 8], [239, 12]]}, "fn_var_occur": {"addresses": [["addresses", "api", "instance_addresses", "project_id", "project", "id", "instance_id", "instance", "id"], ["internal_ips", "address", "address", "address", "addresses", "address", "scope"], ["external_ips", "address", "address", "address", "addresses", "address", "address", "address", "scope"]], "external_ips": [["external_ips", "address", "address", "address", "addresses", "address", "address", "address", "scope"], ["hostvars", "update", "external_ips"], ["hostvars", "update", "external_ips"]], "hostvars": [["hostvars", "instance", "to_dict"], ["hostvars", "hostvars", "pop"], ["hostvars", "hostvars", "pop"], ["hostvars", "hostvars", "pop"], ["hostvars", "hostvars", "pop"], ["hostvars", "hostvars", "pop"], ["hostvars", "hostvars", "pop"], ["hostvars", "hostvars", "pop"], ["hostvars", "project", "name"], ["hostvars", "template", "name"], ["hostvars", "update", "status", "state"], ["hostvars", "update", "tags"], ["hostvars", "update", "internal_ips"], ["hostvars", "update", "external_ips"], ["hostvars", "update", "external_ips"]], "internal_ips": [["internal_ips", "address", "address", "address", "addresses", "address", "scope"], ["hostvars", "update", "internal_ips"]], "status": [["status", "api", "status_instance", "project_id", "project", "id", "instance_id", "instance", "id"], ["hostvars", "update", "status", "state"], ["libbrook", "rest", "ApiException", "status", "reason"]], "tags": [["tags", "api", "instance_tags", "project_id", "project", "id", "instance_id", "instance", "id"], ["hostvars", "update", "tags"]]}, "name": "hostvars", "params": {"api": "", "instance": "", "project": "", "self": "", "template": ""}, "params_descr": {"api": "", "instance": "", "project": "", "self": "", "template": ""}, "params_occur": {"api": [["status", "api", "status_instance", "project_id", "project", "id", "instance_id", "instance", "id"], ["tags", "api", "instance_tags", "project_id", "project", "id", "instance_id", "instance", "id"], ["addresses", "api", "instance_addresses", "project_id", "project", "id", "instance_id", "instance", "id"]], "instance": [["hostvars", "instance", "to_dict"], ["status", "api", "status_instance", "project_id", "project", "id", "instance_id", "instance", "id"], ["tags", "api", "instance_tags", "project_id", "project", "id", "instance_id", "instance", "id"], ["addresses", "api", "instance_addresses", "project_id", "project", "id", "instance_id", "instance", "id"]], "project": [["hostvars", "project", "name"], ["status", "api", "status_instance", "project_id", "project", "id", "instance_id", "instance", "id"], ["tags", "api", "instance_tags", "project_id", "project", "id", "instance_id", "instance", "id"], ["addresses", "api", "instance_addresses", "project_id", "project", "id", "instance_id", "instance", "id"]], "self": [], "template": [["hostvars", "template", "name"]]}, "params_p": {"api": [["str", 0.10208902677402913]], "args": [], "instance": [["str", 0.12790094570595495], ["bytes", 0.11246707694072616], ["Dict[str, Any]", 0.09319573759005689], ["dict", 0.09254411489822151]], "kwargs": [], "project": [["str", 0.30769196658059034], ["Callable[[str], None]", 0.10016518658806599]], "self": [], "template": [["dict", 0.10433611974667306], ["int", 0.09230447544804736]]}, "q_name": "BrookInventory.hostvars", "ret_exprs": ["return hostvars"], "ret_type": "", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["str", 0.1]], "variables": {"addresses": "", "external_ips": "", "hostvars": "", "internal_ips": "", "status": "", "tags": ""}, "variables_p": {"addresses": [["dict", 0.12191574328561558], ["list", 0.11827764560359615], ["Dict[str, str]", 0.10067401343274276], ["float", 0.09339058718576726]], "external_ips": [["Dict[str, Any]", 0.09618224800769982]], "hostvars": [["dict", 0.9999999997712476], ["Dict[str, Union[Any, Any, Any, Any, Any, Any]]", 3.493535183486783e-11], ["list", 3.493535183486783e-11], ["Type[Dict[str, float]]", 3.493535183486783e-11], ["str", 3.493535183486783e-11], ["Dict[str, str]", 2.699773836943205e-11]], "internal_ips": [["Dict[str, Any]", 0.0969386537836362], ["float", 0.06960360354939797]], "status": [["int", 0.29709878013664753], ["dict", 0.11510849770584251], ["str", 0.11473568235529967], ["list", 0.09390770336585855], ["Dict[str, Optional[str]]", 0.09079227176632], ["Type[Dict[str, Any]]", 0.0882853432504791]], "tags": [["str", 0.5160751427336656], ["Optional[int]", 0.10444674662599081], ["list", 0.1018958359509608], ["Tuple[Literal, Literal, Literal]", 0.0866124605135646], ["List[Union[Any, Any, Any, Any]]", 0.08455106179172993]]}}], "name": "BrookInventory", "q_name": "BrookInventory", "variables": {"_API_ENDPOINT": ""}, "variables_p": {"_API_ENDPOINT": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}], "funcs": [], "imports": ["sys", "os", "ConfigParser", "SafeConfigParser", "ConfigParser", "configparser", "ConfigParser", "json", "simplejson", "json", "libbrook"], "mod_var_ln": {"brook": [[260, 0], [260, 5]]}, "mod_var_occur": {"brook": [["print", "json", "dumps", "brook", "inventory"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 41}, "session_id": "bNBEYaUh_jMM6tWNMFFLkIj6a1blwCgBtd2j5JiL7MI", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"brook": ""}, "variables_p": {"brook": [["Dict[str, Any]", 0.999999999982645], ["dict", 7.359087393673321e-12], ["list", 3.4076218816758054e-12], ["Dict[Hashable, Dict[Hashable, Any]]", 3.2058838744791366e-12]]}}}