{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[56, 0], [68, 19]], "fn_var_ln": {"headers": [[63, 12], [63, 19]], "result": [[64, 8], [64, 14]], "url": [[62, 12], [62, 15]]}, "fn_var_occur": {"headers": [["headers", "config", "get"], ["headers", "link"], ["result", "open_url", "url", "headers", "headers", "url_username", "config", "get", "replace", "url_password", "config", "get", "replace"]], "result": [["result", "open_url", "url", "headers", "headers", "url_username", "config", "get", "replace", "url_password", "config", "get", "replace"], ["json", "loads", "result", "read"]], "url": [["url", "config", "get", "config", "get"], ["url", "link"], ["result", "open_url", "url", "headers", "headers", "url_username", "config", "get", "replace", "url_password", "config", "get", "replace"]]}, "name": "api_get", "params": {"config": "", "link": ""}, "params_descr": {"config": "", "link": ""}, "params_occur": {"config": [["url", "config", "get", "config", "get"], ["headers", "config", "get"], ["result", "open_url", "url", "headers", "headers", "url_username", "config", "get", "replace", "url_password", "config", "get", "replace"]], "link": [["link", "None"], ["url", "link"], ["headers", "link"]]}, "params_p": {"args": [], "config": [["dict", 0.2760241019657176], ["Dict[str, Any]", 0.09559957524442322]], "kwargs": [], "link": [["Optional[str]", 0.10544596182062652], ["bool", 0.10397458292903052], ["dict", 0.09450145944667983], ["Callable", 0.08292203435361854]]}, "q_name": "api_get", "ret_exprs": ["return json.loads(result.read())", "return None"], "ret_type": "", "ret_type_p": [["int", 0.4263928880647718], ["bool", 0.19679555662669368], ["List[Callable]", 0.18112967542299357], ["str", 0.09744639176716499]], "variables": {"headers": "", "result": "", "url": ""}, "variables_p": {"headers": [["Dict[str, str]", 0.48993018132366106], ["str", 0.3259602979505101], ["Dict[str, Union[Any, Any, Any, Any]]", 0.1841095207258289]], "result": [["Dict[str, Union[bytes, str]]", 0.11811333568162177], ["Dict[str, None]", 0.10762106364728403], ["list", 0.09910281383592928], ["str", 0.09349219145135805]], "url": [["str", 0.6705228416765089], ["OrderedDict[str, Any]", 0.19203011558455146]]}}, {"docstring": {"func": "saves item to cache ", "long_descr": null, "ret": null}, "fn_lc": [[70, 0], [78, 12]], "fn_var_ln": {"cache": [[74, 8], [74, 13]], "dpath": [[72, 4], [72, 9]]}, "fn_var_occur": {"cache": [["cache", "open", "join", "dpath"], ["cache", "write", "json", "dumps", "data"], ["cache", "close"]], "dpath": [["dpath", "config", "get"], ["cache", "open", "join", "dpath"]]}, "name": "save_cache", "params": {"config": "", "data": ""}, "params_descr": {"config": "", "data": ""}, "params_occur": {"config": [["dpath", "config", "get"]], "data": [["cache", "write", "json", "dumps", "data"]]}, "params_p": {"args": [], "config": [["Sequence", 0.1014692251227949], ["Dict[str, Any]", 0.10016897309289967], ["Dict[str, str]", 0.09977384956353035]], "data": [["dict", 0.3808384499571491], ["Dict[str, Any]", 0.17888001601854003], ["Dict[str, Dict[str, str]]", 0.12072871828903765], ["str", 0.1052026913683225]], "kwargs": []}, "q_name": "save_cache", "ret_exprs": [], "ret_type": "", "variables": {"cache": "", "dpath": ""}, "variables_p": {"cache": [["str", 0.7099611506289802], ["bool", 0.1024382840261602], ["Sized", 0.09183676359990363]], "dpath": [["str", 0.6000129515934518], ["Dict[int, Any]", 0.11734746198034668], ["dict", 0.1033332257466556]]}}, {"docstring": {"func": "returns cached item  ", "long_descr": null, "ret": null}, "fn_lc": [[81, 0], [92, 14]], "fn_var_ln": {"cache": [[86, 8], [86, 13]], "dpath": [[83, 4], [83, 9]], "inv": [[87, 8], [87, 11]]}, "fn_var_occur": {"cache": [["cache", "open", "join", "dpath"], ["inv", "cache", "read"], ["cache", "close"]], "dpath": [["dpath", "config", "get"], ["cache", "open", "join", "dpath"]], "inv": [["inv", "cache", "read"]]}, "name": "get_cache", "params": {"cache_item": "", "config": ""}, "params_descr": {"cache_item": "", "config": ""}, "params_occur": {"cache_item": [], "config": [["dpath", "config", "get"]]}, "params_p": {"args": [], "cache_item": [["bool", 0.2799288199720326], ["List[Dict[str, Any]]", 0.13878181182925928], ["dict", 0.10840946479928062], ["float", 0.09968654791332802]], "config": [["configparser.ConfigParser", 0.10558474149146732], ["dict", 0.0773119251502232], ["Mapping[str, Any]", 0.07392582038575297]], "kwargs": []}, "q_name": "get_cache", "ret_exprs": ["return inv"], "ret_type": "", "ret_type_p": [["str", 0.19999999999999998], ["bool", 0.09999999999999999]], "variables": {"cache": "", "dpath": "", "inv": ""}, "variables_p": {"cache": [["str", 0.5686237626660839], ["Tuple[List[Any], List[Any], List[Any]]", 0.0987051658860289], ["Dict[str, int]", 0.07648713704453051], ["List[str]", 0.07578685300900759]], "dpath": [["str", 0.6000129515934518], ["Dict[int, Any]", 0.11734746198034668], ["dict", 0.1033332257466556]], "inv": [["str", 0.18069344801214426], ["bool", 0.11577361398841267], ["Type[Dict[Any, Any]]", 0.10799175475920178], ["int", 0.10799175475920178], ["Tuple[Literal, Literal, Literal, Literal, Literal, Literal]", 0.10343555417989185], ["Type[str]", 0.09521936146244757], ["Dict[int, Union[Any, Any, Any, Any, Any, Any]]", 0.09063012314161313], ["Pattern[str]", 0.09027263493788519]]}}, {"docstring": {"func": "checks if we have a 'fresh' cache available for item requested ", "long_descr": null, "ret": null}, "fn_lc": [[94, 0], [111, 16]], "fn_var_ln": {"dpath": [[98, 8], [98, 13]], "existing": [[101, 12], [101, 20]], "maxage": [[107, 12], [107, 18]]}, "fn_var_occur": {"dpath": [["dpath", "config", "get"], ["existing", "os", "stat", "join", "dpath"]], "existing": [["existing", "os", "stat", "join", "dpath"], ["int", "time", "time", "int", "existing", "st_mtime", "int", "maxage"]], "maxage": [["maxage", "config", "get"], ["int", "time", "time", "int", "existing", "st_mtime", "int", "maxage"]]}, "name": "cache_available", "params": {"config": ""}, "params_descr": {"config": ""}, "params_occur": {"config": [["config", "has_option"], ["dpath", "config", "get"], ["config", "has_option"], ["maxage", "config", "get"]]}, "params_p": {"args": [], "config": [["dict", 0.5475076428277652], ["configparser.ConfigParser", 0.13276601902693613], ["Dict[str, Any]", 0.09625505635391224]], "kwargs": []}, "q_name": "cache_available", "ret_exprs": ["return False", "return True", "return False"], "ret_type": "", "ret_type_p": [["bool", 1.0000000000000002]], "variables": {"dpath": "", "existing": "", "maxage": ""}, "variables_p": {"dpath": [["Dict[str, str]", 0.34008864732032085], ["int", 0.10325357133672831], ["str", 0.10118970739576295], ["List[str]", 0.09270081475169256]], "existing": [["str", 0.498523883761566], ["int", 0.33295118954956693]], "maxage": [["str", 0.5095231475375755], ["int", 0.28973224531512287], ["Final", 0.20074460714730144]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[113, 0], [186, 68]], "fn_var_ln": {"enterprise": [[121, 8], [121, 18]], "meta_entity": [[165, 20], [165, 31]], "metadata": [[167, 24], [167, 32]], "vm_metadata": [[171, 28], [171, 39]], "vm_nic": [[144, 22], [144, 28]], "vm_state": [[149, 16], [149, 24]], "vm_template": [[127, 12], [127, 23]], "vm_vapp": [[125, 12], [125, 19]], "vm_vdc": [[126, 12], [126, 18]], "vms": [[123, 8], [123, 11]], "vms_entity": [[122, 8], [122, 18]]}, "fn_var_occur": {"enterprise": [["enterprise", "api_get", "enterprise_entity", "config"], ["vms_entity", "next", "link", "link", "enterprise", "link"]], "meta_entity": [["meta_entity", "next", "link", "link", "vmcollection", "link"], ["metadata", "api_get", "meta_entity", "config"]], "metadata": [["metadata", "api_get", "meta_entity", "config"], ["vm_metadata", "metadata"], ["vm_metadata", "metadata"]], "vm_metadata": [["vm_metadata", "metadata"], ["vm_metadata", "metadata"], ["inventory", "vm_nic", "vm_metadata"]], "vm_nic": [["vm_nic", "link"], ["vm_nic", "None"], ["vm_nic", "link"], ["vm_nic", "None"], ["vm_nic", "None", "vm_state"], ["inventory", "vm_nic", "vm_metadata"], ["inventory", "vmcollection", "append", "vm_nic"]], "vm_state": [["vm_state", "True"], ["vm_state", "False"], ["vm_nic", "None", "vm_state"]], "vm_template": [["vm_template", "next", "link", "link", "vmcollection", "link", "replace", "replace", "replace"], ["vm_template", "inventory", "keys"], ["inventory", "vm_template"], ["inventory", "vm_template"], ["inventory", "vm_template"], ["inventory", "vm_template", "append", "vmcollection"]], "vm_vapp": [["vm_vapp", "next", "link", "link", "vmcollection", "link", "replace", "replace", "replace"], ["vm_vapp", "inventory", "keys"], ["inventory", "vm_vapp"], ["inventory", "vm_vapp"], ["inventory", "vm_vapp"], ["inventory", "vm_vapp", "append", "vmcollection"]], "vm_vdc": [["vm_vdc", "next", "link", "link", "vmcollection", "link", "replace", "replace", "replace"], ["vm_vdc", "inventory", "keys"], ["inventory", "vm_vdc"], ["inventory", "vm_vdc"], ["inventory", "vm_vdc"], ["inventory", "vm_vdc", "append", "vmcollection"]], "vms": [["vms", "api_get", "vms_entity", "config"]], "vms_entity": [["vms_entity", "next", "link", "link", "enterprise", "link"], ["vms", "api_get", "vms_entity", "config"]]}, "name": "generate_inv_from_api", "params": {"config": "", "enterprise_entity": ""}, "params_descr": {"config": "", "enterprise_entity": ""}, "params_occur": {"config": [["enterprise", "api_get", "enterprise_entity", "config"], ["vms", "api_get", "vms_entity", "config"], ["config", "getboolean", "True"], ["link", "config", "get"], ["config", "getboolean", "True", "vmcollection"], ["config", "getboolean", "True"], ["metadata", "api_get", "meta_entity", "config"], ["config", "getfloat"]], "enterprise_entity": [["enterprise", "api_get", "enterprise_entity", "config"]]}, "params_p": {"args": [], "config": [["dict", 0.3271858333285711], ["configparser.ConfigParser", 0.10695180259355214]], "enterprise_entity": [["Callable", 0.1280473318498346], ["str", 0.09174635573848519]], "kwargs": []}, "q_name": "generate_inv_from_api", "ret_exprs": ["return inventory", "return { 'all': {'hosts': []}, '_meta': { 'hostvars': {} } }"], "ret_type": "", "ret_type_p": [["int", 0.21225194502294328], ["List[str]", 0.16853506301225016], ["List[Tuple[str, str]]", 0.10364909496485775]], "variables": {"enterprise": "", "meta_entity": "", "metadata": "", "vm_metadata": "", "vm_nic": "", "vm_state": "", "vm_template": "", "vm_vapp": "", "vm_vdc": "", "vms": "", "vms_entity": ""}, "variables_p": {"enterprise": [["str", 1.7093456999676964e-10]], "meta_entity": [["str", 0.38004121698629084], ["list", 0.1945585242946669], ["List[Union[Any, Any]]", 0.08508005174380841], ["List[Tuple[int, str, str]]", 0.08508005174380841]], "metadata": [["str", 1.7093456999676964e-10]], "vm_metadata": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]], "vm_nic": [["bool", 0.12719113537574656]], "vm_state": [["str", 0.37725587920104564], ["list", 0.10912881488361784], ["List[Optional[int]]", 0.08664505193109288], ["List[int]", 0.08368492773525443]], "vm_template": [["str", 0.39455576447518825]], "vm_vapp": [["Type[str]", 0.0963820812768374]], "vm_vdc": [["Type[str]", 0.0963820812768374]], "vms": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]], "vms_entity": [["str", 0.38004121698629084], ["list", 0.1945585242946669], ["List[Union[Any, Any]]", 0.08508005174380841], ["List[Tuple[int, str, str]]", 0.08508005174380841]]}}, {"docstring": {"func": "Reads the inventory from cache or Abiquo api ", "long_descr": null, "ret": null}, "fn_lc": [[188, 0], [199, 26]], "fn_var_ln": {"default_group": [[194, 8], [194, 21]], "inv": [[196, 8], [196, 11]]}, "fn_var_occur": {"default_group": [["default_group", "os", "path", "basename", "sys", "argv", "rstrip"]], "inv": [["inv", "get_cache", "config"], ["inv", "generate_inv_from_api", "enterprise", "config"], ["save_cache", "inv", "config"], ["json", "dumps", "inv"]]}, "name": "get_inventory", "params": {"config": "", "enterprise": ""}, "params_descr": {"config": "", "enterprise": ""}, "params_occur": {"config": [["cache_available", "config"], ["inv", "get_cache", "config"], ["inv", "generate_inv_from_api", "enterprise", "config"], ["save_cache", "inv", "config"]], "enterprise": [["inv", "generate_inv_from_api", "enterprise", "config"]]}, "params_p": {"args": [], "config": [["str", 0.07875641376273206], ["Dict[str, str]", 0.06723120892125115], ["dict", 0.0602301913330115], ["Mapping", 0.05999849150534158]], "enterprise": [["Callable", 0.18862350170862885], ["Optional[int]", 0.11251800587999973], ["bool", 0.0923584851251724]], "kwargs": []}, "q_name": "get_inventory", "ret_exprs": ["return json.dumps(inv)"], "ret_type": "", "ret_type_p": [["str", 0.19999999999999998], ["bool", 0.09999999999999999]], "variables": {"default_group": "", "inv": ""}, "variables_p": {"default_group": [["str", 0.9010745454682214], ["int", 0.09892545453177858]], "inv": [["str", 0.31173604200955607], ["Dict[str, Union[Any, Any, Any, Any]]", 0.11072043317616895], ["list", 0.09930753413127037], ["float", 0.0882202749344647]]}}], "imports": ["os", "sys", "time", "ConfigParser", "json", "simplejson", "json", "ansible", "module_utils", "urls", "open_url"], "mod_var_ln": {"config": [[206, 4], [206, 10]], "enterprise": [[216, 8], [216, 18]], "inventory": [[221, 8], [221, 17]], "login": [[213, 8], [213, 13]]}, "mod_var_occur": {"config": [["config", "read", "configfilename"], ["login", "api_get", "None", "config"], ["cache_available", "config"], ["inventory", "get_cache", "config"], ["inventory", "get_inventory", "enterprise", "config"]], "enterprise": [["inventory", "get_inventory", "enterprise", "config"]], "inventory": [["sys", "stdout", "write", "str", "inventory"]], "login": [["enterprise", "next", "link", "link", "login", "link"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 45}, "session_id": "fpSQYaqO5UDYp6DpyG4XfrHIP8Px3IGhRrRGc47sVWM", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"config": "", "enterprise": "", "inventory": "", "login": ""}, "variables_p": {"config": [["Dict[str, str]", 0.09240851957041406]], "enterprise": [["str", 0.3136621933786148], ["int", 0.12933773071984764], ["Dict[str, str]", 0.0940237099442585]], "inventory": [["str", 0.2941901934318124], ["int", 0.29318061279595226], ["Optional[str]", 0.10463256443856604]], "login": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]]}}}