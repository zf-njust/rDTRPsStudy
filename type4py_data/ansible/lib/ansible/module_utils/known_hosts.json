{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": "idempotently add a git url hostkey ", "long_descr": null, "ret": null}, "fn_lc": [[44, 0], [60, 164]], "fn_var_ln": {"err": [[56, 29], [56, 32]], "fqdn": [[50, 8], [50, 12]], "known_host": [[53, 12], [53, 22]], "out": [[56, 24], [56, 27]], "rc": [[56, 20], [56, 22]]}, "fn_var_occur": {"err": [["rc", "out", "err", "add_host_key", "module", "fqdn", "create_dir", "create_dir"], ["module", "fail_json", "msg", "fqdn", "out", "err"]], "fqdn": [["fqdn", "get_fqdn", "url"], ["known_host", "check_hostkey", "module", "fqdn"], ["rc", "out", "err", "add_host_key", "module", "fqdn", "create_dir", "create_dir"], ["module", "fail_json", "msg", "fqdn", "out", "err"], ["module", "fail_json", "msg", "fqdn"]], "known_host": [["known_host", "check_hostkey", "module", "fqdn"]], "out": [["rc", "out", "err", "add_host_key", "module", "fqdn", "create_dir", "create_dir"], ["module", "fail_json", "msg", "fqdn", "out", "err"]], "rc": [["rc", "out", "err", "add_host_key", "module", "fqdn", "create_dir", "create_dir"]]}, "name": "add_git_host_key", "params": {"accept_hostkey": "", "create_dir": "", "module": "", "url": ""}, "params_descr": {"accept_hostkey": "", "create_dir": "", "module": "", "url": ""}, "params_occur": {"accept_hostkey": [], "create_dir": [["rc", "out", "err", "add_host_key", "module", "fqdn", "create_dir", "create_dir"]], "module": [["known_host", "check_hostkey", "module", "fqdn"], ["rc", "out", "err", "add_host_key", "module", "fqdn", "create_dir", "create_dir"], ["module", "fail_json", "msg", "fqdn", "out", "err"], ["module", "fail_json", "msg", "fqdn"]], "url": [["is_ssh_url", "url"], ["fqdn", "get_fqdn", "url"]]}, "params_p": {"accept_hostkey": [["bool", 0.714224329063655], ["Sequence[str]", 0.1889632670555927]], "args": [], "create_dir": [["str", 0.2926435904888921], ["Union[bytes, str]", 0.1993726390139678]], "kwargs": [], "module": [["str", 0.19071153258513812], ["Optional[str]", 0.10432230634290576], ["bool", 0.09442306460661785], ["Optional[int]", 0.0900299897491137]], "url": [["str", 0.32464341588093704], ["int", 0.18832857042173803], ["Optional[str]", 0.09665328624609709]]}, "q_name": "add_git_host_key", "ret_exprs": [], "ret_type": "", "variables": {"err": "", "fqdn": "", "known_host": "", "out": "", "rc": ""}, "variables_p": {"err": [["Dict[str, str]", 0.09727876891675577], ["hmac.HMAC", 0.0933122449663992], ["int", 0.09012454655885507], ["str", 0.08983379203871569], ["bytes", 0.08947152563970329]], "fqdn": [["str", 0.10810078174830882]], "known_host": [["str", 0.25669862589001236], ["dict", 0.2212639830113234], ["Type[List[int]]", 0.12645569371164758], ["Optional[Match[str]]", 0.12021980600968822], ["Tuple[Literal, Literal, Literal, Literal]", 0.09499560478284598], ["int", 0.08927871789151424]], "out": [["str", 0.10522128178876458], ["int", 0.10171607683245489], ["Dict[str, str]", 0.09170252586241379], ["bytes", 0.08650384002263875]], "rc": [["bytes", 0.2672569582121172], ["int", 0.09687141372490629]]}}, {"docstring": {"func": "check if url is ssh ", "long_descr": null, "ret": null}, "fn_lc": [[62, 0], [71, 16]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "is_ssh_url", "params": {"url": ""}, "params_descr": {"url": ""}, "params_occur": {"url": [["url", "url"], ["url", "startswith", "scheme"]]}, "params_p": {"args": [], "kwargs": [], "url": [["str", 0.8259101757465401], ["Optional[str]", 0.08557750243943615]]}, "q_name": "is_ssh_url", "ret_exprs": ["return True", "return True", "return False"], "ret_type": "", "ret_type_p": [["bool", 0.9999999999999999]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "chop the hostname out of a url ", "long_descr": null, "ret": null}, "fn_lc": [[73, 0], [101, 17]], "fn_var_ln": {"parts": [[89, 8], [89, 13]], "repo_url": [[80, 8], [80, 16]], "result": [[100, 16], [100, 22]]}, "fn_var_occur": {"parts": [["parts", "urlparse", "urlparse", "repo_url"], ["result", "parts"]], "repo_url": [["repo_url", "repo_url"], ["repo_url", "repo_url", "split"], ["repo_url", "startswith"], ["result", "repo_url", "split"], ["result", "repo_url", "split"], ["result", "repo_url", "split"], ["parts", "urlparse", "urlparse", "repo_url"]], "result": [["result", "None"], ["result", "repo_url", "split"], ["result", "repo_url", "split"], ["result", "repo_url", "split"], ["result", "parts"], ["result", "result", "split"], ["result", "startswith"], ["result", "result", "split"], ["result", "result", "split"]]}, "name": "get_fqdn", "params": {"repo_url": ""}, "params_descr": {"repo_url": ""}, "params_occur": {"repo_url": [["repo_url", "repo_url"], ["repo_url", "repo_url", "split"], ["repo_url", "startswith"], ["result", "repo_url", "split"], ["result", "repo_url", "split"], ["result", "repo_url", "split"], ["parts", "urlparse", "urlparse", "repo_url"]]}, "params_p": {"args": [], "kwargs": [], "repo_url": [["str", 0.8977874921359517]]}, "q_name": "get_fqdn", "ret_exprs": ["return result"], "ret_type": "", "ret_type_p": [["str", 0.41339841090160767], ["bool", 0.1865395009526601], ["dict", 0.10648378024087071], ["set", 0.10317155608727142], ["List[str]", 0.09624893027453736]], "variables": {"parts": "", "repo_url": "", "result": ""}, "variables_p": {"parts": [["str", 0.3277430684179174], ["List[str]", 0.3222130306374582], ["list", 0.18971420487351123], ["Set[str]", 0.07886222696388903]], "repo_url": [["str", 0.7084300410117749]], "result": [["Set[str]", 0.31452513152383427], ["List[Tuple[str, ...]]", 0.28513330441461193], ["Dict[str, Union[dict, str]]", 0.1082849127372317], ["List[Union[Any, Any, Any, Any]]", 0.09623355522941758]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[103, 0], [104, 44]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "check_hostkey", "params": {"fqdn": "", "module": ""}, "params_descr": {"fqdn": "", "module": ""}, "params_occur": {"fqdn": [["not_in_host_file", "module", "fqdn"]], "module": [["not_in_host_file", "module", "fqdn"]]}, "params_p": {"args": [], "fqdn": [["str", 0.6290228340111478]], "kwargs": [], "module": [["str", 0.6290228340111478]]}, "q_name": "check_hostkey", "ret_exprs": ["return not not_in_host_file(module, fqdn)"], "ret_type": "", "ret_type_p": [["int", 0.33895895340439125], ["str", 0.2791361813642261], ["Hashable", 0.09483356503424653]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[109, 0], [159, 15]], "fn_var_ln": {"data": [[136, 12], [136, 16]], "hash": [[147, 20], [147, 24]], "hfiles_not_found": [[124, 4], [124, 20]], "host_fh": [[131, 12], [131, 19]], "host_file_list": [[118, 4], [118, 18]], "kn_host": [[146, 29], [146, 36]], "kn_salt": [[146, 21], [146, 28]], "tokens": [[142, 12], [142, 18]], "user_host_file": [[116, 4], [116, 18]]}, "fn_var_occur": {"data": [["data", "host_fh", "read"], ["data", "split"]], "hash": [["hash", "hmac", "new", "kn_salt", "decode", "digestmod", "sha1"], ["hash", "update", "host"], ["hash", "digest", "kn_host", "decode"]], "hfiles_not_found": [], "host_fh": [["host_fh", "open", "hf"], ["data", "host_fh", "read"], ["host_fh", "close"]], "host_file_list": [["host_file_list", "append", "user_host_file"], ["host_file_list", "append"], ["host_file_list", "append"], ["host_file_list", "append"]], "kn_host": [["kn_salt", "kn_host", "tokens", "len", "HASHED_KEY_MAGIC", "split"], ["hash", "digest", "kn_host", "decode"]], "kn_salt": [["kn_salt", "kn_host", "tokens", "len", "HASHED_KEY_MAGIC", "split"], ["hash", "hmac", "new", "kn_salt", "decode", "digestmod", "sha1"]], "tokens": [["tokens", "line", "split"], ["tokens", "find", "HASHED_KEY_MAGIC"], ["kn_salt", "kn_host", "tokens", "len", "HASHED_KEY_MAGIC", "split"], ["host", "tokens"]], "user_host_file": [["user_host_file", "os", "path", "expandvars"], ["user_host_file", "os", "path", "expanduser", "user_host_file"], ["host_file_list", "append", "user_host_file"]]}, "name": "not_in_host_file", "params": {"host": "", "self": ""}, "params_descr": {"host": "", "self": ""}, "params_occur": {"host": [["hash", "update", "host"], ["host", "tokens"]], "self": []}, "params_p": {"args": [], "host": [["str", 0.5623707235861957], ["int", 0.43762927641380434]], "kwargs": [], "self": [["bool", 0.16832440530118006], ["str", 0.0953916114703526], ["Type[OrderedDict]", 0.08754566519195914]]}, "q_name": "not_in_host_file", "ret_exprs": ["return False", "return False", "return True"], "ret_type": "", "ret_type_p": [["bool", 0.9999999999999999]], "variables": {"data": "", "hash": "", "hfiles_not_found": "", "host_fh": "", "host_file_list": "", "kn_host": "", "kn_salt": "", "tokens": "", "user_host_file": ""}, "variables_p": {"data": [["Dict[str, str]", 0.19039564231659228], ["bytes", 0.14068625064603474], ["str", 0.10307422307501352], ["int", 0.09826505770002161], ["OrderedDict[str, int]", 0.0935743064707858], ["List[Dict[str, str]]", 0.08792692751355169], ["List[str]", 0.08792692751355169], ["bool", 0.07954245341735804]], "hash": [["hashlib._Hash", 0.3712542576679644], ["List[Tuple[Any, Any, Any]]", 0.13752894402516083], ["Dict[str, Union[int, str]]", 0.11004246108829255]], "hfiles_not_found": [["int", 0.5], ["str", 0.5]], "host_fh": [["Type[str]", 0.21973046261549578], ["int", 0.16061601855297913], ["TextIO", 0.15877718047502268], ["Tuple[int, int, int]", 0.15290692264446046]], "host_file_list": [["List[str]", 0.5329256019210195], ["list", 0.1659064004508388]], "kn_host": [["bool", 0.1735110697932352], ["int", 0.1709944230283798], ["DefaultDict[Any, DefaultDict[Any, Any]]", 0.11281392910330701], ["Dict[str, Union[int, str]]", 0.11167453168855383], ["set", 0.10642548792642843], ["str", 0.08830594522796388], ["Set[str]", 0.08283368685898031], ["List[str]", 0.0767459644331227]], "kn_salt": [["int", 0.16822441311497127], ["str", 0.15673699777918737], ["bool", 0.14987807324075045], ["set", 0.12012842074847163], ["Dict[str, Union[int, str]]", 0.11979339253180873], ["DefaultDict[Any, DefaultDict[Any, Any]]", 0.09890674685440837], ["Set[str]", 0.08671430730181272]], "tokens": [["str", 0.7103643610518485], ["Dict[str, List[str]]", 0.09007425245548191]], "user_host_file": [["str", 0.9057320600912611]]}}, {"docstring": {"func": "use ssh-keyscan to add the hostkey ", "long_descr": null, "ret": null}, "fn_lc": [[162, 0], [192, 23]], "fn_var_ln": {"err": [[189, 13], [189, 16]], "keyscan_cmd": [[166, 4], [166, 15]], "out": [[189, 8], [189, 11]], "rc": [[189, 4], [189, 6]], "this_cmd": [[187, 4], [187, 12]], "user_host_file": [[173, 8], [173, 22]], "user_ssh_dir": [[174, 4], [174, 16]]}, "fn_var_occur": {"err": [["rc", "out", "err", "module", "run_command", "this_cmd"], ["rc", "out", "err"]], "keyscan_cmd": [["keyscan_cmd", "module", "get_bin_path", "True"], ["this_cmd", "keyscan_cmd", "key_type", "fqdn"]], "out": [["rc", "out", "err", "module", "run_command", "this_cmd"], ["module", "append_to_file", "user_host_file", "out"], ["rc", "out", "err"]], "rc": [["rc", "out", "err", "module", "run_command", "this_cmd"], ["rc", "out", "err"]], "this_cmd": [["this_cmd", "keyscan_cmd", "key_type", "fqdn"], ["rc", "out", "err", "module", "run_command", "this_cmd"]], "user_host_file": [["user_host_file", "os", "path", "expandvars"], ["module", "append_to_file", "user_host_file", "out"]], "user_ssh_dir": [["user_ssh_dir", "os", "path", "expandvars"], ["user_ssh_dir", "os", "path", "expanduser", "user_ssh_dir"], ["os", "path", "exists", "user_ssh_dir"], ["os", "makedirs", "user_ssh_dir", "int"], ["module", "fail_json", "msg", "user_ssh_dir"], ["module", "fail_json", "msg", "user_ssh_dir"], ["os", "path", "isdir", "user_ssh_dir"], ["module", "fail_json", "msg", "user_ssh_dir"]]}, "name": "add_host_key", "params": {"create_dir": "", "fqdn": "", "key_type": "", "module": ""}, "params_descr": {"create_dir": "", "fqdn": "", "key_type": "", "module": ""}, "params_occur": {"create_dir": [], "fqdn": [["this_cmd", "keyscan_cmd", "key_type", "fqdn"]], "key_type": [["this_cmd", "keyscan_cmd", "key_type", "fqdn"]], "module": [["keyscan_cmd", "module", "get_bin_path", "True"], ["module", "fail_json", "msg", "user_ssh_dir"], ["module", "fail_json", "msg", "user_ssh_dir"], ["module", "fail_json", "msg", "user_ssh_dir"], ["rc", "out", "err", "module", "run_command", "this_cmd"], ["module", "append_to_file", "user_host_file", "out"]]}, "params_p": {"args": [], "create_dir": [["str", 0.2226212323016106], ["Optional[str]", 0.16887615287944013], ["List[str]", 0.14506100480738085], ["bool", 0.07835281383102136]], "fqdn": [["str", 0.611381025383188], ["int", 0.174575866158784], ["bool", 0.0889772208007437]], "key_type": [["str", 0.611381025383188], ["int", 0.174575866158784], ["bool", 0.0889772208007437]], "kwargs": [], "module": [["str", 0.5859060518365697], ["int", 0.11749224453375247], ["List[str]", 0.0986837866464489]]}, "q_name": "add_host_key", "ret_exprs": ["return rc, out, err"], "ret_type": "", "ret_type_p": [["str", 0.8209143054465953], ["bytes", 0.17908569455340456]], "variables": {"err": "", "keyscan_cmd": "", "out": "", "rc": "", "this_cmd": "", "user_host_file": "", "user_ssh_dir": ""}, "variables_p": {"err": [["str", 0.9999999999999998]], "keyscan_cmd": [["str", 0.27937250570731054], ["Optional[str]", 0.2677269020015454], ["List[str]", 0.08727730947816936], ["Set[str]", 0.06771542581234336]], "out": [["str", 0.20328827931052212], ["Tuple[str, str, str]", 0.1086377995120973]], "rc": [["str", 0.9999999999999998]], "this_cmd": [["str", 0.9200017195031301], ["Dict[str, List[str]]", 0.07999828049687005]], "user_host_file": [["str", 0.5388533668382326], ["dict", 0.09206679769717997]], "user_ssh_dir": [["str", 0.9999999999999998]]}}], "imports": ["os", "hmac", "urlparse", "urllib.parse", "urlparse", "hashlib", "sha1", "sha", "sha1"], "mod_var_ln": {"HASHED_KEY_MAGIC": [[42, 0], [42, 16]]}, "mod_var_occur": {"HASHED_KEY_MAGIC": [["tokens", "find", "HASHED_KEY_MAGIC"], ["kn_salt", "kn_host", "tokens", "len", "HASHED_KEY_MAGIC", "split"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 43}, "session_id": "C8KPsU3MrTcKx0fvjENvEMt8Rd6npkhow57tjHlqbaM", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"HASHED_KEY_MAGIC": ""}, "variables_p": {"HASHED_KEY_MAGIC": [["Iterator[Any]", 0.1651101647800542], ["bytes", 0.10822962328312109], ["List[str]", 0.09627376283080065], ["str", 0.08334159559940567], ["int", 0.07512240179727987]]}}}