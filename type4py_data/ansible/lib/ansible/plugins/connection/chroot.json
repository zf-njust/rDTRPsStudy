{"error": null, "response": {"classes": [{"cls_lc": [[43, 0], [175, 31]], "cls_var_ln": {"become_methods": [[51, 4], [51, 18]], "has_pipelining": [[47, 4], [47, 18]], "transport": [[46, 4], [46, 13]]}, "cls_var_occur": {"become_methods": [], "has_pipelining": [], "transport": []}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[53, 4], [76, 66]], "fn_var_ln": {"chroot": [[56, 8], [56, 19]], "chroot_cmd": [[74, 8], [74, 23]], "chrootsh": [[66, 8], [66, 16]]}, "fn_var_occur": {"chroot": [["self", "chroot", "self", "_play_context", "remote_addr"], ["os", "path", "isdir", "self", "chroot"], ["AnsibleError", "self", "chroot"], ["chrootsh", "os", "path", "join", "self", "chroot"], ["AnsibleError", "self", "chroot"]], "chroot_cmd": [["self", "chroot_cmd", "distutils", "spawn", "find_executable"], ["self", "chroot_cmd"]], "chrootsh": [["chrootsh", "os", "path", "join", "self", "chroot"], ["is_executable", "chrootsh", "os", "path", "lexists", "chrootsh", "os", "path", "islink", "chrootsh"]]}, "name": "__init__", "params": {"args": "", "kwargs": "", "new_stdin": "", "play_context": "", "self": ""}, "params_descr": {"args": "", "kwargs": "", "new_stdin": "", "play_context": "", "self": ""}, "params_occur": {"args": [["super", "Connection", "self", "__init__", "play_context", "new_stdin", "args", "kwargs"]], "kwargs": [["super", "Connection", "self", "__init__", "play_context", "new_stdin", "args", "kwargs"]], "new_stdin": [["super", "Connection", "self", "__init__", "play_context", "new_stdin", "args", "kwargs"]], "play_context": [["super", "Connection", "self", "__init__", "play_context", "new_stdin", "args", "kwargs"]], "self": [["super", "Connection", "self", "__init__", "play_context", "new_stdin", "args", "kwargs"], ["self", "chroot", "self", "_play_context", "remote_addr"], ["os", "path", "isdir", "self", "chroot"], ["AnsibleError", "self", "chroot"], ["chrootsh", "os", "path", "join", "self", "chroot"], ["AnsibleError", "self", "chroot"], ["self", "chroot_cmd", "distutils", "spawn", "find_executable"], ["self", "chroot_cmd"]]}, "params_p": {"args": [], "kwargs": [], "new_stdin": [["str", 0.40023945778212655], ["List[str]", 0.1129731270322296], ["dict", 0.1097877189776198], ["Type", 0.09459394715561582], ["Mapping", 0.08754084016118537]], "play_context": [["str", 0.40023945778212655], ["List[str]", 0.1129731270322296], ["dict", 0.1097877189776198], ["Type", 0.09459394715561582], ["Mapping", 0.08754084016118537]], "self": []}, "q_name": "Connection.__init__", "ret_exprs": [], "ret_type": "", "variables": {"chroot": "", "chroot_cmd": "", "chrootsh": ""}, "variables_p": {"chroot": [["str", 0.9020193474664087], ["TextIO", 0.09798065253359155]], "chroot_cmd": [["int", 0.2997616905127477], ["Dict[str, str]", 0.2997616905127477], ["str", 0.1998411270084985]], "chrootsh": [["str", 1.0000000000000002]]}}, {"docstring": {"func": "connect to the chroot; nothing to do here ", "long_descr": null, "ret": null}, "fn_lc": [[78, 4], [83, 34]], "fn_var_ln": {"_connected": [[83, 12], [83, 27]]}, "fn_var_occur": {"_connected": [["self", "_connected"], ["self", "_connected", "True"]]}, "name": "_connect", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["super", "Connection", "self", "_connect"], ["self", "_connected"], ["display", "vvv", "host", "self", "chroot"], ["self", "_connected", "True"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "Connection._connect", "ret_exprs": [], "ret_type": "", "variables": {"_connected": ""}, "variables_p": {"_connected": [["Type[str]", 0.38811083392145734], ["str", 0.18381092860989895], ["List[str]", 0.09605156895167588], ["float", 0.08994759178906274]]}}, {"docstring": {"func": "run a command on the chroot.  This is only needed for implementing", "long_descr": "put_file() get_file() so that we don't have to read the whole file\ninto memory.\n\ncompared to exec_command() it looses some niceties like being able to\nreturn the process's exit code immediately.", "ret": null}, "fn_lc": [[85, 4], [101, 16]], "fn_var_ln": {"executable": [[93, 8], [93, 18]], "local_cmd": [[97, 8], [97, 17]], "p": [[98, 8], [98, 9]]}, "fn_var_occur": {"executable": [["executable", "C", "DEFAULT_EXECUTABLE", "split", "C", "DEFAULT_EXECUTABLE"], ["local_cmd", "self", "chroot_cmd", "self", "chroot", "executable", "cmd"]], "local_cmd": [["local_cmd", "self", "chroot_cmd", "self", "chroot", "executable", "cmd"], ["display", "vvv", "local_cmd", "host", "self", "chroot"], ["local_cmd", "to_bytes", "i", "errors", "i", "local_cmd"], ["p", "subprocess", "Popen", "local_cmd", "shell", "False", "stdin", "stdin", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"]], "p": [["p", "subprocess", "Popen", "local_cmd", "shell", "False", "stdin", "stdin", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"]]}, "name": "_buffered_exec_command", "params": {"cmd": "", "self": "", "stdin": ""}, "params_descr": {"cmd": "", "self": "", "stdin": ""}, "params_occur": {"cmd": [["local_cmd", "self", "chroot_cmd", "self", "chroot", "executable", "cmd"]], "self": [["local_cmd", "self", "chroot_cmd", "self", "chroot", "executable", "cmd"], ["display", "vvv", "local_cmd", "host", "self", "chroot"]], "stdin": [["p", "subprocess", "Popen", "local_cmd", "shell", "False", "stdin", "stdin", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"]]}, "params_p": {"args": [], "cmd": [["int", 0.19291822617890178], ["str", 0.09645911308945089], ["Callable", 0.09645911308945089]], "kwargs": [], "self": [], "stdin": [["str", 0.9234491996950382], ["List[str]", 0.07655080030496172]]}, "q_name": "Connection._buffered_exec_command", "ret_exprs": ["return p"], "ret_type": "", "ret_type_p": [["int", 0.19291822617890178], ["str", 0.09645911308945089], ["Callable", 0.09645911308945089]], "variables": {"executable": "", "local_cmd": "", "p": ""}, "variables_p": {"executable": [["str", 0.49821846183486795], ["Dict[str, int]", 0.0997480110870173]], "local_cmd": [["int", 0.3283301276924626], ["bytes", 0.22152837096164196], ["list", 0.09342028105817395], ["str", 0.08858148910954942], ["Any[Any]", 0.0852869395278386]], "p": [["str", 0.6110738750666437], ["subprocess.Popen", 0.06966451551113483], ["subprocess.CompletedProcess[bytes]", 0.06709065725904595], ["subprocess.CompletedProcess[str]", 0.06661283973169671]]}}, {"docstring": {"func": "run a command on the chroot ", "long_descr": null, "ret": null}, "fn_lc": [[103, 4], [110, 45]], "fn_var_ln": {"p": [[107, 8], [107, 9]], "stderr": [[109, 16], [109, 22]], "stdout": [[109, 8], [109, 14]]}, "fn_var_occur": {"p": [["p", "self", "_buffered_exec_command", "cmd"], ["stdout", "stderr", "p", "communicate", "in_data"], ["p", "returncode", "stdout", "stderr"]], "stderr": [["stdout", "stderr", "p", "communicate", "in_data"], ["p", "returncode", "stdout", "stderr"]], "stdout": [["stdout", "stderr", "p", "communicate", "in_data"], ["p", "returncode", "stdout", "stderr"]]}, "name": "exec_command", "params": {"cmd": "", "in_data": "", "self": "", "sudoable": ""}, "params_descr": {"cmd": "", "in_data": "", "self": "", "sudoable": ""}, "params_occur": {"cmd": [["super", "Connection", "self", "exec_command", "cmd", "in_data", "in_data", "sudoable", "sudoable"], ["p", "self", "_buffered_exec_command", "cmd"]], "in_data": [["super", "Connection", "self", "exec_command", "cmd", "in_data", "in_data", "sudoable", "sudoable"], ["stdout", "stderr", "p", "communicate", "in_data"]], "self": [["super", "Connection", "self", "exec_command", "cmd", "in_data", "in_data", "sudoable", "sudoable"], ["p", "self", "_buffered_exec_command", "cmd"]], "sudoable": [["super", "Connection", "self", "exec_command", "cmd", "in_data", "in_data", "sudoable", "sudoable"]]}, "params_p": {"args": [], "cmd": [["bytes", 0.21069720624922036], ["str", 0.0989247830280784], ["Optional[Exception]", 0.09639684859129566]], "in_data": [["Optional[Exception]", 0.3547563482152435], ["int", 0.10730527874063868]], "kwargs": [], "self": [], "sudoable": [["str", 0.10314724964076187], ["raiden.utils.Dict[str, raiden.utils.Any]", 0.09934087428837382], ["bytes", 0.09588697711638249]]}, "q_name": "Connection.exec_command", "ret_exprs": ["return (p.returncode, stdout, stderr)"], "ret_type": "", "ret_type_p": [["list", 4.879718773741805e-08], ["int", 8.069924880878987e-10], ["str", 8.069924880878987e-10]], "variables": {"p": "", "stderr": "", "stdout": ""}, "variables_p": {"p": [["list", 0.0796964523372332], ["dict", 0.07832404895932304]], "stderr": [["List[List[str]]", 0.17083328781288226], ["Dict[str, Any]", 0.09351843401890199]], "stdout": [["List[List[str]]", 0.17083328781288226], ["Dict[str, Any]", 0.09351843401890199]]}}, {"docstring": {"func": "Make sure that we put files into a standard path", "long_descr": "If a path is relative, then we need to choose where to put it.\nssh chooses $HOME but we aren't guaranteed that a home dir will\nexist in any given chroot.  So for now we're choosing \"/\" instead.\nThis also happens to be the former default.\n\nCan revisit using $HOME instead if it's a problem", "ret": null}, "fn_lc": [[112, 4], [124, 44]], "fn_var_ln": {"remote_path": [[123, 12], [123, 23]]}, "fn_var_occur": {"remote_path": [["remote_path", "startswith", "os", "path", "sep"], ["remote_path", "os", "path", "join", "os", "path", "sep", "remote_path"], ["os", "path", "normpath", "remote_path"]]}, "name": "_prefix_login_path", "params": {"remote_path": "", "self": ""}, "params_descr": {"remote_path": "", "self": ""}, "params_occur": {"remote_path": [["remote_path", "startswith", "os", "path", "sep"], ["remote_path", "os", "path", "join", "os", "path", "sep", "remote_path"], ["os", "path", "normpath", "remote_path"]], "self": []}, "params_p": {"args": [], "kwargs": [], "remote_path": [["str", 0.9108834697396023], ["List[str]", 0.08911653026039763]], "self": []}, "q_name": "Connection._prefix_login_path", "ret_exprs": ["return os.path.normpath(remote_path)"], "ret_type": "", "ret_type_p": [["str", 0.8029133878980433], ["bool", 0.1970866121019567]], "variables": {"remote_path": ""}, "variables_p": {"remote_path": [["str", 1.0000000000000002]]}}, {"docstring": {"func": "transfer a file from local to chroot ", "long_descr": null, "ret": null}, "fn_lc": [[126, 4], [146, 80]], "fn_var_ln": {"out_path": [[131, 8], [131, 16]], "p": [[135, 20], [135, 21]], "stderr": [[139, 28], [139, 34]], "stdout": [[139, 20], [139, 26]]}, "fn_var_occur": {"out_path": [["super", "Connection", "self", "put_file", "in_path", "out_path"], ["display", "vvv", "in_path", "out_path", "host", "self", "chroot"], ["out_path", "pipes", "quote", "self", "_prefix_login_path", "out_path"], ["p", "self", "_buffered_exec_command", "out_path", "BUFSIZE", "stdin", "in_file"], ["AnsibleError", "in_path", "out_path"], ["AnsibleError", "in_path", "out_path", "stdout", "stderr"]], "p": [["p", "self", "_buffered_exec_command", "out_path", "BUFSIZE", "stdin", "in_file"], ["stdout", "stderr", "p", "communicate"], ["p", "returncode"]], "stderr": [["stdout", "stderr", "p", "communicate"], ["AnsibleError", "in_path", "out_path", "stdout", "stderr"]], "stdout": [["stdout", "stderr", "p", "communicate"], ["AnsibleError", "in_path", "out_path", "stdout", "stderr"]]}, "name": "put_file", "params": {"in_path": "", "out_path": "", "self": ""}, "params_descr": {"in_path": "", "out_path": "", "self": ""}, "params_occur": {"in_path": [["super", "Connection", "self", "put_file", "in_path", "out_path"], ["display", "vvv", "in_path", "out_path", "host", "self", "chroot"], ["open", "to_bytes", "in_path", "errors", "in_file"], ["AnsibleError", "in_path", "out_path"], ["AnsibleError", "in_path", "out_path", "stdout", "stderr"], ["AnsibleError", "in_path"]], "out_path": [["super", "Connection", "self", "put_file", "in_path", "out_path"], ["display", "vvv", "in_path", "out_path", "host", "self", "chroot"], ["out_path", "pipes", "quote", "self", "_prefix_login_path", "out_path"], ["p", "self", "_buffered_exec_command", "out_path", "BUFSIZE", "stdin", "in_file"], ["AnsibleError", "in_path", "out_path"], ["AnsibleError", "in_path", "out_path", "stdout", "stderr"]], "self": [["super", "Connection", "self", "put_file", "in_path", "out_path"], ["display", "vvv", "in_path", "out_path", "host", "self", "chroot"], ["out_path", "pipes", "quote", "self", "_prefix_login_path", "out_path"], ["p", "self", "_buffered_exec_command", "out_path", "BUFSIZE", "stdin", "in_file"]]}, "params_p": {"args": [], "in_path": [], "kwargs": [], "out_path": [], "self": []}, "q_name": "Connection.put_file", "ret_exprs": [], "ret_type": "", "variables": {"out_path": "", "p": "", "stderr": "", "stdout": ""}, "variables_p": {"out_path": [["str", 0.6173038464317404]], "p": [["str", 0.8983439189840642]], "stderr": [["str", 0.27033010465866286], ["List[str]", 0.1956403371155842], ["list", 0.1919918116636669], ["int", 0.09677368961018865]], "stdout": [["str", 0.27033010465866286], ["List[str]", 0.1956403371155842], ["list", 0.1919918116636669], ["int", 0.09677368961018865]]}}, {"docstring": {"func": "fetch a file from chroot to local ", "long_descr": null, "ret": null}, "fn_lc": [[148, 4], [170, 117]], "fn_var_ln": {"chunk": [[164, 20], [164, 25]], "in_path": [[153, 8], [153, 15]], "p": [[155, 12], [155, 13]], "stderr": [[168, 20], [168, 26]], "stdout": [[168, 12], [168, 18]]}, "fn_var_occur": {"chunk": [["chunk", "p", "stdout", "read", "BUFSIZE"], ["out_file", "write", "chunk"], ["chunk", "p", "stdout", "read", "BUFSIZE"]], "in_path": [["super", "Connection", "self", "fetch_file", "in_path", "out_path"], ["display", "vvv", "in_path", "out_path", "host", "self", "chroot"], ["in_path", "pipes", "quote", "self", "_prefix_login_path", "in_path"], ["p", "self", "_buffered_exec_command", "in_path", "BUFSIZE"], ["AnsibleError", "in_path", "out_path"], ["AnsibleError", "in_path", "out_path", "stdout", "stderr"]], "p": [["p", "self", "_buffered_exec_command", "in_path", "BUFSIZE"], ["chunk", "p", "stdout", "read", "BUFSIZE"], ["chunk", "p", "stdout", "read", "BUFSIZE"], ["stdout", "stderr", "p", "communicate"], ["p", "returncode"]], "stderr": [["stdout", "stderr", "p", "communicate"], ["AnsibleError", "in_path", "out_path", "stdout", "stderr"]], "stdout": [["chunk", "p", "stdout", "read", "BUFSIZE"], ["chunk", "p", "stdout", "read", "BUFSIZE"], ["stdout", "stderr", "p", "communicate"], ["AnsibleError", "in_path", "out_path", "stdout", "stderr"]]}, "name": "fetch_file", "params": {"in_path": "", "out_path": "", "self": ""}, "params_descr": {"in_path": "", "out_path": "", "self": ""}, "params_occur": {"in_path": [["super", "Connection", "self", "fetch_file", "in_path", "out_path"], ["display", "vvv", "in_path", "out_path", "host", "self", "chroot"], ["in_path", "pipes", "quote", "self", "_prefix_login_path", "in_path"], ["p", "self", "_buffered_exec_command", "in_path", "BUFSIZE"], ["AnsibleError", "in_path", "out_path"], ["AnsibleError", "in_path", "out_path", "stdout", "stderr"]], "out_path": [["super", "Connection", "self", "fetch_file", "in_path", "out_path"], ["display", "vvv", "in_path", "out_path", "host", "self", "chroot"], ["open", "to_bytes", "out_path", "errors", "out_file"], ["AnsibleError", "in_path", "out_path"], ["AnsibleError", "in_path", "out_path", "stdout", "stderr"]], "self": [["super", "Connection", "self", "fetch_file", "in_path", "out_path"], ["display", "vvv", "in_path", "out_path", "host", "self", "chroot"], ["in_path", "pipes", "quote", "self", "_prefix_login_path", "in_path"], ["p", "self", "_buffered_exec_command", "in_path", "BUFSIZE"]]}, "params_p": {"args": [], "in_path": [["list", 0.08629828868347426]], "kwargs": [], "out_path": [], "self": []}, "q_name": "Connection.fetch_file", "ret_exprs": [], "ret_type": "", "variables": {"chunk": "", "in_path": "", "p": "", "stderr": "", "stdout": ""}, "variables_p": {"chunk": [["str", 0.8428699389930341]], "in_path": [["str", 0.6945882950558674]], "p": [], "stderr": [["str", 0.27033010465866286], ["List[str]", 0.1956403371155842], ["list", 0.1919918116636669], ["int", 0.09677368961018865]], "stdout": [["str", 0.4035932023728252], ["Dict[str, str]", 0.09767042923917327]]}}, {"docstring": {"func": "terminate the connection; nothing to do here ", "long_descr": null, "ret": null}, "fn_lc": [[172, 4], [175, 31]], "fn_var_ln": {"_connected": [[175, 8], [175, 23]]}, "fn_var_occur": {"_connected": [["self", "_connected", "False"]]}, "name": "close", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["super", "Connection", "self", "close"], ["self", "_connected", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "Connection.close", "ret_exprs": [], "ret_type": "", "variables": {"_connected": ""}, "variables_p": {"_connected": [["int", 0.6258564750569569], ["float", 0.1953714877468058]]}}], "name": "Connection", "q_name": "Connection", "variables": {"become_methods": "", "has_pipelining": "", "transport": ""}, "variables_p": {"become_methods": [["List[str]", 0.19999999999999998], ["int", 0.09999999999999999], ["Final", 0.09999999999999999], ["Tuple[str, str, str, str]", 0.09999999999999999], ["Dict[str, str]", 0.09999999999999999], ["Tuple[str]", 0.09999999999999999], ["staticmethod", 0.09999999999999999], ["FrozenSet[str]", 0.09999999999999999]], "has_pipelining": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "transport": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}], "funcs": [], "imports": ["__future__", "absolute_import", "division", "print_function", "distutils.spawn", "os", "os.path", "pipes", "subprocess", "traceback", "ansible", "constants", "C", "ansible", "errors", "AnsibleError", "ansible", "module_utils", "basic", "is_executable", "ansible", "module_utils", "_text", "to_bytes", "ansible", "plugins", "connection", "ConnectionBase", "BUFSIZE", "__main__", "display", "ansible", "utils", "display", "Display"], "mod_var_ln": {"__metaclass__": [[20, 0], [20, 13]], "display": [[40, 4], [40, 11]]}, "mod_var_occur": {"__metaclass__": [], "display": [["display", "vvv", "host", "self", "chroot"], ["display", "vvv", "local_cmd", "host", "self", "chroot"], ["display", "vvv", "in_path", "out_path", "host", "self", "chroot"], ["display", "vvv", "in_path", "out_path", "host", "self", "chroot"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 45}, "session_id": "SVYkzcrvXGxX72xOlPE91DzJvL-8EhupENSzxVVB2Ww", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"__metaclass__": "", "display": ""}, "variables_p": {"__metaclass__": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "display": [["str", 0.733103127824516], ["List[str]", 0.09104988253590166]]}}}