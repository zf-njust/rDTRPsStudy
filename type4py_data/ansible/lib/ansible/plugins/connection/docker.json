{"error": null, "response": {"classes": [{"cls_lc": [[49, 0], [274, 31]], "cls_var_ln": {"become_methods": [[57, 4], [57, 18]], "has_pipelining": [[53, 4], [53, 18]], "transport": [[52, 4], [52, 13]]}, "cls_var_occur": {"become_methods": [], "has_pipelining": [], "transport": []}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[59, 4], [102, 61]], "fn_var_ln": {"actual_user": [[102, 12], [102, 28]], "docker_cmd": [[74, 12], [74, 27]], "docker_version": [[78, 8], [78, 22]], "remote_user": [[90, 16], [90, 32]]}, "fn_var_occur": {"actual_user": [["self", "actual_user", "None"], ["self", "actual_user", "self", "remote_user"], ["self", "actual_user", "self", "_get_docker_remote_user"], ["self", "actual_user", "self", "_play_context", "remote_user"], ["display", "warning", "format", "docker_version", "self", "actual_user"], ["self", "actual_user", "self", "_get_docker_remote_user"]], "docker_cmd": [["self", "docker_cmd", "kwargs"], ["self", "docker_cmd", "distutils", "spawn", "find_executable"], ["self", "docker_cmd"]], "docker_version": [["docker_version", "self", "_get_docker_version"], ["LooseVersion", "docker_version", "LooseVersion"], ["LooseVersion", "docker_version", "LooseVersion"], ["display", "warning", "format", "docker_version", "self", "actual_user"]], "remote_user": [["self", "remote_user", "None"], ["self", "_play_context", "remote_user", "None"], ["self", "remote_user", "self", "_play_context", "remote_user"], ["self", "actual_user", "self", "remote_user"], ["self", "actual_user", "self", "_play_context", "remote_user"]]}, "name": "__init__", "params": {"args": "", "kwargs": "", "new_stdin": "", "play_context": "", "self": ""}, "params_descr": {"args": "", "kwargs": "", "new_stdin": "", "play_context": "", "self": ""}, "params_occur": {"args": [["super", "Connection", "self", "__init__", "play_context", "new_stdin", "args", "kwargs"]], "kwargs": [["super", "Connection", "self", "__init__", "play_context", "new_stdin", "args", "kwargs"], ["self", "docker_cmd", "kwargs"]], "new_stdin": [["super", "Connection", "self", "__init__", "play_context", "new_stdin", "args", "kwargs"]], "play_context": [["super", "Connection", "self", "__init__", "play_context", "new_stdin", "args", "kwargs"]], "self": [["super", "Connection", "self", "__init__", "play_context", "new_stdin", "args", "kwargs"], ["self", "docker_cmd", "kwargs"], ["self", "docker_cmd", "distutils", "spawn", "find_executable"], ["self", "docker_cmd"], ["docker_version", "self", "_get_docker_version"], ["self", "remote_user", "None"], ["self", "actual_user", "None"], ["self", "_play_context", "remote_user", "None"], ["self", "remote_user", "self", "_play_context", "remote_user"], ["self", "actual_user", "self", "remote_user"], ["self", "actual_user", "self", "_get_docker_remote_user"], ["self", "actual_user", "self", "_play_context", "remote_user"], ["display", "warning", "format", "docker_version", "self", "actual_user"], ["self", "_display", "verbosity"], ["self", "actual_user", "self", "_get_docker_remote_user"]]}, "params_p": {"args": [], "kwargs": [], "new_stdin": [["str", 0.40023945778212655], ["List[str]", 0.1129731270322296], ["dict", 0.1097877189776198], ["Type", 0.09459394715561582], ["Mapping", 0.08754084016118537]], "play_context": [["str", 0.40023945778212655], ["List[str]", 0.1129731270322296], ["dict", 0.1097877189776198], ["Type", 0.09459394715561582], ["Mapping", 0.08754084016118537]], "self": []}, "q_name": "Connection.__init__", "ret_exprs": [], "ret_type": "", "variables": {"actual_user": "", "docker_cmd": "", "docker_version": "", "remote_user": ""}, "variables_p": {"actual_user": [["str", 0.42728758385720284], ["int", 0.1147757239500782], ["Counter[Any]", 0.10705254572723255], ["List[Tuple[str, str]]", 0.0911252419946101], ["float", 0.08969703634036649], ["Tuple[str, str, str, str, str, str, str, str]", 0.08561599601091457]], "docker_cmd": [["pydiggy.connection.PyDiggyClient", 0.1072224595686315]], "docker_version": [["str", 0.915143144497601]], "remote_user": [["str", 0.29416913109323023], ["List[Union[Any, Any]]", 0.12515611450745848], ["Optional[int]", 0.096147155246951], ["List[None]", 0.09066293541783549], ["float", 0.08957890396645848]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[105, 4], [106, 52]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_sanitize_version", "params": {"version": ""}, "params_descr": {"version": ""}, "params_occur": {"version": [["re", "sub", "version"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "version": [["str", 0.387407785796915], ["int", 0.1532163598166049]]}, "q_name": "Connection._sanitize_version", "ret_exprs": ["return re.sub('[^0-9a-zA-Z.]', '', version)"], "ret_type": "", "ret_type_p": [["str", 0.5949506517433512], ["Dict[str, int]", 0.0987398815719391], ["Union[str, bytes]", 0.08477083402812802]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[108, 4], [119, 60]], "fn_var_ln": {"cmd_args": [[109, 8], [109, 16]], "cmd_output": [[117, 8], [117, 18]], "err": [[117, 20], [117, 23]], "old_docker_cmd": [[115, 8], [115, 22]], "old_version_subcommand": [[113, 8], [113, 30]], "p": [[116, 8], [116, 9]]}, "fn_var_occur": {"cmd_args": [["cmd_args", "self", "_play_context", "docker_extra_args", "split"], ["old_docker_cmd", "self", "docker_cmd", "cmd_args", "old_version_subcommand"]], "cmd_output": [["cmd_output", "err", "p", "communicate"], ["old_docker_cmd", "cmd_output", "err", "p", "returncode"]], "err": [["cmd_output", "err", "p", "communicate"], ["old_docker_cmd", "cmd_output", "err", "p", "returncode"]], "old_docker_cmd": [["old_docker_cmd", "self", "docker_cmd", "cmd_args", "old_version_subcommand"], ["p", "subprocess", "Popen", "old_docker_cmd", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"], ["old_docker_cmd", "cmd_output", "err", "p", "returncode"]], "old_version_subcommand": [["old_docker_cmd", "self", "docker_cmd", "cmd_args", "old_version_subcommand"]], "p": [["p", "subprocess", "Popen", "old_docker_cmd", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"], ["cmd_output", "err", "p", "communicate"], ["old_docker_cmd", "cmd_output", "err", "p", "returncode"]]}, "name": "_old_docker_version", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "_play_context", "docker_extra_args"], ["cmd_args", "self", "_play_context", "docker_extra_args", "split"], ["old_docker_cmd", "self", "docker_cmd", "cmd_args", "old_version_subcommand"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "Connection._old_docker_version", "ret_exprs": ["return old_docker_cmd, cmd_output, err, p.returncode"], "ret_type": "", "ret_type_p": [["List[str]", 0.21160215563911358], ["dict", 0.20871615680144318], ["str", 0.1897686609957841], ["Dict[str, str]", 0.10267354518364862]], "variables": {"cmd_args": "", "cmd_output": "", "err": "", "old_docker_cmd": "", "old_version_subcommand": "", "p": ""}, "variables_p": {"cmd_args": [["str", 0.2320497954868535], ["list", 0.19690032626594928], ["dict", 0.09398920994933103], ["Dict[str, int]", 0.09000823647849471]], "cmd_output": [["str", 0.4576458665451945], ["int", 0.07923895144168343], ["List[str]", 0.047511140271351025], ["List[bytes]", 0.04069201163093955], ["dict", 0.036518099114863846], ["list", 0.03382081627309745]], "err": [["int", 0.3551636209612119], ["Tuple[str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str]", 0.0985834584913126], ["List[float]", 0.09669351648563795], ["bytes", 0.09282380713219508], ["tuple", 0.09059663195652025], ["Set[str]", 0.08007639438259886]], "old_docker_cmd": [["subprocess.CompletedProcess[bytes]", 0.38259104952944256], ["str", 0.2877407465727646], ["Type[ValueError]", 0.11096745141086126], ["Optional[str]", 0.10350906950547842]], "old_version_subcommand": [["flambe.cluster.utils.RemoteCommand", 0.2847924772396354], ["str", 0.1472094708476644]], "p": [["subprocess.Popen[Any]", 0.3692407840129163], ["subprocess.CompletedProcess[bytes]", 0.352356423538211], ["str", 0.27840279244887267]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[121, 4], [132, 60]], "fn_var_ln": {"cmd_args": [[123, 8], [123, 16]], "cmd_output": [[131, 8], [131, 18]], "err": [[131, 20], [131, 23]], "new_docker_cmd": [[129, 8], [129, 22]], "new_version_subcommand": [[127, 8], [127, 30]], "p": [[130, 8], [130, 9]]}, "fn_var_occur": {"cmd_args": [["cmd_args", "self", "_play_context", "docker_extra_args", "split"], ["new_docker_cmd", "self", "docker_cmd", "cmd_args", "new_version_subcommand"]], "cmd_output": [["cmd_output", "err", "p", "communicate"], ["new_docker_cmd", "cmd_output", "err", "p", "returncode"]], "err": [["cmd_output", "err", "p", "communicate"], ["new_docker_cmd", "cmd_output", "err", "p", "returncode"]], "new_docker_cmd": [["new_docker_cmd", "self", "docker_cmd", "cmd_args", "new_version_subcommand"], ["p", "subprocess", "Popen", "new_docker_cmd", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"], ["new_docker_cmd", "cmd_output", "err", "p", "returncode"]], "new_version_subcommand": [["new_docker_cmd", "self", "docker_cmd", "cmd_args", "new_version_subcommand"]], "p": [["p", "subprocess", "Popen", "new_docker_cmd", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"], ["cmd_output", "err", "p", "communicate"], ["new_docker_cmd", "cmd_output", "err", "p", "returncode"]]}, "name": "_new_docker_version", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "_play_context", "docker_extra_args"], ["cmd_args", "self", "_play_context", "docker_extra_args", "split"], ["new_docker_cmd", "self", "docker_cmd", "cmd_args", "new_version_subcommand"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "Connection._new_docker_version", "ret_exprs": ["return new_docker_cmd, cmd_output, err, p.returncode"], "ret_type": "", "ret_type_p": [["str", 0.21255480349138758], ["bool", 0.11428804146194321], ["Tuple[int, int]", 0.10006643953772805], ["dict", 0.09783713098585546], ["List[Dict]", 0.09000537605667015]], "variables": {"cmd_args": "", "cmd_output": "", "err": "", "new_docker_cmd": "", "new_version_subcommand": "", "p": ""}, "variables_p": {"cmd_args": [["str", 0.294716156242941], ["list", 0.17437115765619646], ["List[Union[Any, Any]]", 0.142446529110518], ["List[str]", 0.10328100187078926], ["Dict[str, str]", 0.09461837545610333], ["Tuple[str, str, str, str, str, str, str, str, str, str]", 0.08887603168692673]], "cmd_output": [["int", 0.2529197842020797], ["List[str]", 0.18477496855237557], ["list", 0.12574380689941478], ["Dict[str, Any]", 0.08319670942507991], ["List[bytes]", 0.06898967586619333], ["str", 0.06886652587552196]], "err": [["str", 0.36728625384899505], ["int", 0.2142332439538994], ["List[Tuple[str, Any]]", 0.12935628512303052], ["tuple", 0.10877736091611151], ["Tuple[str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str, str]", 0.09105966566345279], ["float", 0.08928719049451092]], "new_docker_cmd": [["str", 0.1860453222994204]], "new_version_subcommand": [["str", 0.29015788752744537], ["Dict[str, Dict[str, Any]]", 0.19942269136755003], ["int", 0.09568019181325718]], "p": [["subprocess.CompletedProcess[bytes]", 0.4713419786874078], ["subprocess.Popen[Any]", 0.24770409145568562], ["subprocess.CompletedProcess[str]", 0.0991780624830485], ["str", 0.09466915861393466], ["List[str]", 0.08710670875992337]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[134, 4], [146, 49]], "fn_var_ln": {"cmd": [[142, 8], [142, 11]], "cmd_output": [[142, 13], [142, 23]], "err": [[142, 25], [142, 28]], "returncode": [[142, 30], [142, 40]]}, "fn_var_occur": {"cmd": [["cmd", "cmd_output", "err", "returncode", "self", "_old_docker_version"], ["cmd", "cmd_output", "err", "returncode", "self", "_new_docker_version"], ["AnsibleError", "cmd", "err"]], "cmd_output": [["cmd", "cmd_output", "err", "returncode", "self", "_old_docker_version"], ["cmd_output", "split"], ["cmd", "cmd_output", "err", "returncode", "self", "_new_docker_version"], ["self", "_sanitize_version", "cmd_output"]], "err": [["cmd", "cmd_output", "err", "returncode", "self", "_old_docker_version"], ["cmd", "cmd_output", "err", "returncode", "self", "_new_docker_version"], ["AnsibleError", "cmd", "err"]], "returncode": [["cmd", "cmd_output", "err", "returncode", "self", "_old_docker_version"], ["cmd", "cmd_output", "err", "returncode", "self", "_new_docker_version"]]}, "name": "_get_docker_version", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["cmd", "cmd_output", "err", "returncode", "self", "_old_docker_version"], ["self", "_sanitize_version", "line", "split"], ["cmd", "cmd_output", "err", "returncode", "self", "_new_docker_version"], ["self", "_sanitize_version", "cmd_output"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "Connection._get_docker_version", "ret_exprs": ["return self._sanitize_version(line.split()[2])", "return self._sanitize_version(cmd_output)"], "ret_type": "", "ret_type_p": [["str", 0.3843158770420841], ["int", 0.18649084163074767], ["bytes", 0.12291458828008613], ["bool", 0.10676558195183908], ["\"SqlFile\"", 0.10299220397183732]], "variables": {"cmd": "", "cmd_output": "", "err": "", "returncode": ""}, "variables_p": {"cmd": [["distutils.cmd.Command", 0.10220415838537066], ["flambe.cluster.utils.RemoteCommand", 0.09235130417270208], ["Optional[int]", 0.08784077220479916]], "cmd_output": [["boto.s3.connection.S3Connection", 0.1773000083239611], ["os.statvfs_result", 0.09461003802687738], ["Pattern", 0.08261104829493872], ["int", 0.0738520265965831], ["str", 0.0738520265965831]], "err": [["distutils.cmd.Command", 0.10220415838537066], ["flambe.cluster.utils.RemoteCommand", 0.09235130417270208], ["Optional[int]", 0.08784077220479916]], "returncode": []}}, {"docstring": {"func": "Get the default user configured in the docker container ", "long_descr": null, "ret": null}, "fn_lc": [[148, 4], [160, 36]], "fn_var_ln": {"err": [[153, 13], [153, 16]], "out": [[153, 8], [153, 11]], "p": [[150, 8], [150, 9]]}, "fn_var_occur": {"err": [["out", "err", "p", "communicate"], ["display", "warning", "out", "err"]], "out": [["out", "err", "p", "communicate"], ["display", "warning", "out", "err"], ["out", "strip"]], "p": [["p", "subprocess", "Popen", "self", "docker_cmd", "self", "_play_context", "remote_addr", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"], ["out", "err", "p", "communicate"], ["p", "returncode"]]}, "name": "_get_docker_remote_user", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["p", "subprocess", "Popen", "self", "docker_cmd", "self", "_play_context", "remote_addr", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "Connection._get_docker_remote_user", "ret_exprs": ["return None", "return out.strip() or 'root'"], "ret_type": "", "ret_type_p": [["str", 0.2313827723041052], ["Optional[List[str]]", 0.10559723095154727], ["Optional[str]", 0.09060225079981502]], "variables": {"err": "", "out": "", "p": ""}, "variables_p": {"err": [["Tuple[int, int, int]", 0.2408685029922242], ["str", 0.09629452546786112], ["dict", 0.09110813954716493], ["int", 0.08566989921103486], ["list", 0.06632763858072036]], "out": [["list", 0.1601153855926455], ["str", 0.0766142664538293]], "p": [["str", 0.1658042503365671], ["asyncio.subprocess.Process", 0.10405276066510628]]}}, {"docstring": {"func": "Build the local docker exec command to run cmd on remote_host", "long_descr": "If remote_user is available and is supported by the docker\nversion we are using, it will be provided to docker exec.", "ret": null}, "fn_lc": [[162, 4], [182, 24]], "fn_var_ln": {"local_cmd": [[169, 8], [169, 17]]}, "fn_var_occur": {"local_cmd": [["local_cmd", "self", "docker_cmd"], ["local_cmd", "self", "_play_context", "docker_extra_args", "split"], ["local_cmd", "self", "remote_user"], ["local_cmd", "self", "_play_context", "remote_addr", "cmd"]]}, "name": "_build_exec_cmd", "params": {"cmd": "", "self": ""}, "params_descr": {"cmd": "", "self": ""}, "params_occur": {"cmd": [["local_cmd", "self", "_play_context", "remote_addr", "cmd"]], "self": [["local_cmd", "self", "docker_cmd"], ["self", "_play_context", "docker_extra_args"], ["local_cmd", "self", "_play_context", "docker_extra_args", "split"], ["self", "remote_user", "None"], ["local_cmd", "self", "remote_user"], ["local_cmd", "self", "_play_context", "remote_addr", "cmd"]]}, "params_p": {"args": [], "cmd": [["IO", 0.2064275623967673], ["bool", 0.11483884852810468], ["bytes", 0.08896404777776926], ["str", 0.07929530173830365]], "kwargs": [], "self": []}, "q_name": "Connection._build_exec_cmd", "ret_exprs": ["return local_cmd"], "ret_type": "", "ret_type_p": [["bool", 0.10000000000000002]], "variables": {"local_cmd": ""}, "variables_p": {"local_cmd": []}}, {"docstring": {"func": "Connect to the container. Nothing to do ", "long_descr": null, "ret": null}, "fn_lc": [[184, 4], [191, 34]], "fn_var_ln": {"_connected": [[191, 12], [191, 27]]}, "fn_var_occur": {"_connected": [["self", "_connected"], ["self", "_connected", "True"]]}, "name": "_connect", "params": {"port": "", "self": ""}, "params_descr": {"port": "", "self": ""}, "params_occur": {"port": [], "self": [["super", "Connection", "self", "_connect"], ["self", "_connected"], ["display", "vvv", "format", "self", "actual_user", "host", "self", "_play_context", "remote_addr"], ["self", "_connected", "True"]]}, "params_p": {"args": [], "kwargs": [], "port": [["int", 0.19999999999999998], ["str", 0.19999999999999998], ["Iterable['Context']", 0.09999999999999999], ["dict", 0.09999999999999999], ["bool", 0.09999999999999999]], "self": []}, "q_name": "Connection._connect", "ret_exprs": [], "ret_type": "", "variables": {"_connected": ""}, "variables_p": {"_connected": [["Type[str]", 0.38811083392145734], ["str", 0.18381092860989895], ["List[str]", 0.09605156895167588], ["float", 0.08994759178906274]]}}, {"docstring": {"func": "Run a command on the docker host ", "long_descr": null, "ret": null}, "fn_lc": [[193, 4], [205, 45]], "fn_var_ln": {"local_cmd": [[200, 8], [200, 17]], "p": [[201, 8], [201, 9]], "stderr": [[204, 16], [204, 22]], "stdout": [[204, 8], [204, 14]]}, "fn_var_occur": {"local_cmd": [["local_cmd", "self", "_build_exec_cmd", "self", "_play_context", "executable", "cmd"], ["display", "vvv", "local_cmd", "host", "self", "_play_context", "remote_addr"], ["local_cmd", "to_bytes", "i", "errors", "i", "local_cmd"], ["p", "subprocess", "Popen", "local_cmd", "shell", "False", "stdin", "subprocess", "PIPE", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"]], "p": [["p", "subprocess", "Popen", "local_cmd", "shell", "False", "stdin", "subprocess", "PIPE", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"], ["stdout", "stderr", "p", "communicate", "in_data"], ["p", "returncode", "stdout", "stderr"]], "stderr": [["p", "subprocess", "Popen", "local_cmd", "shell", "False", "stdin", "subprocess", "PIPE", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"], ["stdout", "stderr", "p", "communicate", "in_data"], ["p", "returncode", "stdout", "stderr"]], "stdout": [["p", "subprocess", "Popen", "local_cmd", "shell", "False", "stdin", "subprocess", "PIPE", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"], ["stdout", "stderr", "p", "communicate", "in_data"], ["p", "returncode", "stdout", "stderr"]]}, "name": "exec_command", "params": {"cmd": "", "in_data": "", "self": "", "sudoable": ""}, "params_descr": {"cmd": "", "in_data": "", "self": "", "sudoable": ""}, "params_occur": {"cmd": [["super", "Connection", "self", "exec_command", "cmd", "in_data", "in_data", "sudoable", "sudoable"], ["local_cmd", "self", "_build_exec_cmd", "self", "_play_context", "executable", "cmd"]], "in_data": [["super", "Connection", "self", "exec_command", "cmd", "in_data", "in_data", "sudoable", "sudoable"], ["stdout", "stderr", "p", "communicate", "in_data"]], "self": [["super", "Connection", "self", "exec_command", "cmd", "in_data", "in_data", "sudoable", "sudoable"], ["local_cmd", "self", "_build_exec_cmd", "self", "_play_context", "executable", "cmd"], ["display", "vvv", "local_cmd", "host", "self", "_play_context", "remote_addr"]], "sudoable": [["super", "Connection", "self", "exec_command", "cmd", "in_data", "in_data", "sudoable", "sudoable"]]}, "params_p": {"args": [], "cmd": [["Optional[Exception]", 0.5307085444518027], ["int", 0.09503405337789765], ["MutableMapping[str, Any]", 0.08847742653597829]], "in_data": [["Optional[Exception]", 0.3547563482152435], ["int", 0.10730527874063868]], "kwargs": [], "self": [], "sudoable": [["str", 0.10314724964076187], ["raiden.utils.Dict[str, raiden.utils.Any]", 0.09934087428837382], ["bytes", 0.09588697711638249]]}, "q_name": "Connection.exec_command", "ret_exprs": ["return (p.returncode, stdout, stderr)"], "ret_type": "", "ret_type_p": [["list", 4.879718773741805e-08], ["int", 8.069924880878987e-10], ["str", 8.069924880878987e-10]], "variables": {"local_cmd": "", "p": "", "stderr": "", "stdout": ""}, "variables_p": {"local_cmd": [["float", 0.4025529781454231], ["List[bytes]", 0.3717162641189225]], "p": [["subprocess.Popen[Any]", 0.9999999999999999]], "stderr": [["subprocess.Popen[Any]", 0.9999999999999999]], "stdout": [["subprocess.Popen[Any]", 0.9999999999999999]]}}, {"docstring": {"func": "Make sure that we put files into a standard path", "long_descr": "If a path is relative, then we need to choose where to put it.\nssh chooses $HOME but we aren't guaranteed that a home dir will\nexist in any given chroot.  So for now we're choosing \"/\" instead.\nThis also happens to be the former default.\n\nCan revisit using $HOME instead if it's a problem", "ret": null}, "fn_lc": [[207, 4], [219, 44]], "fn_var_ln": {"remote_path": [[218, 12], [218, 23]]}, "fn_var_occur": {"remote_path": [["remote_path", "startswith", "os", "path", "sep"], ["remote_path", "os", "path", "join", "os", "path", "sep", "remote_path"], ["os", "path", "normpath", "remote_path"]]}, "name": "_prefix_login_path", "params": {"remote_path": "", "self": ""}, "params_descr": {"remote_path": "", "self": ""}, "params_occur": {"remote_path": [["remote_path", "startswith", "os", "path", "sep"], ["remote_path", "os", "path", "join", "os", "path", "sep", "remote_path"], ["os", "path", "normpath", "remote_path"]], "self": []}, "params_p": {"args": [], "kwargs": [], "remote_path": [["str", 0.9108834697396023], ["List[str]", 0.08911653026039763]], "self": []}, "q_name": "Connection._prefix_login_path", "ret_exprs": ["return os.path.normpath(remote_path)"], "ret_type": "", "ret_type_p": [["str", 0.8029133878980433], ["bool", 0.1970866121019567]], "variables": {"remote_path": ""}, "variables_p": {"remote_path": [["str", 1.0000000000000002]]}}, {"docstring": {"func": "Transfer a file from local to docker container ", "long_descr": null, "ret": null}, "fn_lc": [[221, 4], [247, 117]], "fn_var_ln": {"args": [[237, 8], [237, 12]], "out_path": [[231, 8], [231, 16]], "p": [[240, 16], [240, 17]], "stderr": [[244, 20], [244, 26]], "stdout": [[244, 12], [244, 18]]}, "fn_var_occur": {"args": [["args", "self", "_build_exec_cmd", "self", "_play_context", "executable", "out_path", "BUFSIZE"], ["args", "to_bytes", "i", "errors", "i", "args"], ["p", "subprocess", "Popen", "args", "stdin", "in_file", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"]], "out_path": [["super", "Connection", "self", "put_file", "in_path", "out_path"], ["display", "vvv", "in_path", "out_path", "host", "self", "_play_context", "remote_addr"], ["out_path", "self", "_prefix_login_path", "out_path"], ["out_path", "pipes", "quote", "out_path"], ["args", "self", "_build_exec_cmd", "self", "_play_context", "executable", "out_path", "BUFSIZE"], ["AnsibleError", "in_path", "out_path", "stdout", "stderr"]], "p": [["p", "subprocess", "Popen", "args", "stdin", "in_file", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"], ["stdout", "stderr", "p", "communicate"], ["p", "returncode"]], "stderr": [["p", "subprocess", "Popen", "args", "stdin", "in_file", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"], ["stdout", "stderr", "p", "communicate"], ["AnsibleError", "in_path", "out_path", "stdout", "stderr"]], "stdout": [["p", "subprocess", "Popen", "args", "stdin", "in_file", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"], ["stdout", "stderr", "p", "communicate"], ["AnsibleError", "in_path", "out_path", "stdout", "stderr"]]}, "name": "put_file", "params": {"in_path": "", "out_path": "", "self": ""}, "params_descr": {"in_path": "", "out_path": "", "self": ""}, "params_occur": {"in_path": [["super", "Connection", "self", "put_file", "in_path", "out_path"], ["display", "vvv", "in_path", "out_path", "host", "self", "_play_context", "remote_addr"], ["os", "path", "exists", "to_bytes", "in_path", "errors"], ["AnsibleFileNotFound", "in_path"], ["open", "to_bytes", "in_path", "errors", "in_file"], ["AnsibleError", "in_path", "out_path", "stdout", "stderr"]], "out_path": [["super", "Connection", "self", "put_file", "in_path", "out_path"], ["display", "vvv", "in_path", "out_path", "host", "self", "_play_context", "remote_addr"], ["out_path", "self", "_prefix_login_path", "out_path"], ["out_path", "pipes", "quote", "out_path"], ["args", "self", "_build_exec_cmd", "self", "_play_context", "executable", "out_path", "BUFSIZE"], ["AnsibleError", "in_path", "out_path", "stdout", "stderr"]], "self": [["super", "Connection", "self", "put_file", "in_path", "out_path"], ["display", "vvv", "in_path", "out_path", "host", "self", "_play_context", "remote_addr"], ["out_path", "self", "_prefix_login_path", "out_path"], ["args", "self", "_build_exec_cmd", "self", "_play_context", "executable", "out_path", "BUFSIZE"]]}, "params_p": {"args": [], "in_path": [["bytes", 0.09803679509371575]], "kwargs": [], "out_path": [], "self": []}, "q_name": "Connection.put_file", "ret_exprs": [], "ret_type": "", "variables": {"args": "", "out_path": "", "p": "", "stderr": "", "stdout": ""}, "variables_p": {"args": [["dict", 0.08841283502788665]], "out_path": [["str", 0.46793674505530947]], "p": [["subprocess.Popen[Any]", 0.7428448636424094], ["subprocess.CompletedProcess[bytes]", 0.0969951034283766], ["subprocess.CompletedProcess[str]", 0.089514421101544], ["List[str]", 0.07064561182766999]], "stderr": [["subprocess.Popen[Any]", 0.5849846105952262], ["subprocess.CompletedProcess[bytes]", 0.21822438506135777], ["subprocess.CompletedProcess[str]", 0.196791004343416]], "stdout": [["subprocess.Popen[Any]", 0.5849846105952262], ["subprocess.CompletedProcess[bytes]", 0.21822438506135777], ["subprocess.CompletedProcess[str]", 0.196791004343416]]}}, {"docstring": {"func": "Fetch a file from container to local. ", "long_descr": null, "ret": null}, "fn_lc": [[249, 4], [269, 102]], "fn_var_ln": {"actual_out_path": [[267, 8], [267, 23]], "args": [[260, 8], [260, 12]], "in_path": [[254, 8], [254, 15]], "out_dir": [[257, 8], [257, 15]], "p": [[262, 8], [262, 9]]}, "fn_var_occur": {"actual_out_path": [["actual_out_path", "os", "path", "join", "out_dir", "os", "path", "basename", "in_path"], ["actual_out_path", "out_path"], ["os", "rename", "to_bytes", "actual_out_path", "errors", "to_bytes", "out_path", "errors"]], "args": [["args", "self", "docker_cmd", "self", "_play_context", "remote_addr", "in_path", "out_dir"], ["args", "to_bytes", "i", "errors", "i", "args"], ["p", "subprocess", "Popen", "args", "stdin", "subprocess", "PIPE", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"]], "in_path": [["super", "Connection", "self", "fetch_file", "in_path", "out_path"], ["display", "vvv", "in_path", "out_path", "host", "self", "_play_context", "remote_addr"], ["in_path", "self", "_prefix_login_path", "in_path"], ["args", "self", "docker_cmd", "self", "_play_context", "remote_addr", "in_path", "out_dir"], ["actual_out_path", "os", "path", "join", "out_dir", "os", "path", "basename", "in_path"]], "out_dir": [["out_dir", "os", "path", "dirname", "out_path"], ["args", "self", "docker_cmd", "self", "_play_context", "remote_addr", "in_path", "out_dir"], ["actual_out_path", "os", "path", "join", "out_dir", "os", "path", "basename", "in_path"]], "p": [["p", "subprocess", "Popen", "args", "stdin", "subprocess", "PIPE", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE"], ["p", "communicate"]]}, "name": "fetch_file", "params": {"in_path": "", "out_path": "", "self": ""}, "params_descr": {"in_path": "", "out_path": "", "self": ""}, "params_occur": {"in_path": [["super", "Connection", "self", "fetch_file", "in_path", "out_path"], ["display", "vvv", "in_path", "out_path", "host", "self", "_play_context", "remote_addr"], ["in_path", "self", "_prefix_login_path", "in_path"], ["args", "self", "docker_cmd", "self", "_play_context", "remote_addr", "in_path", "out_dir"], ["actual_out_path", "os", "path", "join", "out_dir", "os", "path", "basename", "in_path"]], "out_path": [["super", "Connection", "self", "fetch_file", "in_path", "out_path"], ["display", "vvv", "in_path", "out_path", "host", "self", "_play_context", "remote_addr"], ["out_dir", "os", "path", "dirname", "out_path"], ["actual_out_path", "out_path"], ["os", "rename", "to_bytes", "actual_out_path", "errors", "to_bytes", "out_path", "errors"]], "self": [["super", "Connection", "self", "fetch_file", "in_path", "out_path"], ["display", "vvv", "in_path", "out_path", "host", "self", "_play_context", "remote_addr"], ["in_path", "self", "_prefix_login_path", "in_path"], ["args", "self", "docker_cmd", "self", "_play_context", "remote_addr", "in_path", "out_dir"]]}, "params_p": {"args": [], "in_path": [["str", 0.09200153331950657]], "kwargs": [], "out_path": [["Union[str, os.PathLike]", 0.10960527326263726], ["str", 0.09149243133568669]], "self": []}, "q_name": "Connection.fetch_file", "ret_exprs": [], "ret_type": "", "variables": {"actual_out_path": "", "args": "", "in_path": "", "out_dir": "", "p": ""}, "variables_p": {"actual_out_path": [["str", 0.8411966146120433], ["Optional[str]", 0.15880338538795666]], "args": [], "in_path": [["str", 0.4566535917708229]], "out_dir": [["str", 0.8134716142180274], ["List[Dict]", 0.09307827685360577]], "p": [["subprocess.Popen[Any]", 0.9359992164001857], ["subprocess.CompletedProcess[bytes]", 0.06400078359981429]]}}, {"docstring": {"func": "Terminate the connection. Nothing to do for Docker", "long_descr": null, "ret": null}, "fn_lc": [[271, 4], [274, 31]], "fn_var_ln": {"_connected": [[274, 8], [274, 23]]}, "fn_var_occur": {"_connected": [["self", "_connected", "False"]]}, "name": "close", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["super", "Connection", "self", "close"], ["self", "_connected", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "Connection.close", "ret_exprs": [], "ret_type": "", "variables": {"_connected": ""}, "variables_p": {"_connected": [["int", 0.6258564750569569], ["float", 0.1953714877468058]]}}], "name": "Connection", "q_name": "Connection", "variables": {"become_methods": "", "has_pipelining": "", "transport": ""}, "variables_p": {"become_methods": [["List[str]", 0.19999999999999998], ["int", 0.09999999999999999], ["Final", 0.09999999999999999], ["Tuple[str, str, str, str]", 0.09999999999999999], ["Dict[str, str]", 0.09999999999999999], ["Tuple[str]", 0.09999999999999999], ["staticmethod", 0.09999999999999999], ["FrozenSet[str]", 0.09999999999999999]], "has_pipelining": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "transport": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}], "funcs": [], "imports": ["__future__", "absolute_import", "division", "print_function", "distutils.spawn", "os", "os.path", "pipes", "subprocess", "re", "distutils", "version", "LooseVersion", "ansible.constants", "C", "ansible", "errors", "AnsibleError", "AnsibleFileNotFound", "ansible", "module_utils", "_text", "to_bytes", "ansible", "plugins", "connection", "ConnectionBase", "BUFSIZE", "__main__", "display", "ansible", "utils", "display", "Display"], "mod_var_ln": {"__metaclass__": [[25, 0], [25, 13]], "display": [[46, 4], [46, 11]]}, "mod_var_occur": {"__metaclass__": [], "display": [["display", "warning", "format", "docker_version", "self", "actual_user"], ["display", "warning", "out", "err"], ["display", "vvv", "format", "self", "actual_user", "host", "self", "_play_context", "remote_addr"], ["display", "vvv", "local_cmd", "host", "self", "_play_context", "remote_addr"], ["display", "vvv", "in_path", "out_path", "host", "self", "_play_context", "remote_addr"], ["display", "vvv", "in_path", "out_path", "host", "self", "_play_context", "remote_addr"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 71}, "session_id": "lp8D5OKI8RS4D9voNIsj7Q3KDEOlKQ7Ewv_e66qw14E", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"__metaclass__": "", "display": ""}, "variables_p": {"__metaclass__": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "display": [["str", 1.0000000000000004]]}}}