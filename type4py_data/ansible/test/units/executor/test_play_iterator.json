{"error": null, "response": {"classes": [{"cls_lc": [[35, 0], [377, 81]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[37, 4], [38, 12]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "setUp", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPlayIterator.setUp", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[40, 4], [41, 12]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "tearDown", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPlayIterator.tearDown", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[43, 4], [58, 26]], "fn_var_ln": {"always_child_state": [[47, 8], [47, 29]], "cur_block": [[55, 12], [55, 24]], "fail_state": [[51, 8], [51, 21]], "hs": [[44, 8], [44, 10]], "new_hs": [[58, 8], [58, 14]], "rescue_child_state": [[46, 8], [46, 29]], "run_state": [[49, 8], [49, 20]], "tasks_child_state": [[45, 8], [45, 28]]}, "fn_var_occur": {"always_child_state": [["hs", "always_child_state", "HostState", "blocks"]], "cur_block": [["hs", "cur_block", "i"]], "fail_state": [["hs", "fail_state"]], "hs": [["hs", "HostState", "blocks", "x", "x", "range"], ["hs", "tasks_child_state", "HostState", "blocks"], ["hs", "rescue_child_state", "HostState", "blocks"], ["hs", "always_child_state", "HostState", "blocks"], ["hs", "__repr__"], ["hs", "run_state"], ["hs", "__repr__"], ["hs", "fail_state"], ["hs", "__repr__"], ["hs", "cur_block", "i"], ["self", "assertEqual", "hs", "get_current_block", "i"], ["new_hs", "hs", "copy"]], "new_hs": [["new_hs", "hs", "copy"]], "rescue_child_state": [["hs", "rescue_child_state", "HostState", "blocks"]], "run_state": [["hs", "run_state"]], "tasks_child_state": [["hs", "tasks_child_state", "HostState", "blocks"]]}, "name": "test_host_state", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "assertEqual", "hs", "get_current_block", "i"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPlayIterator.test_host_state", "ret_exprs": [], "ret_type": "", "variables": {"always_child_state": "", "cur_block": "", "fail_state": "", "hs": "", "new_hs": "", "rescue_child_state": "", "run_state": "", "tasks_child_state": ""}, "variables_p": {"always_child_state": [["int", 0.22559062240182956], ["str", 0.17833815290625915], ["list", 0.08914953363279177], ["List[Tuple[int, str]]", 0.08783159494486936], ["Type[int]", 0.07934043691660349], ["List[int]", 0.07244427973179891]], "cur_block": [["int", 0.20336347226245846], ["str", 0.18139095570910874], ["List[str]", 0.1082720370768986], ["Iterable[T]", 0.09422515715927167]], "fail_state": [["Tuple[str, str]", 0.49999999977707427], ["Tuple[Any, Any]", 0.49999999977707427], ["frozenset[Any]", 3.3438859292669833e-10], ["Set[str]", 5.5731432154449714e-11], ["List[Union[Any, Any]]", 5.5731432154449714e-11]], "hs": [["list", 0.17826297068801983], ["dict", 0.10892930833144654], ["Dict[Any, int]", 0.08619982983212128], ["Dict[Any, str]", 0.08111307622173966]], "new_hs": [["str", 0.24999999999479164], ["bool", 0.24999999996129826], ["List[Tuple[str, str]]", 3.941415947478111e-11], ["List[str]", 3.130730476622917e-11], ["List[Dict[str, str]]", 2.529605820465653e-11], ["List[List[float]]", 2.529605820465653e-11]], "rescue_child_state": [["int", 0.22559062240182956], ["str", 0.17833815290625915], ["list", 0.08914953363279177], ["List[Tuple[int, str]]", 0.08783159494486936], ["Type[int]", 0.07934043691660349], ["List[int]", 0.07244427973179891]], "run_state": [["tests.test_model.CarInfoMap", 0.15109983592823617], ["str", 0.09710322263387988], ["Dict[str, None]", 0.06680544489952268]], "tasks_child_state": [["dict", 0.2107620098953803], ["golem.task.taskstate.SubtaskState", 0.08751052740166604]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[62, 4], [201, 48]], "fn_var_ln": {"_fact_cache": [[95, 8], [95, 36]], "bad_task": [[128, 8], [128, 16]], "failed_hosts": [[200, 8], [200, 20]], "fake_loader": [[64, 8], [64, 19]], "found_task": [[129, 8], [129, 18]], "host": [[102, 12], [102, 16]], "host_state": [[195, 9], [195, 19]], "hosts": [[100, 8], [100, 13]], "inventory": [[108, 8], [108, 17]], "itr": [[114, 8], [114, 11]], "mock_var_manager": [[94, 8], [94, 24]], "name": [[103, 12], [103, 21]], "p": [[98, 8], [98, 9]], "play_context": [[112, 8], [112, 20]], "target_task": [[123, 8], [123, 19]], "task": [[195, 21], [195, 25]], "task_copy": [[124, 8], [124, 17]]}, "fn_var_occur": {"_fact_cache": [["mock_var_manager", "_fact_cache", "dict"], ["mock_var_manager", "_fact_cache", "dict"]], "bad_task": [["bad_task", "Task"], ["found_task", "itr", "get_original_task", "hosts", "bad_task"]], "failed_hosts": [["failed_hosts", "itr", "get_failed_hosts"], ["self", "assertNotIn", "hosts", "failed_hosts"]], "fake_loader": [["fake_loader", "DictDataLoader"], ["p", "Playbook", "load", "loader", "fake_loader", "variable_manager", "mock_var_manager"]], "found_task": [["found_task", "itr", "get_original_task", "hosts", "task_copy"], ["self", "assertEqual", "target_task", "found_task"], ["found_task", "itr", "get_original_task", "hosts", "bad_task"], ["self", "assertIsNone", "found_task"]], "host": [["host", "MagicMock"], ["host", "name", "host", "get_name", "return_value", "i"], ["hosts", "append", "host"]], "host_state": [["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"]], "hosts": [["hosts", "append", "host"], ["inventory", "get_hosts", "return_value", "hosts"], ["inventory", "filter_hosts", "return_value", "hosts"], ["found_task", "itr", "get_original_task", "hosts", "task_copy"], ["found_task", "itr", "get_original_task", "hosts", "bad_task"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["itr", "mark_host_failed", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertNotIn", "hosts", "failed_hosts"]], "inventory": [["inventory", "MagicMock"], ["inventory", "get_hosts", "return_value", "hosts"], ["inventory", "filter_hosts", "return_value", "hosts"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"]], "itr": [["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"], ["found_task", "itr", "get_original_task", "hosts", "task_copy"], ["found_task", "itr", "get_original_task", "hosts", "bad_task"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["itr", "mark_host_failed", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["failed_hosts", "itr", "get_failed_hosts"]], "mock_var_manager": [["mock_var_manager", "MagicMock"], ["mock_var_manager", "_fact_cache", "dict"], ["mock_var_manager", "get_vars", "return_value", "dict"], ["p", "Playbook", "load", "loader", "fake_loader", "variable_manager", "mock_var_manager"], ["mock_var_manager", "_fact_cache", "dict"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"]], "name": [["host", "name", "host", "get_name", "return_value", "i"]], "p": [["p", "Playbook", "load", "loader", "fake_loader", "variable_manager", "mock_var_manager"], ["play_context", "PlayContext", "play", "p", "_entries"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"], ["target_task", "p", "_entries", "tasks", "block"]], "play_context": [["play_context", "PlayContext", "play", "p", "_entries"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"]], "target_task": [["target_task", "p", "_entries", "tasks", "block"], ["task_copy", "target_task", "copy", "exclude_parent", "True"], ["self", "assertEqual", "target_task", "found_task"]], "task": [["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertIsNotNone", "task", "_role"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertIsNone", "task", "_role"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNone", "task"]], "task_copy": [["task_copy", "target_task", "copy", "exclude_parent", "True"], ["found_task", "itr", "get_original_task", "hosts", "task_copy"]]}, "name": "test_play_iterator", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "assertEqual", "target_task", "found_task"], ["self", "assertIsNone", "found_task"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertIsNotNone", "task", "_role"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertIsNone", "task", "_role"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertIsNone", "task"], ["self", "assertNotIn", "hosts", "failed_hosts"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPlayIterator.test_play_iterator", "ret_exprs": [], "ret_type": "", "variables": {"_fact_cache": "", "bad_task": "", "failed_hosts": "", "fake_loader": "", "found_task": "", "host": "", "host_state": "", "hosts": "", "inventory": "", "itr": "", "mock_var_manager": "", "name": "", "p": "", "play_context": "", "target_task": "", "task": "", "task_copy": ""}, "variables_p": {"_fact_cache": [["Dict[str, Dict[str, str]]", 0.11768754631434857], ["str", 0.08539500096966918], ["Dict[int, Any]", 0.07668759090841001]], "bad_task": [["asyncio.tasks.Task[Any]", 0.6163567801728642], ["golem.task.taskserver.TaskServer", 0.18727941962338623]], "failed_hosts": [], "fake_loader": [["str", 0.1817170600487827], ["Mapping", 0.1817170600487827], ["int", 0.09833185464006912], ["float", 0.08025129208414507]], "found_task": [["Dict[str, int]", 0.07141492200695963], ["restful_functions.modules.task.TaskStore", 0.06009224167679192]], "host": [["mock.Mock", 0.7213228735261702]], "host_state": [["golem.task.taskstate.TaskState", 0.10047834744178355], ["compiler.domain.Task", 0.09176414159183026], ["taskiapplication.models.task.Task", 0.08436909957747175]], "hosts": [["list", 0.7217591383243482], ["Union[Literal, str]", 0.09449842036784704]], "inventory": [["mock.Mock", 0.8823622623448505]], "itr": [], "mock_var_manager": [["mock.MagicMock", 0.2766844218739948], ["unittesmock.MagicMock", 0.2606085641079364], ["mock.Mock", 0.10124733734661677]], "name": [["str", 0.49642985581242716], ["list", 0.21686658419588845], ["Dict[str, str]", 0.10740570801715119], ["List[str]", 0.08312274929574821]], "p": [["str", 0.1324946823128686], ["Dict[str, Any]", 0.09253921012467176]], "play_context": [], "target_task": [["taskiapplication.models.task.Task", 0.2051152076732582], ["khetha.models.Task", 0.10443701889382988], ["golem.task.taskstate.TaskState", 0.09927794964659037]], "task": [["taskiapplication.models.task.Task", 0.3013937579229452], ["golem.task.requestedtaskmanager.RequestedTaskManager", 0.11540566925702253], ["khetha.models.Task", 0.10467528184825728], ["asyncio.tasks.Task[Any]", 0.09806725507009233], ["apps.blender.task.blenderrendertask.BlenderRenderTask", 0.09615692913804501], ["golem.task.taskmanager.TaskManager", 0.09475428582412875]], "task_copy": [["unittesmock.MagicMock", 0.161114377440767], ["str", 0.11623043440586112], ["dict", 0.09670605531201978], ["list", 0.08491480173909376]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[203, 4], [291, 31]], "fn_var_ln": {"_fact_cache": [[232, 8], [232, 36]], "fake_loader": [[204, 8], [204, 19]], "host": [[239, 12], [239, 16]], "host_state": [[290, 9], [290, 19]], "hosts": [[237, 8], [237, 13]], "inventory": [[243, 8], [243, 17]], "itr": [[249, 8], [249, 11]], "mock_var_manager": [[231, 8], [231, 24]], "name": [[240, 12], [240, 21]], "p": [[235, 8], [235, 9]], "play_context": [[247, 8], [247, 20]], "task": [[290, 21], [290, 25]]}, "fn_var_occur": {"_fact_cache": [["mock_var_manager", "_fact_cache", "dict"]], "fake_loader": [["fake_loader", "DictDataLoader"], ["p", "Playbook", "load", "loader", "fake_loader", "variable_manager", "mock_var_manager"]], "host": [["host", "MagicMock"], ["host", "name", "host", "get_name", "return_value", "i"], ["hosts", "append", "host"]], "host_state": [["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"]], "hosts": [["hosts", "append", "host"], ["inventory", "get_hosts", "return_value", "hosts"], ["inventory", "filter_hosts", "return_value", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["itr", "mark_host_failed", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"]], "inventory": [["inventory", "MagicMock"], ["inventory", "get_hosts", "return_value", "hosts"], ["inventory", "filter_hosts", "return_value", "hosts"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"]], "itr": [["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["itr", "mark_host_failed", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"]], "mock_var_manager": [["mock_var_manager", "MagicMock"], ["mock_var_manager", "_fact_cache", "dict"], ["mock_var_manager", "get_vars", "return_value", "dict"], ["p", "Playbook", "load", "loader", "fake_loader", "variable_manager", "mock_var_manager"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"]], "name": [["host", "name", "host", "get_name", "return_value", "i"]], "p": [["p", "Playbook", "load", "loader", "fake_loader", "variable_manager", "mock_var_manager"], ["play_context", "PlayContext", "play", "p", "_entries"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"]], "play_context": [["play_context", "PlayContext", "play", "p", "_entries"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"]], "task": [["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "_raw_params"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "_raw_params"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "_raw_params"], ["host_state", "task", "itr", "get_next_task_for_host", "hosts"], ["self", "assertIsNone", "task"]]}, "name": "test_play_iterator_nested_blocks", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "_raw_params"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "msg"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "_raw_params"], ["self", "assertIsNotNone", "task"], ["self", "assertEqual", "task", "action"], ["self", "assertEqual", "task", "args", "dict", "_raw_params"], ["self", "assertIsNone", "task"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPlayIterator.test_play_iterator_nested_blocks", "ret_exprs": [], "ret_type": "", "variables": {"_fact_cache": "", "fake_loader": "", "host": "", "host_state": "", "hosts": "", "inventory": "", "itr": "", "mock_var_manager": "", "name": "", "p": "", "play_context": "", "task": ""}, "variables_p": {"_fact_cache": [["str", 0.44243292422231084], ["alibi.tests.utils.MockPredictor", 0.10195556151435482], ["property", 0.09693318503965505], ["List[Dict[str, float]]", 0.09081603072867095]], "fake_loader": [["str", 0.1817170600487827], ["Mapping", 0.1817170600487827], ["int", 0.09833185464006912], ["float", 0.08025129208414507]], "host": [["mock.Mock", 0.7213228735261702]], "host_state": [["golem.task.taskstate.TaskState", 0.10047834744178355], ["compiler.domain.Task", 0.09176414159183026], ["taskiapplication.models.task.Task", 0.08436909957747175]], "hosts": [["list", 0.37470640420991663], ["Union[Literal, str]", 0.08125423668967338]], "inventory": [["mock.Mock", 0.8823622623448505]], "itr": [], "mock_var_manager": [["mock.MagicMock", 0.2766844218739948], ["unittesmock.MagicMock", 0.2606085641079364], ["mock.Mock", 0.10124733734661677]], "name": [["str", 0.49642985581242716], ["list", 0.21686658419588845], ["Dict[str, str]", 0.10740570801715119], ["List[str]", 0.08312274929574821]], "p": [["str", 0.1324946823128686], ["Dict[str, Any]", 0.09253921012467176]], "play_context": [], "task": [["golem.task.requestedtaskmanager.RequestedTaskManager", 0.4055849582302391], ["next_action.todotxtask.Task", 0.3982974430734627], ["golem.task.taskcomputer.TaskComputer", 0.09900172211754255], ["asyncio.tasks.Task[Any]", 0.09711587657875557]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[293, 4], [377, 81]], "fn_var_ln": {"_": [[347, 12], [347, 13]], "_fact_cache": [[304, 8], [304, 36]], "_insert_tasks_into_state": [[331, 8], [331, 36]], "fail_state": [[360, 8], [360, 25]], "fake_loader": [[294, 8], [294, 19]], "host": [[311, 12], [311, 16]], "hosts": [[309, 8], [309, 13]], "inventory": [[315, 8], [315, 17]], "itr": [[336, 8], [336, 11]], "mock_task": [[365, 8], [365, 17]], "mock_var_manager": [[303, 8], [303, 24]], "name": [[312, 12], [312, 21]], "next_state": [[371, 9], [371, 19]], "next_task": [[371, 21], [371, 30]], "p": [[307, 8], [307, 9]], "play_context": [[319, 8], [319, 20]], "res_state": [[377, 8], [377, 17]], "run_state": [[366, 8], [366, 24]], "s": [[353, 8], [353, 9]], "s_copy": [[376, 8], [376, 14]], "task": [[347, 15], [347, 19]]}, "fn_var_occur": {"_": [["_", "task", "itr", "get_next_task_for_host", "hosts"], ["_", "task", "itr", "get_next_task_for_host", "hosts"]], "_fact_cache": [["mock_var_manager", "_fact_cache", "dict"]], "_insert_tasks_into_state": [["itr", "_insert_tasks_into_state", "MagicMock", "return_value", "s"], ["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list"], ["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list", "MagicMock"], ["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list", "mock_task"], ["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list", "MagicMock"]], "fail_state": [["s_copy", "fail_state", "itr", "FAILED_TASKS"]], "fake_loader": [["fake_loader", "DictDataLoader"], ["p", "Playbook", "load", "loader", "fake_loader", "variable_manager", "mock_var_manager"]], "host": [["host", "MagicMock"], ["host", "name", "host", "get_name", "return_value", "i"], ["hosts", "append", "host"]], "hosts": [["hosts", "append", "host"], ["inventory", "get_hosts", "return_value", "hosts"], ["inventory", "filter_hosts", "return_value", "hosts"], ["itr", "add_tasks", "hosts", "MagicMock", "MagicMock", "MagicMock"], ["self", "assertEqual", "itr", "_host_states", "hosts", "name", "s"], ["_", "task", "itr", "get_next_task_for_host", "hosts"], ["_", "task", "itr", "get_next_task_for_host", "hosts"], ["s", "itr", "get_host_state", "hosts"], ["itr", "_host_states", "hosts", "name", "res_state"], ["next_state", "next_task", "itr", "get_next_task_for_host", "hosts", "peek", "True"], ["itr", "_host_states", "hosts", "name", "s"]], "inventory": [["inventory", "MagicMock"], ["inventory", "get_hosts", "return_value", "hosts"], ["inventory", "filter_hosts", "return_value", "hosts"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"]], "itr": [["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"], ["itr", "_insert_tasks_into_state", "MagicMock", "return_value", "s"], ["itr", "add_tasks", "hosts", "MagicMock", "MagicMock", "MagicMock"], ["self", "assertEqual", "itr", "_host_states", "hosts", "name", "s"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"], ["_", "task", "itr", "get_next_task_for_host", "hosts"], ["_", "task", "itr", "get_next_task_for_host", "hosts"], ["s", "itr", "get_host_state", "hosts"], ["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list"], ["s_copy", "fail_state", "itr", "FAILED_TASKS"], ["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list", "MagicMock"], ["s_copy", "run_state", "itr", "ITERATING_RESCUE"], ["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list", "mock_task"], ["itr", "_host_states", "hosts", "name", "res_state"], ["next_state", "next_task", "itr", "get_next_task_for_host", "hosts", "peek", "True"], ["itr", "_host_states", "hosts", "name", "s"], ["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list", "MagicMock"]], "mock_task": [["mock_task", "MagicMock"], ["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list", "mock_task"], ["self", "assertIn", "mock_task", "res_state", "_blocks", "res_state", "cur_block", "rescue"], ["self", "assertEqual", "next_task", "mock_task"]], "mock_var_manager": [["mock_var_manager", "MagicMock"], ["mock_var_manager", "_fact_cache", "dict"], ["mock_var_manager", "get_vars", "return_value", "dict"], ["p", "Playbook", "load", "loader", "fake_loader", "variable_manager", "mock_var_manager"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"]], "name": [["host", "name", "host", "get_name", "return_value", "i"], ["self", "assertEqual", "itr", "_host_states", "hosts", "name", "s"], ["itr", "_host_states", "hosts", "name", "res_state"], ["itr", "_host_states", "hosts", "name", "s"]], "next_state": [["next_state", "next_task", "itr", "get_next_task_for_host", "hosts", "peek", "True"]], "next_task": [["next_state", "next_task", "itr", "get_next_task_for_host", "hosts", "peek", "True"], ["self", "assertEqual", "next_task", "mock_task"]], "p": [["p", "Playbook", "load", "loader", "fake_loader", "variable_manager", "mock_var_manager"], ["play_context", "PlayContext", "play", "p", "_entries"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"]], "play_context": [["play_context", "PlayContext", "play", "p", "_entries"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"], ["itr", "PlayIterator", "inventory", "inventory", "play", "p", "_entries", "play_context", "play_context", "variable_manager", "mock_var_manager", "all_vars", "dict"]], "res_state": [["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list"], ["self", "assertEqual", "res_state", "s_copy"], ["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list", "MagicMock"], ["self", "assertEqual", "res_state", "s_copy"], ["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list", "mock_task"], ["self", "assertEqual", "res_state", "s_copy"], ["self", "assertIn", "mock_task", "res_state", "_blocks", "res_state", "cur_block", "rescue"], ["itr", "_host_states", "hosts", "name", "res_state"], ["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list", "MagicMock"]], "run_state": [["s_copy", "run_state", "itr", "ITERATING_RESCUE"]], "s": [["s", "HostState", "blocks"], ["itr", "_insert_tasks_into_state", "MagicMock", "return_value", "s"], ["self", "assertEqual", "itr", "_host_states", "hosts", "name", "s"], ["s", "itr", "get_host_state", "hosts"], ["s_copy", "s", "copy"], ["itr", "_host_states", "hosts", "name", "s"], ["s_copy", "s", "copy"]], "s_copy": [["s_copy", "s", "copy"], ["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list"], ["self", "assertEqual", "res_state", "s_copy"], ["s_copy", "fail_state", "itr", "FAILED_TASKS"], ["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list", "MagicMock"], ["self", "assertEqual", "res_state", "s_copy"], ["s_copy", "run_state", "itr", "ITERATING_RESCUE"], ["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list", "mock_task"], ["self", "assertEqual", "res_state", "s_copy"], ["s_copy", "s", "copy"], ["res_state", "itr", "_insert_tasks_into_state", "s_copy", "task_list", "MagicMock"]], "task": [["_", "task", "itr", "get_next_task_for_host", "hosts"], ["task", "task", "action"], ["_", "task", "itr", "get_next_task_for_host", "hosts"], ["task", "None"]]}, "name": "test_play_iterator_add_tasks", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "assertEqual", "itr", "_host_states", "hosts", "name", "s"], ["self", "assertEqual", "res_state", "s_copy"], ["self", "assertEqual", "res_state", "s_copy"], ["self", "assertEqual", "res_state", "s_copy"], ["self", "assertIn", "mock_task", "res_state", "_blocks", "res_state", "cur_block", "rescue"], ["self", "assertEqual", "next_task", "mock_task"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPlayIterator.test_play_iterator_add_tasks", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "_fact_cache": "", "_insert_tasks_into_state": "", "fail_state": "", "fake_loader": "", "host": "", "hosts": "", "inventory": "", "itr": "", "mock_task": "", "mock_var_manager": "", "name": "", "next_state": "", "next_task": "", "p": "", "play_context": "", "res_state": "", "run_state": "", "s": "", "s_copy": "", "task": ""}, "variables_p": {"_": [["str", 0.3672891039896826], ["int", 0.2850313262420468], ["Dict[str, List[Any]]", 0.092575698395859]], "_fact_cache": [["str", 0.44243292422231084], ["alibi.tests.utils.MockPredictor", 0.10195556151435482], ["property", 0.09693318503965505], ["List[Dict[str, float]]", 0.09081603072867095]], "_insert_tasks_into_state": [["int", 0.1954569470680788], ["Dict[str, Any]", 0.1529359215387213], ["str", 0.09678578066355972], ["Iterable[str]", 0.09074920537530674], ["unittesmock.MagicMock", 0.08685270172328814]], "fail_state": [["Type[Dict[str, int]]", 0.1663314338474245], ["Tuple[Any, Any, Any]", 0.11514806651588841], ["Type[int]", 0.11210861543706714]], "fake_loader": [["str", 0.1817170600487827], ["Mapping", 0.1817170600487827], ["int", 0.09833185464006912], ["float", 0.08025129208414507]], "host": [["mock.Mock", 0.7213228735261702]], "hosts": [["list", 0.625583107204775], ["Union[Literal, str]", 0.09216579946021808], ["tuple", 0.09131794273308927]], "inventory": [["mock.Mock", 0.8823622623448505]], "itr": [], "mock_task": [["mock.Mock", 0.3921221665989584], ["unittesmock.MagicMock", 0.3868270984593521]], "mock_var_manager": [["mock.MagicMock", 0.2766844218739948], ["unittesmock.MagicMock", 0.2606085641079364], ["mock.Mock", 0.10124733734661677]], "name": [["str", 0.38666488717696545], ["list", 0.09686770704563888], ["List[str]", 0.09106118959686603], ["Union[Literal, Literal]", 0.08761919508350482]], "next_state": [["str", 0.19622855497112607], ["Optional[str]", 0.11587245317875129], ["List[Tuple[Any, str]]", 0.09664429079506853], ["Tuple[str, str]", 0.09555723162643259], ["Tuple[str, str, str]", 0.09555723162643259], ["dict", 0.09431546915944533]], "next_task": [["asyncio.tasks.Task[Any]", 0.18593531248435963], ["Task", 0.1411879832376161], ["apps.dummy.task.dummytaskstate.DummyTaskDefinition", 0.09646463352367657], ["golem.task.taskstate.SubtaskState", 0.09164537083307783], ["apps.core.task.coretaskstate.TaskDefinition", 0.08948732031490605]], "p": [["str", 0.1324946823128686], ["Dict[str, Any]", 0.09253921012467176]], "play_context": [], "res_state": [["Dict[str, Any]", 0.24768886323954759], ["dict", 0.18421715058662452], ["Dict[int, str]", 0.09182225555238795], ["int", 0.08558558985194908]], "run_state": [["int", 0.360032429894824], ["str", 0.23422455213672316], ["List[List[int]]", 0.19826219225297723], ["Dict[str, List[Any]]", 0.12790925955093765]], "s": [["str", 0.0886448950207375]], "s_copy": [["float", 0.19038579362425204], ["int", 0.1129865423733441], ["str", 0.09290883352893918]], "task": [["restful_functions.modules.task.TaskStore", 0.1488066476367625], ["Optional[str]", 0.1301907660143193], ["golem.task.taskbase.Task.ExtraData", 0.09251232653293878], ["golem.task.taskcomputer.TaskComputer", 0.08568628868300598]]}}], "name": "TestPlayIterator", "q_name": "TestPlayIterator", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "absolute_import", "division", "print_function", "ansible", "compat", "tests", "unittest", "ansible", "compat", "tests", "mock", "patch", "MagicMock", "ansible", "errors", "AnsibleError", "AnsibleParserError", "ansible", "executor", "play_iterator", "HostState", "PlayIterator", "ansible", "playbook", "Playbook", "ansible", "playbook", "task", "Task", "ansible", "playbook", "play_context", "PlayContext", "units", "mock", "loader", "DictDataLoader", "units", "mock", "path", "mock_unfrackpath_noop"], "mod_var_ln": {"__metaclass__": [[20, 0], [20, 13]]}, "mod_var_occur": {"__metaclass__": []}, "no_types_annot": {"D": 0, "I": 0, "U": 65}, "session_id": "ypNrqCBrq-BwN326ciRpYGJRUb6AGeAw3Cuf6k5opuI", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"__metaclass__": ""}, "variables_p": {"__metaclass__": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}}