{"error": null, "response": {"classes": [{"cls_lc": [[66, 4], [88, 36]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[67, 8], [76, 23]], "fn_var_ln": {"__dag_files": [[68, 12], [68, 28]], "__tmp_dir": [[70, 12], [70, 26]], "__zip_file_name": [[72, 12], [72, 32]], "dag_files_hash": [[69, 12], [69, 26]]}, "fn_var_occur": {"__dag_files": [["self", "__dag_files", "os", "sep", "join", "TEST_DAGS_FOLDER", "__str__", "dag_file", "dag_file", "dag_files"], ["dag_files_hash", "md5", "join", "self", "__dag_files", "encode", "hexdigest"]], "__tmp_dir": [["self", "__tmp_dir", "os", "sep", "join", "tempfile", "tempdir", "dag_files_hash"], ["self", "__zip_file_name", "os", "sep", "join", "self", "__tmp_dir", "dag_files_hash"], ["os", "path", "exists", "self", "__tmp_dir"], ["os", "mkdir", "self", "__tmp_dir"]], "__zip_file_name": [["self", "__zip_file_name", "os", "sep", "join", "self", "__tmp_dir", "dag_files_hash"]], "dag_files_hash": [["dag_files_hash", "md5", "join", "self", "__dag_files", "encode", "hexdigest"], ["self", "__tmp_dir", "os", "sep", "join", "tempfile", "tempdir", "dag_files_hash"], ["self", "__zip_file_name", "os", "sep", "join", "self", "__tmp_dir", "dag_files_hash"]]}, "name": "__call__", "params": {"dag_files": "", "self": ""}, "params_descr": {"dag_files": "", "self": ""}, "params_occur": {"dag_files": [["self", "__dag_files", "os", "sep", "join", "TEST_DAGS_FOLDER", "__str__", "dag_file", "dag_file", "dag_files"]], "self": [["self", "__dag_files", "os", "sep", "join", "TEST_DAGS_FOLDER", "__str__", "dag_file", "dag_file", "dag_files"], ["dag_files_hash", "md5", "join", "self", "__dag_files", "encode", "hexdigest"], ["self", "__tmp_dir", "os", "sep", "join", "tempfile", "tempdir", "dag_files_hash"], ["self", "__zip_file_name", "os", "sep", "join", "self", "__tmp_dir", "dag_files_hash"], ["os", "path", "exists", "self", "__tmp_dir"], ["os", "mkdir", "self", "__tmp_dir"]]}, "params_p": {"args": [], "dag_files": [["str", 0.40682468622855195], ["cmk.utils.type_defs.HostName", 0.10611837474199988], ["Optional[str]", 0.10271026147378189], ["IO", 0.09333098292045626]], "kwargs": [], "self": []}, "q_name": "dag_zip_maker.<locals>.DagZipMaker.__call__", "ret_exprs": ["return self"], "ret_type": "", "ret_type_p": [["starlette.types.Receive", 0.09999999999999999], ["Callable", 0.09999999999999999], ["starlette.types.Send", 0.09999999999999999], ["int", 0.09999999999999999], ["float", 0.09999999999999999]], "variables": {"__dag_files": "", "__tmp_dir": "", "__zip_file_name": "", "dag_files_hash": ""}, "variables_p": {"__dag_files": [["str", 0.6098367046050376], ["List[str]", 0.0891309809316563], ["Optional[str]", 0.08804356905179626]], "__tmp_dir": [["str", 0.8747199701798145]], "__zip_file_name": [["str", 0.8980593259929346], ["list", 0.10194067400706562]], "dag_files_hash": [["str", 0.3036419838043221], ["List[str]", 0.26791310435188925], ["list", 0.09934498233931646]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[78, 8], [84, 25]], "fn_var_ln": {"dagbag": [[82, 12], [82, 18]]}, "fn_var_occur": {"dagbag": [["dagbag", "DagBag", "dag_folder", "self", "__tmp_dir", "include_examples", "False"], ["dagbag", "sync_to_db"]]}, "name": "__enter__", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["zipfile", "ZipFile", "self", "__zip_file_name", "zf"], ["self", "__dag_files"], ["dagbag", "DagBag", "dag_folder", "self", "__tmp_dir", "include_examples", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "dag_zip_maker.<locals>.DagZipMaker.__enter__", "ret_exprs": ["return dagbag"], "ret_type": "", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "variables": {"dagbag": ""}, "variables_p": {"dagbag": [["str", 0.21586596133898805], ["int", 0.08546126571379029]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[86, 8], [88, 36]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "__exit__", "params": {"exc_tb": "", "exc_type": "", "exc_val": "", "self": ""}, "params_descr": {"exc_tb": "", "exc_type": "", "exc_val": "", "self": ""}, "params_occur": {"exc_tb": [], "exc_type": [], "exc_val": [], "self": [["os", "unlink", "self", "__zip_file_name"], ["os", "rmdir", "self", "__tmp_dir"]]}, "params_p": {"args": [], "exc_tb": [["Optional[types.TracebackType]", 0.3], ["Optional[Type[BaseException]]", 0.19999999999999998], ["str", 0.09999999999999999], ["types.TracebackType", 0.09999999999999999], ["BaseException", 0.09999999999999999], ["Optional[BaseException]", 0.09999999999999999], ["Exception", 0.09999999999999999]], "exc_type": [["Optional[types.TracebackType]", 0.3], ["Optional[Type[BaseException]]", 0.19999999999999998], ["str", 0.09999999999999999], ["types.TracebackType", 0.09999999999999999], ["BaseException", 0.09999999999999999], ["Optional[BaseException]", 0.09999999999999999], ["Exception", 0.09999999999999999]], "exc_val": [["Optional[types.TracebackType]", 0.3], ["Optional[Type[BaseException]]", 0.19999999999999998], ["str", 0.09999999999999999], ["types.TracebackType", 0.09999999999999999], ["BaseException", 0.09999999999999999], ["Optional[BaseException]", 0.09999999999999999], ["Exception", 0.09999999999999999]], "kwargs": [], "self": []}, "q_name": "dag_zip_maker.<locals>.DagZipMaker.__exit__", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "DagZipMaker", "q_name": "dag_zip_maker.<locals>.DagZipMaker", "variables": {}, "variables_p": {}}, {"cls_lc": [[93, 0], [829, 13]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[94, 4], [97, 59]], "fn_var_ln": {"args": [[96, 8], [96, 17]], "dag": [[97, 8], [97, 16]], "dagbag": [[95, 8], [95, 19]]}, "fn_var_occur": {"args": [["self", "args", "DEFAULT_DATE"], ["self", "dag", "DAG", "TEST_DAG_ID", "default_args", "self", "args"]], "dag": [["self", "dag", "DAG", "TEST_DAG_ID", "default_args", "self", "args"]], "dagbag": [["self", "dagbag", "DagBag", "dag_folder", "DEV_NULL", "include_examples", "True"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "dagbag", "DagBag", "dag_folder", "DEV_NULL", "include_examples", "True"], ["self", "args", "DEFAULT_DATE"], ["self", "dag", "DAG", "TEST_DAG_ID", "default_args", "self", "args"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"args": "", "dag": "", "dagbag": ""}, "variables_p": {"args": [["List[str]", 0.4910842110714646], ["Tuple[Any, Literal]", 0.11448241243559847], ["raiden.utils.Any", 0.10038461739295382], ["Pattern[Any]", 0.09991401740729111]], "dag": [["qutebrowser.qutebrowser.utils.log.LogFilter", 0.08062789256117146], ["Anaconda3.Lib.site-packages.conda.gateways.logging.StdStreamHandler", 0.07971279053704491]], "dagbag": [["str", 0.43051726055057393], ["rotkehlchen.db.settings.DBSettings", 0.09129798273111392], ["types.SimpleNamespace", 0.09021092398642566]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[99, 4], [101, 84]], "fn_var_ln": {"op": [[100, 8], [100, 10]]}, "fn_var_occur": {"op": [["op", "TimeSensor", "task_id", "task_id", "target_time", "time", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "add_time_sensor", "params": {"self": "", "task_id": ""}, "params_descr": {"self": "", "task_id": ""}, "params_occur": {"self": [["op", "TimeSensor", "task_id", "task_id", "target_time", "time", "dag", "self", "dag"]], "task_id": [["op", "TimeSensor", "task_id", "task_id", "target_time", "time", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "task_id": [["str", 0.32309942420617005], ["int", 0.20212893578368651], ["cmk.utils.type_defs.UserId", 0.11371350321309556], ["golem.task.TaskId", 0.0910456060882149], ["golem.task.SubtaskId", 0.0910456060882149], ["Optional[int]", 0.0910456060882149]]}, "q_name": "TestExternalTaskSensor.add_time_sensor", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["List[List[int]]", 0.17398840823181483], ["int", 0.17390038442587924], ["o2a.converter.task.Task", 0.15666776576700636], ["Dict[str, str]", 0.09976679516980494]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[103, 4], [113, 44]], "fn_var_ln": {"_": [[107, 16], [107, 17]], "target_states": [[104, 8], [104, 21]], "ti": [[111, 12], [111, 14]]}, "fn_var_occur": {"_": [["_", "EmptyOperator", "task_id", "i", "i", "range", "len", "target_states"]], "target_states": [["target_states", "State", "SUCCESS", "target_states", "None", "target_states"], ["_", "EmptyOperator", "task_id", "i", "i", "range", "len", "target_states"], ["ti", "set_state", "target_states", "idx"]], "ti": [["ti", "TaskInstance", "task", "task", "execution_date", "DEFAULT_DATE"], ["ti", "run", "ignore_ti_state", "True", "mark_success", "True"], ["ti", "set_state", "target_states", "idx"]]}, "name": "add_dummy_task_group", "params": {"self": "", "target_states": ""}, "params_descr": {"self": "", "target_states": ""}, "params_occur": {"self": [["self", "dag", "dag"]], "target_states": [["target_states", "State", "SUCCESS", "target_states", "None", "target_states"], ["_", "EmptyOperator", "task_id", "i", "i", "range", "len", "target_states"], ["ti", "set_state", "target_states", "idx"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "target_states": [["raiden.transfer.state.ChainState", 0.21303975747952797], ["mythril.laser.ethereum.state.global_state.GlobalState", 0.12638762402265097], ["models.characters.states.State", 0.08233072253209038]]}, "q_name": "TestExternalTaskSensor.add_dummy_task_group", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "target_states": "", "ti": ""}, "variables_p": {"_": [["list", 0.41321493808279675], ["str", 0.11693201974712356], ["Dict[Any, int]", 0.11635260986526463], ["List[str]", 0.0970085683857417], ["set", 0.08877628475384781]], "target_states": [["list", 0.22741574163442607], ["int", 0.13682842927296995], ["deque[Any]", 0.09144744275322017]], "ti": [["int", 0.23383863634411423], ["byceps.services.user.transfer.models.User", 0.14293336620680216], ["app.models.Journey", 0.08638229095438547], ["golem.task.taskstate.SubtaskState", 0.08378485851627354], ["backend.api.models.group.Group", 0.0827156832509323], ["tuple", 0.08023234705630523]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[121, 16], [122, 24]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "dummy_task", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.add_dummy_task_group_with_dynamic_tasks.<locals>.dummy_task", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[125, 16], [126, 28]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "dummy_mapped_task", "params": {"x": "builtins.int"}, "params_descr": {"x": ""}, "params_occur": {"x": []}, "params_p": {"args": [], "kwargs": [], "self": [], "x": [["bool", 0.18568992298055237], ["str", 0.1112972478494366]]}, "q_name": "TestExternalTaskSensor.add_dummy_task_group_with_dynamic_tasks.<locals>.dummy_mapped_task", "ret_exprs": ["return x"], "ret_type": "", "ret_type_p": [["List[int]", 0.20155551319817838], ["Set[Optional[str]]", 0.10828392296187718], ["int", 0.09760193903189265], ["bool", 0.09410460700907629], ["Dict[str, str]", 0.09362264258874146]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[115, 4], [142, 42]], "fn_var_ln": {"map_indexes": [[116, 8], [116, 19]], "ti": [[140, 16], [140, 18]]}, "fn_var_occur": {"map_indexes": [["dummy_mapped_task", "expand", "x", "i", "i", "map_indexes"]], "ti": [["ti", "TaskInstance", "task", "task", "execution_date", "DEFAULT_DATE", "map_index", "map_index"], ["ti", "run", "ignore_ti_state", "True", "mark_success", "True"], ["ti", "set_state", "target_state"], ["ti", "TaskInstance", "task", "task", "execution_date", "DEFAULT_DATE"], ["ti", "run", "ignore_ti_state", "True", "mark_success", "True"], ["ti", "set_state", "target_state"]]}, "name": "add_dummy_task_group_with_dynamic_tasks", "params": {"self": "", "target_state": ""}, "params_descr": {"self": "", "target_state": ""}, "params_occur": {"self": [], "target_state": [["ti", "set_state", "target_state"], ["ti", "set_state", "target_state"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "target_state": [["raiden.transfer.state.ChainState", 0.34510066781216625], ["mythril.laser.ethereum.state.global_state.GlobalState", 0.32742441001061623], ["models.State", 0.12154916154980401], ["raiden.transfer.mediated_transfer.state.InitiatorPaymentState", 0.11794512416020182]]}, "q_name": "TestExternalTaskSensor.add_dummy_task_group_with_dynamic_tasks", "ret_exprs": [], "ret_type": "", "variables": {"map_indexes": "", "ti": ""}, "variables_p": {"map_indexes": [["float", 0.3057776885120796], ["List[int]", 0.18907917223208381], ["Dict[str, Any]", 0.11917041061605459], ["list", 0.1001055177175867], ["types.SimpleNamespace", 0.09371822357788]], "ti": [["int", 0.2576360234297474], ["buza.models.Subject", 0.24470034959274156], ["byceps.services.user.transfer.models.User", 0.14276531270173434], ["accounts.models.Account", 0.08677366735666783], ["List[Tuple[Any, Any]]", 0.08417465677508554], ["rotkehlchen.tests.utils.rotkehlchen.BalancesTestSetup", 0.07966721098068055]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[144, 4], [152, 84]], "fn_var_ln": {"op": [[146, 8], [146, 10]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_sensor", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["taskiapplication.models.task.Task", 0.30254154675490563], ["golem.task.task_api.EnvironmentTaskApiService", 0.20823174571647823], ["Dict[str, Union[Any, bool, str]]", 0.18233138328917398], ["reminders.task.Task", 0.11366146797144644], ["golem.task.taskbase.Task", 0.10386426627238245]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[154, 4], [163, 84]], "fn_var_ln": {"op": [[157, 8], [157, 10]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_sensor_multiple_task_ids", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor", "task_id", "TEST_TASK_ID"], ["self", "add_time_sensor", "task_id", "TEST_TASK_ID_ALTERNATE"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_multiple_task_ids", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["List[str]", 0.1181417609811139], ["golem.task.task_api.EnvironmentTaskApiService", 0.10631550737085281], ["restful_functions.modules.task.TaskStore", 0.10037739532146535], ["list", 0.09331562171368298], ["str", 0.09242285523463041]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[165, 4], [174, 84]], "fn_var_ln": {"op": [[168, 8], [168, 10]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_sensor_with_task_group", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["self", "add_dummy_task_group"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_with_task_group", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["Dict[str, Union[Any, bool, str]]", 0.21968501642805469], ["restful_functions.modules.task.TaskStore", 0.11614074969300116], ["golem.task.task_api.EnvironmentTaskApiService", 0.1096589044252169], ["list", 0.10030930185395834], ["Dict[str, Dict[str, int]]", 0.09568759215172266], ["khetha.models.Task", 0.08431170457961301]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[176, 4], [189, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_raise_with_external_task_sensor_task_id_and_task_ids", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "external_task_ids", "TEST_TASK_ID", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_raise_with_external_task_sensor_task_id_and_task_ids", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[191, 4], [204, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_raise_with_external_task_sensor_task_group_and_task_id", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_raise_with_external_task_sensor_task_group_and_task_id", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[206, 4], [219, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_raise_with_external_task_sensor_task_group_and_task_ids", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_raise_with_external_task_sensor_task_group_and_task_ids", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[223, 4], [235, 88]], "fn_var_ln": {"op": [[227, 12], [227, 14]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "timeout", "dag", "self", "dag", "poke_interval"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_group_not_exists_without_check_existence", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["self", "add_dummy_task_group"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "timeout", "dag", "self", "dag", "poke_interval"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_group_not_exists_without_check_existence", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["taskiapplication.models.task.Task", 0.2988074920979308], ["Dict[str, Union[Any, bool, str]]", 0.1878869352309851], ["golem.task.taskbase.Task", 0.11068442317772596], ["restful_functions.modules.task.TaskStore", 0.10386413414533374], ["golem.task.task_api.EnvironmentTaskApiService", 0.10373408882621976], ["reminders.task.Task", 0.10365762410076852]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[237, 4], [247, 84]], "fn_var_ln": {"op": [[240, 8], [240, 10]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_group_sensor_success", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["self", "add_dummy_task_group"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_group_sensor_success", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["Dict[str, Union[Any, bool, str]]", 0.21968501642805469], ["restful_functions.modules.task.TaskStore", 0.11614074969300116], ["golem.task.task_api.EnvironmentTaskApiService", 0.1096589044252169], ["list", 0.10030930185395834], ["Dict[str, Dict[str, int]]", 0.09568759215172266], ["khetha.models.Task", 0.08431170457961301]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[249, 4], [264, 88]], "fn_var_ln": {"op": [[253, 8], [253, 10]], "ti_states": [[250, 8], [250, 17]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]], "ti_states": [["ti_states", "State", "FAILED", "State", "FAILED"], ["self", "add_dummy_task_group", "ti_states"]]}, "name": "test_external_task_group_sensor_failed_states", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["self", "add_dummy_task_group", "ti_states"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_group_sensor_failed_states", "ret_exprs": [], "ret_type": "", "variables": {"op": "", "ti_states": ""}, "variables_p": {"op": [["Dict[str, Union[Any, bool, str]]", 0.21968501642805469], ["restful_functions.modules.task.TaskStore", 0.11614074969300116], ["golem.task.task_api.EnvironmentTaskApiService", 0.1096589044252169], ["list", 0.10030930185395834], ["Dict[str, Dict[str, int]]", 0.09568759215172266], ["khetha.models.Task", 0.08431170457961301]], "ti_states": [["int", 0.6105929554665986]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[266, 4], [275, 13]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_catch_overlap_allowed_failed_state", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "State", "SUCCESS", "failed_states", "State", "SUCCESS", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_catch_overlap_allowed_failed_state", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[277, 4], [285, 13]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_external_task_sensor_wrong_failed_states", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "failed_states", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_wrong_failed_states", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[287, 4], [296, 84]], "fn_var_ln": {"op": [[289, 8], [289, 10]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "failed_states", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_sensor_failed_states", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "failed_states", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_failed_states", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["Dict[str, Union[Any, bool, str]]", 0.21344864390652846], ["golem.task.task_api.EnvironmentTaskApiService", 0.11690409501520099], ["restful_functions.modules.task.TaskStore", 0.10226183438509658], ["list", 0.09993478722889824], ["Dict[str, Dict[str, int]]", 0.09626768853533936], ["khetha.models.Task", 0.08956556962716432], ["List[str]", 0.08440500774254109]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[298, 4], [315, 28]], "fn_var_ln": {"error_message": [[308, 8], [308, 21]], "op": [[300, 8], [300, 10]]}, "fn_var_occur": {"error_message": [["error_message", "TEST_TASK_ID", "TEST_DAG_ID"], ["pytest", "raises", "AirflowException", "match", "error_message"]], "op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "failed_states", "dag", "self", "dag"], ["caplog", "at_level", "logging", "INFO", "logger", "op", "log", "name"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_sensor_failed_states_as_success", "params": {"caplog": "", "self": ""}, "params_descr": {"caplog": "", "self": ""}, "params_occur": {"caplog": [["caplog", "at_level", "logging", "INFO", "logger", "op", "log", "name"], ["caplog", "clear"], ["TEST_TASK_ID", "TEST_DAG_ID", "DEFAULT_DATE", "isoformat", "caplog", "messages"]], "self": [["self", "add_time_sensor"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "failed_states", "dag", "self", "dag"]]}, "params_p": {"args": [], "caplog": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_failed_states_as_success", "ret_exprs": [], "ret_type": "", "variables": {"error_message": "", "op": ""}, "variables_p": {"error_message": [["KeysView[str]", 0.19640784528571475], ["Dict[str, Dict[str, Any]]", 0.12525832232178885], ["Dict[str, str]", 0.0978359807919284], ["List[str]", 0.09566023547568342], ["Dict[Tuple[int, int], str]", 0.09318227252749277], ["Dict[str, Union[int, Any]]", 0.0916800725560939]], "op": [["Dict[str, Union[Any, bool, str]]", 0.21344864390652846], ["golem.task.task_api.EnvironmentTaskApiService", 0.11690409501520099], ["restful_functions.modules.task.TaskStore", 0.10226183438509658], ["list", 0.09993478722889824], ["Dict[str, Dict[str, int]]", 0.09626768853533936], ["khetha.models.Task", 0.08956556962716432], ["List[str]", 0.08440500774254109]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[317, 4], [337, 89]], "fn_var_ln": {"TI": [[334, 8], [334, 10]], "op": [[319, 8], [319, 10]], "session": [[333, 8], [333, 15]], "task_instances": [[335, 8], [335, 22]]}, "fn_var_occur": {"TI": [["TI", "TaskInstance"], ["task_instances", "builtins", "list", "TI", "session", "query", "TI", "filter", "TI", "task_id", "op", "task_id", "all"]], "op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "State", "FAILED", "failed_states", "State", "SUCCESS", "soft_fail", "True", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["task_instances", "builtins", "list", "TI", "session", "query", "TI", "filter", "TI", "task_id", "op", "task_id", "all"]], "session": [["session", "settings", "Session"], ["task_instances", "builtins", "list", "TI", "session", "query", "TI", "filter", "TI", "task_id", "op", "task_id", "all"]], "task_instances": [["task_instances", "builtins", "list", "TI", "session", "query", "TI", "filter", "TI", "task_id", "op", "task_id", "all"], ["len", "task_instances"], ["task_instances", "state", "State", "SKIPPED"]]}, "name": "test_external_task_sensor_soft_fail_failed_states_as_skipped", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "State", "FAILED", "failed_states", "State", "SUCCESS", "soft_fail", "True", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_soft_fail_failed_states_as_skipped", "ret_exprs": [], "ret_type": "", "variables": {"TI": "", "op": "", "session": "", "task_instances": "builtins.list[TI]"}, "variables_p": {"TI": [["list", 0.6159522443085305], ["str", 0.09746931875431647]], "op": [["Dict[str, Union[Any, bool, str]]", 0.21344864390652846], ["golem.task.task_api.EnvironmentTaskApiService", 0.11690409501520099], ["restful_functions.modules.task.TaskStore", 0.10226183438509658], ["list", 0.09993478722889824], ["Dict[str, Dict[str, int]]", 0.09626768853533936], ["khetha.models.Task", 0.08956556962716432], ["List[str]", 0.08440500774254109]], "session": [["list", 0.23069516467821438], ["reminders.task.Task", 0.11519453698571851], ["Callable", 0.09420283809854288]], "task_instances": [["list", 0.9999999999999999]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[339, 4], [357, 89]], "fn_var_ln": {"TI": [[354, 8], [354, 10]], "op": [[341, 8], [341, 10]], "task_instances": [[355, 8], [355, 22]]}, "fn_var_occur": {"TI": [["TI", "TaskInstance"], ["task_instances", "builtins", "list", "TI", "session", "query", "TI", "filter", "TI", "task_id", "op", "task_id", "all"]], "op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "State", "FAILED", "skipped_states", "State", "SUCCESS", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["task_instances", "builtins", "list", "TI", "session", "query", "TI", "filter", "TI", "task_id", "op", "task_id", "all"]], "task_instances": [["task_instances", "builtins", "list", "TI", "session", "query", "TI", "filter", "TI", "task_id", "op", "task_id", "all"], ["len", "task_instances"], ["task_instances", "state", "State", "SKIPPED"]]}, "name": "test_external_task_sensor_skipped_states_as_skipped", "params": {"self": "", "session": ""}, "params_descr": {"self": "", "session": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "State", "FAILED", "skipped_states", "State", "SUCCESS", "dag", "self", "dag"]], "session": [["task_instances", "builtins", "list", "TI", "session", "query", "TI", "filter", "TI", "task_id", "op", "task_id", "all"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "session": [["correios.models.user.PostingCard", 0.16049077078555296], ["utils.clienClient", 0.1175818690231101], ["fal.models.Season", 0.09914891409757129], ["Iterable[models.Movie]", 0.07928998336772067]]}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_skipped_states_as_skipped", "ret_exprs": [], "ret_type": "", "variables": {"TI": "", "op": "", "task_instances": "builtins.list[TI]"}, "variables_p": {"TI": [["list", 0.6159522443085305], ["str", 0.09746931875431647]], "op": [["Dict[str, Union[Any, bool, str]]", 0.21344864390652846], ["golem.task.task_api.EnvironmentTaskApiService", 0.11690409501520099], ["restful_functions.modules.task.TaskStore", 0.10226183438509658], ["list", 0.09993478722889824], ["Dict[str, Dict[str, int]]", 0.09626768853533936], ["khetha.models.Task", 0.08956556962716432], ["List[str]", 0.08440500774254109]], "task_instances": [["list", 0.9999999999999999]]}}, {"docstring": {"func": "Test external_task_ids is set properly when external_task_id is passed as a template", "long_descr": null, "ret": null}, "fn_lc": [[359, 4], [376, 32]], "fn_var_ln": {"op": [[362, 8], [362, 10]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "external_task_id", "params", "TEST_DAG_ID", "TEST_TASK_ID", "dag", "self", "dag"], ["caplog", "at_level", "logging", "INFO", "logger", "op", "log", "name"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_sensor_external_task_id_param", "params": {"caplog": "", "self": ""}, "params_descr": {"caplog": "", "self": ""}, "params_occur": {"caplog": [["caplog", "at_level", "logging", "INFO", "logger", "op", "log", "name"], ["caplog", "clear"], ["TEST_TASK_ID", "TEST_DAG_ID", "DEFAULT_DATE", "isoformat", "caplog", "messages"]], "self": [["self", "add_time_sensor"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "external_task_id", "params", "TEST_DAG_ID", "TEST_TASK_ID", "dag", "self", "dag"]]}, "params_p": {"args": [], "caplog": [["str", 0.08864347426049961]], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_external_task_id_param", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["str", 0.24425889338140766], ["list", 0.2124162072975247], ["khetha.models.Task", 0.08677493982828316], ["sensibility.miner.models.RepositoryMetadata", 0.0831932594481801]]}}, {"docstring": {"func": "Test external_task_ids rendering when a template is passed.", "long_descr": null, "ret": null}, "fn_lc": [[378, 4], [395, 32]], "fn_var_ln": {"op": [[381, 8], [381, 10]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "external_task_ids", "params", "TEST_DAG_ID", "TEST_TASK_ID", "dag", "self", "dag"], ["caplog", "at_level", "logging", "INFO", "logger", "op", "log", "name"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_sensor_external_task_ids_param", "params": {"caplog": "", "self": ""}, "params_descr": {"caplog": "", "self": ""}, "params_occur": {"caplog": [["caplog", "at_level", "logging", "INFO", "logger", "op", "log", "name"], ["caplog", "clear"], ["TEST_TASK_ID", "TEST_DAG_ID", "DEFAULT_DATE", "isoformat", "caplog", "messages"]], "self": [["self", "add_time_sensor"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "external_task_ids", "params", "TEST_DAG_ID", "TEST_TASK_ID", "dag", "self", "dag"]]}, "params_p": {"args": [], "caplog": [["str", 0.08864347426049961]], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_external_task_ids_param", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["str", 0.24425889338140766], ["list", 0.2124162072975247], ["khetha.models.Task", 0.08677493982828316], ["sensibility.miner.models.RepositoryMetadata", 0.0831932594481801]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[397, 4], [419, 28]], "fn_var_ln": {"error_message": [[408, 8], [408, 21]], "op": [[400, 8], [400, 10]]}, "fn_var_occur": {"error_message": [["error_message", "TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "TEST_DAG_ID"], ["pytest", "raises", "AirflowException", "match", "error_message"]], "op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "allowed_states", "failed_states", "dag", "self", "dag"], ["caplog", "at_level", "logging", "INFO", "logger", "op", "log", "name"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_sensor_failed_states_as_success_mulitple_task_ids", "params": {"caplog": "", "self": ""}, "params_descr": {"caplog": "", "self": ""}, "params_occur": {"caplog": [["caplog", "at_level", "logging", "INFO", "logger", "op", "log", "name"], ["caplog", "clear"], ["TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "DEFAULT_DATE", "isoformat", "caplog", "messages"]], "self": [["self", "add_time_sensor", "task_id", "TEST_TASK_ID"], ["self", "add_time_sensor", "task_id", "TEST_TASK_ID_ALTERNATE"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "allowed_states", "failed_states", "dag", "self", "dag"]]}, "params_p": {"args": [], "caplog": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_failed_states_as_success_mulitple_task_ids", "ret_exprs": [], "ret_type": "", "variables": {"error_message": "", "op": ""}, "variables_p": {"error_message": [["str", 0.3119346037447716], ["list", 0.1894233875492809], ["Dict[str, Any]", 0.11544157911512745], ["Dict[str, List[Any]]", 0.09321686148811123], ["List[Tuple[str, str]]", 0.09238393910818499]], "op": [["List[str]", 0.1181417609811139], ["golem.task.task_api.EnvironmentTaskApiService", 0.10631550737085281], ["restful_functions.modules.task.TaskStore", 0.10037739532146535], ["list", 0.09331562171368298], ["str", 0.09242285523463041]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[421, 4], [432, 84]], "fn_var_ln": {"op": [[426, 8], [426, 10]], "other_dag": [[422, 8], [422, 17]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "external_task_id", "None", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]], "other_dag": [["other_dag", "DAG", "default_args", "self", "args", "end_date", "DEFAULT_DATE", "schedule"], ["other_dag", "create_dagrun", "run_id", "start_date", "DEFAULT_DATE", "execution_date", "DEFAULT_DATE", "state", "State", "SUCCESS"]]}, "name": "test_external_dag_sensor", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["other_dag", "DAG", "default_args", "self", "args", "end_date", "DEFAULT_DATE", "schedule"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "external_task_id", "None", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_dag_sensor", "ret_exprs": [], "ret_type": "", "variables": {"op": "", "other_dag": ""}, "variables_p": {"op": [["taskiapplication.models.task.Task", 0.33584630976587093], ["golem.task.task_api.EnvironmentTaskApiService", 0.18534099450937513], ["golem.task.taskbase.Task", 0.0995518387161052], ["reminders.task.Task", 0.09750341884189895], ["restful_functions.modules.task.TaskStore", 0.08859528457478259]], "other_dag": [["list", 0.1184943161509402]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[434, 4], [445, 100]], "fn_var_ln": {"op": [[439, 8], [439, 10]], "other_dag": [[435, 8], [435, 17]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]], "other_dag": [["other_dag", "DAG", "default_args", "self", "args", "end_date", "DEFAULT_DATE", "schedule"], ["other_dag", "create_dagrun", "run_id", "start_date", "DEFAULT_DATE", "execution_date", "DEFAULT_DATE", "state", "State", "SUCCESS"]]}, "name": "test_external_dag_sensor_log", "params": {"caplog": "", "self": ""}, "params_descr": {"caplog": "", "self": ""}, "params_occur": {"caplog": [["DEFAULT_DATE", "isoformat", "caplog", "messages"]], "self": [["other_dag", "DAG", "default_args", "self", "args", "end_date", "DEFAULT_DATE", "schedule"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "dag", "self", "dag"]]}, "params_p": {"args": [], "caplog": [["Callable", 0.20077349602298722]], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_dag_sensor_log", "ret_exprs": [], "ret_type": "", "variables": {"op": "", "other_dag": ""}, "variables_p": {"op": [["taskiapplication.models.task.Task", 0.33715236994007547], ["golem.task.task_api.EnvironmentTaskApiService", 0.20245073656940626], ["reminders.task.Task", 0.09263217522169236], ["golem.task.taskbase.Task", 0.09210966166360013]], "other_dag": [["list", 0.1184943161509402]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[447, 4], [470, 89]], "fn_var_ln": {"TI": [[467, 8], [467, 10]], "op": [[452, 8], [452, 10]], "other_dag": [[448, 8], [448, 17]], "session": [[466, 8], [466, 15]], "task_instances": [[468, 8], [468, 22]]}, "fn_var_occur": {"TI": [["TI", "TaskInstance"], ["task_instances", "builtins", "list", "TI", "session", "query", "TI", "filter", "TI", "task_id", "op", "task_id", "all"]], "op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "external_task_id", "None", "allowed_states", "State", "FAILED", "failed_states", "State", "SUCCESS", "soft_fail", "True", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["task_instances", "builtins", "list", "TI", "session", "query", "TI", "filter", "TI", "task_id", "op", "task_id", "all"]], "other_dag": [["other_dag", "DAG", "default_args", "self", "args", "end_date", "DEFAULT_DATE", "schedule"], ["other_dag", "create_dagrun", "run_id", "start_date", "DEFAULT_DATE", "execution_date", "DEFAULT_DATE", "state", "State", "SUCCESS"]], "session": [["session", "settings", "Session"], ["task_instances", "builtins", "list", "TI", "session", "query", "TI", "filter", "TI", "task_id", "op", "task_id", "all"]], "task_instances": [["task_instances", "builtins", "list", "TI", "session", "query", "TI", "filter", "TI", "task_id", "op", "task_id", "all"], ["len", "task_instances"], ["task_instances", "state", "State", "SKIPPED"]]}, "name": "test_external_dag_sensor_soft_fail_as_skipped", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["other_dag", "DAG", "default_args", "self", "args", "end_date", "DEFAULT_DATE", "schedule"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "external_task_id", "None", "allowed_states", "State", "FAILED", "failed_states", "State", "SUCCESS", "soft_fail", "True", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_dag_sensor_soft_fail_as_skipped", "ret_exprs": [], "ret_type": "", "variables": {"TI": "", "op": "", "other_dag": "", "session": "", "task_instances": "builtins.list[TI]"}, "variables_p": {"TI": [["list", 0.6159522443085305], ["str", 0.09746931875431647]], "op": [["Dict[str, Union[Any, bool, str]]", 0.19770062374309755], ["o2a.converter.task.Task", 0.17525190253994033], ["restful_functions.modules.task.TaskStore", 0.12219422687838082], ["golem.task.task_api.EnvironmentTaskApiService", 0.08114928123197115], ["int", 0.07604514875844802], ["Dict[str, Optional[str]]", 0.07538912842548769]], "other_dag": [["list", 0.1184943161509402]], "session": [["list", 0.23069516467821438], ["reminders.task.Task", 0.11519453698571851], ["Callable", 0.09420283809854288]], "task_instances": [["list", 0.9999999999999999]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[472, 4], [571, 47]], "fn_var_ln": {"TI": [[496, 8], [496, 10]], "bash_command_code": [[473, 8], [473, 25]], "dag": [[520, 8], [520, 11]], "dag_external": [[483, 8], [483, 20]], "dag_external_id": [[482, 8], [482, 23]], "dag_id": [[519, 8], [519, 14]], "failed_tis": [[505, 12], [505, 22]], "session": [[495, 8], [495, 15]], "task_chain_with_failure": [[552, 8], [552, 31]], "task_external_with_failure": [[484, 8], [484, 34]], "task_external_without_failure": [[487, 8], [487, 37]], "task_with_failure": [[532, 8], [532, 25]], "task_without_failure": [[521, 8], [521, 28]]}, "fn_var_occur": {"TI": [["TI", "TaskInstance"], ["failed_tis", "session", "query", "TI", "filter", "TI", "dag_id", "dag_external_id", "TI", "state", "State", "FAILED", "TI", "execution_date", "DEFAULT_DATE", "timedelta", "seconds", "all"]], "bash_command_code": [["task_external_with_failure", "BashOperator", "task_id", "bash_command", "bash_command_code", "retries", "dag", "dag_external"]], "dag": [["task_external_with_failure", "BashOperator", "task_id", "bash_command", "bash_command_code", "retries", "dag", "dag_external"], ["task_external_without_failure", "EmptyOperator", "task_id", "retries", "dag", "dag_external"], ["dag", "DAG", "dag_id", "default_args", "self", "args", "schedule", "timedelta", "minutes"], ["task_without_failure", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_external_id", "external_task_id", "execution_date_fn", "dt", "dt", "timedelta", "seconds", "i", "i", "range", "allowed_states", "retries", "timeout", "poke_interval", "dag", "dag"], ["task_with_failure", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_external_id", "external_task_id", "execution_date_fn", "dt", "dt", "timedelta", "seconds", "i", "i", "range", "allowed_states", "retries", "timeout", "poke_interval", "dag", "dag"], ["task_chain_with_failure", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_external_id", "external_task_id", "execution_date_fn", "dt", "dt", "timedelta", "seconds", "i", "i", "range", "allowed_states", "failed_states", "retries", "timeout", "poke_interval", "dag", "dag"]], "dag_external": [["dag_external", "DAG", "dag_external_id", "default_args", "self", "args", "schedule", "timedelta", "seconds"], ["task_external_with_failure", "BashOperator", "task_id", "bash_command", "bash_command_code", "retries", "dag", "dag_external"], ["task_external_without_failure", "EmptyOperator", "task_id", "retries", "dag", "dag_external"]], "dag_external_id": [["dag_external_id", "TEST_DAG_ID"], ["dag_external", "DAG", "dag_external_id", "default_args", "self", "args", "schedule", "timedelta", "seconds"], ["failed_tis", "session", "query", "TI", "filter", "TI", "dag_id", "dag_external_id", "TI", "state", "State", "FAILED", "TI", "execution_date", "DEFAULT_DATE", "timedelta", "seconds", "all"], ["task_without_failure", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_external_id", "external_task_id", "execution_date_fn", "dt", "dt", "timedelta", "seconds", "i", "i", "range", "allowed_states", "retries", "timeout", "poke_interval", "dag", "dag"], ["task_with_failure", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_external_id", "external_task_id", "execution_date_fn", "dt", "dt", "timedelta", "seconds", "i", "i", "range", "allowed_states", "retries", "timeout", "poke_interval", "dag", "dag"], ["task_chain_with_failure", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_external_id", "external_task_id", "execution_date_fn", "dt", "dt", "timedelta", "seconds", "i", "i", "range", "allowed_states", "failed_states", "retries", "timeout", "poke_interval", "dag", "dag"]], "dag_id": [["failed_tis", "session", "query", "TI", "filter", "TI", "dag_id", "dag_external_id", "TI", "state", "State", "FAILED", "TI", "execution_date", "DEFAULT_DATE", "timedelta", "seconds", "all"], ["dag_id", "TEST_DAG_ID"], ["dag", "DAG", "dag_id", "default_args", "self", "args", "schedule", "timedelta", "minutes"]], "failed_tis": [["failed_tis", "session", "query", "TI", "filter", "TI", "dag_id", "dag_external_id", "TI", "state", "State", "FAILED", "TI", "execution_date", "DEFAULT_DATE", "timedelta", "seconds", "all"], ["len", "failed_tis", "failed_tis", "task_id"]], "session": [["session", "settings", "Session"], ["failed_tis", "session", "query", "TI", "filter", "TI", "dag_id", "dag_external_id", "TI", "state", "State", "FAILED", "TI", "execution_date", "DEFAULT_DATE", "timedelta", "seconds", "all"]], "task_chain_with_failure": [["task_chain_with_failure", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_external_id", "external_task_id", "execution_date_fn", "dt", "dt", "timedelta", "seconds", "i", "i", "range", "allowed_states", "failed_states", "retries", "timeout", "poke_interval", "dag", "dag"], ["task_chain_with_failure", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]], "task_external_with_failure": [["task_external_with_failure", "BashOperator", "task_id", "bash_command", "bash_command_code", "retries", "dag", "dag_external"], ["task_external_with_failure", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "timedelta", "seconds", "ignore_ti_state", "True"]], "task_external_without_failure": [["task_external_without_failure", "EmptyOperator", "task_id", "retries", "dag", "dag_external"], ["task_external_without_failure", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "timedelta", "seconds", "ignore_ti_state", "True"]], "task_with_failure": [["task_with_failure", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_external_id", "external_task_id", "execution_date_fn", "dt", "dt", "timedelta", "seconds", "i", "i", "range", "allowed_states", "retries", "timeout", "poke_interval", "dag", "dag"], ["task_with_failure", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]], "task_without_failure": [["task_without_failure", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_external_id", "external_task_id", "execution_date_fn", "dt", "dt", "timedelta", "seconds", "i", "i", "range", "allowed_states", "retries", "timeout", "poke_interval", "dag", "dag"], ["task_without_failure", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_sensor_fn_multiple_execution_dates", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["dag_external", "DAG", "dag_external_id", "default_args", "self", "args", "schedule", "timedelta", "seconds"], ["dag", "DAG", "dag_id", "default_args", "self", "args", "schedule", "timedelta", "minutes"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_fn_multiple_execution_dates", "ret_exprs": [], "ret_type": "", "variables": {"TI": "", "bash_command_code": "", "dag": "", "dag_external": "", "dag_external_id": "", "dag_id": "", "failed_tis": "", "session": "", "task_chain_with_failure": "", "task_external_with_failure": "", "task_external_without_failure": "", "task_with_failure": "", "task_without_failure": ""}, "variables_p": {"TI": [["int", 0.6441593098479766], ["list", 0.10130941960200487], ["set", 0.09047626418692065]], "bash_command_code": [["str", 0.40755061342332743], ["int", 0.3046587908963754], ["Optional[str]", 0.10486457647637194], ["DefaultDict[Any, dict]", 0.08986835045597191]], "dag": [["str", 0.49036051186853113], ["bytearray", 0.11293681304298255], ["bool", 0.09689220812160373], ["Dict[str, Any]", 0.08452003363420754]], "dag_external": [["utils.mssql_counters.Section", 0.0985797476667412]], "dag_external_id": [["List[str]", 0.19154776662738934], ["str", 0.1382210133727793], ["list", 0.13012783824458574], ["tagstore.models.entity.EntityId", 0.09301868480028865], ["int", 0.08803387382540101]], "dag_id": [["int", 0.4678135095429996], ["Pattern[Any]", 0.08766590648795505], ["str", 0.0862021423761842]], "failed_tis": [["str", 0.18195736450999334], ["int", 0.17318897315037704], ["List[str]", 0.11464367900561778], ["backend.api.models.group.Group", 0.10286466587016167], ["byceps.services.user.transfer.models.User", 0.08399284903653294]], "session": [["int", 0.3794215625252861], ["List[List[int]]", 0.19357617549880957], ["legistar.models.MatterStatus", 0.13321154535656754], ["List[str]", 0.10860556229124815], ["Dict[str, str]", 0.09387082694129664], ["Dict[str, object]", 0.09131432738679215]], "task_chain_with_failure": [["o2a.converter.task_group.TaskGroup", 0.39933345807882403], ["golem.task.taskbase.Task", 0.2187334172399683], ["kippo.tasks.models.KippoTask", 0.17293683287194483], ["src.models.generic_task.GenericTask", 0.1265455965787054], ["golem.task.taskstate.TaskState", 0.08245069523055752]], "task_external_with_failure": [["golem.task.taskcomputer.TaskComputer", 0.16088460138876307], ["Dict[str, Union[Any, bool, str]]", 0.1589036104802454], ["bytes", 0.11354552605043357], ["List[str]", 0.10875543411505915], ["Dict[str, Any]", 0.08882252571025183], ["restful_functions.modules.task.TaskStore", 0.08789307396210781]], "task_external_without_failure": [["List[List[int]]", 0.30392723184723924], ["List[str]", 0.18422056783470042], ["int", 0.163552022472802], ["Dict[str, str]", 0.07548236688898878], ["o2a.converter.task.Task", 0.06302441011541615]], "task_with_failure": [["golem.task.taskbase.Task", 0.21729925774332556], ["kippo.tasks.models.KippoTask", 0.2036145144555664], ["taskiapplication.models.task.Task", 0.20307099983926366], ["annofabapi.dataclass.task.Task", 0.1017970401241443], ["golem.task.taskcomputer.TaskComputer", 0.10057388092356066], ["zero.domain.task.Task", 0.08820214156316918], ["o2a.converter.task_group.TaskGroup", 0.08544216535097023]], "task_without_failure": [["o2a.converter.task_group.TaskGroup", 0.39933345807882403], ["golem.task.taskbase.Task", 0.2187334172399683], ["kippo.tasks.models.KippoTask", 0.17293683287194483], ["src.models.generic_task.GenericTask", 0.1265455965787054], ["golem.task.taskstate.TaskState", 0.08245069523055752]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[573, 4], [583, 84]], "fn_var_ln": {"op": [[575, 8], [575, 10]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_delta", "timedelta", "allowed_states", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_sensor_delta", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_delta", "timedelta", "allowed_states", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_delta", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["Dict[str, Union[Any, bool, str]]", 0.204819732586913], ["restful_functions.modules.task.TaskStore", 0.11085615247816698], ["golem.task.taskbase.Task", 0.10425771446407531], ["golem.task.task_api.EnvironmentTaskApiService", 0.10336837196864743], ["list", 0.09911333444986405], ["reminders.task.Task", 0.09511421974146919], ["taskiapplication.models.task.Task", 0.09363168644447345], ["khetha.models.Task", 0.0850337846821887]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[585, 4], [609, 89]], "fn_var_ln": {"op1": [[588, 8], [588, 11]], "op2": [[598, 8], [598, 11]]}, "fn_var_occur": {"op1": [["op1", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_date_fn", "dt", "dt", "timedelta", "allowed_states", "dag", "self", "dag"], ["op1", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]], "op2": [["op2", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_date_fn", "dt", "dt", "timedelta", "days", "allowed_states", "timeout", "poke_interval", "dag", "self", "dag"], ["op2", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_sensor_fn", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["op1", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_date_fn", "dt", "dt", "timedelta", "allowed_states", "dag", "self", "dag"], ["op2", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_date_fn", "dt", "dt", "timedelta", "days", "allowed_states", "timeout", "poke_interval", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_fn", "ret_exprs": [], "ret_type": "", "variables": {"op1": "", "op2": ""}, "variables_p": {"op1": [["Dict[str, Union[Any, bool, str]]", 0.2115462569955742], ["restful_functions.modules.task.TaskStore", 0.11282619684117269], ["golem.task.taskbase.Task", 0.11082160281404316], ["golem.task.task_api.EnvironmentTaskApiService", 0.09771625492077672], ["taskiapplication.models.task.Task", 0.09645460152566689], ["zero.domain.task.Task", 0.08743508822111383]], "op2": [["Dict[str, Union[Any, bool, str]]", 0.2115462569955742], ["restful_functions.modules.task.TaskStore", 0.11282619684117269], ["golem.task.taskbase.Task", 0.11082160281404316], ["golem.task.task_api.EnvironmentTaskApiService", 0.09771625492077672], ["taskiapplication.models.task.Task", 0.09645460152566689], ["zero.domain.task.Task", 0.08743508822111383]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[615, 8], [617, 36]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "my_func", "params": {"context": "", "dt": ""}, "params_descr": {"context": "", "dt": ""}, "params_occur": {"context": [["context", "dt"]], "dt": [["context", "dt"], ["dt", "timedelta"]]}, "params_p": {"args": [], "context": [["datetime.datetime", 0.8433757612185542], ["Optional[cmk.utils.diagnostics.DiagnosticsOptionalParameters]", 0.05860834808607399], ["int", 0.04938881139873819], ["List[Tuple[int, int]]", 0.048627079296633534]], "dt": [["datetime.datetime", 0.8433757612185542], ["Optional[cmk.utils.diagnostics.DiagnosticsOptionalParameters]", 0.05860834808607399], ["int", 0.04938881139873819], ["List[Tuple[int, int]]", 0.048627079296633534]], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_fn_multiple_args.<locals>.my_func", "ret_exprs": ["return dt + timedelta(0)"], "ret_type": "", "ret_type_p": [["str", 0.116571962707339], ["salon.models.Stylist", 0.11229696428105376], ["zerver.models.Realm", 0.09314360715754914]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Check this task sensor passes multiple args with full context. If no failure, means clean run.", "long_descr": null, "ret": null}, "fn_lc": [[611, 4], [627, 85]], "fn_var_ln": {"op1": [[619, 8], [619, 11]]}, "fn_var_occur": {"op1": [["op1", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_date_fn", "my_func", "allowed_states", "dag", "self", "dag"], ["op1", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_sensor_fn_multiple_args", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["op1", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_date_fn", "my_func", "allowed_states", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_fn_multiple_args", "ret_exprs": [], "ret_type": "", "variables": {"op1": ""}, "variables_p": {"op1": [["Dict[str, Union[Any, bool, str]]", 0.2115462569955742], ["restful_functions.modules.task.TaskStore", 0.11282619684117269], ["golem.task.taskbase.Task", 0.11082160281404316], ["golem.task.task_api.EnvironmentTaskApiService", 0.09771625492077672], ["taskiapplication.models.task.Task", 0.09645460152566689], ["zero.domain.task.Task", 0.08743508822111383]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[633, 8], [636, 36]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "my_func", "params": {"ds_nodash": "", "dt": "", "tomorrow_ds_nodash": ""}, "params_descr": {"ds_nodash": "", "dt": "", "tomorrow_ds_nodash": ""}, "params_occur": {"ds_nodash": [["ds_nodash", "dt", "strftime"]], "dt": [["ds_nodash", "dt", "strftime"], ["tomorrow_ds_nodash", "dt", "timedelta", "days", "strftime"], ["dt", "timedelta"]], "tomorrow_ds_nodash": [["tomorrow_ds_nodash", "dt", "timedelta", "days", "strftime"]]}, "params_p": {"args": [], "ds_nodash": [["int", 0.3856975738601051], ["str", 0.19246924980180533], ["dict", 0.09409617498551599], ["float", 0.08595313536545855], ["List[\"Outcome\"]", 0.07843600691335609]], "dt": [["int", 0.2741363430768891], ["raiden.utils.PaymentWithFeeAmount", 0.22400502911468323], ["str", 0.196848076805357], ["raiden.utils.Balance", 0.11200251455734161], ["raiden.utils.TokenAmount", 0.10604419479181641], ["bool", 0.08696384165391273]], "kwargs": [], "self": [], "tomorrow_ds_nodash": [["datetime.datetime", 0.30414588566573986], ["bool", 0.19034466930424365], ["Optional[datetime.datetime]", 0.15802231528172997], ["Union[int, Tuple[int, ...]]", 0.09437819206253939], ["str", 0.07530214554459053]]}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_fn_kwargs.<locals>.my_func", "ret_exprs": ["return dt + timedelta(0)"], "ret_type": "", "ret_type_p": [["str", 0.116571962707339], ["salon.models.Stylist", 0.11229696428105376], ["zerver.models.Realm", 0.09314360715754914]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Check this task sensor passes multiple args with full context. If no failure, means clean run.", "long_descr": null, "ret": null}, "fn_lc": [[629, 4], [646, 85]], "fn_var_ln": {"op1": [[638, 8], [638, 11]]}, "fn_var_occur": {"op1": [["op1", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_date_fn", "my_func", "allowed_states", "dag", "self", "dag"], ["op1", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_sensor_fn_kwargs", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["op1", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_date_fn", "my_func", "allowed_states", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_fn_kwargs", "ret_exprs": [], "ret_type": "", "variables": {"op1": ""}, "variables_p": {"op1": [["Dict[str, Union[Any, bool, str]]", 0.2115462569955742], ["restful_functions.modules.task.TaskStore", 0.11282619684117269], ["golem.task.taskbase.Task", 0.11082160281404316], ["golem.task.task_api.EnvironmentTaskApiService", 0.09771625492077672], ["taskiapplication.models.task.Task", 0.09645460152566689], ["zero.domain.task.Task", 0.08743508822111383]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[648, 4], [660, 13]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_external_task_sensor_error_delta_and_fn", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_delta", "timedelta", "execution_date_fn", "dt", "dt", "allowed_states", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_error_delta_and_fn", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[662, 4], [673, 13]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_external_task_sensor_error_task_id_and_task_ids", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "external_task_ids", "TEST_TASK_ID", "allowed_states", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_error_task_id_and_task_ids", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[675, 4], [685, 57]], "fn_var_ln": {"op1": [[677, 8], [677, 11]], "op2": [[678, 8], [678, 11]]}, "fn_var_occur": {"op1": [["op1", "MockOperator", "task_id", "dag", "self", "dag"], ["op2", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "XComArg", "op1", "allowed_states", "dag", "self", "dag"]], "op2": [["op2", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "XComArg", "op1", "allowed_states", "dag", "self", "dag"], ["isinstance", "op2", "external_task_ids", "XComArg"]]}, "name": "test_external_task_sensor_with_xcom_arg_does_not_fail_on_init", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["op1", "MockOperator", "task_id", "dag", "self", "dag"], ["op2", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "XComArg", "op1", "allowed_states", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_with_xcom_arg_does_not_fail_on_init", "ret_exprs": [], "ret_type": "", "variables": {"op1": "", "op2": ""}, "variables_p": {"op1": [["apps.rendering.task.renderingtaskstate.RenderingTaskDefinition", 0.36394399672281075], ["dict", 0.16645943307552297], ["Dict[str, Any]", 0.1118462347413143], ["apps.dummy.task.dummytaskstate.DummyTaskDefinition", 0.1068887093797662], ["Dict[int, str]", 0.0941608328123861], ["kippo.tasks.models.KippoTask", 0.07989868799766703], ["datetime.date.time.timedelta", 0.07680210527053277]], "op2": [["Dict[str, Union[Any, bool, str]]", 0.2012966601367325], ["restful_functions.modules.task.TaskStore", 0.11523206454672283], ["golem.task.taskbase.Task", 0.11034769093222684], ["golem.task.task_api.EnvironmentTaskApiService", 0.1066167125139213], ["list", 0.09710232917723717], ["reminders.task.Task", 0.09550080783137767], ["taskiapplication.models.task.Task", 0.09538277511281362]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[687, 4], [697, 67]], "fn_var_ln": {"op1": [[689, 8], [689, 11]]}, "fn_var_occur": {"op1": [["op1", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "TEST_TASK_ID", "allowed_states", "dag", "self", "dag"], ["op1", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE"]]}, "name": "test_catch_duplicate_task_ids", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["op1", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "TEST_TASK_ID", "allowed_states", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_catch_duplicate_task_ids", "ret_exprs": [], "ret_type": "", "variables": {"op1": ""}, "variables_p": {"op1": [["golem.task.taskbase.Task", 0.19378003813736894], ["taskiapplication.models.task.Task", 0.11079961955545832], ["reminders.task.Task", 0.10894021559890885], ["golem.task.task_api.EnvironmentTaskApiService", 0.10276939293161069], ["khetha.models.Task", 0.09228932402503459]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[699, 4], [717, 67]], "fn_var_ln": {"op1": [[701, 8], [701, 11]], "op2": [[708, 8], [708, 11]]}, "fn_var_occur": {"op1": [["op1", "PythonOperator", "python_callable", "task_id", "do_xcom_push", "True", "dag", "self", "dag"], ["op2", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "XComArg", "op1", "allowed_states", "dag", "self", "dag"], ["op1", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE"]], "op2": [["op2", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "XComArg", "op1", "allowed_states", "dag", "self", "dag"], ["op2", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE"]]}, "name": "test_catch_duplicate_task_ids_with_xcom_arg", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["op1", "PythonOperator", "python_callable", "task_id", "do_xcom_push", "True", "dag", "self", "dag"], ["op2", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "XComArg", "op1", "allowed_states", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_catch_duplicate_task_ids_with_xcom_arg", "ret_exprs": [], "ret_type": "", "variables": {"op1": "", "op2": ""}, "variables_p": {"op1": [["Dict[str, Union[Any, bool, str]]", 0.25619152453253496], ["List[List[int]]", 0.16363394100698067], ["Dict[str, str]", 0.08843870249503698]], "op2": [["Dict[str, Union[Any, bool, str]]", 0.2012966601367325], ["restful_functions.modules.task.TaskStore", 0.11523206454672283], ["golem.task.taskbase.Task", 0.11034769093222684], ["golem.task.task_api.EnvironmentTaskApiService", 0.1066167125139213], ["list", 0.09710232917723717], ["reminders.task.Task", 0.09550080783137767], ["taskiapplication.models.task.Task", 0.09538277511281362]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[719, 4], [738, 67]], "fn_var_ln": {"op1": [[722, 8], [722, 11]], "op2": [[729, 8], [729, 11]]}, "fn_var_occur": {"op1": [["op1", "PythonOperator", "python_callable", "task_id", "do_xcom_push", "True", "dag", "self", "dag"], ["op2", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "XComArg", "op1", "XComArg", "op1", "allowed_states", "dag", "self", "dag"], ["op1", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE"]], "op2": [["op2", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "XComArg", "op1", "XComArg", "op1", "allowed_states", "dag", "self", "dag"], ["op2", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE"]]}, "name": "test_catch_duplicate_task_ids_with_multiple_xcom_args", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["op1", "PythonOperator", "python_callable", "task_id", "do_xcom_push", "True", "dag", "self", "dag"], ["op2", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "XComArg", "op1", "XComArg", "op1", "allowed_states", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_catch_duplicate_task_ids_with_multiple_xcom_args", "ret_exprs": [], "ret_type": "", "variables": {"op1": "", "op2": ""}, "variables_p": {"op1": [["Dict[str, Union[Any, bool, str]]", 0.25619152453253496], ["List[List[int]]", 0.16363394100698067], ["Dict[str, str]", 0.08843870249503698]], "op2": [["Dict[str, Union[Any, bool, str]]", 0.2087397180275335], ["restful_functions.modules.task.TaskStore", 0.13526320824356708], ["list", 0.11053354763026346], ["golem.task.task_api.EnvironmentTaskApiService", 0.09114824945836802], ["khetha.models.Task", 0.08779881066239578], ["Dict[str, Dict[str, int]]", 0.08530354756116902]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[740, 4], [757, 13]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_catch_invalid_allowed_states", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "None", "allowed_states", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_catch_invalid_allowed_states", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[759, 4], [769, 88]], "fn_var_ln": {"op": [[760, 8], [760, 10]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "external_task_id", "check_existence", "True", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_sensor_waits_for_task_check_existence", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "external_task_id", "check_existence", "True", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_waits_for_task_check_existence", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["taskiapplication.models.task.Task", 0.2929656236762218], ["golem.task.task_api.EnvironmentTaskApiService", 0.21893169858899028], ["golem.task.taskbase.Task", 0.19716529813544387], ["reminders.task.Task", 0.09698038149419046], ["apps.blender.task.blenderrendertask.BlenderRenderTask", 0.09645886129901679]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[771, 4], [781, 88]], "fn_var_ln": {"op": [[772, 8], [772, 10]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "external_task_id", "None", "check_existence", "True", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_sensor_waits_for_dag_check_existence", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "external_task_id", "None", "check_existence", "True", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_sensor_waits_for_dag_check_existence", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["taskiapplication.models.task.Task", 0.29907311124831487], ["Dict[str, Union[Any, bool, str]]", 0.20498103020392983], ["restful_functions.modules.task.TaskStore", 0.1244861423869972], ["golem.task.task_api.EnvironmentTaskApiService", 0.09729791455552879]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[783, 4], [793, 84]], "fn_var_ln": {"op": [[786, 8], [786, 10]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_group_with_mapped_tasks_sensor_success", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["self", "add_dummy_task_group_with_dynamic_tasks"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_group_with_mapped_tasks_sensor_success", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["Dict[str, Union[Any, bool, str]]", 0.21968501642805469], ["restful_functions.modules.task.TaskStore", 0.11614074969300116], ["golem.task.task_api.EnvironmentTaskApiService", 0.1096589044252169], ["list", 0.10030930185395834], ["Dict[str, Dict[str, int]]", 0.09568759215172266], ["khetha.models.Task", 0.08431170457961301]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[795, 4], [809, 88]], "fn_var_ln": {"op": [[798, 8], [798, 10]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"]]}, "name": "test_external_task_group_with_mapped_tasks_failed_states", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["self", "add_dummy_task_group_with_dynamic_tasks", "State", "FAILED"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_group_with_mapped_tasks_failed_states", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["Dict[str, Union[Any, bool, str]]", 0.21968501642805469], ["restful_functions.modules.task.TaskStore", 0.11614074969300116], ["golem.task.task_api.EnvironmentTaskApiService", 0.1096589044252169], ["list", 0.10030930185395834], ["Dict[str, Dict[str, int]]", 0.09568759215172266], ["khetha.models.Task", 0.08431170457961301]]}}, {"docstring": {"func": "Test that the sensor does not fail when there are no TIs to check.", "long_descr": null, "ret": null}, "fn_lc": [[811, 4], [829, 13]], "fn_var_ln": {"op": [[815, 8], [815, 10]]}, "fn_var_occur": {"op": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag", "poke_interval", "timeout"], ["op", "run", "start_date", "DEFAULT_DATE", "timedelta", "hours", "end_date", "DEFAULT_DATE", "timedelta", "hours", "ignore_ti_state", "True"]]}, "name": "test_external_task_group_when_there_is_no_TIs", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "add_time_sensor"], ["self", "add_dummy_task_group_with_dynamic_tasks", "State", "FAILED"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag", "poke_interval", "timeout"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensor.test_external_task_group_when_there_is_no_TIs", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["Dict[str, Union[Any, bool, str]]", 0.21968501642805469], ["restful_functions.modules.task.TaskStore", 0.11614074969300116], ["golem.task.task_api.EnvironmentTaskApiService", 0.1096589044252169], ["list", 0.10030930185395834], ["Dict[str, Dict[str, int]]", 0.09568759215172266], ["khetha.models.Task", 0.08431170457961301]]}}], "name": "TestExternalTaskSensor", "q_name": "TestExternalTaskSensor", "variables": {}, "variables_p": {}}, {"cls_lc": [[864, 0], [881, 76]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[865, 4], [866, 87]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_serialized_fields", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskMarker.test_serialized_fields", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[868, 4], [881, 76]], "fn_var_ln": {"dag": [[869, 8], [869, 11]], "deserialized_op": [[878, 8], [878, 23]], "serialized_op": [[877, 8], [877, 21]], "task": [[870, 8], [870, 12]]}, "fn_var_occur": {"dag": [["dag", "DAG", "start_date", "DEFAULT_DATE"], ["task", "ExternalTaskMarker", "task_id", "external_dag_id", "external_task_id", "dag", "dag"]], "deserialized_op": [["deserialized_op", "SerializedBaseOperator", "deserialize_operator", "serialized_op"], ["deserialized_op", "task_type"], ["getattr", "deserialized_op"], ["getattr", "deserialized_op"]], "serialized_op": [["serialized_op", "SerializedBaseOperator", "serialize_operator", "task"], ["deserialized_op", "SerializedBaseOperator", "deserialize_operator", "serialized_op"]], "task": [["task", "ExternalTaskMarker", "task_id", "external_dag_id", "external_task_id", "dag", "dag"], ["serialized_op", "SerializedBaseOperator", "serialize_operator", "task"]]}, "name": "test_serialized_external_task_marker", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskMarker.test_serialized_external_task_marker", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "deserialized_op": "", "serialized_op": "", "task": ""}, "variables_p": {"dag": [["int", 0.5430261397521269], ["set", 0.15357461379536774], ["lists.models.Todo", 0.08947208549846865]], "deserialized_op": [["str", 0.38547535288076107], ["Tuple[str, str]", 0.3256897834914094], ["raiden.utils.Any", 0.09712231065359413], ["int", 0.0969206930805392], ["Dict[Union[Any, Any], str]", 0.09479185989369633]], "serialized_op": [["str", 0.9194756545469063]], "task": [["khetha.models.Task", 0.1630012228014404], ["list", 0.12641708251732295], ["Dict[str, Dict[str, int]]", 0.11418973100383217], ["golem.task.task_api.EnvironmentTaskApiService", 0.08390024481160543], ["Dict[str, Any]", 0.07729437449616398]]}}], "name": "TestExternalTaskMarker", "q_name": "TestExternalTaskMarker", "variables": {}, "variables_p": {}}, {"cls_lc": [[1462, 0], [1467, 51]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1463, 4], [1467, 51]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_deprecation_warning", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestExternalTaskSensorLink.test_deprecation_warning", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "TestExternalTaskSensorLink", "q_name": "TestExternalTaskSensorLink", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[60, 0], [61, 19]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "clean_db", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "clean_db", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[65, 0], [90, 23]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "dag_zip_maker", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "dag_zip_maker", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[832, 0], [837, 44]], "fn_var_ln": {"dag": [[835, 12], [835, 15]], "op": [[836, 12], [836, 14]]}, "fn_var_occur": {"dag": [["dag", "dagbag", "dags"], ["op", "dag", "tasks"]], "op": [["op", "dag", "tasks"], ["op", "_check_for_existence", "session"]]}, "name": "test_external_task_sensor_check_zipped_dag_existence", "params": {"dag_zip_maker": ""}, "params_descr": {"dag_zip_maker": ""}, "params_occur": {"dag_zip_maker": [["dag_zip_maker", "dagbag"]]}, "params_p": {"args": [], "dag_zip_maker": [["Mapping[str, str]", 0.08532803400754006]], "kwargs": []}, "q_name": "test_external_task_sensor_check_zipped_dag_existence", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "op": ""}, "variables_p": {"dag": [["str", 0.6491561280644847], ["Dict[Optional[str], str]", 0.16918395884340282]], "op": [["str", 0.30497528694684534], ["bytes", 0.12107388207723382], ["Type[str]", 0.11667256667078196], ["int", 0.10559006605561466], ["Pattern[str]", 0.08666790746520484], ["Dict[int, int]", 0.08545039268534896], ["Dict[str, Any]", 0.08476628049410039]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[840, 0], [861, 61]], "fn_var_ln": {"dagrun": [[848, 4], [848, 10]], "instance": [[849, 5], [849, 13]], "url": [[859, 8], [859, 11]]}, "fn_var_occur": {"dagrun": [["dagrun", "dag_maker", "create_dagrun", "run_type", "DagRunType", "SCHEDULED", "execution_date", "DEFAULT_DATE"], ["instance", "dagrun", "task_instances"]], "instance": [["instance", "dagrun", "task_instances"], ["instance", "render_templates"], ["instance", "task", "external_dag_id", "DEFAULT_DATE", "date"], ["instance", "task", "external_task_id", "DEFAULT_DATE", "date"], ["instance", "task", "external_task_ids", "DEFAULT_DATE", "date"], ["url", "instance", "task", "get_extra_links", "instance"]], "url": [["url", "instance", "task", "get_extra_links", "instance"], ["DEFAULT_DATE", "date", "url"]]}, "name": "test_external_task_sensor_templated", "params": {"app": "", "dag_maker": ""}, "params_descr": {"app": "", "dag_maker": ""}, "params_occur": {"app": [["app", "config"], ["app", "app_context"]], "dag_maker": [["dagrun", "dag_maker", "create_dagrun", "run_type", "DagRunType", "SCHEDULED", "execution_date", "DEFAULT_DATE"]]}, "params_p": {"app": [["raiden.utils.List[raiden.raiden_service.RaidenService]", 0.0801049023990788]], "args": [], "dag_maker": [["bool", 0.0943726849328054]], "kwargs": []}, "q_name": "test_external_task_sensor_templated", "ret_exprs": [], "ret_type": "", "variables": {"dagrun": "", "instance": "", "url": ""}, "variables_p": {"dagrun": [["str", 0.4028931516943144], ["Optional[hpaction.models.HPActionDocuments]", 0.11277962648738561], ["Dict[str, Union[int, str]]", 0.09403596828454043], ["dict", 0.09218121330712649], ["Union[Literal, Literal]", 0.09180639239457324], ["decksite.data.models.person.Person", 0.0910987393531009]], "instance": [["int", 0.4476525299805087], ["str", 0.14185790465946857], ["zerver.models.Realm", 0.12471157862001428], ["geode.models.common.Address", 0.10067740011078945], ["golem.task.taskbase.AcceptClientVerdict", 0.09430176162839544]], "url": [["str", 0.3145676990059287], ["dict", 0.18205276761063366], ["Optional[pxl.state.Album]", 0.08183478687145805], ["Pattern[str]", 0.08139426223091276], ["Optional[str]", 0.0782411350931068]]}}, {"docstring": {"func": "Create a DagBag with DAGs looking like this. The dotted lines represent external dependencies", "long_descr": "set up using ExternalTaskMarker and ExternalTaskSensor.\n\ndag_0:   task_a_0 >> task_b_0\n                         |\n                         |\ndag_1:                   ---> task_a_1 >> task_b_1\n                                              |\n                                              |\ndag_2:                                        ---> task_a_2 >> task_b_2\n                                                                   |\n                                                                   |\ndag_3:                                                             ---> task_a_3 >> task_b_3", "ret": null}, "fn_lc": [[885, 0], [942, 19]], "fn_var_ln": {"dag_0": [[905, 4], [905, 9]], "dag_1": [[912, 4], [912, 9]], "dag_2": [[921, 4], [921, 9]], "dag_3": [[930, 4], [930, 9]], "dag_bag": [[903, 4], [903, 11]], "task_a_0": [[906, 4], [906, 12]], "task_a_1": [[913, 4], [913, 12]], "task_a_2": [[922, 4], [922, 12]], "task_a_3": [[931, 4], [931, 12]], "task_b_0": [[907, 4], [907, 12]], "task_b_1": [[916, 4], [916, 12]], "task_b_2": [[925, 4], [925, 12]], "task_b_3": [[934, 4], [934, 12]]}, "fn_var_occur": {"dag_0": [["dag_0", "DAG", "start_date", "DEFAULT_DATE", "schedule", "None"], ["task_a_0", "EmptyOperator", "task_id", "dag", "dag_0"], ["task_b_0", "ExternalTaskMarker", "task_id", "external_dag_id", "external_task_id", "recursion_depth", "dag", "dag_0"], ["task_a_1", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_0", "dag_id", "external_task_id", "task_b_0", "task_id", "dag", "dag_1"], ["dag_0", "dag_1", "dag_2", "dag_3"]], "dag_1": [["dag_1", "DAG", "start_date", "DEFAULT_DATE", "schedule", "None"], ["task_a_1", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_0", "dag_id", "external_task_id", "task_b_0", "task_id", "dag", "dag_1"], ["task_b_1", "ExternalTaskMarker", "task_id", "external_dag_id", "external_task_id", "recursion_depth", "dag", "dag_1"], ["task_a_2", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_1", "dag_id", "external_task_id", "task_b_1", "task_id", "dag", "dag_2"], ["dag_0", "dag_1", "dag_2", "dag_3"]], "dag_2": [["dag_2", "DAG", "start_date", "DEFAULT_DATE", "schedule", "None"], ["task_a_2", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_1", "dag_id", "external_task_id", "task_b_1", "task_id", "dag", "dag_2"], ["task_b_2", "ExternalTaskMarker", "task_id", "external_dag_id", "external_task_id", "recursion_depth", "dag", "dag_2"], ["task_a_3", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_2", "dag_id", "external_task_id", "task_b_2", "task_id", "dag", "dag_3"], ["dag_0", "dag_1", "dag_2", "dag_3"]], "dag_3": [["dag_3", "DAG", "start_date", "DEFAULT_DATE", "schedule", "None"], ["task_a_3", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_2", "dag_id", "external_task_id", "task_b_2", "task_id", "dag", "dag_3"], ["task_b_3", "EmptyOperator", "task_id", "dag", "dag_3"], ["dag_0", "dag_1", "dag_2", "dag_3"]], "dag_bag": [["dag_bag", "DagBag", "dag_folder", "DEV_NULL", "include_examples", "False"], ["dag_bag", "bag_dag", "dag", "dag", "root_dag", "dag"]], "task_a_0": [["task_a_0", "EmptyOperator", "task_id", "dag", "dag_0"], ["task_a_0", "task_b_0"]], "task_a_1": [["task_a_1", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_0", "dag_id", "external_task_id", "task_b_0", "task_id", "dag", "dag_1"], ["task_a_1", "task_b_1"]], "task_a_2": [["task_a_2", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_1", "dag_id", "external_task_id", "task_b_1", "task_id", "dag", "dag_2"], ["task_a_2", "task_b_2"]], "task_a_3": [["task_a_3", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_2", "dag_id", "external_task_id", "task_b_2", "task_id", "dag", "dag_3"], ["task_a_3", "task_b_3"]], "task_b_0": [["task_b_0", "ExternalTaskMarker", "task_id", "external_dag_id", "external_task_id", "recursion_depth", "dag", "dag_0"], ["task_a_0", "task_b_0"], ["task_a_1", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_0", "dag_id", "external_task_id", "task_b_0", "task_id", "dag", "dag_1"]], "task_b_1": [["task_b_1", "ExternalTaskMarker", "task_id", "external_dag_id", "external_task_id", "recursion_depth", "dag", "dag_1"], ["task_a_1", "task_b_1"], ["task_a_2", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_1", "dag_id", "external_task_id", "task_b_1", "task_id", "dag", "dag_2"]], "task_b_2": [["task_b_2", "ExternalTaskMarker", "task_id", "external_dag_id", "external_task_id", "recursion_depth", "dag", "dag_2"], ["task_a_2", "task_b_2"], ["task_a_3", "ExternalTaskSensor", "task_id", "external_dag_id", "dag_2", "dag_id", "external_task_id", "task_b_2", "task_id", "dag", "dag_3"]], "task_b_3": [["task_b_3", "EmptyOperator", "task_id", "dag", "dag_3"], ["task_a_3", "task_b_3"]]}, "name": "dag_bag_ext", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "dag_bag_ext", "ret_exprs": [], "ret_type": "", "variables": {"dag_0": "", "dag_1": "", "dag_2": "", "dag_3": "", "dag_bag": "", "task_a_0": "", "task_a_1": "", "task_a_2": "", "task_a_3": "", "task_b_0": "", "task_b_1": "", "task_b_2": "", "task_b_3": ""}, "variables_p": {"dag_0": [["int", 0.3107425263231536], ["dict", 0.11060604439743763], ["backend.api.models.group.Group", 0.09989739754206375], ["List[Tuple[str, str]]", 0.0956137459279303], ["list", 0.09171522260199523], ["Tuple[str, str, str]", 0.09083284011909681]], "dag_1": [["int", 0.5078811460704323], ["Union[Literal[False], Literal[True]]", 0.09696460802364269], ["str", 0.07662315516970751]], "dag_2": [["int", 0.5078811460704323], ["Union[Literal[False], Literal[True]]", 0.09696460802364269], ["str", 0.07662315516970751]], "dag_3": [["int", 0.5078811460704323], ["Union[Literal[False], Literal[True]]", 0.09696460802364269], ["str", 0.07662315516970751]], "dag_bag": [], "task_a_0": [["List[str]", 0.25193266597126174], ["str", 0.1794379603366022], ["int", 0.10380964082308528], ["Dict[str, Union[Any, Any]]", 0.08260131623725125], ["Tuple[str, str]", 0.08009828424416468]], "task_a_1": [["int", 0.12420062786426099], ["Dict[str, str]", 0.11307793580082125], ["str", 0.10107835970323012], ["cmk.utils.type_defs.UserId", 0.09509649249089595], ["excars.models.user.User", 0.0876241771995185], ["golem.task.taskcomputer.TaskComputer", 0.08724085065761587]], "task_a_2": [["int", 0.12420062786426099], ["Dict[str, str]", 0.11307793580082125], ["str", 0.10107835970323012], ["cmk.utils.type_defs.UserId", 0.09509649249089595], ["excars.models.user.User", 0.0876241771995185], ["golem.task.taskcomputer.TaskComputer", 0.08724085065761587]], "task_a_3": [["int", 0.12420062786426099], ["Dict[str, str]", 0.11307793580082125], ["str", 0.10107835970323012], ["cmk.utils.type_defs.UserId", 0.09509649249089595], ["excars.models.user.User", 0.0876241771995185], ["golem.task.taskcomputer.TaskComputer", 0.08724085065761587]], "task_b_0": [["float", 0.43374423425542147], ["int", 0.1841119616350005], ["Dict[str, str]", 0.11486401232774505], ["o2a.converter.task.Task", 0.10352383945839952], ["Dict[str, Dict[str, Any]]", 0.08575028230802856], ["str", 0.07800567001540494]], "task_b_1": [["float", 0.43374423425542147], ["int", 0.1841119616350005], ["Dict[str, str]", 0.11486401232774505], ["o2a.converter.task.Task", 0.10352383945839952], ["Dict[str, Dict[str, Any]]", 0.08575028230802856], ["str", 0.07800567001540494]], "task_b_2": [["float", 0.43374423425542147], ["int", 0.1841119616350005], ["Dict[str, str]", 0.11486401232774505], ["o2a.converter.task.Task", 0.10352383945839952], ["Dict[str, Dict[str, Any]]", 0.08575028230802856], ["str", 0.07800567001540494]], "task_b_3": [["str", 0.19811949843032212], ["dict", 0.16969240717761985], ["Dict[str, str]", 0.15176410488963915], ["Dict[str, Optional[str]]", 0.07965388025144692], ["metaswitch_tinder.database.models.Request", 0.07853417745028786]]}}, {"docstring": {"func": "Create a DagBag with two DAGs looking like this. task_1 of child_dag_1 on day 1 depends on", "long_descr": "task_0 of parent_dag_0 on day 1. Therefore, when task_0 of parent_dag_0 on day 1 and day 2\nare cleared, parent_dag_0 DagRuns need to be set to running on both days, but child_dag_1\nonly needs to be set to running on day 1.\n\n               day 1   day 2\n\n parent_dag_0  task_0  task_0\n                 |\n                 |\n                 v\n child_dag_1   task_1  task_1", "ret": null}, "fn_lc": [[946, 0], [991, 19]], "fn_var_ln": {"dag_bag": [[964, 4], [964, 11]], "day_1": [[966, 4], [966, 9]], "task_0": [[969, 8], [969, 14]]}, "fn_var_occur": {"dag_bag": [["dag_bag", "DagBag", "dag_folder", "DEV_NULL", "include_examples", "False"], ["dag_bag", "bag_dag", "dag", "dag", "root_dag", "dag"]], "day_1": [["day_1", "DEFAULT_DATE"], ["DAG", "start_date", "day_1", "schedule", "None", "dag_0"], ["task_0", "ExternalTaskMarker", "task_id", "external_dag_id", "external_task_id", "execution_date", "day_1", "isoformat", "recursion_depth"], ["DAG", "start_date", "day_1", "schedule", "None", "dag_1"], ["ExternalTaskSensor", "task_id", "external_dag_id", "dag_0", "dag_id", "external_task_id", "task_0", "task_id", "execution_date_fn", "logical_date", "day_1", "logical_date", "day_1", "mode"]], "task_0": [["task_0", "ExternalTaskMarker", "task_id", "external_dag_id", "external_task_id", "execution_date", "day_1", "isoformat", "recursion_depth"], ["ExternalTaskSensor", "task_id", "external_dag_id", "dag_0", "dag_id", "external_task_id", "task_0", "task_id", "execution_date_fn", "logical_date", "day_1", "logical_date", "day_1", "mode"]]}, "name": "dag_bag_parent_child", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "dag_bag_parent_child", "ret_exprs": [], "ret_type": "", "variables": {"dag_bag": "", "day_1": "", "task_0": ""}, "variables_p": {"dag_bag": [], "day_1": [["int", 0.539978449080124], ["str", 0.10219553978768355], ["List[float]", 0.07947095025049315]], "task_0": [["khetha.models.Task", 0.19665218203567886], ["reminders.task.Task", 0.16017526665466342], ["Dict[str, Dict[str, int]]", 0.10080698391497823], ["golem.task.task_api.EnvironmentTaskApiService", 0.07367403008069148], ["list", 0.07294263192637132]]}}, {"docstring": {"func": "Run all tasks in the DAGs in the given dag_bag. Return the TaskInstance objects as a dict", "long_descr": "keyed by task_id.", "ret": null}, "fn_lc": [[995, 0], [1023, 14]], "fn_var_ln": {"dagrun": [[1003, 8], [1003, 14]], "tasks": [[1014, 8], [1014, 13]], "tis": [[1000, 4], [1000, 7]]}, "fn_var_occur": {"dagrun": [["dagrun", "dag", "create_dagrun", "state", "State", "RUNNING", "execution_date", "execution_date", "start_date", "execution_date", "run_type", "DagRunType", "MANUAL", "session", "session"], ["tasks", "sorted", "ti", "ti", "dagrun", "task_instances", "key", "ti", "ti", "task_id"]], "tasks": [["tasks", "sorted", "ti", "ti", "dagrun", "task_instances", "key", "ti", "ti", "task_id"]], "tis": [["tis", "ti", "task_id", "ti"]]}, "name": "run_tasks", "params": {"dag_bag": "", "execution_date": "", "session": ""}, "params_descr": {"dag_bag": "", "execution_date": "", "session": ""}, "params_occur": {"dag_bag": [["dag_bag", "dags", "values"]], "execution_date": [["dagrun", "dag", "create_dagrun", "state", "State", "RUNNING", "execution_date", "execution_date", "start_date", "execution_date", "run_type", "DagRunType", "MANUAL", "session", "session"]], "session": [["dagrun", "dag", "create_dagrun", "state", "State", "RUNNING", "execution_date", "execution_date", "start_date", "execution_date", "run_type", "DagRunType", "MANUAL", "session", "session"], ["ti", "run", "session", "session"], ["session", "flush"], ["session", "merge", "ti"]]}, "params_p": {"args": [], "dag_bag": [["Union[str, int]", 0.3103482505122935], ["bool", 0.2883738317004221], ["Callable", 0.09092966727499094]], "execution_date": [["Optional[str]", 0.2800589184298381], ["int", 0.20694905878839495], ["datetime.date", 0.12573590852158884], ["Tuple[str, str]", 0.10347452939419748], ["Dict[datetime.date, Dict[str, Any]]", 0.0947396225618214], ["str", 0.09414071114272424]], "kwargs": [], "session": [["Optional[str]", 0.2800589184298381], ["int", 0.20694905878839495], ["datetime.date", 0.12573590852158884], ["Tuple[str, str]", 0.10347452939419748], ["Dict[datetime.date, Dict[str, Any]]", 0.0947396225618214], ["str", 0.09414071114272424]]}, "q_name": "run_tasks", "ret_exprs": ["return tis"], "ret_type": "", "ret_type_p": [["str", 0.3354248932309086], ["int", 0.22361659548727242], ["Generator", 0.11180829774363621], ["bool", 0.07216841896094867]], "variables": {"dagrun": "", "tasks": "", "tis": ""}, "variables_p": {"dagrun": [["List[str]", 0.11972141370761903], ["list", 0.10288720375072603], ["str", 0.09735428429941012], ["viewer.models.Gallery", 0.09237270643067136]], "tasks": [["str", 0.19410514590084688], ["Dict[str, Any]", 0.1356712025611293], ["Dict[Any, Union[Any, Any]]", 0.09447482734741268], ["click.decorators._IdentityFunction", 0.08914763676280842], ["golem.task.resulresultmanager.EncryptedResultPackageManager", 0.08780632109954903], ["app.models.user.User", 0.08355561844957747]], "tis": [["DefaultDict[Any, dict]", 0.20924308968140595], ["Dict[int, Set[Any]]", 0.1060446981881506], ["DefaultDict[Any, List]", 0.10443590338882319], ["dict", 0.10014537348997857], ["str", 0.09778946215727763], ["List[str]", 0.08225910726301795], ["KeysView[str]", 0.08038362303836183]]}}, {"docstring": {"func": "Assert state of task_instances equals the given state.", "long_descr": null, "ret": null}, "fn_lc": [[1026, 0], [1031, 39]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "assert_ti_state_equal", "params": {"state": "", "task_instance": ""}, "params_descr": {"state": "", "task_instance": ""}, "params_occur": {"state": [["task_instance", "state", "state"]], "task_instance": [["task_instance", "refresh_from_db"], ["task_instance", "state", "state"]]}, "params_p": {"args": [], "kwargs": [], "state": [["Callable", 0.11348026865634969], ["str", 0.11215617653199621], ["Set[str]", 0.10677909553318826], ["dict", 0.09841708099054244], ["Dict[str, Any]", 0.09345787163629149], ["int", 0.09284332168536119]], "task_instance": [["Iterable[bytes]", 0.1383822146921606], ["Dict[str, Any]", 0.12806981274276552], ["List[Dict[str, Any]]", 0.1044236100253993], ["models.user.User", 0.09581847509108632], ["float", 0.09348792781586557], ["bytes", 0.08732634818870999], ["List[dict]", 0.08715042629538042], ["List[annofabapi.models.Task]", 0.08573568247297543], ["str", 0.08145375795209801]]}, "q_name": "assert_ti_state_equal", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Clear the task and its downstream tasks recursively for the dag in the given dagbag.", "long_descr": null, "ret": null}, "fn_lc": [[1035, 0], [1054, 5]], "fn_var_ln": {"partial": [[1047, 4], [1047, 11]]}, "fn_var_occur": {"partial": [["partial", "airflow", "models", "dag", "DAG", "dag", "partial_subset", "task_ids_or_regex", "task", "task_id", "include_downstream", "True"], ["partial", "clear", "start_date", "start_date", "end_date", "end_date", "dag_bag", "dag_bag", "dry_run", "dry_run", "session", "session"]]}, "name": "clear_tasks", "params": {"dag": "", "dag_bag": "", "dry_run": "", "end_date": "", "session": "", "start_date": "", "task": ""}, "params_descr": {"dag": "", "dag_bag": "", "dry_run": "", "end_date": "", "session": "", "start_date": "", "task": ""}, "params_occur": {"dag": [["partial", "airflow", "models", "dag", "DAG", "dag", "partial_subset", "task_ids_or_regex", "task", "task_id", "include_downstream", "True"]], "dag_bag": [["partial", "clear", "start_date", "start_date", "end_date", "end_date", "dag_bag", "dag_bag", "dry_run", "dry_run", "session", "session"]], "dry_run": [["partial", "clear", "start_date", "start_date", "end_date", "end_date", "dag_bag", "dag_bag", "dry_run", "dry_run", "session", "session"]], "end_date": [["partial", "clear", "start_date", "start_date", "end_date", "end_date", "dag_bag", "dag_bag", "dry_run", "dry_run", "session", "session"]], "session": [["partial", "clear", "start_date", "start_date", "end_date", "end_date", "dag_bag", "dag_bag", "dry_run", "dry_run", "session", "session"]], "start_date": [["partial", "clear", "start_date", "start_date", "end_date", "end_date", "dag_bag", "dag_bag", "dry_run", "dry_run", "session", "session"]], "task": [["partial", "airflow", "models", "dag", "DAG", "dag", "partial_subset", "task_ids_or_regex", "task", "task_id", "include_downstream", "True"]]}, "params_p": {"args": [], "dag": [["List[recidiviz.persistence.entity.state.entities.StateSupervisionViolation.Response]", 0.18642824394750407], ["server.models.User", 0.12847642333658904], ["List[recidiviz.persistence.entity.state.entities.StateSupervisionContact]", 0.10803270395429652], ["Optional[int]", 0.10590626269856948], ["str", 0.10590626269856948], ["models.Trip", 0.09630231555755378], ["Optional[str]", 0.0901874972867393], ["datetime.datetime", 0.08822688621131344]], "dag_bag": [["datetime.date", 0.5027069089416727], ["Optional[str]", 0.2886850180722391], ["Optional[datetime.date]", 0.11237973362867527], ["str", 0.09622833935741304]], "dry_run": [["datetime.date", 0.5027069089416727], ["Optional[str]", 0.2886850180722391], ["Optional[datetime.date]", 0.11237973362867527], ["str", 0.09622833935741304]], "end_date": [["datetime.date", 0.5027069089416727], ["Optional[str]", 0.2886850180722391], ["Optional[datetime.date]", 0.11237973362867527], ["str", 0.09622833935741304]], "kwargs": [], "session": [["datetime.date", 0.5027069089416727], ["Optional[str]", 0.2886850180722391], ["Optional[datetime.date]", 0.11237973362867527], ["str", 0.09622833935741304]], "start_date": [["datetime.date", 0.5027069089416727], ["Optional[str]", 0.2886850180722391], ["Optional[datetime.date]", 0.11237973362867527], ["str", 0.09622833935741304]], "task": [["List[recidiviz.persistence.entity.state.entities.StateSupervisionViolation.Response]", 0.18642824394750407], ["server.models.User", 0.12847642333658904], ["List[recidiviz.persistence.entity.state.entities.StateSupervisionContact]", 0.10803270395429652], ["Optional[int]", 0.10590626269856948], ["str", 0.10590626269856948], ["models.Trip", 0.09630231555755378], ["Optional[str]", 0.0901874972867393], ["datetime.datetime", 0.08822688621131344]]}, "q_name": "clear_tasks", "ret_exprs": ["return partial.clear( start_date=start_date, end_date=end_date, dag_bag=dag_bag, dry_run=dry_run, session=session,)"], "ret_type": "", "ret_type_p": [["str", 0.4726329364580688], ["core_lib.core.models.Venue", 0.14047992766661063], ["dict", 0.11274001705792903], ["Callable", 0.08111523209783858]], "variables": {"partial": "airflow.models.dag.DAG"}, "variables_p": {"partial": [["salon.models.Stylist", 0.19873754907351798], ["pili.models.User", 0.18250450122888195], ["str", 0.12501439478370333], ["datetime.date", 0.11882922956819508], ["datetime.datetime.datetime", 0.09125225061444098], ["tartare.core.models.Contributor", 0.08734055387645966]]}}, {"docstring": {"func": "Test clearing tasks across DAGs.", "long_descr": null, "ret": null}, "fn_lc": [[1057, 0], [1068, 45]], "fn_var_ln": {"dag_0": [[1062, 4], [1062, 9]], "task_a_0": [[1063, 4], [1063, 12]], "ti_a_0": [[1065, 4], [1065, 10]], "ti_b_3": [[1066, 4], [1066, 10]], "tis": [[1061, 4], [1061, 7]]}, "fn_var_occur": {"dag_0": [["dag_0", "dag_bag_ext", "get_dag"], ["task_a_0", "dag_0", "get_task"], ["clear_tasks", "dag_bag_ext", "dag_0", "task_a_0"]], "task_a_0": [["task_a_0", "dag_0", "get_task"], ["clear_tasks", "dag_bag_ext", "dag_0", "task_a_0"]], "ti_a_0": [["ti_a_0", "tis"], ["assert_ti_state_equal", "ti_a_0", "State", "NONE"]], "ti_b_3": [["ti_b_3", "tis"], ["assert_ti_state_equal", "ti_b_3", "State", "NONE"]], "tis": [["tis", "run_tasks", "dag_bag_ext"], ["ti_a_0", "tis"], ["ti_b_3", "tis"]]}, "name": "test_external_task_marker_transitive", "params": {"dag_bag_ext": ""}, "params_descr": {"dag_bag_ext": ""}, "params_occur": {"dag_bag_ext": [["tis", "run_tasks", "dag_bag_ext"], ["dag_0", "dag_bag_ext", "get_dag"], ["clear_tasks", "dag_bag_ext", "dag_0", "task_a_0"]]}, "params_p": {"args": [], "dag_bag_ext": [], "kwargs": []}, "q_name": "test_external_task_marker_transitive", "ret_exprs": [], "ret_type": "", "variables": {"dag_0": "", "task_a_0": "", "ti_a_0": "", "ti_b_3": "", "tis": ""}, "variables_p": {"dag_0": [["int", 0.09709663841638029], ["str", 0.08782530562799047]], "task_a_0": [["Dict[str, Union[Any, Any, Any]]", 0.19305840299575217], ["str", 0.1041487134252533], ["Dict[str, str]", 0.08839635773822098]], "ti_a_0": [["int", 0.18966806940708142], ["str", 0.13850974332607258]], "ti_b_3": [["int", 0.631519877177199], ["T", 0.09972027570885143], ["float", 0.08748437572875359]], "tis": [["Dict[str, int]", 0.3074166988535287], ["int", 0.23583943616455388], ["Dict[Tuple[str, str], int]", 0.17307737536532186], ["float", 0.07311154999066691], ["str", 0.06685149754154371], ["List[str]", 0.06553584505928377]]}}, {"docstring": {"func": "Test clearing tasks across DAGs and make sure the right DagRuns are activated.", "long_descr": null, "ret": null}, "fn_lc": [[1072, 0], [1104, 44]], "fn_var_ln": {"dag_0": [[1090, 4], [1090, 9]], "dag_bag": [[1076, 4], [1076, 11]], "dagrun": [[1086, 12], [1086, 18]], "dagrun_0_1": [[1096, 4], [1096, 14]], "dagrun_0_2": [[1097, 4], [1097, 14]], "dagrun_1_1": [[1098, 4], [1098, 14]], "dagrun_1_2": [[1099, 4], [1099, 14]], "day_1": [[1077, 4], [1077, 9]], "day_2": [[1078, 4], [1078, 9]], "task_0": [[1091, 4], [1091, 10]]}, "fn_var_occur": {"dag_0": [["dag_0", "dag_bag", "get_dag"], ["task_0", "dag_0", "get_task"], ["clear_tasks", "dag_bag", "dag_0", "task_0", "start_date", "day_1", "end_date", "day_2", "session", "session"]], "dag_bag": [["dag_bag", "dag_bag_parent_child"], ["run_tasks", "dag_bag", "execution_date", "day_1"], ["run_tasks", "dag_bag", "execution_date", "day_2"], ["dag_bag", "dags", "values"], ["dag_0", "dag_bag", "get_dag"], ["clear_tasks", "dag_bag", "dag_0", "task_0", "start_date", "day_1", "end_date", "day_2", "session", "session"], ["dagrun_0_1", "dag_bag", "get_dag", "get_dagrun", "execution_date", "day_1", "session", "session"], ["dagrun_0_2", "dag_bag", "get_dag", "get_dagrun", "execution_date", "day_2", "session", "session"], ["dagrun_1_1", "dag_bag", "get_dag", "get_dagrun", "execution_date", "day_1", "session", "session"], ["dagrun_1_2", "dag_bag", "get_dag", "get_dagrun", "execution_date", "day_2", "session", "session"]], "dagrun": [["dagrun", "dag", "get_dagrun", "execution_date", "execution_date", "session", "session"], ["dagrun", "set_state", "State", "SUCCESS"]], "dagrun_0_1": [["dagrun_0_1", "dag_bag", "get_dag", "get_dagrun", "execution_date", "day_1", "session", "session"], ["dagrun_0_1", "state", "State", "QUEUED"]], "dagrun_0_2": [["dagrun_0_2", "dag_bag", "get_dag", "get_dagrun", "execution_date", "day_2", "session", "session"], ["dagrun_0_2", "state", "State", "QUEUED"]], "dagrun_1_1": [["dagrun_1_1", "dag_bag", "get_dag", "get_dagrun", "execution_date", "day_1", "session", "session"], ["dagrun_1_1", "state", "State", "QUEUED"]], "dagrun_1_2": [["dagrun_1_2", "dag_bag", "get_dag", "get_dagrun", "execution_date", "day_2", "session", "session"], ["dagrun_1_2", "state", "State", "SUCCESS"]], "day_1": [["day_1", "DEFAULT_DATE"], ["run_tasks", "dag_bag", "execution_date", "day_1"], ["day_1", "day_2"], ["clear_tasks", "dag_bag", "dag_0", "task_0", "start_date", "day_1", "end_date", "day_2", "session", "session"], ["dagrun_0_1", "dag_bag", "get_dag", "get_dagrun", "execution_date", "day_1", "session", "session"], ["dagrun_1_1", "dag_bag", "get_dag", "get_dagrun", "execution_date", "day_1", "session", "session"]], "day_2": [["day_2", "DEFAULT_DATE", "timedelta", "days"], ["run_tasks", "dag_bag", "execution_date", "day_2"], ["day_1", "day_2"], ["clear_tasks", "dag_bag", "dag_0", "task_0", "start_date", "day_1", "end_date", "day_2", "session", "session"], ["dagrun_0_2", "dag_bag", "get_dag", "get_dagrun", "execution_date", "day_2", "session", "session"], ["dagrun_1_2", "dag_bag", "get_dag", "get_dagrun", "execution_date", "day_2", "session", "session"]], "task_0": [["task_0", "dag_0", "get_task"], ["clear_tasks", "dag_bag", "dag_0", "task_0", "start_date", "day_1", "end_date", "day_2", "session", "session"]]}, "name": "test_external_task_marker_clear_activate", "params": {"dag_bag_parent_child": "", "session": ""}, "params_descr": {"dag_bag_parent_child": "", "session": ""}, "params_occur": {"dag_bag_parent_child": [["dag_bag", "dag_bag_parent_child"]], "session": [["dagrun", "dag", "get_dagrun", "execution_date", "execution_date", "session", "session"], ["session", "flush"], ["clear_tasks", "dag_bag", "dag_0", "task_0", "start_date", "day_1", "end_date", "day_2", "session", "session"], ["dagrun_0_1", "dag_bag", "get_dag", "get_dagrun", "execution_date", "day_1", "session", "session"], ["dagrun_0_2", "dag_bag", "get_dag", "get_dagrun", "execution_date", "day_2", "session", "session"], ["dagrun_1_1", "dag_bag", "get_dag", "get_dagrun", "execution_date", "day_1", "session", "session"], ["dagrun_1_2", "dag_bag", "get_dag", "get_dagrun", "execution_date", "day_2", "session", "session"]]}, "params_p": {"args": [], "dag_bag_parent_child": [["Callable[[list], None]", 0.6028263694147238], ["Callable", 0.2967025690161556], ["Callable[[List, bool], None]", 0.10047106156912063]], "kwargs": [], "session": [["zerver.models.Realm", 0.4905371347241716], ["models.User", 0.22230246897079686], ["raiden_libs.types.ChannelIdentifier", 0.09463751091217797]]}, "q_name": "test_external_task_marker_clear_activate", "ret_exprs": [], "ret_type": "", "variables": {"dag_0": "", "dag_bag": "", "dagrun": "", "dagrun_0_1": "", "dagrun_0_2": "", "dagrun_1_1": "", "dagrun_1_2": "", "day_1": "", "day_2": "", "task_0": ""}, "variables_p": {"dag_0": [["apps.dummy.task.dummytaskstate.DummyTaskDefinition", 0.20891910273269482], ["golem.task.taskcomputer.TaskComputation", 0.12333242854996107], ["apps.rendering.task.renderingtaskstate.RenderingTaskDefinition", 0.09965243909177439], ["apps.blender.task.blenderrendertask.BlenderRenderTask", 0.08961762880833159], ["apps.wasm.task.SubtaskInstance", 0.08545838243504857]], "dag_bag": [["byceps.services.party.transfer.models.Party", 0.2109001074155027], ["int", 0.1884090681426705], ["list", 0.12364125207801517], ["byceps.services.user.transfer.models.User", 0.07656572520383345], ["zerver.models.Realm", 0.07626471794001066], ["decksite.data.models.person.Person", 0.07430628968170386], ["byceps.services.ticketing.models.tickeTicket", 0.0729635576644439]], "dagrun": [["buza.models.Subject", 0.25589865434262743], ["int", 0.14614159492702292], ["byceps.services.user.transfer.models.User", 0.10003914668173183], ["app.models.Journey", 0.09160174028121634], ["grpy.core.models.Grouping", 0.09068234275626623]], "dagrun_0_1": [["grpy.core.models.Grouping", 0.2937307463620338], ["khetha.models.Question", 0.1194097307243204], ["Dict[str, Callable]", 0.10862290401644432], ["byceps.services.party.transfer.models.Party", 0.09568471532417415], ["Dict[Any, str]", 0.08959289745694347]], "dagrun_0_2": [["grpy.core.models.Grouping", 0.2937307463620338], ["khetha.models.Question", 0.1194097307243204], ["Dict[str, Callable]", 0.10862290401644432], ["byceps.services.party.transfer.models.Party", 0.09568471532417415], ["Dict[Any, str]", 0.08959289745694347]], "dagrun_1_1": [["grpy.core.models.Grouping", 0.2937307463620338], ["khetha.models.Question", 0.1194097307243204], ["Dict[str, Callable]", 0.10862290401644432], ["byceps.services.party.transfer.models.Party", 0.09568471532417415], ["Dict[Any, str]", 0.08959289745694347]], "dagrun_1_2": [["grpy.core.models.Grouping", 0.2937307463620338], ["khetha.models.Question", 0.1194097307243204], ["Dict[str, Callable]", 0.10862290401644432], ["byceps.services.party.transfer.models.Party", 0.09568471532417415], ["Dict[Any, str]", 0.08959289745694347]], "day_1": [["int", 0.2390523611620199], ["Dict[str, Any]", 0.18325158084921117], ["datetime.timedelta", 0.0963979001972969], ["Tuple[int, int, int]", 0.09583480821795201], ["str", 0.09178829740022255], ["datetime.datetime.timedelta", 0.09111289615979969]], "day_2": [["int", 0.20813595753995387], ["datetime.datetime", 0.19990814576960814]], "task_0": [["golem.task.taskbase.Task", 0.14382589871468507], ["snorkel.classification.task.Task", 0.1251921462818114], ["khetha.models.Task", 0.0971446321879207]]}}, {"docstring": {"func": "Test clearing tasks with no end_date. This is the case when users clear tasks with", "long_descr": "Future, Downstream and Recursive selected.", "ret": null}, "fn_lc": [[1107, 0], [1128, 52]], "fn_var_ln": {"dag_0": [[1118, 4], [1118, 9]], "date_0": [[1112, 4], [1112, 10]], "date_1": [[1113, 4], [1113, 10]], "task_a_0": [[1119, 4], [1119, 12]], "ti_a_0_date_0": [[1123, 4], [1123, 17]], "ti_b_3_date_0": [[1124, 4], [1124, 17]], "ti_b_3_date_1": [[1125, 4], [1125, 17]], "tis_date_0": [[1115, 4], [1115, 14]], "tis_date_1": [[1116, 4], [1116, 14]]}, "fn_var_occur": {"dag_0": [["dag_0", "dag_bag_ext", "get_dag"], ["task_a_0", "dag_0", "get_task"], ["clear_tasks", "dag_bag_ext", "dag_0", "task_a_0", "end_date", "None"]], "date_0": [["date_0", "DEFAULT_DATE"], ["tis_date_0", "run_tasks", "dag_bag_ext", "execution_date", "date_0"]], "date_1": [["date_1", "DEFAULT_DATE", "timedelta", "days"], ["tis_date_1", "run_tasks", "dag_bag_ext", "execution_date", "date_1"]], "task_a_0": [["task_a_0", "dag_0", "get_task"], ["clear_tasks", "dag_bag_ext", "dag_0", "task_a_0", "end_date", "None"]], "ti_a_0_date_0": [["ti_a_0_date_0", "tis_date_0"], ["assert_ti_state_equal", "ti_a_0_date_0", "State", "NONE"]], "ti_b_3_date_0": [["ti_b_3_date_0", "tis_date_0"], ["assert_ti_state_equal", "ti_b_3_date_0", "State", "NONE"]], "ti_b_3_date_1": [["ti_b_3_date_1", "tis_date_1"], ["assert_ti_state_equal", "ti_b_3_date_1", "State", "NONE"]], "tis_date_0": [["tis_date_0", "run_tasks", "dag_bag_ext", "execution_date", "date_0"], ["ti_a_0_date_0", "tis_date_0"], ["ti_b_3_date_0", "tis_date_0"]], "tis_date_1": [["tis_date_1", "run_tasks", "dag_bag_ext", "execution_date", "date_1"], ["ti_b_3_date_1", "tis_date_1"]]}, "name": "test_external_task_marker_future", "params": {"dag_bag_ext": ""}, "params_descr": {"dag_bag_ext": ""}, "params_occur": {"dag_bag_ext": [["tis_date_0", "run_tasks", "dag_bag_ext", "execution_date", "date_0"], ["tis_date_1", "run_tasks", "dag_bag_ext", "execution_date", "date_1"], ["dag_0", "dag_bag_ext", "get_dag"], ["clear_tasks", "dag_bag_ext", "dag_0", "task_a_0", "end_date", "None"]]}, "params_p": {"args": [], "dag_bag_ext": [["str", 0.16208719480294617], ["Callable", 0.11318128849721519], ["int", 0.10335678996697613], ["List[recidiviz.persistence.entity.state.entities.StateSupervisionViolation.Response]", 0.07949287051426795]], "kwargs": []}, "q_name": "test_external_task_marker_future", "ret_exprs": [], "ret_type": "", "variables": {"dag_0": "", "date_0": "", "date_1": "", "task_a_0": "", "ti_a_0_date_0": "", "ti_b_3_date_0": "", "ti_b_3_date_1": "", "tis_date_0": "", "tis_date_1": ""}, "variables_p": {"dag_0": [["golem.task.taskcomputer.TaskComputation", 0.1356335766768858], ["apps.rendering.task.renderingtaskstate.RenderingTaskDefinition", 0.09168408896083456], ["list", 0.0896700229709183]], "date_0": [["datetime.date", 0.23839492764937437], ["str", 0.22234816852494743], ["datetime.datetime.datetime", 0.18595126539999773], ["datetime.datetime", 0.13620188658056276]], "date_1": [["datetime.date", 0.26691021725962794], ["datetime.datetime.datetime", 0.19377108644911611], ["datetime.datetime", 0.1877058036982765], ["str", 0.13249238056432422], ["Pattern[bytes]", 0.10105687156458686]], "task_a_0": [["models.userData", 0.21585100440295274], ["abilian.core.models.subjects.User", 0.10538383934175022], ["excars.models.user.User", 0.10121561534568237], ["dict", 0.09010629331026179]], "ti_a_0_date_0": [["datetime.datetime", 0.2925183569664041], ["Dict[Any, List[str]]", 0.11041134626036156], ["int", 0.09982524369778786], ["time.struct_time", 0.09734734236818271], ["Pattern[str]", 0.09615042977279073], ["list", 0.07886486332369183]], "ti_b_3_date_0": [["datetime.datetime", 0.5265683017681491], ["datetime.date", 0.2779508517869621], ["datetime.datetime.datetime", 0.10412636103898006], ["datetime.datetime.timedelta", 0.09135448540590863]], "ti_b_3_date_1": [["datetime.datetime", 0.5265683017681491], ["datetime.date", 0.2779508517869621], ["datetime.datetime.datetime", 0.10412636103898006], ["datetime.datetime.timedelta", 0.09135448540590863]], "tis_date_0": [["datetime.datetime", 0.32917398350107485], ["datetime.datetime.datetime", 0.18173325126940332], ["datetime.date.time.date", 0.14772853456944676], ["str", 0.09296274277454446], ["Dict[Any, List[str]]", 0.08658226671038322], ["Type[leasing.models.vaVat]", 0.08115754259667642], ["datetime.date", 0.08066167857847094]], "tis_date_1": [["datetime.datetime", 0.36598680112188486], ["datetime.datetime.datetime", 0.18039685794404076], ["datetime.date.time.date", 0.11882816936843994], ["Dict[Any, List[str]]", 0.09378527589569309], ["time.struct_time", 0.0852743889566342], ["datetime.date", 0.0845205937324422], ["str", 0.07120791298086486]]}}, {"docstring": {"func": "Clearing across multiple DAGs should raise AirflowException if more levels are being cleared", "long_descr": "than allowed by the recursion_depth of the first ExternalTaskMarker being cleared.", "ret": null}, "fn_lc": [[1131, 0], [1142, 49]], "fn_var_ln": {"dag_0": [[1137, 4], [1137, 9]], "recursion_depth": [[1140, 4], [1140, 28]], "task_a_0": [[1138, 4], [1138, 12]], "task_b_0": [[1139, 4], [1139, 12]]}, "fn_var_occur": {"dag_0": [["dag_0", "dag_bag_ext", "get_dag"], ["task_a_0", "dag_0", "get_task"], ["task_b_0", "dag_0", "get_task"], ["clear_tasks", "dag_bag_ext", "dag_0", "task_a_0"]], "recursion_depth": [["task_b_0", "recursion_depth"]], "task_a_0": [["task_a_0", "dag_0", "get_task"], ["clear_tasks", "dag_bag_ext", "dag_0", "task_a_0"]], "task_b_0": [["task_b_0", "dag_0", "get_task"], ["task_b_0", "recursion_depth"]]}, "name": "test_external_task_marker_exception", "params": {"dag_bag_ext": ""}, "params_descr": {"dag_bag_ext": ""}, "params_occur": {"dag_bag_ext": [["run_tasks", "dag_bag_ext"], ["dag_0", "dag_bag_ext", "get_dag"], ["clear_tasks", "dag_bag_ext", "dag_0", "task_a_0"]]}, "params_p": {"args": [], "dag_bag_ext": [], "kwargs": []}, "q_name": "test_external_task_marker_exception", "ret_exprs": [], "ret_type": "", "variables": {"dag_0": "", "recursion_depth": "", "task_a_0": "", "task_b_0": ""}, "variables_p": {"dag_0": [["golem.task.taskcomputer.TaskComputation", 0.20969872897306932], ["models.facilityData", 0.10657767799682802], ["hub2labhook.github.models.evenGithubEvent", 0.0971569375713602]], "recursion_depth": [["int", 0.48972248054601253], ["float", 0.2101618317509142], ["deque[str]", 0.11097669571691104], ["str", 0.09731105665411234], ["Pattern[str]", 0.09182793533204976]], "task_a_0": [["Dict[str, Union[Any, Any, Any]]", 0.19305840299575217], ["str", 0.1041487134252533], ["Dict[str, str]", 0.08839635773822098]], "task_b_0": [["int", 1.0]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1162, 4], [1210, 22]], "fn_var_ln": {"dag_bag": [[1163, 8], [1163, 15]], "dags": [[1165, 8], [1165, 12]], "task_a": [[1194, 12], [1194, 18]], "task_a_0": [[1169, 12], [1169, 20]], "task_b": [[1199, 12], [1199, 18]], "task_b_0": [[1170, 12], [1170, 20]]}, "fn_var_occur": {"dag_bag": [["dag_bag", "DagBag", "dag_folder", "DEV_NULL", "include_examples", "False"], ["dag_bag", "bag_dag", "dag", "dag", "root_dag", "dag"]], "dags": [["dags", "append", "dag"], ["dags", "append", "dag"], ["dags", "append", "dag"]], "task_a": [["task_a", "ExternalTaskSensor", "task_id", "n", "external_dag_id", "n", "external_task_id", "n"], ["task_a", "task_b"], ["task_a", "ExternalTaskSensor", "task_id", "depth", "external_dag_id", "depth", "external_task_id", "depth"], ["task_a", "task_b"]], "task_a_0": [["task_a_0", "EmptyOperator", "task_id"], ["task_a_0", "task_b_0"]], "task_b": [["task_b", "ExternalTaskMarker", "task_id", "n", "external_dag_id", "n", "external_task_id", "n", "recursion_depth"], ["task_a", "task_b"], ["task_b", "ExternalTaskMarker", "task_id", "depth", "external_dag_id", "external_task_id", "recursion_depth"], ["task_a", "task_b"]], "task_b_0": [["task_b_0", "ExternalTaskMarker", "task_id", "external_dag_id", "external_task_id", "recursion_depth"], ["task_a_0", "task_b_0"]]}, "name": "_factory", "params": {"depth": "builtins.int"}, "params_descr": {"depth": ""}, "params_occur": {"depth": [["range", "depth"], ["DAG", "depth", "start_date", "DEFAULT_DATE", "schedule", "None", "dag"], ["task_a", "ExternalTaskSensor", "task_id", "depth", "external_dag_id", "depth", "external_task_id", "depth"], ["task_b", "ExternalTaskMarker", "task_id", "depth", "external_dag_id", "external_task_id", "recursion_depth"]]}, "params_p": {"args": [], "depth": [["bool", 0.11554675965190542], ["int", 0.11399294381411004], ["List[recidiviz.persistence.entity.state.entities.StateSupervisionViolation]", 0.10585349269949884], ["float", 0.08665277168476593]], "kwargs": []}, "q_name": "dag_bag_cyclic.<locals>._factory", "ret_exprs": ["return dag_bag"], "ret_type": "airflow.models.DagBag", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "variables": {"dag_bag": "", "dags": "", "task_a": "", "task_a_0": "", "task_b": "", "task_b_0": ""}, "variables_p": {"dag_bag": [], "dags": [["List[str]", 0.6240836768765248], ["list", 0.37591632312347506]], "task_a": [["Dict[Any, str]", 0.2751002761632244], ["int", 0.23853962327339484], ["dict", 0.09170009205440814]], "task_a_0": [["Dict[str, str]", 0.41608971500387415], ["cmk.utils.type_defs.UserId", 0.10168754560878643], ["str", 0.07992771125589693], ["int", 0.07891158759753326]], "task_b": [["int", 0.40483871443017333], ["List[List[int]]", 0.18368345027943014], ["o2a.converter.task.Task", 0.12428460074657365], ["Dict[str, str]", 0.10037545476023954], ["Optional[dict]", 0.1002017879276853], ["Callable(time.perf_counter)[[], float]", 0.0866159918558981]], "task_b_0": [["int", 0.26911537226203597], ["str", 0.19074412354829584], ["Dict[str, str]", 0.15215513205795203], ["o2a.converter.task.Task", 0.12870082851611056], ["Dict[str, Dict[str, Any]]", 0.08908545621792326]]}}, {"docstring": {"func": "Create a DagBag with DAGs having cyclic dependencies set up by ExternalTaskMarker and", "long_descr": "ExternalTaskSensor.\n\ndag_0:   task_a_0 >> task_b_0\n              ^          |\n              |          |\ndag_1:        |          ---> task_a_1 >> task_b_1\n              |                              ^\n              |                              |\ndag_n:        |                              ---> task_a_n >> task_b_n\n              |                                                   |\n              -----------------------------------------------------", "ret": null}, "fn_lc": [[1146, 0], [1212, 19]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "dag_bag_cyclic", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "dag_bag_cyclic", "ret_exprs": ["return _factory"], "ret_type": "", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Tests clearing across multiple DAGs that have cyclic dependencies. AirflowException should be", "long_descr": "raised.", "ret": null}, "fn_lc": [[1215, 0], [1225, 45]], "fn_var_ln": {"dag_0": [[1222, 4], [1222, 9]], "dag_bag": [[1220, 4], [1220, 11]], "task_a_0": [[1223, 4], [1223, 12]]}, "fn_var_occur": {"dag_0": [["dag_0", "dag_bag", "get_dag"], ["task_a_0", "dag_0", "get_task"], ["clear_tasks", "dag_bag", "dag_0", "task_a_0"]], "dag_bag": [["dag_bag", "dag_bag_cyclic"], ["run_tasks", "dag_bag"], ["dag_0", "dag_bag", "get_dag"], ["clear_tasks", "dag_bag", "dag_0", "task_a_0"]], "task_a_0": [["task_a_0", "dag_0", "get_task"], ["clear_tasks", "dag_bag", "dag_0", "task_a_0"]]}, "name": "test_external_task_marker_cyclic_deep", "params": {"dag_bag_cyclic": ""}, "params_descr": {"dag_bag_cyclic": ""}, "params_occur": {"dag_bag_cyclic": [["dag_bag", "dag_bag_cyclic"]]}, "params_p": {"args": [], "dag_bag_cyclic": [["bool", 0.29609786874628363], ["tests.basilisp.helpers.CompileFn", 0.11902088344695058], ["str", 0.10119385509838331], ["int", 0.10119385509838331], ["Type", 0.09567813674703166]], "kwargs": []}, "q_name": "test_external_task_marker_cyclic_deep", "ret_exprs": [], "ret_type": "", "variables": {"dag_0": "", "dag_bag": "", "task_a_0": ""}, "variables_p": {"dag_0": [["apps.wasm.task.SubtaskInstance", 0.09734785884744539], ["golem.task.taskcomputer.TaskComputation", 0.0878444589500546]], "dag_bag": [["zero_play.tictactoe.state.TicTacToeState", 0.3054545995770071]], "task_a_0": [["Dict[str, Union[Any, Any, Any]]", 0.19305840299575217], ["str", 0.1041487134252533], ["Dict[str, str]", 0.08839635773822098]]}}, {"docstring": {"func": "Tests clearing across multiple DAGs that have cyclic dependencies shallower", "long_descr": "than recursion_depth", "ret": null}, "fn_lc": [[1228, 0], [1247, 54]], "fn_var_ln": {"dag_0": [[1235, 4], [1235, 9]], "dag_bag": [[1233, 4], [1233, 11]], "task_a_0": [[1236, 4], [1236, 12]], "tis": [[1238, 4], [1238, 7]]}, "fn_var_occur": {"dag_0": [["dag_0", "dag_bag", "get_dag"], ["task_a_0", "dag_0", "get_task"], ["tis", "clear_tasks", "dag_bag", "dag_0", "task_a_0", "dry_run", "True"]], "dag_bag": [["dag_bag", "dag_bag_cyclic"], ["run_tasks", "dag_bag"], ["dag_0", "dag_bag", "get_dag"], ["tis", "clear_tasks", "dag_bag", "dag_0", "task_a_0", "dry_run", "True"]], "task_a_0": [["task_a_0", "dag_0", "get_task"], ["tis", "clear_tasks", "dag_bag", "dag_0", "task_a_0", "dry_run", "True"]], "tis": [["tis", "clear_tasks", "dag_bag", "dag_0", "task_a_0", "dry_run", "True"], ["sorted", "ti", "dag_id", "ti", "task_id", "ti", "tis"]]}, "name": "test_external_task_marker_cyclic_shallow", "params": {"dag_bag_cyclic": ""}, "params_descr": {"dag_bag_cyclic": ""}, "params_occur": {"dag_bag_cyclic": [["dag_bag", "dag_bag_cyclic"]]}, "params_p": {"args": [], "dag_bag_cyclic": [["bool", 0.29609786874628363], ["tests.basilisp.helpers.CompileFn", 0.11902088344695058], ["str", 0.10119385509838331], ["int", 0.10119385509838331], ["Type", 0.09567813674703166]], "kwargs": []}, "q_name": "test_external_task_marker_cyclic_shallow", "ret_exprs": [], "ret_type": "", "variables": {"dag_0": "", "dag_bag": "", "task_a_0": "", "tis": ""}, "variables_p": {"dag_0": [["golem.task.taskcomputer.TaskComputation", 0.20446947727581327], ["hub2labhook.github.models.evenGithubEvent", 0.17415047583034476], ["apps.blender.task.blenderrendertask.BlenderRenderTask", 0.08931749056473201]], "dag_bag": [["str", 0.11194266310703115], ["list", 0.09591253766014296]], "task_a_0": [["str", 0.21432474144907465], ["alerta.models.user.User", 0.17412106531044078], ["dict", 0.10540697171347348], ["models.userData", 0.09815926019907392], ["Optional[raiden.utils.TokenNetworkAddress]", 0.09329523587981468], ["excars.models.user.User", 0.09091863725495543]], "tis": [["dict", 0.1958405883622936], ["str", 0.19139975513049548], ["Dict[str, str]", 0.09579457746393628]]}}, {"docstring": {"func": "Create a DagBag containing two DAGs, linked by multiple ExternalTaskMarker.", "long_descr": null, "ret": null}, "fn_lc": [[1251, 0], [1274, 17]], "fn_var_ln": {"agg_dag": [[1257, 4], [1257, 11]], "begin": [[1263, 4], [1263, 9]], "dag_bag": [[1255, 4], [1255, 11]], "daily_dag": [[1256, 4], [1256, 13]], "daily_task": [[1261, 4], [1261, 14]], "task": [[1265, 8], [1265, 12]]}, "fn_var_occur": {"agg_dag": [["agg_dag", "DAG", "start_date", "DEFAULT_DATE", "schedule"], ["dag_bag", "bag_dag", "dag", "agg_dag", "root_dag", "agg_dag"], ["begin", "EmptyOperator", "task_id", "dag", "agg_dag"], ["task", "ExternalTaskMarker", "task_id", "daily_task", "task_id", "i", "external_dag_id", "daily_dag", "dag_id", "external_task_id", "daily_task", "task_id", "execution_date", "i", "dag", "agg_dag"]], "begin": [["begin", "EmptyOperator", "task_id", "dag", "agg_dag"], ["begin", "task"]], "dag_bag": [["dag_bag", "DagBag", "dag_folder", "DEV_NULL", "include_examples", "False"], ["dag_bag", "bag_dag", "dag", "daily_dag", "root_dag", "daily_dag"], ["dag_bag", "bag_dag", "dag", "agg_dag", "root_dag", "agg_dag"]], "daily_dag": [["daily_dag", "DAG", "start_date", "DEFAULT_DATE", "schedule"], ["dag_bag", "bag_dag", "dag", "daily_dag", "root_dag", "daily_dag"], ["daily_task", "EmptyOperator", "task_id", "dag", "daily_dag"], ["task", "ExternalTaskMarker", "task_id", "daily_task", "task_id", "i", "external_dag_id", "daily_dag", "dag_id", "external_task_id", "daily_task", "task_id", "execution_date", "i", "dag", "agg_dag"]], "daily_task": [["daily_task", "EmptyOperator", "task_id", "dag", "daily_dag"], ["task", "ExternalTaskMarker", "task_id", "daily_task", "task_id", "i", "external_dag_id", "daily_dag", "dag_id", "external_task_id", "daily_task", "task_id", "execution_date", "i", "dag", "agg_dag"]], "task": [["task", "ExternalTaskMarker", "task_id", "daily_task", "task_id", "i", "external_dag_id", "daily_dag", "dag_id", "external_task_id", "daily_task", "task_id", "execution_date", "i", "dag", "agg_dag"], ["begin", "task"]]}, "name": "dag_bag_multiple", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "dag_bag_multiple", "ret_exprs": [], "ret_type": "", "variables": {"agg_dag": "", "begin": "", "dag_bag": "", "daily_dag": "", "daily_task": "", "task": ""}, "variables_p": {"agg_dag": [["List[int]", 0.11612724521800044], ["List[str]", 0.09742286901518492], ["List[Optional[str]]", 0.09742286901518492]], "begin": [["int", 0.6323161346393287], ["str", 0.1202784793489998], ["List[int]", 0.08268201204468842], ["Tuple[str, str, str, str, str, str, str, str, str, str]", 0.08257568974501026], ["Dict[str, Any]", 0.08214768422197292]], "dag_bag": [["Set[int]", 0.09252342574112989], ["list", 0.09216130137350674]], "daily_dag": [["str", 0.45636439558836245], ["Dict[str, Any]", 0.12303757498410553], ["List[str]", 0.08991289151878257], ["List[Optional[str]]", 0.08991289151878257], ["Set[str]", 0.08424148236119208], ["List[int]", 0.08386999215188987], ["dict", 0.07266077187688501]], "daily_task": [["golem.task.taskbase.Task", 0.10518765343971119], ["golem.task.task_api.EnvironmentTaskApiService", 0.09529852322047352], ["src.models.generic_task.GenericTask", 0.09297549740235207], ["List[str]", 0.09117957053115318]], "task": [["Dict[str, str]", 0.13853103342328443], ["annofabapi.dataclass.task.Task", 0.11225395248694665], ["zero.domain.task.Task", 0.07740870828810495], ["str", 0.07689143031349385], ["golem.task.taskbase.Task.ExtraData", 0.07575207255704201], ["nufb.task.Task", 0.07530195775655535], ["int", 0.06278740681444743]]}}, {"docstring": {"func": "Test clearing a dag that has multiple ExternalTaskMarker.", "long_descr": null, "ret": null}, "fn_lc": [[1277, 0], [1290, 23]], "fn_var_ln": {"agg_dag": [[1281, 4], [1281, 11]], "qry": [[1285, 8], [1285, 11]], "session": [[1283, 4], [1283, 11]], "tis": [[1282, 4], [1282, 7]]}, "fn_var_occur": {"agg_dag": [["agg_dag", "dag_bag_multiple", "get_dag"], ["agg_dag", "clear", "dag_bag", "dag_bag_multiple", "len", "tis", "qry", "count"]], "qry": [["qry", "session", "query", "TaskInstance", "filter", "TaskInstance", "state", "State", "NONE", "TaskInstance", "dag_id", "in_", "dag_bag_multiple", "dag_ids"], ["agg_dag", "clear", "dag_bag", "dag_bag_multiple", "len", "tis", "qry", "count"]], "session": [["session", "settings", "Session"], ["qry", "session", "query", "TaskInstance", "filter", "TaskInstance", "state", "State", "NONE", "TaskInstance", "dag_id", "in_", "dag_bag_multiple", "dag_ids"], ["session", "close"]], "tis": [["tis", "run_tasks", "dag_bag_multiple", "execution_date", "DEFAULT_DATE"], ["agg_dag", "clear", "dag_bag", "dag_bag_multiple", "len", "tis", "qry", "count"]]}, "name": "test_clear_multiple_external_task_marker", "params": {"dag_bag_multiple": ""}, "params_descr": {"dag_bag_multiple": ""}, "params_occur": {"dag_bag_multiple": [["agg_dag", "dag_bag_multiple", "get_dag"], ["tis", "run_tasks", "dag_bag_multiple", "execution_date", "DEFAULT_DATE"], ["qry", "session", "query", "TaskInstance", "filter", "TaskInstance", "state", "State", "NONE", "TaskInstance", "dag_id", "in_", "dag_bag_multiple", "dag_ids"], ["agg_dag", "clear", "dag_bag", "dag_bag_multiple", "len", "tis", "qry", "count"]]}, "params_p": {"args": [], "dag_bag_multiple": [], "kwargs": []}, "q_name": "test_clear_multiple_external_task_marker", "ret_exprs": [], "ret_type": "", "variables": {"agg_dag": "", "qry": "", "session": "", "tis": ""}, "variables_p": {"agg_dag": [["List[Tuple[int, int]]", 0.09554846508097328]], "qry": [["int", 0.6265221080097797], ["str", 0.0885635631432974], ["float", 0.08270691604132502]], "session": [["sqlalchemy.orm.session.Session", 0.30855510642108386], ["Optional[str]", 0.1301898157408858], ["SMSShell.models.session.Session", 0.11168323962990871], ["dict", 0.07698968340776023]], "tis": []}}, {"docstring": {"func": "Create a DagBag containing one DAG, with task \"head\" depending on task \"tail\" of the", "long_descr": "previous execution_date.\n\n20200501     20200502                 20200510\n+------+     +------+                 +------+\n| head |    -->head |    -->         -->head |\n|  |   |   / |  |   |   /           / |  |   |\n|  v   |  /  |  v   |  /           /  |  v   |\n| body | /   | body | /     ...   /   | body |\n|  |   |/    |  |   |/           /    |  |   |\n|  v   /     |  v   /           /     |  v   |\n| tail/|     | tail/|          /      | tail |\n+------+     +------+                 +------+", "ret": null}, "fn_lc": [[1294, 0], [1331, 18]], "fn_var_ln": {"body": [[1320, 8], [1320, 12]], "dag_bag": [[1310, 4], [1310, 11]], "head": [[1313, 8], [1313, 12]], "tail": [[1321, 8], [1321, 12]]}, "fn_var_occur": {"body": [["body", "EmptyOperator", "task_id"], ["head", "body", "tail"]], "dag_bag": [["dag_bag", "DagBag", "dag_folder", "DEV_NULL", "include_examples", "False"], ["dag_bag", "bag_dag", "dag", "dag", "root_dag", "dag"]], "head": [["head", "ExternalTaskSensor", "task_id", "external_dag_id", "dag", "dag_id", "external_task_id", "execution_delta", "timedelta", "days", "mode"], ["tail", "ExternalTaskMarker", "task_id", "external_dag_id", "dag", "dag_id", "external_task_id", "head", "task_id", "execution_date"], ["head", "body", "tail"]], "tail": [["tail", "ExternalTaskMarker", "task_id", "external_dag_id", "dag", "dag_id", "external_task_id", "head", "task_id", "execution_date"], ["head", "body", "tail"]]}, "name": "dag_bag_head_tail", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "dag_bag_head_tail", "ret_exprs": ["return dag_bag"], "ret_type": "", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "variables": {"body": "", "dag_bag": "", "head": "", "tail": ""}, "variables_p": {"body": [["Dict[str, str]", 0.2779904884976837], ["str", 0.22104096264467327], ["Dict[str, Optional[str]]", 0.11996713790043179], ["Tuple[str, str]", 0.10879015861917472], ["Pattern[Any]", 0.09550954369525391], ["Dict[str, Any]", 0.08919748195252036]], "dag_bag": [], "head": [["golem.task.taskstate.SubtaskState", 0.13654027222845005], ["list", 0.10560205675949144], ["str", 0.1017097110247628], ["Dict[str, str]", 0.0979836045592638], ["zerver.models.Realm", 0.09677251295825995], ["golem.task.taskbase.AcceptClientVerdict", 0.08941695013692173]], "tail": [["golem.task.taskstate.SubtaskState", 0.1352578338063337], ["tuple", 0.116688713200863], ["zerver.models.Realm", 0.10118490283442955], ["Dict[str, str]", 0.09896379596367318], ["restful_functions.modules.task.TaskStoreSettings", 0.09031663379273282], ["str", 0.08642650418378875]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1335, 0], [1367, 5]], "fn_var_ln": {"dag": [[1336, 4], [1336, 7]], "dagrun": [[1341, 8], [1341, 14]], "execution_date": [[1340, 8], [1340, 22]], "state": [[1352, 12], [1352, 20]], "ti": [[1350, 12], [1350, 14]]}, "fn_var_occur": {"dag": [["dag", "airflow", "models", "dag", "DAG", "dag_bag_head_tail", "get_dag"], ["dagrun", "DagRun", "dag_id", "dag", "dag_id", "state", "DagRunState", "SUCCESS", "execution_date", "execution_date", "run_type", "DagRunType", "MANUAL", "run_id", "delta"], ["dag", "tasks"], ["dag", "clear", "start_date", "DEFAULT_DATE", "dag_bag", "dag_bag_head_tail", "session", "session"], ["dag", "clear", "start_date", "DEFAULT_DATE", "end_date", "execution_date", "dag_bag", "dag_bag_head_tail", "session", "session"]], "dagrun": [["dagrun", "DagRun", "dag_id", "dag", "dag_id", "state", "DagRunState", "SUCCESS", "execution_date", "execution_date", "run_type", "DagRunType", "MANUAL", "run_id", "delta"], ["session", "add", "dagrun"], ["dagrun", "task_instances", "append", "ti"]], "execution_date": [["execution_date", "DEFAULT_DATE", "timedelta", "days", "delta"], ["dagrun", "DagRun", "dag_id", "dag", "dag_id", "state", "DagRunState", "SUCCESS", "execution_date", "execution_date", "run_type", "DagRunType", "MANUAL", "run_id", "delta"], ["dag", "clear", "start_date", "DEFAULT_DATE", "end_date", "execution_date", "dag_bag", "dag_bag_head_tail", "session", "session"]], "state": [["dagrun", "DagRun", "dag_id", "dag", "dag_id", "state", "DagRunState", "SUCCESS", "execution_date", "execution_date", "run_type", "DagRunType", "MANUAL", "run_id", "delta"], ["ti", "state", "TaskInstanceState", "SUCCESS"]], "ti": [["ti", "TaskInstance", "task", "task"], ["dagrun", "task_instances", "append", "ti"], ["ti", "state", "TaskInstanceState", "SUCCESS"]]}, "name": "test_clear_overlapping_external_task_marker", "params": {"dag_bag_head_tail": "", "session": ""}, "params_descr": {"dag_bag_head_tail": "", "session": ""}, "params_occur": {"dag_bag_head_tail": [["dag", "airflow", "models", "dag", "DAG", "dag_bag_head_tail", "get_dag"], ["dag", "clear", "start_date", "DEFAULT_DATE", "dag_bag", "dag_bag_head_tail", "session", "session"], ["dag", "clear", "start_date", "DEFAULT_DATE", "end_date", "execution_date", "dag_bag", "dag_bag_head_tail", "session", "session"]], "session": [["session", "add", "dagrun"], ["session", "flush"], ["dag", "clear", "start_date", "DEFAULT_DATE", "dag_bag", "dag_bag_head_tail", "session", "session"], ["dag", "clear", "start_date", "DEFAULT_DATE", "end_date", "execution_date", "dag_bag", "dag_bag_head_tail", "session", "session"]]}, "params_p": {"args": [], "dag_bag_head_tail": [["core.models.Grouping", 0.21635475899197437], ["zerver.models.UserProfile", 0.19385868251444757], ["str", 0.10609076265385395]], "kwargs": [], "session": [["app.models.models.User", 0.19448501399449009], ["Optional[zerver.models.UserProfile]", 0.10467499168053021], ["daylighdb.models.User", 0.10287806746422082], ["List[str]", 0.10215929903877083], ["str", 0.10007872869365862], ["zerver.models.UserProfile", 0.0971476150993037], ["zam_repondeur.models.Dossier", 0.09586809377235686]]}, "q_name": "test_clear_overlapping_external_task_marker", "ret_exprs": [], "ret_type": "", "variables": {"dag": "airflow.models.dag.DAG", "dagrun": "", "execution_date": "", "state": "", "ti": ""}, "variables_p": {"dag": [["jinete.models.routes.Route", 0.3108850068242124], ["salon.models.Salon", 0.28144054716209865], ["models.confirmation.ConfirmationModel", 0.1023162813359832], ["models.logins.Logins", 0.09338611066737972]], "dagrun": [["int", 0.21702096596836484], ["str", 0.1269521998243789], ["dict", 0.10838141771607751], ["Dict[str, str]", 0.08893258115431064], ["backend.api.models.group.Group", 0.08629419395786976], ["list", 0.08582248901690458]], "execution_date": [["int", 0.18561052875178752], ["str", 0.16652976729854618], ["Type[prm.journals.models.moods.Mood]", 0.14476631645068624], ["datetime.date", 0.1211041459337746], ["timedelta", 0.10360721343943055], ["Optional[datetime.tzinfo]", 0.10010380963326374], ["List[Union[Any, Any]]", 0.09652544699921176], ["datetime.datetime.datetime", 0.08175277149329935]], "state": [["Type[Dict[str, int]]", 0.11366565424973175], ["Dict[str, str]", 0.1106726789962788], ["deque[Any]", 0.10275078298485851], ["types.XMLDict", 0.08339980722467433], ["raiden.transfer.state.NettingChannelEndState", 0.0820633878454484]], "ti": [["rotkehlchen.tests.utils.rotkehlchen.BalancesTestSetup", 0.13668122949752692], ["golem.task.taskstate.SubtaskState", 0.12350725507838031], ["golem.task.taskcomputer.TaskComputer", 0.10006503038714919], ["Dict[str, Dict[str, int]]", 0.09938825459675941], ["Optional[List[Any]]", 0.0835710417581602], ["list", 0.0819993488189243], ["Dict[str, Union[int, str]]", 0.08153694156166766]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1392, 8], [1393, 20]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "dummy_task", "params": {"x": "builtins.int"}, "params_descr": {"x": ""}, "params_occur": {"x": []}, "params_p": {"args": [], "kwargs": [], "x": [["bool", 0.1759707198093129], ["str", 0.09965142452986873]]}, "q_name": "dag_bag_head_tail_mapped_tasks.<locals>.dummy_task", "ret_exprs": ["return x"], "ret_type": "", "ret_type_p": [["List[int]", 0.19723713315193922], ["Set[Optional[str]]", 0.10591409657378974], ["int", 0.0991037052392267], ["Dict[str, str]", 0.09707170530270803], ["bool", 0.09600620420522246]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Create a DagBag containing one DAG, with task \"head\" depending on task \"tail\" of the", "long_descr": "previous execution_date.\n\n20200501     20200502                 20200510\n+------+     +------+                 +------+\n| head |    -->head |    -->         -->head |\n|  |   |   / |  |   |   /           / |  |   |\n|  v   |  /  |  v   |  /           /  |  v   |\n| body | /   | body | /     ...   /   | body |\n|  |   |/    |  |   |/           /    |  |   |\n|  v   /     |  v   /           /     |  v   |\n| tail/|     | tail/|          /      | tail |\n+------+     +------+                 +------+", "ret": null}, "fn_lc": [[1371, 0], [1414, 18]], "fn_var_ln": {"body": [[1403, 8], [1403, 12]], "dag_bag": [[1387, 4], [1387, 11]], "head": [[1395, 8], [1395, 12]], "tail": [[1404, 8], [1404, 12]]}, "fn_var_occur": {"body": [["body", "dummy_task", "expand", "x", "i", "i", "range"], ["head", "body", "tail"]], "dag_bag": [["dag_bag", "bag_dag", "dag", "dag", "root_dag", "dag"]], "head": [["head", "ExternalTaskSensor", "task_id", "external_dag_id", "dag", "dag_id", "external_task_id", "execution_delta", "timedelta", "days", "mode"], ["tail", "ExternalTaskMarker", "task_id", "external_dag_id", "dag", "dag_id", "external_task_id", "head", "task_id", "execution_date"], ["head", "body", "tail"]], "tail": [["tail", "ExternalTaskMarker", "task_id", "external_dag_id", "dag", "dag_id", "external_task_id", "head", "task_id", "execution_date"], ["head", "body", "tail"]]}, "name": "dag_bag_head_tail_mapped_tasks", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "dag_bag_head_tail_mapped_tasks", "ret_exprs": ["return dag_bag"], "ret_type": "", "ret_type_p": [["int", 0.5508932000329346], ["dict", 0.12608796521083526], ["logging.LogRecord", 0.12273914609408161], ["Tuple[int, int, int, int]", 0.09181553333882245]], "variables": {"body": "", "dag_bag": "", "head": "", "tail": ""}, "variables_p": {"body": [["int", 0.6437572736454793], ["list", 0.13298542214118225], ["List[Tuple[Any, float]]", 0.13066945057767007], ["dict", 0.09258785363566842]], "dag_bag": [], "head": [["golem.task.taskstate.SubtaskState", 0.13654027222845005], ["list", 0.10560205675949144], ["str", 0.1017097110247628], ["Dict[str, str]", 0.0979836045592638], ["zerver.models.Realm", 0.09677251295825995], ["golem.task.taskbase.AcceptClientVerdict", 0.08941695013692173]], "tail": [["golem.task.taskstate.SubtaskState", 0.1352578338063337], ["tuple", 0.116688713200863], ["zerver.models.Realm", 0.10118490283442955], ["Dict[str, str]", 0.09896379596367318], ["restful_functions.modules.task.TaskStoreSettings", 0.09031663379273282], ["str", 0.08642650418378875]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1418, 0], [1459, 5]], "fn_var_ln": {"dag": [[1444, 4], [1444, 7]], "dagrun": [[1424, 8], [1424, 14]], "execution_date": [[1423, 8], [1423, 22]], "state": [[1440, 16], [1440, 24]], "task_ids": [[1449, 4], [1449, 12]], "ti": [[1439, 16], [1439, 18]]}, "fn_var_occur": {"dag": [["dag", "airflow", "models", "dag", "DAG", "dag_bag_head_tail_mapped_tasks", "get_dag"], ["dagrun", "DagRun", "dag_id", "dag", "dag_id", "state", "DagRunState", "SUCCESS", "execution_date", "execution_date", "run_type", "DagRunType", "MANUAL", "run_id", "delta"], ["dag", "tasks"], ["dag", "dag", "partial_subset", "task_ids_or_regex", "include_downstream", "True", "include_upstream", "False"], ["task_ids", "tid", "tid", "dag", "task_dict"], ["dag", "clear", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "dag_bag", "dag_bag_head_tail_mapped_tasks", "session", "session", "task_ids", "task_ids"]], "dagrun": [["dagrun", "DagRun", "dag_id", "dag", "dag_id", "state", "DagRunState", "SUCCESS", "execution_date", "execution_date", "run_type", "DagRunType", "MANUAL", "run_id", "delta"], ["session", "add", "dagrun"], ["ti", "TaskInstance", "task", "task", "run_id", "dagrun", "run_id", "map_index", "map_index"], ["dagrun", "task_instances", "append", "ti"], ["ti", "TaskInstance", "task", "task", "run_id", "dagrun", "run_id"], ["dagrun", "task_instances", "append", "ti"]], "execution_date": [["execution_date", "DEFAULT_DATE", "timedelta", "days", "delta"], ["dagrun", "DagRun", "dag_id", "dag", "dag_id", "state", "DagRunState", "SUCCESS", "execution_date", "execution_date", "run_type", "DagRunType", "MANUAL", "run_id", "delta"]], "state": [["dagrun", "DagRun", "dag_id", "dag", "dag_id", "state", "DagRunState", "SUCCESS", "execution_date", "execution_date", "run_type", "DagRunType", "MANUAL", "run_id", "delta"], ["ti", "state", "TaskInstanceState", "SUCCESS"], ["ti", "state", "TaskInstanceState", "SUCCESS"]], "task_ids": [["task_ids", "tid", "tid", "dag", "task_dict"], ["dag", "clear", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "dag_bag", "dag_bag_head_tail_mapped_tasks", "session", "session", "task_ids", "task_ids"]], "ti": [["ti", "TaskInstance", "task", "task", "run_id", "dagrun", "run_id", "map_index", "map_index"], ["ti", "state", "TaskInstanceState", "SUCCESS"], ["dagrun", "task_instances", "append", "ti"], ["ti", "TaskInstance", "task", "task", "run_id", "dagrun", "run_id"], ["ti", "state", "TaskInstanceState", "SUCCESS"], ["dagrun", "task_instances", "append", "ti"]]}, "name": "test_clear_overlapping_external_task_marker_mapped_tasks", "params": {"dag_bag_head_tail_mapped_tasks": "", "session": ""}, "params_descr": {"dag_bag_head_tail_mapped_tasks": "", "session": ""}, "params_occur": {"dag_bag_head_tail_mapped_tasks": [["dag", "airflow", "models", "dag", "DAG", "dag_bag_head_tail_mapped_tasks", "get_dag"], ["dag", "clear", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "dag_bag", "dag_bag_head_tail_mapped_tasks", "session", "session", "task_ids", "task_ids"]], "session": [["session", "add", "dagrun"], ["session", "flush"], ["dag", "clear", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "dag_bag", "dag_bag_head_tail_mapped_tasks", "session", "session", "task_ids", "task_ids"]]}, "params_p": {"args": [], "dag_bag_head_tail_mapped_tasks": [["core.models.Grouping", 0.19126829794512645]], "kwargs": [], "session": [["raiden.utils.Address", 0.20436485687281525], ["raiden.utils.ChannelID", 0.191627898319365], ["server.models.bike.Bike", 0.10515242521334994], ["server.models.User", 0.10198770843032864], ["zerver.models.UserProfile", 0.0959851711350284]]}, "q_name": "test_clear_overlapping_external_task_marker_mapped_tasks", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "dagrun": "", "execution_date": "", "state": "", "task_ids": "", "ti": ""}, "variables_p": {"dag": [["jinete.models.routes.Route", 0.2759888995358527], ["salon.models.Stylist", 0.2375208992847322], ["excars.models.profiles.Profile", 0.1000617933887751], ["models.logins.Logins", 0.0982473545421172], ["passzero.models.entries.Entry_v4", 0.095976429309412], ["jinete.models.trips.Trip", 0.09166082018220145]], "dagrun": [["int", 0.21702096596836484], ["str", 0.1269521998243789], ["dict", 0.10838141771607751], ["Dict[str, str]", 0.08893258115431064], ["backend.api.models.group.Group", 0.08629419395786976], ["list", 0.08582248901690458]], "execution_date": [["int", 0.18561052875178752], ["str", 0.16652976729854618], ["Type[prm.journals.models.moods.Mood]", 0.14476631645068624], ["datetime.date", 0.1211041459337746], ["timedelta", 0.10360721343943055], ["Optional[datetime.tzinfo]", 0.10010380963326374], ["List[Union[Any, Any]]", 0.09652544699921176], ["datetime.datetime.datetime", 0.08175277149329935]], "state": [["Type[Dict[str, int]]", 0.11366565424973175], ["Dict[str, str]", 0.1106726789962788], ["deque[Any]", 0.10275078298485851], ["types.XMLDict", 0.08339980722467433], ["raiden.transfer.state.NettingChannelEndState", 0.0820633878454484]], "task_ids": [["int", 0.31427046399840075], ["str", 0.20309187233677095], ["Dict[str, int]", 0.09923033622320167], ["datetime.date", 0.09722451622149199], ["types.XMLDict", 0.095714247008772], ["Type[projecbetting.models.Odd]", 0.0947977285271666]], "ti": [["int", 0.5966504216981289], ["o2a.converter.task.Task", 0.10835149178781989], ["List[str]", 0.10161071623993478], ["Dict[int, str]", 0.09968753047240873], ["List[dict]", 0.09369983980170773]]}}], "imports": ["__future__", "annotations", "logging", "os", "tempfile", "zipfile", "datetime", "time", "timedelta", "pytest", "airflow", "exceptions", "settings", "airflow", "decorators", "task", "task_deco", "airflow", "exceptions", "AirflowException", "AirflowSensorTimeout", "airflow", "models", "DagBag", "DagRun", "TaskInstance", "airflow", "models", "dag", "DAG", "airflow", "models", "serialized_dag", "SerializedDagModel", "airflow", "models", "xcom_arg", "XComArg", "airflow", "operators", "bash", "BashOperator", "airflow", "operators", "empty", "EmptyOperator", "airflow", "operators", "python", "PythonOperator", "airflow", "sensors", "external_task", "ExternalTaskMarker", "ExternalTaskSensor", "ExternalTaskSensorLink", "airflow", "sensors", "time_sensor", "TimeSensor", "airflow", "serialization", "serialized_objects", "SerializedBaseOperator", "airflow", "utils", "hashlib_wrapper", "md5", "airflow", "utils", "session", "create_session", "provide_session", "airflow", "utils", "state", "DagRunState", "State", "TaskInstanceState", "airflow", "utils", "task_group", "TaskGroup", "airflow", "utils", "timezone", "datetime", "airflow", "utils", "types", "DagRunType", "tests", "models", "TEST_DAGS_FOLDER", "tests", "test_utils", "db", "clear_db_runs", "tests", "test_utils", "mock_operators", "MockOperator"], "mod_var_ln": {"DEFAULT_DATE": [[51, 0], [51, 12]], "DEV_NULL": [[56, 0], [56, 8]], "TEST_DAG_ID": [[52, 0], [52, 11]], "TEST_TASK_GROUP_ID": [[55, 0], [55, 18]], "TEST_TASK_ID": [[53, 0], [53, 12]], "TEST_TASK_ID_ALTERNATE": [[54, 0], [54, 22]]}, "mod_var_occur": {"DEFAULT_DATE": [["self", "args", "DEFAULT_DATE"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["ti", "TaskInstance", "task", "task", "execution_date", "DEFAULT_DATE"], ["ti", "TaskInstance", "task", "task", "execution_date", "DEFAULT_DATE", "map_index", "map_index"], ["ti", "TaskInstance", "task", "task", "execution_date", "DEFAULT_DATE"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["TEST_TASK_ID", "TEST_DAG_ID", "DEFAULT_DATE", "isoformat", "caplog", "messages"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["TEST_TASK_ID", "TEST_DAG_ID", "DEFAULT_DATE", "isoformat", "caplog", "messages"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["TEST_TASK_ID", "TEST_DAG_ID", "DEFAULT_DATE", "isoformat", "caplog", "messages"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "DEFAULT_DATE", "isoformat", "caplog", "messages"], ["other_dag", "DAG", "default_args", "self", "args", "end_date", "DEFAULT_DATE", "schedule"], ["other_dag", "create_dagrun", "run_id", "start_date", "DEFAULT_DATE", "execution_date", "DEFAULT_DATE", "state", "State", "SUCCESS"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["other_dag", "DAG", "default_args", "self", "args", "end_date", "DEFAULT_DATE", "schedule"], ["other_dag", "create_dagrun", "run_id", "start_date", "DEFAULT_DATE", "execution_date", "DEFAULT_DATE", "state", "State", "SUCCESS"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["DEFAULT_DATE", "isoformat", "caplog", "messages"], ["other_dag", "DAG", "default_args", "self", "args", "end_date", "DEFAULT_DATE", "schedule"], ["other_dag", "create_dagrun", "run_id", "start_date", "DEFAULT_DATE", "execution_date", "DEFAULT_DATE", "state", "State", "SUCCESS"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["task_external_without_failure", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "timedelta", "seconds", "ignore_ti_state", "True"], ["task_external_with_failure", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "timedelta", "seconds", "ignore_ti_state", "True"], ["failed_tis", "session", "query", "TI", "filter", "TI", "dag_id", "dag_external_id", "TI", "state", "State", "FAILED", "TI", "execution_date", "DEFAULT_DATE", "timedelta", "seconds", "all"], ["task_without_failure", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["task_with_failure", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["task_chain_with_failure", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op1", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op2", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op1", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op1", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op1", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE"], ["op1", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE"], ["op2", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE"], ["op1", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE"], ["op2", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op", "run", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_ti_state", "True"], ["op", "run", "start_date", "DEFAULT_DATE", "timedelta", "hours", "end_date", "DEFAULT_DATE", "timedelta", "hours", "ignore_ti_state", "True"], ["dagrun", "dag_maker", "create_dagrun", "run_type", "DagRunType", "SCHEDULED", "execution_date", "DEFAULT_DATE"], ["instance", "task", "external_dag_id", "DEFAULT_DATE", "date"], ["instance", "task", "external_task_id", "DEFAULT_DATE", "date"], ["instance", "task", "external_task_ids", "DEFAULT_DATE", "date"], ["DEFAULT_DATE", "date", "url"], ["dag", "DAG", "start_date", "DEFAULT_DATE"], ["dag_0", "DAG", "start_date", "DEFAULT_DATE", "schedule", "None"], ["dag_1", "DAG", "start_date", "DEFAULT_DATE", "schedule", "None"], ["dag_2", "DAG", "start_date", "DEFAULT_DATE", "schedule", "None"], ["dag_3", "DAG", "start_date", "DEFAULT_DATE", "schedule", "None"], ["day_1", "DEFAULT_DATE"], ["day_1", "DEFAULT_DATE"], ["day_2", "DEFAULT_DATE", "timedelta", "days"], ["date_0", "DEFAULT_DATE"], ["date_1", "DEFAULT_DATE", "timedelta", "days"], ["DAG", "start_date", "DEFAULT_DATE", "schedule", "None", "dag"], ["DAG", "n", "start_date", "DEFAULT_DATE", "schedule", "None", "dag"], ["DAG", "depth", "start_date", "DEFAULT_DATE", "schedule", "None", "dag"], ["daily_dag", "DAG", "start_date", "DEFAULT_DATE", "schedule"], ["agg_dag", "DAG", "start_date", "DEFAULT_DATE", "schedule"], ["tis", "run_tasks", "dag_bag_multiple", "execution_date", "DEFAULT_DATE"], ["DAG", "start_date", "DEFAULT_DATE", "schedule", "dag"], ["execution_date", "DEFAULT_DATE", "timedelta", "days", "delta"], ["dag", "clear", "start_date", "DEFAULT_DATE", "dag_bag", "dag_bag_head_tail", "session", "session"], ["dag", "clear", "start_date", "DEFAULT_DATE", "end_date", "execution_date", "dag_bag", "dag_bag_head_tail", "session", "session"], ["DAG", "start_date", "DEFAULT_DATE", "schedule", "dag"], ["execution_date", "DEFAULT_DATE", "timedelta", "days", "delta"], ["dag", "clear", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "dag_bag", "dag_bag_head_tail_mapped_tasks", "session", "session", "task_ids", "task_ids"]], "DEV_NULL": [["self", "dagbag", "DagBag", "dag_folder", "DEV_NULL", "include_examples", "True"], ["dag_bag", "DagBag", "dag_folder", "DEV_NULL", "include_examples", "False"], ["dag_bag", "DagBag", "dag_folder", "DEV_NULL", "include_examples", "False"], ["dag_bag", "DagBag", "dag_folder", "DEV_NULL", "include_examples", "False"], ["dag_bag", "DagBag", "dag_folder", "DEV_NULL", "include_examples", "False"], ["dag_bag", "DagBag", "dag_folder", "DEV_NULL", "include_examples", "False"], ["dag_bag", "DagBag", "dag_folder", "DEV_NULL", "include_examples", "False"]], "TEST_DAG_ID": [["self", "dag", "DAG", "TEST_DAG_ID", "default_args", "self", "args"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "external_task_ids", "TEST_TASK_ID", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "timeout", "dag", "self", "dag", "poke_interval"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag"], ["pytest", "raises", "AirflowException", "match", "TEST_TASK_GROUP_ID", "TEST_DAG_ID"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "State", "SUCCESS", "failed_states", "State", "SUCCESS", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "failed_states", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "failed_states", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "failed_states", "dag", "self", "dag"], ["error_message", "TEST_TASK_ID", "TEST_DAG_ID"], ["TEST_TASK_ID", "TEST_DAG_ID", "DEFAULT_DATE", "isoformat", "caplog", "messages"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "State", "FAILED", "failed_states", "State", "SUCCESS", "soft_fail", "True", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "State", "FAILED", "skipped_states", "State", "SUCCESS", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "external_task_id", "params", "TEST_DAG_ID", "TEST_TASK_ID", "dag", "self", "dag"], ["TEST_TASK_ID", "TEST_DAG_ID", "DEFAULT_DATE", "isoformat", "caplog", "messages"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "external_task_ids", "params", "TEST_DAG_ID", "TEST_TASK_ID", "dag", "self", "dag"], ["TEST_TASK_ID", "TEST_DAG_ID", "DEFAULT_DATE", "isoformat", "caplog", "messages"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "allowed_states", "failed_states", "dag", "self", "dag"], ["error_message", "TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "TEST_DAG_ID"], ["dag_external_id", "TEST_DAG_ID"], ["dag_id", "TEST_DAG_ID"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_delta", "timedelta", "allowed_states", "dag", "self", "dag"], ["op1", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_date_fn", "dt", "dt", "timedelta", "allowed_states", "dag", "self", "dag"], ["op2", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_date_fn", "dt", "dt", "timedelta", "days", "allowed_states", "timeout", "poke_interval", "dag", "self", "dag"], ["op1", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_date_fn", "my_func", "allowed_states", "dag", "self", "dag"], ["op1", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_date_fn", "my_func", "allowed_states", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_delta", "timedelta", "execution_date_fn", "dt", "dt", "allowed_states", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "external_task_ids", "TEST_TASK_ID", "allowed_states", "dag", "self", "dag"], ["op2", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "XComArg", "op1", "allowed_states", "dag", "self", "dag"], ["op1", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "TEST_TASK_ID", "allowed_states", "dag", "self", "dag"], ["op2", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "XComArg", "op1", "allowed_states", "dag", "self", "dag"], ["op2", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "XComArg", "op1", "XComArg", "op1", "allowed_states", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "None", "allowed_states", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag"], ["pytest", "raises", "AirflowException", "match", "TEST_TASK_GROUP_ID", "TEST_DAG_ID"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag", "poke_interval", "timeout"]], "TEST_TASK_GROUP_ID": [["TaskGroup", "group_id", "TEST_TASK_GROUP_ID", "task_group"], ["TaskGroup", "group_id", "TEST_TASK_GROUP_ID", "task_group"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag"], ["pytest", "raises", "AirflowException", "match", "TEST_TASK_GROUP_ID", "TEST_DAG_ID"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag"], ["pytest", "raises", "AirflowException", "match", "TEST_TASK_GROUP_ID", "TEST_DAG_ID"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "failed_states", "State", "FAILED", "dag", "self", "dag", "poke_interval", "timeout"]], "TEST_TASK_ID": [["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "dag", "self", "dag"], ["self", "add_time_sensor", "task_id", "TEST_TASK_ID"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "external_task_ids", "TEST_TASK_ID", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "external_task_group_id", "TEST_TASK_GROUP_ID", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "State", "SUCCESS", "failed_states", "State", "SUCCESS", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "failed_states", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "failed_states", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "failed_states", "dag", "self", "dag"], ["error_message", "TEST_TASK_ID", "TEST_DAG_ID"], ["TEST_TASK_ID", "TEST_DAG_ID", "DEFAULT_DATE", "isoformat", "caplog", "messages"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "State", "FAILED", "failed_states", "State", "SUCCESS", "soft_fail", "True", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "State", "FAILED", "skipped_states", "State", "SUCCESS", "dag", "self", "dag"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "external_task_id", "params", "TEST_DAG_ID", "TEST_TASK_ID", "dag", "self", "dag"], ["TEST_TASK_ID", "TEST_DAG_ID", "DEFAULT_DATE", "isoformat", "caplog", "messages"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "external_task_ids", "params", "TEST_DAG_ID", "TEST_TASK_ID", "dag", "self", "dag"], ["TEST_TASK_ID", "TEST_DAG_ID", "DEFAULT_DATE", "isoformat", "caplog", "messages"], ["self", "add_time_sensor", "task_id", "TEST_TASK_ID"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "allowed_states", "failed_states", "dag", "self", "dag"], ["error_message", "TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "TEST_DAG_ID"], ["TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "DEFAULT_DATE", "isoformat", "caplog", "messages"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_delta", "timedelta", "allowed_states", "dag", "self", "dag"], ["op1", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_date_fn", "dt", "dt", "timedelta", "allowed_states", "dag", "self", "dag"], ["op2", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_date_fn", "dt", "dt", "timedelta", "days", "allowed_states", "timeout", "poke_interval", "dag", "self", "dag"], ["op1", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_date_fn", "my_func", "allowed_states", "dag", "self", "dag"], ["op1", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_date_fn", "my_func", "allowed_states", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "execution_delta", "timedelta", "execution_date_fn", "dt", "dt", "allowed_states", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "external_task_ids", "TEST_TASK_ID", "allowed_states", "dag", "self", "dag"], ["op1", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "TEST_TASK_ID", "allowed_states", "dag", "self", "dag"], ["ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_id", "TEST_TASK_ID", "allowed_states", "dag", "self", "dag"]], "TEST_TASK_ID_ALTERNATE": [["self", "add_time_sensor", "task_id", "TEST_TASK_ID_ALTERNATE"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "dag", "self", "dag"], ["self", "add_time_sensor", "task_id", "TEST_TASK_ID_ALTERNATE"], ["op", "ExternalTaskSensor", "task_id", "external_dag_id", "TEST_DAG_ID", "external_task_ids", "TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "allowed_states", "failed_states", "dag", "self", "dag"], ["error_message", "TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "TEST_DAG_ID"], ["TEST_TASK_ID", "TEST_TASK_ID_ALTERNATE", "DEFAULT_DATE", "isoformat", "caplog", "messages"]]}, "no_types_annot": {"D": 9, "I": 0, "U": 291}, "session_id": "CZtgqSOl2pU59q_52l3wkaV6rW_bsOykyP50P5AfVfI", "set": null, "tc": [false, null], "type_annot_cove": 0.03, "typed_seq": "", "untyped_seq": "", "variables": {"DEFAULT_DATE": "", "DEV_NULL": "", "TEST_DAG_ID": "", "TEST_TASK_GROUP_ID": "", "TEST_TASK_ID": "", "TEST_TASK_ID_ALTERNATE": ""}, "variables_p": {"DEFAULT_DATE": [["str", 0.32334920859005284], ["Dict[str, bool]", 0.30353253217203846], ["Pattern[str]", 0.1969523803683572], ["Dict[str, Union[None, Any, int, str]]", 0.09264945066022445]], "DEV_NULL": [["str", 0.5703972945683553], ["Optional[str]", 0.09192514738995172], ["Set[str]", 0.07568899276009829]], "TEST_DAG_ID": [["str", 0.39914895211104373], ["Union[int, str]", 0.13755852531667503], ["set", 0.10411922871056511], ["List[str]", 0.09508719817817247], ["raiden_contracts.utils.type_aliases.ChainID", 0.09013787042351924], ["Optional[str]", 0.09013787042351924], ["Dict[str, str]", 0.08381035483650509]], "TEST_TASK_GROUP_ID": [["str", 0.2606455221699987], ["List[str]", 0.13312038604602197], ["ClassVar[str]", 0.12864516631868256], ["dict", 0.08218334394978156], ["Tuple[Any, Any]", 0.08095937080662628]], "TEST_TASK_ID": [["int", 0.3979063386085366], ["str", 0.2878098553671403], ["cmk.utils.type_defs.UserId", 0.11462320538615758]], "TEST_TASK_ID_ALTERNATE": [["str", 0.3176404426939954], ["transfer.models.TopicID", 0.10103131725413936], ["int", 0.09276169834300256]]}}}