{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[50, 0], [67, 17]], "fn_var_ln": {"_": [[55, 13], [55, 14]], "api_version": [[55, 16], [55, 27]], "ext": [[56, 8], [56, 11]], "kind": [[52, 4], [52, 8]], "request": [[60, 4], [60, 11]], "schema": [[62, 4], [62, 10]], "url": [[59, 8], [59, 11]]}, "fn_var_occur": {"_": [["ext", "_", "api_version", "api_version", "partition"]], "api_version": [["api_version", "api_version", "lower"], ["ext", "_", "api_version", "api_version", "partition"], ["url", "BASE_URL_SPEC", "kind", "ext", "api_version"], ["url", "BASE_URL_SPEC", "kind", "api_version"]], "ext": [["ext", "_", "api_version", "api_version", "partition"], ["ext", "ext", "split"], ["url", "BASE_URL_SPEC", "kind", "ext", "api_version"]], "kind": [["kind", "kind", "lower"], ["url", "BASE_URL_SPEC", "kind", "ext", "api_version"], ["url", "BASE_URL_SPEC", "kind", "api_version"]], "request": [["request", "requests", "get", "url"], ["request", "raise_for_status"], ["schema", "json", "loads", "request", "text", "replace"]], "schema": [["schema", "json", "loads", "request", "text", "replace"]], "url": [["url", "BASE_URL_SPEC", "kind", "ext", "api_version"], ["url", "BASE_URL_SPEC", "kind", "api_version"], ["request", "requests", "get", "url"]]}, "name": "get_schema_k8s", "params": {"api_version": "", "kind": "", "kubernetes_version": ""}, "params_descr": {"api_version": "", "kind": "", "kubernetes_version": ""}, "params_occur": {"api_version": [["api_version", "api_version", "lower"], ["ext", "_", "api_version", "api_version", "partition"], ["url", "BASE_URL_SPEC", "kind", "ext", "api_version"], ["url", "BASE_URL_SPEC", "kind", "api_version"]], "kind": [["kind", "kind", "lower"], ["url", "BASE_URL_SPEC", "kind", "ext", "api_version"], ["url", "BASE_URL_SPEC", "kind", "api_version"]], "kubernetes_version": []}, "params_p": {"api_version": [["bool", 0.49654780692114375], ["str", 0.20494343439868665], ["Optional[int]", 0.10477020585979654], ["Optional[\"AbstractPurpose\"]", 0.09973852867383541], ["Optional[str]", 0.09400002414653771]], "args": [], "kind": [["str", 0.8885967223659136], ["dict", 0.11140327763408651]], "kubernetes_version": [["bool", 0.28061767209873295], ["str", 0.2520100094859793], ["List[str]", 0.20029597834495022], ["Optional[str]", 0.09173919026328918], ["Optional[bool]", 0.08359795954375912]], "kwargs": []}, "q_name": "get_schema_k8s", "ret_exprs": ["return schema"], "ret_type": "", "ret_type_p": [["int", 0.3843648609915216], ["Tuple[bytes]", 0.09957355562060757], ["Dict[str, Any]", 0.09957355562060757], ["Tuple[int, int]", 0.09918974712750585], ["str", 0.09918974712750585]], "variables": {"_": "", "api_version": "", "ext": "", "kind": "", "request": "", "schema": "", "url": ""}, "variables_p": {"_": [["str", 0.24366838680723896], ["int", 0.20462174021955534], ["list", 0.1507852964348236], ["List[int]", 0.1240874767424679], ["pathlib.Path", 0.10371392132498067], ["Pattern[str]", 0.09487145136481177], ["Type[str]", 0.07825172710612166]], "api_version": [["str", 0.20608954890042347], ["Optional[bool]", 0.10899838196306694], ["Tuple[Literal, Literal, Literal]", 0.10099901682176209], ["List[str]", 0.09961053114503342], ["list", 0.09943834564567301], ["int", 0.09728949660233197], ["Dict[str, str]", 0.09594048096966266]], "ext": [["str", 0.5451561233739692], ["Dict[str, str]", 0.11312121543645139], ["Dict[str, Union[Any, Any, Any, Any]]", 0.09938787118405269], ["functools.partial[Any]", 0.08369575511677298]], "kind": [["str", 0.8344965950299544], ["Dict[str, str]", 0.08323631636000316], ["Optional[Match[str]]", 0.08226708861004248]], "request": [["requests.Response", 0.1821839649562821], ["Dict[str, Any]", 0.09162701205098203]], "schema": [["Set[str]", 0.21454971056184977], ["str", 0.16500105941203083], ["Dict[str, str]", 0.16356184191434636], ["frozenset[str]", 0.09919912263396365], ["Dict[str, Union[Any, Any, str]]", 0.08484132168439293]], "url": [["str", 0.829388190507034], ["Dict[str, str]", 0.08968079885677242], ["requests.models.Response", 0.08093101063619355]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[70, 0], [77, 17]], "fn_var_ln": {"response": [[74, 4], [74, 12]], "schema": [[76, 4], [76, 10]], "url": [[71, 4], [71, 7]], "yaml_schema": [[75, 4], [75, 15]]}, "fn_var_occur": {"response": [["response", "requests", "get", "url"], ["yaml_schema", "response", "content", "decode"]], "schema": [["schema", "yaml", "safe_load", "StringIO", "yaml_schema"]], "url": [["url", "crd_lookup", "get", "api_version", "kind"], ["response", "requests", "get", "url"]], "yaml_schema": [["yaml_schema", "response", "content", "decode"], ["schema", "yaml", "safe_load", "StringIO", "yaml_schema"]]}, "name": "get_schema_crd", "params": {"api_version": "", "kind": ""}, "params_descr": {"api_version": "", "kind": ""}, "params_occur": {"api_version": [["url", "crd_lookup", "get", "api_version", "kind"]], "kind": [["url", "crd_lookup", "get", "api_version", "kind"]]}, "params_p": {"api_version": [["str", 0.28646940567517665], ["Dict[str, str]", 0.18437912740284101], ["Dict[str, Any]", 0.1408877370751718], ["dict", 0.09045486243115775]], "args": [], "kind": [["str", 0.28646940567517665], ["Dict[str, str]", 0.18437912740284101], ["Dict[str, Any]", 0.1408877370751718], ["dict", 0.09045486243115775]], "kwargs": []}, "q_name": "get_schema_crd", "ret_exprs": ["return None", "return schema"], "ret_type": "", "ret_type_p": [["Optional[int]", 0.2363435859947255], ["Optional[str]", 0.18885481834707435], ["bool", 0.11083421946405181], ["str", 0.0876659646874396], ["dict", 0.07986894610219684]], "variables": {"response": "", "schema": "", "url": "", "yaml_schema": ""}, "variables_p": {"response": [["requests.models.Response", 0.6118356147734889], ["Dict[str, str]", 0.19401989725616176], ["Dict[str, Any]", 0.09716018365557649]], "schema": [["str", 0.9107411694535036], ["bool", 0.08925883054649662]], "url": [["str", 0.3939016951662669], ["Dict[str, str]", 0.23906644024471257], ["tuple", 0.08697619222963918]], "yaml_schema": [["str", 0.33686538820075196], ["Dict[str, str]", 0.20164475839242965], ["dict", 0.09648023467122428]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[81, 0], [87, 20]], "fn_var_ln": {"schema": [[84, 8], [84, 14]], "validator": [[86, 4], [86, 13]]}, "fn_var_occur": {"schema": [["schema", "get_schema_crd", "api_version", "kind"], ["schema", "get_schema_k8s", "api_version", "kind", "kubernetes_version"], ["jsonschema", "Draft7Validator", "check_schema", "schema"], ["validator", "jsonschema", "Draft7Validator", "schema"]], "validator": [["validator", "jsonschema", "Draft7Validator", "schema"]]}, "name": "create_validator", "params": {"api_version": "", "kind": "", "kubernetes_version": ""}, "params_descr": {"api_version": "", "kind": "", "kubernetes_version": ""}, "params_occur": {"api_version": [["schema", "get_schema_crd", "api_version", "kind"], ["schema", "get_schema_k8s", "api_version", "kind", "kubernetes_version"]], "kind": [["schema", "get_schema_crd", "api_version", "kind"], ["schema", "get_schema_k8s", "api_version", "kind", "kubernetes_version"]], "kubernetes_version": [["schema", "get_schema_k8s", "api_version", "kind", "kubernetes_version"]]}, "params_p": {"api_version": [["str", 0.5935244067433553]], "args": [], "kind": [["str", 0.5935244067433553]], "kubernetes_version": [["str", 0.4483295000410115], ["Sequence[int]", 0.33556267178778404], ["Optional[str]", 0.05606851223411182]], "kwargs": []}, "q_name": "create_validator", "ret_exprs": ["return validator"], "ret_type": "", "ret_type_p": [["bool", 0.5], ["float", 0.1]], "variables": {"schema": "", "validator": ""}, "variables_p": {"schema": [["List[str]", 0.15014094733507424], ["str", 0.0787298893312249]], "validator": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["Callable(functools.wraps)[[Named(wrapped, Callable[..., Any]), Named(assigned, Sequence[str], default), Named(updated, Sequence[str], default)], Callable[Any, Any]]", 0.1], ["str", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[90, 0], [102, 31]], "fn_var_ln": {"chart": [[96, 8], [96, 13]], "labels": [[92, 4], [92, 10]], "validate": [[101, 4], [101, 12]]}, "fn_var_occur": {"chart": [["chart", "labels"], ["chart", "labels", "get"], ["chart", "chart"]], "labels": [["labels", "jmespath", "search", "instance"], ["chart", "labels"], ["chart", "labels", "get"]], "validate": [["validate", "create_validator", "instance", "get", "instance", "get", "kubernetes_version"], ["validate", "validate", "instance"]]}, "name": "validate_k8s_object", "params": {"instance": "", "kubernetes_version": ""}, "params_descr": {"instance": "", "kubernetes_version": ""}, "params_occur": {"instance": [["labels", "jmespath", "search", "instance"], ["validate", "create_validator", "instance", "get", "instance", "get", "kubernetes_version"], ["validate", "validate", "instance"]], "kubernetes_version": [["validate", "create_validator", "instance", "get", "instance", "get", "kubernetes_version"]]}, "params_p": {"args": [], "instance": [["str", 0.23065794991871125], ["dict", 0.11117975467048], ["bytes", 0.10673704365256076], ["Callable", 0.09328151304483649]], "kubernetes_version": [["str", 0.4140189665395283], ["Dict[str, Any]", 0.10382946779585832]], "kwargs": []}, "q_name": "validate_k8s_object", "ret_exprs": ["return"], "ret_type": "", "ret_type_p": [["str", 0.3082791919511575], ["bool", 0.1905326695211825], ["Sequence[str]", 0.10464481878960018], ["Callable", 0.09293382792014351]], "variables": {"chart": "", "labels": "", "validate": ""}, "variables_p": {"chart": [["str", 0.35780413470371863], ["bool", 0.2986556504956986], ["Mapping", 0.1128346456604805], ["int", 0.08650583578485278]], "labels": [["str", 0.0798123979464145]], "validate": [["str", 0.49709343035667547], ["Dict[str, str]", 0.1919024636524944], ["io.BytesIO", 0.11910164233833584], ["Dict[str, Type[Any]]", 0.0959512318262472], ["dict", 0.0959512318262472]]}}, {"docstring": {"func": "Function that renders a helm chart into dictionaries. For helm chart testing only", "long_descr": null, "ret": null}, "fn_lc": [[105, 0], [143, 26]], "fn_var_ln": {"chart_dir": [[117, 4], [117, 13]], "command": [[123, 8], [123, 15]], "content": [[120, 8], [120, 15]], "k8s_objects": [[140, 8], [140, 19]], "namespace": [[118, 4], [118, 13]], "templates": [[138, 8], [138, 17]], "values": [[116, 4], [116, 10]]}, "fn_var_occur": {"chart_dir": [["chart_dir", "chart_dir", "str", "CHART_DIR"], ["command", "name", "chart_dir", "tmp_file", "name", "kubernetes_version", "namespace"], ["templates", "subprocess", "check_output", "command", "stderr", "subprocess", "PIPE", "cwd", "chart_dir"]], "command": [["command", "name", "chart_dir", "tmp_file", "name", "kubernetes_version", "namespace"], ["command", "extend", "i"], ["templates", "subprocess", "check_output", "command", "stderr", "subprocess", "PIPE", "cwd", "chart_dir"]], "content": [["content", "yaml", "dump", "values"], ["tmp_file", "write", "content", "encode"]], "k8s_objects": [["k8s_objects", "yaml", "full_load_all", "templates"], ["k8s_objects", "k8s_object", "k8s_object", "k8s_objects", "k8s_object"]], "namespace": [["namespace", "namespace"], ["command", "name", "chart_dir", "tmp_file", "name", "kubernetes_version", "namespace"]], "templates": [["templates", "subprocess", "check_output", "command", "stderr", "subprocess", "PIPE", "cwd", "chart_dir"], ["k8s_objects", "yaml", "full_load_all", "templates"]], "values": [["values", "values"], ["content", "yaml", "dump", "values"]]}, "name": "render_chart", "params": {"chart_dir": "", "kubernetes_version": "", "name": "", "namespace": "", "show_only": "", "values": ""}, "params_descr": {"chart_dir": "", "kubernetes_version": "", "name": "", "namespace": "", "show_only": "", "values": ""}, "params_occur": {"chart_dir": [["chart_dir", "chart_dir", "str", "CHART_DIR"], ["command", "name", "chart_dir", "tmp_file", "name", "kubernetes_version", "namespace"], ["templates", "subprocess", "check_output", "command", "stderr", "subprocess", "PIPE", "cwd", "chart_dir"]], "kubernetes_version": [["command", "name", "chart_dir", "tmp_file", "name", "kubernetes_version", "namespace"], ["validate_k8s_object", "k8s_object", "kubernetes_version"]], "name": [["command", "name", "chart_dir", "tmp_file", "name", "kubernetes_version", "namespace"]], "namespace": [["namespace", "namespace"], ["command", "name", "chart_dir", "tmp_file", "name", "kubernetes_version", "namespace"]], "show_only": [], "values": [["values", "values"], ["content", "yaml", "dump", "values"]]}, "params_p": {"args": [], "chart_dir": [["str", 0.6572062710262394], ["Union[pathlib3x.Path, IO[str], None]", 0.1516945083404253], ["List[str]", 0.11220436846285556], ["pathlib.Path", 0.07889485217047976]], "kubernetes_version": [["str", 0.7262851191787396], ["bool", 0.1836949597119725]], "kwargs": [], "name": [["str", 0.8009370048389436], ["bool", 0.09505264270494596]], "namespace": [["str", 0.49097661879983046], ["Optional[str]", 0.22028766911212636], ["list", 0.09954859985578356], ["Callable", 0.09505368625507125], ["Union[pathlib.Path, str]", 0.09413342597718832]], "show_only": [["int", 0.6063229237963049], ["Iterable[float]", 0.20210764126543498], ["bool", 0.19156943493826004]], "values": [["bool", 0.28128392036587724], ["Optional[Any]", 0.21574186637725332], ["List[str]", 0.20310548543738174], ["Optional[Dict]", 0.11684309716986668], ["str", 0.09426309450195934], ["Optional[str]", 0.08876253614766164]]}, "q_name": "render_chart", "ret_exprs": ["return k8s_objects"], "ret_type": "", "ret_type_p": [["bool", 0.39987971352684226], ["Optional[str]", 0.20502939398340347], ["Optional[Sequence[str]]", 0.0933415336479772], ["Optional[Callable]", 0.0933415336479772], ["Dict[str, Union[str, int]]", 0.0793832766478336]], "variables": {"chart_dir": "", "command": "", "content": "", "k8s_objects": "", "namespace": "", "templates": "", "values": ""}, "variables_p": {"chart_dir": [["pathlib.Path", 0.7217655051986148], ["paradigm.catalog.Path", 0.09625881961092125], ["str", 0.09178781779528593], ["Dict[str, Any]", 0.09018785739517801]], "command": [["str", 0.3930518901381428], ["list", 0.14867136290354338], ["dict", 0.09858074653888484], ["pathlib.Path", 0.0922177707082963], ["List[str]", 0.07900117164138444]], "content": [["str", 0.7522039463186286], ["bytes", 0.15009280147400164], ["io.BufferedWriter", 0.09770325220736985]], "k8s_objects": [["int", 0.4134430562469707], ["Dict[str, str]", 0.09245109015973436]], "namespace": [["str", 0.21250053056394752], ["Dict[str, str]", 0.10888767037095616], ["dict", 0.08306670091651011], ["pathlib.Path", 0.07888493279253186]], "templates": [["str", 0.38996677039787925], ["Dict[str, str]", 0.14321585388785502], ["List[str]", 0.09167500370524727]], "values": [["Dict[str, bool]", 0.175857038543265], ["float", 0.1419464437149256], ["dict", 0.10736286088826914], ["int", 0.10222807797222769]]}}, {"docstring": {"func": "Helper to create a lookup dict from k8s_objects.", "long_descr": "The keys of the dict are the k8s object's kind and name", "ret": null}, "fn_lc": [[146, 0], [154, 25]], "fn_var_ln": {"k8s_obj_by_key": [[151, 4], [151, 18]]}, "fn_var_occur": {"k8s_obj_by_key": [["k8s_obj_by_key", "k8s_object", "k8s_object", "k8s_object", "k8s_object", "k8s_objects"]]}, "name": "prepare_k8s_lookup_dict", "params": {"k8s_objects": ""}, "params_descr": {"k8s_objects": ""}, "params_occur": {"k8s_objects": [["k8s_obj_by_key", "k8s_object", "k8s_object", "k8s_object", "k8s_object", "k8s_objects"]]}, "params_p": {"args": [], "k8s_objects": [["pathlib.Path", 0.17756383054863278], ["requests.models.Response", 0.13584144623213396], ["Type[T]", 0.09148186282128379], ["bytes", 0.09061768447799114], ["Dict[str, Any]", 0.08949089092647765]], "kwargs": []}, "q_name": "prepare_k8s_lookup_dict", "ret_exprs": ["return k8s_obj_by_key"], "ret_type": "builtins.dict[builtins.tuple[builtins.str, builtins.str], builtins.dict[builtins.str, typing.Any]]", "ret_type_p": [["Dict[str, Any]", 0.10581226738958634], ["dict", 0.10114993464092731], ["Optional[bool]", 0.10064674967850049], ["int", 0.10006142410109752], ["Optional[dict]", 0.08897294054443995]], "variables": {"k8s_obj_by_key": ""}, "variables_p": {"k8s_obj_by_key": [["str", 0.5894644805653102], ["Dict[str, Union[Any, Any]]", 0.125554862003002], ["Dict[str, Dict[str, str]]", 0.1023580371755337], ["bytes", 0.10235751567524962], ["Optional[str]", 0.08026510458090443]]}}, {"docstring": {"func": "Function that renders dictionaries into k8s objects. For helm chart testing only.", "long_descr": null, "ret": null}, "fn_lc": [[157, 0], [161, 72]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "render_k8s_object", "params": {"obj": "", "type_to_render": ""}, "params_descr": {"obj": "", "type_to_render": ""}, "params_occur": {"obj": [["api_client", "_ApiClient__deserialize_model", "obj", "type_to_render"]], "type_to_render": [["api_client", "_ApiClient__deserialize_model", "obj", "type_to_render"]]}, "params_p": {"args": [], "kwargs": [], "obj": [["str", 0.6063121320810413], ["bool", 0.09616267167668172]], "type_to_render": [["str", 0.6063121320810413], ["bool", 0.09616267167668172]]}, "q_name": "render_k8s_object", "ret_exprs": ["return api_client._ApiClient__deserialize_model(obj, type_to_render)"], "ret_type": "", "ret_type_p": [["str", 0.09394975483858752]], "variables": {}, "variables_p": {}}], "imports": ["__future__", "annotations", "json", "subprocess", "functools", "lru_cache", "io", "StringIO", "pathlib", "Path", "tempfile", "NamedTemporaryFile", "typing", "Any", "jmespath", "jsonschema", "requests", "yaml", "kubernetes", "client", "api_client", "ApiClient"], "mod_var_ln": {"BASE_URL_SPEC": [[38, 0], [38, 13]], "CHART_DIR": [[35, 0], [35, 9]], "DEFAULT_KUBERNETES_VERSION": [[37, 0], [37, 26]], "api_client": [[33, 0], [33, 10]], "crd_lookup": [[43, 0], [43, 10]]}, "mod_var_occur": {"BASE_URL_SPEC": [["url", "BASE_URL_SPEC", "kind", "ext", "api_version"], ["url", "BASE_URL_SPEC", "kind", "api_version"]], "CHART_DIR": [["chart_dir", "chart_dir", "str", "CHART_DIR"]], "DEFAULT_KUBERNETES_VERSION": [["BASE_URL_SPEC", "DEFAULT_KUBERNETES_VERSION"]], "api_client": [["api_client", "_ApiClient__deserialize_model", "obj", "type_to_render"]], "crd_lookup": [["url", "crd_lookup", "get", "api_version", "kind"]]}, "no_types_annot": {"D": 1, "I": 0, "U": 49}, "session_id": "t3smPnDZGXe07ZJeRMecGPvit6JF6wJd_XVZ71lp_FA", "set": null, "tc": [false, null], "type_annot_cove": 0.02, "typed_seq": "", "untyped_seq": "", "variables": {"BASE_URL_SPEC": "", "CHART_DIR": "", "DEFAULT_KUBERNETES_VERSION": "", "api_client": "", "crd_lookup": ""}, "variables_p": {"BASE_URL_SPEC": [["str", 0.8030104897737065], ["Optional[str]", 0.1066865820321581], ["List[Pattern[Any]]", 0.0903029281941353]], "CHART_DIR": [["pathlib.Path", 0.903884794556689], ["str", 0.09611520544331087]], "DEFAULT_KUBERNETES_VERSION": [["int", 0.5845155918056087], ["Union[int, str]", 0.21226916563836573], ["DefaultDict[str, int]", 0.10987882755791957], ["List[str]", 0.09333641499810612]], "api_client": [["str", 0.2392489072024535], ["Dict[str, Any]", 0.08292147056427819]], "crd_lookup": [["Dict[str, str]", 0.7], ["dict", 0.2], ["Dict[str, List[str]]", 0.1]]}}}