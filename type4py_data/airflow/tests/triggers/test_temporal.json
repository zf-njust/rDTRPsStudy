{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": "Tests that the DateTimeTrigger validates input to moment arg, it should only accept datetime.", "long_descr": null, "ret": null}, "fn_lc": [[30, 0], [35, 52]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_input_validation", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_input_validation", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Tests that the DateTimeTrigger correctly serializes its arguments", "long_descr": "and classpath.", "ret": null}, "fn_lc": [[38, 0], [47, 39]], "fn_var_ln": {"classpath": [[45, 4], [45, 13]], "kwargs": [[45, 15], [45, 21]], "moment": [[43, 4], [43, 10]], "trigger": [[44, 4], [44, 11]]}, "fn_var_occur": {"classpath": [["classpath", "kwargs", "trigger", "serialize"]], "kwargs": [["classpath", "kwargs", "trigger", "serialize"], ["kwargs", "moment"]], "moment": [["moment", "pendulum", "instance", "datetime", "datetime", "pendulum", "UTC"], ["trigger", "DateTimeTrigger", "moment"], ["kwargs", "moment"]], "trigger": [["trigger", "DateTimeTrigger", "moment"], ["classpath", "kwargs", "trigger", "serialize"]]}, "name": "test_datetime_trigger_serialization", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_datetime_trigger_serialization", "ret_exprs": [], "ret_type": "", "variables": {"classpath": "", "kwargs": "", "moment": "", "trigger": ""}, "variables_p": {"classpath": [["Set[str]", 0.4999999999750701], ["int", 0.49999999996228883], ["Dict[str, Union[int, str]]", 1.582796261262258e-11], ["List[str]", 1.3730011143514454e-11], ["str", 1.0971499556494418e-11], ["bool", 1.0865339793385232e-11]], "kwargs": [["dict", 0.20145093207166637], ["List[Union[Any, Any]]", 0.12687793373321266], ["Type[Dict[str, Any]]", 0.11037421331790495], ["bool", 0.10444366649662394], ["Tuple[Tuple[str, Any]]", 0.0989348185308203], ["Dict[int, Any]", 0.09175667710971379], ["Dict[str, str]", 0.09016081622134851], ["Dict[str, Any]", 0.08887847307445639]], "moment": [["datetime.datetime.timedelta", 0.38649613398539107], ["datetime.datetime", 0.2865441397031945], ["datetime.date", 0.21825236304327925]], "trigger": [["datetime.datetime.timedelta", 0.704361922337662], ["datetime.datetime", 0.18654433159942208], ["str", 0.1090937460629161]]}}, {"docstring": {"func": "Tests that the TimeDeltaTrigger correctly serializes its arguments", "long_descr": "and classpath (it turns into a DateTimeTrigger).", "ret": null}, "fn_lc": [[50, 0], [61, 72]], "fn_var_ln": {"classpath": [[57, 4], [57, 13]], "expected_moment": [[56, 4], [56, 19]], "kwargs": [[57, 15], [57, 21]], "trigger": [[55, 4], [55, 11]]}, "fn_var_occur": {"classpath": [["classpath", "kwargs", "trigger", "serialize"]], "expected_moment": [["expected_moment", "timezone", "utcnow", "datetime", "timedelta", "seconds"], ["kwargs", "expected_moment", "total_seconds"]], "kwargs": [["classpath", "kwargs", "trigger", "serialize"], ["kwargs", "expected_moment", "total_seconds"]], "trigger": [["trigger", "TimeDeltaTrigger", "datetime", "timedelta", "seconds"], ["classpath", "kwargs", "trigger", "serialize"]]}, "name": "test_timedelta_trigger_serialization", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_timedelta_trigger_serialization", "ret_exprs": [], "ret_type": "", "variables": {"classpath": "", "expected_moment": "", "kwargs": "", "trigger": ""}, "variables_p": {"classpath": [["Set[str]", 0.4999999999750701], ["int", 0.49999999996228883], ["Dict[str, Union[int, str]]", 1.582796261262258e-11], ["List[str]", 1.3730011143514454e-11], ["str", 1.0971499556494418e-11], ["bool", 1.0865339793385232e-11]], "expected_moment": [["str", 0.4880857994082032], ["float", 0.1791352217170209], ["datetime.datetime.date", 0.1330891904193291]], "kwargs": [["Dict[int, Any]", 0.1820587735126626], ["bool", 0.11741034951764612], ["Dict[str, List[Any]]", 0.11400543632063391], ["List[Union[Any, Any]]", 0.10552095575683418], ["List[int]", 0.10539162384005658], ["Type[dict]", 0.0988851976182497], ["Dict[Any, List[int]]", 0.09725961519564962], ["dict", 0.08948174509776663]], "trigger": [["datetime.timedelta", 0.8955660645275997], ["int", 0.10443393547240029]]}}, {"docstring": {"func": "Tests that the DateTimeTrigger only goes off on or after the appropriate", "long_descr": "time.", "ret": null}, "fn_lc": [[73, 0], [98, 40]], "fn_var_ln": {"future_moment": [[79, 4], [79, 17]], "past_moment": [[78, 4], [78, 15]], "result": [[96, 4], [96, 10]], "trigger": [[91, 4], [91, 11]], "trigger_task": [[92, 4], [92, 16]]}, "fn_var_occur": {"future_moment": [["future_moment", "pendulum", "instance", "timezone", "utcnow", "datetime", "timedelta", "seconds", "astimezone", "tz"], ["trigger", "DateTimeTrigger", "future_moment"]], "past_moment": [["past_moment", "pendulum", "instance", "timezone", "utcnow", "datetime", "timedelta", "seconds", "astimezone", "tz"], ["trigger", "DateTimeTrigger", "past_moment"], ["result", "payload", "past_moment"]], "result": [["result", "trigger_task", "result"], ["isinstance", "result", "TriggerEvent"], ["result", "payload", "past_moment"]], "trigger": [["trigger", "DateTimeTrigger", "future_moment"], ["trigger_task", "asyncio", "create_task", "trigger", "run", "__anext__"], ["trigger", "DateTimeTrigger", "past_moment"], ["trigger_task", "asyncio", "create_task", "trigger", "run", "__anext__"]], "trigger_task": [["trigger_task", "asyncio", "create_task", "trigger", "run", "__anext__"], ["trigger_task", "done", "False"], ["trigger_task", "cancel"], ["trigger_task", "asyncio", "create_task", "trigger", "run", "__anext__"], ["trigger_task", "done", "True"], ["result", "trigger_task", "result"]]}, "name": "test_datetime_trigger_timing", "params": {"tz": ""}, "params_descr": {"tz": ""}, "params_occur": {"tz": [["past_moment", "pendulum", "instance", "timezone", "utcnow", "datetime", "timedelta", "seconds", "astimezone", "tz"], ["future_moment", "pendulum", "instance", "timezone", "utcnow", "datetime", "timedelta", "seconds", "astimezone", "tz"]]}, "params_p": {"args": [], "kwargs": [], "tz": [["datetime.datetime", 0.8880413827912089], ["datetime.date", 0.11195861720879101]]}, "q_name": "test_datetime_trigger_timing", "ret_exprs": [], "ret_type": "", "variables": {"future_moment": "", "past_moment": "", "result": "", "trigger": "", "trigger_task": ""}, "variables_p": {"future_moment": [["int", 0.2930320096240252], ["datetime.datetime.timedelta", 0.1983345426657005], ["datetime.datetime.time", 0.12137283660396318], ["datetime.datetime.date", 0.09553821288265704], ["List[Tuple[Any, bool]]", 0.0951925758647211]], "past_moment": [["int", 0.44458838512347604], ["datetime.datetime.timedelta", 0.10699275520271305], ["datetime.datetime.date", 0.09554321299967707], ["datetime.datetime.time", 0.09099376457125814], ["datetime.timedelta", 0.08095894436665194]], "result": [["Dict[str, int]", 0.12220465356941237], ["List[str]", 0.07789336470795824], ["dict", 0.06994632229012931], ["telegram.utils.AsyncResult", 0.06878229836505985]], "trigger": [["datetime.datetime", 0.20064785246462444], ["datetime.datetime.datetime", 0.1662100899885592], ["dict", 0.09679827729825508], ["List[Tuple[Any, Any]]", 0.08755749549986273]], "trigger_task": [["List[str]", 0.14431412373575145], ["List[Tuple[Any, Any, Any]]", 0.08899023503565752], ["list", 0.08432386467341342]]}}], "imports": ["__future__", "annotations", "asyncio", "datetime", "pendulum", "pytest", "airflow", "triggers", "base", "TriggerEvent", "airflow", "triggers", "temporal", "DateTimeTrigger", "TimeDeltaTrigger", "airflow", "utils", "timezone"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 18}, "session_id": "OXq-LjzJLAqn8EXeTbsh1vzDxNXcQCyaAsNxa_oSgsk", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}