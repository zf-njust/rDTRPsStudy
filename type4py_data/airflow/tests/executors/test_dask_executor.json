{"error": null, "response": {"classes": [{"cls_lc": [[58, 0], [85, 50]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[59, 4], [85, 50]], "fn_var_ln": {"fail_future": [[68, 8], [68, 19]], "success_future": [[67, 8], [67, 22]], "timeout": [[71, 8], [71, 15]]}, "fn_var_occur": {"fail_future": [["fail_future", "next", "k", "k", "v", "executor", "futures", "items", "v"], ["success_future", "done", "fail_future", "done"], ["fail_future", "done"], ["fail_future", "exception", "None"]], "success_future": [["success_future", "next", "k", "k", "v", "executor", "futures", "items", "v"], ["success_future", "done", "fail_future", "done"], ["success_future", "done"], ["success_future", "exception", "None"]], "timeout": [["timeout", "timezone", "utcnow", "timedelta", "seconds", "timeout_executor"], ["timezone", "utcnow", "timeout"]]}, "name": "assert_tasks_on_executor", "params": {"executor": "", "self": "", "timeout_executor": ""}, "params_descr": {"executor": "", "self": "", "timeout_executor": ""}, "params_occur": {"executor": [["executor", "start"], ["executor", "execute_async", "key", "command", "SUCCESS_COMMAND"], ["executor", "execute_async", "key", "command", "FAIL_COMMAND"], ["success_future", "next", "k", "k", "v", "executor", "futures", "items", "v"], ["fail_future", "next", "k", "k", "v", "executor", "futures", "items", "v"]], "self": [], "timeout_executor": [["timeout", "timezone", "utcnow", "timedelta", "seconds", "timeout_executor"]]}, "params_p": {"args": [], "executor": [["int", 0.09465297101904388], ["str", 0.09221920835229985], ["dict", 0.09221920835229985]], "kwargs": [], "self": [], "timeout_executor": [["int", 0.4], ["str", 0.4], ["float", 0.1]]}, "q_name": "TestBaseDask.assert_tasks_on_executor", "ret_exprs": [], "ret_type": "", "variables": {"fail_future": "", "success_future": "", "timeout": ""}, "variables_p": {"fail_future": [["defaultdict", 0.10835836818134427], ["dict", 0.09888042028715219], ["qutebrowser.utils.usertypes.Question", 0.08649465150045929]], "success_future": [["defaultdict", 0.10835836818134427], ["dict", 0.09888042028715219], ["qutebrowser.utils.usertypes.Question", 0.08649465150045929]], "timeout": [["int", 0.7142857142319227], ["float", 0.28571428571912943], ["Tuple[Literal, Literal]", 2.447386579673962e-11], ["List[int]", 2.447386579673962e-11]]}}], "name": "TestBaseDask", "q_name": "TestBaseDask", "variables": {}, "variables_p": {}}, {"cls_lc": [[89, 0], [124, 37]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[90, 4], [92, 37]], "fn_var_ln": {"cluster": [[92, 8], [92, 20]], "dagbag": [[91, 8], [91, 19]]}, "fn_var_occur": {"cluster": [["self", "cluster", "LocalCluster"]], "dagbag": [["self", "dagbag", "DagBag", "include_examples", "True"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "dagbag", "DagBag", "include_examples", "True"], ["self", "cluster", "LocalCluster"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDaskExecutor.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"cluster": "", "dagbag": ""}, "variables_p": {"cluster": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]], "dagbag": [["str", 0.7056575694548834], ["bool", 0.29434243054511655]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[94, 4], [95, 49]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_supports_pickling", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDaskExecutor.test_supports_pickling", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[97, 4], [98, 47]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_supports_sentry", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDaskExecutor.test_supports_sentry", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[100, 4], [102, 69]], "fn_var_ln": {"executor": [[101, 8], [101, 16]]}, "fn_var_occur": {"executor": [["executor", "DaskExecutor", "cluster_address", "self", "cluster", "scheduler_address"], ["self", "assert_tasks_on_executor", "executor", "timeout_executor"]]}, "name": "test_dask_executor_functions", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["executor", "DaskExecutor", "cluster_address", "self", "cluster", "scheduler_address"], ["self", "assert_tasks_on_executor", "executor", "timeout_executor"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDaskExecutor.test_dask_executor_functions", "ret_exprs": [], "ret_type": "", "variables": {"executor": ""}, "variables_p": {"executor": [["int", 0.1275610573790181]]}}, {"docstring": {"func": "Test that DaskExecutor can be used to backfill example dags", "long_descr": null, "ret": null}, "fn_lc": [[105, 4], [121, 62]], "fn_var_ln": {"dag": [[109, 8], [109, 11]], "job": [[111, 8], [111, 11]], "job_runner": [[114, 8], [114, 18]]}, "fn_var_occur": {"dag": [["dag", "self", "dagbag", "get_dag"], ["job_runner", "BackfillJobRunner", "job", "job", "dag", "dag", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_first_depends_on_past", "True"]], "job": [["job", "Job", "executor", "DaskExecutor", "cluster_address", "self", "cluster", "scheduler_address"], ["job_runner", "BackfillJobRunner", "job", "job", "dag", "dag", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_first_depends_on_past", "True"], ["run_job", "job", "job", "execute_callable", "job_runner", "_execute"]], "job_runner": [["job_runner", "BackfillJobRunner", "job", "job", "dag", "dag", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_first_depends_on_past", "True"], ["run_job", "job", "job", "execute_callable", "job_runner", "_execute"]]}, "name": "test_backfill_integration", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["dag", "self", "dagbag", "get_dag"], ["job", "Job", "executor", "DaskExecutor", "cluster_address", "self", "cluster", "scheduler_address"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDaskExecutor.test_backfill_integration", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "job": "", "job_runner": ""}, "variables_p": {"dag": [["dict", 0.1072434004714834], ["Sequence[str]", 0.10538737443216332], ["Tuple[Any, Any, Any, Any, Any, Any, Any, Any, Any, Any]", 0.10351035044012256], ["Dict[Any, str]", 0.09341087044150327]], "job": [["hydrand.test_utils.NoLeaderNode", 0.0959378652234181], ["myia.utils.orderedseOrderedSet", 0.09576006946375776]], "job_runner": [["Dict[Any, str]", 0.11445898598751932]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[123, 4], [124, 37]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "teardown_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cluster", "close", "timeout"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDaskExecutor.teardown_method", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "TestDaskExecutor", "q_name": "TestDaskExecutor", "variables": {}, "variables_p": {}}, {"cls_lc": [[130, 0], [169, 48]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[131, 4], [132, 51]], "fn_var_ln": {"dagbag": [[132, 8], [132, 19]]}, "fn_var_occur": {"dagbag": [["self", "dagbag", "DagBag", "include_examples", "True"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "dagbag", "DagBag", "include_examples", "True"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDaskExecutorTLS.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"dagbag": ""}, "variables_p": {"dagbag": [["str", 0.7056575694548834], ["bool", 0.29434243054511655]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[141, 4], [156, 35]], "fn_var_ln": {"executor": [[149, 12], [149, 20]]}, "fn_var_occur": {"executor": [["executor", "DaskExecutor", "cluster_address", "cluster"], ["self", "assert_tasks_on_executor", "executor", "timeout_executor"], ["executor", "end"], ["executor", "client", "close"]]}, "name": "test_tls", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "assert_tasks_on_executor", "executor", "timeout_executor"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDaskExecutorTLS.test_tls", "ret_exprs": [], "ret_type": "", "variables": {"executor": ""}, "variables_p": {"executor": [["flambe.cluster.utils.RemoteCommand", 0.38942896813308137], ["str", 0.10885285406468018]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[161, 4], [169, 48]], "fn_var_ln": {"calls": [[164, 8], [164, 13]], "executor": [[162, 8], [162, 16]]}, "fn_var_occur": {"calls": [["calls", "mock", "call", "mock", "ANY", "mock", "call", "mock", "ANY", "mock", "call", "mock", "ANY"], ["mock_stats_gauge", "assert_has_calls", "calls"]], "executor": [["executor", "DaskExecutor"], ["executor", "heartbeat"]]}, "name": "test_gauge_executor_metrics", "params": {"mock_stats_gauge": "", "mock_sync": "", "mock_trigger_tasks": "", "self": ""}, "params_descr": {"mock_stats_gauge": "", "mock_sync": "", "mock_trigger_tasks": "", "self": ""}, "params_occur": {"mock_stats_gauge": [["mock_stats_gauge", "assert_has_calls", "calls"]], "mock_sync": [], "mock_trigger_tasks": [], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_stats_gauge": [], "mock_sync": [["mock.Mock", 0.7338930932633712]], "mock_trigger_tasks": [["mock.Mock", 0.7338930932633712]], "self": []}, "q_name": "TestDaskExecutorTLS.test_gauge_executor_metrics", "ret_exprs": [], "ret_type": "", "variables": {"calls": "", "executor": ""}, "variables_p": {"calls": [["list", 0.22072987099559194]], "executor": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1], ["datetime.timedelta", 0.1]]}}], "name": "TestDaskExecutorTLS", "q_name": "TestDaskExecutorTLS", "variables": {}, "variables_p": {}}, {"cls_lc": [[173, 0], [233, 37]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[174, 4], [180, 90]], "fn_var_ln": {"cluster": [[175, 8], [175, 20]], "executor": [[176, 8], [176, 16]]}, "fn_var_occur": {"cluster": [["self", "cluster", "LocalCluster"], ["executor", "DaskExecutor", "cluster_address", "self", "cluster", "scheduler_address"]], "executor": [["executor", "DaskExecutor", "cluster_address", "self", "cluster", "scheduler_address"], ["executor", "start"], ["executor", "execute_async", "key", "command", "SUCCESS_COMMAND", "queue"]]}, "name": "test_dask_queues_no_resources", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cluster", "LocalCluster"], ["executor", "DaskExecutor", "cluster_address", "self", "cluster", "scheduler_address"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDaskExecutorQueue.test_dask_queues_no_resources", "ret_exprs": [], "ret_type": "", "variables": {"cluster": "", "executor": ""}, "variables_p": {"cluster": [["float", 0.5188661712848722], ["Dict[str, str]", 0.07704287598347004]], "executor": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[182, 4], [189, 90]], "fn_var_ln": {"cluster": [[183, 8], [183, 20]], "executor": [[184, 8], [184, 16]]}, "fn_var_occur": {"cluster": [["self", "cluster", "LocalCluster", "resources"], ["executor", "DaskExecutor", "cluster_address", "self", "cluster", "scheduler_address"]], "executor": [["executor", "DaskExecutor", "cluster_address", "self", "cluster", "scheduler_address"], ["executor", "start"], ["executor", "execute_async", "key", "command", "SUCCESS_COMMAND", "queue"]]}, "name": "test_dask_queues_not_available", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cluster", "LocalCluster", "resources"], ["executor", "DaskExecutor", "cluster_address", "self", "cluster", "scheduler_address"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDaskExecutorQueue.test_dask_queues_not_available", "ret_exprs": [], "ret_type": "", "variables": {"cluster": "", "executor": ""}, "variables_p": {"cluster": [["float", 0.383235639147397], ["str", 0.14812544100063327], ["set", 0.0680399897341336]], "executor": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[191, 4], [209, 49]], "fn_var_ln": {"cluster": [[192, 8], [192, 20]], "executor": [[193, 8], [193, 16]], "success_future": [[197, 8], [197, 22]], "timeout": [[200, 8], [200, 15]]}, "fn_var_occur": {"cluster": [["self", "cluster", "LocalCluster", "resources"], ["executor", "DaskExecutor", "cluster_address", "self", "cluster", "scheduler_address"]], "executor": [["executor", "DaskExecutor", "cluster_address", "self", "cluster", "scheduler_address"], ["executor", "start"], ["executor", "execute_async", "key", "command", "SUCCESS_COMMAND", "queue"], ["success_future", "next", "k", "k", "v", "executor", "futures", "items", "v"]], "success_future": [["success_future", "next", "k", "k", "v", "executor", "futures", "items", "v"], ["success_future", "done"], ["success_future", "done"], ["success_future", "exception", "None"]], "timeout": [["timeout", "timezone", "utcnow", "timedelta", "seconds"], ["timezone", "utcnow", "timeout"]]}, "name": "test_dask_queues", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cluster", "LocalCluster", "resources"], ["executor", "DaskExecutor", "cluster_address", "self", "cluster", "scheduler_address"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDaskExecutorQueue.test_dask_queues", "ret_exprs": [], "ret_type": "", "variables": {"cluster": "", "executor": "", "success_future": "", "timeout": ""}, "variables_p": {"cluster": [["float", 0.383235639147397], ["str", 0.14812544100063327], ["set", 0.0680399897341336]], "executor": [], "success_future": [["defaultdict", 0.121251247030306], ["dict", 0.10850211991181628], ["qutebrowser.utils.usertypes.Question", 0.08908471174672003]], "timeout": [["int", 0.7142857142319227], ["float", 0.28571428571912943], ["Tuple[Literal, Literal]", 2.447386579673962e-11], ["List[int]", 2.447386579673962e-11]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[211, 4], [230, 49]], "fn_var_ln": {"cluster": [[212, 8], [212, 20]], "executor": [[213, 8], [213, 16]], "success_future": [[218, 8], [218, 22]], "timeout": [[221, 8], [221, 15]]}, "fn_var_occur": {"cluster": [["self", "cluster", "LocalCluster", "resources"], ["executor", "DaskExecutor", "cluster_address", "self", "cluster", "scheduler_address"]], "executor": [["executor", "DaskExecutor", "cluster_address", "self", "cluster", "scheduler_address"], ["executor", "start"], ["executor", "execute_async", "key", "command", "SUCCESS_COMMAND"], ["success_future", "next", "k", "k", "v", "executor", "futures", "items", "v"]], "success_future": [["success_future", "next", "k", "k", "v", "executor", "futures", "items", "v"], ["success_future", "done"], ["success_future", "done"], ["success_future", "exception", "None"]], "timeout": [["timeout", "timezone", "utcnow", "timedelta", "seconds"], ["timezone", "utcnow", "timeout"]]}, "name": "test_dask_queues_no_queue_specified", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cluster", "LocalCluster", "resources"], ["executor", "DaskExecutor", "cluster_address", "self", "cluster", "scheduler_address"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDaskExecutorQueue.test_dask_queues_no_queue_specified", "ret_exprs": [], "ret_type": "", "variables": {"cluster": "", "executor": "", "success_future": "", "timeout": ""}, "variables_p": {"cluster": [["float", 0.383235639147397], ["str", 0.14812544100063327], ["set", 0.0680399897341336]], "executor": [], "success_future": [["defaultdict", 0.121251247030306], ["dict", 0.10850211991181628], ["qutebrowser.utils.usertypes.Question", 0.08908471174672003]], "timeout": [["int", 0.7142857142319227], ["float", 0.28571428571912943], ["Tuple[Literal, Literal]", 2.447386579673962e-11], ["List[int]", 2.447386579673962e-11]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[232, 4], [233, 37]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "teardown_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cluster", "close", "timeout"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDaskExecutorQueue.teardown_method", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "TestDaskExecutorQueue", "q_name": "TestDaskExecutorQueue", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "datetime", "timedelta", "unittest", "mock", "pytest", "distributed", "LocalCluster", "airflow", "exceptions", "AirflowException", "airflow", "executors", "dask_executor", "DaskExecutor", "airflow", "jobs", "backfill_job_runner", "BackfillJobRunner", "airflow", "jobs", "job", "Job", "run_job", "airflow", "models", "DagBag", "airflow", "utils", "timezone", "tests", "test_utils", "config", "conf_vars", "distributed", "tests", "distributed", "utils_test", "cluster", "dask_testing_cluster", "get_cert", "tls_security"], "mod_var_ln": {"DEFAULT_DATE": [[48, 0], [48, 12]], "FAIL_COMMAND": [[50, 0], [50, 12]], "SUCCESS_COMMAND": [[49, 0], [49, 15]], "get_cert": [[46, 4], [46, 12]], "skip_dask_tests": [[54, 0], [54, 15]], "skip_tls_tests": [[42, 4], [42, 18]]}, "mod_var_occur": {"DEFAULT_DATE": [["job_runner", "BackfillJobRunner", "job", "job", "dag", "dag", "start_date", "DEFAULT_DATE", "end_date", "DEFAULT_DATE", "ignore_first_depends_on_past", "True"]], "FAIL_COMMAND": [["executor", "execute_async", "key", "command", "FAIL_COMMAND"]], "SUCCESS_COMMAND": [["executor", "execute_async", "key", "command", "SUCCESS_COMMAND"], ["executor", "execute_async", "key", "command", "SUCCESS_COMMAND", "queue"], ["executor", "execute_async", "key", "command", "SUCCESS_COMMAND", "queue"], ["executor", "execute_async", "key", "command", "SUCCESS_COMMAND", "queue"], ["executor", "execute_async", "key", "command", "SUCCESS_COMMAND"]], "get_cert": [], "skip_dask_tests": [], "skip_tls_tests": []}, "no_types_annot": {"D": 0, "I": 0, "U": 51}, "session_id": "LuWsGJCnuQiGV7tW5CtfS6lqju8SSCKzZboiTPqFTRo", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"DEFAULT_DATE": "", "FAIL_COMMAND": "", "SUCCESS_COMMAND": "", "get_cert": "", "skip_dask_tests": "", "skip_tls_tests": ""}, "variables_p": {"DEFAULT_DATE": [["datetime.datetime", 0.2339411804333203]], "FAIL_COMMAND": [["str", 0.667663306751772], ["Dict[str, str]", 0.13574398520544104], ["int", 0.10878489881079555], ["list", 0.08780780923199129]], "SUCCESS_COMMAND": [["str", 0.2366630409960105], ["OrderedDict[str, Any]", 0.10124129411799651], ["dict", 0.09325735243534677], ["Dict[str, List[str]]", 0.08762625111701539]], "get_cert": [["str", 0.6], ["bool", 0.1], ["Type[bot_app.models.ConnectedApi]", 0.1]], "skip_dask_tests": [["bool", 0.7999999999999999], ["int", 0.1], ["List[Tuple[str, str]]", 0.1]], "skip_tls_tests": [["bool", 0.7999999999999999], ["int", 0.1], ["List[Tuple[str, str]]", 0.1]]}}}