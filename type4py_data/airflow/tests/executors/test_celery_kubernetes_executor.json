{"error": null, "response": {"classes": [{"cls_lc": [[33, 0], [264, 73]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[34, 4], [35, 57]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_supports_pickling", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_supports_pickling", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[37, 4], [38, 59]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_supports_sentry", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_supports_sentry", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[40, 4], [41, 52]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_is_local_default_value", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_is_local_default_value", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[43, 4], [44, 53]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_is_production_default_value", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_is_production_default_value", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[46, 4], [47, 54]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_serve_logs_default_value", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_serve_logs_default_value", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[49, 4], [50, 62]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_is_single_threaded_default_value", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_is_single_threaded_default_value", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[52, 4], [64, 56]], "fn_var_ln": {"celery_executor_mock": [[53, 8], [53, 28]], "celery_queued_tasks": [[57, 8], [57, 27]], "cke": [[55, 8], [55, 11]], "expected_queued_tasks": [[63, 8], [63, 29]], "k8s_executor_mock": [[54, 8], [54, 25]], "k8s_queued_tasks": [[58, 8], [58, 24]], "queued_tasks": [[61, 8], [61, 38]]}, "fn_var_occur": {"celery_executor_mock": [["celery_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["celery_executor_mock", "queued_tasks", "celery_queued_tasks"]], "celery_queued_tasks": [["celery_executor_mock", "queued_tasks", "celery_queued_tasks"], ["expected_queued_tasks", "celery_queued_tasks", "k8s_queued_tasks"]], "cke": [["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["cke", "queued_tasks", "expected_queued_tasks"]], "expected_queued_tasks": [["expected_queued_tasks", "celery_queued_tasks", "k8s_queued_tasks"], ["cke", "queued_tasks", "expected_queued_tasks"]], "k8s_executor_mock": [["k8s_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["k8s_executor_mock", "queued_tasks", "k8s_queued_tasks"]], "k8s_queued_tasks": [["k8s_executor_mock", "queued_tasks", "k8s_queued_tasks"], ["expected_queued_tasks", "celery_queued_tasks", "k8s_queued_tasks"]], "queued_tasks": [["celery_executor_mock", "queued_tasks", "celery_queued_tasks"], ["k8s_executor_mock", "queued_tasks", "k8s_queued_tasks"], ["cke", "queued_tasks", "expected_queued_tasks"]]}, "name": "test_queued_tasks", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_queued_tasks", "ret_exprs": [], "ret_type": "", "variables": {"celery_executor_mock": "", "celery_queued_tasks": "", "cke": "", "expected_queued_tasks": "", "k8s_executor_mock": "", "k8s_queued_tasks": "", "queued_tasks": ""}, "variables_p": {"celery_executor_mock": [["mock.Mock", 0.08114231594653468]], "celery_queued_tasks": [["int", 0.10406649434314134], ["Optional[bytes]", 0.09902361000532935], ["mock._patch[Union[mock.AsyncMock, mock.MagicMock]]", 0.08395150749483918]], "cke": [], "expected_queued_tasks": [["list", 0.11436563657963868], ["List[str]", 0.1021338799248905], ["List[complex]", 0.10157305023904069], ["Union[bool, int]", 0.09648157171543775], ["str", 0.09648157171543775], ["int", 0.09513983019408352], ["Tuple[Any, Any, Any, Any, Any]", 0.09321483758223115], ["Dict[str, Any]", 0.09305030644098414]], "k8s_executor_mock": [["Tuple[Literal, Literal]", 0.11367050608517386]], "k8s_queued_tasks": [["mock._Call", 0.20259116485463555], ["list", 0.10149569378496527], ["int", 0.08854284285037037], ["Dict[str, int]", 0.08647682456480162]], "queued_tasks": [["Dict[str, int]", 0.09352584146153062], ["Optional[bytes]", 0.09247553504885639], ["int", 0.09234283487753185], ["Dict[str, Any]", 0.09152362289408394]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[66, 4], [77, 75]], "fn_var_ln": {"celery_executor_mock": [[67, 8], [67, 28]], "celery_running_tasks": [[71, 8], [71, 28]], "cke": [[69, 8], [69, 11]], "k8s_executor_mock": [[68, 8], [68, 25]], "k8s_running_tasks": [[72, 8], [72, 25]], "running": [[75, 8], [75, 33]]}, "fn_var_occur": {"celery_executor_mock": [["celery_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["celery_executor_mock", "running", "celery_running_tasks"]], "celery_running_tasks": [["celery_executor_mock", "running", "celery_running_tasks"], ["cke", "running", "celery_running_tasks", "union", "k8s_running_tasks"]], "cke": [["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["cke", "running", "celery_running_tasks", "union", "k8s_running_tasks"]], "k8s_executor_mock": [["k8s_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["k8s_executor_mock", "running", "k8s_running_tasks"]], "k8s_running_tasks": [["k8s_executor_mock", "running", "k8s_running_tasks"], ["cke", "running", "celery_running_tasks", "union", "k8s_running_tasks"]], "running": [["celery_executor_mock", "running", "celery_running_tasks"], ["k8s_executor_mock", "running", "k8s_running_tasks"], ["cke", "running", "celery_running_tasks", "union", "k8s_running_tasks"]]}, "name": "test_running", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_running", "ret_exprs": [], "ret_type": "", "variables": {"celery_executor_mock": "", "celery_running_tasks": "", "cke": "", "k8s_executor_mock": "", "k8s_running_tasks": "", "running": ""}, "variables_p": {"celery_executor_mock": [["mock.Mock", 0.094881904046563], ["mock.MagicMock", 0.08542710510542889]], "celery_running_tasks": [["bytes", 0.13249749680997203], ["str", 0.12220493230332567], ["bool", 0.08601418604398323]], "cke": [], "k8s_executor_mock": [], "k8s_running_tasks": [["str", 0.3919107883426533], ["bytes", 0.09646282116860129]], "running": [["str", 0.27419864377005265], ["dict", 0.1415546852470364], ["int", 0.1019980371629604], ["Set[int]", 0.09856417283204166]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[79, 4], [87, 47]], "fn_var_ln": {"celery_executor_mock": [[80, 8], [80, 28]], "cke": [[82, 8], [82, 11]], "k8s_executor_mock": [[81, 8], [81, 25]]}, "fn_var_occur": {"celery_executor_mock": [["celery_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["celery_executor_mock", "start", "assert_called"]], "cke": [["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["cke", "start"]], "k8s_executor_mock": [["k8s_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["k8s_executor_mock", "start", "assert_called"]]}, "name": "test_start", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_start", "ret_exprs": [], "ret_type": "", "variables": {"celery_executor_mock": "", "cke": "", "k8s_executor_mock": ""}, "variables_p": {"celery_executor_mock": [["mock.Mock", 0.21517863499115922]], "cke": [["list", 0.0898064231558629]], "k8s_executor_mock": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[92, 4], [111, 45]], "fn_var_ln": {"cke": [[99, 8], [99, 11]], "kwarg_values": [[98, 8], [98, 20]], "kwargs": [[93, 8], [93, 14]], "queue": [[102, 8], [102, 34]], "simple_task_instance": [[101, 8], [101, 28]]}, "fn_var_occur": {"cke": [["cke", "CeleryKubernetesExecutor", "CeleryExecutor", "KubernetesExecutor"], ["cke", "queue_command", "simple_task_instance", "kwargs"]], "kwarg_values": [["kwarg_values", "kwargs", "values"], ["k8s_queue_cmd", "assert_called_once_with", "simple_task_instance", "kwarg_values"], ["celery_queue_cmd", "assert_called_once_with", "simple_task_instance", "kwarg_values"]], "kwargs": [["kwargs", "dict", "command", "priority", "queue"], ["kwarg_values", "kwargs", "values"], ["cke", "queue_command", "simple_task_instance", "kwargs"]], "queue": [["kwargs", "dict", "command", "priority", "queue"], ["simple_task_instance", "queue", "test_queue"]], "simple_task_instance": [["simple_task_instance", "mock", "MagicMock"], ["simple_task_instance", "queue", "test_queue"], ["cke", "queue_command", "simple_task_instance", "kwargs"], ["k8s_queue_cmd", "assert_called_once_with", "simple_task_instance", "kwarg_values"], ["celery_queue_cmd", "assert_called_once_with", "simple_task_instance", "kwarg_values"]]}, "name": "test_queue_command", "params": {"celery_queue_cmd": "", "k8s_queue_cmd": "", "self": "", "test_queue": ""}, "params_descr": {"celery_queue_cmd": "", "k8s_queue_cmd": "", "self": "", "test_queue": ""}, "params_occur": {"celery_queue_cmd": [["celery_queue_cmd", "assert_not_called"], ["celery_queue_cmd", "assert_called_once_with", "simple_task_instance", "kwarg_values"]], "k8s_queue_cmd": [["k8s_queue_cmd", "assert_called_once_with", "simple_task_instance", "kwarg_values"], ["k8s_queue_cmd", "assert_not_called"]], "self": [], "test_queue": [["simple_task_instance", "queue", "test_queue"], ["test_queue", "KUBERNETES_QUEUE"]]}, "params_p": {"args": [], "celery_queue_cmd": [["bool", 0.08053340583699396], ["list", 0.07703876075595176]], "k8s_queue_cmd": [["dict", 0.2146162717943176], ["int", 0.10008310873989178], ["List[int]", 0.09341490656975132], ["list", 0.09284666088781789], ["bool", 0.08781907076586562]], "kwargs": [], "self": [], "test_queue": [["str", 0.12248742901558873]]}, "q_name": "TestCeleryKubernetesExecutor.test_queue_command", "ret_exprs": [], "ret_type": "", "variables": {"cke": "", "kwarg_values": "", "kwargs": "", "queue": "", "simple_task_instance": ""}, "variables_p": {"cke": [], "kwarg_values": [["list", 0.6499688246687965], ["float", 0.0847662141792456], ["Dict[int, float]", 0.08105189734364568], ["List[str]", 0.07844638286391444]], "kwargs": [["Dict[str, Any]", 0.2820999458431515], ["OrderedDict[str, Any]", 0.1957532759582585], ["List[str]", 0.11617693698588753], ["list", 0.10326849088712235], ["dict", 0.09157466410599648]], "queue": [["Tuple[str]", 0.46416041947239284], ["Dict[str, str]", 0.2775502874953845], ["Optional[str]", 0.08801991535616137], ["List[str]", 0.08801991535616137]], "simple_task_instance": [["mock.MagicMock", 0.10678621798143378]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[114, 4], [140, 69]], "fn_var_ln": {"celery_executor_mock": [[115, 8], [115, 28]], "cke": [[117, 8], [117, 11]], "k8s_executor_mock": [[116, 8], [116, 25]], "kwargs": [[122, 8], [122, 14]], "queue": [[120, 8], [120, 16]], "ti": [[119, 8], [119, 10]]}, "fn_var_occur": {"celery_executor_mock": [["celery_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["celery_executor_mock", "queue_task_instance", "assert_not_called"], ["celery_executor_mock", "queue_task_instance", "assert_called_once_with", "kwargs"]], "cke": [["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["cke", "queue_task_instance", "kwargs"]], "k8s_executor_mock": [["k8s_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["k8s_executor_mock", "queue_task_instance", "assert_called_once_with", "kwargs"], ["k8s_executor_mock", "queue_task_instance", "assert_not_called"]], "kwargs": [["kwargs", "dict", "task_instance", "ti", "mark_success", "False", "pickle_id", "None", "ignore_all_deps", "False", "ignore_depends_on_past", "False", "wait_for_past_depends_before_skipping", "False", "ignore_task_deps", "False", "ignore_ti_state", "False", "pool", "None", "cfg_path", "None"], ["cke", "queue_task_instance", "kwargs"], ["k8s_executor_mock", "queue_task_instance", "assert_called_once_with", "kwargs"], ["celery_executor_mock", "queue_task_instance", "assert_called_once_with", "kwargs"]], "queue": [["ti", "queue", "test_queue"]], "ti": [["ti", "mock", "MagicMock"], ["ti", "queue", "test_queue"], ["kwargs", "dict", "task_instance", "ti", "mark_success", "False", "pickle_id", "None", "ignore_all_deps", "False", "ignore_depends_on_past", "False", "wait_for_past_depends_before_skipping", "False", "ignore_task_deps", "False", "ignore_ti_state", "False", "pool", "None", "cfg_path", "None"]]}, "name": "test_queue_task_instance", "params": {"self": "", "test_queue": ""}, "params_descr": {"self": "", "test_queue": ""}, "params_occur": {"self": [], "test_queue": [["ti", "queue", "test_queue"], ["test_queue", "KUBERNETES_QUEUE"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "test_queue": [["str", 0.1418469870234653]]}, "q_name": "TestCeleryKubernetesExecutor.test_queue_task_instance", "ret_exprs": [], "ret_type": "", "variables": {"celery_executor_mock": "", "cke": "", "k8s_executor_mock": "", "kwargs": "", "queue": "", "ti": ""}, "variables_p": {"celery_executor_mock": [["mock.Mock", 0.14087707126672241]], "cke": [], "k8s_executor_mock": [], "kwargs": [["Type[Dict[str, Any]]", 0.10229334220189222], ["Dict[str, Any]", 0.10053892869825343], ["List[str]", 0.09947042340374218], ["Set[str]", 0.08525933769458463]], "queue": [["int", 0.9999999998136573], ["Tuple[List[str]]", 2.4658241689913823e-11], ["List[int]", 2.1243409504451462e-11], ["list", 2.1243409504451462e-11]], "ti": [["mock.Mock", 0.4645702046283446]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[151, 4], [162, 66]], "fn_var_ln": {"celery_executor_mock": [[152, 8], [152, 28]], "cke": [[154, 8], [154, 11]], "k8s_executor_mock": [[153, 8], [153, 25]], "ti": [[158, 8], [158, 10]]}, "fn_var_occur": {"celery_executor_mock": [["celery_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["celery_executor_mock", "has_task", "return_value", "celery_has"], ["celery_executor_mock", "has_task", "assert_called_once_with", "ti"]], "cke": [["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["cke", "has_task", "ti", "cke_has"]], "k8s_executor_mock": [["k8s_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["k8s_executor_mock", "has_task", "return_value", "k8s_has"], ["k8s_executor_mock", "has_task", "assert_called_once_with", "ti"]], "ti": [["ti", "mock", "MagicMock"], ["cke", "has_task", "ti", "cke_has"], ["celery_executor_mock", "has_task", "assert_called_once_with", "ti"], ["k8s_executor_mock", "has_task", "assert_called_once_with", "ti"]]}, "name": "test_has_tasks", "params": {"celery_has": "", "cke_has": "", "k8s_has": "", "self": ""}, "params_descr": {"celery_has": "", "cke_has": "", "k8s_has": "", "self": ""}, "params_occur": {"celery_has": [["celery_executor_mock", "has_task", "return_value", "celery_has"]], "cke_has": [["cke", "has_task", "ti", "cke_has"]], "k8s_has": [["k8s_executor_mock", "has_task", "return_value", "k8s_has"]], "self": []}, "params_p": {"args": [], "celery_has": [], "cke_has": [["int", 0.2781577296230333], ["Dict[str, Any]", 0.08281317416108169]], "k8s_has": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_has_tasks", "ret_exprs": [], "ret_type": "", "variables": {"celery_executor_mock": "", "cke": "", "k8s_executor_mock": "", "ti": ""}, "variables_p": {"celery_executor_mock": [], "cke": [], "k8s_executor_mock": [], "ti": [["mock.Mock", 0.10132397914091075]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[169, 8], [172, 21]], "fn_var_ln": {"queue": [[171, 12], [171, 20]], "ti": [[170, 12], [170, 14]]}, "fn_var_occur": {"queue": [["ti", "queue", "queue"]], "ti": [["ti", "mock", "MagicMock"], ["ti", "queue", "queue"]]}, "name": "mock_ti", "params": {"queue": ""}, "params_descr": {"queue": ""}, "params_occur": {"queue": [["ti", "queue", "queue"]]}, "params_p": {"args": [], "kwargs": [], "queue": [["float", 0.9999990174352198], ["Callable[[bytes], None]", 9.817041414000904e-07], ["bool", 4.921578316949067e-10], ["str", 1.42060527209136e-10]], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_adopt_tasks.<locals>.mock_ti", "ret_exprs": ["return ti"], "ret_type": "", "ret_type_p": [["float", 0.9999990174352198], ["Callable[[bytes], None]", 9.817041414000904e-07], ["bool", 4.921578316949067e-10], ["str", 1.42060527209136e-10]], "variables": {"queue": "", "ti": ""}, "variables_p": {"queue": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]], "ti": [["mock.Mock", 0.8797191769962394]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[165, 4], [180, 83]], "fn_var_ln": {"celery_executor_mock": [[166, 8], [166, 28]], "celery_tis": [[174, 8], [174, 18]], "cke": [[177, 8], [177, 11]], "k8s_executor_mock": [[167, 8], [167, 25]], "k8s_tis": [[175, 8], [175, 15]]}, "fn_var_occur": {"celery_executor_mock": [["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["celery_executor_mock", "try_adopt_task_instances", "assert_called_once_with", "celery_tis"]], "celery_tis": [["celery_tis", "mock_ti", "_", "range", "num_celery"], ["cke", "try_adopt_task_instances", "celery_tis", "k8s_tis"], ["celery_executor_mock", "try_adopt_task_instances", "assert_called_once_with", "celery_tis"]], "cke": [["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["cke", "try_adopt_task_instances", "celery_tis", "k8s_tis"]], "k8s_executor_mock": [["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["k8s_executor_mock", "try_adopt_task_instances", "assert_called_once_with", "k8s_tis"]], "k8s_tis": [["k8s_tis", "mock_ti", "KUBERNETES_QUEUE", "_", "range", "num_k8s"], ["cke", "try_adopt_task_instances", "celery_tis", "k8s_tis"], ["k8s_executor_mock", "try_adopt_task_instances", "assert_called_once_with", "k8s_tis"]]}, "name": "test_adopt_tasks", "params": {"num_celery": "", "num_k8s": "", "self": ""}, "params_descr": {"num_celery": "", "num_k8s": "", "self": ""}, "params_occur": {"num_celery": [["celery_tis", "mock_ti", "_", "range", "num_celery"]], "num_k8s": [["k8s_tis", "mock_ti", "KUBERNETES_QUEUE", "_", "range", "num_k8s"]], "self": []}, "params_p": {"args": [], "kwargs": [], "num_celery": [["int", 0.7741755316691707], ["float", 0.08921637963914898]], "num_k8s": [["int", 0.5997408671094012], ["Optional[int]", 0.08817624145911464]], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_adopt_tasks", "ret_exprs": [], "ret_type": "", "variables": {"celery_executor_mock": "", "celery_tis": "", "cke": "", "k8s_executor_mock": "", "k8s_tis": ""}, "variables_p": {"celery_executor_mock": [["float", 0.09120470606215383]], "celery_tis": [["int", 0.5665876946234158], ["dict", 0.13319849553449267], ["Dict[str, int]", 0.1124410940326193], ["List[int]", 0.09837769274376208]], "cke": [], "k8s_executor_mock": [["str", 0.17608588881007414], ["Dict[str, Union[bool, str]]", 0.09434688605553655]], "k8s_tis": [["int", 0.9024743228208155]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[182, 4], [196, 30]], "fn_var_ln": {"celery_executor_mock": [[183, 8], [183, 28]], "cke": [[185, 8], [185, 11]], "k8s_executor_mock": [[184, 8], [184, 25]], "log": [[194, 8], [194, 11]], "queue": [[193, 8], [193, 34]], "simple_task_instance": [[186, 8], [186, 28]]}, "fn_var_occur": {"celery_executor_mock": [["celery_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"]], "cke": [["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["cke", "get_task_log", "ti", "simple_task_instance", "try_number"], ["log", "cke", "get_task_log", "ti", "simple_task_instance", "try_number"]], "k8s_executor_mock": [["k8s_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["k8s_executor_mock", "get_task_log", "assert_called_once_with", "ti", "simple_task_instance", "try_number"], ["k8s_executor_mock", "reset_mock"], ["k8s_executor_mock", "get_task_log", "assert_not_called"]], "log": [["log", "cke", "get_task_log", "ti", "simple_task_instance", "try_number"]], "queue": [["simple_task_instance", "queue", "KUBERNETES_QUEUE"], ["simple_task_instance", "queue"]], "simple_task_instance": [["simple_task_instance", "mock", "MagicMock"], ["simple_task_instance", "queue", "KUBERNETES_QUEUE"], ["cke", "get_task_log", "ti", "simple_task_instance", "try_number"], ["k8s_executor_mock", "get_task_log", "assert_called_once_with", "ti", "simple_task_instance", "try_number"], ["simple_task_instance", "queue"], ["log", "cke", "get_task_log", "ti", "simple_task_instance", "try_number"]]}, "name": "test_log_is_fetched_from_k8s_executor_only_for_k8s_queue", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_log_is_fetched_from_k8s_executor_only_for_k8s_queue", "ret_exprs": [], "ret_type": "", "variables": {"celery_executor_mock": "", "cke": "", "k8s_executor_mock": "", "log": "", "queue": "", "simple_task_instance": ""}, "variables_p": {"celery_executor_mock": [["mock.Mock", 0.17120109058263136], ["mock.MagicMock", 0.06488360110681882]], "cke": [["str", 0.087253424566887]], "k8s_executor_mock": [], "log": [], "queue": [["str", 0.09299470441605914], ["List[str]", 0.08691512750934323], ["list", 0.08630222359348927], ["List[Tuple[int, str]]", 0.0825252042024348]], "simple_task_instance": [["mock.MagicMock", 0.17903797630455426]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[198, 4], [216, 75]], "fn_var_ln": {"celery_executor_mock": [[199, 8], [199, 28]], "cke": [[201, 8], [201, 11]], "dag_ids": [[203, 8], [203, 15]], "events": [[211, 8], [211, 14]], "events_in_celery": [[205, 8], [205, 24]], "events_in_k8s": [[206, 8], [206, 21]], "k8s_executor_mock": [[200, 8], [200, 25]]}, "fn_var_occur": {"celery_executor_mock": [["celery_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["celery_executor_mock", "get_event_buffer", "return_value", "events_in_celery"], ["celery_executor_mock", "get_event_buffer", "assert_called_once_with", "dag_ids"]], "cke": [["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["events", "cke", "get_event_buffer", "dag_ids"]], "dag_ids": [["events", "cke", "get_event_buffer", "dag_ids"], ["celery_executor_mock", "get_event_buffer", "assert_called_once_with", "dag_ids"], ["k8s_executor_mock", "get_event_buffer", "assert_called_once_with", "dag_ids"]], "events": [["events", "cke", "get_event_buffer", "dag_ids"], ["events", "events_in_celery", "events_in_k8s"]], "events_in_celery": [["celery_executor_mock", "get_event_buffer", "return_value", "events_in_celery"], ["events", "events_in_celery", "events_in_k8s"]], "events_in_k8s": [["events_in_k8s", "None"], ["k8s_executor_mock", "get_event_buffer", "return_value", "events_in_k8s"], ["events", "events_in_celery", "events_in_k8s"]], "k8s_executor_mock": [["k8s_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["k8s_executor_mock", "get_event_buffer", "return_value", "events_in_k8s"], ["k8s_executor_mock", "get_event_buffer", "assert_called_once_with", "dag_ids"]]}, "name": "test_get_event_buffer", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_get_event_buffer", "ret_exprs": [], "ret_type": "", "variables": {"celery_executor_mock": "", "cke": "", "dag_ids": "", "events": "", "events_in_celery": "", "events_in_k8s": "", "k8s_executor_mock": ""}, "variables_p": {"celery_executor_mock": [["mock.Mock", 0.15127434813381097]], "cke": [["Tuple[List[str], Tuple[Literal, Literal], List[str]]", 0.21673994387722187]], "dag_ids": [["int", 0.39453719274735793], ["set", 0.2039684523985892], ["bool", 0.09995693606465193]], "events": [["List[Tuple[int, Any]]", 0.06534665394642948]], "events_in_celery": [["mock._Call", 0.18181941270744753], ["list", 0.148802253162799], ["str", 0.12142233670927403], ["bytes", 0.10317275379747931], ["int", 0.09470357328491032], ["Optional[bytes]", 0.09161281481839646], ["mock._patch[Union[mock.AsyncMock, mock.MagicMock]]", 0.08831475167407304]], "events_in_k8s": [["int", 0.4074587644525399], ["str", 0.30341614653756116]], "k8s_executor_mock": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[218, 4], [226, 50]], "fn_var_ln": {"celery_executor_mock": [[219, 8], [219, 28]], "cke": [[221, 8], [221, 11]], "k8s_executor_mock": [[220, 8], [220, 25]]}, "fn_var_occur": {"celery_executor_mock": [["celery_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["celery_executor_mock", "end", "assert_called_once"]], "cke": [["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["cke", "end"]], "k8s_executor_mock": [["k8s_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["k8s_executor_mock", "end", "assert_called_once"]]}, "name": "test_end", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_end", "ret_exprs": [], "ret_type": "", "variables": {"celery_executor_mock": "", "cke": "", "k8s_executor_mock": ""}, "variables_p": {"celery_executor_mock": [["mock.Mock", 0.22220641540941777]], "cke": [["list", 0.0898064231558629]], "k8s_executor_mock": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[228, 4], [236, 56]], "fn_var_ln": {"celery_executor_mock": [[229, 8], [229, 28]], "cke": [[231, 8], [231, 11]], "k8s_executor_mock": [[230, 8], [230, 25]]}, "fn_var_occur": {"celery_executor_mock": [["celery_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["celery_executor_mock", "terminate", "assert_called_once"]], "cke": [["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["cke", "terminate"]], "k8s_executor_mock": [["k8s_executor_mock", "mock", "MagicMock"], ["cke", "CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["k8s_executor_mock", "terminate", "assert_called_once"]]}, "name": "test_terminate", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_terminate", "ret_exprs": [], "ret_type": "", "variables": {"celery_executor_mock": "", "cke": "", "k8s_executor_mock": ""}, "variables_p": {"celery_executor_mock": [["mock.Mock", 0.40393735094159344]], "cke": [["list", 0.0898064231558629]], "k8s_executor_mock": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[238, 4], [244, 82]], "fn_var_ln": {"cel_exec": [[239, 8], [239, 16]], "cel_k8s_exec": [[241, 8], [241, 20]], "job_id": [[243, 8], [243, 27]], "k8s_exec": [[240, 8], [240, 16]]}, "fn_var_occur": {"cel_exec": [["cel_exec", "CeleryExecutor"], ["cel_k8s_exec", "CeleryKubernetesExecutor", "cel_exec", "k8s_exec"], ["cel_exec", "job_id", "k8s_exec", "job_id", "cel_k8s_exec", "job_id", "job_id"]], "cel_k8s_exec": [["cel_k8s_exec", "CeleryKubernetesExecutor", "cel_exec", "k8s_exec"], ["cel_k8s_exec", "job_id", "job_id"], ["cel_exec", "job_id", "k8s_exec", "job_id", "cel_k8s_exec", "job_id", "job_id"]], "job_id": [["cel_k8s_exec", "job_id", "job_id"], ["cel_exec", "job_id", "k8s_exec", "job_id", "cel_k8s_exec", "job_id", "job_id"]], "k8s_exec": [["k8s_exec", "KubernetesExecutor"], ["cel_k8s_exec", "CeleryKubernetesExecutor", "cel_exec", "k8s_exec"], ["cel_exec", "job_id", "k8s_exec", "job_id", "cel_k8s_exec", "job_id", "job_id"]]}, "name": "test_job_id_setter", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_job_id_setter", "ret_exprs": [], "ret_type": "", "variables": {"cel_exec": "", "cel_k8s_exec": "", "job_id": "", "k8s_exec": ""}, "variables_p": {"cel_exec": [], "cel_k8s_exec": [["int", 0.27436429078798297], ["List[Pattern]", 0.1248136914137907], ["Dict[str, Any]", 0.106215386941275], ["Tuple[Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal]", 0.09089831712281138]], "job_id": [["str", 0.5677281139619841], ["int", 0.08675011741919895], ["bool", 0.08039396594206868], ["Set[int]", 0.080284890156452]], "k8s_exec": [["int", 0.1039266363427971], ["Type[tuple]", 0.09231643758938717]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[246, 4], [253, 9]], "fn_var_ln": {"celery_executor_mock": [[247, 8], [247, 28]], "k8s_executor_mock": [[248, 8], [248, 25]]}, "fn_var_occur": {"celery_executor_mock": [["celery_executor_mock", "mock", "MagicMock"], ["CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"]], "k8s_executor_mock": [["k8s_executor_mock", "mock", "MagicMock"], ["CeleryKubernetesExecutor", "celery_executor_mock", "k8s_executor_mock"], ["k8s_executor_mock", "kubernetes_queue", "conf", "get"]]}, "name": "test_kubernetes_executor_knows_its_queue", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_kubernetes_executor_knows_its_queue", "ret_exprs": [], "ret_type": "", "variables": {"celery_executor_mock": "", "k8s_executor_mock": ""}, "variables_p": {"celery_executor_mock": [["mock.Mock", 0.1672188327372612], ["mock.MagicMock", 0.06699415486430893]], "k8s_executor_mock": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[255, 4], [264, 73]], "fn_var_ln": {"callback": [[261, 8], [261, 16]], "callback_sink": [[259, 8], [259, 34]], "cel_exec": [[256, 8], [256, 16]], "cel_k8s_exec": [[258, 8], [258, 20]], "k8s_exec": [[257, 8], [257, 16]]}, "fn_var_occur": {"callback": [["callback", "CallbackRequest", "full_filepath"], ["cel_k8s_exec", "send_callback", "callback"], ["cel_k8s_exec", "callback_sink", "send", "assert_called_once_with", "callback"]], "callback_sink": [["cel_k8s_exec", "callback_sink", "mock", "MagicMock"], ["cel_k8s_exec", "callback_sink", "send", "assert_called_once_with", "callback"]], "cel_exec": [["cel_exec", "CeleryExecutor"], ["cel_k8s_exec", "CeleryKubernetesExecutor", "cel_exec", "k8s_exec"]], "cel_k8s_exec": [["cel_k8s_exec", "CeleryKubernetesExecutor", "cel_exec", "k8s_exec"], ["cel_k8s_exec", "callback_sink", "mock", "MagicMock"], ["cel_k8s_exec", "send_callback", "callback"], ["cel_k8s_exec", "callback_sink", "send", "assert_called_once_with", "callback"]], "k8s_exec": [["k8s_exec", "KubernetesExecutor"], ["cel_k8s_exec", "CeleryKubernetesExecutor", "cel_exec", "k8s_exec"]]}, "name": "test_send_callback", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCeleryKubernetesExecutor.test_send_callback", "ret_exprs": [], "ret_type": "", "variables": {"callback": "", "callback_sink": "", "cel_exec": "", "cel_k8s_exec": "", "k8s_exec": ""}, "variables_p": {"callback": [["int", 0.09894337340741645], ["dict", 0.08890286556502985]], "callback_sink": [["mock.Mock", 0.5196739012289416]], "cel_exec": [["float", 0.11320512200545926], ["Dict[Optional[str], Tuple[Any, Any]]", 0.10988844293609869], ["Set[str]", 0.07251935749234888], ["bool", 0.04985555009544827]], "cel_k8s_exec": [["Type[tuple]", 0.13472719867223773], ["List[str]", 0.12470695202998054], ["int", 0.0953449031488211], ["str", 0.09088198287283737], ["float", 0.08665460846020324]], "k8s_exec": [["int", 0.3019093007400363], ["str", 0.11507134453655385], ["Pattern[str]", 0.10377602754072282], ["float", 0.1035518270521699], ["list", 0.09071322435944906]]}}], "name": "TestCeleryKubernetesExecutor", "q_name": "TestCeleryKubernetesExecutor", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "unittest", "mock", "pytest", "airflow", "callbacks", "callback_requests", "CallbackRequest", "airflow", "configuration", "conf", "airflow", "executors", "celery_executor", "CeleryExecutor", "airflow", "executors", "celery_kubernetes_executor", "CeleryKubernetesExecutor", "airflow", "executors", "kubernetes_executor", "KubernetesExecutor"], "mod_var_ln": {"KUBERNETES_QUEUE": [[30, 0], [30, 16]]}, "mod_var_occur": {"KUBERNETES_QUEUE": [["test_queue", "KUBERNETES_QUEUE"], ["test_queue", "KUBERNETES_QUEUE"], ["k8s_tis", "mock_ti", "KUBERNETES_QUEUE", "_", "range", "num_k8s"], ["simple_task_instance", "queue", "KUBERNETES_QUEUE"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 99}, "session_id": "DmIem7EKe-K-J2N1VvMaRYSc0h_4Us3DbR5Y5-sjwI0", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"KUBERNETES_QUEUE": ""}, "variables_p": {"KUBERNETES_QUEUE": []}}}