{"error": null, "response": {"classes": [{"cls_lc": [[33, 0], [162, 93]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[35, 4], [36, 44]], "fn_var_ln": {"parser": [[36, 8], [36, 18]]}, "fn_var_occur": {"parser": [["cls", "parser", "cli_parser", "get_parser"]]}, "name": "setup_class", "params": {"cls": ""}, "params_descr": {"cls": ""}, "params_occur": {"cls": [["cls", "parser", "cli_parser", "get_parser"]]}, "params_p": {"args": [], "cls": [["Callable", 0.2043654510322698], ["List[str]", 0.15935622434553923], ["dict", 0.08429449144280911]], "kwargs": [], "self": []}, "q_name": "TestCliConfigList.setup_class", "ret_exprs": [], "ret_type": "", "variables": {"parser": ""}, "variables_p": {"parser": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[38, 4], [41, 30]], "fn_var_ln": {"job_runner": [[41, 8], [41, 23]], "scheduler_job": [[40, 8], [40, 26]]}, "fn_var_occur": {"job_runner": [["self", "job_runner", "None"]], "scheduler_job": [["self", "scheduler_job", "None"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "scheduler_job", "None"], ["self", "job_runner", "None"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCliConfigList.setup_method", "ret_exprs": [], "ret_type": "None", "variables": {"job_runner": "", "scheduler_job": ""}, "variables_p": {"job_runner": [["bool", 0.09776356086866234], ["Iterator[object]", 0.08626265735162963]], "scheduler_job": [["bool", 0.9999999997638014], ["int", 3.020395889648087e-11]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[43, 4], [46, 23]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "teardown_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "job_runner", "self", "job_runner", "processor_agent"], ["self", "job_runner", "processor_agent", "end"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCliConfigList.teardown_method", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[48, 4], [59, 63]], "fn_var_ln": {"job_runner": [[51, 12], [51, 27]], "scheduler_job": [[50, 12], [50, 30]]}, "fn_var_occur": {"job_runner": [["self", "job_runner", "SchedulerJobRunner", "job", "self", "scheduler_job"], ["self", "scheduler_job", "heartbeat", "heartbeat_callback", "self", "job_runner", "heartbeat_callback"]], "scheduler_job": [["self", "scheduler_job", "Job"], ["self", "job_runner", "SchedulerJobRunner", "job", "self", "scheduler_job"], ["self", "scheduler_job", "state", "State", "RUNNING"], ["session", "add", "self", "scheduler_job"], ["self", "scheduler_job", "heartbeat", "heartbeat_callback", "self", "job_runner", "heartbeat_callback"]]}, "name": "test_should_report_success_for_one_working_scheduler", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "scheduler_job", "Job"], ["self", "job_runner", "SchedulerJobRunner", "job", "self", "scheduler_job"], ["self", "scheduler_job", "state", "State", "RUNNING"], ["session", "add", "self", "scheduler_job"], ["self", "scheduler_job", "heartbeat", "heartbeat_callback", "self", "job_runner", "heartbeat_callback"], ["jobs_command", "check", "self", "parser", "parse_args"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCliConfigList.test_should_report_success_for_one_working_scheduler", "ret_exprs": [], "ret_type": "", "variables": {"job_runner": "", "scheduler_job": ""}, "variables_p": {"job_runner": [["tuple", 0.12241335628596603], ["Tuple[Tuple[Any, Any], Tuple[Any, Any]]", 0.12060454455884105], ["str", 0.09634302744132037], ["int", 0.09632595412487167], ["Dict[str, Type]", 0.09552795960449172], ["Dict[str, int]", 0.09538006968777074], ["Union[Literal[-1], Literal]", 0.09538006968777074], ["List[str]", 0.0945467793520291], ["dict", 0.0920589707742064], ["Dict[int, str]", 0.09141926848273213]], "scheduler_job": [["int", 0.8024654602700426], ["str", 0.09751638628488984]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[61, 4], [77, 63]], "fn_var_ln": {"job_runner": [[64, 12], [64, 27]], "scheduler_job": [[63, 12], [63, 30]]}, "fn_var_occur": {"job_runner": [["self", "job_runner", "SchedulerJobRunner", "job", "self", "scheduler_job"], ["self", "scheduler_job", "heartbeat", "heartbeat_callback", "self", "job_runner", "heartbeat_callback"]], "scheduler_job": [["self", "scheduler_job", "Job"], ["self", "job_runner", "SchedulerJobRunner", "job", "self", "scheduler_job"], ["self", "scheduler_job", "state", "State", "RUNNING"], ["self", "scheduler_job", "hostname"], ["session", "add", "self", "scheduler_job"], ["self", "scheduler_job", "heartbeat", "heartbeat_callback", "self", "job_runner", "heartbeat_callback"]]}, "name": "test_should_report_success_for_one_working_scheduler_with_hostname", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "scheduler_job", "Job"], ["self", "job_runner", "SchedulerJobRunner", "job", "self", "scheduler_job"], ["self", "scheduler_job", "state", "State", "RUNNING"], ["self", "scheduler_job", "hostname"], ["session", "add", "self", "scheduler_job"], ["self", "scheduler_job", "heartbeat", "heartbeat_callback", "self", "job_runner", "heartbeat_callback"], ["jobs_command", "check", "self", "parser", "parse_args"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCliConfigList.test_should_report_success_for_one_working_scheduler_with_hostname", "ret_exprs": [], "ret_type": "", "variables": {"job_runner": "", "scheduler_job": ""}, "variables_p": {"job_runner": [["tuple", 0.12241335628596603], ["Tuple[Tuple[Any, Any], Tuple[Any, Any]]", 0.12060454455884105], ["str", 0.09634302744132037], ["int", 0.09632595412487167], ["Dict[str, Type]", 0.09552795960449172], ["Dict[str, int]", 0.09538006968777074], ["Union[Literal[-1], Literal]", 0.09538006968777074], ["List[str]", 0.0945467793520291], ["dict", 0.0920589707742064], ["Dict[int, str]", 0.09141926848273213]], "scheduler_job": [["int", 0.7514719345290909], ["str", 0.16258149969468771], ["float", 0.0859465657762212]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[79, 4], [103, 52]], "fn_var_ln": {"job_runner": [[85, 16], [85, 26]], "job_runners": [[81, 8], [81, 19]], "scheduler_job": [[84, 16], [84, 29]], "scheduler_jobs": [[80, 8], [80, 22]], "state": [[86, 16], [86, 35]]}, "fn_var_occur": {"job_runner": [["job_runner", "SchedulerJobRunner", "job", "scheduler_job"], ["job_runners", "append", "job_runner"], ["scheduler_job", "heartbeat", "heartbeat_callback", "job_runner", "heartbeat_callback"], ["job_runner", "processor_agent"], ["job_runner", "processor_agent", "end"]], "job_runners": [["job_runners", "append", "job_runner"]], "scheduler_job": [["scheduler_job", "Job"], ["job_runner", "SchedulerJobRunner", "job", "scheduler_job"], ["scheduler_job", "state", "State", "RUNNING"], ["session", "add", "scheduler_job"], ["scheduler_jobs", "append", "scheduler_job"], ["scheduler_job", "heartbeat", "heartbeat_callback", "job_runner", "heartbeat_callback"]], "scheduler_jobs": [["scheduler_jobs", "append", "scheduler_job"]], "state": [["scheduler_job", "state", "State", "RUNNING"]]}, "name": "test_should_report_success_for_ha_schedulers", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["jobs_command", "check", "self", "parser", "parse_args"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCliConfigList.test_should_report_success_for_ha_schedulers", "ret_exprs": [], "ret_type": "", "variables": {"job_runner": "", "job_runners": "", "scheduler_job": "", "scheduler_jobs": "", "state": ""}, "variables_p": {"job_runner": [["List[int]", 0.18220846866000234], ["str", 0.13698414456872432], ["int", 0.12115441080467707]], "job_runners": [["list", 0.5419755396892807], ["List[Callable[Any, Any]]", 0.1488494658030163], ["Counter[Any]", 0.0885335876115062], ["List[str]", 0.0885335876115062], ["str", 0.06320785215520398]], "scheduler_job": [["dict", 0.21889689224422737], ["contextlib.AsyncExitStack", 0.08589714498130084]], "scheduler_jobs": [["list", 0.7999999999999999], ["Dict[str, Any]", 0.09999999999999999], ["str", 0.09999999999999999]], "state": [["str", 0.7999999999999999], ["Dict[str, str]", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[105, 4], [122, 48]], "fn_var_ln": {"job_runner": [[111, 16], [111, 26]], "job_runners": [[107, 8], [107, 19]], "scheduler_job": [[110, 16], [110, 29]], "scheduler_jobs": [[106, 8], [106, 22]], "state": [[112, 16], [112, 35]]}, "fn_var_occur": {"job_runner": [["job_runner", "SchedulerJobRunner", "job", "scheduler_job"], ["job_runners", "append", "job_runner"], ["job_runner", "processor_agent"], ["job_runner", "processor_agent", "end"]], "job_runners": [["job_runners", "append", "job_runner"]], "scheduler_job": [["scheduler_job", "Job"], ["job_runner", "SchedulerJobRunner", "job", "scheduler_job"], ["scheduler_job", "state", "State", "SHUTDOWN"], ["session", "add", "scheduler_job"], ["scheduler_jobs", "append", "scheduler_job"]], "scheduler_jobs": [["scheduler_jobs", "append", "scheduler_job"]], "state": [["scheduler_job", "state", "State", "SHUTDOWN"]]}, "name": "test_should_ignore_not_running_jobs", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["jobs_command", "check", "self", "parser", "parse_args"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCliConfigList.test_should_ignore_not_running_jobs", "ret_exprs": [], "ret_type": "", "variables": {"job_runner": "", "job_runners": "", "scheduler_job": "", "scheduler_jobs": "", "state": ""}, "variables_p": {"job_runner": [["str", 0.2381576913611662], ["int", 0.2166670561225222], ["List[int]", 0.1017289614208021], ["myia.utils.orderedseOrderedSet", 0.08797759958824015]], "job_runners": [["list", 0.5419755396892807], ["List[Callable[Any, Any]]", 0.1488494658030163], ["Counter[Any]", 0.0885335876115062], ["List[str]", 0.0885335876115062], ["str", 0.06320785215520398]], "scheduler_job": [["str", 0.35575354996894365], ["python.jobs.Job", 0.16797213121093985], ["dict", 0.09250022608826655], ["list", 0.08889007398437744]], "scheduler_jobs": [["list", 0.7999999999999999], ["Dict[str, Any]", 0.09999999999999999], ["str", 0.09999999999999999]], "state": [["str", 0.7999999999999999], ["Dict[str, str]", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[124, 4], [155, 48]], "fn_var_ln": {"hostname": [[133, 16], [133, 38]], "job": [[131, 16], [131, 30]], "job_runner": [[130, 16], [130, 26]], "job_runners": [[126, 8], [126, 19]], "scheduler_job": [[129, 16], [129, 29]], "scheduler_jobs": [[125, 8], [125, 22]], "state": [[132, 16], [132, 35]]}, "fn_var_occur": {"hostname": [["scheduler_job", "hostname"]], "job": [["job_runner", "SchedulerJobRunner", "job", "scheduler_job"], ["job_runner", "job", "scheduler_job"]], "job_runner": [["job_runner", "SchedulerJobRunner", "job", "scheduler_job"], ["job_runner", "job", "scheduler_job"], ["job_runners", "append", "job_runner"], ["scheduler_job", "heartbeat", "heartbeat_callback", "job_runner", "heartbeat_callback"], ["job_runner", "processor_agent"], ["job_runner", "processor_agent", "end"]], "job_runners": [["job_runners", "append", "job_runner"]], "scheduler_job": [["scheduler_job", "Job"], ["job_runner", "SchedulerJobRunner", "job", "scheduler_job"], ["job_runner", "job", "scheduler_job"], ["scheduler_job", "state", "State", "RUNNING"], ["scheduler_job", "hostname"], ["session", "add", "scheduler_job"], ["scheduler_jobs", "append", "scheduler_job"], ["scheduler_job", "heartbeat", "heartbeat_callback", "job_runner", "heartbeat_callback"]], "scheduler_jobs": [["scheduler_jobs", "append", "scheduler_job"]], "state": [["scheduler_job", "state", "State", "RUNNING"]]}, "name": "test_should_raise_exception_for_multiple_scheduler_on_one_host", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["jobs_command", "check", "self", "parser", "parse_args"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCliConfigList.test_should_raise_exception_for_multiple_scheduler_on_one_host", "ret_exprs": [], "ret_type": "", "variables": {"hostname": "", "job": "", "job_runner": "", "job_runners": "", "scheduler_job": "", "scheduler_jobs": "", "state": ""}, "variables_p": {"hostname": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]], "job": [["int", 0.12518283921270368], ["yacron.job.RunningJob", 0.08922106795513438]], "job_runner": [["int", 0.26917501706723507], ["str", 0.09456335878662418]], "job_runners": [["list", 0.5419755396892807], ["List[Callable[Any, Any]]", 0.1488494658030163], ["Counter[Any]", 0.0885335876115062], ["List[str]", 0.0885335876115062], ["str", 0.06320785215520398]], "scheduler_job": [["list", 0.1381291209868749], ["List[str]", 0.10550240496220648], ["dict", 0.09128525449514696], ["str", 0.08580562199842169]], "scheduler_jobs": [["list", 0.7999999999999999], ["Dict[str, Any]", 0.09999999999999999], ["str", 0.09999999999999999]], "state": [["str", 0.7999999999999999], ["Dict[str, str]", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[157, 4], [162, 93]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_should_raise_exception_for_allow_multiple_and_limit_1", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["jobs_command", "check", "self", "parser", "parse_args"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCliConfigList.test_should_raise_exception_for_allow_multiple_and_limit_1", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "TestCliConfigList", "q_name": "TestCliConfigList", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "contextlib", "io", "pytest", "airflow", "cli", "cli_parser", "airflow", "cli", "commands", "jobs_command", "airflow", "jobs", "job", "Job", "airflow", "jobs", "scheduler_job_runner", "SchedulerJobRunner", "airflow", "utils", "session", "create_session", "airflow", "utils", "state", "State", "tests", "test_utils", "db", "clear_db_jobs"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 2, "I": 0, "U": 32}, "session_id": "R0VV9y18eonIEwfYst3Tou3-5Xgfj9EOCNFp0dS-Ge4", "set": null, "tc": [false, null], "type_annot_cove": 0.06, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}