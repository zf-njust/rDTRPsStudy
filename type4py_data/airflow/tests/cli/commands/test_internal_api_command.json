{"error": null, "response": {"classes": [{"cls_lc": [[40, 0], [83, 69]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[42, 4], [43, 44]], "fn_var_ln": {"parser": [[43, 8], [43, 18]]}, "fn_var_occur": {"parser": [["cls", "parser", "cli_parser", "get_parser"]]}, "name": "setup_class", "params": {"cls": ""}, "params_descr": {"cls": ""}, "params_occur": {"cls": [["cls", "parser", "cli_parser", "get_parser"]]}, "params_p": {"args": [], "cls": [["Callable", 0.2043654510322698], ["List[str]", 0.15935622434553923], ["dict", 0.08429449144280911]], "kwargs": [], "self": []}, "q_name": "TestCLIGetNumReadyWorkersRunning.setup_class", "ret_exprs": [], "ret_type": "", "variables": {"parser": ""}, "variables_p": {"parser": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[45, 4], [56, 9]], "fn_var_ln": {"child": [[47, 8], [47, 18]], "children": [[46, 8], [46, 21]], "monitor": [[49, 8], [49, 20]], "process": [[48, 8], [48, 20]]}, "fn_var_occur": {"child": [["self", "child", "mock", "MagicMock"]], "children": [["self", "children", "mock", "MagicMock"]], "monitor": [["self", "monitor", "GunicornMonitor", "gunicorn_master_pid", "num_workers_expected", "master_timeout", "worker_refresh_interval", "worker_refresh_batch_size", "reload_on_plugin_change", "True"]], "process": [["self", "process", "mock", "MagicMock"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "children", "mock", "MagicMock"], ["self", "child", "mock", "MagicMock"], ["self", "process", "mock", "MagicMock"], ["self", "monitor", "GunicornMonitor", "gunicorn_master_pid", "num_workers_expected", "master_timeout", "worker_refresh_interval", "worker_refresh_batch_size", "reload_on_plugin_change", "True"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCLIGetNumReadyWorkersRunning.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"child": "", "children": "", "monitor": "", "process": ""}, "variables_p": {"child": [["bytes", 0.22178086323550264], ["Dict[str, str]", 0.13851037460921087], ["int", 0.0894575661622726]], "children": [["bytes", 0.22178086323550264], ["Dict[str, str]", 0.13851037460921087], ["int", 0.0894575661622726]], "monitor": [["List[int]", 0.32898142359767235], ["int", 0.22762310376174766], ["float", 0.11775212222345183]], "process": [["bytes", 0.22178086323550264], ["Dict[str, str]", 0.13851037460921087], ["int", 0.0894575661622726]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[58, 4], [63, 69]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_ready_prefix_on_cmdline", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "child", "cmdline", "return_value", "settings", "GUNICORN_WORKER_READY_PREFIX"], ["self", "process", "children", "return_value", "self", "child"], ["mock", "patch", "return_value", "self", "process"], ["self", "monitor", "_get_num_ready_workers_running"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCLIGetNumReadyWorkersRunning.test_ready_prefix_on_cmdline", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[65, 4], [69, 69]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_ready_prefix_on_cmdline_no_children", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "process", "children", "return_value"], ["mock", "patch", "return_value", "self", "process"], ["self", "monitor", "_get_num_ready_workers_running"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCLIGetNumReadyWorkersRunning.test_ready_prefix_on_cmdline_no_children", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[71, 4], [76, 69]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_ready_prefix_on_cmdline_zombie", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "child", "cmdline", "return_value"], ["self", "process", "children", "return_value", "self", "child"], ["mock", "patch", "return_value", "self", "process"], ["self", "monitor", "_get_num_ready_workers_running"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCLIGetNumReadyWorkersRunning.test_ready_prefix_on_cmdline_zombie", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[78, 4], [83, 69]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_ready_prefix_on_cmdline_dead_process", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "child", "cmdline", "side_effect", "psutil", "NoSuchProcess"], ["self", "process", "children", "return_value", "self", "child"], ["mock", "patch", "return_value", "self", "process"], ["self", "monitor", "_get_num_ready_workers_running"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCLIGetNumReadyWorkersRunning.test_ready_prefix_on_cmdline_dead_process", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "TestCLIGetNumReadyWorkersRunning", "q_name": "TestCLIGetNumReadyWorkersRunning", "variables": {}, "variables_p": {}}, {"cls_lc": [[87, 0], [214, 13]], "cls_var_ln": {"main_process_regexp": [[89, 4], [89, 23]]}, "cls_var_occur": {"main_process_regexp": []}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[92, 4], [151, 21]], "fn_var_ln": {"logfile": [[98, 12], [98, 19]], "pid_internal_api": [[121, 16], [121, 32]], "pid_monitor": [[119, 16], [119, 27]], "pidfile_internal_api": [[94, 12], [94, 32]], "pidfile_monitor": [[95, 12], [95, 27]], "proc": [[140, 16], [140, 20]], "stderr": [[97, 12], [97, 18]], "stdout": [[96, 12], [96, 18]]}, "fn_var_occur": {"logfile": [["logfile", "tmpdir"], ["proc", "subprocess", "Popen", "pidfile_internal_api", "stdout", "stderr", "logfile"]], "pid_internal_api": [["pid_internal_api", "self", "_wait_pidfile", "pidfile_internal_api"], ["console", "print", "pid_internal_api"]], "pid_monitor": [["pid_monitor", "self", "_wait_pidfile", "pidfile_monitor"], ["console", "print", "pid_monitor"], ["proc", "psutil", "Process", "pid_monitor"]], "pidfile_internal_api": [["pidfile_internal_api", "tmpdir"], ["proc", "subprocess", "Popen", "pidfile_internal_api", "stdout", "stderr", "logfile"], ["pid_internal_api", "self", "_wait_pidfile", "pidfile_internal_api"]], "pidfile_monitor": [["pidfile_monitor", "tmpdir"], ["pid_monitor", "self", "_wait_pidfile", "pidfile_monitor"]], "proc": [["proc", "subprocess", "Popen", "pidfile_internal_api", "stdout", "stderr", "logfile"], ["proc", "poll", "None"], ["proc", "psutil", "Process", "pid_monitor"], ["proc", "terminate"], ["proc", "wait", "None"]], "stderr": [["stderr", "tmpdir"], ["proc", "subprocess", "Popen", "pidfile_internal_api", "stdout", "stderr", "logfile"]], "stdout": [["stdout", "tmpdir"], ["proc", "subprocess", "Popen", "pidfile_internal_api", "stdout", "stderr", "logfile"]]}, "name": "test_cli_internal_api_background", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["pid_monitor", "self", "_wait_pidfile", "pidfile_monitor"], ["pid_internal_api", "self", "_wait_pidfile", "pidfile_internal_api"], ["self", "_find_process", "print_found_process", "True"], ["self", "_find_process"], ["self", "_find_all_processes", "print_found_process", "True"], ["self", "_check_processes", "ignore_running", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCliInternalAPI.test_cli_internal_api_background", "ret_exprs": [], "ret_type": "", "variables": {"logfile": "", "pid_internal_api": "", "pid_monitor": "", "pidfile_internal_api": "", "pidfile_monitor": "", "proc": "", "stderr": "", "stdout": ""}, "variables_p": {"logfile": [["str", 0.39673776069486444], ["subprocess.Popen[Any]", 0.28208475598955596], ["Set[str]", 0.16479390783988515], ["List[str]", 0.08403050285524753]], "pid_internal_api": [["int", 0.21718223118684638], ["tuple", 0.09131972515794166], ["str", 0.09096099832536599]], "pid_monitor": [["int", 0.18242094430283345], ["list", 0.12420000204193862], ["Dict[str, int]", 0.11709414999236398], ["dict", 0.10385035510633231], ["List[float]", 0.09682708726783903], ["List[int]", 0.09345292634134536], ["float", 0.09096340740191024]], "pidfile_internal_api": [["subprocess.CompletedProcess[bytes]", 0.09605171541898053], ["str", 0.08705808896023293]], "pidfile_monitor": [["List[str]", 0.6]], "proc": [["List[str]", 0.09066566816796943], ["subprocess.Popen[Any]", 0.09040374345647019]], "stderr": [["str", 0.39673776069486444], ["subprocess.Popen[Any]", 0.28208475598955596], ["Set[str]", 0.16479390783988515], ["List[str]", 0.08403050285524753]], "stdout": [["str", 0.39673776069486444], ["subprocess.Popen[Any]", 0.28208475598955596], ["Set[str]", 0.16479390783988515], ["List[str]", 0.08403050285524753]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[153, 4], [170, 13]], "fn_var_ln": {"args": [[157, 12], [157, 16]]}, "fn_var_occur": {"args": [["args", "self", "parser", "parse_args"], ["internal_api_command", "internal_api", "args"]]}, "name": "test_cli_internal_api_debug", "params": {"app": "", "self": ""}, "params_descr": {"app": "", "self": ""}, "params_occur": {"app": [["mock", "patch", "return_value", "app"]], "self": [["args", "self", "parser", "parse_args"]]}, "params_p": {"app": [["tests.async_mock.Mock", 0.8861352543915494], ["tests.async_mock.MagicMock", 0.1138647456084505]], "args": [], "kwargs": [], "self": []}, "q_name": "TestCliInternalAPI.test_cli_internal_api_debug", "ret_exprs": [], "ret_type": "", "variables": {"args": ""}, "variables_p": {"args": [["List[str]", 0.33172384403534994], ["Dict[str, Any]", 0.1448158163738395]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[172, 4], [214, 13]], "fn_var_ln": {"args": [[176, 12], [176, 16]]}, "fn_var_occur": {"args": [["args", "self", "parser", "parse_args"], ["internal_api_command", "internal_api", "args"]]}, "name": "test_cli_internal_api_args", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["args", "self", "parser", "parse_args"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCliInternalAPI.test_cli_internal_api_args", "ret_exprs": [], "ret_type": "", "variables": {"args": ""}, "variables_p": {"args": [["List[str]", 0.33172384403534994], ["Dict[str, Any]", 0.1448158163738395]]}}], "name": "TestCliInternalAPI", "q_name": "TestCliInternalAPI", "variables": {"main_process_regexp": ""}, "variables_p": {"main_process_regexp": [["str", 0.49999999945900286], ["bool", 6.300709559840085e-11], ["List[str]", 5.4999900323546466e-11]]}}], "funcs": [], "imports": ["__future__", "annotations", "subprocess", "sys", "tempfile", "time", "pathlib", "Path", "unittest", "mock", "psutil", "pytest", "rich", "console", "Console", "airflow", "settings", "airflow", "cli", "cli_parser", "airflow", "cli", "commands", "internal_api_command", "airflow", "cli", "commands", "internal_api_command", "GunicornMonitor", "airflow", "settings", "_ENABLE_AIP_44", "tests", "cli", "commands", "_common_cli_classes", "_ComonCLIGunicornTestClass"], "mod_var_ln": {"console": [[37, 0], [37, 7]]}, "mod_var_occur": {"console": [["console", "print"], ["console", "print", "pid_monitor"], ["console", "print", "pid_internal_api"], ["console", "print"], ["console", "print"], ["console", "print"], ["console", "print"], ["console", "print"], ["console", "print"], ["console", "print"], ["console", "print"], ["console", "print", "file", "file", "stat", "st_size"], ["console", "print", "file", "read_text"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 28}, "session_id": "C0L8PtnygO42IJteNvKB4QXSyk4XaDLpTos2mD-tUGo", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"console": ""}, "variables_p": {"console": [["int", 0.6088653060928215], ["list", 0.2248635542006526], ["bytearray", 0.07691558682110278]]}}}