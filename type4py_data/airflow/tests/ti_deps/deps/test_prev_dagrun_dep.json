{"error": null, "response": {"classes": [{"cls_lc": [[34, 0], [82, 69]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[35, 4], [36, 23]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "teardown_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPrevDagrunDep.teardown_method", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "The first task run of a new task in an old DAG should pass if the task has", "long_descr": "ignore_first_depends_on_past set to True.", "ret": null}, "fn_lc": [[38, 4], [82, 69]], "fn_var_ln": {"dag": [[43, 8], [43, 11]], "dep_context": [[81, 8], [81, 19]], "dr": [[68, 8], [68, 10]], "new_task": [[59, 8], [59, 16]], "old_task": [[44, 8], [44, 16]], "task": [[76, 8], [76, 15]], "ti": [[75, 8], [75, 10]]}, "fn_var_occur": {"dag": [["dag", "DAG"], ["old_task", "BaseOperator", "task_id", "dag", "dag", "depends_on_past", "True", "start_date", "convert_to_utc", "datetime", "wait_for_downstream", "False"], ["dag", "create_dagrun", "run_id", "state", "State", "SUCCESS", "execution_date", "old_task", "start_date", "run_type", "DagRunType", "SCHEDULED"], ["new_task", "BaseOperator", "task_id", "dag", "dag", "depends_on_past", "True", "ignore_first_depends_on_past", "True", "start_date", "old_task", "start_date"], ["dr", "dag", "create_dagrun", "run_id", "state", "State", "RUNNING", "execution_date", "convert_to_utc", "datetime", "run_type", "DagRunType", "SCHEDULED"]], "dep_context": [["dep_context", "DepContext", "ignore_depends_on_past", "False"], ["PrevDagrunDep", "is_met", "ti", "ti", "dep_context", "dep_context"]], "dr": [["dr", "dag", "create_dagrun", "run_id", "state", "State", "RUNNING", "execution_date", "convert_to_utc", "datetime", "run_type", "DagRunType", "SCHEDULED"], ["ti", "dr", "get_task_instance", "new_task", "task_id"]], "new_task": [["new_task", "BaseOperator", "task_id", "dag", "dag", "depends_on_past", "True", "ignore_first_depends_on_past", "True", "start_date", "old_task", "start_date"], ["ti", "dr", "get_task_instance", "new_task", "task_id"], ["ti", "task", "new_task"]], "old_task": [["old_task", "BaseOperator", "task_id", "dag", "dag", "depends_on_past", "True", "start_date", "convert_to_utc", "datetime", "wait_for_downstream", "False"], ["dag", "create_dagrun", "run_id", "state", "State", "SUCCESS", "execution_date", "old_task", "start_date", "run_type", "DagRunType", "SCHEDULED"], ["new_task", "BaseOperator", "task_id", "dag", "dag", "depends_on_past", "True", "ignore_first_depends_on_past", "True", "start_date", "old_task", "start_date"]], "task": [["ti", "task", "new_task"]], "ti": [["ti", "dr", "get_task_instance", "new_task", "task_id"], ["ti", "task", "new_task"], ["ti", "previous_ti", "None"], ["PrevDagrunDep", "is_met", "ti", "ti", "dep_context", "dep_context"]]}, "name": "test_first_task_run_of_new_task", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPrevDagrunDep.test_first_task_run_of_new_task", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "dep_context": "", "dr": "", "new_task": "", "old_task": "", "task": "", "ti": ""}, "variables_p": {"dag": [["int", 0.2700449536255006], ["Optional[magic.models.deck.Deck]", 0.19717878776438527], ["List[str]", 0.1448882800327759], ["backend.api.models.group.Group", 0.08651444958581482], ["datetime.date", 0.08517226710045037]], "dep_context": [["List[Dict[str, str]]", 0.08588495366008178]], "dr": [["str", 0.12001706663536285], ["abilian.core.models.subjects.User", 0.11004617344312057], ["list", 0.10492563541413505], ["List[str]", 0.10328297429766323], ["Tuple[Any, Any]", 0.08555030048905857], ["dict", 0.0846584486915546], ["datetime.date", 0.08430039267345894]], "new_task": [["Dict[str, Any]", 0.1040890084007131], ["app.models.user.User", 0.09816274069798352], ["Dict[str, Union[Any, Any, Any]]", 0.09417929656056954]], "old_task": [["Dict[str, Any]", 0.3164930120335512], ["dict", 0.20751133335977773], ["list", 0.09600341104481322], ["str", 0.08770323246054584], ["Dict[datetime.date, Dict[str, float]]", 0.08356750112269168]], "task": [["Dict[str, Any]", 0.1691019559228263], ["Set[str]", 0.12313106680649517], ["Dict[str, str]", 0.10653636244271952], ["List[str]", 0.10579057723994396], ["list", 0.07988924944742833]], "ti": [["str", 0.8920962693982744], ["int", 0.10790373060172546]]}}], "name": "TestPrevDagrunDep", "q_name": "TestPrevDagrunDep", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[221, 0], [260, 40]], "fn_var_ln": {"dagrun": [[244, 4], [244, 10]], "dep_context": [[251, 4], [251, 15]], "prev_dagrun": [[243, 8], [243, 19]], "task": [[230, 4], [230, 8]], "ti": [[250, 4], [250, 6]]}, "fn_var_occur": {"dagrun": [["dagrun", "Mock", "prev_dagrun", "prev_dagrun"], ["ti", "Mock", "task", "task", "dagrun", "None"]], "dep_context": [["dep_context", "DepContext", "ignore_depends_on_past", "context_ignore_depends_on_past", "wait_for_past_depends_before_skipping", "wait_for_past_depends_before_skipping"], ["PrevDagrunDep", "is_met", "ti", "ti", "dep_context", "dep_context", "dep_met"]], "prev_dagrun": [["prev_dagrun", "Mock", "execution_date", "datetime", "prev_ti"], ["prev_dagrun", "None"], ["dagrun", "Mock", "prev_dagrun", "prev_dagrun"]], "task": [["task", "BaseOperator", "task_id", "dag", "DAG", "depends_on_past", "depends_on_past", "start_date", "datetime", "wait_for_downstream", "wait_for_downstream"], ["ti", "Mock", "task", "task", "dagrun", "None"]], "ti": [["ti", "Mock", "task", "task", "dagrun", "None"], ["PrevDagrunDep", "is_met", "ti", "ti", "dep_context", "dep_context", "dep_met"], ["ti", "xcom_push", "assert_called_with", "key", "value", "True"], ["ti", "xcom_push", "assert_not_called"]]}, "name": "test_dagrun_dep", "params": {"context_ignore_depends_on_past": "", "dep_met": "", "depends_on_past": "", "past_depends_met_xcom_sent": "", "prev_ti": "", "wait_for_downstream": "", "wait_for_past_depends_before_skipping": ""}, "params_descr": {"context_ignore_depends_on_past": "", "dep_met": "", "depends_on_past": "", "past_depends_met_xcom_sent": "", "prev_ti": "", "wait_for_downstream": "", "wait_for_past_depends_before_skipping": ""}, "params_occur": {"context_ignore_depends_on_past": [["dep_context", "DepContext", "ignore_depends_on_past", "context_ignore_depends_on_past", "wait_for_past_depends_before_skipping", "wait_for_past_depends_before_skipping"]], "dep_met": [["PrevDagrunDep", "is_met", "ti", "ti", "dep_context", "dep_context", "dep_met"]], "depends_on_past": [["task", "BaseOperator", "task_id", "dag", "DAG", "depends_on_past", "depends_on_past", "start_date", "datetime", "wait_for_downstream", "wait_for_downstream"]], "past_depends_met_xcom_sent": [], "prev_ti": [["prev_dagrun", "Mock", "execution_date", "datetime", "prev_ti"]], "wait_for_downstream": [["task", "BaseOperator", "task_id", "dag", "DAG", "depends_on_past", "depends_on_past", "start_date", "datetime", "wait_for_downstream", "wait_for_downstream"]], "wait_for_past_depends_before_skipping": [["dep_context", "DepContext", "ignore_depends_on_past", "context_ignore_depends_on_past", "wait_for_past_depends_before_skipping", "wait_for_past_depends_before_skipping"]]}, "params_p": {"args": [], "context_ignore_depends_on_past": [["raiden.utils.List[raiden.raiden_service.RaidenService]", 0.18310565239963586], ["List[src.main.core.models.window.Window]", 0.09633924138329927]], "dep_met": [["str", 0.32151168372128397]], "depends_on_past": [["raiden.utils.ChannelID", 0.1962631263348436], ["raiden.utils.MessageID", 0.1962631263348436], ["raiden.utils.Address", 0.1962631263348436], ["Optional[abilian.core.models.Model]", 0.10293734093537033], ["Dict[int, dict]", 0.09075966190896467]], "kwargs": [], "past_depends_met_xcom_sent": [["str", 0.5699325122651915], ["bool", 0.3652630416752444]], "prev_ti": [["models.Channel", 0.12274506396745696], ["int", 0.08787030660493654], ["bool", 0.08383615223918606], ["Optional[zerver.models.UserProfile]", 0.072923304385308], ["Optional[bool]", 0.07253017121498644], ["List[str]", 0.07253017121498644]], "wait_for_downstream": [["raiden.utils.ChannelID", 0.1962631263348436], ["raiden.utils.MessageID", 0.1962631263348436], ["raiden.utils.Address", 0.1962631263348436], ["Optional[abilian.core.models.Model]", 0.10293734093537033], ["Dict[int, dict]", 0.09075966190896467]], "wait_for_past_depends_before_skipping": [["raiden.utils.List[raiden.raiden_service.RaidenService]", 0.18310565239963586], ["List[src.main.core.models.window.Window]", 0.09633924138329927]]}, "q_name": "test_dagrun_dep", "ret_exprs": [], "ret_type": "", "variables": {"dagrun": "", "dep_context": "", "prev_dagrun": "", "task": "", "ti": ""}, "variables_p": {"dagrun": [["Dict[str, Dict[str, Any]]", 0.3156869120796224], ["list", 0.1821731641610856], ["List[str]", 0.12134618716244823], ["libsoundtouch.tests.test_libsoundtouch.MockDevice", 0.10024279548871755], ["str", 0.09676001702303152], ["unittesmock.Mock", 0.09162299576631819]], "dep_context": [["classmethod", 0.32761702737691445], ["types.SimpleNamespace", 0.21259387178277245], ["List[List[str]]", 0.18772427762536262]], "prev_dagrun": [["Dict[str, Union[Any, Any, str]]", 0.09411246667159327]], "task": [["Dict[str, Any]", 0.21040300244874713], ["list", 0.19731159998202774], ["int", 0.12834324679485887], ["datetime.timedelta", 0.09918608342362042], ["str", 0.09885015511909909], ["BoundMethod[Callable(datetime.datetime.now)[Any, Any], Type[datetime.datetime]]", 0.08826182468519739]], "ti": [["Dict[str, Any]", 0.09515308359309313], ["legistar.models.MatterHistory", 0.09315416992074659], ["int", 0.09167675289614814], ["Dict[Any, str]", 0.08737134900928777]]}}], "imports": ["__future__", "annotations", "unittest", "mock", "Mock", "pytest", "airflow", "models", "DAG", "airflow", "models", "baseoperator", "BaseOperator", "airflow", "ti_deps", "dep_context", "DepContext", "airflow", "ti_deps", "deps", "prev_dagrun_dep", "PrevDagrunDep", "airflow", "utils", "state", "State", "airflow", "utils", "timezone", "convert_to_utc", "datetime", "airflow", "utils", "types", "DagRunType", "tests", "test_utils", "db", "clear_db_runs"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 22}, "session_id": "EGKzb1tGYnXSnOUnNySgwx9THUzThC15Kpo5oJuFPtE", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}