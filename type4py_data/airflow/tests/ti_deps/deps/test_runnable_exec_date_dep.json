{"error": null, "response": {"classes": [{"cls_lc": [[94, 0], [134, 50]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[95, 4], [99, 68]], "fn_var_ln": {"dag": [[96, 8], [96, 11]], "dagrun": [[97, 8], [97, 14]], "task": [[98, 8], [98, 12]]}, "fn_var_occur": {"dag": [["dag", "Mock", "end_date", "dag_end_date"], ["task", "Mock", "dag", "dag", "end_date", "task_end_date"]], "dagrun": [["dagrun", "Mock", "execution_date", "execution_date"], ["Mock", "task", "task", "get_dagrun", "Mock", "return_value", "dagrun"]], "task": [["task", "Mock", "dag", "dag", "end_date", "task_end_date"], ["Mock", "task", "task", "get_dagrun", "Mock", "return_value", "dagrun"]]}, "name": "_get_task_instance", "params": {"dag_end_date": "", "execution_date": "", "self": "", "task_end_date": ""}, "params_descr": {"dag_end_date": "", "execution_date": "", "self": "", "task_end_date": ""}, "params_occur": {"dag_end_date": [["dag", "Mock", "end_date", "dag_end_date"]], "execution_date": [["dagrun", "Mock", "execution_date", "execution_date"]], "self": [], "task_end_date": [["task", "Mock", "dag", "dag", "end_date", "task_end_date"]]}, "params_p": {"args": [], "dag_end_date": [["str", 0.5959980470497281], ["bool", 0.2008540043737936], ["models.Payment", 0.1015739742882391]], "execution_date": [["str", 0.3151468523137626], ["Optional[raiden.utils.TokenNetworkID]", 0.10528047612289461], ["bool", 0.09683915637635984], ["Dict[str, Any]", 0.08359691859349984]], "kwargs": [], "self": [], "task_end_date": [["str", 0.6082984239939825], ["int", 0.1992384916921195], ["Optional[List[str]]", 0.1924630843138979]]}, "q_name": "TestRunnableExecDateDep._get_task_instance", "ret_exprs": ["return Mock(task=task, get_dagrun=Mock(return_value=dagrun))"], "ret_type": "", "ret_type_p": [["dict", 0.2887875943661078], ["str", 0.22954111856823967], ["Callable", 0.09551242099589281]], "variables": {"dag": "", "dagrun": "", "task": ""}, "variables_p": {"dag": [["str", 0.2975332725700226], ["decksite.data.models.person.Person", 0.105013653088358], ["Dict[str, Callable]", 0.09067560558515822]], "dagrun": [["str", 0.11021528958782953], ["unittesmock.Mock", 0.1061753916660841]], "task": [["Dict[str, str]", 0.18719957942490043], ["excars.models.user.User", 0.11197801304039252], ["list", 0.10581866137928192], ["legistar.models.Event", 0.09661681592957665], ["Dict[str, List[Any]]", 0.09429331548053377], ["models.userData", 0.09186796350039203]]}}, {"docstring": {"func": "If the task instance execution date is after the tasks end date", "long_descr": "this dep should fail", "ret": null}, "fn_lc": [[101, 4], [111, 54]], "fn_var_ln": {"ti": [[106, 8], [106, 10]]}, "fn_var_occur": {"ti": [["ti", "self", "_get_task_instance", "dag_end_date", "datetime", "task_end_date", "datetime", "execution_date", "datetime"], ["RunnableExecDateDep", "is_met", "ti", "ti"]]}, "name": "test_exec_date_after_task_end_date", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["ti", "self", "_get_task_instance", "dag_end_date", "datetime", "task_end_date", "datetime", "execution_date", "datetime"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestRunnableExecDateDep.test_exec_date_after_task_end_date", "ret_exprs": [], "ret_type": "", "variables": {"ti": ""}, "variables_p": {"ti": [["datetime.timedelta", 0.29829038486512155], ["List[Tuple[Any, Any]]", 0.11488972821796956], ["dict", 0.10153836878488018], ["datetime.datetime.datetime", 0.09499881378535743]]}}, {"docstring": {"func": "If the task instance execution date is after the dag's end date", "long_descr": "this dep should fail", "ret": null}, "fn_lc": [[113, 4], [123, 54]], "fn_var_ln": {"ti": [[118, 8], [118, 10]]}, "fn_var_occur": {"ti": [["ti", "self", "_get_task_instance", "dag_end_date", "datetime", "task_end_date", "datetime", "execution_date", "datetime"], ["RunnableExecDateDep", "is_met", "ti", "ti"]]}, "name": "test_exec_date_after_dag_end_date", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["ti", "self", "_get_task_instance", "dag_end_date", "datetime", "task_end_date", "datetime", "execution_date", "datetime"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestRunnableExecDateDep.test_exec_date_after_dag_end_date", "ret_exprs": [], "ret_type": "", "variables": {"ti": ""}, "variables_p": {"ti": [["datetime.timedelta", 0.29829038486512155], ["List[Tuple[Any, Any]]", 0.11488972821796956], ["dict", 0.10153836878488018], ["datetime.datetime.datetime", 0.09499881378535743]]}}, {"docstring": {"func": "Test to make sure all the conditions for the dep are met", "long_descr": null, "ret": null}, "fn_lc": [[125, 4], [134, 50]], "fn_var_ln": {"ti": [[129, 8], [129, 10]]}, "fn_var_occur": {"ti": [["ti", "self", "_get_task_instance", "dag_end_date", "datetime", "task_end_date", "datetime", "execution_date", "datetime"], ["RunnableExecDateDep", "is_met", "ti", "ti"]]}, "name": "test_all_deps_met", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["ti", "self", "_get_task_instance", "dag_end_date", "datetime", "task_end_date", "datetime", "execution_date", "datetime"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestRunnableExecDateDep.test_all_deps_met", "ret_exprs": [], "ret_type": "", "variables": {"ti": ""}, "variables_p": {"ti": [["datetime.timedelta", 0.29829038486512155], ["List[Tuple[Any, Any]]", 0.11488972821796956], ["dict", 0.10153836878488018], ["datetime.datetime.datetime", 0.09499881378535743]]}}], "name": "TestRunnableExecDateDep", "q_name": "TestRunnableExecDateDep", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[33, 0], [36, 40]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "clean_db", "params": {"session": ""}, "params_descr": {"session": ""}, "params_occur": {"session": [["session", "query", "DagRun", "delete"], ["session", "query", "TaskInstance", "delete"]]}, "params_p": {"args": [], "kwargs": [], "session": [["grouper.models.base.session.Session", 0.11990957790855057], ["grouper.models.group.Group", 0.11990957790855057], ["models.Queue", 0.08719401443250785], ["str", 0.0825206741781574]]}, "q_name": "clean_db", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "If the dag's execution date is in the future but (allow_trigger_in_future=False or not schedule_interval)", "long_descr": "this dep should fail", "ret": null}, "fn_lc": [[51, 0], [74, 60]], "fn_var_ln": {"ti": [[73, 9], [73, 11]]}, "fn_var_occur": {"ti": [["ti", "dag_maker", "create_dagrun", "execution_date", "execution_date", "task_instances"], ["RunnableExecDateDep", "is_met", "ti", "ti", "is_met"]]}, "name": "test_exec_date_dep", "params": {"allow_trigger_in_future": "", "create_dummy_dag": "", "dag_maker": "", "execution_date": "", "is_met": "", "schedule_interval": "", "session": ""}, "params_descr": {"allow_trigger_in_future": "", "create_dummy_dag": "", "dag_maker": "", "execution_date": "", "is_met": "", "schedule_interval": "", "session": ""}, "params_occur": {"allow_trigger_in_future": [["patch", "object", "settings", "allow_trigger_in_future"]], "create_dummy_dag": [["create_dummy_dag", "start_date", "datetime", "end_date", "datetime", "schedule", "schedule_interval", "with_dagrun_type", "DagRunType", "MANUAL", "session", "session"]], "dag_maker": [["ti", "dag_maker", "create_dagrun", "execution_date", "execution_date", "task_instances"]], "execution_date": [["ti", "dag_maker", "create_dagrun", "execution_date", "execution_date", "task_instances"]], "is_met": [["RunnableExecDateDep", "is_met", "ti", "ti", "is_met"]], "schedule_interval": [["create_dummy_dag", "start_date", "datetime", "end_date", "datetime", "schedule", "schedule_interval", "with_dagrun_type", "DagRunType", "MANUAL", "session", "session"]], "session": [["create_dummy_dag", "start_date", "datetime", "end_date", "datetime", "schedule", "schedule_interval", "with_dagrun_type", "DagRunType", "MANUAL", "session", "session"]]}, "params_p": {"allow_trigger_in_future": [["str", 0.15865103486451035], ["Iterable[Any]", 0.10822996012097084], ["bool", 0.0810244341362126]], "args": [], "create_dummy_dag": [["raiden.utils.ChannelID", 0.30308301229885964], ["raiden.utils.MessageID", 0.30308301229885964], ["raiden.utils.Address", 0.30308301229885964], ["Optional[str]", 0.09075096310342111]], "dag_maker": [["raiden.utils.MessageID", 0.2599334004587813], ["int", 0.25897397990081267], ["raiden.utils.ChannelID", 0.17580281484499993], ["raiden.utils.Address", 0.17580281484499993], ["topicdb.core.models.collaborationmode.CollaborationMode", 0.12948698995040633]], "execution_date": [["raiden.utils.MessageID", 0.2599334004587813], ["int", 0.25897397990081267], ["raiden.utils.ChannelID", 0.17580281484499993], ["raiden.utils.Address", 0.17580281484499993], ["topicdb.core.models.collaborationmode.CollaborationMode", 0.12948698995040633]], "is_met": [["raiden.utils.ChannelID", 0.11835907429466598], ["raiden.utils.MessageID", 0.11835907429466598], ["raiden.utils.Address", 0.11835907429466598], ["Optional[Any]", 0.09763489405295411], ["Optional[str]", 0.0881403790080984], ["raiden.utils.TokenAddress", 0.08572939651022683]], "kwargs": [], "schedule_interval": [["raiden.utils.ChannelID", 0.30308301229885964], ["raiden.utils.MessageID", 0.30308301229885964], ["raiden.utils.Address", 0.30308301229885964], ["Optional[str]", 0.09075096310342111]], "session": [["raiden.utils.ChannelID", 0.30308301229885964], ["raiden.utils.MessageID", 0.30308301229885964], ["raiden.utils.Address", 0.30308301229885964], ["Optional[str]", 0.09075096310342111]]}, "q_name": "test_exec_date_dep", "ret_exprs": [], "ret_type": "", "variables": {"ti": ""}, "variables_p": {"ti": [["str", 0.3915398896982962], ["List[str]", 0.1077972689271447], ["Dict[str, Tuple[str, str]]", 0.09748958130548478], ["List[Tuple[str, Any]]", 0.08562830105309842]]}}, {"docstring": {"func": "If the dag's execution date is in the future this dep should fail", "long_descr": null, "ret": null}, "fn_lc": [[78, 0], [91, 50]], "fn_var_ln": {"ti": [[90, 5], [90, 7]]}, "fn_var_occur": {"ti": [["ti", "dag_maker", "create_dagrun", "execution_date", "datetime", "task_instances"], ["RunnableExecDateDep", "is_met", "ti", "ti"]]}, "name": "test_exec_date_after_end_date", "params": {"create_dummy_dag": "", "dag_maker": "", "session": ""}, "params_descr": {"create_dummy_dag": "", "dag_maker": "", "session": ""}, "params_occur": {"create_dummy_dag": [["create_dummy_dag", "start_date", "datetime", "end_date", "datetime", "schedule", "None", "with_dagrun_type", "DagRunType", "MANUAL", "session", "session"]], "dag_maker": [["ti", "dag_maker", "create_dagrun", "execution_date", "datetime", "task_instances"]], "session": [["create_dummy_dag", "start_date", "datetime", "end_date", "datetime", "schedule", "None", "with_dagrun_type", "DagRunType", "MANUAL", "session", "session"]]}, "params_p": {"args": [], "create_dummy_dag": [["str", 0.2745671766970771], ["raiden.utils.Address", 0.12188871741778237], ["raiden.utils.BlockIdentifier", 0.12188871741778237], ["zerver.models.Realm", 0.09488187100998205], ["bool", 0.09488187100998205], ["datetime.datetime", 0.09297687972947671], ["int", 0.0880325338238499]], "dag_maker": [["str", 0.4101813218338646], ["dict", 0.10234967851941937], ["int", 0.100874282212191], ["Iterable[Pattern]", 0.09720710242564143]], "kwargs": [], "session": [["str", 0.2745671766970771], ["raiden.utils.Address", 0.12188871741778237], ["raiden.utils.BlockIdentifier", 0.12188871741778237], ["zerver.models.Realm", 0.09488187100998205], ["bool", 0.09488187100998205], ["datetime.datetime", 0.09297687972947671], ["int", 0.0880325338238499]]}, "q_name": "test_exec_date_after_end_date", "ret_exprs": [], "ret_type": "", "variables": {"ti": ""}, "variables_p": {"ti": [["str", 0.6586922333826651], ["List[str]", 0.10041251964380161]]}}], "imports": ["__future__", "annotations", "unittest", "mock", "Mock", "patch", "pytest", "time_machine", "airflow", "settings", "airflow", "models", "DagRun", "TaskInstance", "airflow", "ti_deps", "deps", "runnable_exec_date_dep", "RunnableExecDateDep", "airflow", "utils", "timezone", "datetime", "airflow", "utils", "types", "DagRunType"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 29}, "session_id": "iy1NCRWdA-Rh2xxRW_VQ6ZXwl_cPtwaEU_cYKPTU4WE", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}