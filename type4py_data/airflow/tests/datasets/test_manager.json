{"error": null, "response": {"classes": [{"cls_lc": [[49, 0], [97, 61]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[50, 4], [64, 46]], "fn_var_ln": {"dataset": [[53, 8], [53, 15]], "dsem": [[51, 8], [51, 12]], "mock_session": [[55, 8], [55, 20]]}, "fn_var_occur": {"dataset": [["dataset", "Dataset", "uri"], ["dsem", "register_dataset_change", "task_instance", "mock_task_instance", "dataset", "dataset", "session", "mock_session"]], "dsem": [["dsem", "DatasetManager"], ["dsem", "register_dataset_change", "task_instance", "mock_task_instance", "dataset", "dataset", "session", "mock_session"]], "mock_session": [["mock_session", "mock", "Mock"], ["mock_session", "query", "return_value", "filter", "return_value", "one_or_none", "return_value", "None"], ["dsem", "register_dataset_change", "task_instance", "mock_task_instance", "dataset", "dataset", "session", "mock_session"], ["mock_session", "add", "assert_not_called"], ["mock_session", "merge", "assert_not_called"]]}, "name": "test_register_dataset_change_dataset_doesnt_exist", "params": {"mock_task_instance": "", "self": ""}, "params_descr": {"mock_task_instance": "", "self": ""}, "params_occur": {"mock_task_instance": [["dsem", "register_dataset_change", "task_instance", "mock_task_instance", "dataset", "dataset", "session", "mock_session"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_task_instance": [], "self": []}, "q_name": "TestDatasetManager.test_register_dataset_change_dataset_doesnt_exist", "ret_exprs": [], "ret_type": "", "variables": {"dataset": "", "dsem": "", "mock_session": ""}, "variables_p": {"dataset": [["str", 0.1638715773383247]], "dsem": [], "mock_session": [["mock.Mock", 0.2017513528261455], ["mock.MagicMock", 0.10359523672607343]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[66, 4], [83, 61]], "fn_var_ln": {"consuming_dags": [[76, 8], [76, 26]], "dag1": [[70, 8], [70, 12]], "dag2": [[71, 8], [71, 12]], "ds": [[69, 8], [69, 10]], "dsem": [[67, 8], [67, 12]], "dsm": [[74, 8], [74, 11]]}, "fn_var_occur": {"consuming_dags": [["dsm", "consuming_dags", "DagScheduleDatasetReference", "dag_id", "dag", "dag_id", "dag", "dag1", "dag2"]], "dag1": [["dag1", "DagModel", "dag_id"], ["session", "add_all", "dag1", "dag2"], ["dsm", "consuming_dags", "DagScheduleDatasetReference", "dag_id", "dag", "dag_id", "dag", "dag1", "dag2"]], "dag2": [["dag2", "DagModel", "dag_id"], ["session", "add_all", "dag1", "dag2"], ["dsm", "consuming_dags", "DagScheduleDatasetReference", "dag_id", "dag", "dag_id", "dag", "dag1", "dag2"]], "ds": [["ds", "Dataset", "uri"], ["dsem", "register_dataset_change", "task_instance", "mock_task_instance", "dataset", "ds", "session", "session"]], "dsem": [["dsem", "DatasetManager"], ["dsem", "register_dataset_change", "task_instance", "mock_task_instance", "dataset", "ds", "session", "session"]], "dsm": [["dsm", "DatasetModel", "uri"], ["session", "add", "dsm"], ["dsm", "consuming_dags", "DagScheduleDatasetReference", "dag_id", "dag", "dag_id", "dag", "dag1", "dag2"], ["session", "query", "DatasetEvent", "filter_by", "dataset_id", "dsm", "id", "count"]]}, "name": "test_register_dataset_change", "params": {"dag_maker": "", "mock_task_instance": "", "self": "", "session": ""}, "params_descr": {"dag_maker": "", "mock_task_instance": "", "self": "", "session": ""}, "params_occur": {"dag_maker": [], "mock_task_instance": [["dsem", "register_dataset_change", "task_instance", "mock_task_instance", "dataset", "ds", "session", "session"]], "self": [], "session": [["session", "add_all", "dag1", "dag2"], ["session", "add", "dsm"], ["session", "flush"], ["dsem", "register_dataset_change", "task_instance", "mock_task_instance", "dataset", "ds", "session", "session"], ["session", "query", "DatasetEvent", "filter_by", "dataset_id", "dsm", "id", "count"], ["session", "query", "DatasetDagRunQueue", "count"]]}, "params_p": {"args": [], "dag_maker": [], "kwargs": [], "mock_task_instance": [], "self": [], "session": [["datasets.github.scrape_repos.proto.scrape_repos_pb2.GitHubRepositoryQuery", 0.10495662628323559]]}, "q_name": "TestDatasetManager.test_register_dataset_change", "ret_exprs": [], "ret_type": "", "variables": {"consuming_dags": "", "dag1": "", "dag2": "", "ds": "", "dsem": "", "dsm": ""}, "variables_p": {"consuming_dags": [["Tuple[str, str, str, str]", 0.0887832809227006], ["int", 0.087462392815623]], "dag1": [["dict", 0.19975433692601152], ["list", 0.11116782919194576], ["Dict[str, str]", 0.10766189416867313], ["tuple", 0.10294333226567005], ["float", 0.09719505773291834], ["str", 0.08967051035942429], ["geode.models.common.Address", 0.08911978628114693]], "dag2": [["dict", 0.19975433692601152], ["list", 0.11116782919194576], ["Dict[str, str]", 0.10766189416867313], ["tuple", 0.10294333226567005], ["float", 0.09719505773291834], ["str", 0.08967051035942429], ["geode.models.common.Address", 0.08911978628114693]], "ds": [["str", 0.05541406702374185], ["Optional[List[str]]", 0.05381240391687476]], "dsem": [], "dsm": [["str", 0.3774312655668699], ["DefaultDict[str, Set[str]]", 0.14495371959008685], ["Dict[None, None]", 0.13009588907964081], ["float", 0.0853620037143002]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[85, 4], [97, 61]], "fn_var_ln": {"ds": [[88, 8], [88, 10]], "dsem": [[86, 8], [86, 12]], "dsm": [[89, 8], [89, 11]]}, "fn_var_occur": {"ds": [["ds", "Dataset", "uri"], ["dsem", "register_dataset_change", "task_instance", "mock_task_instance", "dataset", "ds", "session", "session"]], "dsem": [["dsem", "DatasetManager"], ["dsem", "register_dataset_change", "task_instance", "mock_task_instance", "dataset", "ds", "session", "session"]], "dsm": [["dsm", "DatasetModel", "uri"], ["session", "add", "dsm"], ["session", "query", "DatasetEvent", "filter_by", "dataset_id", "dsm", "id", "count"]]}, "name": "test_register_dataset_change_no_downstreams", "params": {"mock_task_instance": "", "self": "", "session": ""}, "params_descr": {"mock_task_instance": "", "self": "", "session": ""}, "params_occur": {"mock_task_instance": [["dsem", "register_dataset_change", "task_instance", "mock_task_instance", "dataset", "ds", "session", "session"]], "self": [], "session": [["session", "add", "dsm"], ["session", "flush"], ["dsem", "register_dataset_change", "task_instance", "mock_task_instance", "dataset", "ds", "session", "session"], ["session", "query", "DatasetEvent", "filter_by", "dataset_id", "dsm", "id", "count"], ["session", "query", "DatasetDagRunQueue", "count"]]}, "params_p": {"args": [], "kwargs": [], "mock_task_instance": [], "self": [], "session": []}, "q_name": "TestDatasetManager.test_register_dataset_change_no_downstreams", "ret_exprs": [], "ret_type": "", "variables": {"ds": "", "dsem": "", "dsm": ""}, "variables_p": {"ds": [["str", 0.05541406702374185], ["Optional[List[str]]", 0.05381240391687476]], "dsem": [], "dsm": [["str", 0.20057430452655362], ["int", 0.10476503273696143], ["list", 0.10060634527194122]]}}], "name": "TestDatasetManager", "q_name": "TestDatasetManager", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[31, 0], [37, 18]], "fn_var_ln": {"dag_id": [[34, 4], [34, 18]], "map_index": [[36, 4], [36, 21]], "mock_ti": [[32, 4], [32, 11]], "run_id": [[35, 4], [35, 18]], "task_id": [[33, 4], [33, 19]]}, "fn_var_occur": {"dag_id": [["mock_ti", "dag_id"]], "map_index": [["mock_ti", "map_index"]], "mock_ti": [["mock_ti", "mock", "Mock"], ["mock_ti", "task_id"], ["mock_ti", "dag_id"], ["mock_ti", "run_id"], ["mock_ti", "map_index"]], "run_id": [["mock_ti", "run_id"]], "task_id": [["mock_ti", "task_id"]]}, "name": "mock_task_instance", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "mock_task_instance", "ret_exprs": ["return mock_ti"], "ret_type": "", "ret_type_p": [], "variables": {"dag_id": "", "map_index": "", "mock_ti": "", "run_id": "", "task_id": ""}, "variables_p": {"dag_id": [["int", 0.43874775860077014], ["str", 0.37734283133763014], ["Set[str]", 0.09330074336700091], ["Dict[str, Any]", 0.09060866669459879]], "map_index": [["str", 0.46146968833119484], ["List[Dict[str, float]]", 0.10543346334745063], ["Dict[str, Dict[str, str]]", 0.0831681400737581]], "mock_ti": [["str", 0.1629321318055928], ["List[int]", 0.12515133294665004], ["Dict[str, Any]", 0.11495665816457454], ["mock.Mock", 0.09036826328922762]], "run_id": [["str", 0.8157405650053074], ["int", 0.1842594349946924]], "task_id": [["str", 0.881230930674626], ["Pattern[str]", 0.11876906932537394]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[40, 0], [46, 22]], "fn_var_ln": {"dag_id": [[44, 8], [44, 23]], "mock_dag": [[43, 8], [43, 16]], "n": [[41, 4], [41, 5]]}, "fn_var_occur": {"dag_id": [["mock_dag", "dag_id", "n"]], "mock_dag": [["mock_dag", "mock", "Mock"], ["mock_dag", "dag_id", "n"]], "n": [["mock_dag", "dag_id", "n"]]}, "name": "create_mock_dag", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "create_mock_dag", "ret_exprs": [], "ret_type": "", "variables": {"dag_id": "", "mock_dag": "", "n": ""}, "variables_p": {"dag_id": [["str", 0.8063732032619519], ["bytes", 0.11092494644960349], ["int", 0.08270185028844447]], "mock_dag": [["str", 0.22759796558141185]], "n": [["str", 0.29072567748745937], ["int", 0.2651603016887444], ["bool", 0.09274739282792277], ["Dict[str, Dict[str, Any]]", 0.08913570563838528], ["Dict[int, str]", 0.08454527181638673]]}}], "imports": ["__future__", "annotations", "unittest", "mock", "pytest", "airflow", "datasets", "Dataset", "airflow", "datasets", "manager", "DatasetManager", "airflow", "models", "dag", "DagModel", "airflow", "models", "dataset", "DagScheduleDatasetReference", "DatasetDagRunQueue", "DatasetEvent", "DatasetModel"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 31}, "session_id": "jsix38ZyBU14qiuUnltQbQjk3SXtV_O5Xh04mhLgMV4", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}