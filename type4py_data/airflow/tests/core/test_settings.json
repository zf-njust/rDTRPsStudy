{"error": null, "response": {"classes": [{"cls_lc": [[64, 0], [78, 43]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[65, 4], [69, 71]], "fn_var_ln": {"content": [[66, 8], [66, 20]], "filename": [[68, 8], [68, 16]], "settings_file": [[69, 8], [69, 26]], "settings_root": [[67, 8], [67, 26]]}, "fn_var_occur": {"content": [["self", "content", "content"]], "filename": [["filename", "module_name"], ["self", "settings_file", "os", "path", "join", "self", "settings_root", "filename"]], "settings_file": [["self", "settings_file", "os", "path", "join", "self", "settings_root", "filename"]], "settings_root": [["self", "settings_root", "tempfile", "mkdtemp"], ["self", "settings_file", "os", "path", "join", "self", "settings_root", "filename"]]}, "name": "__init__", "params": {"content": "builtins.str", "module_name": "builtins.str", "self": ""}, "params_descr": {"content": "", "module_name": "", "self": ""}, "params_occur": {"content": [["self", "content", "content"]], "module_name": [["filename", "module_name"]], "self": [["self", "content", "content"], ["self", "settings_root", "tempfile", "mkdtemp"], ["self", "settings_file", "os", "path", "join", "self", "settings_root", "filename"]]}, "params_p": {"args": [], "content": [["str", 0.29147487542597117], ["dict", 0.2688215628919082], ["Optional[str]", 0.10278637264959489]], "kwargs": [], "module_name": [["Optional[str]", 0.4165837904878179], ["str", 0.2031614793867511], ["bool", 0.10759060896181465], ["Dict[str, Any]", 0.09668274170784705], ["Optional[Dict[str, str]]", 0.09204003311992055]], "self": []}, "q_name": "SettingsContext.__init__", "ret_exprs": [], "ret_type": "", "variables": {"content": "", "filename": "", "settings_file": "", "settings_root": ""}, "variables_p": {"content": [["bytes", 0.44577974501965834], ["int", 0.25273843707564037], ["OSError", 0.10408910412145365]], "filename": [["str", 0.8008510130378501], ["bytes", 0.09793507488564515]], "settings_file": [["str", 0.9999999999999999]], "settings_root": [["str", 1.0]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[71, 4], [75, 33]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "__enter__", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["open", "self", "settings_file", "handle"], ["handle", "writelines", "self", "content"], ["sys", "path", "append", "self", "settings_root"], ["self", "settings_file"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "SettingsContext.__enter__", "ret_exprs": ["return self.settings_file"], "ret_type": "", "ret_type_p": [["str", 0.8925237020643879], ["Callable", 0.10747629793561236]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[77, 4], [78, 43]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "__exit__", "params": {"exc_info": "", "self": ""}, "params_descr": {"exc_info": "", "self": ""}, "params_occur": {"exc_info": [], "self": [["sys", "path", "remove", "self", "settings_root"]]}, "params_p": {"args": [], "exc_info": [["Dict[str, Any]", 0.1]], "kwargs": [], "self": []}, "q_name": "SettingsContext.__exit__", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "SettingsContext", "q_name": "SettingsContext", "variables": {}, "variables_p": {}}, {"cls_lc": [[81, 0], [186, 61]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[83, 4], [84, 44]], "fn_var_ln": {"old_modules": [[84, 8], [84, 24]]}, "fn_var_occur": {"old_modules": [["self", "old_modules", "dict", "sys", "modules"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "old_modules", "dict", "sys", "modules"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestLocalSettings.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"old_modules": ""}, "variables_p": {"old_modules": [["Pattern[str]", 0.14529324700480337], ["Dict[str, Any]", 0.13332593503781928], ["Dict[Type[Any], str]", 0.09810503759061373], ["Type[Callable[Any, int]]", 0.09539163912096836], ["dict", 0.09344156006904031], ["Dict[str, str]", 0.08991109904364854], ["Dict[Any, Union[int, str]]", 0.08799185533861917], ["Set[str]", 0.08695925359089687]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[86, 4], [90, 32]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "teardown_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["m", "m", "sys", "modules", "m", "self", "old_modules"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestLocalSettings.teardown_method", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Tests that import_local_settings is called after prepare_classpath", "long_descr": null, "ret": null}, "fn_lc": [[94, 4], [106, 100]], "fn_var_ln": {"mock_local_settings": [[98, 8], [98, 27]]}, "fn_var_occur": {"mock_local_settings": [["mock_local_settings", "mock", "Mock"], ["mock_local_settings", "attach_mock", "prepare_syspath"], ["mock_local_settings", "attach_mock", "import_local_settings"], ["mock_local_settings", "assert_has_calls", "call", "prepare_syspath", "call", "import_local_settings"]]}, "name": "test_initialize_order", "params": {"import_local_settings": "", "prepare_syspath": "", "self": ""}, "params_descr": {"import_local_settings": "", "prepare_syspath": "", "self": ""}, "params_occur": {"import_local_settings": [["mock_local_settings", "attach_mock", "import_local_settings"], ["mock_local_settings", "assert_has_calls", "call", "prepare_syspath", "call", "import_local_settings"]], "prepare_syspath": [["mock_local_settings", "attach_mock", "prepare_syspath"], ["mock_local_settings", "assert_has_calls", "call", "prepare_syspath", "call", "import_local_settings"]], "self": []}, "params_p": {"args": [], "import_local_settings": [["unittesmock.MagicMock", 0.5899034796439125], ["mock.Mock", 0.10697248191517467], ["tests.test_util.aiohttp.AiohttpClientMocker", 0.09246278633889275]], "kwargs": [], "prepare_syspath": [["unittesmock.MagicMock", 0.5012750135276417], ["tests.test_util.aiohttp.AiohttpClientMocker", 0.2983019035968337], ["mock.Mock", 0.09599312496727123]], "self": []}, "q_name": "TestLocalSettings.test_initialize_order", "ret_exprs": [], "ret_type": "", "variables": {"mock_local_settings": ""}, "variables_p": {"mock_local_settings": [["unittesmock.MagicMock", 0.18711956600694424], ["List[int]", 0.10134070506766316], ["Dict[str, Any]", 0.08033050110766031], ["mock.Mock", 0.0799012839500581], ["Union[mock.AsyncMock, mock.MagicMock]", 0.07661634585579413]]}}, {"docstring": {"func": "Tests that if __all__ is specified in airflow_local_settings,", "long_descr": "only module attributes specified within are imported.", "ret": null}, "fn_lc": [[108, 4], [119, 37]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_import_with_dunder_all_not_specified", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestLocalSettings.test_import_with_dunder_all_not_specified", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Tests that if __all__ is specified in airflow_local_settings,", "long_descr": "only module attributes specified within are imported.", "ret": null}, "fn_lc": [[121, 4], [134, 56]], "fn_var_ln": {"task_instance": [[131, 12], [131, 25]]}, "fn_var_occur": {"task_instance": [["task_instance", "MagicMock"], ["settings", "test_policy", "task_instance"], ["task_instance", "run_as_user"]]}, "name": "test_import_with_dunder_all", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestLocalSettings.test_import_with_dunder_all", "ret_exprs": [], "ret_type": "", "variables": {"task_instance": ""}, "variables_p": {"task_instance": [["mock.Mock", 0.2129633808731122], ["unittesmock.MagicMock", 0.10246337735572218]]}}, {"docstring": {"func": "Tests that an ImportError is raised in import_local_settings", "long_descr": "if there is no airflow_local_settings module on the syspath.", "ret": null}, "fn_lc": [[137, 4], [145, 95]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_import_local_settings_without_syspath", "params": {"log_mock": "", "self": ""}, "params_descr": {"log_mock": "", "self": ""}, "params_occur": {"log_mock": [["log_mock", "assert_called_once_with", "exc_info", "True"]], "self": []}, "params_p": {"args": [], "kwargs": [], "log_mock": [["unittesmock.MagicMock", 0.7959625611792628]], "self": []}, "q_name": "TestLocalSettings.test_import_local_settings_without_syspath", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Tests that task instances are mutated by the policy", "long_descr": "function in airflow_local_settings.", "ret": null}, "fn_lc": [[147, 4], [160, 56]], "fn_var_ln": {"task_instance": [[157, 12], [157, 25]]}, "fn_var_occur": {"task_instance": [["task_instance", "MagicMock"], ["settings", "test_policy", "task_instance"], ["task_instance", "run_as_user"]]}, "name": "test_policy_function", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestLocalSettings.test_policy_function", "ret_exprs": [], "ret_type": "", "variables": {"task_instance": ""}, "variables_p": {"task_instance": [["mock.Mock", 0.2129633808731122], ["unittesmock.MagicMock", 0.10246337735572218]]}}, {"docstring": {"func": "Tests that pods are mutated by the pod_mutation_hook", "long_descr": "function in airflow_local_settings.", "ret": null}, "fn_lc": [[162, 4], [175, 51]], "fn_var_ln": {"pod": [[172, 12], [172, 15]]}, "fn_var_occur": {"pod": [["pod", "MagicMock"], ["settings", "pod_mutation_hook", "pod"], ["pod", "namespace"]]}, "name": "test_pod_mutation_hook", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestLocalSettings.test_pod_mutation_hook", "ret_exprs": [], "ret_type": "", "variables": {"pod": ""}, "variables_p": {"pod": [["mock.Mock", 0.28161753309183457], ["bytes", 0.27410689903257857], ["unittesmock.MagicMock", 0.09711188334855206]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[177, 4], [186, 61]], "fn_var_ln": {"owner": [[184, 12], [184, 31]], "task_instance": [[183, 12], [183, 25]]}, "fn_var_occur": {"owner": [["task_instance", "owner"]], "task_instance": [["task_instance", "MagicMock"], ["task_instance", "owner"], ["settings", "task_must_have_owners", "task_instance"]]}, "name": "test_custom_policy", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestLocalSettings.test_custom_policy", "ret_exprs": [], "ret_type": "", "variables": {"owner": "", "task_instance": ""}, "variables_p": {"owner": [["tuple", 0.2904312267971202], ["str", 0.11898719891054212], ["int", 0.10046040119814093], ["Optional[bytes]", 0.0965445562300433], ["List[str]", 0.09463850213454933]], "task_instance": [["unittesmock.MagicMock", 0.3964795364860762]]}}], "name": "TestLocalSettings", "q_name": "TestLocalSettings", "variables": {}, "variables_p": {}}, {"cls_lc": [[189, 0], [216, 65]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[193, 4], [199, 66]], "fn_var_ln": {"minutes_in_five_days": [[198, 12], [198, 32]], "session_lifetime_config": [[197, 12], [197, 35]]}, "fn_var_occur": {"minutes_in_five_days": [["session_lifetime_config", "minutes_in_five_days"]], "session_lifetime_config": [["session_lifetime_config", "settings", "get_session_lifetime_config"], ["session_lifetime_config", "minutes_in_five_days"]]}, "name": "test_updates_deprecated_session_timeout_config_val_when_new_config_val_is_default", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestUpdatedConfigNames.test_updates_deprecated_session_timeout_config_val_when_new_config_val_is_default", "ret_exprs": [], "ret_type": "", "variables": {"minutes_in_five_days": "", "session_lifetime_config": ""}, "variables_p": {"minutes_in_five_days": [["int", 1.0]], "session_lifetime_config": [["raiden.settings.MediationFeeConfig", 0.5809225880433784], ["Dict[str, str]", 0.11981714646447597], ["Dict[str, Dict[str, Any]]", 0.07026181428912692], ["Dict[str, Union[Any, Any]]", 0.07026181428912692], ["Dict[Any, str]", 0.06077439801182018]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[204, 4], [208, 47]], "fn_var_ln": {"session_lifetime_config": [[207, 8], [207, 31]]}, "fn_var_occur": {"session_lifetime_config": [["session_lifetime_config", "settings", "get_session_lifetime_config"]]}, "name": "test_uses_updated_session_timeout_config_when_val_is_not_default", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestUpdatedConfigNames.test_uses_updated_session_timeout_config_when_val_is_not_default", "ret_exprs": [], "ret_type": "", "variables": {"session_lifetime_config": ""}, "variables_p": {"session_lifetime_config": [["str", 0.30295278858444097], ["int", 0.15478815150525532], ["Type[Sequence[Any]]", 0.1021205245719913], ["Dict[str, dict]", 0.07705079395254101], ["Dict[str, Dict[str, Any]]", 0.07705079395254101]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[211, 4], [216, 65]], "fn_var_ln": {"default_timeout_minutes": [[215, 8], [215, 31]], "session_lifetime_config": [[214, 8], [214, 31]]}, "fn_var_occur": {"default_timeout_minutes": [["session_lifetime_config", "default_timeout_minutes"]], "session_lifetime_config": [["session_lifetime_config", "settings", "get_session_lifetime_config"], ["session_lifetime_config", "default_timeout_minutes"]]}, "name": "test_uses_updated_session_timeout_config_by_default", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestUpdatedConfigNames.test_uses_updated_session_timeout_config_by_default", "ret_exprs": [], "ret_type": "", "variables": {"default_timeout_minutes": "", "session_lifetime_config": ""}, "variables_p": {"default_timeout_minutes": [["int", 1.0]], "session_lifetime_config": [["raiden.settings.MediationFeeConfig", 0.4490914801882002], ["Dict[str, Union[None, int, str]]", 0.09045133340096823], ["Dict[str, Optional[str]]", 0.09045133340096823], ["Dict[str, Dict[str, Any]]", 0.08773273266524048], ["Dict[str, Union[Any, Any]]", 0.08773273266524048], ["Dict[str, Union[Any, str]]", 0.06822220567954097]]}}], "name": "TestUpdatedConfigNames", "q_name": "TestUpdatedConfigNames", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "os", "sys", "tempfile", "unittest", "mock", "unittest", "mock", "MagicMock", "call", "pytest", "airflow", "exceptions", "AirflowClusterPolicyViolation", "tests", "test_utils", "config", "conf_vars", "airflow.settings", "airflow", "settings", "airflow", "settings", "airflow", "settings", "airflow", "settings", "airflow", "settings", "airflow", "settings", "airflow", "settings", "airflow", "settings", "airflow", "settings"], "mod_var_ln": {"SETTINGS_FILE_CUSTOM_POLICY": [[51, 0], [51, 27]], "SETTINGS_FILE_POD_MUTATION_HOOK": [[46, 0], [46, 31]], "SETTINGS_FILE_POLICY": [[31, 0], [31, 20]], "SETTINGS_FILE_POLICY_WITH_DUNDER_ALL": [[36, 0], [36, 36]]}, "mod_var_occur": {"SETTINGS_FILE_CUSTOM_POLICY": [["SettingsContext", "SETTINGS_FILE_CUSTOM_POLICY"]], "SETTINGS_FILE_POD_MUTATION_HOOK": [["SettingsContext", "SETTINGS_FILE_POD_MUTATION_HOOK"]], "SETTINGS_FILE_POLICY": [["SettingsContext", "SETTINGS_FILE_POLICY"]], "SETTINGS_FILE_POLICY_WITH_DUNDER_ALL": [["SettingsContext", "SETTINGS_FILE_POLICY_WITH_DUNDER_ALL"], ["SettingsContext", "SETTINGS_FILE_POLICY_WITH_DUNDER_ALL"]]}, "no_types_annot": {"D": 1, "I": 0, "U": 39}, "session_id": "lAutUj3NdCi1bVYkqEkyNzkjzXEKHOMVkzeJMu2jRM8", "set": null, "tc": [false, null], "type_annot_cove": 0.03, "typed_seq": "", "untyped_seq": "", "variables": {"SETTINGS_FILE_CUSTOM_POLICY": "", "SETTINGS_FILE_POD_MUTATION_HOOK": "", "SETTINGS_FILE_POLICY": "", "SETTINGS_FILE_POLICY_WITH_DUNDER_ALL": ""}, "variables_p": {"SETTINGS_FILE_CUSTOM_POLICY": [["str", 0.3697781104601871], ["Dict[str, None]", 0.14950991876428055], ["Set[str]", 0.10584453127595439], ["List[str]", 0.1009498459120209], ["Tuple[Dict[str, Any], Dict[str, Any], Dict[str, Any], Dict[str, Any], Dict[str, Any]]", 0.09854729507954167], ["List[Tuple[str, Any, str]]", 0.08646168594858988]], "SETTINGS_FILE_POD_MUTATION_HOOK": [["str", 0.3697781104601871], ["Dict[str, None]", 0.14950991876428055], ["Set[str]", 0.10584453127595439], ["List[str]", 0.1009498459120209], ["Tuple[Dict[str, Any], Dict[str, Any], Dict[str, Any], Dict[str, Any], Dict[str, Any]]", 0.09854729507954167], ["List[Tuple[str, Any, str]]", 0.08646168594858988]], "SETTINGS_FILE_POLICY": [["str", 0.3697781104601871], ["Dict[str, None]", 0.14950991876428055], ["Set[str]", 0.10584453127595439], ["List[str]", 0.1009498459120209], ["Tuple[Dict[str, Any], Dict[str, Any], Dict[str, Any], Dict[str, Any], Dict[str, Any]]", 0.09854729507954167], ["List[Tuple[str, Any, str]]", 0.08646168594858988]], "SETTINGS_FILE_POLICY_WITH_DUNDER_ALL": [["Dict[str, str]", 0.11891849013984915], ["bool", 0.10680983781867864], ["dict", 0.10381832999152846], ["Dict[str, Dict[str, Any]]", 0.09847789804041149], ["list", 0.09689017825724146], ["List[str]", 0.09102959417544816], ["Dict[int, str]", 0.0829588620840627]]}}}