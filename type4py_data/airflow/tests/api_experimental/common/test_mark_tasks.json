{"error": null, "response": {"classes": [{"cls_lc": [[57, 0], [465, 9]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[60, 4], [71, 9]], "fn_var_ln": {"dag1": [[61, 8], [61, 16]], "dag2": [[62, 8], [62, 16]], "dag3": [[63, 8], [63, 16]], "dag3_execution_dates": [[67, 8], [67, 32]], "dag4": [[64, 8], [64, 16]], "execution_dates": [[65, 8], [65, 27]], "start_date3": [[66, 8], [66, 19]]}, "fn_var_occur": {"dag1": [["cls", "dag1", "dagbag", "get_dag"]], "dag2": [["cls", "dag2", "dagbag", "get_dag"]], "dag3": [["cls", "dag3", "dagbag", "get_dag"], ["start_date3", "cls", "dag3", "start_date"]], "dag3_execution_dates": [["cls", "dag3_execution_dates", "start_date3", "start_date3", "datetime", "timedelta", "days", "start_date3", "datetime", "timedelta", "days"]], "dag4": [["cls", "dag4", "dagbag", "get_dag"]], "execution_dates": [["cls", "execution_dates", "timezone", "datetime", "timezone", "datetime"]], "start_date3": [["start_date3", "cls", "dag3", "start_date"], ["cls", "dag3_execution_dates", "start_date3", "start_date3", "datetime", "timedelta", "days", "start_date3", "datetime", "timedelta", "days"]]}, "name": "create_dags", "params": {"cls": "", "dagbag": ""}, "params_descr": {"cls": "", "dagbag": ""}, "params_occur": {"cls": [["cls", "dag1", "dagbag", "get_dag"], ["cls", "dag2", "dagbag", "get_dag"], ["cls", "dag3", "dagbag", "get_dag"], ["cls", "dag4", "dagbag", "get_dag"], ["cls", "execution_dates", "timezone", "datetime", "timezone", "datetime"], ["start_date3", "cls", "dag3", "start_date"], ["cls", "dag3_execution_dates", "start_date3", "start_date3", "datetime", "timedelta", "days", "start_date3", "datetime", "timedelta", "days"]], "dagbag": [["cls", "dag1", "dagbag", "get_dag"], ["cls", "dag2", "dagbag", "get_dag"], ["cls", "dag3", "dagbag", "get_dag"], ["cls", "dag4", "dagbag", "get_dag"]]}, "params_p": {"args": [], "cls": [["str", 0.6656475750354619], ["Mapping[str, Any]", 0.16107956196227866], ["Optional[str]", 0.0963371897275776], ["asgard.models.spec.container.ContainerVolumeSpec", 0.07693567327468179]], "dagbag": [["str", 0.6488989621893887], ["Mapping[str, Any]", 0.16756249198257467], ["List[Tuple[str, str]]", 0.08812335673676305]], "kwargs": [], "self": []}, "q_name": "TestMarkTasks.create_dags", "ret_exprs": [], "ret_type": "", "variables": {"dag1": "", "dag2": "", "dag3": "", "dag3_execution_dates": "", "dag4": "", "execution_dates": "", "start_date3": ""}, "variables_p": {"dag1": [["Tuple[Literal, Literal, Literal]", 0.166666666664164], ["Optional[gardnr.models.Grow]", 0.166666666664164], ["int", 6.787451833966716e-12], ["Dict[str, int]", 4.834950806013953e-12], ["str", 3.393725916983358e-12]], "dag2": [["Tuple[Literal, Literal, Literal]", 0.166666666664164], ["Optional[gardnr.models.Grow]", 0.166666666664164], ["int", 6.787451833966716e-12], ["Dict[str, int]", 4.834950806013953e-12], ["str", 3.393725916983358e-12]], "dag3": [["float", 0.34282013287594615], ["int", 0.27383012562508], ["dict", 0.1665365349381343], ["list", 0.1178094278214053], ["Dict[str, int]", 0.09900377873943439]], "dag3_execution_dates": [["datetime.datetime", 0.5906602823772162], ["datetime.date", 0.200115627084226], ["datetime.timedelta", 0.10776376308430423], ["datetime.date.time.date", 0.1014603274542535]], "dag4": [["Tuple[Literal, Literal, Literal]", 0.166666666664164], ["Optional[gardnr.models.Grow]", 0.166666666664164], ["int", 6.787451833966716e-12], ["Dict[str, int]", 4.834950806013953e-12], ["str", 3.393725916983358e-12]], "execution_dates": [["int", 0.2669550845642429], ["datetime.date", 0.16457190776323927], ["Type[prm.journals.models.moods.Mood]", 0.15981166224421073], ["List[Union[Any, Any]]", 0.08462803756690325], ["datetime.datetime", 0.08235847164228585], ["Optional[datetime.tzinfo]", 0.08047182658361877], ["datetime.datetime.datetime", 0.07702038679875704]], "start_date3": [["datetime.date", 0.9096615636874479], ["datetime.timedelta", 0.09033843631255215]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[74, 4], [126, 23]], "fn_var_ln": {"dag": [[122, 12], [122, 18]], "drs": [[110, 8], [110, 11]]}, "fn_var_occur": {"dag": [["dr", "dag", "self", "dag1"], ["dr", "dag", "self", "dag2"], ["dr", "dag", "self", "dag3"], ["dr", "dag", "self", "dag4"]], "drs": [["drs", "_create_dagruns", "self", "dag1", "_DagRunInfo", "d", "d", "d", "datetime", "timedelta", "days", "d", "self", "execution_dates", "state", "State", "RUNNING", "run_type", "DagRunType", "SCHEDULED"], ["drs", "_create_dagruns", "self", "dag2", "_DagRunInfo", "self", "dag2", "start_date", "self", "dag2", "start_date", "self", "dag2", "start_date", "datetime", "timedelta", "days", "state", "State", "RUNNING", "run_type", "DagRunType", "SCHEDULED"], ["drs", "_create_dagruns", "self", "dag3", "_DagRunInfo", "d", "d", "d", "d", "self", "dag3_execution_dates", "state", "State", "SUCCESS", "run_type", "DagRunType", "MANUAL"], ["drs", "_create_dagruns", "self", "dag4", "_DagRunInfo", "self", "dag4", "start_date", "self", "dag4", "start_date", "self", "dag4", "start_date", "datetime", "timedelta", "days", "state", "State", "SUCCESS", "run_type", "DagRunType", "MANUAL"]]}, "name": "setup_tests", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["drs", "_create_dagruns", "self", "dag1", "_DagRunInfo", "d", "d", "d", "datetime", "timedelta", "days", "d", "self", "execution_dates", "state", "State", "RUNNING", "run_type", "DagRunType", "SCHEDULED"], ["dr", "dag", "self", "dag1"], ["drs", "_create_dagruns", "self", "dag2", "_DagRunInfo", "self", "dag2", "start_date", "self", "dag2", "start_date", "self", "dag2", "start_date", "datetime", "timedelta", "days", "state", "State", "RUNNING", "run_type", "DagRunType", "SCHEDULED"], ["dr", "dag", "self", "dag2"], ["drs", "_create_dagruns", "self", "dag3", "_DagRunInfo", "d", "d", "d", "d", "self", "dag3_execution_dates", "state", "State", "SUCCESS", "run_type", "DagRunType", "MANUAL"], ["dr", "dag", "self", "dag3"], ["drs", "_create_dagruns", "self", "dag4", "_DagRunInfo", "self", "dag4", "start_date", "self", "dag4", "start_date", "self", "dag4", "start_date", "datetime", "timedelta", "days", "state", "State", "SUCCESS", "run_type", "DagRunType", "MANUAL"], ["dr", "dag", "self", "dag4"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMarkTasks.setup_tests", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "drs": ""}, "variables_p": {"dag": [["str", 0.4613159217505767], ["int", 0.3610387447740806], ["List[str]", 0.17764533347534292]], "drs": [["datetime.datetime.timedelta", 0.28220200336646634], ["float", 0.1914940647174321], ["datetime.datetime.time", 0.12802500732894997], ["tuple", 0.11816548509115055], ["List[Tuple[Any, bool]]", 0.09894333050089926], ["int", 0.09181402532726125], ["list", 0.08935608366784042]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[129, 4], [139, 13]], "fn_var_ln": {"DR": [[131, 8], [131, 10]], "TI": [[130, 8], [130, 10]]}, "fn_var_occur": {"DR": [["DR", "models", "DagRun"], ["session", "query", "TI", "join", "TI", "dag_run", "options", "eagerload", "TI", "dag_run", "filter", "TI", "dag_id", "dag", "dag_id", "DR", "execution_date", "in_", "execution_dates", "all"]], "TI": [["TI", "models", "TaskInstance"], ["session", "query", "TI", "join", "TI", "dag_run", "options", "eagerload", "TI", "dag_run", "filter", "TI", "dag_id", "dag", "dag_id", "DR", "execution_date", "in_", "execution_dates", "all"]]}, "name": "snapshot_state", "params": {"dag": "", "execution_dates": ""}, "params_descr": {"dag": "", "execution_dates": ""}, "params_occur": {"dag": [["session", "query", "TI", "join", "TI", "dag_run", "options", "eagerload", "TI", "dag_run", "filter", "TI", "dag_id", "dag", "dag_id", "DR", "execution_date", "in_", "execution_dates", "all"]], "execution_dates": [["session", "query", "TI", "join", "TI", "dag_run", "options", "eagerload", "TI", "dag_run", "filter", "TI", "dag_id", "dag", "dag_id", "DR", "execution_date", "in_", "execution_dates", "all"]]}, "params_p": {"args": [], "dag": [["str", 0.4471432675427161], ["sqlalchemy.engine.Engine", 0.15848447272999616], ["int", 0.13512001063085133], ["dict", 0.08640436812398111]], "execution_dates": [["str", 0.4471432675427161], ["sqlalchemy.engine.Engine", 0.15848447272999616], ["int", 0.13512001063085133], ["dict", 0.08640436812398111]], "kwargs": [], "self": []}, "q_name": "TestMarkTasks.snapshot_state", "ret_exprs": ["return ( session.query(TI) .join(TI.dag_run) .options(eagerload(TI.dag_run)) .filter(TI.dag_id == dag.dag_id, DR.execution_date.in_(execution_dates)) .all())"], "ret_type": "", "ret_type_p": [["int", 0.3392619266064483], ["str", 0.2032306756271973], ["Dict[str, Any]", 0.16478687567234365], ["Exception", 0.08212356731710732]], "variables": {"DR": "", "TI": ""}, "variables_p": {"DR": [["core.models.Recipe.Change", 0.55558188894006], ["mtg_ssm.scryfall.models.ScryCard", 0.14623318570724753], ["grpy.core.models.Grouping", 0.09130462766545697], ["app.models.Stage", 0.0854724318017395]], "TI": [["str", 0.11925377051853461], ["geode.models.common.Address", 0.1039450468730874], ["zerver.models.Realm", 0.0978979747300304]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[142, 4], [176, 33]], "fn_var_ln": {"DR": [[144, 8], [144, 10]], "TI": [[143, 8], [143, 10]], "tis": [[146, 8], [146, 11]], "unexpected_tis": [[154, 8], [154, 22]]}, "fn_var_occur": {"DR": [["DR", "models", "DagRun"], ["tis", "session", "query", "TI", "join", "TI", "dag_run", "filter", "TI", "dag_id", "dag", "dag_id", "DR", "execution_date", "in_", "execution_dates", "all"]], "TI": [["TI", "models", "TaskInstance"], ["tis", "session", "query", "TI", "join", "TI", "dag_run", "filter", "TI", "dag_id", "dag", "dag_id", "DR", "execution_date", "in_", "execution_dates", "all"]], "tis": [["tis", "session", "query", "TI", "join", "TI", "dag_run", "filter", "TI", "dag_id", "dag", "dag_id", "DR", "execution_date", "in_", "execution_dates", "all"], ["len", "tis"]], "unexpected_tis": [["unexpected_tis", "append", "ti"]]}, "name": "verify_state", "params": {"dag": "", "execution_dates": "", "map_task_pairs": "", "old_tis": "", "self": "", "session": "", "state": "", "task_ids": ""}, "params_descr": {"dag": "", "execution_dates": "", "map_task_pairs": "", "old_tis": "", "self": "", "session": "", "state": "", "task_ids": ""}, "params_occur": {"dag": [["tis", "session", "query", "TI", "join", "TI", "dag_run", "filter", "TI", "dag_id", "dag", "dag_id", "DR", "execution_date", "in_", "execution_dates", "all"], ["ti", "operator", "dag", "get_task", "ti", "task_id", "task_type"]], "execution_dates": [["tis", "session", "query", "TI", "join", "TI", "dag_run", "filter", "TI", "dag_id", "dag", "dag_id", "DR", "execution_date", "in_", "execution_dates", "all"], ["ti", "task_id", "task_ids", "ti", "execution_date", "execution_dates"]], "map_task_pairs": [["ti", "task_id", "ti", "map_index", "map_task_pairs"]], "old_tis": [], "self": [], "session": [["tis", "session", "query", "TI", "join", "TI", "dag_run", "filter", "TI", "dag_id", "dag", "dag_id", "DR", "execution_date", "in_", "execution_dates", "all"]], "state": [["ti", "state", "state"], ["ti", "state", "state", "ti"], ["ti", "state", "State", "finished"], ["ti", "state", "old_ti", "state"]], "task_ids": [["ti", "task_id", "task_ids", "ti", "execution_date", "execution_dates"]]}, "params_p": {"args": [], "dag": [["Union[int, Tuple[int, int]]", 0.2261866113690661], ["Optional[\"ShipmentState\"]", 0.10772306780689422], ["Optional[\"PaymentState\"]", 0.10772306780689422], ["Optional[\"DiscountCodeState\"]", 0.09082829965747975], ["List[raiden.utils.Address]", 0.08733098658033214]], "execution_dates": [["Union[int, Tuple[int, int]]", 0.2261866113690661], ["Optional[\"ShipmentState\"]", 0.10772306780689422], ["Optional[\"PaymentState\"]", 0.10772306780689422], ["Optional[\"DiscountCodeState\"]", 0.09082829965747975], ["List[raiden.utils.Address]", 0.08733098658033214]], "kwargs": [], "map_task_pairs": [["str", 0.4958557550132339], ["int", 0.10584635117717191], ["Optional[Union[Any, Any]]", 0.1018243020620626]], "old_tis": [["str", 0.31754958513251724], ["fklearn.types.DateType", 0.20007128813633765], ["int", 0.09792522487325614], ["List[str]", 0.09647501220376954]], "self": [], "session": [["Union[int, Tuple[int, int]]", 0.2261866113690661], ["Optional[\"ShipmentState\"]", 0.10772306780689422], ["Optional[\"PaymentState\"]", 0.10772306780689422], ["Optional[\"DiscountCodeState\"]", 0.09082829965747975], ["List[raiden.utils.Address]", 0.08733098658033214]], "state": [["bool", 0.2638264101148352], ["Optional[zerver.models.Stream]", 0.16954982535012908], ["Optional[Callable[[], bool]]", 0.1381381665974325], ["Optional[str]", 0.12014351199527182], ["Optional[List[Any]]", 0.12014351199527182], ["list", 0.09876037699986762], ["List[str]", 0.08943819694719195]], "task_ids": [["Optional[str]", 0.5], ["Optional[Dict[str, Any]]", 0.5]]}, "q_name": "TestMarkTasks.verify_state", "ret_exprs": [], "ret_type": "", "variables": {"DR": "", "TI": "", "tis": "", "unexpected_tis": ""}, "variables_p": {"DR": [["jinete.models.trips.Trip", 0.2737095407792429], ["crux.models.dataseDataset", 0.19884205222022228], ["cards.models.Deck", 0.09699421823310667], ["jumeaux.models.Report", 0.09358851776299608], ["str", 0.09343991654281616]], "TI": [["str", 0.3960631978726964], ["geode.models.common.Address", 0.12354933960319506], ["List[str]", 0.09620275823931292], ["golem.rpc.session.WebSocketAddress", 0.08245504928584681]], "tis": [["int", 0.6177529508157081], ["List[int]", 0.10942992120079906], ["set", 0.08297096740370237]], "unexpected_tis": [["list", 0.7999999999999999], ["Dict[str, Any]", 0.09999999999999999], ["str", 0.09999999999999999]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[178, 4], [274, 100]], "fn_var_ln": {"altered": [[258, 8], [258, 15]], "dr": [[257, 8], [257, 10]], "snapshot": [[255, 8], [255, 16]], "task": [[256, 8], [256, 12]]}, "fn_var_occur": {"altered": [["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "False"], ["len", "altered"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["len", "altered"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["len", "altered"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "FAILED", "commit", "True"], ["len", "altered"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["len", "altered"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "FAILED", "commit", "True"], ["len", "altered"]], "dr": [["dr", "DagRun", "find", "dag_id", "self", "dag1", "dag_id", "execution_date", "self", "execution_dates"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "False"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "FAILED", "commit", "True"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["dr", "DagRun", "find", "dag_id", "self", "dag3", "dag_id", "execution_date", "self", "dag3_execution_dates"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "FAILED", "commit", "True"]], "snapshot": [["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag1", "self", "execution_dates"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "None", "snapshot"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "SUCCESS", "snapshot"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "SUCCESS", "snapshot"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "FAILED", "snapshot"], ["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag1", "self", "execution_dates"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "SUCCESS", "snapshot"], ["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag3", "self", "dag3_execution_dates"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "State", "FAILED", "snapshot"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "None", "snapshot"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "None", "snapshot"]], "task": [["task", "self", "dag1", "get_task"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "False"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "None", "snapshot"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "SUCCESS", "snapshot"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "SUCCESS", "snapshot"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "FAILED", "commit", "True"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "FAILED", "snapshot"], ["task", "self", "dag1", "get_task"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "SUCCESS", "snapshot"], ["task", "self", "dag3", "get_task"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "FAILED", "commit", "True"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "State", "FAILED", "snapshot"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "None", "snapshot"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "None", "snapshot"]]}, "name": "test_mark_tasks_now", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag1", "self", "execution_dates"], ["task", "self", "dag1", "get_task"], ["dr", "DagRun", "find", "dag_id", "self", "dag1", "dag_id", "execution_date", "self", "execution_dates"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "None", "snapshot"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "SUCCESS", "snapshot"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "SUCCESS", "snapshot"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "FAILED", "snapshot"], ["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag1", "self", "execution_dates"], ["task", "self", "dag1", "get_task"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "SUCCESS", "snapshot"], ["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag3", "self", "dag3_execution_dates"], ["task", "self", "dag3", "get_task"], ["dr", "DagRun", "find", "dag_id", "self", "dag3", "dag_id", "execution_date", "self", "dag3_execution_dates"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "State", "FAILED", "snapshot"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "None", "snapshot"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "None", "snapshot"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMarkTasks.test_mark_tasks_now", "ret_exprs": [], "ret_type": "", "variables": {"altered": "", "dr": "", "snapshot": "", "task": ""}, "variables_p": {"altered": [["str", 0.1897428714487406], ["Optional[List[Any]]", 0.14845754315603196], ["List[Dict[str, Any]]", 0.10081686597616547], ["List[str]", 0.0948714357243703], ["List[Tuple[int, str]]", 0.09006320028615569], ["raiden.utils.PaymentID", 0.08905232980102938]], "dr": [["dict", 0.37196537475006114], ["tuple", 0.15291361244180995], ["DefaultDict[Any, None]", 0.09542163240784858], ["str", 0.08772686462267239]], "snapshot": [["float", 0.1194659559349907]], "task": [["dict", 0.4646922698826885], ["Dict[Any, List[Any]]", 0.2195239295757206], ["list", 0.20050793694334523], ["List[dict]", 0.11527586359824564]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[276, 4], [296, 98]], "fn_var_ln": {"altered": [[285, 8], [285, 15]], "dr": [[283, 8], [283, 10]], "relatives": [[280, 8], [280, 17]], "snapshot": [[278, 8], [278, 16]], "task": [[279, 8], [279, 12]], "task_ids": [[281, 8], [281, 16]]}, "fn_var_occur": {"altered": [["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "True", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["len", "altered"]], "dr": [["dr", "DagRun", "find", "dag_id", "self", "dag1", "dag_id", "execution_date", "self", "execution_dates"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "True", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"]], "relatives": [["relatives", "task", "get_flat_relatives", "upstream", "False"], ["task_ids", "t", "task_id", "t", "relatives"]], "snapshot": [["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag1", "self", "execution_dates"], ["self", "verify_state", "self", "dag1", "task_ids", "self", "execution_dates", "State", "SUCCESS", "snapshot"]], "task": [["task", "self", "dag1", "get_task"], ["relatives", "task", "get_flat_relatives", "upstream", "False"], ["task_ids", "append", "task", "task_id"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "True", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"]], "task_ids": [["task_ids", "t", "task_id", "t", "relatives"], ["task_ids", "append", "task", "task_id"], ["self", "verify_state", "self", "dag1", "task_ids", "self", "execution_dates", "State", "SUCCESS", "snapshot"]]}, "name": "test_mark_downstream", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag1", "self", "execution_dates"], ["task", "self", "dag1", "get_task"], ["dr", "DagRun", "find", "dag_id", "self", "dag1", "dag_id", "execution_date", "self", "execution_dates"], ["self", "verify_state", "self", "dag1", "task_ids", "self", "execution_dates", "State", "SUCCESS", "snapshot"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMarkTasks.test_mark_downstream", "ret_exprs": [], "ret_type": "", "variables": {"altered": "", "dr": "", "relatives": "", "snapshot": "", "task": "", "task_ids": ""}, "variables_p": {"altered": [["str", 0.1900687888578253], ["Optional[List[Any]]", 0.14838208200075387], ["List[Dict[str, Any]]", 0.10505393492412668], ["List[str]", 0.09503439442891265]], "dr": [["dict", 0.37196537475006114], ["tuple", 0.15291361244180995], ["DefaultDict[Any, None]", 0.09542163240784858], ["str", 0.08772686462267239]], "relatives": [["List[str]", 0.12586319297407556]], "snapshot": [["api.datatypes.signature.Signature", 0.10278675272951819], ["Dict[str, Union[Any, Any]]", 0.09818403885427933], ["docusign.models.Config", 0.09175162087804992]], "task": [["Dict[int, Any]", 0.3857696019382058], ["Dict[str, Any]", 0.20538905664226487], ["dict", 0.1329156625599851], ["Dict[str, str]", 0.09419483073625325]], "task_ids": [["str", 0.9164522900879537]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[298, 4], [318, 98]], "fn_var_ln": {"altered": [[307, 8], [307, 15]], "dr": [[302, 8], [302, 10]], "relatives": [[303, 8], [303, 17]], "snapshot": [[300, 8], [300, 16]], "task": [[301, 8], [301, 12]], "task_ids": [[304, 8], [304, 16]]}, "fn_var_occur": {"altered": [["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "True", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["len", "altered"]], "dr": [["dr", "DagRun", "find", "dag_id", "self", "dag1", "dag_id", "execution_date", "self", "execution_dates"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "True", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"]], "relatives": [["relatives", "task", "get_flat_relatives", "upstream", "True"], ["task_ids", "t", "task_id", "t", "relatives"]], "snapshot": [["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag1", "self", "execution_dates"], ["self", "verify_state", "self", "dag1", "task_ids", "self", "execution_dates", "State", "SUCCESS", "snapshot"]], "task": [["task", "self", "dag1", "get_task"], ["relatives", "task", "get_flat_relatives", "upstream", "True"], ["task_ids", "append", "task", "task_id"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "True", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"]], "task_ids": [["task_ids", "t", "task_id", "t", "relatives"], ["task_ids", "append", "task", "task_id"], ["self", "verify_state", "self", "dag1", "task_ids", "self", "execution_dates", "State", "SUCCESS", "snapshot"]]}, "name": "test_mark_upstream", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag1", "self", "execution_dates"], ["task", "self", "dag1", "get_task"], ["dr", "DagRun", "find", "dag_id", "self", "dag1", "dag_id", "execution_date", "self", "execution_dates"], ["self", "verify_state", "self", "dag1", "task_ids", "self", "execution_dates", "State", "SUCCESS", "snapshot"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMarkTasks.test_mark_upstream", "ret_exprs": [], "ret_type": "", "variables": {"altered": "", "dr": "", "relatives": "", "snapshot": "", "task": "", "task_ids": ""}, "variables_p": {"altered": [["str", 0.18800221271752923], ["Optional[List[Any]]", 0.15332114285095996], ["List[Dict[str, Any]]", 0.10197879573574757], ["List[str]", 0.09400110635876462], ["raiden.utils.PaymentID", 0.08841114440632658]], "dr": [["dict", 0.37196537475006114], ["tuple", 0.15291361244180995], ["DefaultDict[Any, None]", 0.09542163240784858], ["str", 0.08772686462267239]], "relatives": [["List[str]", 0.10190314494634582], ["str", 0.08791105989057327]], "snapshot": [["api.datatypes.signature.Signature", 0.10278675272951819], ["Dict[str, Union[Any, Any]]", 0.09818403885427933], ["docusign.models.Config", 0.09175162087804992]], "task": [["list", 0.12959073117179906], ["Set[str]", 0.10127718757236265], ["raiden.utils.Any", 0.09132785389948023], ["Type[Dict[str, Any]]", 0.08833715063387919], ["str", 0.08752270549706709]], "task_ids": [["str", 0.9164522900879537]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[320, 4], [353, 107]], "fn_var_ln": {"altered": [[341, 8], [341, 15]], "dr": [[340, 8], [340, 10]], "snapshot": [[338, 8], [338, 16]], "task": [[339, 8], [339, 12]]}, "fn_var_occur": {"altered": [["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "True", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["len", "altered"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "True", "past", "False", "state", "State", "FAILED", "commit", "True"], ["len", "altered"]], "dr": [["dr", "DagRun", "find", "dag_id", "self", "dag1", "dag_id", "execution_date", "self", "execution_dates"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "True", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["dr", "DagRun", "find", "dag_id", "self", "dag3", "dag_id", "execution_date", "self", "dag3_execution_dates"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "True", "past", "False", "state", "State", "FAILED", "commit", "True"]], "snapshot": [["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag1", "self", "execution_dates"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "SUCCESS", "snapshot"], ["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag3", "self", "dag3_execution_dates"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "None", "snapshot"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "State", "FAILED", "snapshot"]], "task": [["task", "self", "dag1", "get_task"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "True", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "SUCCESS", "snapshot"], ["task", "self", "dag3", "get_task"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "True", "past", "False", "state", "State", "FAILED", "commit", "True"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "None", "snapshot"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "State", "FAILED", "snapshot"]]}, "name": "test_mark_tasks_future", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag1", "self", "execution_dates"], ["task", "self", "dag1", "get_task"], ["dr", "DagRun", "find", "dag_id", "self", "dag1", "dag_id", "execution_date", "self", "execution_dates"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "SUCCESS", "snapshot"], ["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag3", "self", "dag3_execution_dates"], ["task", "self", "dag3", "get_task"], ["dr", "DagRun", "find", "dag_id", "self", "dag3", "dag_id", "execution_date", "self", "dag3_execution_dates"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "None", "snapshot"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "State", "FAILED", "snapshot"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMarkTasks.test_mark_tasks_future", "ret_exprs": [], "ret_type": "", "variables": {"altered": "", "dr": "", "snapshot": "", "task": ""}, "variables_p": {"altered": [["str", 0.19265792750028488], ["Optional[List[Any]]", 0.14476579953761745], ["List[Dict[str, Any]]", 0.107379369845966], ["List[str]", 0.09632896375014244], ["List[Tuple[int, str]]", 0.08765858465205642]], "dr": [["dict", 0.37196537475006114], ["tuple", 0.15291361244180995], ["DefaultDict[Any, None]", 0.09542163240784858], ["str", 0.08772686462267239]], "snapshot": [["float", 0.1194659559349907]], "task": [["list", 0.469832650112471], ["Dict[Any, List[Any]]", 0.24722504794202577], ["List[dict]", 0.11306491675707715]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[355, 4], [388, 100]], "fn_var_ln": {"altered": [[376, 8], [376, 15]], "dr": [[375, 8], [375, 10]], "snapshot": [[373, 8], [373, 16]], "task": [[374, 8], [374, 12]]}, "fn_var_occur": {"altered": [["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "True", "state", "State", "SUCCESS", "commit", "True"], ["len", "altered"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "True", "state", "State", "FAILED", "commit", "True"], ["len", "altered"]], "dr": [["dr", "DagRun", "find", "dag_id", "self", "dag1", "dag_id", "execution_date", "self", "execution_dates"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "True", "state", "State", "SUCCESS", "commit", "True"], ["dr", "DagRun", "find", "dag_id", "self", "dag3", "dag_id", "execution_date", "self", "dag3_execution_dates"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "True", "state", "State", "FAILED", "commit", "True"]], "snapshot": [["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag1", "self", "execution_dates"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "SUCCESS", "snapshot"], ["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag3", "self", "dag3_execution_dates"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "State", "FAILED", "snapshot"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "None", "snapshot"]], "task": [["task", "self", "dag1", "get_task"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "True", "state", "State", "SUCCESS", "commit", "True"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "SUCCESS", "snapshot"], ["task", "self", "dag3", "get_task"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "True", "state", "State", "FAILED", "commit", "True"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "State", "FAILED", "snapshot"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "None", "snapshot"]]}, "name": "test_mark_tasks_past", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag1", "self", "execution_dates"], ["task", "self", "dag1", "get_task"], ["dr", "DagRun", "find", "dag_id", "self", "dag1", "dag_id", "execution_date", "self", "execution_dates"], ["self", "verify_state", "self", "dag1", "task", "task_id", "self", "execution_dates", "State", "SUCCESS", "snapshot"], ["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag3", "self", "dag3_execution_dates"], ["task", "self", "dag3", "get_task"], ["dr", "DagRun", "find", "dag_id", "self", "dag3", "dag_id", "execution_date", "self", "dag3_execution_dates"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "State", "FAILED", "snapshot"], ["self", "verify_state", "self", "dag3", "task", "task_id", "self", "dag3_execution_dates", "None", "snapshot"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMarkTasks.test_mark_tasks_past", "ret_exprs": [], "ret_type": "", "variables": {"altered": "", "dr": "", "snapshot": "", "task": ""}, "variables_p": {"altered": [["str", 0.19500503818147333], ["Optional[List[Any]]", 0.14380349951172014], ["List[Dict[str, Any]]", 0.10650635078912055], ["List[str]", 0.09750251909073666], ["List[Dict[str, str]]", 0.08641337806985852]], "dr": [["dict", 0.37196537475006114], ["tuple", 0.15291361244180995], ["DefaultDict[Any, None]", 0.09542163240784858], ["str", 0.08772686462267239]], "snapshot": [["float", 0.1194659559349907]], "task": [["dict", 0.4646922698826885], ["Dict[Any, List[Any]]", 0.2195239295757206], ["list", 0.20050793694334523], ["List[dict]", 0.11527586359824564]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[390, 4], [408, 9]], "fn_var_ln": {"altered": [[395, 8], [395, 15]], "dr": [[394, 8], [394, 10]], "snapshot": [[392, 8], [392, 16]], "tasks": [[393, 8], [393, 13]]}, "fn_var_occur": {"altered": [["altered", "set_state", "tasks", "tasks", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["len", "altered"]], "dr": [["dr", "DagRun", "find", "dag_id", "self", "dag1", "dag_id", "execution_date", "self", "execution_dates"], ["altered", "set_state", "tasks", "tasks", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"]], "snapshot": [["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag1", "self", "execution_dates"], ["self", "verify_state", "self", "dag1", "task", "task_id", "task", "tasks", "self", "execution_dates", "State", "SUCCESS", "snapshot"]], "tasks": [["tasks", "self", "dag1", "get_task", "self", "dag1", "get_task"], ["altered", "set_state", "tasks", "tasks", "run_id", "dr", "run_id", "upstream", "False", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["self", "verify_state", "self", "dag1", "task", "task_id", "task", "tasks", "self", "execution_dates", "State", "SUCCESS", "snapshot"]]}, "name": "test_mark_tasks_multiple", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag1", "self", "execution_dates"], ["tasks", "self", "dag1", "get_task", "self", "dag1", "get_task"], ["dr", "DagRun", "find", "dag_id", "self", "dag1", "dag_id", "execution_date", "self", "execution_dates"], ["self", "verify_state", "self", "dag1", "task", "task_id", "task", "tasks", "self", "execution_dates", "State", "SUCCESS", "snapshot"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMarkTasks.test_mark_tasks_multiple", "ret_exprs": [], "ret_type": "", "variables": {"altered": "", "dr": "", "snapshot": "", "tasks": ""}, "variables_p": {"altered": [["str", 0.1897428714487406], ["Optional[List[Any]]", 0.14845754315603196], ["List[Dict[str, Any]]", 0.10081686597616547], ["List[str]", 0.0948714357243703], ["List[Tuple[int, str]]", 0.09006320028615569], ["raiden.utils.PaymentID", 0.08905232980102938]], "dr": [["dict", 0.37196537475006114], ["tuple", 0.15291361244180995], ["DefaultDict[Any, None]", 0.09542163240784858], ["str", 0.08772686462267239]], "snapshot": [["tests.test_schemas.Product", 0.1985212367562258], ["Dict[str, Any]", 0.11037396768551742], ["api.datatypes.signature.Signature", 0.10133763475573335]], "tasks": [["dict", 0.13462953339880537], ["list", 0.12552352736777253]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[414, 4], [435, 98]], "fn_var_ln": {"altered": [[423, 8], [423, 15]], "dr": [[421, 8], [421, 10]], "relatives": [[418, 8], [418, 17]], "snapshot": [[416, 8], [416, 16]], "task": [[417, 8], [417, 12]], "task_ids": [[419, 8], [419, 16]]}, "fn_var_occur": {"altered": [["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "True", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"], ["len", "altered"]], "dr": [["dr", "DagRun", "find", "dag_id", "self", "dag2", "dag_id", "execution_date", "self", "execution_dates"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "True", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"]], "relatives": [["relatives", "task", "get_flat_relatives", "upstream", "False"], ["task_ids", "t", "task_id", "t", "relatives"]], "snapshot": [["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag2", "self", "execution_dates"], ["self", "verify_state", "self", "dag2", "task_ids", "self", "execution_dates", "State", "SUCCESS", "snapshot"]], "task": [["task", "self", "dag2", "get_task"], ["relatives", "task", "get_flat_relatives", "upstream", "False"], ["task_ids", "append", "task", "task_id"], ["altered", "set_state", "tasks", "task", "run_id", "dr", "run_id", "upstream", "False", "downstream", "True", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True"]], "task_ids": [["task_ids", "t", "task_id", "t", "relatives"], ["task_ids", "append", "task", "task_id"], ["self", "verify_state", "self", "dag2", "task_ids", "self", "execution_dates", "State", "SUCCESS", "snapshot"]]}, "name": "test_mark_tasks_subdag", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag2", "self", "execution_dates"], ["task", "self", "dag2", "get_task"], ["dr", "DagRun", "find", "dag_id", "self", "dag2", "dag_id", "execution_date", "self", "execution_dates"], ["self", "verify_state", "self", "dag2", "task_ids", "self", "execution_dates", "State", "SUCCESS", "snapshot"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMarkTasks.test_mark_tasks_subdag", "ret_exprs": [], "ret_type": "", "variables": {"altered": "", "dr": "", "relatives": "", "snapshot": "", "task": "", "task_ids": ""}, "variables_p": {"altered": [["str", 0.1900687888578253], ["Optional[List[Any]]", 0.14838208200075387], ["List[Dict[str, Any]]", 0.10505393492412668], ["List[str]", 0.09503439442891265]], "dr": [["dict", 0.37196537475006114], ["tuple", 0.15291361244180995], ["DefaultDict[Any, None]", 0.09542163240784858], ["str", 0.08772686462267239]], "relatives": [["List[str]", 0.12586319297407556]], "snapshot": [["api.datatypes.signature.Signature", 0.10278675272951819], ["Dict[str, Union[Any, Any]]", 0.09818403885427933], ["docusign.models.Config", 0.09175162087804992]], "task": [["Dict[int, Any]", 0.3857696019382058], ["Dict[str, Any]", 0.20538905664226487], ["dict", 0.1329156625599851], ["Dict[str, str]", 0.09419483073625325]], "task_ids": [["str", 0.9164522900879537]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[437, 4], [465, 9]], "fn_var_ln": {"altered": [[444, 8], [444, 15]], "dr": [[441, 8], [441, 10]], "mapped": [[439, 8], [439, 14]], "snapshot": [[443, 8], [443, 16]], "tasks": [[440, 8], [440, 13]]}, "fn_var_occur": {"altered": [["altered", "set_state", "tasks", "tasks", "run_id", "dr", "run_id", "upstream", "True", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True", "session", "session"], ["len", "altered"]], "dr": [["dr", "DagRun", "find", "dag_id", "self", "dag4", "dag_id", "execution_date", "self", "execution_dates", "session", "session"], ["expand_mapped_task", "mapped", "dr", "run_id", "length", "session", "session"], ["altered", "set_state", "tasks", "tasks", "run_id", "dr", "run_id", "upstream", "True", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True", "session", "session"]], "mapped": [["mapped", "self", "dag4", "get_task"], ["tasks", "mapped", "mapped"], ["expand_mapped_task", "mapped", "dr", "run_id", "length", "session", "session"]], "snapshot": [["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag4", "self", "execution_dates"], ["self", "verify_state", "self", "dag4", "self", "execution_dates", "State", "SUCCESS", "snapshot", "map_task_pairs", "task", "task_id", "map_index", "task", "map_index", "tasks", "session", "session"]], "tasks": [["tasks", "mapped", "mapped"], ["altered", "set_state", "tasks", "tasks", "run_id", "dr", "run_id", "upstream", "True", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True", "session", "session"], ["self", "verify_state", "self", "dag4", "self", "execution_dates", "State", "SUCCESS", "snapshot", "map_task_pairs", "task", "task_id", "map_index", "task", "map_index", "tasks", "session", "session"]]}, "name": "test_mark_mapped_task_instance_state", "params": {"self": "", "session": ""}, "params_descr": {"self": "", "session": ""}, "params_occur": {"self": [["mapped", "self", "dag4", "get_task"], ["dr", "DagRun", "find", "dag_id", "self", "dag4", "dag_id", "execution_date", "self", "execution_dates", "session", "session"], ["snapshot", "TestMarkTasks", "snapshot_state", "self", "dag4", "self", "execution_dates"], ["self", "verify_state", "self", "dag4", "self", "execution_dates", "State", "SUCCESS", "snapshot", "map_task_pairs", "task", "task_id", "map_index", "task", "map_index", "tasks", "session", "session"]], "session": [["dr", "DagRun", "find", "dag_id", "self", "dag4", "dag_id", "execution_date", "self", "execution_dates", "session", "session"], ["expand_mapped_task", "mapped", "dr", "run_id", "length", "session", "session"], ["altered", "set_state", "tasks", "tasks", "run_id", "dr", "run_id", "upstream", "True", "downstream", "False", "future", "False", "past", "False", "state", "State", "SUCCESS", "commit", "True", "session", "session"], ["self", "verify_state", "self", "dag4", "self", "execution_dates", "State", "SUCCESS", "snapshot", "map_task_pairs", "task", "task_id", "map_index", "task", "map_index", "tasks", "session", "session"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "session": [["sqlalchemy.orm.Session", 0.22268877156567363], ["int", 0.22123604631815572], ["zerver.models.UserProfile", 0.19566490273517992], ["zerver.models.UserGroup", 0.1050987242835805], ["django.db.models.query.QuerySet", 0.0850857851714311], ["server.models.bike.Bike", 0.07958239496424566]]}, "q_name": "TestMarkTasks.test_mark_mapped_task_instance_state", "ret_exprs": [], "ret_type": "", "variables": {"altered": "", "dr": "", "mapped": "", "snapshot": "", "tasks": ""}, "variables_p": {"altered": [["str", 0.18800221271752923], ["Optional[List[Any]]", 0.15332114285095996], ["List[Dict[str, Any]]", 0.10197879573574757], ["List[str]", 0.09400110635876462], ["raiden.utils.PaymentID", 0.08841114440632658]], "dr": [["dict", 0.3455492562533044], ["Optional[int]", 0.19165507236694662], ["str", 0.11129419427120968]], "mapped": [["float", 0.21412705748406505], ["alerta.models.alerAlert", 0.09768607526646066]], "snapshot": [["float", 0.09305917577517717]], "tasks": [["taskiapplication.models.task.Task", 0.5097006720572294]]}}], "name": "TestMarkTasks", "q_name": "TestMarkTasks", "variables": {}, "variables_p": {}}, {"cls_lc": [[468, 0], [802, 68]], "cls_var_ln": {"INITIAL_TASK_STATES": [[469, 4], [469, 23]]}, "cls_var_occur": {"INITIAL_TASK_STATES": []}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[479, 4], [489, 9]], "fn_var_ln": {"dag1": [[481, 8], [481, 16]], "dag2": [[483, 8], [483, 16]], "dagbag": [[480, 8], [480, 14]], "execution_dates": [[485, 8], [485, 27]]}, "fn_var_occur": {"dag1": [["cls", "dag1", "dagbag", "dags"], ["cls", "dag1", "sync_to_db"]], "dag2": [["cls", "dag2", "dagbag", "dags"], ["cls", "dag2", "sync_to_db"]], "dagbag": [["dagbag", "models", "DagBag", "include_examples", "True", "read_dags_from_db", "False"], ["cls", "dag1", "dagbag", "dags"], ["cls", "dag2", "dagbag", "dags"]], "execution_dates": [["cls", "execution_dates", "timezone", "datetime", "timezone", "datetime", "timezone", "datetime"]]}, "name": "setup_class", "params": {"cls": ""}, "params_descr": {"cls": ""}, "params_occur": {"cls": [["cls", "dag1", "dagbag", "dags"], ["cls", "dag1", "sync_to_db"], ["cls", "dag2", "dagbag", "dags"], ["cls", "dag2", "sync_to_db"], ["cls", "execution_dates", "timezone", "datetime", "timezone", "datetime", "timezone", "datetime"]]}, "params_p": {"args": [], "cls": [["mypy.types.CallableType", 0.1094131529037115], ["Callable", 0.10042093396417888], ["tests.hints.Function", 0.09762093838066101], ["bool", 0.0925501661652215], ["str", 0.09226619953163326], ["Optional[db.models.Taxon]", 0.09025847272742683], ["Optional[str]", 0.09025847272742683]], "kwargs": [], "self": []}, "q_name": "TestMarkDAGRun.setup_class", "ret_exprs": [], "ret_type": "", "variables": {"dag1": "", "dag2": "", "dagbag": "", "execution_dates": ""}, "variables_p": {"dag1": [["Tuple[Literal, Literal, Literal]", 4.03071717812437e-11], ["Dict[Any, List[str]]", 3.756844591559076e-11], ["list", 3.46961944990419e-11], ["Counter", 3.46961944990419e-11], ["str", 2.101662548951945e-11]], "dag2": [["Tuple[Literal, Literal, Literal]", 4.03071717812437e-11], ["Dict[Any, List[str]]", 3.756844591559076e-11], ["list", 3.46961944990419e-11], ["Counter", 3.46961944990419e-11], ["str", 2.101662548951945e-11]], "dagbag": [["salon.models.Stylist", 0.2809308801531006], ["finances.models.Order", 0.1230929675642543], ["alerta.models.alerAlert", 0.10217961638010373], ["notifications.models.Notification", 0.09253419642382751], ["core.models.Ingredient", 0.09067768476305445]], "execution_dates": [["datetime.datetime.timedelta", 0.21680449839831345], ["datetime.datetime", 0.19083095796680533], ["datetime.date", 0.10852331737666798], ["str", 0.09647974850595308], ["datetime.timedelta", 0.09309651832202963], ["int", 0.09275630458255281], ["List[Union[Any, Any]]", 0.09164661958338635]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[491, 4], [492, 23]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMarkDAGRun.setup_method", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[494, 4], [495, 23]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "teardown_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMarkDAGRun.teardown_method", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[507, 8], [508, 50]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "compare", "params": {"x": "", "y": ""}, "params_descr": {"x": "", "y": ""}, "params_occur": {"x": [["x", "y", "inclusion", "x", "y"]], "y": [["x", "y", "inclusion", "x", "y"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "x": [["int", 0.9999999999667926]], "y": [["int", 0.9999999999667926]]}, "q_name": "TestMarkDAGRun._get_num_tasks_with_starting_state.<locals>.compare", "ret_exprs": ["return x == y if inclusion else x != y"], "ret_type": "", "ret_type_p": [["str", 0.426681622275811], ["int", 0.0783296092023502], ["raiden.utils.Tuple[int, int]", 0.07331837772418895], ["bytes", 0.07331837772418895]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "If ``inclusion=True``, get num tasks with initial state ``state``.", "long_descr": "Otherwise, get number tasks with initial state not equal to ``state``", "ret": "number of tasks meeting criteria"}, "fn_lc": [[497, 4], [510, 60]], "fn_var_ln": {"states": [[505, 8], [505, 14]]}, "fn_var_occur": {"states": [["len", "s", "s", "states", "compare", "s", "state"]]}, "name": "_get_num_tasks_with_starting_state", "params": {"inclusion": "builtins.bool", "self": "", "state": "airflow.utils.state.State"}, "params_descr": {"inclusion": "whether to look for inclusion or exclusion", "self": "", "state": "State to compare against"}, "params_occur": {"inclusion": [], "self": [], "state": [["len", "s", "s", "states", "compare", "s", "state"]]}, "params_p": {"args": [], "inclusion": [["str", 0.27081609885572905], ["list", 0.22947660258584124], ["dict", 0.1936699582437889]], "kwargs": [], "self": [], "state": [["torch.nn.utils.rnn.PackedSequence", 0.16572160966364854]]}, "q_name": "TestMarkDAGRun._get_num_tasks_with_starting_state", "ret_exprs": ["return len([s for s in states if compare(s, state)])"], "ret_type": "", "ret_type_p": [["List[str]", 0.4663355517501343], ["int", 0.28367777248254883], ["Dict[str, Tuple[str, str]]", 0.09935371989075903], ["Tuple[int, int, bool]", 0.07617945358117785], ["bool", 0.07445350229538003]], "variables": {"states": ""}, "variables_p": {"states": [["str", 0.25207905892142296], ["Tuple[Any, Any]", 0.13622569135359147], ["List[str]", 0.10028955860745725], ["Iterator[Any]", 0.08206318752994497], ["list", 0.07722031716738706], ["List[Tuple[int, int]]", 0.07685061608023283]]}}, {"docstring": {"func": "Return the non completed tasks.", "long_descr": null, "ret": "number of tasks in non completed state (SUCCESS, FAILED, SKIPPED, UPSTREAM_FAILED)"}, "fn_lc": [[512, 4], [524, 23]], "fn_var_ln": {"expected": [[522, 8], [522, 16]]}, "fn_var_occur": {"expected": [["expected", "len", "self", "INITIAL_TASK_STATES", "values", "self", "_get_num_tasks_with_starting_state", "State", "SUCCESS", "inclusion", "True"], ["expected", "expected", "self", "_get_num_tasks_with_starting_state", "State", "FAILED", "inclusion", "True"], ["expected", "expected", "self", "_get_num_tasks_with_starting_state", "State", "SKIPPED", "inclusion", "True"], ["expected", "expected", "self", "_get_num_tasks_with_starting_state", "State", "UPSTREAM_FAILED", "inclusion", "True"]]}, "name": "_get_num_tasks_with_non_completed_state", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["expected", "len", "self", "INITIAL_TASK_STATES", "values", "self", "_get_num_tasks_with_starting_state", "State", "SUCCESS", "inclusion", "True"], ["expected", "expected", "self", "_get_num_tasks_with_starting_state", "State", "FAILED", "inclusion", "True"], ["expected", "expected", "self", "_get_num_tasks_with_starting_state", "State", "SKIPPED", "inclusion", "True"], ["expected", "expected", "self", "_get_num_tasks_with_starting_state", "State", "UPSTREAM_FAILED", "inclusion", "True"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMarkDAGRun._get_num_tasks_with_non_completed_state", "ret_exprs": ["return expected"], "ret_type": "", "ret_type_p": [["str", 0.4014512484943355], ["Set[str]", 0.11759166562285281], ["OrderedDict", 0.09860746312619768], ["Callable", 0.09602488077903741], ["IO", 0.09328259593658644], ["bool", 0.09244856801361512]], "variables": {"expected": ""}, "variables_p": {"expected": [["list", 0.4907608753266129], ["List[str]", 0.18529703408634773], ["str", 0.13931738236544933], ["dict", 0.09339809748744148], ["List[Union[Any, Any]]", 0.09122661073414866]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[526, 4], [528, 58]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_set_default_task_instance_states", "params": {"dr": "", "self": ""}, "params_descr": {"dr": "", "self": ""}, "params_occur": {"dr": [["dr", "get_task_instance", "task_id", "set_state", "state"]], "self": [["self", "INITIAL_TASK_STATES", "items"]]}, "params_p": {"args": [], "dr": [["str", 0.2513234350489475], ["Optional[str]", 0.0991314759331328], ["Dict[str, Any]", 0.08955314852923489], ["medtagger.database.models.Task", 0.08734142487699663]], "kwargs": [], "self": []}, "q_name": "TestMarkDAGRun._set_default_task_instance_states", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[530, 4], [532, 63]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_verify_task_instance_states_remain_default", "params": {"dr": "", "self": ""}, "params_descr": {"dr": "", "self": ""}, "params_occur": {"dr": [["dr", "get_task_instance", "task_id", "state", "state"]], "self": [["self", "INITIAL_TASK_STATES", "items"]]}, "params_p": {"args": [], "dr": [["Dict[str, Any]", 0.2747035969873878], ["str", 0.17212533933679786], ["app.models.move.Move", 0.10766165740854484], ["dict", 0.07846759398755626]], "kwargs": [], "self": []}, "q_name": "TestMarkDAGRun._verify_task_instance_states_remain_default", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[535, 4], [539, 36]], "fn_var_ln": {"TI": [[536, 8], [536, 10]], "tis": [[537, 8], [537, 11]]}, "fn_var_occur": {"TI": [["TI", "models", "TaskInstance"], ["tis", "session", "query", "TI", "filter", "TI", "dag_id", "dag", "dag_id", "TI", "execution_date", "date"]], "tis": [["tis", "session", "query", "TI", "filter", "TI", "dag_id", "dag", "dag_id", "TI", "execution_date", "date"]]}, "name": "_verify_task_instance_states", "params": {"dag": "", "date": "", "self": "", "session": "", "state": ""}, "params_descr": {"dag": "", "date": "", "self": "", "session": "", "state": ""}, "params_occur": {"dag": [["tis", "session", "query", "TI", "filter", "TI", "dag_id", "dag", "dag_id", "TI", "execution_date", "date"]], "date": [["tis", "session", "query", "TI", "filter", "TI", "dag_id", "dag", "dag_id", "TI", "execution_date", "date"]], "self": [], "session": [["tis", "session", "query", "TI", "filter", "TI", "dag_id", "dag", "dag_id", "TI", "execution_date", "date"]], "state": [["ti", "state", "state"]]}, "params_p": {"args": [], "dag": [["str", 0.2798295017050506], ["int", 0.22565847875377543], ["datetime.date", 0.11216707268161306], ["List[str]", 0.10251544515451018], ["Iterable[str]", 0.09342063417483748]], "date": [["str", 0.2798295017050506], ["int", 0.22565847875377543], ["datetime.date", 0.11216707268161306], ["List[str]", 0.10251544515451018], ["Iterable[str]", 0.09342063417483748]], "kwargs": [], "self": [], "session": [["str", 0.2798295017050506], ["int", 0.22565847875377543], ["datetime.date", 0.11216707268161306], ["List[str]", 0.10251544515451018], ["Iterable[str]", 0.09342063417483748]], "state": [["str", 0.6718651264212165], ["int", 0.08279545249517015]]}, "q_name": "TestMarkDAGRun._verify_task_instance_states", "ret_exprs": [], "ret_type": "", "variables": {"TI": "", "tis": ""}, "variables_p": {"TI": [["int", 0.311325306484367], ["str", 0.19434315030440275], ["List[str]", 0.10108206767108513], ["notifications.models.Notification", 0.0843075292083238], ["list", 0.07638559401739783]], "tis": [["int", 0.46176713907457345], ["List[str]", 0.11635644274769005], ["set", 0.11366098840168151], ["Union[Literal, Literal]", 0.056867034937188005], ["dict", 0.05681581825751343]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[541, 4], [548, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_create_test_dag_run", "params": {"date": "", "self": "", "state": ""}, "params_descr": {"date": "", "self": "", "state": ""}, "params_occur": {"date": [["self", "dag1", "create_dagrun", "run_type", "DagRunType", "MANUAL", "state", "state", "start_date", "date", "execution_date", "date", "data_interval", "date", "date"]], "self": [["self", "dag1", "create_dagrun", "run_type", "DagRunType", "MANUAL", "state", "state", "start_date", "date", "execution_date", "date", "data_interval", "date", "date"]], "state": [["self", "dag1", "create_dagrun", "run_type", "DagRunType", "MANUAL", "state", "state", "start_date", "date", "execution_date", "date", "data_interval", "date", "date"]]}, "params_p": {"args": [], "date": [["str", 0.3261523042976455], ["Optional[str]", 0.30871802774607277], ["int", 0.09845686151201971], ["Optional[Callable]", 0.0894166983686917], ["datetime.date", 0.08862805403778513], ["Optional[datetime.date]", 0.08862805403778513]], "kwargs": [], "self": [], "state": [["str", 0.3261523042976455], ["Optional[str]", 0.30871802774607277], ["int", 0.09845686151201971], ["Optional[Callable]", 0.0894166983686917], ["datetime.date", 0.08862805403778513], ["Optional[datetime.date]", 0.08862805403778513]]}, "q_name": "TestMarkDAGRun._create_test_dag_run", "ret_exprs": ["return self.dag1.create_dagrun( run_type=DagRunType.MANUAL, state=state, start_date=date, execution_date=date, data_interval=(date, date),)"], "ret_type": "", "ret_type_p": [["Type[Any]", 0.20973435351530195], ["mypy.types.Type", 0.19924440050714043], ["dict", 0.10828386149824851]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[550, 4], [554, 38]], "fn_var_ln": {"dr": [[552, 8], [552, 10]], "drs": [[551, 8], [551, 11]]}, "fn_var_occur": {"dr": [["dr", "drs"], ["dr", "get_state", "state"]], "drs": [["drs", "models", "DagRun", "find", "dag_id", "dag", "dag_id", "execution_date", "date"], ["dr", "drs"]]}, "name": "_verify_dag_run_state", "params": {"dag": "", "date": "", "self": "", "state": ""}, "params_descr": {"dag": "", "date": "", "self": "", "state": ""}, "params_occur": {"dag": [["drs", "models", "DagRun", "find", "dag_id", "dag", "dag_id", "execution_date", "date"]], "date": [["drs", "models", "DagRun", "find", "dag_id", "dag", "dag_id", "execution_date", "date"]], "self": [], "state": [["dr", "get_state", "state"]]}, "params_p": {"args": [], "dag": [["str", 0.34309017260979663], ["Optional[str]", 0.2512384566748398], ["zam_repondeur.models.Lecture", 0.12208234666541239], ["Union[zerver.models.UserProfile, zilencer.models.RemoteZulipServer]", 0.1062362137802655], ["datetime.date", 0.0933149030874344], ["Tuple[type]", 0.08403790718225133]], "date": [["str", 0.34309017260979663], ["Optional[str]", 0.2512384566748398], ["zam_repondeur.models.Lecture", 0.12208234666541239], ["Union[zerver.models.UserProfile, zilencer.models.RemoteZulipServer]", 0.1062362137802655], ["datetime.date", 0.0933149030874344], ["Tuple[type]", 0.08403790718225133]], "kwargs": [], "self": [], "state": [["raiden.utils.Address", 0.1785614158209748], ["str", 0.09828591384872946], ["Optional[homeassistancore.State]", 0.09828591384872946], ["Optional[List[str]]", 0.08708952801526802]]}, "q_name": "TestMarkDAGRun._verify_dag_run_state", "ret_exprs": [], "ret_type": "", "variables": {"dr": "", "drs": ""}, "variables_p": {"dr": [["list", 0.0820743812481601], ["int", 0.08011940493227025]], "drs": [["models.memberships.Memberships", 0.34314811074916596], ["finances.models.Discount", 0.19717271973771244], ["salon.models.Stylist", 0.12845845935245084]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[557, 4], [570, 44]], "fn_var_ln": {"DR": [[560, 8], [560, 10]], "dr": [[561, 8], [561, 10]]}, "fn_var_occur": {"DR": [["DR", "DagRun"], ["dr", "session", "query", "DR", "filter", "DR", "dag_id", "dag", "dag_id", "DR", "execution_date", "date", "one"]], "dr": [["dr", "session", "query", "DR", "filter", "DR", "dag_id", "dag", "dag_id", "DR", "execution_date", "date", "one"], ["dr", "start_date", "middle_time"], ["dr", "end_date", "None"], ["dr", "start_date", "middle_time"], ["dr", "end_date", "middle_time"]]}, "name": "_verify_dag_run_dates", "params": {"dag": "", "date": "", "middle_time": "", "self": "", "session": "", "state": ""}, "params_descr": {"dag": "", "date": "", "middle_time": "", "self": "", "session": "", "state": ""}, "params_occur": {"dag": [["dr", "session", "query", "DR", "filter", "DR", "dag_id", "dag", "dag_id", "DR", "execution_date", "date", "one"]], "date": [["dr", "session", "query", "DR", "filter", "DR", "dag_id", "dag", "dag_id", "DR", "execution_date", "date", "one"]], "middle_time": [["dr", "start_date", "middle_time"], ["dr", "start_date", "middle_time"], ["dr", "end_date", "middle_time"]], "self": [], "session": [["dr", "session", "query", "DR", "filter", "DR", "dag_id", "dag", "dag_id", "DR", "execution_date", "date", "one"]], "state": [["state", "State", "RUNNING"]]}, "params_p": {"args": [], "dag": [["int", 0.27934219196978805], ["bool", 0.21223544073641226], ["List[recidiviz.persistence.entity.state.entities.StateAssessment]", 0.11508361298745998], ["datetime.date", 0.11508361298745998], ["Tuple[str, str]", 0.09102696026867074], ["datetime.datetime", 0.0905484416989131]], "date": [["int", 0.27934219196978805], ["bool", 0.21223544073641226], ["List[recidiviz.persistence.entity.state.entities.StateAssessment]", 0.11508361298745998], ["datetime.date", 0.11508361298745998], ["Tuple[str, str]", 0.09102696026867074], ["datetime.datetime", 0.0905484416989131]], "kwargs": [], "middle_time": [["str", 0.4900417031630629], ["datetime.date", 0.21301014697879408], ["datetime", 0.10254337639457335], ["List[datetime.date]", 0.10137021032746715]], "self": [], "session": [["int", 0.27934219196978805], ["bool", 0.21223544073641226], ["List[recidiviz.persistence.entity.state.entities.StateAssessment]", 0.11508361298745998], ["datetime.date", 0.11508361298745998], ["Tuple[str, str]", 0.09102696026867074], ["datetime.datetime", 0.0905484416989131]], "state": [["str", 0.5908806178629906], ["List[Optional[bytes]]", 0.11387820984081168], ["Set[str]", 0.09683396108179328], ["mythril.laser.ethereum.state.global_state.GlobalState", 0.08452900137359262]]}, "q_name": "TestMarkDAGRun._verify_dag_run_dates", "ret_exprs": [], "ret_type": "", "variables": {"DR": "", "dr": ""}, "variables_p": {"DR": [["str", 0.38394005558946903], ["list", 0.18489058968867644], ["dict", 0.12384846901610538], ["backend.api.models.group.Group", 0.10842529829866492], ["notifications.models.Notification", 0.08880276772989722]], "dr": [["Optional[magic.models.deck.Deck]", 0.1946571153330678], ["Optional[passzero.models.documents.EncryptedDocument]", 0.18568263118127187], ["dict", 0.126801007609053], ["backend.api.models.group.Group", 0.1057146905782299], ["int", 0.10121976996279357], ["List[str]", 0.0932870287897275]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[572, 4], [585, 79]], "fn_var_ln": {"altered": [[578, 8], [578, 15]], "date": [[573, 8], [573, 12]], "dr": [[574, 8], [574, 10]], "expected": [[581, 8], [581, 16]], "middle_time": [[575, 8], [575, 19]]}, "fn_var_occur": {"altered": [["altered", "set_dag_run_state_to_success", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["len", "altered", "expected"]], "date": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "State", "RUNNING", "date"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "State", "SUCCESS"], ["self", "_verify_task_instance_states", "self", "dag1", "date", "State", "SUCCESS"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "State", "SUCCESS", "middle_time"]], "dr": [["dr", "self", "_create_test_dag_run", "State", "RUNNING", "date"], ["self", "_set_default_task_instance_states", "dr"], ["altered", "set_dag_run_state_to_success", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"]], "expected": [["expected", "self", "_get_num_tasks_with_starting_state", "State", "SUCCESS", "inclusion", "False"], ["len", "altered", "expected"]], "middle_time": [["middle_time", "timezone", "utcnow"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "State", "SUCCESS", "middle_time"]]}, "name": "test_set_running_dag_run_to_success", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "State", "RUNNING", "date"], ["self", "_set_default_task_instance_states", "dr"], ["altered", "set_dag_run_state_to_success", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["expected", "self", "_get_num_tasks_with_starting_state", "State", "SUCCESS", "inclusion", "False"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "State", "SUCCESS"], ["self", "_verify_task_instance_states", "self", "dag1", "date", "State", "SUCCESS"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "State", "SUCCESS", "middle_time"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMarkDAGRun.test_set_running_dag_run_to_success", "ret_exprs": [], "ret_type": "", "variables": {"altered": "", "date": "", "dr": "", "expected": "", "middle_time": ""}, "variables_p": {"altered": [["list", 0.31800633350091756], ["int", 0.09204658456684449]], "date": [["str", 0.3970907790060698], ["Pattern[bytes]", 0.16843959135814615], ["list", 0.0955187990385632], ["datetime.datetime.date", 0.09499625847491362], ["datetime.date.time.datetime", 0.08068653874287078]], "dr": [["int", 0.6782754775861191]], "expected": [["List[str]", 0.1193071309571322], ["int", 0.10763136443608942], ["List[Tuple[int, Any]]", 0.1076222034770102], ["Dict[str, int]", 0.09777255338558008], ["Type[List[Any]]", 0.09645283579606823], ["str", 0.09510677431026403], ["List[raiden.tests.utils.factories.NettingChannelStateProperties]", 0.09176563836018956], ["List[List[int]]", 0.09172090078284817], ["list", 0.09057305564360928]], "middle_time": [["datetime.datetime.datetime", 0.3883575801443189], ["str", 0.1384572641271995], ["datetime.datetime", 0.10611344303788524], ["datetime.date.time.datetime", 0.09967483445135497]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[587, 4], [599, 78]], "fn_var_ln": {"altered": [[593, 8], [593, 15]], "date": [[588, 8], [588, 12]], "dr": [[589, 8], [589, 10]], "expected": [[595, 8], [595, 16]], "middle_time": [[590, 8], [590, 19]]}, "fn_var_occur": {"altered": [["altered", "set_dag_run_state_to_failed", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["len", "altered", "expected"]], "date": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "State", "RUNNING", "date"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "State", "FAILED"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "State", "FAILED", "middle_time"]], "dr": [["dr", "self", "_create_test_dag_run", "State", "RUNNING", "date"], ["self", "_set_default_task_instance_states", "dr"], ["altered", "set_dag_run_state_to_failed", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["dr", "get_task_instance", "state", "State", "FAILED"]], "expected": [["expected", "self", "_get_num_tasks_with_non_completed_state"], ["len", "altered", "expected"]], "middle_time": [["middle_time", "timezone", "utcnow"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "State", "FAILED", "middle_time"]]}, "name": "test_set_running_dag_run_to_failed", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "State", "RUNNING", "date"], ["self", "_set_default_task_instance_states", "dr"], ["altered", "set_dag_run_state_to_failed", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["expected", "self", "_get_num_tasks_with_non_completed_state"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "State", "FAILED"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "State", "FAILED", "middle_time"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMarkDAGRun.test_set_running_dag_run_to_failed", "ret_exprs": [], "ret_type": "", "variables": {"altered": "", "date": "", "dr": "", "expected": "", "middle_time": ""}, "variables_p": {"altered": [["list", 0.31800633350091756], ["int", 0.09204658456684449]], "date": [["str", 0.3970907790060698], ["Pattern[bytes]", 0.16843959135814615], ["list", 0.0955187990385632], ["datetime.datetime.date", 0.09499625847491362], ["datetime.date.time.datetime", 0.08068653874287078]], "dr": [["int", 0.6782754775861191]], "expected": [["list", 0.5916798495990732], ["Set[int]", 0.13127744565792954], ["List[str]", 0.09297098618203968], ["Collection[int]", 0.09020176118466726]], "middle_time": [["datetime.datetime", 0.25691305262164993], ["datetime.datetime.datetime", 0.10653228520059792], ["str", 0.09048439641029594], ["datetime.date.time.datetime", 0.0890671943770923], ["datetime", 0.08811808096713163]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[605, 4], [617, 75]], "fn_var_ln": {"altered": [[611, 8], [611, 15]], "date": [[606, 8], [606, 12]], "dr": [[607, 8], [607, 10]], "middle_time": [[608, 8], [608, 19]]}, "fn_var_occur": {"altered": [["altered", "dag_run_alter_function", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["len", "altered"]], "date": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "State", "RUNNING", "date"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "new_state"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "new_state", "middle_time"]], "dr": [["dr", "self", "_create_test_dag_run", "State", "RUNNING", "date"], ["self", "_set_default_task_instance_states", "dr"], ["altered", "dag_run_alter_function", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["self", "_verify_task_instance_states_remain_default", "dr"]], "middle_time": [["middle_time", "timezone", "utcnow"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "new_state", "middle_time"]]}, "name": "test_set_running_dag_run_to_activate_state", "params": {"dag_run_alter_function": "typing.Callable", "new_state": "airflow.utils.state.State", "self": ""}, "params_descr": {"dag_run_alter_function": "", "new_state": "", "self": ""}, "params_occur": {"dag_run_alter_function": [["altered", "dag_run_alter_function", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"]], "new_state": [["self", "_verify_dag_run_state", "self", "dag1", "date", "new_state"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "new_state", "middle_time"]], "self": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "State", "RUNNING", "date"], ["self", "_set_default_task_instance_states", "dr"], ["altered", "dag_run_alter_function", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "new_state"], ["self", "_verify_task_instance_states_remain_default", "dr"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "new_state", "middle_time"]]}, "params_p": {"args": [], "dag_run_alter_function": [], "kwargs": [], "new_state": [["lms.lmsdb.models.User", 0.26373312853496966], ["server.models.bike.Bike", 0.17822610908418113], ["sqlalchemy.orm.Session", 0.09401509595564025], ["raiden.utils.ChannelID", 0.0888384709771811], ["float", 0.0873478744172246]], "self": []}, "q_name": "TestMarkDAGRun.test_set_running_dag_run_to_activate_state", "ret_exprs": [], "ret_type": "", "variables": {"altered": "", "date": "", "dr": "", "middle_time": ""}, "variables_p": {"altered": [["Anaconda3.Lib.site-packages.astropy.modeling.tests.test_parameters.TParModel", 0.09629475763311246]], "date": [["str", 0.3970907790060698], ["Pattern[bytes]", 0.16843959135814615], ["list", 0.0955187990385632], ["datetime.datetime.date", 0.09499625847491362], ["datetime.date.time.datetime", 0.08068653874287078]], "dr": [["List[List[Any]]", 0.18286876181265074], ["int", 0.16944701341269272], ["datetime.datetime.timedelta", 0.1522966864447889], ["float", 0.12823499561853863], ["Dict[Any, Tuple[Any, Any]]", 0.08701979113623784], ["dict", 0.08505424768538582], ["bytearray", 0.08305444052822251]], "middle_time": [["int", 0.09186461566602235], ["pringles.utils.vtime.VirtualTime", 0.08142482566088512]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[620, 4], [633, 79]], "fn_var_ln": {"altered": [[626, 8], [626, 15]], "date": [[621, 8], [621, 12]], "dr": [[622, 8], [622, 10]], "expected": [[629, 8], [629, 16]], "middle_time": [[623, 8], [623, 19]]}, "fn_var_occur": {"altered": [["altered", "set_dag_run_state_to_success", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["len", "altered", "expected"]], "date": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "completed_state", "date"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "State", "SUCCESS"], ["self", "_verify_task_instance_states", "self", "dag1", "date", "State", "SUCCESS"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "State", "SUCCESS", "middle_time"]], "dr": [["dr", "self", "_create_test_dag_run", "completed_state", "date"], ["self", "_set_default_task_instance_states", "dr"], ["altered", "set_dag_run_state_to_success", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"]], "expected": [["expected", "self", "_get_num_tasks_with_starting_state", "State", "SUCCESS", "inclusion", "False"], ["len", "altered", "expected"]], "middle_time": [["middle_time", "timezone", "utcnow"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "State", "SUCCESS", "middle_time"]]}, "name": "test_set_success_dag_run_to_success", "params": {"completed_state": "", "self": ""}, "params_descr": {"completed_state": "", "self": ""}, "params_occur": {"completed_state": [["dr", "self", "_create_test_dag_run", "completed_state", "date"]], "self": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "completed_state", "date"], ["self", "_set_default_task_instance_states", "dr"], ["altered", "set_dag_run_state_to_success", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["expected", "self", "_get_num_tasks_with_starting_state", "State", "SUCCESS", "inclusion", "False"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "State", "SUCCESS"], ["self", "_verify_task_instance_states", "self", "dag1", "date", "State", "SUCCESS"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "State", "SUCCESS", "middle_time"]]}, "params_p": {"args": [], "completed_state": [["str", 0.2960930575205975], ["app.models.user.User", 0.18967470150764104], ["app.models.User", 0.18967470150764104]], "kwargs": [], "self": []}, "q_name": "TestMarkDAGRun.test_set_success_dag_run_to_success", "ret_exprs": [], "ret_type": "", "variables": {"altered": "", "date": "", "dr": "", "expected": "", "middle_time": ""}, "variables_p": {"altered": [["list", 0.31800633350091756], ["int", 0.09204658456684449]], "date": [["str", 0.2485417145389313], ["Type[leasing.models.invoice.InvoiceSet]", 0.2375210815610561], ["list", 0.13467118172453632], ["datetime.datetime.datetime", 0.10419150072924643], ["datetime.datetime.date", 0.09465969979783381], ["datetime.datetime.time", 0.08787238473191941]], "dr": [["list", 0.11787218597578147], ["dict", 0.10217799074903743], ["Tuple[int]", 0.09927519140659924], ["risesdk.api.clienClient", 0.09531496357240682], ["alerta.models.alerAlert", 0.09294384334690368]], "expected": [["List[str]", 0.1193071309571322], ["int", 0.10763136443608942], ["List[Tuple[int, Any]]", 0.1076222034770102], ["Dict[str, int]", 0.09777255338558008], ["Type[List[Any]]", 0.09645283579606823], ["str", 0.09510677431026403], ["List[raiden.tests.utils.factories.NettingChannelStateProperties]", 0.09176563836018956], ["List[List[int]]", 0.09172090078284817], ["list", 0.09057305564360928]], "middle_time": [["datetime.datetime.datetime", 0.3883575801443189], ["str", 0.1384572641271995], ["datetime.datetime", 0.10611344303788524], ["datetime.date.time.datetime", 0.09967483445135497]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[636, 4], [648, 78]], "fn_var_ln": {"altered": [[642, 8], [642, 15]], "date": [[637, 8], [637, 12]], "dr": [[638, 8], [638, 10]], "expected": [[644, 8], [644, 16]], "middle_time": [[639, 8], [639, 19]]}, "fn_var_occur": {"altered": [["altered", "set_dag_run_state_to_failed", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["len", "altered", "expected"]], "date": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "completed_state", "date"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "State", "FAILED"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "State", "FAILED", "middle_time"]], "dr": [["dr", "self", "_create_test_dag_run", "completed_state", "date"], ["self", "_set_default_task_instance_states", "dr"], ["altered", "set_dag_run_state_to_failed", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["dr", "get_task_instance", "state", "State", "FAILED"]], "expected": [["expected", "self", "_get_num_tasks_with_non_completed_state"], ["len", "altered", "expected"]], "middle_time": [["middle_time", "timezone", "utcnow"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "State", "FAILED", "middle_time"]]}, "name": "test_set_completed_dag_run_to_failed", "params": {"completed_state": "", "self": ""}, "params_descr": {"completed_state": "", "self": ""}, "params_occur": {"completed_state": [["dr", "self", "_create_test_dag_run", "completed_state", "date"]], "self": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "completed_state", "date"], ["self", "_set_default_task_instance_states", "dr"], ["altered", "set_dag_run_state_to_failed", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["expected", "self", "_get_num_tasks_with_non_completed_state"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "State", "FAILED"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "State", "FAILED", "middle_time"]]}, "params_p": {"args": [], "completed_state": [["str", 0.2960930575205975], ["app.models.user.User", 0.18967470150764104], ["app.models.User", 0.18967470150764104]], "kwargs": [], "self": []}, "q_name": "TestMarkDAGRun.test_set_completed_dag_run_to_failed", "ret_exprs": [], "ret_type": "", "variables": {"altered": "", "date": "", "dr": "", "expected": "", "middle_time": ""}, "variables_p": {"altered": [["list", 0.31800633350091756], ["int", 0.09204658456684449]], "date": [["str", 0.2485417145389313], ["Type[leasing.models.invoice.InvoiceSet]", 0.2375210815610561], ["list", 0.13467118172453632], ["datetime.datetime.datetime", 0.10419150072924643], ["datetime.datetime.date", 0.09465969979783381], ["datetime.datetime.time", 0.08787238473191941]], "dr": [["list", 0.11787218597578147], ["dict", 0.10217799074903743], ["Tuple[int]", 0.09927519140659924], ["risesdk.api.clienClient", 0.09531496357240682], ["alerta.models.alerAlert", 0.09294384334690368]], "expected": [["list", 0.5916798495990732], ["Set[int]", 0.13127744565792954], ["List[str]", 0.09297098618203968], ["Collection[int]", 0.09020176118466726]], "middle_time": [["datetime.datetime", 0.25691305262164993], ["datetime.datetime.datetime", 0.10653228520059792], ["str", 0.09048439641029594], ["datetime.date.time.datetime", 0.0890671943770923], ["datetime", 0.08811808096713163]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[654, 4], [666, 75]], "fn_var_ln": {"altered": [[660, 8], [660, 15]], "date": [[655, 8], [655, 12]], "dr": [[656, 8], [656, 10]], "middle_time": [[657, 8], [657, 19]]}, "fn_var_occur": {"altered": [["altered", "dag_run_alter_function", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["len", "altered"]], "date": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "State", "SUCCESS", "date"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "new_state"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "new_state", "middle_time"]], "dr": [["dr", "self", "_create_test_dag_run", "State", "SUCCESS", "date"], ["self", "_set_default_task_instance_states", "dr"], ["altered", "dag_run_alter_function", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["self", "_verify_task_instance_states_remain_default", "dr"]], "middle_time": [["middle_time", "timezone", "utcnow"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "new_state", "middle_time"]]}, "name": "test_set_success_dag_run_to_activate_state", "params": {"dag_run_alter_function": "typing.Callable", "new_state": "airflow.utils.state.State", "self": ""}, "params_descr": {"dag_run_alter_function": "", "new_state": "", "self": ""}, "params_occur": {"dag_run_alter_function": [["altered", "dag_run_alter_function", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"]], "new_state": [["self", "_verify_dag_run_state", "self", "dag1", "date", "new_state"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "new_state", "middle_time"]], "self": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "State", "SUCCESS", "date"], ["self", "_set_default_task_instance_states", "dr"], ["altered", "dag_run_alter_function", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "new_state"], ["self", "_verify_task_instance_states_remain_default", "dr"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "new_state", "middle_time"]]}, "params_p": {"args": [], "dag_run_alter_function": [], "kwargs": [], "new_state": [["lms.lmsdb.models.User", 0.2711169177231496], ["server.models.bike.Bike", 0.17878865173275732], ["zerver.models.Message", 0.09052580606408835], ["sqlalchemy.orm.Session", 0.08979049168782868], ["float", 0.08548087439995355]], "self": []}, "q_name": "TestMarkDAGRun.test_set_success_dag_run_to_activate_state", "ret_exprs": [], "ret_type": "", "variables": {"altered": "", "date": "", "dr": "", "middle_time": ""}, "variables_p": {"altered": [["Anaconda3.Lib.site-packages.astropy.modeling.tests.test_parameters.TParModel", 0.09629475763311246]], "date": [["datetime.datetime", 0.22981514677929862], ["datetime.date", 0.17929440047284195], ["datetime.datetime.date", 0.09221543126968611], ["str", 0.08967142317403738], ["datetime.datetime.datetime", 0.08447644433836576]], "dr": [["list", 0.2499839149553138], ["float", 0.12351894375135684], ["Tuple[int]", 0.09967174171879709], ["str", 0.08325495763664682]], "middle_time": [["int", 0.09186461566602235], ["pringles.utils.vtime.VirtualTime", 0.08142482566088512]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[672, 4], [684, 71]], "fn_var_ln": {"altered": [[678, 8], [678, 15]], "date": [[673, 8], [673, 12]], "dr": [[674, 8], [674, 10]], "middle_time": [[675, 8], [675, 19]]}, "fn_var_occur": {"altered": [["altered", "dag_run_alter_function", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["len", "altered"]], "date": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "State", "SUCCESS", "date"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "state"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "state", "middle_time"]], "dr": [["dr", "self", "_create_test_dag_run", "State", "SUCCESS", "date"], ["self", "_set_default_task_instance_states", "dr"], ["altered", "dag_run_alter_function", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["self", "_verify_task_instance_states_remain_default", "dr"]], "middle_time": [["middle_time", "timezone", "utcnow"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "state", "middle_time"]]}, "name": "test_set_failed_dag_run_to_activate_state", "params": {"dag_run_alter_function": "typing.Callable", "self": "", "state": "airflow.utils.state.State"}, "params_descr": {"dag_run_alter_function": "", "self": "", "state": ""}, "params_occur": {"dag_run_alter_function": [["altered", "dag_run_alter_function", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"]], "self": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "State", "SUCCESS", "date"], ["self", "_set_default_task_instance_states", "dr"], ["altered", "dag_run_alter_function", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "True"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "state"], ["self", "_verify_task_instance_states_remain_default", "dr"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "state", "middle_time"]], "state": [["self", "_verify_dag_run_state", "self", "dag1", "date", "state"], ["self", "_verify_dag_run_dates", "self", "dag1", "date", "state", "middle_time"]]}, "params_p": {"args": [], "dag_run_alter_function": [], "kwargs": [], "self": [], "state": [["core.models.Grouping", 0.29713875096814873]]}, "q_name": "TestMarkDAGRun.test_set_failed_dag_run_to_activate_state", "ret_exprs": [], "ret_type": "", "variables": {"altered": "", "date": "", "dr": "", "middle_time": ""}, "variables_p": {"altered": [["Anaconda3.Lib.site-packages.astropy.modeling.tests.test_parameters.TParModel", 0.09629475763311246]], "date": [["datetime.datetime", 0.22981514677929862], ["datetime.date", 0.17929440047284195], ["datetime.datetime.date", 0.09221543126968611], ["str", 0.08967142317403738], ["datetime.datetime.datetime", 0.08447644433836576]], "dr": [["list", 0.2499839149553138], ["float", 0.12351894375135684], ["Tuple[int]", 0.09967174171879709], ["str", 0.08325495763664682]], "middle_time": [["datetime.datetime.datetime", 0.3883575801443189], ["str", 0.1384572641271995], ["datetime.datetime", 0.10611344303788524], ["datetime.date.time.datetime", 0.09967483445135497]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[686, 4], [719, 60]], "fn_var_ln": {"date": [[687, 8], [687, 12]], "dr": [[688, 8], [688, 10]], "expected": [[716, 8], [716, 16]], "will_be_altered": [[713, 8], [713, 23]]}, "fn_var_occur": {"date": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "State", "RUNNING", "date"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "State", "RUNNING"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "State", "RUNNING"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "State", "RUNNING"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "State", "RUNNING"]], "dr": [["dr", "self", "_create_test_dag_run", "State", "RUNNING", "date"], ["self", "_set_default_task_instance_states", "dr"], ["will_be_altered", "set_dag_run_state_to_running", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "False"], ["self", "_verify_task_instance_states_remain_default", "dr"], ["will_be_altered", "set_dag_run_state_to_queued", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "False"], ["self", "_verify_task_instance_states_remain_default", "dr"], ["will_be_altered", "set_dag_run_state_to_failed", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "False"], ["self", "_verify_task_instance_states_remain_default", "dr"], ["will_be_altered", "set_dag_run_state_to_success", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "False"], ["self", "_verify_task_instance_states_remain_default", "dr"]], "expected": [["expected", "self", "_get_num_tasks_with_non_completed_state"], ["len", "will_be_altered", "expected"], ["expected", "self", "_get_num_tasks_with_starting_state", "State", "SUCCESS", "inclusion", "False"], ["len", "will_be_altered", "expected"]], "will_be_altered": [["will_be_altered", "set_dag_run_state_to_running", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "False"], ["len", "will_be_altered"], ["will_be_altered", "set_dag_run_state_to_queued", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "False"], ["len", "will_be_altered"], ["will_be_altered", "set_dag_run_state_to_failed", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "False"], ["len", "will_be_altered", "expected"], ["will_be_altered", "set_dag_run_state_to_success", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "False"], ["len", "will_be_altered", "expected"]]}, "name": "test_set_state_without_commit", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "State", "RUNNING", "date"], ["self", "_set_default_task_instance_states", "dr"], ["will_be_altered", "set_dag_run_state_to_running", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "False"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "State", "RUNNING"], ["self", "_verify_task_instance_states_remain_default", "dr"], ["will_be_altered", "set_dag_run_state_to_queued", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "False"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "State", "RUNNING"], ["self", "_verify_task_instance_states_remain_default", "dr"], ["will_be_altered", "set_dag_run_state_to_failed", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "False"], ["expected", "self", "_get_num_tasks_with_non_completed_state"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "State", "RUNNING"], ["self", "_verify_task_instance_states_remain_default", "dr"], ["will_be_altered", "set_dag_run_state_to_success", "dag", "self", "dag1", "run_id", "dr", "run_id", "commit", "False"], ["expected", "self", "_get_num_tasks_with_starting_state", "State", "SUCCESS", "inclusion", "False"], ["self", "_verify_dag_run_state", "self", "dag1", "date", "State", "RUNNING"], ["self", "_verify_task_instance_states_remain_default", "dr"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMarkDAGRun.test_set_state_without_commit", "ret_exprs": [], "ret_type": "", "variables": {"date": "", "dr": "", "expected": "", "will_be_altered": ""}, "variables_p": {"date": [["str", 0.3970907790060698], ["Pattern[bytes]", 0.16843959135814615], ["list", 0.0955187990385632], ["datetime.datetime.date", 0.09499625847491362], ["datetime.date.time.datetime", 0.08068653874287078]], "dr": [["int", 0.6782754775861191]], "expected": [["List[Dict[str, Any]]", 0.18892995170200064], ["str", 0.1727339076537487], ["List[Tuple[Any, Any]]", 0.10260591887580356], ["list", 0.08836814109600877], ["Dict[str, Dict[str, str]]", 0.082946607513722]], "will_be_altered": [["bool", 0.228142442105782], ["Tuple[Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal]", 0.08995959457437061], ["Dict[str, float]", 0.08945997519639114]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[748, 8], [752, 24]], "fn_var_ln": {"count": [[749, 12], [749, 17]], "subdag_counts": [[750, 12], [750, 25]]}, "fn_var_occur": {"count": [["count", "len", "dag", "tasks"], ["count", "sum", "subdag_counts"]], "subdag_counts": [["subdag_counts", "count_dag_tasks", "subdag", "subdag", "dag", "subdags"], ["count", "sum", "subdag_counts"]]}, "name": "count_dag_tasks", "params": {"dag": ""}, "params_descr": {"dag": ""}, "params_occur": {"dag": [["altered", "set_dag_run_state_to_success", "dag", "self", "dag2", "run_id", "dr2", "run_id", "commit", "True"], ["count", "len", "dag", "tasks"], ["subdag_counts", "count_dag_tasks", "subdag", "subdag", "dag", "subdags"]]}, "params_p": {"args": [], "dag": [["dict", 0.10326671642399896], ["pywirelessmbus.utils.IMSTMessage", 0.09598332144243751], ["str", 0.095889369625966]], "kwargs": [], "self": []}, "q_name": "TestMarkDAGRun.test_set_state_with_multiple_dagruns.<locals>.count_dag_tasks", "ret_exprs": ["return count"], "ret_type": "", "ret_type_p": [["str", 0.21726636648779765], ["bytes", 0.11137334121777376], ["bool", 0.10142916838373614], ["Sequence[float]", 0.0845756035539661]], "variables": {"count": "", "subdag_counts": ""}, "variables_p": {"count": [["Type[str]", 0.38890684711482126], ["int", 0.1999423374839173], ["str", 0.12091262801943818], ["Dict[int, str]", 0.10045211332982452], ["Tuple[Tuple[Literal, Literal], Tuple[Literal, Literal], Tuple[Literal, Literal], Tuple[Literal, Literal], Tuple[Literal, Literal], Tuple[Literal, Literal], Tuple[Literal, Literal]]", 0.08987076473650814]], "subdag_counts": [["int", 0.3476888986097676], ["str", 0.32925481009772634], ["dict", 0.08818556004623188], ["Dict[str, Any]", 0.0759983111297592], ["float", 0.07493530818575181]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[722, 4], [761, 85]], "fn_var_ln": {"altered": [[745, 8], [745, 15]], "dr2": [[730, 8], [730, 11]]}, "fn_var_occur": {"altered": [["len", "altered", "count_dag_tasks", "self", "dag2"]], "dr2": []}, "name": "test_set_state_with_multiple_dagruns", "params": {"self": "", "session": ""}, "params_descr": {"self": "", "session": ""}, "params_occur": {"self": [["len", "altered", "count_dag_tasks", "self", "dag2"], ["self", "_verify_dag_run_state", "self", "dag2", "self", "execution_dates", "State", "SUCCESS"], ["models", "DagRun", "find", "dag_id", "self", "dag2", "dag_id", "execution_date", "self", "execution_dates"], ["self", "_verify_dag_run_state", "self", "dag2", "self", "execution_dates", "State", "FAILED"], ["models", "DagRun", "find", "dag_id", "self", "dag2", "dag_id", "execution_date", "self", "execution_dates"], ["self", "_verify_dag_run_state", "self", "dag2", "self", "execution_dates", "State", "RUNNING"]], "session": []}, "params_p": {"args": [], "kwargs": [], "self": [], "session": [["bool", 0.5085327136645598], ["id3c.db.session.DatabaseSession", 0.09231737947269639]]}, "q_name": "TestMarkDAGRun.test_set_state_with_multiple_dagruns", "ret_exprs": [], "ret_type": "", "variables": {"altered": "", "dr2": ""}, "variables_p": {"altered": [], "dr2": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[763, 4], [791, 96]], "fn_var_ln": {"altered": [[781, 8], [781, 15]]}, "fn_var_occur": {"altered": [["altered", "set_dag_run_state_to_success", "dag", "None", "execution_date", "self", "execution_dates"], ["len", "altered"], ["altered", "set_dag_run_state_to_failed", "dag", "None", "execution_date", "self", "execution_dates"], ["len", "altered"], ["altered", "set_dag_run_state_to_running", "dag", "None", "execution_date", "self", "execution_dates"], ["len", "altered"], ["altered", "set_dag_run_state_to_queued", "dag", "None", "execution_date", "self", "execution_dates"], ["len", "altered"], ["altered", "set_dag_run_state_to_success", "dag", "self", "dag1", "run_id", "None"], ["len", "altered"], ["altered", "set_dag_run_state_to_failed", "dag", "self", "dag1", "run_id", "None"], ["len", "altered"], ["altered", "set_dag_run_state_to_running", "dag", "self", "dag1", "run_id", "None"], ["len", "altered"], ["altered", "set_dag_run_state_to_queued", "dag", "self", "dag1", "run_id", "None"], ["len", "altered"]]}, "name": "test_set_dag_run_state_edge_cases", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["altered", "set_dag_run_state_to_success", "dag", "None", "execution_date", "self", "execution_dates"], ["altered", "set_dag_run_state_to_failed", "dag", "None", "execution_date", "self", "execution_dates"], ["altered", "set_dag_run_state_to_running", "dag", "None", "execution_date", "self", "execution_dates"], ["altered", "set_dag_run_state_to_queued", "dag", "None", "execution_date", "self", "execution_dates"], ["altered", "set_dag_run_state_to_success", "dag", "self", "dag1", "run_id", "None"], ["altered", "set_dag_run_state_to_failed", "dag", "self", "dag1", "run_id", "None"], ["altered", "set_dag_run_state_to_running", "dag", "self", "dag1", "run_id", "None"], ["altered", "set_dag_run_state_to_queued", "dag", "self", "dag1", "run_id", "None"], ["set_dag_run_state_to_success", "dag", "self", "dag2", "run_id"], ["set_dag_run_state_to_success", "dag", "self", "dag2", "run_id"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMarkDAGRun.test_set_dag_run_state_edge_cases", "ret_exprs": [], "ret_type": "", "variables": {"altered": ""}, "variables_p": {"altered": [["list", 0.19969091020684474], ["int", 0.10404973685592457], ["Coroutine[Any, Any, None]", 0.10135186453767253], ["bool", 0.09455492719973475]]}}, {"docstring": {"func": "set_dag_run_state_to_failed when there are no running tasks to update", "long_descr": null, "ret": null}, "fn_lc": [[793, 4], [802, 68]], "fn_var_ln": {"date": [[797, 8], [797, 12]], "dr": [[798, 8], [798, 10]]}, "fn_var_occur": {"date": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "State", "SUCCESS", "date"]], "dr": [["dr", "self", "_create_test_dag_run", "State", "SUCCESS", "date"], ["dr", "get_task_instance", "task", "task_id", "set_state", "State", "SUCCESS"], ["set_dag_run_state_to_failed", "dag", "self", "dag1", "run_id", "dr", "run_id"]]}, "name": "test_set_dag_run_state_to_failed_no_running_tasks", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["date", "self", "execution_dates"], ["dr", "self", "_create_test_dag_run", "State", "SUCCESS", "date"], ["self", "dag1", "tasks"], ["set_dag_run_state_to_failed", "dag", "self", "dag1", "run_id", "dr", "run_id"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMarkDAGRun.test_set_dag_run_state_to_failed_no_running_tasks", "ret_exprs": [], "ret_type": "", "variables": {"date": "", "dr": ""}, "variables_p": {"date": [["datetime.datetime.date", 0.11219309730892622], ["Type[prm.journals.models.moods.Mood]", 0.10417513917100583], ["datetime.timedelta", 0.10135219008262882], ["int", 0.10111360001413275], ["datetime.date", 0.09443125375286614], ["datetime.datetime.timedelta", 0.09235163209823426]], "dr": [["Optional[magic.models.deck.Deck]", 0.20229833570513378], ["int", 0.19276500732719126], ["bool", 0.10900537014133167], ["raiden.utils.PaymentID", 0.10715860525154944], ["list", 0.09973192186465672], ["raiden.utils.PaymentAmount", 0.09438468247112716], ["List[str]", 0.08961709810359335]]}}], "name": "TestMarkDAGRun", "q_name": "TestMarkDAGRun", "variables": {"INITIAL_TASK_STATES": ""}, "variables_p": {"INITIAL_TASK_STATES": [["Optional[Dict[str, Any]]", 0.27183348768982585], ["str", 0.23480780436417573], ["bool", 0.13403687373318904], ["int", 0.10627271215530906], ["Type[Dict[str, Any]]", 0.08425129745974255]]}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[48, 0], [54, 41]], "fn_var_ln": {"non_serialized_dagbag": [[52, 4], [52, 25]]}, "fn_var_occur": {"non_serialized_dagbag": [["non_serialized_dagbag", "DagBag", "read_dags_from_db", "False", "include_examples", "True"], ["non_serialized_dagbag", "sync_to_db"]]}, "name": "dagbag", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "dagbag", "ret_exprs": ["return DagBag(read_dags_from_db=True)"], "ret_type": "", "ret_type_p": [["IO[str]", 0.13927392907332312], ["raiden.utils.TokenAmount", 0.10227027691965349], ["cmk.utils.type_defs.HostName", 0.10046049291636155], ["cmk.utils.type_defs.ServiceName", 0.10046049291636155], ["str", 0.09848603510444305], ["int", 0.09379279132650341]], "variables": {"non_serialized_dagbag": ""}, "variables_p": {"non_serialized_dagbag": [["int", 0.17644004428543297], ["Tuple[str]", 0.11424972907403556], ["str", 0.10703225840606032], ["bytes", 0.0969727110029024], ["Tuple[int, int]", 0.09625214709551061]]}}], "imports": ["__future__", "annotations", "datetime", "typing", "Callable", "pytest", "sqlalchemy", "orm", "eagerload", "airflow", "models", "airflow", "api", "common", "mark_tasks", "_create_dagruns", "_DagRunInfo", "set_dag_run_state_to_failed", "set_dag_run_state_to_queued", "set_dag_run_state_to_running", "set_dag_run_state_to_success", "set_state", "airflow", "models", "DagRun", "airflow", "utils", "timezone", "airflow", "utils", "session", "create_session", "provide_session", "airflow", "utils", "state", "State", "airflow", "utils", "types", "DagRunType", "tests", "test_utils", "db", "clear_db_runs", "tests", "test_utils", "mapping", "expand_mapped_task", "airflow", "models", "dagbag", "DagBag"], "mod_var_ln": {"DEV_NULL": [[44, 0], [44, 8]]}, "mod_var_occur": {"DEV_NULL": []}, "no_types_annot": {"D": 9, "I": 0, "U": 183}, "session_id": "dQrAx9cYHS5GJ6JKv6v9Zm73KTERVlJqiaiiWkE-suU", "set": null, "tc": [false, null], "type_annot_cove": 0.05, "typed_seq": "", "untyped_seq": "", "variables": {"DEV_NULL": ""}, "variables_p": {"DEV_NULL": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}}