{"error": null, "response": {"classes": [{"cls_lc": [[41, 0], [44, 42]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[42, 4], [44, 42]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_delete_dag_non_existent_dag", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDeleteDAGCatchError.test_delete_dag_non_existent_dag", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "TestDeleteDAGCatchError", "q_name": "TestDeleteDAGCatchError", "variables": {}, "variables_p": {}}, {"cls_lc": [[47, 0], [63, 30]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[48, 4], [50, 23]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDeleteDAGErrorsOnRunningTI.setup_method", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[52, 4], [54, 23]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "teardown_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDeleteDAGErrorsOnRunningTI.teardown_method", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[56, 4], [63, 30]], "fn_var_ln": {"dag_id": [[57, 8], [57, 14]], "state": [[60, 8], [60, 16]], "ti": [[58, 8], [58, 10]]}, "fn_var_occur": {"dag_id": [["ti", "create_task_instance", "dag_id", "dag_id", "session", "session"], ["delete_dag", "dag_id"]], "state": [["ti", "state", "State", "RUNNING"]], "ti": [["ti", "create_task_instance", "dag_id", "dag_id", "session", "session"], ["ti", "state", "State", "RUNNING"]]}, "name": "test_delete_dag_running_taskinstances", "params": {"create_task_instance": "", "self": "", "session": ""}, "params_descr": {"create_task_instance": "", "self": "", "session": ""}, "params_occur": {"create_task_instance": [["ti", "create_task_instance", "dag_id", "dag_id", "session", "session"]], "self": [], "session": [["ti", "create_task_instance", "dag_id", "dag_id", "session", "session"], ["session", "commit"]]}, "params_p": {"args": [], "create_task_instance": [["bob_emploi.frontend.api.user_pb2.User", 0.2119954905224649], ["app.models.Game", 0.11970663072005334], ["str", 0.09328012283277975], ["grouper.models.user.User", 0.09328012283277975], ["lunch_buddies.types.GroupsToNotifyMessage", 0.09191619400123176]], "kwargs": [], "self": [], "session": [["bob_emploi.frontend.api.user_pb2.User", 0.20483293363054406], ["lunch_buddies.types.GroupsToNotifyMessage", 0.11073623831376041], ["app.models.Game", 0.10920083942474808], ["str", 0.09454167974184542], ["grouper.models.user.User", 0.09454167974184542], ["sqlalchemy.orm.session.Session", 0.09436964222955437]]}, "q_name": "TestDeleteDAGErrorsOnRunningTI.test_delete_dag_running_taskinstances", "ret_exprs": [], "ret_type": "", "variables": {"dag_id": "", "state": "", "ti": ""}, "variables_p": {"dag_id": [["int", 0.21933987453367693], ["Pattern[Any]", 0.1342590090336683], ["Optional[str]", 0.10449870117465218]], "state": [["str", 0.7999999999999999], ["Dict[str, str]", 0.1]], "ti": [["str", 0.7119332812890566], ["int", 0.19512881789770234], ["List[dict]", 0.09293790081324119]]}}], "name": "TestDeleteDAGErrorsOnRunningTI", "q_name": "TestDeleteDAGErrorsOnRunningTI", "variables": {}, "variables_p": {}}, {"cls_lc": [[66, 0], [178, 88]], "cls_var_ln": {"dag_file_path": [[67, 4], [67, 17]], "key": [[68, 4], [68, 7]]}, "cls_var_occur": {"dag_file_path": [], "key": []}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[70, 4], [116, 13]], "fn_var_ln": {"dag_run": [[85, 12], [85, 22]], "dr": [[83, 12], [83, 14]], "key": [[72, 12], [72, 20]], "task": [[74, 8], [74, 12]], "test_date": [[80, 8], [80, 17]], "ti": [[84, 12], [84, 14]]}, "fn_var_occur": {"dag_run": [["ti", "dag_run", "dr"]], "dr": [["dr", "DR", "dag_id", "self", "key", "run_type", "DagRunType", "MANUAL", "run_id", "execution_date", "test_date"], ["ti", "dag_run", "dr"], ["session", "add_all", "dr", "ti"]], "key": [["self", "key"], ["task", "EmptyOperator", "task_id", "dag", "models", "DAG", "dag_id", "self", "key", "default_args", "timezone", "datetime", "owner"], ["session", "add", "DM", "dag_id", "self", "key", "fileloc", "self", "dag_file_path", "is_subdag", "for_sub_dag"], ["dr", "DR", "dag_id", "self", "key", "run_type", "DagRunType", "MANUAL", "run_id", "execution_date", "test_date"], ["session", "add", "LOG", "dag_id", "self", "key", "task_id", "None", "task_instance", "None", "execution_date", "test_date", "event"]], "task": [["task", "EmptyOperator", "task_id", "dag", "models", "DAG", "dag_id", "self", "key", "default_args", "timezone", "datetime", "owner"], ["ti", "TI", "task", "task", "state", "State", "SUCCESS"], ["session", "add", "TR", "task", "ti", "task", "run_id", "ti", "run_id", "start_date", "test_date", "end_date", "test_date", "try_number", "reschedule_date", "test_date"]], "test_date": [["test_date", "timezone", "datetime"], ["dr", "DR", "dag_id", "self", "key", "run_type", "DagRunType", "MANUAL", "run_id", "execution_date", "test_date"], ["session", "add", "LOG", "dag_id", "self", "key", "task_id", "None", "task_instance", "None", "execution_date", "test_date", "event"], ["session", "add", "TR", "task", "ti", "task", "run_id", "ti", "run_id", "start_date", "test_date", "end_date", "test_date", "try_number", "reschedule_date", "test_date"], ["session", "add", "IE", "timestamp", "test_date", "filename", "self", "dag_file_path", "stacktrace"]], "ti": [["ti", "TI", "task", "task", "state", "State", "SUCCESS"], ["ti", "dag_run", "dr"], ["session", "add_all", "dr", "ti"], ["session", "add", "TF", "ti", "ti"], ["session", "add", "TR", "task", "ti", "task", "run_id", "ti", "run_id", "start_date", "test_date", "end_date", "test_date", "try_number", "reschedule_date", "test_date"]]}, "name": "setup_dag_models", "params": {"for_sub_dag": "", "self": ""}, "params_descr": {"for_sub_dag": "", "self": ""}, "params_occur": {"for_sub_dag": [["session", "add", "DM", "dag_id", "self", "key", "fileloc", "self", "dag_file_path", "is_subdag", "for_sub_dag"]], "self": [["self", "key"], ["task", "EmptyOperator", "task_id", "dag", "models", "DAG", "dag_id", "self", "key", "default_args", "timezone", "datetime", "owner"], ["session", "add", "DM", "dag_id", "self", "key", "fileloc", "self", "dag_file_path", "is_subdag", "for_sub_dag"], ["dr", "DR", "dag_id", "self", "key", "run_type", "DagRunType", "MANUAL", "run_id", "execution_date", "test_date"], ["session", "add", "LOG", "dag_id", "self", "key", "task_id", "None", "task_instance", "None", "execution_date", "test_date", "event"], ["session", "add", "IE", "timestamp", "test_date", "filename", "self", "dag_file_path", "stacktrace"]]}, "params_p": {"args": [], "for_sub_dag": [["dict", 0.31859809215525803], ["str", 0.19098874773249647], ["bytes", 0.10280140300219219], ["T", 0.0958951190796792], ["bool", 0.09206065792504797]], "kwargs": [], "self": []}, "q_name": "TestDeleteDAGSuccessfulDelete.setup_dag_models", "ret_exprs": [], "ret_type": "", "variables": {"dag_run": "", "dr": "", "key": "", "task": "", "test_date": "", "ti": ""}, "variables_p": {"dag_run": [["str", 0.9999999999999999]], "dr": [["str", 0.39716042821400344], ["Tuple[Any, Any, Any, Any, Any, Any, Any, Any, Any, Any]", 0.16092597680916246], ["Dict[str, Dict[str, int]]", 0.09115917990831798]], "key": [["Set[str]", 0.4070723956123453], ["str", 0.22405020820210125], ["jumeaux.models.DiffKeys", 0.09164223250830823], ["Tuple[Literal, Literal]", 0.08797726993050294], ["Dict[str, Union[Any, Any]]", 0.08577345994100484]], "task": [], "test_date": [["str", 0.11734338492701382]], "ti": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[118, 4], [126, 80]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "teardown_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["session", "query", "TR", "filter", "TR", "dag_id", "self", "key", "delete"], ["session", "query", "TF", "filter", "TF", "dag_id", "self", "key", "delete"], ["session", "query", "TI", "filter", "TI", "dag_id", "self", "key", "delete"], ["session", "query", "DR", "filter", "DR", "dag_id", "self", "key", "delete"], ["session", "query", "DM", "filter", "DM", "dag_id", "self", "key", "delete"], ["session", "query", "LOG", "filter", "LOG", "dag_id", "self", "key", "delete"], ["session", "query", "IE", "filter", "IE", "filename", "self", "dag_file_path", "delete"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDeleteDAGSuccessfulDelete.teardown_method", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[128, 4], [136, 91]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "check_dag_models_exists", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["session", "query", "DM", "filter", "DM", "dag_id", "self", "key", "count"], ["session", "query", "DR", "filter", "DR", "dag_id", "self", "key", "count"], ["session", "query", "TI", "filter", "TI", "dag_id", "self", "key", "count"], ["session", "query", "TF", "filter", "TF", "dag_id", "self", "key", "count"], ["session", "query", "TR", "filter", "TR", "dag_id", "self", "key", "count"], ["session", "query", "LOG", "filter", "LOG", "dag_id", "self", "key", "count"], ["session", "query", "IE", "filter", "IE", "filename", "self", "dag_file_path", "count"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDeleteDAGSuccessfulDelete.check_dag_models_exists", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[138, 4], [146, 91]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "check_dag_models_removed", "params": {"expect_logs": "", "self": ""}, "params_descr": {"expect_logs": "", "self": ""}, "params_occur": {"expect_logs": [["session", "query", "LOG", "filter", "LOG", "dag_id", "self", "key", "count", "expect_logs"]], "self": [["session", "query", "DM", "filter", "DM", "dag_id", "self", "key", "count"], ["session", "query", "DR", "filter", "DR", "dag_id", "self", "key", "count"], ["session", "query", "TI", "filter", "TI", "dag_id", "self", "key", "count"], ["session", "query", "TF", "filter", "TF", "dag_id", "self", "key", "count"], ["session", "query", "TR", "filter", "TR", "dag_id", "self", "key", "count"], ["session", "query", "LOG", "filter", "LOG", "dag_id", "self", "key", "count", "expect_logs"], ["session", "query", "IE", "filter", "IE", "filename", "self", "dag_file_path", "count"]]}, "params_p": {"args": [], "expect_logs": [["str", 0.7097171685967827], ["Set[str]", 0.17688221296132373], ["List[\"libkol.Item\"]", 0.11340061844189371]], "kwargs": [], "self": []}, "q_name": "TestDeleteDAGSuccessfulDelete.check_dag_models_removed", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[148, 4], [152, 52]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_delete_dag_successful_delete", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "setup_dag_models"], ["self", "check_dag_models_exists"], ["delete_dag", "dag_id", "self", "key"], ["self", "check_dag_models_removed", "expect_logs"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDeleteDAGSuccessfulDelete.test_delete_dag_successful_delete", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[154, 4], [158, 52]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_delete_dag_successful_delete_not_keeping_records_in_log", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "setup_dag_models"], ["self", "check_dag_models_exists"], ["delete_dag", "dag_id", "self", "key", "keep_records_in_log", "False"], ["self", "check_dag_models_removed", "expect_logs"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDeleteDAGSuccessfulDelete.test_delete_dag_successful_delete_not_keeping_records_in_log", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[160, 4], [164, 52]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_delete_subdag_successful_delete", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "setup_dag_models", "for_sub_dag", "True"], ["self", "check_dag_models_exists"], ["delete_dag", "dag_id", "self", "key", "keep_records_in_log", "False"], ["self", "check_dag_models_removed", "expect_logs"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDeleteDAGSuccessfulDelete.test_delete_subdag_successful_delete", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[166, 4], [178, 88]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_delete_dag_preserves_other_dags", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "setup_dag_models"], ["session", "add", "DM", "dag_id", "self", "key", "fileloc", "self", "dag_file_path"], ["session", "add", "DM", "dag_id", "self", "key", "fileloc", "self", "dag_file_path", "is_subdag", "True"], ["delete_dag", "self", "key"], ["session", "query", "DM", "filter", "DM", "dag_id", "self", "key", "count"], ["session", "query", "DM", "filter", "DM", "dag_id", "like", "self", "key", "count"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDeleteDAGSuccessfulDelete.test_delete_dag_preserves_other_dags", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "TestDeleteDAGSuccessfulDelete", "q_name": "TestDeleteDAGSuccessfulDelete", "variables": {"dag_file_path": "", "key": ""}, "variables_p": {"dag_file_path": [["str", 0.7999999999999999], ["Optional[str]", 0.09999999999999999], ["click.types.Path", 0.09999999999999999]], "key": [["str", 0.5], ["int", 0.30000000000000004], ["Optional[str]", 0.1], ["Type[x509_pki.models.Certificate]", 0.1]]}}], "funcs": [], "imports": ["__future__", "annotations", "pytest", "airflow", "models", "airflow", "api", "common", "delete_dag", "delete_dag", "airflow", "exceptions", "AirflowException", "DagNotFound", "airflow", "operators", "empty", "EmptyOperator", "airflow", "utils", "timezone", "airflow", "utils", "session", "create_session", "airflow", "utils", "state", "State", "airflow", "utils", "types", "DagRunType", "tests", "test_utils", "db", "clear_db_dags", "clear_db_runs"], "mod_var_ln": {"DM": [[32, 0], [32, 2]], "DR": [[33, 0], [33, 2]], "IE": [[38, 0], [38, 2]], "LOG": [[35, 0], [35, 3]], "TF": [[36, 0], [36, 2]], "TI": [[34, 0], [34, 2]], "TR": [[37, 0], [37, 2]]}, "mod_var_occur": {"DM": [["session", "add", "DM", "dag_id", "self", "key", "fileloc", "self", "dag_file_path", "is_subdag", "for_sub_dag"], ["session", "query", "DM", "filter", "DM", "dag_id", "self", "key", "delete"], ["session", "query", "DM", "filter", "DM", "dag_id", "self", "key", "count"], ["session", "query", "DM", "filter", "DM", "dag_id", "self", "key", "count"], ["session", "add", "DM", "dag_id", "self", "key", "fileloc", "self", "dag_file_path"], ["session", "add", "DM", "dag_id", "self", "key", "fileloc", "self", "dag_file_path", "is_subdag", "True"], ["session", "query", "DM", "filter", "DM", "dag_id", "self", "key", "count"], ["session", "query", "DM", "filter", "DM", "dag_id", "like", "self", "key", "count"]], "DR": [["dr", "DR", "dag_id", "self", "key", "run_type", "DagRunType", "MANUAL", "run_id", "execution_date", "test_date"], ["session", "query", "DR", "filter", "DR", "dag_id", "self", "key", "delete"], ["session", "query", "DR", "filter", "DR", "dag_id", "self", "key", "count"], ["session", "query", "DR", "filter", "DR", "dag_id", "self", "key", "count"]], "IE": [["session", "add", "IE", "timestamp", "test_date", "filename", "self", "dag_file_path", "stacktrace"], ["session", "query", "IE", "filter", "IE", "filename", "self", "dag_file_path", "delete"], ["session", "query", "IE", "filter", "IE", "filename", "self", "dag_file_path", "count"], ["session", "query", "IE", "filter", "IE", "filename", "self", "dag_file_path", "count"]], "LOG": [["session", "add", "LOG", "dag_id", "self", "key", "task_id", "None", "task_instance", "None", "execution_date", "test_date", "event"], ["session", "query", "LOG", "filter", "LOG", "dag_id", "self", "key", "delete"], ["session", "query", "LOG", "filter", "LOG", "dag_id", "self", "key", "count"], ["session", "query", "LOG", "filter", "LOG", "dag_id", "self", "key", "count", "expect_logs"]], "TF": [["session", "add", "TF", "ti", "ti"], ["session", "query", "TF", "filter", "TF", "dag_id", "self", "key", "delete"], ["session", "query", "TF", "filter", "TF", "dag_id", "self", "key", "count"], ["session", "query", "TF", "filter", "TF", "dag_id", "self", "key", "count"]], "TI": [["ti", "TI", "task", "task", "state", "State", "SUCCESS"], ["session", "query", "TI", "filter", "TI", "dag_id", "self", "key", "delete"], ["session", "query", "TI", "filter", "TI", "dag_id", "self", "key", "count"], ["session", "query", "TI", "filter", "TI", "dag_id", "self", "key", "count"]], "TR": [["session", "add", "TR", "task", "ti", "task", "run_id", "ti", "run_id", "start_date", "test_date", "end_date", "test_date", "try_number", "reschedule_date", "test_date"], ["session", "query", "TR", "filter", "TR", "dag_id", "self", "key", "delete"], ["session", "query", "TR", "filter", "TR", "dag_id", "self", "key", "count"], ["session", "query", "TR", "filter", "TR", "dag_id", "self", "key", "count"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 34}, "session_id": "34eCiMfM54jxem8OFsSCT1QsmkjlQ60uYi4RkspZ1cs", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"DM": "", "DR": "", "IE": "", "LOG": "", "TF": "", "TI": "", "TR": ""}, "variables_p": {"DM": [["Dict[str, List[Any]]", 0.10166991855781116], ["dict", 0.09564132480958211], ["Iterator[Tuple[int, Any]]", 0.09250829274610352], ["qutebrowser.utils.urlmatch.UrlPattern", 0.08900954620917712], ["Dict[str, Set]", 0.08596859353899723]], "DR": [["dict", 0.27744574697230046], ["str", 0.12733398054690118], ["Tuple[Any, Any, Any, Any, Any, Any, Any, Any, Any, Any]", 0.11515535594147554], ["Dict[str, Dict[str, int]]", 0.09587278481593534], ["Dict[str, Any]", 0.09581102224716455], ["float", 0.09241012087202985]], "IE": [["int", 0.2740139748855028], ["Optional[magic.models.deck.Deck]", 0.26132253209556994], ["List[str]", 0.12112947825655321], ["Type[str]", 0.08917809302432876], ["str", 0.08344047948630147]], "LOG": [["List[Dict[str, Any]]", 0.26866654399313206], ["list", 0.13219785069699605], ["int", 0.12683319037216026], ["synotools.common.logging.PasswordMaskingFilter", 0.10403457788386425], ["zerver.models.RealmAuditLog", 0.10276243083000111]], "TF": [["DefaultDict[Any, dict]", 0.19761392638235842], ["Tuple[Any, Any, Any]", 0.09276954818005863], ["dict", 0.08941560589670969], ["Dict[str, Dict[str, str]]", 0.08445657967999519]], "TI": [["dict", 0.20030026908748427], ["Optional[str]", 0.14962663385051325], ["pydynasync.models.Changes", 0.10489584277077664], ["str", 0.0883401254872114]], "TR": [["list", 0.3092569100810152], ["set", 0.17133270794479516], ["dict", 0.12156504244799778]]}}}