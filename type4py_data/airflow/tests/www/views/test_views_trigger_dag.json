{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[38, 0], [43, 38]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "initialize_one_dag", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "initialize_one_dag", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[46, 0], [49, 96]], "fn_var_ln": {"resp": [[47, 4], [47, 8]]}, "fn_var_occur": {"resp": [["resp", "admin_client", "get", "follow_redirects", "True"], ["resp", "data", "decode"], ["resp", "data", "decode"]]}, "name": "test_trigger_dag_button_normal_exist", "params": {"admin_client": ""}, "params_descr": {"admin_client": ""}, "params_occur": {"admin_client": [["resp", "admin_client", "get", "follow_redirects", "True"]]}, "params_p": {"admin_client": [], "args": [], "kwargs": []}, "q_name": "test_trigger_dag_button_normal_exist", "ret_exprs": [], "ret_type": "", "variables": {"resp": ""}, "variables_p": {"resp": [["dict", 0.28773753693941195], ["str", 0.19836326814447414], ["Generator[Any, None, None]", 0.09204045784326075]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[56, 0], [63, 40]], "fn_var_ln": {"run": [[60, 8], [60, 11]], "test_dag_id": [[57, 4], [57, 15]]}, "fn_var_occur": {"run": [["run", "session", "query", "DagRun", "filter", "DagRun", "dag_id", "test_dag_id", "first"], ["run", "None"], ["run", "run_type", "DagRunType", "MANUAL"], ["expected_run_id", "run", "run_id"]], "test_dag_id": [["admin_client", "post", "test_dag_id", "req"], ["run", "session", "query", "DagRun", "filter", "DagRun", "dag_id", "test_dag_id", "first"]]}, "name": "test_trigger_dag_button", "params": {"admin_client": "", "expected_run_id": "", "req": ""}, "params_descr": {"admin_client": "", "expected_run_id": "", "req": ""}, "params_occur": {"admin_client": [["admin_client", "post", "test_dag_id", "req"]], "expected_run_id": [["expected_run_id", "run", "run_id"]], "req": [["admin_client", "post", "test_dag_id", "req"]]}, "params_p": {"admin_client": [["str", 0.8893272274979314]], "args": [], "expected_run_id": [["str", 1.0]], "kwargs": [], "req": [["str", 0.8893272274979314]]}, "q_name": "test_trigger_dag_button", "ret_exprs": [], "ret_type": "", "variables": {"run": "", "test_dag_id": ""}, "variables_p": {"run": [["int", 0.608769069890932], ["Dict[str, Dict[str, Any]]", 0.10552681519914406], ["Pattern[str]", 0.10518807122238887], ["dict", 0.09158273530450274], ["datetime.datetime", 0.08893330838303223]], "test_dag_id": [["str", 0.8136132394751534], ["Set[int]", 0.18638676052484668]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[66, 0], [71, 78]], "fn_var_ln": {"response": [[70, 4], [70, 12]], "run_id": [[68, 4], [68, 10]], "test_dag_id": [[67, 4], [67, 15]]}, "fn_var_occur": {"response": [["response", "admin_client", "post", "test_dag_id", "run_id", "follow_redirects", "True"], ["check_content_in_response", "run_id", "response"]], "run_id": [["admin_client", "post", "test_dag_id", "run_id", "follow_redirects", "True"], ["response", "admin_client", "post", "test_dag_id", "run_id", "follow_redirects", "True"], ["check_content_in_response", "run_id", "response"]], "test_dag_id": [["admin_client", "post", "test_dag_id", "run_id", "follow_redirects", "True"], ["response", "admin_client", "post", "test_dag_id", "run_id", "follow_redirects", "True"]]}, "name": "test_duplicate_run_id", "params": {"admin_client": ""}, "params_descr": {"admin_client": ""}, "params_occur": {"admin_client": [["admin_client", "post", "test_dag_id", "run_id", "follow_redirects", "True"], ["response", "admin_client", "post", "test_dag_id", "run_id", "follow_redirects", "True"]]}, "params_p": {"admin_client": [], "args": [], "kwargs": []}, "q_name": "test_duplicate_run_id", "ret_exprs": [], "ret_type": "", "variables": {"response": "", "run_id": "", "test_dag_id": ""}, "variables_p": {"response": [["str", 0.5999742604595083], ["Dict[str, str]", 0.21378274873917152], ["Dict[str, Union[Any, Any, Any]]", 0.09488451792919451], ["int", 0.09135847287212567]], "run_id": [["str", 0.8947646699690249], ["int", 0.105235330030975]], "test_dag_id": [["str", 0.9130220569255892], ["Union[Literal, str]", 0.0869779430744108]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[74, 0], [85, 32]], "fn_var_ln": {"conf_dict": [[76, 4], [76, 13]], "run": [[81, 8], [81, 11]], "test_dag_id": [[75, 4], [75, 15]]}, "fn_var_occur": {"conf_dict": [["admin_client", "post", "test_dag_id", "data", "json", "dumps", "conf_dict"], ["run", "conf", "conf_dict"]], "run": [["run", "session", "query", "DagRun", "filter", "DagRun", "dag_id", "test_dag_id", "first"], ["run", "None"], ["DagRunType", "MANUAL", "run", "run_id"], ["run", "run_type", "DagRunType", "MANUAL"], ["run", "conf", "conf_dict"]], "test_dag_id": [["admin_client", "post", "test_dag_id", "data", "json", "dumps", "conf_dict"], ["run", "session", "query", "DagRun", "filter", "DagRun", "dag_id", "test_dag_id", "first"]]}, "name": "test_trigger_dag_conf", "params": {"admin_client": ""}, "params_descr": {"admin_client": ""}, "params_occur": {"admin_client": [["admin_client", "post", "test_dag_id", "data", "json", "dumps", "conf_dict"]]}, "params_p": {"admin_client": [["core.models.Recipe", 0.089942347764621]], "args": [], "kwargs": []}, "q_name": "test_trigger_dag_conf", "ret_exprs": [], "ret_type": "", "variables": {"conf_dict": "", "run": "", "test_dag_id": ""}, "variables_p": {"conf_dict": [["Dict[str, str]", 0.47317936678126105], ["Dict[str, List[str]]", 0.20938794931361004], ["Dict[Any, Union[Any, Any]]", 0.08212964902418197], ["Dict[str, Dict[str, Any]]", 0.07910507520675186], ["Dict[str, Type[Any]]", 0.07841621094538215], ["Dict[str, Union[Any, Any, Any, Any]]", 0.07778174872881291]], "run": [["int", 0.5971106900956251], ["Pattern[str]", 0.11651262312221637], ["Dict[str, Dict[str, Any]]", 0.09693210605441986], ["dict", 0.09562311595018531], ["set", 0.0938214647775533]], "test_dag_id": [["str", 0.3731417713895319], ["legistar.models.MatterCodeSection", 0.11543428622055847], ["Pattern[str]", 0.11276266729144126], ["Dict[str, int]", 0.10224283777353231], ["Dict[str, str]", 0.09535404408049261]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[88, 0], [96, 22]], "fn_var_ln": {"response": [[91, 4], [91, 12]], "run": [[95, 8], [95, 11]], "test_dag_id": [[89, 4], [89, 15]]}, "fn_var_occur": {"response": [["response", "admin_client", "post", "test_dag_id", "data"], ["check_content_in_response", "response"]], "run": [["run", "session", "query", "DagRun", "filter", "DagRun", "dag_id", "test_dag_id", "first"], ["run", "None"]], "test_dag_id": [["response", "admin_client", "post", "test_dag_id", "data"], ["run", "session", "query", "DagRun", "filter", "DagRun", "dag_id", "test_dag_id", "first"]]}, "name": "test_trigger_dag_conf_malformed", "params": {"admin_client": ""}, "params_descr": {"admin_client": ""}, "params_occur": {"admin_client": [["response", "admin_client", "post", "test_dag_id", "data"]]}, "params_p": {"admin_client": [], "args": [], "kwargs": []}, "q_name": "test_trigger_dag_conf_malformed", "ret_exprs": [], "ret_type": "", "variables": {"response": "", "run": "", "test_dag_id": ""}, "variables_p": {"response": [["str", 0.28715485040747724], ["dict", 0.08993612061311623]], "run": [["int", 0.6297641041811658], ["set", 0.09698686705498996], ["Dict[str, Union[datetime.timedelta, str]]", 0.08437618721812067], ["Dict[str, Dict[str, Any]]", 0.08423321338274588]], "test_dag_id": [["str", 0.4992534761089179], ["dict", 0.1114666869564756], ["Dict[str, int]", 0.10564520042772962], ["int", 0.09482229101010071]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[99, 0], [107, 22]], "fn_var_ln": {"response": [[102, 4], [102, 12]], "run": [[106, 8], [106, 11]], "test_dag_id": [[100, 4], [100, 15]]}, "fn_var_occur": {"response": [["response", "admin_client", "post", "test_dag_id", "data"], ["check_content_in_response", "response"]], "run": [["run", "session", "query", "DagRun", "filter", "DagRun", "dag_id", "test_dag_id", "first"], ["run", "None"]], "test_dag_id": [["response", "admin_client", "post", "test_dag_id", "data"], ["run", "session", "query", "DagRun", "filter", "DagRun", "dag_id", "test_dag_id", "first"]]}, "name": "test_trigger_dag_conf_not_dict", "params": {"admin_client": ""}, "params_descr": {"admin_client": ""}, "params_occur": {"admin_client": [["response", "admin_client", "post", "test_dag_id", "data"]]}, "params_p": {"admin_client": [], "args": [], "kwargs": []}, "q_name": "test_trigger_dag_conf_not_dict", "ret_exprs": [], "ret_type": "", "variables": {"response": "", "run": "", "test_dag_id": ""}, "variables_p": {"response": [["str", 0.28715485040747724], ["dict", 0.08993612061311623]], "run": [["int", 0.6297641041811658], ["set", 0.09698686705498996], ["Dict[str, Union[datetime.timedelta, str]]", 0.08437618721812067], ["Dict[str, Dict[str, Any]]", 0.08423321338274588]], "test_dag_id": [["str", 0.4992534761089179], ["dict", 0.1114666869564756], ["Dict[str, int]", 0.10564520042772962], ["int", 0.09482229101010071]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[110, 0], [118, 22]], "fn_var_ln": {"response": [[113, 4], [113, 12]], "run": [[117, 8], [117, 11]], "test_dag_id": [[111, 4], [111, 15]]}, "fn_var_occur": {"response": [["response", "admin_client", "post", "test_dag_id", "data"], ["check_content_in_response", "response"]], "run": [["run", "session", "query", "DagRun", "filter", "DagRun", "dag_id", "test_dag_id", "first"], ["run", "None"]], "test_dag_id": [["response", "admin_client", "post", "test_dag_id", "data"], ["run", "session", "query", "DagRun", "filter", "DagRun", "dag_id", "test_dag_id", "first"]]}, "name": "test_trigger_dag_wrong_execution_date", "params": {"admin_client": ""}, "params_descr": {"admin_client": ""}, "params_occur": {"admin_client": [["response", "admin_client", "post", "test_dag_id", "data"]]}, "params_p": {"admin_client": [["core.models.Recipe", 0.08951858847735514]], "args": [], "kwargs": []}, "q_name": "test_trigger_dag_wrong_execution_date", "ret_exprs": [], "ret_type": "", "variables": {"response": "", "run": "", "test_dag_id": ""}, "variables_p": {"response": [["str", 0.28715485040747724], ["dict", 0.08993612061311623]], "run": [["int", 0.6297641041811658], ["set", 0.09698686705498996], ["Dict[str, Union[datetime.timedelta, str]]", 0.08437618721812067], ["Dict[str, Dict[str, Any]]", 0.08423321338274588]], "test_dag_id": [["str", 0.4992534761089179], ["dict", 0.1114666869564756], ["Dict[str, int]", 0.10564520042772962], ["int", 0.09482229101010071]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[121, 0], [138, 50]], "fn_var_ln": {"exec_date": [[123, 4], [123, 13]], "run": [[128, 8], [128, 11]], "test_dag_id": [[122, 4], [122, 15]], "today_midnight": [[136, 4], [136, 18]]}, "fn_var_occur": {"exec_date": [["exec_date", "timezone", "utcnow"], ["admin_client", "post", "test_dag_id", "data", "exec_date", "isoformat"], ["run", "execution_date", "exec_date"], ["today_midnight", "exec_date", "replace", "hour", "minute", "second", "microsecond"]], "run": [["run", "session", "query", "DagRun", "filter", "DagRun", "dag_id", "test_dag_id", "first"], ["run", "None"], ["DagRunType", "MANUAL", "run", "run_id"], ["run", "run_type", "DagRunType", "MANUAL"], ["run", "execution_date", "exec_date"], ["run", "data_interval_start", "today_midnight", "datetime", "timedelta", "days"], ["run", "data_interval_end", "today_midnight"]], "test_dag_id": [["admin_client", "post", "test_dag_id", "data", "exec_date", "isoformat"], ["run", "session", "query", "DagRun", "filter", "DagRun", "dag_id", "test_dag_id", "first"]], "today_midnight": [["today_midnight", "exec_date", "replace", "hour", "minute", "second", "microsecond"], ["run", "data_interval_start", "today_midnight", "datetime", "timedelta", "days"], ["run", "data_interval_end", "today_midnight"]]}, "name": "test_trigger_dag_execution_date_data_interval", "params": {"admin_client": ""}, "params_descr": {"admin_client": ""}, "params_occur": {"admin_client": [["admin_client", "post", "test_dag_id", "data", "exec_date", "isoformat"]]}, "params_p": {"admin_client": [], "args": [], "kwargs": []}, "q_name": "test_trigger_dag_execution_date_data_interval", "ret_exprs": [], "ret_type": "", "variables": {"exec_date": "", "run": "", "test_dag_id": "", "today_midnight": ""}, "variables_p": {"exec_date": [["str", 0.21377572394111158], ["datetime.datetime", 0.16993704862197895], ["Pattern[str]", 0.12551062992631362], ["datetime.date.time.timedelta", 0.11367992146352798], ["list", 0.1132682978095385], ["dict", 0.10490797265775151], ["datetime.datetime.datetime", 0.07988388193496015], ["int", 0.07903652364481775]], "run": [["int", 0.5971106900956251], ["Pattern[str]", 0.11651262312221637], ["Dict[str, Dict[str, Any]]", 0.09693210605441986], ["dict", 0.09562311595018531], ["set", 0.0938214647775533]], "test_dag_id": [["str", 0.32292095889456424], ["Dict[str, int]", 0.10459747256113956], ["int", 0.09631591107155411], ["dict", 0.09093906623375451]], "today_midnight": [["str", 0.2802256830951641], ["Type[List[Any]]", 0.19913618820459045], ["Tuple[Any, Any]", 0.1039662090972344], ["datetime.date", 0.08711135915659311]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[141, 0], [145, 58]], "fn_var_ln": {"resp": [[143, 4], [143, 8]], "test_dag_id": [[142, 4], [142, 15]]}, "fn_var_occur": {"resp": [["resp", "admin_client", "get", "test_dag_id"], ["check_content_in_response", "resp"], ["check_content_in_response", "test_dag_id", "resp"]], "test_dag_id": [["resp", "admin_client", "get", "test_dag_id"], ["check_content_in_response", "test_dag_id", "resp"]]}, "name": "test_trigger_dag_form", "params": {"admin_client": ""}, "params_descr": {"admin_client": ""}, "params_occur": {"admin_client": [["resp", "admin_client", "get", "test_dag_id"]]}, "params_p": {"admin_client": [["aiohttp.test_utils.TestServer", 0.11373070554583539]], "args": [], "kwargs": []}, "q_name": "test_trigger_dag_form", "ret_exprs": [], "ret_type": "", "variables": {"resp": "", "test_dag_id": ""}, "variables_p": {"resp": [["List[str]", 0.11997301845466488], ["Pattern[str]", 0.11427804882140866], ["tuple", 0.0943497121920825], ["str", 0.09428965499763813], ["int", 0.08744511107404285]], "test_dag_id": [["int", 0.24562937014047673], ["cmk.utils.type_defs.UserId", 0.21864831807622098], ["str", 0.16940449641246663], ["list", 0.09198897988811765]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[166, 0], [170, 90]], "fn_var_ln": {"resp": [[169, 4], [169, 8]], "test_dag_id": [[167, 4], [167, 15]]}, "fn_var_occur": {"resp": [["resp", "admin_client", "get", "test_dag_id", "test_origin"], ["check_content_in_response", "expected_origin", "resp"]], "test_dag_id": [["resp", "admin_client", "get", "test_dag_id", "test_origin"]]}, "name": "test_trigger_dag_form_origin_url", "params": {"admin_client": "", "expected_origin": "", "test_origin": ""}, "params_descr": {"admin_client": "", "expected_origin": "", "test_origin": ""}, "params_occur": {"admin_client": [["resp", "admin_client", "get", "test_dag_id", "test_origin"]], "expected_origin": [["check_content_in_response", "expected_origin", "resp"]], "test_origin": [["resp", "admin_client", "get", "test_dag_id", "test_origin"]]}, "params_p": {"admin_client": [["bool", 0.20578337148607417], ["groveco_challenge.models.GeoLocation", 0.20578337148607417]], "args": [], "expected_origin": [["str", 0.5252345826085547], ["List[Tuple[bool, Any]]", 0.07929966076039009], ["tests.test_util.aiohttp.AiohttpClientMocker", 0.07875336928065298], ["Optional[Dict[str, Any]]", 0.07032817169915886]], "kwargs": [], "test_origin": [["bool", 0.20578337148607417], ["groveco_challenge.models.GeoLocation", 0.20578337148607417]]}, "q_name": "test_trigger_dag_form_origin_url", "ret_exprs": [], "ret_type": "", "variables": {"resp": "", "test_dag_id": ""}, "variables_p": {"resp": [["tests.components.withings.common.WebhookResponse", 0.18728905252784872], ["Pattern[str]", 0.11196832741049226], ["int", 0.10777464874689427], ["Dict[str, Dict[str, Any]]", 0.09152424425046639], ["bytes", 0.09140512548557114], ["List[str]", 0.09050645323256272], ["list", 0.09003410502070623]], "test_dag_id": [["str", 0.36989851783017896], ["int", 0.22778107339664688], ["List[str]", 0.11317947963198739], ["Set[str]", 0.10118623432497188]]}}, {"docstring": {"func": "Test that textarea in Trigger DAG UI is pre-populated", "long_descr": "with json config when the conf URL parameter is passed,\nor if a params dict is passed in the DAG\n\n    1. Conf is not included in URL parameters -> DAG.conf is in textarea\n    2. Conf is passed as a URL parameter -> passed conf json is in textarea", "ret": null}, "fn_lc": [[180, 0], [199, 64]], "fn_var_ln": {"doc_md": [[190, 4], [190, 10]], "resp": [[196, 8], [196, 12]], "test_dag_id": [[189, 4], [189, 15]], "test_request_conf": [[195, 8], [195, 25]]}, "fn_var_occur": {"doc_md": [["resp", "admin_client", "get", "test_dag_id", "test_request_conf", "doc_md"]], "resp": [["resp", "admin_client", "get", "test_dag_id"], ["resp", "admin_client", "get", "test_dag_id", "test_request_conf", "doc_md"], ["check_content_in_response", "key", "resp"], ["check_content_in_response", "str", "expected_conf", "key", "resp"]], "test_dag_id": [["resp", "admin_client", "get", "test_dag_id"], ["resp", "admin_client", "get", "test_dag_id", "test_request_conf", "doc_md"]], "test_request_conf": [["test_request_conf", "json", "dumps", "request_conf", "indent"], ["resp", "admin_client", "get", "test_dag_id", "test_request_conf", "doc_md"]]}, "name": "test_trigger_dag_params_conf", "params": {"admin_client": "", "expected_conf": "", "request_conf": ""}, "params_descr": {"admin_client": "", "expected_conf": "", "request_conf": ""}, "params_occur": {"admin_client": [["resp", "admin_client", "get", "test_dag_id"], ["resp", "admin_client", "get", "test_dag_id", "test_request_conf", "doc_md"]], "expected_conf": [["expected_conf", "keys"], ["check_content_in_response", "str", "expected_conf", "key", "resp"]], "request_conf": [["test_request_conf", "json", "dumps", "request_conf", "indent"]]}, "params_p": {"admin_client": [["str", 0.0966876516898063], ["Dict[str, str]", 0.09408763847092025]], "args": [], "expected_conf": [["salon.models.Stylist", 0.1705234320943124], ["str", 0.133499461438197], ["Dict[str, Optional[str]]", 0.08621045354214721]], "kwargs": [], "request_conf": [["List[Dict[str, Any]]", 0.08067995696576209]]}, "q_name": "test_trigger_dag_params_conf", "ret_exprs": [], "ret_type": "", "variables": {"doc_md": "", "resp": "", "test_dag_id": "", "test_request_conf": ""}, "variables_p": {"doc_md": [["int", 0.6615458442653129], ["Dict[str, List[str]]", 0.09274185022923136]], "resp": [["Dict[str, Any]", 0.18692103365782337], ["str", 0.18323287328059484], ["Dict[str, str]", 0.1705553961069482], ["Dict[str, Union[Any, Any]]", 0.14386566566866082], ["Dict[str, Optional[int]]", 0.1311562663780604], ["Tuple[Literal, Literal]", 0.10411407799479377]], "test_dag_id": [["str", 0.5605957881991986], ["int", 0.23584364174396388], ["Pattern[str]", 0.10445928642159434], ["Optional[str]", 0.09910128363524313]], "test_request_conf": [["Dict[str, str]", 0.49700374914242446], ["Dict[str, Union[Any, Any, Any]]", 0.10801729012045849], ["bytes", 0.10666911547882633], ["str", 0.10623371254593011], ["Dict[Any, Dict[str, Any]]", 0.0931202965373302]]}}, {"docstring": {"func": "Test that textarea in Trigger DAG UI is pre-populated", "long_descr": "with param value set in DAG.", "ret": null}, "fn_lc": [[202, 0], [234, 5]], "fn_var_ln": {"DAG_ID": [[210, 4], [210, 10]], "account": [[207, 4], [207, 11]], "expected_conf": [[208, 4], [208, 17]], "expected_dag_conf": [[209, 4], [209, 21]], "param": [[211, 4], [211, 9]], "resp": [[229, 8], [229, 12]]}, "fn_var_occur": {"DAG_ID": [["dag_maker", "dag_id", "DAG_ID", "serialized", "True", "session", "session", "params", "param"], ["resp", "admin_client", "get", "DAG_ID"]], "account": [["expected_conf", "account"], ["param", "Param", "account", "schema", "account"]], "expected_conf": [["expected_conf", "account"], ["expected_dag_conf", "json", "dumps", "expected_conf", "indent", "replace"]], "expected_dag_conf": [["expected_dag_conf", "json", "dumps", "expected_conf", "indent", "replace"], ["check_content_in_response", "expected_dag_conf", "resp"]], "param": [["param", "Param", "account", "schema", "account"], ["dag_maker", "dag_id", "DAG_ID", "serialized", "True", "session", "session", "params", "param"]], "resp": [["resp", "admin_client", "get", "DAG_ID"], ["check_content_in_response", "expected_dag_conf", "resp"]]}, "name": "test_trigger_dag_params_render", "params": {"admin_client": "", "app": "", "dag_maker": "", "monkeypatch": "", "session": ""}, "params_descr": {"admin_client": "", "app": "", "dag_maker": "", "monkeypatch": "", "session": ""}, "params_occur": {"admin_client": [["resp", "admin_client", "get", "DAG_ID"]], "app": [["m", "setattr", "app", "dag_maker", "dagbag"]], "dag_maker": [["dag_maker", "dag_id", "DAG_ID", "serialized", "True", "session", "session", "params", "param"], ["m", "setattr", "app", "dag_maker", "dagbag"]], "monkeypatch": [["monkeypatch", "context", "m"]], "session": [["dag_maker", "dag_id", "DAG_ID", "serialized", "True", "session", "session", "params", "param"]]}, "params_p": {"admin_client": [["tests._TestServerFactory", 0.28050034482372666], ["tests.conftesStandaloneRedisServer", 0.11712660540034561]], "app": [["str", 0.18887179990094954], ["Optional[float]", 0.18887179990094954], ["aiohttp.test_utils.TestClient", 0.0979215356745517]], "args": [], "dag_maker": [], "kwargs": [], "monkeypatch": [["tests.conftesStandaloneRedisServer", 0.2076758445431138], ["int", 0.17720814321815614], ["str", 0.17649744968458744]], "session": [["zerver.models.UserProfile", 0.08118888222766556], ["asgard.models.accounAccount", 0.07541560317155291]]}, "q_name": "test_trigger_dag_params_render", "ret_exprs": [], "ret_type": "", "variables": {"DAG_ID": "", "account": "", "expected_conf": "", "expected_dag_conf": "", "param": "", "resp": ""}, "variables_p": {"DAG_ID": [["str", 0.6049996646175055], ["int", 0.09731539205254362]], "account": [["dict", 0.1854608643614711], ["float", 0.17446539352236398], ["Generator[Any, None, None]", 0.09454108484793161]], "expected_conf": [["Dict[str, Union[int, str]]", 0.5684846644649638], ["Pattern[str]", 0.33042473370549463], ["str", 0.10109060182954137]], "expected_dag_conf": [["str", 0.3887419391926272], ["List[str]", 0.338691743900748], ["Pattern[str]", 0.2725663169066248]], "param": [], "resp": [["bytes", 0.1301751553238755], ["str", 0.09000955866848334], ["requests.models.Response", 0.08595234015546793]]}}, {"docstring": {"func": "Test that Trigger Endpoint uses the DagBag already created in views.py", "long_descr": "instead of creating a new one.", "ret": null}, "fn_lc": [[237, 0], [244, 60]], "fn_var_ln": {"resp": [[243, 4], [243, 8]], "url": [[242, 4], [242, 7]]}, "fn_var_occur": {"resp": [["resp", "admin_client", "post", "url", "data", "follow_redirects", "True"], ["check_content_in_response", "resp"]], "url": [["resp", "admin_client", "post", "url", "data", "follow_redirects", "True"]]}, "name": "test_trigger_endpoint_uses_existing_dagbag", "params": {"admin_client": ""}, "params_descr": {"admin_client": ""}, "params_occur": {"admin_client": [["resp", "admin_client", "post", "url", "data", "follow_redirects", "True"]]}, "params_p": {"admin_client": [["aiohttp.test_utils.TestClient", 0.3802827372553301], ["dict", 0.09837972865132033]], "args": [], "kwargs": []}, "q_name": "test_trigger_endpoint_uses_existing_dagbag", "ret_exprs": [], "ret_type": "", "variables": {"resp": "", "url": ""}, "variables_p": {"resp": [["requests.models.Response", 0.18690408257953084]], "url": [["str", 0.7081015410344851], ["Dict[str, str]", 0.09898846208547496], ["Dict[str, Any]", 0.09805101978835146], ["Optional[str]", 0.0948589770916885]]}}, {"docstring": {"func": "Test that the test_viewer user can't trigger DAGs.", "long_descr": null, "ret": null}, "fn_lc": [[247, 0], [264, 50]], "fn_var_ln": {"resp": [[262, 8], [262, 12]], "response_data": [[263, 8], [263, 21]], "url": [[261, 8], [261, 11]]}, "fn_var_occur": {"resp": [["resp", "client", "get", "url", "follow_redirects", "True"], ["response_data", "resp", "data", "decode"]], "response_data": [["response_data", "resp", "data", "decode"]], "url": [["resp", "client", "get", "url", "follow_redirects", "True"]]}, "name": "test_viewer_cant_trigger_dag", "params": {"app": ""}, "params_descr": {"app": ""}, "params_occur": {"app": [["create_test_client", "app", "user_name", "role_name", "permissions", "permissions", "ACTION_CAN_READ", "permissions", "RESOURCE_WEBSITE", "permissions", "ACTION_CAN_READ", "permissions", "RESOURCE_DAG", "permissions", "ACTION_CAN_CREATE", "permissions", "RESOURCE_DAG_RUN", "client"]]}, "params_p": {"app": [["tests.e2e.Helper", 0.2640327933953023]], "args": [], "kwargs": []}, "q_name": "test_viewer_cant_trigger_dag", "ret_exprs": [], "ret_type": "", "variables": {"resp": "", "response_data": "", "url": ""}, "variables_p": {"resp": [["Dict[str, Any]", 0.09918231347498167], ["Dict[str, str]", 0.09354538232268268], ["requests.models.Response", 0.0824632914456997], ["Dict[str, Dict[str, Any]]", 0.08114287255808929]], "response_data": [["Dict[str, float]", 0.5651185355971545], ["str", 0.17319590934924106], ["Dict[str, Any]", 0.17132381141538228], ["dict", 0.09036174363822201]], "url": [["str", 0.6929358562993878], ["Dict[str, Dict[str, Any]]", 0.3070641437006122]]}}, {"docstring": {"func": "Test that textarea in Trigger DAG UI is pre-populated", "long_descr": "with param value None and type [\"null\", \"array\"] set in DAG.", "ret": null}, "fn_lc": [[267, 0], [290, 5]], "fn_var_ln": {"DAG_ID": [[274, 4], [274, 10]], "expected_conf": [[272, 4], [272, 17]], "expected_dag_conf": [[273, 4], [273, 21]], "param": [[275, 4], [275, 9]], "resp": [[285, 8], [285, 12]]}, "fn_var_occur": {"DAG_ID": [["dag_maker", "dag_id", "DAG_ID", "serialized", "True", "session", "session", "params", "param"], ["resp", "admin_client", "get", "DAG_ID"]], "expected_conf": [["expected_conf", "None"], ["expected_dag_conf", "json", "dumps", "expected_conf", "indent", "replace"]], "expected_dag_conf": [["expected_dag_conf", "json", "dumps", "expected_conf", "indent", "replace"], ["check_content_in_response", "expected_dag_conf", "resp"]], "param": [["param", "Param", "None", "type", "minItems"], ["dag_maker", "dag_id", "DAG_ID", "serialized", "True", "session", "session", "params", "param"]], "resp": [["resp", "admin_client", "get", "DAG_ID"], ["check_content_in_response", "expected_dag_conf", "resp"]]}, "name": "test_trigger_dag_params_array_value_none_render", "params": {"admin_client": "", "app": "", "dag_maker": "", "monkeypatch": "", "session": ""}, "params_descr": {"admin_client": "", "app": "", "dag_maker": "", "monkeypatch": "", "session": ""}, "params_occur": {"admin_client": [["resp", "admin_client", "get", "DAG_ID"]], "app": [["m", "setattr", "app", "dag_maker", "dagbag"]], "dag_maker": [["dag_maker", "dag_id", "DAG_ID", "serialized", "True", "session", "session", "params", "param"], ["m", "setattr", "app", "dag_maker", "dagbag"]], "monkeypatch": [["monkeypatch", "context", "m"]], "session": [["dag_maker", "dag_id", "DAG_ID", "serialized", "True", "session", "session", "params", "param"]]}, "params_p": {"admin_client": [["aiohttp.test_utils.TestServer", 0.217064430833694], ["str", 0.0995682895373939], ["tests._TestServerFactory", 0.09415232363354142]], "app": [["str", 0.2043738195801807], ["Optional[float]", 0.2043738195801807], ["aiohttp.test_utils.TestClient", 0.09545666109492577]], "args": [], "dag_maker": [["aiohttp.test_utils.TestClient", 0.09406126300945566]], "kwargs": [], "monkeypatch": [["int", 0.19019448086122046], ["tests.conftesStandaloneRedisServer", 0.10231294699512873], ["Optional[str]", 0.09061765259786755], ["Optional[int]", 0.09061765259786755]], "session": [["str", 0.17050110651377484]]}, "q_name": "test_trigger_dag_params_array_value_none_render", "ret_exprs": [], "ret_type": "", "variables": {"DAG_ID": "", "expected_conf": "", "expected_dag_conf": "", "param": "", "resp": ""}, "variables_p": {"DAG_ID": [["str", 0.6049996646175055], ["int", 0.09731539205254362]], "expected_conf": [["dict", 0.2236952128094412], ["Dict[str, None]", 0.20464050268359846], ["Optional[str]", 0.17521243640463927], ["Set[str]", 0.10471985389917149]], "expected_dag_conf": [["str", 0.3887419391926272], ["List[str]", 0.338691743900748], ["Pattern[str]", 0.2725663169066248]], "param": [["chalice.config.DeployedResources", 0.44271507881822325], ["libsoundtouch.tests.test_libsoundtouch.MockDevice", 0.167815746564089], ["str", 0.076708276226573], ["List[Union[Any, Any]]", 0.06966362868887148]], "resp": [["bytes", 0.1301751553238755], ["str", 0.09000955866848334], ["requests.models.Response", 0.08595234015546793]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[310, 0], [319, 30]], "fn_var_ln": {"run": [[314, 8], [314, 11]], "test_dag_id": [[312, 8], [312, 19]]}, "fn_var_occur": {"run": [["run", "session", "query", "DagRun", "filter", "DagRun", "dag_id", "test_dag_id", "first"], ["run", "None"], ["run", "run_type", "DagRunType", "MANUAL"], ["run", "None"]], "test_dag_id": [["admin_client", "post", "test_dag_id", "run_id"], ["run", "session", "query", "DagRun", "filter", "DagRun", "dag_id", "test_dag_id", "first"]]}, "name": "test_dag_run_id_pattern", "params": {"admin_client": "", "pattern": "", "result": "", "run_id": "", "session": ""}, "params_descr": {"admin_client": "", "pattern": "", "result": "", "run_id": "", "session": ""}, "params_occur": {"admin_client": [["admin_client", "post", "test_dag_id", "run_id"]], "pattern": [["conf_vars", "pattern"]], "result": [], "run_id": [["admin_client", "post", "test_dag_id", "run_id"]], "session": [["run", "session", "query", "DagRun", "filter", "DagRun", "dag_id", "test_dag_id", "first"]]}, "params_p": {"admin_client": [["str", 0.7989071509995243]], "args": [], "kwargs": [], "pattern": [["bool", 0.28691981773608616], ["str", 0.19974981894953958], ["int", 0.14345990886804308], ["dict", 0.10914132997214027], ["Dict[Any, int]", 0.05429550307967391]], "result": [["List[List[int]]", 0.10540495382883928], ["bool", 0.0964002568627681], ["str", 0.08197753257306206]], "run_id": [["str", 0.7989071509995243]], "session": [["int", 0.6217860223642566], ["str", 0.1871101898346764], ["daylighdb.models.User", 0.09910008136238052], ["Type[Any]", 0.09200370643868637]]}, "q_name": "test_dag_run_id_pattern", "ret_exprs": [], "ret_type": "", "variables": {"run": "", "test_dag_id": ""}, "variables_p": {"run": [["int", 0.608769069890932], ["Dict[str, Dict[str, Any]]", 0.10552681519914406], ["Pattern[str]", 0.10518807122238887], ["dict", 0.09158273530450274], ["datetime.datetime", 0.08893330838303223]], "test_dag_id": [["str", 0.7024309226223664], ["Pattern[str]", 0.11187479135720964], ["Optional[str]", 0.09562531862954811]]}}], "imports": ["__future__", "annotations", "datetime", "json", "pytest", "airflow", "models", "DagBag", "DagRun", "airflow", "models", "param", "Param", "airflow", "operators", "empty", "EmptyOperator", "airflow", "security", "permissions", "airflow", "utils", "timezone", "airflow", "utils", "session", "create_session", "airflow", "utils", "types", "DagRunType", "tests", "test_utils", "api_connexion_utils", "create_test_client", "tests", "test_utils", "config", "conf_vars", "tests", "test_utils", "www", "check_content_in_response"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 99}, "session_id": "xlG5BNsuhOS6O3dpIB9-mclpf0TUHa8vmnANNZ7BiKA", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}