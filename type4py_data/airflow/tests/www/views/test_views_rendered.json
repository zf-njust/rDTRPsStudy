{"error": null, "response": {"classes": [{"cls_lc": [[71, 4], [79, 16]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[74, 8], [76, 26]], "fn_var_ln": {"sql": [[76, 12], [76, 20]]}, "fn_var_occur": {"sql": [["self", "sql", "sql"]]}, "name": "__init__", "params": {"kwargs": "", "self": "", "sql": ""}, "params_descr": {"kwargs": "", "self": "", "sql": ""}, "params_occur": {"kwargs": [["super", "__init__", "kwargs"]], "self": [["self", "sql", "sql"]], "sql": [["self", "sql", "sql"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "sql": [["int", 0.3], ["bool", 0.09999999999999999], ["apistar.types.RouteConfig", 0.09999999999999999], ["float", 0.09999999999999999]]}, "q_name": "task3.<locals>.TestOperator.__init__", "ret_exprs": [], "ret_type": "", "variables": {"sql": ""}, "variables_p": {"sql": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[78, 8], [79, 16]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "execute", "params": {"context": "", "self": ""}, "params_descr": {"context": "", "self": ""}, "params_occur": {"context": [], "self": []}, "params_p": {"args": [], "context": [["int", 0.19999999999999998], ["str", 0.19999999999999998], ["Iterable['Context']", 0.09999999999999999], ["dict", 0.09999999999999999], ["bool", 0.09999999999999999]], "kwargs": [], "self": []}, "q_name": "task3.<locals>.TestOperator.execute", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "TestOperator", "q_name": "task3.<locals>.TestOperator", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[42, 0], [48, 5]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "dag", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "dag", "ret_exprs": ["return DAG( \"testdag\", start_date=DEFAULT_DATE, user_defined_filters={\"hello\": lambda name: f\"Hello {name}\"}, user_defined_macros={\"fullname\": lambda fname, lname: f\"{fname} {lname}\"},)"], "ret_type": "", "ret_type_p": [["str", 0.33400762275076185], ["recidiviz.persistence.entity.state.entities.StateIncarcerationPeriod", 0.09579160298608813]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[52, 0], [57, 5]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "task1", "params": {"dag": ""}, "params_descr": {"dag": ""}, "params_occur": {"dag": [["BashOperator", "task_id", "bash_command", "dag", "dag"]]}, "params_p": {"args": [], "dag": [["dict", 0.10025646748826893], ["models.Pkg", 0.09562322894138689], ["cmk.utils.type_defs.EventRule", 0.08533796216823815]], "kwargs": []}, "q_name": "task1", "ret_exprs": ["return BashOperator( task_id=\"task1\", bash_command=\"{{ task_instance_key_str }}\", dag=dag,)"], "ret_type": "", "ret_type_p": [["str", 0.19572446639931262], ["int", 0.19405128332669483], ["app.models.Tweet", 0.10683449735154614], ["app.models.Position", 0.10683449735154614]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[61, 0], [66, 5]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "task2", "params": {"dag": ""}, "params_descr": {"dag": ""}, "params_occur": {"dag": [["BashOperator", "task_id", "bash_command", "dag", "dag"]]}, "params_p": {"args": [], "dag": [["dict", 0.10025646748826893], ["models.Pkg", 0.09562322894138689], ["cmk.utils.type_defs.EventRule", 0.08533796216823815]], "kwargs": []}, "q_name": "task2", "ret_exprs": ["return BashOperator( task_id=\"task2\", bash_command='echo {{ fullname(\"Apache\", \"Airflow\") | hello }}', dag=dag,)"], "ret_type": "", "ret_type_p": [["str", 0.19572446639931262], ["int", 0.19405128332669483], ["app.models.Tweet", 0.10683449735154614], ["app.models.Position", 0.10683449735154614]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[70, 0], [85, 5]], "fn_var_ln": {"template_fields": [[72, 8], [72, 23]]}, "fn_var_occur": {"template_fields": []}, "name": "task3", "params": {"dag": ""}, "params_descr": {"dag": ""}, "params_occur": {"dag": [["TestOperator", "task_id", "sql", "dag", "dag"]]}, "params_p": {"args": [], "dag": [["str", 0.18305537857895268], ["models.Pkg", 0.0884578922373696]], "kwargs": []}, "q_name": "task3", "ret_exprs": ["return TestOperator( task_id=\"task3\", sql=[\"SELECT 1;\", \"SELECT 2;\"], dag=dag,)"], "ret_type": "", "ret_type_p": [["int", 0.28898673874110226], ["List[str]", 0.09516890033799559]], "variables": {"template_fields": ""}, "variables_p": {"template_fields": [["Tuple[str, str, str, str, str, str]", 0.2857142856828355], ["Tuple[str, str, str]", 0.2857142856828355], ["Tuple[str, str, str, str]", 0.2857142856828355], ["Tuple[str, str, str, str, str]", 0.14285714284141776], ["Dict[str, str]", 7.42502725571635e-11]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[90, 4], [91, 12]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "func", "params": {"op_args": ""}, "params_descr": {"op_args": ""}, "params_occur": {"op_args": []}, "params_p": {"args": [], "kwargs": [], "op_args": [["float", 0.10658068667623045], ["int", 0.10658068667623045], ["bool", 0.10658068667623045], ["tuple", 0.10658068667623045], ["list", 0.10658068667623045], ["Callable", 0.078916869807179]]}, "q_name": "task4.<locals>.func", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[89, 0], [99, 5]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "task4", "params": {"dag": ""}, "params_descr": {"dag": ""}, "params_occur": {"dag": [["PythonOperator", "task_id", "python_callable", "func", "op_args", "op_kwargs", "dag", "dag"]]}, "params_p": {"args": [], "dag": [["socialhome.users.models.Profile", 0.1025730842672461], ["Exception", 0.10245236549060453], ["purplship.core.models.RateRequest", 0.09958913201406147]], "kwargs": []}, "q_name": "task4", "ret_exprs": ["return PythonOperator( task_id=\"task4\", python_callable=func, op_args=[\"{{ task_instance_key_str }}_args\"], op_kwargs={\"0\": \"{{ task_instance_key_str }}_kwargs\"}, dag=dag,)"], "ret_type": "", "ret_type_p": [["bool", 0.1861045940837241], ["zerver.models.UserProfile", 0.12843995178621795], ["app.models.Tweet", 0.1038228006367255], ["app.models.Position", 0.1038228006367255], ["int", 0.08327782424921264]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[103, 0], [108, 5]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "task_secret", "params": {"dag": ""}, "params_descr": {"dag": ""}, "params_occur": {"dag": [["BashOperator", "task_id", "bash_command", "dag", "dag"]]}, "params_p": {"args": [], "dag": [["Dict[str, Any]", 0.6548623501354305]], "kwargs": []}, "q_name": "task_secret", "ret_exprs": ["return BashOperator( task_id=\"task_secret\", bash_command=\"echo {{ var.value.my_secret }} && echo {{ var.value.spam }}\", dag=dag,)"], "ret_type": "", "ret_type_p": [["str", 0.1922765278132479], ["cmk.utils.type_defs.UserId", 0.1049061098525829], ["models.Payment", 0.09062904153206933]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Make sure there are no runs before we test anything.", "long_descr": "This really shouldn't be needed, but tests elsewhere leave the db dirty.", "ret": null}, "fn_lc": [[112, 0], [119, 30]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "init_blank_db", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "init_blank_db", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[123, 0], [127, 30]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "reset_db", "params": {"dag": "", "task1": "", "task2": "", "task3": "", "task4": "", "task_secret": ""}, "params_descr": {"dag": "", "task1": "", "task2": "", "task3": "", "task4": "", "task_secret": ""}, "params_occur": {"dag": [], "task1": [], "task2": [], "task3": [], "task4": [], "task_secret": []}, "params_p": {"args": [], "dag": [["List[annofabapi.models.Task]", 0.10706117305619389], ["bool", 0.10530461666253682], ["Optional[str]", 0.09323932633989411], ["dict", 0.09289735424423533], ["str", 0.09289735424423533], ["Sequence[T]", 0.09234925754989036]], "kwargs": [], "task1": [["List[annofabapi.models.Task]", 0.10706117305619389], ["bool", 0.10530461666253682], ["Optional[str]", 0.09323932633989411], ["dict", 0.09289735424423533], ["str", 0.09289735424423533], ["Sequence[T]", 0.09234925754989036]], "task2": [["List[annofabapi.models.Task]", 0.10706117305619389], ["bool", 0.10530461666253682], ["Optional[str]", 0.09323932633989411], ["dict", 0.09289735424423533], ["str", 0.09289735424423533], ["Sequence[T]", 0.09234925754989036]], "task3": [["List[annofabapi.models.Task]", 0.10706117305619389], ["bool", 0.10530461666253682], ["Optional[str]", 0.09323932633989411], ["dict", 0.09289735424423533], ["str", 0.09289735424423533], ["Sequence[T]", 0.09234925754989036]], "task4": [["List[annofabapi.models.Task]", 0.10706117305619389], ["bool", 0.10530461666253682], ["Optional[str]", 0.09323932633989411], ["dict", 0.09289735424423533], ["str", 0.09289735424423533], ["Sequence[T]", 0.09234925754989036]], "task_secret": [["List[annofabapi.models.Task]", 0.10706117305619389], ["bool", 0.10530461666253682], ["Optional[str]", 0.09323932633989411], ["dict", 0.09289735424423533], ["str", 0.09289735424423533], ["Sequence[T]", 0.09234925754989036]]}, "q_name": "reset_db", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[132, 4], [151, 22]], "fn_var_ln": {"dag_run": [[133, 8], [133, 15]], "state": [[149, 8], [149, 17]], "ti1": [[140, 8], [140, 11]], "ti2": [[142, 8], [142, 11]], "ti3": [[144, 8], [144, 11]], "ti4": [[146, 8], [146, 11]], "ti5": [[148, 8], [148, 11]]}, "fn_var_occur": {"dag_run": [["dag_run", "dag", "create_dagrun", "state", "DagRunState", "RUNNING", "execution_date", "execution_date", "data_interval", "execution_date", "execution_date", "run_type", "DagRunType", "SCHEDULED", "session", "session"], ["ti1", "dag_run", "get_task_instance", "task1", "task_id", "session", "session"], ["ti2", "dag_run", "get_task_instance", "task2", "task_id", "session", "session"], ["ti3", "dag_run", "get_task_instance", "task_secret", "task_id", "session", "session"], ["ti4", "dag_run", "get_task_instance", "task3", "task_id", "session", "session"], ["ti5", "dag_run", "get_task_instance", "task4", "task_id", "session", "session"]], "state": [["dag_run", "dag", "create_dagrun", "state", "DagRunState", "RUNNING", "execution_date", "execution_date", "data_interval", "execution_date", "execution_date", "run_type", "DagRunType", "SCHEDULED", "session", "session"], ["ti1", "state", "TaskInstanceState", "SUCCESS"], ["ti2", "state", "TaskInstanceState", "SCHEDULED"], ["ti3", "state", "TaskInstanceState", "QUEUED"], ["ti4", "state", "TaskInstanceState", "SUCCESS"], ["ti5", "state", "TaskInstanceState", "SUCCESS"]], "ti1": [["ti1", "dag_run", "get_task_instance", "task1", "task_id", "session", "session"], ["ti1", "state", "TaskInstanceState", "SUCCESS"]], "ti2": [["ti2", "dag_run", "get_task_instance", "task2", "task_id", "session", "session"], ["ti2", "state", "TaskInstanceState", "SCHEDULED"]], "ti3": [["ti3", "dag_run", "get_task_instance", "task_secret", "task_id", "session", "session"], ["ti3", "state", "TaskInstanceState", "QUEUED"]], "ti4": [["ti4", "dag_run", "get_task_instance", "task3", "task_id", "session", "session"], ["ti4", "state", "TaskInstanceState", "SUCCESS"]], "ti5": [["ti5", "dag_run", "get_task_instance", "task4", "task_id", "session", "session"], ["ti5", "state", "TaskInstanceState", "SUCCESS"]]}, "name": "_create_dag_run", "params": {"execution_date": "", "session": ""}, "params_descr": {"execution_date": "", "session": ""}, "params_occur": {"execution_date": [["dag_run", "dag", "create_dagrun", "state", "DagRunState", "RUNNING", "execution_date", "execution_date", "data_interval", "execution_date", "execution_date", "run_type", "DagRunType", "SCHEDULED", "session", "session"]], "session": [["dag_run", "dag", "create_dagrun", "state", "DagRunState", "RUNNING", "execution_date", "execution_date", "data_interval", "execution_date", "execution_date", "run_type", "DagRunType", "SCHEDULED", "session", "session"], ["ti1", "dag_run", "get_task_instance", "task1", "task_id", "session", "session"], ["ti2", "dag_run", "get_task_instance", "task2", "task_id", "session", "session"], ["ti3", "dag_run", "get_task_instance", "task_secret", "task_id", "session", "session"], ["ti4", "dag_run", "get_task_instance", "task3", "task_id", "session", "session"], ["ti5", "dag_run", "get_task_instance", "task4", "task_id", "session", "session"], ["session", "flush"]]}, "params_p": {"args": [], "execution_date": [["str", 0.19121427931423124], ["List[recidiviz.persistence.entity.state.entities.SentenceType]", 0.1149091938445734], ["bool", 0.0983952581800318]], "kwargs": [], "session": [["str", 0.19121427931423124], ["List[recidiviz.persistence.entity.state.entities.SentenceType]", 0.1149091938445734], ["bool", 0.0983952581800318]]}, "q_name": "create_dag_run.<locals>._create_dag_run", "ret_exprs": ["return dag_run"], "ret_type": "", "ret_type_p": [["bool", 0.6394324714788682], ["int", 0.18192247215156948], ["Optional[bool]", 0.09158732248818846]], "variables": {"dag_run": "", "state": "", "ti1": "", "ti2": "", "ti3": "", "ti4": "", "ti5": ""}, "variables_p": {"dag_run": [["str", 0.22349405253377186], ["int", 0.11726231855437734], ["list", 0.09749777141808674], ["Dict[str, int]", 0.08801634535189175]], "state": [["str", 0.4844801702610377], ["dict", 0.22547192692331666], ["Optional[str]", 0.09890200097632341], ["list", 0.0964028424592915], ["Pattern[str]", 0.09474305938003072]], "ti1": [["int", 0.6434992967849527], ["pydynasync.models.Changes", 0.0823059745838947]], "ti2": [["int", 0.6434992967849527], ["pydynasync.models.Changes", 0.0823059745838947]], "ti3": [["zerver.models.Realm", 0.10686749232654236], ["tuple", 0.08785287811047733]], "ti4": [["int", 0.6434992967849527], ["pydynasync.models.Changes", 0.0823059745838947]], "ti5": [["int", 0.6434992967849527], ["pydynasync.models.Changes", 0.0823059745838947]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[131, 0], [153, 26]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "create_dag_run", "params": {"dag": "", "task1": "", "task2": "", "task3": "", "task4": "", "task_secret": ""}, "params_descr": {"dag": "", "task1": "", "task2": "", "task3": "", "task4": "", "task_secret": ""}, "params_occur": {"dag": [], "task1": [], "task2": [], "task3": [], "task4": [], "task_secret": []}, "params_p": {"args": [], "dag": [["dict", 0.29164654991157607], ["str", 0.19495668287367704], ["bool", 0.10531763516757771], ["Optional[str]", 0.10351268144177886], ["Optional[List[Dict]]", 0.09668986703789904]], "kwargs": [], "task1": [["dict", 0.29164654991157607], ["str", 0.19495668287367704], ["bool", 0.10531763516757771], ["Optional[str]", 0.10351268144177886], ["Optional[List[Dict]]", 0.09668986703789904]], "task2": [["dict", 0.29164654991157607], ["str", 0.19495668287367704], ["bool", 0.10531763516757771], ["Optional[str]", 0.10351268144177886], ["Optional[List[Dict]]", 0.09668986703789904]], "task3": [["dict", 0.29164654991157607], ["str", 0.19495668287367704], ["bool", 0.10531763516757771], ["Optional[str]", 0.10351268144177886], ["Optional[List[Dict]]", 0.09668986703789904]], "task4": [["dict", 0.29164654991157607], ["str", 0.19495668287367704], ["bool", 0.10531763516757771], ["Optional[str]", 0.10351268144177886], ["Optional[List[Dict]]", 0.09668986703789904]], "task_secret": [["dict", 0.29164654991157607], ["str", 0.19495668287367704], ["bool", 0.10531763516757771], ["Optional[str]", 0.10351268144177886], ["Optional[List[Dict]]", 0.09668986703789904]]}, "q_name": "create_dag_run", "ret_exprs": ["return _create_dag_run"], "ret_type": "", "ret_type_p": [["bool", 0.21376918948087573], ["str", 0.10622436536583775], ["Optional[Any]", 0.10463506559873813], ["int", 0.09491618300334097]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[157, 0], [160, 17]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "patch_app", "params": {"app": "", "dag": ""}, "params_descr": {"app": "", "dag": ""}, "params_occur": {"app": [["mock", "patch", "object", "app", "mock_dag_bag"]], "dag": [["mock_dag_bag", "get_dag", "return_value", "SerializedDAG", "from_dict", "SerializedDAG", "to_dict", "dag"]]}, "params_p": {"app": [], "args": [], "dag": [], "kwargs": []}, "q_name": "patch_app", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Test that the Rendered View contains the values from RenderedTaskInstanceFields", "long_descr": null, "ret": null}, "fn_lc": [[164, 0], [180, 63]], "fn_var_ln": {"dag_run": [[171, 8], [171, 15]], "resp": [[179, 4], [179, 8]], "ti": [[172, 8], [172, 10]], "url": [[177, 4], [177, 7]]}, "fn_var_occur": {"dag_run": [["dag_run", "create_dag_run", "execution_date", "DEFAULT_DATE", "session", "session"], ["ti", "dag_run", "get_task_instance", "task1", "task_id", "session", "session"]], "resp": [["resp", "admin_client", "get", "url", "follow_redirects", "True"], ["check_content_in_response", "resp"]], "ti": [["ti", "dag_run", "get_task_instance", "task1", "task_id", "session", "session"], ["ti", "None"], ["ti", "refresh_from_task", "task1"], ["session", "add", "RenderedTaskInstanceFields", "ti"]], "url": [["url", "quote_plus", "str", "DEFAULT_DATE"], ["resp", "admin_client", "get", "url", "follow_redirects", "True"]]}, "name": "test_rendered_template_view", "params": {"admin_client": "", "create_dag_run": "", "task1": ""}, "params_descr": {"admin_client": "", "create_dag_run": "", "task1": ""}, "params_occur": {"admin_client": [["resp", "admin_client", "get", "url", "follow_redirects", "True"]], "create_dag_run": [["dag_run", "create_dag_run", "execution_date", "DEFAULT_DATE", "session", "session"]], "task1": [["task1", "bash_command"], ["ti", "dag_run", "get_task_instance", "task1", "task_id", "session", "session"], ["ti", "refresh_from_task", "task1"]]}, "params_p": {"admin_client": [], "args": [], "create_dag_run": [["Iterator[Tuple[hermes.types.UserType, hermes.types.EmailAddressType]]", 0.11148513824475131], ["tests.setup.SetupTest", 0.08532279728018786]], "kwargs": [], "task1": []}, "q_name": "test_rendered_template_view", "ret_exprs": [], "ret_type": "", "variables": {"dag_run": "", "resp": "", "ti": "", "url": ""}, "variables_p": {"dag_run": [["Dict[str, Any]", 0.08838883400176055]], "resp": [["requests.models.Response", 0.2672801702127684], ["Dict[str, Any]", 0.08893784702445061], ["Tuple[Literal, Literal]", 0.0850833867924901]], "ti": [["golem.rpc.session.WebSocketAddress", 0.09908463543871893], ["str", 0.08951688615486689]], "url": [["str", 0.2815161573569024], ["list", 0.18907994700361735], ["Dict[str, str]", 0.1025940751693371], ["Dict[str, Any]", 0.1014867883434116]]}}, {"docstring": {"func": "Test that the Rendered View is able to show rendered values", "long_descr": "even for TIs that have not yet executed", "ret": null}, "fn_lc": [[184, 0], [197, 63]], "fn_var_ln": {"resp": [[196, 4], [196, 8]], "url": [[194, 4], [194, 7]]}, "fn_var_occur": {"resp": [["resp", "admin_client", "get", "url", "follow_redirects", "True"], ["check_content_in_response", "resp"]], "url": [["url", "quote_plus", "str", "DEFAULT_DATE"], ["resp", "admin_client", "get", "url", "follow_redirects", "True"]]}, "name": "test_rendered_template_view_for_unexecuted_tis", "params": {"admin_client": "", "create_dag_run": "", "task1": ""}, "params_descr": {"admin_client": "", "create_dag_run": "", "task1": ""}, "params_occur": {"admin_client": [["resp", "admin_client", "get", "url", "follow_redirects", "True"]], "create_dag_run": [["create_dag_run", "execution_date", "DEFAULT_DATE", "session", "session"]], "task1": [["task1", "bash_command"]]}, "params_p": {"admin_client": [], "args": [], "create_dag_run": [["core.models.Grouping", 0.10141344038038956]], "kwargs": [], "task1": []}, "q_name": "test_rendered_template_view_for_unexecuted_tis", "ret_exprs": [], "ret_type": "", "variables": {"resp": "", "url": ""}, "variables_p": {"resp": [["requests.models.Response", 0.2672801702127684], ["Dict[str, Any]", 0.08893784702445061], ["Tuple[Literal, Literal]", 0.0850833867924901]], "url": [["str", 0.2815161573569024], ["list", 0.18907994700361735], ["Dict[str, str]", 0.1025940751693371], ["Dict[str, Any]", 0.1014867883434116]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[201, 0], [223, 80]], "fn_var_ln": {"resp": [[209, 4], [209, 8]], "resp_html": [[212, 4], [212, 13]], "url": [[207, 4], [207, 7]]}, "fn_var_occur": {"resp": [["resp", "admin_client", "get", "url", "follow_redirects", "True"], ["resp", "status_code"], ["resp_html", "builtins", "str", "resp", "data", "decode"]], "resp_html": [["resp_html", "builtins", "str", "resp", "data", "decode"], ["resp_html", "lower"]], "url": [["url", "quote_plus", "str", "DEFAULT_DATE"], ["resp", "admin_client", "get", "url", "follow_redirects", "True"]]}, "name": "test_user_defined_filter_and_macros_raise_error", "params": {"admin_client": "", "create_dag_run": "", "task2": ""}, "params_descr": {"admin_client": "", "create_dag_run": "", "task2": ""}, "params_occur": {"admin_client": [["resp", "admin_client", "get", "url", "follow_redirects", "True"]], "create_dag_run": [["create_dag_run", "execution_date", "DEFAULT_DATE", "session", "session"]], "task2": [["task2", "bash_command"]]}, "params_p": {"admin_client": [], "args": [], "create_dag_run": [["core.models.Grouping", 0.09914748125119902], ["core.models.MyUser", 0.09325260411089582]], "kwargs": [], "task2": [["int", 0.09421984296043384], ["str", 0.09421984296043384]]}, "q_name": "test_user_defined_filter_and_macros_raise_error", "ret_exprs": [], "ret_type": "", "variables": {"resp": "", "resp_html": "builtins.str", "url": ""}, "variables_p": {"resp": [["str", 0.9999999999999999]], "resp_html": [["str", 0.9999999999999998]], "url": [["str", 0.2815161573569024], ["list", 0.18907994700361735], ["Dict[str, str]", 0.1025940751693371], ["Dict[str, Any]", 0.1014867883434116]]}}, {"docstring": {"func": "Test that the Rendered View masks values retrieved from secret variables.", "long_descr": null, "ret": null}, "fn_lc": [[227, 0], [248, 47]], "fn_var_ln": {"dag_run": [[235, 8], [235, 15]], "date": [[241, 4], [241, 8]], "resp": [[244, 4], [244, 8]], "ti": [[236, 8], [236, 10]], "url": [[242, 4], [242, 7]]}, "fn_var_occur": {"dag_run": [["dag_run", "create_dag_run", "execution_date", "DEFAULT_DATE", "session", "session"], ["ti", "dag_run", "get_task_instance", "task_secret", "task_id", "session", "session"]], "date": [["date", "quote_plus", "str", "DEFAULT_DATE"], ["url", "date"]], "resp": [["resp", "admin_client", "get", "url", "follow_redirects", "True"], ["check_content_in_response", "resp"], ["check_content_not_in_response", "resp"]], "ti": [["ti", "dag_run", "get_task_instance", "task_secret", "task_id", "session", "session"], ["ti", "None"], ["ti", "refresh_from_task", "task_secret"], ["ti", "state", "TaskInstanceState", "QUEUED"], ["ti", "refresh_from_task", "task_secret"], ["ti", "state", "TaskInstanceState", "QUEUED"]], "url": [["url", "date"], ["resp", "admin_client", "get", "url", "follow_redirects", "True"]]}, "name": "test_rendered_template_secret", "params": {"admin_client": "", "create_dag_run": "", "task_secret": ""}, "params_descr": {"admin_client": "", "create_dag_run": "", "task_secret": ""}, "params_occur": {"admin_client": [["resp", "admin_client", "get", "url", "follow_redirects", "True"]], "create_dag_run": [["dag_run", "create_dag_run", "execution_date", "DEFAULT_DATE", "session", "session"]], "task_secret": [["task_secret", "bash_command"], ["ti", "dag_run", "get_task_instance", "task_secret", "task_id", "session", "session"], ["ti", "refresh_from_task", "task_secret"], ["ti", "refresh_from_task", "task_secret"]]}, "params_p": {"admin_client": [], "args": [], "create_dag_run": [["Iterator[Tuple[hermes.types.UserType, hermes.types.EmailAddressType]]", 0.22405906954269955], ["models.User", 0.10783112268116031], ["models.RepoInterface", 0.10783112268116031], ["tracim.models.User", 0.0970327507297402], ["str", 0.08995776868023629], ["models.user.User", 0.08822503843402667]], "kwargs": [], "task_secret": []}, "q_name": "test_rendered_template_secret", "ret_exprs": [], "ret_type": "", "variables": {"dag_run": "", "date": "", "resp": "", "ti": "", "url": ""}, "variables_p": {"dag_run": [["dict", 0.18511781883154665], ["Dict[str, str]", 0.09703948545286388], ["correios.models.posting.TrackingCode", 0.08964836695288106], ["legistar.models.MatterStatus", 0.08952953444647391], ["Dict[str, int]", 0.08363277541163727]], "date": [["Pattern[str]", 0.43186481898342144], ["str", 0.37215162212933234]], "resp": [["requests.models.Response", 0.719938282349628]], "ti": [["owlmixin.TList[jumeaux.models.Request]", 0.09643776485462682], ["tuple", 0.09195274172232161], ["zerver.models.Realm", 0.08644369628478979], ["Optional[str]", 0.08636961372769983]], "url": [["str", 0.8922805127662804], ["property", 0.10771948723371962]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[306, 0], [331, 37]], "fn_var_ln": {"dag": [[311, 4], [311, 7]], "date": [[314, 4], [314, 8]], "env": [[313, 4], [313, 19]], "resp": [[326, 4], [326, 8]], "task_secret": [[312, 4], [312, 15]], "url": [[315, 4], [315, 7]]}, "fn_var_occur": {"dag": [["dag", "airflow", "models", "DAG", "patch_app", "dag_bag", "get_dag"], ["task_secret", "airflow", "operators", "bash", "BashOperator", "dag", "get_task", "task_id"], ["dag", "create_dagrun", "state", "DagRunState", "RUNNING", "execution_date", "DEFAULT_DATE", "data_interval", "DEFAULT_DATE", "DEFAULT_DATE", "run_type", "DagRunType", "SCHEDULED", "session", "session"]], "date": [["date", "quote_plus", "str", "DEFAULT_DATE"], ["url", "date"]], "env": [["task_secret", "env", "env"]], "resp": [["resp", "admin_client", "get", "url", "follow_redirects", "True"], ["check_content_in_response", "str", "escape", "expected", "resp"]], "task_secret": [["task_secret", "airflow", "operators", "bash", "BashOperator", "dag", "get_task", "task_id"], ["task_secret", "env", "env"]], "url": [["url", "date"], ["resp", "admin_client", "get", "url", "follow_redirects", "True"]]}, "name": "test_rendered_task_detail_env_secret", "params": {"admin_client": "", "env": "", "expected": "", "patch_app": "", "request": ""}, "params_descr": {"admin_client": "", "env": "", "expected": "", "patch_app": "", "request": ""}, "params_occur": {"admin_client": [["resp", "admin_client", "get", "url", "follow_redirects", "True"]], "env": [["task_secret", "env", "env"]], "expected": [["check_content_in_response", "str", "escape", "expected", "resp"]], "patch_app": [["dag", "airflow", "models", "DAG", "patch_app", "dag_bag", "get_dag"]], "request": [["request", "node", "callspec", "id", "endswith"], ["request", "node", "callspec", "id", "endswith"]]}, "params_p": {"admin_client": [["str", 0.5163741224998533]], "args": [], "env": [["str", 0.3381913933341499], ["bool", 0.1846929302944805], ["Sequence[str]", 0.10748120008415975], ["int", 0.09234646514724025]], "expected": [["str", 0.7401708374324008], ["bool", 0.17413990702021095]], "kwargs": [], "patch_app": [["str", 0.10484559706675582], ["Callable", 0.09130207776863805]], "request": [["starlette.types.Receive", 0.1223719657361731], ["starlette.types.Scope", 0.1223719657361731], ["Optional[str]", 0.11580876283017248], ["Callable[[], str]", 0.09218540422321134], ["cmk.utils.type_defs.ServiceName", 0.0884369388026328], ["cmk.utils.type_defs.HostName", 0.0884369388026328], ["Dict[int, dict]", 0.08164973390136564]]}, "q_name": "test_rendered_task_detail_env_secret", "ret_exprs": [], "ret_type": "", "variables": {"dag": "airflow.models.DAG", "date": "", "env": "", "resp": "", "task_secret": "airflow.operators.bash.BashOperator", "url": ""}, "variables_p": {"dag": [["jinete.models.trips.Trip", 0.2027933543480777], ["salon.models.Stylist", 0.20062318813025498], ["passzero.models.entries.Entry_v4", 0.11644436476906467], ["notifications.models.Notification", 0.09826314601491315], ["models.Person.Person", 0.0976778201095766], ["finances.models.Discount", 0.09537982330735939], ["simple_model.models.Model", 0.0950554018757158], ["salon.models.StylistService", 0.09376290144503785]], "date": [["Pattern[str]", 0.43186481898342144], ["str", 0.37215162212933234]], "env": [["str", 0.18272326079331475], ["int", 0.11852934196488044], ["List[Union[Any, Any]]", 0.09485073810594549], ["List[List[str]]", 0.09294507033684815], ["list", 0.08838592278117098], ["List[int]", 0.08831662476171015], ["List[bool]", 0.08354132175423629], ["dict", 0.08256170955783629]], "resp": [["str", 0.09644618427332809], ["requests.models.Response", 0.0913500367885685]], "task_secret": [["str", 0.30328392719472874], ["Tuple[str, str]", 0.11209179062630266], ["List[str]", 0.09221289314192875]], "url": [["str", 0.8922805127662804], ["property", 0.10771948723371962]]}}, {"docstring": {"func": "Test that the Rendered View can show a list of syntax-highlighted SQL statements", "long_descr": null, "ret": null}, "fn_lc": [[335, 0], [348, 51]], "fn_var_ln": {"resp": [[346, 4], [346, 8]], "url": [[344, 4], [344, 7]]}, "fn_var_occur": {"resp": [["resp", "admin_client", "get", "url", "follow_redirects", "True"], ["check_content_in_response", "resp"], ["check_content_in_response", "resp"]], "url": [["url", "quote_plus", "str", "DEFAULT_DATE"], ["resp", "admin_client", "get", "url", "follow_redirects", "True"]]}, "name": "test_rendered_template_view_for_list_template_field_args", "params": {"admin_client": "", "create_dag_run": "", "task3": ""}, "params_descr": {"admin_client": "", "create_dag_run": "", "task3": ""}, "params_occur": {"admin_client": [["resp", "admin_client", "get", "url", "follow_redirects", "True"]], "create_dag_run": [["create_dag_run", "execution_date", "DEFAULT_DATE", "session", "session"]], "task3": [["task3", "sql"]]}, "params_p": {"admin_client": [], "args": [], "create_dag_run": [["core.models.Grouping", 0.19505254127677824], ["core.models.MyUser", 0.09224924933882901]], "kwargs": [], "task3": []}, "q_name": "test_rendered_template_view_for_list_template_field_args", "ret_exprs": [], "ret_type": "", "variables": {"resp": "", "url": ""}, "variables_p": {"resp": [["requests.models.Response", 0.719938282349628]], "url": [["str", 0.2815161573569024], ["list", 0.18907994700361735], ["Dict[str, str]", 0.1025940751693371], ["Dict[str, Any]", 0.1014867883434116]]}}, {"docstring": {"func": "Test that the Rendered View can show rendered values in op_args and op_kwargs", "long_descr": null, "ret": null}, "fn_lc": [[352, 0], [366, 70]], "fn_var_ln": {"resp": [[364, 4], [364, 8]], "url": [[362, 4], [362, 7]]}, "fn_var_occur": {"resp": [["resp", "admin_client", "get", "url", "follow_redirects", "True"], ["check_content_in_response", "resp"], ["check_content_in_response", "resp"]], "url": [["url", "quote_plus", "str", "DEFAULT_DATE"], ["resp", "admin_client", "get", "url", "follow_redirects", "True"]]}, "name": "test_rendered_template_view_for_op_args", "params": {"admin_client": "", "create_dag_run": "", "task4": ""}, "params_descr": {"admin_client": "", "create_dag_run": "", "task4": ""}, "params_occur": {"admin_client": [["resp", "admin_client", "get", "url", "follow_redirects", "True"]], "create_dag_run": [["create_dag_run", "execution_date", "DEFAULT_DATE", "session", "session"]], "task4": [["task4", "op_args"], ["list", "task4", "op_kwargs", "values"]]}, "params_p": {"admin_client": [], "args": [], "create_dag_run": [["core.models.Grouping", 0.19157853578322057]], "kwargs": [], "task4": []}, "q_name": "test_rendered_template_view_for_op_args", "ret_exprs": [], "ret_type": "", "variables": {"resp": "", "url": ""}, "variables_p": {"resp": [["requests.models.Response", 0.719938282349628]], "url": [["str", 0.2815161573569024], ["list", 0.18907994700361735], ["Dict[str, str]", 0.1025940751693371], ["Dict[str, Any]", 0.1014867883434116]]}}], "imports": ["__future__", "annotations", "unittest", "mock", "urllib", "parse", "quote_plus", "pytest", "markupsafe", "escape", "airflow", "models", "DAG", "RenderedTaskInstanceFields", "Variable", "airflow", "models", "baseoperator", "BaseOperator", "airflow", "operators", "bash", "BashOperator", "airflow", "operators", "python", "PythonOperator", "airflow", "serialization", "serialized_objects", "SerializedDAG", "airflow", "utils", "timezone", "airflow", "utils", "session", "create_session", "airflow", "utils", "state", "DagRunState", "TaskInstanceState", "airflow", "utils", "types", "DagRunType", "tests", "test_utils", "db", "clear_db_dags", "clear_db_runs", "clear_rendered_ti_fields", "tests", "test_utils", "www", "check_content_in_response", "check_content_not_in_response"], "mod_var_ln": {"DEFAULT_DATE": [[38, 0], [38, 12]]}, "mod_var_occur": {"DEFAULT_DATE": [["DAG", "start_date", "DEFAULT_DATE", "user_defined_filters", "name", "name", "user_defined_macros", "fname", "lname", "fname", "lname"], ["dag_run", "create_dag_run", "execution_date", "DEFAULT_DATE", "session", "session"], ["url", "quote_plus", "str", "DEFAULT_DATE"], ["create_dag_run", "execution_date", "DEFAULT_DATE", "session", "session"], ["url", "quote_plus", "str", "DEFAULT_DATE"], ["create_dag_run", "execution_date", "DEFAULT_DATE", "session", "session"], ["url", "quote_plus", "str", "DEFAULT_DATE"], ["dag_run", "create_dag_run", "execution_date", "DEFAULT_DATE", "session", "session"], ["date", "quote_plus", "str", "DEFAULT_DATE"], ["date", "quote_plus", "str", "DEFAULT_DATE"], ["dag", "create_dagrun", "state", "DagRunState", "RUNNING", "execution_date", "DEFAULT_DATE", "data_interval", "DEFAULT_DATE", "DEFAULT_DATE", "run_type", "DagRunType", "SCHEDULED", "session", "session"], ["create_dag_run", "execution_date", "DEFAULT_DATE", "session", "session"], ["url", "quote_plus", "str", "DEFAULT_DATE"], ["create_dag_run", "execution_date", "DEFAULT_DATE", "session", "session"], ["url", "quote_plus", "str", "DEFAULT_DATE"]]}, "no_types_annot": {"D": 3, "I": 0, "U": 98}, "session_id": "Vt4V2x3Tmx6MouRqql6cJVbWdZIcQIikDPzjKYAKw4I", "set": null, "tc": [false, null], "type_annot_cove": 0.03, "typed_seq": "", "untyped_seq": "", "variables": {"DEFAULT_DATE": ""}, "variables_p": {"DEFAULT_DATE": [["Type[hypha.apply.projects.models.Report]", 0.09274615368638073]]}}}