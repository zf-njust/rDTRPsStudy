{"error": null, "response": {"classes": [{"cls_lc": [[509, 0], [521, 19]], "cls_var_ln": {"EXTERNAL_URL": [[510, 4], [510, 16]]}, "cls_var_occur": {"EXTERNAL_URL": []}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[513, 4], [514, 28]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "log_name", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "_ExternalHandler.log_name", "ret_exprs": ["return \"ExternalLog\""], "ret_type": "builtins.str", "ret_type_p": [["bool", 0.42927217669869594], ["dict", 0.18205211719478692], ["zam_repondeur.models.Lecture", 0.08894521424156215], ["Callable[[Any], bool]", 0.08410443714057476]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[516, 4], [517, 32]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_external_log_url", "params": {"args": "", "kwargs": "", "self": ""}, "params_descr": {"args": "", "kwargs": "", "self": ""}, "params_occur": {"args": [], "kwargs": [], "self": [["self", "EXTERNAL_URL"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "_ExternalHandler.get_external_log_url", "ret_exprs": ["return self.EXTERNAL_URL"], "ret_type": "builtins.str", "ret_type_p": [["str", 1.0]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[520, 4], [521, 19]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "supports_external_link", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "_ExternalHandler.supports_external_link", "ret_exprs": ["return True"], "ret_type": "builtins.bool", "ret_type_p": [["bool", 0.9999999999999999]], "variables": {}, "variables_p": {}}], "name": "_ExternalHandler", "q_name": "_ExternalHandler", "variables": {"EXTERNAL_URL": ""}, "variables_p": {"EXTERNAL_URL": [["str", 0.7999999999999999], ["classmethod", 0.09999999999999999]]}}], "funcs": [{"docstring": {"func": "Make sure that the configure_logging is not cached.", "long_descr": null, "ret": null}, "fn_lc": [[56, 0], [58, 28]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "backup_modules", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "backup_modules", "ret_exprs": ["return dict(sys.modules)"], "ret_type": "", "ret_type_p": [["dict", 0.39914859974839667], ["Dict[str, Any]", 0.10109974990392302], ["int", 0.09072690614451624]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[62, 0], [63, 42]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "log_path", "params": {"tmp_path_factory": ""}, "params_descr": {"tmp_path_factory": ""}, "params_occur": {"tmp_path_factory": [["tmp_path_factory", "mktemp"]]}, "params_p": {"args": [], "kwargs": [], "tmp_path_factory": [["str", 0.7181276317285179], ["pathlib.Path", 0.1431213295648271], ["bool", 0.07702080003625016], ["List[int]", 0.061730238670404954]]}, "q_name": "log_path", "ret_exprs": ["return tmp_path_factory.mktemp(\"logs\")"], "ret_type": "", "ret_type_p": [["pathlib.Path", 0.9060230573237873], ["Optional[str]", 0.09397694267621269]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[82, 4], [96, 18]], "fn_var_ln": {"app": [[83, 8], [83, 11]], "security_manager": [[86, 8], [86, 24]]}, "fn_var_occur": {"app": [["app", "create_app", "testing", "True"], ["app", "config", "False"], ["security_manager", "app", "appbuilder", "sm"]], "security_manager": [["security_manager", "app", "appbuilder", "sm"], ["security_manager", "find_user", "username"], ["security_manager", "add_user", "username", "first_name", "last_name", "email", "role", "security_manager", "find_role", "password"]]}, "name": "factory", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "log_app.<locals>.factory", "ret_exprs": ["return app"], "ret_type": "", "ret_type_p": [["abilian.app.Application", 0.19703117695102565]], "variables": {"app": "", "security_manager": ""}, "variables_p": {"app": [["flask.app.Flask", 0.5899669825597225], ["Union[Literal, str]", 0.23050931340310024]], "security_manager": [["str", 0.10003156534512062], ["List[str]", 0.08463084260457517], ["bool", 0.08163208915437258]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[67, 0], [109, 53]], "fn_var_ln": {"local_settings": [[103, 8], [103, 22]], "logging_config": [[99, 4], [99, 18]]}, "fn_var_occur": {"local_settings": [["local_settings", "pathlib", "Path", "settings_dir"], ["local_settings", "write_text", "logging_config"]], "logging_config": [["logging_config", "copy", "deepcopy", "DEFAULT_LOGGING_CONFIG"], ["logging_config", "str", "log_path"], ["local_settings", "write_text", "logging_config"]]}, "name": "log_app", "params": {"backup_modules": "", "log_path": ""}, "params_descr": {"backup_modules": "", "log_path": ""}, "params_occur": {"backup_modules": [], "log_path": [["logging_config", "str", "log_path"]]}, "params_p": {"args": [], "backup_modules": [["str", 0.2903337508876223], ["List[pathlib.Path]", 0.21936161585629382], ["list", 0.11638549494331969]], "kwargs": [], "log_path": [["str", 0.5646641986654484], ["int", 0.141421485135609], ["pathlib.Path", 0.1092635403447637], ["Optional[Union[pathlib.Path, str]]", 0.09347333385016272], ["pathlib.PurePath", 0.09117744200401628]]}, "q_name": "log_app", "ret_exprs": [], "ret_type": "", "variables": {"local_settings": "", "logging_config": ""}, "variables_p": {"local_settings": [["pathlib.Path", 1.0]], "logging_config": [["Dict[str, str]", 0.36096158486458085], ["str", 0.3608183727723965], ["Optional[str]", 0.09775549615152461], ["Dict[str, Dict[Any, str]]", 0.09565704627152927], ["data_platform.config.ConfigManager", 0.08480749993996882]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[113, 0], [118, 28]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "reset_modules_after_every_test", "params": {"backup_modules": ""}, "params_descr": {"backup_modules": ""}, "params_occur": {"backup_modules": [["m", "m", "sys", "modules", "m", "backup_modules"]]}, "params_p": {"args": [], "backup_modules": [["str", 0.3905149766236589], ["float", 0.1822458970260704], ["Iterable[Hashable]", 0.09683447449508849]], "kwargs": []}, "q_name": "reset_modules_after_every_test", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[122, 0], [146, 19]], "fn_var_ln": {"_": [[130, 17], [130, 18]], "bag": [[138, 4], [138, 7]], "dag": [[123, 4], [123, 7]], "dag_bag": [[142, 4], [142, 19]], "dag_removed": [[130, 4], [130, 15]]}, "fn_var_occur": {"_": [["dag", "_", "create_dummy_dag", "dag_id", "DAG_ID", "task_id", "TASK_ID", "start_date", "DEFAULT_DATE", "with_dagrun_type", "None", "session", "session"], ["dag_removed", "_", "create_dummy_dag", "dag_id", "DAG_ID_REMOVED", "task_id", "TASK_ID", "start_date", "DEFAULT_DATE", "with_dagrun_type", "None", "session", "session"]], "bag": [["bag", "DagBag", "include_examples", "False"], ["bag", "bag_dag", "dag", "dag", "root_dag", "dag"], ["bag", "bag_dag", "dag", "dag_removed", "root_dag", "dag_removed"], ["bag", "sync_to_db", "session", "session"], ["log_app", "dag_bag", "bag"]], "dag": [["dag", "_", "create_dummy_dag", "dag_id", "DAG_ID", "task_id", "TASK_ID", "start_date", "DEFAULT_DATE", "with_dagrun_type", "None", "session", "session"], ["bag", "bag_dag", "dag", "dag", "root_dag", "dag"], ["bag", "bag_dag", "dag", "dag_removed", "root_dag", "dag_removed"], ["dag", "dag_removed"]], "dag_bag": [["log_app", "dag_bag", "bag"]], "dag_removed": [["dag_removed", "_", "create_dummy_dag", "dag_id", "DAG_ID_REMOVED", "task_id", "TASK_ID", "start_date", "DEFAULT_DATE", "with_dagrun_type", "None", "session", "session"], ["bag", "bag_dag", "dag", "dag_removed", "root_dag", "dag_removed"], ["dag", "dag_removed"]]}, "name": "dags", "params": {"create_dummy_dag": "", "log_app": "", "session": ""}, "params_descr": {"create_dummy_dag": "", "log_app": "", "session": ""}, "params_occur": {"create_dummy_dag": [["dag", "_", "create_dummy_dag", "dag_id", "DAG_ID", "task_id", "TASK_ID", "start_date", "DEFAULT_DATE", "with_dagrun_type", "None", "session", "session"], ["dag_removed", "_", "create_dummy_dag", "dag_id", "DAG_ID_REMOVED", "task_id", "TASK_ID", "start_date", "DEFAULT_DATE", "with_dagrun_type", "None", "session", "session"]], "log_app": [["log_app", "dag_bag", "bag"]], "session": [["dag", "_", "create_dummy_dag", "dag_id", "DAG_ID", "task_id", "TASK_ID", "start_date", "DEFAULT_DATE", "with_dagrun_type", "None", "session", "session"], ["dag_removed", "_", "create_dummy_dag", "dag_id", "DAG_ID_REMOVED", "task_id", "TASK_ID", "start_date", "DEFAULT_DATE", "with_dagrun_type", "None", "session", "session"], ["bag", "sync_to_db", "session", "session"]]}, "params_p": {"args": [], "create_dummy_dag": [["Optional[bool]", 0.10237475381326143], ["recidiviz.persistence.database.session.Session", 0.09827974357269983]], "kwargs": [], "log_app": [["str", 0.11284340358339383], ["bool", 0.11284340358339383], ["Type['nanaimo.fixtures.Fixture']", 0.10658346790197545], ["dict", 0.09621184108153964], ["int", 0.09621184108153964]], "session": [["Optional[bool]", 0.10237475381326143], ["recidiviz.persistence.database.session.Session", 0.09827974357269983]]}, "q_name": "dags", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "bag": "", "dag": "", "dag_bag": "", "dag_removed": ""}, "variables_p": {"_": [["int", 0.2905010154103527], ["str", 0.19325169213421364], ["float", 0.09614400098983034], ["Optional[Callable[..., Any]]", 0.09452399056345792], ["Dict[str, List[str]]", 0.09072404420439367]], "bag": [["float", 0.09743416502041458], ["List[str]", 0.09743416502041458], ["str", 0.09372004627111757]], "dag": [["int", 0.2905010154103527], ["str", 0.19325169213421364], ["float", 0.09614400098983034], ["Optional[Callable[..., Any]]", 0.09452399056345792], ["Dict[str, List[str]]", 0.09072404420439367]], "dag_bag": [["str", 0.29953279069690053], ["int", 0.09989974436906345], ["List[int]", 0.09656199893345795], ["Dict[str, Union[Any, Any, Any, Any]]", 0.0956890243569178]], "dag_removed": [["str", 0.29100410539009247], ["Union[Literal, Literal]", 0.09887111828848714], ["backend.api.models.group.Group", 0.09746907941423955], ["int", 0.09084955521210247], ["Dict[Any, str]", 0.0898434503652868], ["List[Dict[str, Any]]", 0.08761059360299342]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[150, 0], [176, 19]], "fn_var_ln": {"dag": [[151, 4], [151, 7]], "dag_removed": [[151, 9], [151, 20]], "dagrun": [[152, 4], [152, 10]], "dagrun_removed": [[163, 4], [163, 18]], "hostname": [[162, 4], [162, 15]], "ti": [[160, 5], [160, 7]], "ti_removed_dag": [[171, 5], [171, 19]], "try_number": [[172, 4], [172, 29]]}, "fn_var_occur": {"dag": [["dag", "dag_removed", "dags"], ["dagrun", "dag", "create_dagrun", "run_type", "DagRunType", "SCHEDULED", "execution_date", "DEFAULT_DATE", "data_interval", "DEFAULT_DATE", "DEFAULT_DATE", "start_date", "DEFAULT_DATE", "state", "DagRunState", "RUNNING", "session", "session"]], "dag_removed": [["dag", "dag_removed", "dags"], ["dagrun_removed", "dag_removed", "create_dagrun", "run_type", "DagRunType", "SCHEDULED", "execution_date", "DEFAULT_DATE", "data_interval", "DEFAULT_DATE", "DEFAULT_DATE", "start_date", "DEFAULT_DATE", "state", "DagRunState", "RUNNING", "session", "session"]], "dagrun": [["dagrun", "dag", "create_dagrun", "run_type", "DagRunType", "SCHEDULED", "execution_date", "DEFAULT_DATE", "data_interval", "DEFAULT_DATE", "DEFAULT_DATE", "start_date", "DEFAULT_DATE", "state", "DagRunState", "RUNNING", "session", "session"], ["ti", "dagrun", "task_instances"]], "dagrun_removed": [["dagrun_removed", "dag_removed", "create_dagrun", "run_type", "DagRunType", "SCHEDULED", "execution_date", "DEFAULT_DATE", "data_interval", "DEFAULT_DATE", "DEFAULT_DATE", "start_date", "DEFAULT_DATE", "state", "DagRunState", "RUNNING", "session", "session"], ["ti_removed_dag", "dagrun_removed", "task_instances"]], "hostname": [["ti", "hostname"]], "ti": [["ti", "dagrun", "task_instances"], ["ti", "try_number"], ["ti", "hostname"], ["ti", "ti_removed_dag"]], "ti_removed_dag": [["ti_removed_dag", "dagrun_removed", "task_instances"], ["ti_removed_dag", "try_number"], ["ti", "ti_removed_dag"]], "try_number": [["ti", "try_number"], ["ti_removed_dag", "try_number"]]}, "name": "tis", "params": {"dags": "", "session": ""}, "params_descr": {"dags": "", "session": ""}, "params_occur": {"dags": [["dag", "dag_removed", "dags"]], "session": [["dagrun", "dag", "create_dagrun", "run_type", "DagRunType", "SCHEDULED", "execution_date", "DEFAULT_DATE", "data_interval", "DEFAULT_DATE", "DEFAULT_DATE", "start_date", "DEFAULT_DATE", "state", "DagRunState", "RUNNING", "session", "session"], ["dagrun_removed", "dag_removed", "create_dagrun", "run_type", "DagRunType", "SCHEDULED", "execution_date", "DEFAULT_DATE", "data_interval", "DEFAULT_DATE", "DEFAULT_DATE", "start_date", "DEFAULT_DATE", "state", "DagRunState", "RUNNING", "session", "session"]]}, "params_p": {"args": [], "dags": [["str", 0.3333333333033538], ["bool", 0.33333333328815395], ["Tuple[float, float]", 1.641188293390928e-11], ["server.types.RoundMetrics", 1.6129912843148e-11]], "kwargs": [], "session": [["sqlalchemy.orm.session.Session", 0.22413365992056758], ["models.Book", 0.1295619592951015], ["Union[server.models.User, int]", 0.100592068287059], ["recidiviz.persistence.database.session.Session", 0.09178541651990671], ["models.Submission", 0.08933425350601755], ["models.User", 0.08892641242946743], ["Optional[str]", 0.08589362193928335]]}, "q_name": "tis", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "dag_removed": "", "dagrun": "", "dagrun_removed": "", "hostname": "", "ti": "", "ti_removed_dag": "", "try_number": ""}, "variables_p": {"dag": [["Union[Literal, str]", 0.11999984445183239]], "dag_removed": [], "dagrun": [["str", 0.49884870675553], ["Dict[str, Union[int, str]]", 0.10327178860288386]], "dagrun_removed": [["decompose.models.tensorFactorisation.TensorFactorisation", 0.18756455754546925], ["Optional[byceps.services.shop.order.models.order.Order]", 0.1857637948095494], ["byceps.services.party.transfer.models.Party", 0.11233169572745579], ["Tuple[Any, Any, Any, Any, Any, Any, Any, Any, Any, Any]", 0.10698155532108507]], "hostname": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]], "ti": [["str", 0.4184139798473681], ["Dict[str, str]", 0.16075814970891816]], "ti_removed_dag": [["str", 0.25026291687713176], ["dict", 0.16492030007675937], ["chalice.app.Chalice", 0.11651170515520314], ["Mapping", 0.09457931191383237]], "try_number": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[184, 4], [188, 23]], "fn_var_ln": {"try_number": [[185, 8], [185, 21]]}, "fn_var_occur": {"try_number": [["ti", "try_number", "try_number"]]}, "name": "create_expected_log_file", "params": {"try_number": ""}, "params_descr": {"try_number": ""}, "params_occur": {"try_number": [["ti", "try_number", "try_number"]]}, "params_p": {"args": [], "kwargs": [], "try_number": [["str", 0.4544711357864509], ["int", 0.1700740307628528], ["bool", 0.10931552181293806], ["pathlib.Path", 0.09606528087490533], ["Dict[str, Any]", 0.0850370153814264]]}, "q_name": "create_expected_log_file.<locals>.create_expected_log_file", "ret_exprs": [], "ret_type": "", "variables": {"try_number": ""}, "variables_p": {"try_number": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[180, 0], [195, 31]], "fn_var_ln": {"_": [[181, 8], [181, 9]], "handler": [[182, 4], [182, 11]], "ti": [[181, 4], [181, 6]]}, "fn_var_occur": {"_": [], "handler": [], "ti": []}, "name": "create_expected_log_file", "params": {"log_path": "", "tis": ""}, "params_descr": {"log_path": "", "tis": ""}, "params_occur": {"log_path": [["log_path", "iterdir"]], "tis": []}, "params_p": {"args": [], "kwargs": [], "log_path": [["str", 0.9124863709929374], ["pathlib.Path", 0.0875136290070627]], "tis": [["str", 0.2681775324151724], ["List[Tuple[object, object]]", 0.2673538456805077], ["pathlib.Path", 0.17950452468248032], ["int", 0.08803102284564197]]}, "q_name": "create_expected_log_file", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "handler": "", "ti": ""}, "variables_p": {"_": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "handler": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "ti": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[199, 0], [200, 71]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "log_admin_client", "params": {"log_app": ""}, "params_descr": {"log_app": ""}, "params_occur": {"log_app": [["client_with_login", "log_app", "username", "password"]]}, "params_p": {"args": [], "kwargs": [], "log_app": [["str", 0.18739178940401896], ["bool", 0.10910885917530533], ["zam_repondeur.models.Lecture", 0.10744027480858764], ["List[str]", 0.104866298856653]]}, "q_name": "log_admin_client", "ret_exprs": ["return client_with_login(log_app, username=\"test\", password=\"test\")"], "ret_type": "", "ret_type_p": [], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[224, 0], [243, 50]], "fn_var_ln": {"_": [[225, 8], [225, 9]], "data": [[238, 4], [238, 8]], "response": [[231, 4], [231, 12]], "state": [[227, 8], [227, 16]], "ti": [[225, 4], [225, 6]], "try_number": [[228, 8], [228, 21]]}, "fn_var_occur": {"_": [["ti", "_", "tis"]], "data": [["response", "log_admin_client", "get", "ENDPOINT", "data", "follow_redirects", "True"], ["data", "response", "data", "decode"], ["num", "data"], ["num_logs", "data"]], "response": [["response", "log_admin_client", "get", "ENDPOINT", "data", "follow_redirects", "True"], ["response", "status_code"], ["data", "response", "data", "decode"]], "state": [["ti", "state", "state"]], "ti": [["ti", "_", "tis"], ["ti", "state", "state"], ["ti", "try_number", "try_number"], ["session", "merge", "ti"]], "try_number": [["ti", "try_number", "try_number"]]}, "name": "test_get_file_task_log", "params": {"log_admin_client": "", "num_logs": "", "state": "", "tis": "", "try_number": ""}, "params_descr": {"log_admin_client": "", "num_logs": "", "state": "", "tis": "", "try_number": ""}, "params_occur": {"log_admin_client": [["response", "log_admin_client", "get", "ENDPOINT", "data", "follow_redirects", "True"]], "num_logs": [["range", "num_logs"], ["num_logs", "data"]], "state": [["ti", "state", "state"]], "tis": [["ti", "_", "tis"]], "try_number": [["ti", "try_number", "try_number"]]}, "params_p": {"args": [], "kwargs": [], "log_admin_client": [["bool", 0.3943036364205154], ["str", 0.25710723490498044]], "num_logs": [["int", 0.8129325207498723], ["Optional[int]", 0.08271174250987752]], "state": [["str", 0.2533773294528132], ["List[List[Any]]", 0.13425802877127938], ["Iterable[models.Course]", 0.09754634560927873], ["Optional[Callable]", 0.0843150882134843]], "tis": [["bool", 0.1973908243462371], ["int", 0.18921850718252847], ["str", 0.17120968407015463], ["Optional[object]", 0.0721403389641664]], "try_number": [["str", 0.2533773294528132], ["List[List[Any]]", 0.13425802877127938], ["Iterable[models.Course]", 0.09754634560927873], ["Optional[Callable]", 0.0843150882134843]]}, "q_name": "test_get_file_task_log", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "data": "", "response": "", "state": "", "ti": "", "try_number": ""}, "variables_p": {"_": [["int", 0.19999999999999998], ["str", 0.19999999999999998], ["List[str]", 0.09999999999999999], ["Union[bytes, int]", 0.09999999999999999], ["bool", 0.09999999999999999], ["Tuple[int, int]", 0.09999999999999999]], "data": [["List[Dict[str, str]]", 0.2572320806826993], ["Optional[str]", 0.10955230982295781], ["str", 0.09165063859013295], ["requests.models.Response", 0.08826148576240388], ["Dict[str, str]", 0.08292158736788233]], "response": [["requests.models.Response", 0.8939178749079416]], "state": [["str", 0.7999999999999999], ["Dict[str, str]", 0.1]], "ti": [["int", 0.19056782203446354], ["float", 0.10008766344898656], ["Dict[int, int]", 0.0980076082021584], ["dict", 0.09142676974557369]], "try_number": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[246, 0], [272, 57]], "fn_var_ln": {"content_disposition": [[264, 4], [264, 23]], "date": [[254, 4], [254, 8]], "response": [[262, 4], [262, 12]], "try_number": [[252, 4], [252, 14]], "url": [[255, 4], [255, 7]], "url_template": [[247, 4], [247, 16]]}, "fn_var_occur": {"content_disposition": [["content_disposition", "response", "headers"], ["content_disposition", "startswith"], ["DAG_ID", "date", "TASK_ID", "try_number", "content_disposition"]], "date": [["date", "DEFAULT_DATE", "isoformat"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "date", "try_number"], ["DAG_ID", "date", "TASK_ID", "try_number", "content_disposition"]], "response": [["response", "log_admin_client", "get", "url"], ["content_disposition", "response", "headers"], ["response", "status_code"], ["response", "data", "decode"], ["response", "data", "decode"]], "try_number": [["create_expected_log_file", "try_number"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "date", "try_number"], ["DAG_ID", "date", "TASK_ID", "try_number", "content_disposition"]], "url": [["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "date", "try_number"], ["response", "log_admin_client", "get", "url"]], "url_template": [["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "date", "try_number"]]}, "name": "test_get_logs_with_metadata_as_download_file", "params": {"create_expected_log_file": "", "log_admin_client": ""}, "params_descr": {"create_expected_log_file": "", "log_admin_client": ""}, "params_occur": {"create_expected_log_file": [["create_expected_log_file", "try_number"]], "log_admin_client": [["response", "log_admin_client", "get", "url"]]}, "params_p": {"args": [], "create_expected_log_file": [["tests.testlibraries.parametrizer.file_states.MultipleFilePathState", 0.3067153326395724], ["pathlib.Path", 0.10602696164026432], ["Callable", 0.10136602991463516], ["str", 0.0932383656925482], ["Optional[str]", 0.09305234409947319]], "kwargs": [], "log_admin_client": []}, "q_name": "test_get_logs_with_metadata_as_download_file", "ret_exprs": [], "ret_type": "", "variables": {"content_disposition": "", "date": "", "response": "", "try_number": "", "url": "", "url_template": ""}, "variables_p": {"content_disposition": [["str", 0.7074064166151763], ["int", 0.09269449474055978], ["cmk.base.api.agent_based.checking_classes.state", 0.09199755904012294]], "date": [["str", 1.0000000000000002]], "response": [["requests.models.Response", 1.0]], "try_number": [["str", 0.8304889110484208], ["Dict[str, List[Any]]", 0.08139858760177514]], "url": [["str", 0.3246938204368054], ["List[str]", 0.11521101214500479], ["Dict[int, str]", 0.09762636636290131], ["dict", 0.09761424957096079], ["cmk.utils.type_defs.UserId", 0.09065746435312472]], "url_template": [["str", 0.588472284246694], ["Pattern[str]", 0.15370446879370478], ["Dict[str, str]", 0.09327156622442881], ["Optional[str]", 0.08882641597800421]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[279, 0], [295, 85]], "fn_var_ln": {"_": [[290, 8], [290, 9]], "dag_run": [[291, 4], [291, 14]], "log_template": [[282, 8], [282, 20]], "run_filters": [[280, 4], [280, 15]], "run_query": [[286, 8], [286, 17]], "ti": [[290, 4], [290, 6]]}, "fn_var_occur": {"_": [["ti", "_", "tis"]], "dag_run": [["dag_run", "run_query", "one"], ["ti", "dag_run", "dag_run"]], "log_template": [["log_template", "session", "merge", "LogTemplate", "filename", "DIFFERENT_LOG_FILENAME", "elasticsearch_id"], ["run_query", "update", "log_template", "id"], ["session", "query", "LogTemplate", "filter", "LogTemplate", "id", "log_template", "id", "delete"]], "run_filters": [["run_filters", "DagRun", "dag_id", "DAG_ID", "DagRun", "execution_date", "DEFAULT_DATE"], ["run_query", "session", "query", "DagRun", "filter", "run_filters"], ["session", "query", "DagRun", "filter", "run_filters", "update", "None"]], "run_query": [["run_query", "session", "query", "DagRun", "filter", "run_filters"], ["run_query", "update", "log_template", "id"], ["dag_run", "run_query", "one"]], "ti": [["ti", "_", "tis"], ["ti", "dag_run", "dag_run"]]}, "name": "dag_run_with_log_filename", "params": {"tis": ""}, "params_descr": {"tis": ""}, "params_occur": {"tis": [["ti", "_", "tis"]]}, "params_p": {"args": [], "kwargs": [], "tis": [["str", 0.25067361344549643], ["bool", 0.21485070428670644], ["set", 0.09766998554786062], ["cmk.utils.type_defs.HostName", 0.09717141834249374], ["bytes", 0.06912840895978438]]}, "q_name": "dag_run_with_log_filename", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "dag_run": "", "log_template": "", "run_filters": "", "run_query": "", "ti": ""}, "variables_p": {"_": [["int", 0.19999999999999998], ["str", 0.19999999999999998], ["List[str]", 0.09999999999999999], ["Union[bytes, int]", 0.09999999999999999], ["bool", 0.09999999999999999], ["Tuple[int, int]", 0.09999999999999999]], "dag_run": [["str", 0.5699764590205508], ["Dict[str, str]", 0.12574728471657692], ["List[str]", 0.11240256330478123], ["list", 0.09881205443263551], ["bool", 0.0930616385254554]], "log_template": [["str", 0.6706052919645146], ["Optional[str]", 0.3293947080354854]], "run_filters": [["int", 0.27747844949254297], ["Dict[str, str]", 0.10823797871986163], ["str", 0.09528093119736332], ["Pattern[Any]", 0.09084596869611172]], "run_query": [["str", 0.4052230081330076], ["dict", 0.1039366932111583], ["bytes", 0.09487962465663936], ["List[Union[Any, Any]]", 0.09259559990372879]], "ti": [["int", 0.19999999999999998], ["str", 0.19999999999999998], ["List[str]", 0.09999999999999999], ["Union[bytes, int]", 0.09999999999999999], ["bool", 0.09999999999999999], ["Tuple[int, int]", 0.09999999999999999]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[298, 0], [319, 51]], "fn_var_ln": {"content_disposition": [[314, 4], [314, 23]], "expected_filename": [[315, 4], [315, 21]], "response": [[309, 4], [309, 12]], "try_number": [[301, 4], [301, 14]], "url": [[303, 4], [303, 7]]}, "fn_var_occur": {"content_disposition": [["content_disposition", "response", "headers"], ["content_disposition", "startswith"], ["expected_filename", "content_disposition"]], "expected_filename": [["expected_filename", "dag_run_with_log_filename", "dag_id", "dag_run_with_log_filename", "run_id", "TASK_ID", "try_number"], ["expected_filename", "content_disposition"]], "response": [["response", "log_admin_client", "get", "url"], ["response", "status_code"], ["response", "data", "decode"], ["content_disposition", "response", "headers"]], "try_number": [["create_expected_log_file", "try_number"], ["url", "dag_run_with_log_filename", "dag_id", "TASK_ID", "urllib", "parse", "quote_plus", "dag_run_with_log_filename", "logical_date", "isoformat", "try_number"], ["expected_filename", "dag_run_with_log_filename", "dag_id", "dag_run_with_log_filename", "run_id", "TASK_ID", "try_number"]], "url": [["url", "dag_run_with_log_filename", "dag_id", "TASK_ID", "urllib", "parse", "quote_plus", "dag_run_with_log_filename", "logical_date", "isoformat", "try_number"], ["response", "log_admin_client", "get", "url"]]}, "name": "test_get_logs_for_changed_filename_format_db", "params": {"create_expected_log_file": "", "dag_run_with_log_filename": "", "log_admin_client": ""}, "params_descr": {"create_expected_log_file": "", "dag_run_with_log_filename": "", "log_admin_client": ""}, "params_occur": {"create_expected_log_file": [["create_expected_log_file", "try_number"]], "dag_run_with_log_filename": [["url", "dag_run_with_log_filename", "dag_id", "TASK_ID", "urllib", "parse", "quote_plus", "dag_run_with_log_filename", "logical_date", "isoformat", "try_number"], ["expected_filename", "dag_run_with_log_filename", "dag_id", "dag_run_with_log_filename", "run_id", "TASK_ID", "try_number"]], "log_admin_client": [["response", "log_admin_client", "get", "url"]]}, "params_p": {"args": [], "create_expected_log_file": [["str", 0.2705973982136211], ["tuple", 0.12937795171896854], ["Union[pathlib.Path, str, None]", 0.101026347063375], ["Dict[str, Any]", 0.101026347063375], ["Optional[str]", 0.101026347063375], ["pathlib.Path", 0.08815177833821906]], "dag_run_with_log_filename": [["str", 0.4082769532090005], ["bool", 0.18921988116447783]], "kwargs": [], "log_admin_client": [["bool", 0.10726907561239056], ["str", 0.10249435178472802], ["List[str]", 0.0928756417821034], ["Optional[List[str]]", 0.0826002088601777]]}, "q_name": "test_get_logs_for_changed_filename_format_db", "ret_exprs": [], "ret_type": "", "variables": {"content_disposition": "", "expected_filename": "", "response": "", "try_number": "", "url": ""}, "variables_p": {"content_disposition": [["str", 0.8307819599474008], ["Dict[str, str]", 0.16921804005259927]], "expected_filename": [["str", 0.613553113099438], ["Union[Literal, Literal]", 0.10948075746513077], ["int", 0.09851720135239649], ["Dict[int, bytes]", 0.08980617507911], ["Optional[str]", 0.08864275300392459]], "response": [["requests.models.Response", 1.0]], "try_number": [["float", 0.20413650999662922], ["str", 0.19284266448768578], ["int", 0.1024250587172674], ["Dict[str, Any]", 0.0968013282029113]], "url": [["str", 0.26627090018634697], ["List[str]", 0.17037042194513208], ["tuple", 0.12199706447228195]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[331, 0], [351, 45]], "fn_var_ln": {"data": [[347, 4], [347, 8]], "response": [[345, 4], [345, 12]], "try_number": [[337, 4], [337, 14]], "url": [[338, 4], [338, 7]], "url_template": [[332, 4], [332, 16]]}, "fn_var_occur": {"data": [["data", "response", "data", "decode"]], "response": [["response", "log_admin_client", "get", "url"], ["data", "response", "data", "decode"]], "try_number": [["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"]], "url": [["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["response", "log_admin_client", "get", "url"]], "url_template": [["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"]]}, "name": "test_get_logs_with_metadata_as_download_large_file", "params": {"_": "", "log_admin_client": ""}, "params_descr": {"_": "", "log_admin_client": ""}, "params_occur": {"_": [], "log_admin_client": [["response", "log_admin_client", "get", "url"]]}, "params_p": {"_": [["str", 0.1995771651075783]], "args": [], "kwargs": [], "log_admin_client": []}, "q_name": "test_get_logs_with_metadata_as_download_large_file", "ret_exprs": [], "ret_type": "", "variables": {"data": "", "response": "", "try_number": "", "url": "", "url_template": ""}, "variables_p": {"data": [["Type[Dict[str, Any]]", 0.22549167865556657], ["Dict[str, Union[int, str]]", 0.17006705914335313], ["str", 0.09678823613322063], ["Dict[str, Any]", 0.08901790361333271], ["dict", 0.08544174675783538], ["List[str]", 0.08235826678065361], ["Dict[str, bool]", 0.08129527565525596]], "response": [["Dict[str, str]", 0.21203602744053396], ["requests.models.Response", 0.19397755836902614]], "try_number": [["str", 0.2839092528785107], ["Optional[magic.models.deck.Deck]", 0.20767143669590168], ["int", 0.16200023651841178], ["List[str]", 0.12556673314402633]], "url": [["Pattern[str]", 0.12914265319469165], ["Dict[int, str]", 0.11838543192635169], ["list", 0.10171686604151611], ["str", 0.09591746846122627], ["Dict[str, str]", 0.09477391135895187], ["dict", 0.09316632724939385], ["Dict[str, int]", 0.09295688215534371], ["Optional[\"Lecture\"]", 0.08975516252518391], ["Set[str]", 0.08572595947224133]], "url_template": [["str", 0.7675127328379754], ["Pattern[str]", 0.14468536972198376], ["Dict[str, str]", 0.08780189744004092]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[355, 0], [375, 37]], "fn_var_ln": {"data": [[372, 4], [372, 8]], "response": [[359, 4], [359, 12]], "try_number": [[357, 4], [357, 14]], "url_template": [[356, 4], [356, 16]]}, "fn_var_occur": {"data": [["response", "log_admin_client", "get", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number", "metadata", "data", "follow_redirects", "True"], ["data", "response", "data", "decode"]], "response": [["response", "log_admin_client", "get", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number", "metadata", "data", "follow_redirects", "True"], ["response", "status_code"], ["data", "response", "data", "decode"]], "try_number": [["create_expected_log_file", "try_number"], ["response", "log_admin_client", "get", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number", "metadata", "data", "follow_redirects", "True"]], "url_template": [["response", "log_admin_client", "get", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number", "metadata", "data", "follow_redirects", "True"]]}, "name": "test_get_logs_with_metadata", "params": {"create_expected_log_file": "", "log_admin_client": "", "metadata": ""}, "params_descr": {"create_expected_log_file": "", "log_admin_client": "", "metadata": ""}, "params_occur": {"create_expected_log_file": [["create_expected_log_file", "try_number"]], "log_admin_client": [["response", "log_admin_client", "get", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number", "metadata", "data", "follow_redirects", "True"]], "metadata": [["response", "log_admin_client", "get", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number", "metadata", "data", "follow_redirects", "True"]]}, "params_p": {"args": [], "create_expected_log_file": [["pathlib.Path", 0.2309632052388096], ["Union[pathlib.Path, str, None]", 0.12276660907219285], ["Dict[str, Any]", 0.12276660907219285], ["Optional[str]", 0.12276660907219285], ["str", 0.11039102404192287], ["Dict[str, str]", 0.08303372375360797], ["tuple", 0.07076274818622605], ["bool", 0.0678225695041669]], "kwargs": [], "log_admin_client": [["str", 0.8007443271214327], ["aiohttp.test_utils.TestClient", 0.0942521091710549]], "metadata": [["str", 0.8007443271214327], ["aiohttp.test_utils.TestClient", 0.0942521091710549]]}, "q_name": "test_get_logs_with_metadata", "ret_exprs": [], "ret_type": "", "variables": {"data": "", "response": "", "try_number": "", "url_template": ""}, "variables_p": {"data": [["str", 0.4167911778283288], ["List[Tuple[Any, Any, None]]", 0.18048360831514104], ["Dict[str, Union[int, str]]", 0.1518099430249267], ["Dict[str, Union[str, Any]]", 0.08622233165589392], ["list", 0.08530440823647988], ["Dict[str, Union[Any, str]]", 0.07938853093922964]], "response": [["requests.models.Response", 0.7292610169696669], ["str", 0.10290228595129614], ["Dict[str, str]", 0.0845608961147456], ["Dict[str, Any]", 0.0832758009642914]], "try_number": [["str", 0.7132546982603809], ["requests.models.Response", 0.09493174658784802], ["Dict[str, str]", 0.09475516986183534]], "url_template": [["str", 1.0]]}}, {"docstring": {"func": "Test invalid metadata JSON returns error message", "long_descr": null, "ret": null}, "fn_lc": [[378, 0], [395, 62]], "fn_var_ln": {"metadata": [[380, 4], [380, 12]], "response": [[382, 4], [382, 12]], "url_template": [[381, 4], [381, 16]]}, "fn_var_occur": {"metadata": [["response", "log_admin_client", "get", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "metadata", "data", "follow_redirects", "True"]], "response": [["response", "log_admin_client", "get", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "metadata", "data", "follow_redirects", "True"], ["response", "status_code"], ["response", "json"]], "url_template": [["response", "log_admin_client", "get", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "metadata", "data", "follow_redirects", "True"]]}, "name": "test_get_logs_with_invalid_metadata", "params": {"log_admin_client": ""}, "params_descr": {"log_admin_client": ""}, "params_occur": {"log_admin_client": [["response", "log_admin_client", "get", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "metadata", "data", "follow_redirects", "True"]]}, "params_p": {"args": [], "kwargs": [], "log_admin_client": [["str", 0.31679916546480935], ["django.conf.settings.AUTH_USER_MODEL", 0.09903486434560152], ["List[str]", 0.09814460811776328], ["bool", 0.09592779099663365]]}, "q_name": "test_get_logs_with_invalid_metadata", "ret_exprs": [], "ret_type": "", "variables": {"metadata": "", "response": "", "url_template": ""}, "variables_p": {"metadata": [["str", 0.7035905210874485], ["bool", 0.10316463312356815]], "response": [["requests.models.Response", 0.7415139367111669], ["Dict[str, Any]", 0.09030739089985519], ["list", 0.08445579978173282]], "url_template": [["str", 1.0]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[402, 0], [420, 37]], "fn_var_ln": {"data": [[417, 4], [417, 8]], "response": [[404, 4], [404, 12]], "url_template": [[403, 4], [403, 16]]}, "fn_var_occur": {"data": [["response", "log_admin_client", "get", "url_template", "format", "DAG_ID_REMOVED", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "data", "follow_redirects", "True"], ["data", "response", "data", "decode"]], "response": [["response", "log_admin_client", "get", "url_template", "format", "DAG_ID_REMOVED", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "data", "follow_redirects", "True"], ["response", "status_code"], ["data", "response", "data", "decode"]], "url_template": [["response", "log_admin_client", "get", "url_template", "format", "DAG_ID_REMOVED", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "data", "follow_redirects", "True"]]}, "name": "test_get_logs_with_metadata_for_removed_dag", "params": {"_": "", "log_admin_client": ""}, "params_descr": {"_": "", "log_admin_client": ""}, "params_occur": {"_": [], "log_admin_client": [["response", "log_admin_client", "get", "url_template", "format", "DAG_ID_REMOVED", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "data", "follow_redirects", "True"]]}, "params_p": {"_": [["str", 0.18670863720327918]], "args": [], "kwargs": [], "log_admin_client": [["str", 0.19569318730583946], ["List[str]", 0.0886235968627738]]}, "q_name": "test_get_logs_with_metadata_for_removed_dag", "ret_exprs": [], "ret_type": "", "variables": {"data": "", "response": "", "url_template": ""}, "variables_p": {"data": [["str", 0.8075366375298652], ["Dict[str, str]", 0.09042214711786722]], "response": [["requests.models.Response", 0.3330156522286966], ["str", 0.29837277164027093], ["list", 0.09572885435572992], ["Type[psef.models.rubric.RubricItem]", 0.09536465159038213], ["Dict[str, str]", 0.0919259654777168]], "url_template": [["str", 1.0000000000000002]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[423, 0], [442, 75]], "fn_var_ln": {"data": [[439, 4], [439, 8]], "response": [[437, 4], [437, 12]], "try_number": [[429, 4], [429, 14]], "url": [[430, 4], [430, 7]], "url_template": [[424, 4], [424, 16]]}, "fn_var_occur": {"data": [["data", "response", "json"]], "response": [["response", "log_admin_client", "get", "url"], ["data", "response", "json"]], "try_number": [["url", "url_template", "format", "DAG_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"]], "url": [["url", "url_template", "format", "DAG_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["response", "log_admin_client", "get", "url"]], "url_template": [["url", "url_template", "format", "DAG_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"]]}, "name": "test_get_logs_response_with_ti_equal_to_none", "params": {"log_admin_client": ""}, "params_descr": {"log_admin_client": ""}, "params_occur": {"log_admin_client": [["response", "log_admin_client", "get", "url"]]}, "params_p": {"args": [], "kwargs": [], "log_admin_client": []}, "q_name": "test_get_logs_response_with_ti_equal_to_none", "ret_exprs": [], "ret_type": "", "variables": {"data": "", "response": "", "try_number": "", "url": "", "url_template": ""}, "variables_p": {"data": [["str", 0.26610630711245004], ["dict", 0.2192814106275841], ["Dict[str, Union[None, int, str]]", 0.18591787129561396], ["List[str]", 0.10753109372993296], ["Pattern[str]", 0.07525348986826362], ["Dict[bytes, int]", 0.07337141182149703], ["bytes", 0.07253841554465813]], "response": [["requests.models.Response", 0.20552039971322783], ["Dict[str, str]", 0.08671187884813818]], "try_number": [["str", 0.3140896856789512], ["Dict[str, str]", 0.09431358776749506], ["List[str]", 0.09048947676234778], ["List[Dict[str, Any]]", 0.08578031745517382], ["List[magic.models.deck.Deck]", 0.0844557925752989], ["list", 0.08209222914816122]], "url": [["list", 0.1170443678426806], ["List[Union[Any, Any, Any, Any]]", 0.10477554711345012], ["str", 0.0984579944061108], ["Optional[str]", 0.09410454521451775], ["List[Tuple[Any, Any]]", 0.09344130875712657]], "url_template": [["str", 0.6969487714156677], ["list", 0.10463171678286304], ["Pattern[str]", 0.09097929214424107]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[445, 0], [465, 63]], "fn_var_ln": {"response": [[460, 4], [460, 12]], "try_number": [[451, 4], [451, 14]], "url": [[453, 4], [453, 7]], "url_template": [[446, 4], [446, 16]]}, "fn_var_occur": {"response": [["response", "log_admin_client", "get", "url"], ["response", "status_code"], ["response", "json"], ["response", "json"], ["response", "json"]], "try_number": [["create_expected_log_file", "try_number"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"]], "url": [["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["response", "log_admin_client", "get", "url"]], "url_template": [["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"]]}, "name": "test_get_logs_with_json_response_format", "params": {"create_expected_log_file": "", "log_admin_client": ""}, "params_descr": {"create_expected_log_file": "", "log_admin_client": ""}, "params_occur": {"create_expected_log_file": [["create_expected_log_file", "try_number"]], "log_admin_client": [["response", "log_admin_client", "get", "url"]]}, "params_p": {"args": [], "create_expected_log_file": [["str", 0.25584462272691455], ["pathlib.Path", 0.16551671501860554], ["Tuple[str]", 0.09560703294570884], ["List[str]", 0.08784142239626647]], "kwargs": [], "log_admin_client": [["str", 0.3076598539658986], ["bool", 0.3076598539658986], ["tests.test_util.aiohttp.AiohttpClientMocker", 0.10255328465529955]]}, "q_name": "test_get_logs_with_json_response_format", "ret_exprs": [], "ret_type": "", "variables": {"response": "", "try_number": "", "url": "", "url_template": ""}, "variables_p": {"response": [["requests.models.Response", 0.9999999999999999]], "try_number": [["str", 0.8359246310385438], ["int", 0.07660391774485965]], "url": [["Pattern[str]", 0.12914265319469165], ["Dict[int, str]", 0.11838543192635169], ["list", 0.10171686604151611], ["str", 0.09591746846122627], ["Dict[str, str]", 0.09477391135895187], ["dict", 0.09316632724939385], ["Dict[str, int]", 0.09295688215534371], ["Optional[\"Lecture\"]", 0.08975516252518391], ["Set[str]", 0.08572595947224133]], "url_template": [["str", 0.7675127328379754], ["Pattern[str]", 0.14468536972198376], ["Dict[str, str]", 0.08780189744004092]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[469, 0], [490, 76]], "fn_var_ln": {"data": [[487, 4], [487, 8]], "response": [[484, 4], [484, 12]], "try_number": [[476, 4], [476, 14]], "url": [[477, 4], [477, 7]], "url_template": [[471, 4], [471, 16]]}, "fn_var_occur": {"data": [["data", "response", "json"]], "response": [["response", "log_admin_client", "get", "url"], ["response", "status_code"], ["data", "response", "json"]], "try_number": [["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"]], "url": [["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["response", "log_admin_client", "get", "url"]], "url_template": [["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"]]}, "name": "test_get_logs_for_handler_without_read_method", "params": {"log_admin_client": "", "mock_reader": ""}, "params_descr": {"log_admin_client": "", "mock_reader": ""}, "params_occur": {"log_admin_client": [["response", "log_admin_client", "get", "url"]], "mock_reader": [["type", "mock_reader", "return_value", "supports_read", "unittest", "mock", "PropertyMock", "return_value", "False"]]}, "params_p": {"args": [], "kwargs": [], "log_admin_client": [], "mock_reader": []}, "q_name": "test_get_logs_for_handler_without_read_method", "ret_exprs": [], "ret_type": "", "variables": {"data": "", "response": "", "try_number": "", "url": "", "url_template": ""}, "variables_p": {"data": [["str", 0.26610630711245004], ["dict", 0.2192814106275841], ["Dict[str, Union[None, int, str]]", 0.18591787129561396], ["List[str]", 0.10753109372993296], ["Pattern[str]", 0.07525348986826362], ["Dict[bytes, int]", 0.07337141182149703], ["bytes", 0.07253841554465813]], "response": [["requests.models.Response", 0.17113361276572564]], "try_number": [["str", 0.2839092528785107], ["Optional[magic.models.deck.Deck]", 0.20767143669590168], ["int", 0.16200023651841178], ["List[str]", 0.12556673314402633]], "url": [["Pattern[str]", 0.12914265319469165], ["Dict[int, str]", 0.11838543192635169], ["list", 0.10171686604151611], ["str", 0.09591746846122627], ["Dict[str, str]", 0.09477391135895187], ["dict", 0.09316632724939385], ["Dict[str, int]", 0.09295688215534371], ["Optional[\"Lecture\"]", 0.08975516252518391], ["Set[str]", 0.08572595947224133]], "url_template": [["str", 0.7675127328379754], ["Pattern[str]", 0.14468536972198376], ["Dict[str, str]", 0.08780189744004092]]}}, {"docstring": {"func": "Redirect to home if TI does not exist or if log handler is local", "long_descr": null, "ret": null}, "fn_lc": [[494, 0], [506, 50]], "fn_var_ln": {"response": [[504, 4], [504, 12]], "try_number": [[497, 4], [497, 14]], "url": [[498, 4], [498, 7]], "url_template": [[496, 4], [496, 16]]}, "fn_var_occur": {"response": [["response", "log_admin_client", "get", "url"], ["response", "status_code"], ["response", "headers"]], "try_number": [["url", "url_template", "format", "DAG_ID", "task_id", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"]], "url": [["url", "url_template", "format", "DAG_ID", "task_id", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["response", "log_admin_client", "get", "url"]], "url_template": [["url", "url_template", "format", "DAG_ID", "task_id", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"]]}, "name": "test_redirect_to_external_log_with_local_log_handler", "params": {"log_admin_client": "", "task_id": ""}, "params_descr": {"log_admin_client": "", "task_id": ""}, "params_occur": {"log_admin_client": [["response", "log_admin_client", "get", "url"]], "task_id": [["url", "url_template", "format", "DAG_ID", "task_id", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"]]}, "params_p": {"args": [], "kwargs": [], "log_admin_client": [["str", 0.6127216572507237], ["int", 0.09387985437470263]], "task_id": [["str", 0.8969998770470475], ["Optional[str]", 0.10300012295295245]]}, "q_name": "test_redirect_to_external_log_with_local_log_handler", "ret_exprs": [], "ret_type": "", "variables": {"response": "", "try_number": "", "url": "", "url_template": ""}, "variables_p": {"response": [], "try_number": [["str", 0.2839092528785107], ["Optional[magic.models.deck.Deck]", 0.20767143669590168], ["int", 0.16200023651841178], ["List[str]", 0.12556673314402633]], "url": [["Pattern[str]", 0.12914265319469165], ["Dict[int, str]", 0.11838543192635169], ["list", 0.10171686604151611], ["str", 0.09591746846122627], ["Dict[str, str]", 0.09477391135895187], ["dict", 0.09316632724939385], ["Dict[str, int]", 0.09295688215534371], ["Optional[\"Lecture\"]", 0.08975516252518391], ["Set[str]", 0.08572595947224133]], "url_template": [["str", 0.7675127328379754], ["Pattern[str]", 0.14468536972198376], ["Dict[str, str]", 0.08780189744004092]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[529, 0], [540, 72]], "fn_var_ln": {"response": [[538, 4], [538, 12]], "try_number": [[531, 4], [531, 14]], "url": [[532, 4], [532, 7]], "url_template": [[530, 4], [530, 16]]}, "fn_var_occur": {"response": [["response", "log_admin_client", "get", "url"], ["response", "status_code"], ["_ExternalHandler", "EXTERNAL_URL", "response", "headers"]], "try_number": [["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"]], "url": [["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["response", "log_admin_client", "get", "url"]], "url_template": [["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"]]}, "name": "test_redirect_to_external_log_with_external_log_handler", "params": {"_": "", "log_admin_client": ""}, "params_descr": {"_": "", "log_admin_client": ""}, "params_occur": {"_": [], "log_admin_client": [["response", "log_admin_client", "get", "url"]]}, "params_p": {"_": [["Tuple[str, int]", 0.10012105509016289], ["bool", 0.09998654943442635], ["int", 0.09998654943442635], ["Optional[Dict]", 0.09998654943442635], ["List[int]", 0.09998654943442635], ["str", 0.09998654943442635]], "args": [], "kwargs": [], "log_admin_client": []}, "q_name": "test_redirect_to_external_log_with_external_log_handler", "ret_exprs": [], "ret_type": "", "variables": {"response": "", "try_number": "", "url": "", "url_template": ""}, "variables_p": {"response": [["requests.models.Response", 0.9016941303455497]], "try_number": [["str", 0.2839092528785107], ["Optional[magic.models.deck.Deck]", 0.20767143669590168], ["int", 0.16200023651841178], ["List[str]", 0.12556673314402633]], "url": [["Pattern[str]", 0.12914265319469165], ["Dict[int, str]", 0.11838543192635169], ["list", 0.10171686604151611], ["str", 0.09591746846122627], ["Dict[str, str]", 0.09477391135895187], ["dict", 0.09316632724939385], ["Dict[str, int]", 0.09295688215534371], ["Optional[\"Lecture\"]", 0.08975516252518391], ["Set[str]", 0.08572595947224133]], "url_template": [["str", 0.7675127328379754], ["Pattern[str]", 0.14468536972198376], ["Dict[str, str]", 0.08780189744004092]]}}], "imports": ["__future__", "annotations", "copy", "logging", "logging.config", "pathlib", "shutil", "sys", "tempfile", "unittest.mock", "urllib.parse", "pytest", "airflow", "settings", "airflow", "config_templates", "airflow_local_settings", "DEFAULT_LOGGING_CONFIG", "airflow", "models", "DagBag", "DagRun", "airflow", "models", "tasklog", "LogTemplate", "airflow", "utils", "timezone", "airflow", "utils", "log", "file_task_handler", "FileTaskHandler", "airflow", "utils", "log", "logging_mixin", "ExternalLoggingMixin", "airflow", "utils", "session", "create_session", "airflow", "utils", "state", "DagRunState", "TaskInstanceState", "airflow", "utils", "types", "DagRunType", "airflow", "www", "app", "create_app", "tests", "test_utils", "config", "conf_vars", "tests", "test_utils", "db", "clear_db_dags", "clear_db_runs", "tests", "test_utils", "decorators", "dont_initialize_flask_app_submodules", "tests", "test_utils", "www", "client_with_login"], "mod_var_ln": {"DAG_ID": [[48, 0], [48, 6]], "DAG_ID_REMOVED": [[49, 0], [49, 14]], "DEFAULT_DATE": [[51, 0], [51, 12]], "DIFFERENT_LOG_FILENAME": [[275, 0], [275, 22]], "ENDPOINT": [[52, 0], [52, 8]], "TASK_ID": [[50, 0], [50, 7]]}, "mod_var_occur": {"DAG_ID": [["ENDPOINT", "DAG_ID", "TASK_ID", "DEFAULT_DATE"], ["dag", "_", "create_dummy_dag", "dag_id", "DAG_ID", "task_id", "TASK_ID", "start_date", "DEFAULT_DATE", "with_dagrun_type", "None", "session", "session"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "date", "try_number"], ["DAG_ID", "date", "TASK_ID", "try_number", "content_disposition"], ["run_filters", "DagRun", "dag_id", "DAG_ID", "DagRun", "execution_date", "DEFAULT_DATE"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["response", "log_admin_client", "get", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number", "metadata", "data", "follow_redirects", "True"], ["response", "log_admin_client", "get", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "metadata", "data", "follow_redirects", "True"], ["url", "url_template", "format", "DAG_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["url", "url_template", "format", "DAG_ID", "task_id", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"]], "DAG_ID_REMOVED": [["dag_removed", "_", "create_dummy_dag", "dag_id", "DAG_ID_REMOVED", "task_id", "TASK_ID", "start_date", "DEFAULT_DATE", "with_dagrun_type", "None", "session", "session"], ["response", "log_admin_client", "get", "url_template", "format", "DAG_ID_REMOVED", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "data", "follow_redirects", "True"]], "DEFAULT_DATE": [["ENDPOINT", "DAG_ID", "TASK_ID", "DEFAULT_DATE"], ["dag", "_", "create_dummy_dag", "dag_id", "DAG_ID", "task_id", "TASK_ID", "start_date", "DEFAULT_DATE", "with_dagrun_type", "None", "session", "session"], ["dag_removed", "_", "create_dummy_dag", "dag_id", "DAG_ID_REMOVED", "task_id", "TASK_ID", "start_date", "DEFAULT_DATE", "with_dagrun_type", "None", "session", "session"], ["dagrun", "dag", "create_dagrun", "run_type", "DagRunType", "SCHEDULED", "execution_date", "DEFAULT_DATE", "data_interval", "DEFAULT_DATE", "DEFAULT_DATE", "start_date", "DEFAULT_DATE", "state", "DagRunState", "RUNNING", "session", "session"], ["dagrun_removed", "dag_removed", "create_dagrun", "run_type", "DagRunType", "SCHEDULED", "execution_date", "DEFAULT_DATE", "data_interval", "DEFAULT_DATE", "DEFAULT_DATE", "start_date", "DEFAULT_DATE", "state", "DagRunState", "RUNNING", "session", "session"], ["date", "DEFAULT_DATE", "isoformat"], ["run_filters", "DagRun", "dag_id", "DAG_ID", "DagRun", "execution_date", "DEFAULT_DATE"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["response", "log_admin_client", "get", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number", "metadata", "data", "follow_redirects", "True"], ["response", "log_admin_client", "get", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "metadata", "data", "follow_redirects", "True"], ["response", "log_admin_client", "get", "url_template", "format", "DAG_ID_REMOVED", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "data", "follow_redirects", "True"], ["url", "url_template", "format", "DAG_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["url", "url_template", "format", "DAG_ID", "task_id", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"]], "DIFFERENT_LOG_FILENAME": [["log_template", "session", "merge", "LogTemplate", "filename", "DIFFERENT_LOG_FILENAME", "elasticsearch_id"]], "ENDPOINT": [["response", "log_admin_client", "get", "ENDPOINT", "data", "follow_redirects", "True"]], "TASK_ID": [["ENDPOINT", "DAG_ID", "TASK_ID", "DEFAULT_DATE"], ["dag", "_", "create_dummy_dag", "dag_id", "DAG_ID", "task_id", "TASK_ID", "start_date", "DEFAULT_DATE", "with_dagrun_type", "None", "session", "session"], ["dag_removed", "_", "create_dummy_dag", "dag_id", "DAG_ID_REMOVED", "task_id", "TASK_ID", "start_date", "DEFAULT_DATE", "with_dagrun_type", "None", "session", "session"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "date", "try_number"], ["DAG_ID", "date", "TASK_ID", "try_number", "content_disposition"], ["url", "dag_run_with_log_filename", "dag_id", "TASK_ID", "urllib", "parse", "quote_plus", "dag_run_with_log_filename", "logical_date", "isoformat", "try_number"], ["expected_filename", "dag_run_with_log_filename", "dag_id", "dag_run_with_log_filename", "run_id", "TASK_ID", "try_number"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["response", "log_admin_client", "get", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number", "metadata", "data", "follow_redirects", "True"], ["response", "log_admin_client", "get", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "metadata", "data", "follow_redirects", "True"], ["response", "log_admin_client", "get", "url_template", "format", "DAG_ID_REMOVED", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "data", "follow_redirects", "True"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"], ["url", "url_template", "format", "DAG_ID", "TASK_ID", "urllib", "parse", "quote_plus", "DEFAULT_DATE", "isoformat", "try_number"]]}, "no_types_annot": {"D": 3, "I": 0, "U": 150}, "session_id": "qPeJCtXmImtZWjk7udr5-utZkQzpXhg4BBCYA8ex-30", "set": null, "tc": [false, null], "type_annot_cove": 0.02, "typed_seq": "", "untyped_seq": "", "variables": {"DAG_ID": "", "DAG_ID_REMOVED": "", "DEFAULT_DATE": "", "DIFFERENT_LOG_FILENAME": "", "ENDPOINT": "", "TASK_ID": ""}, "variables_p": {"DAG_ID": [["str", 0.37755577056815265], ["Optional[str]", 0.12855162441634105], ["int", 0.08524914673213245]], "DAG_ID_REMOVED": [["str", 0.5033823171228455], ["int", 0.2778160345097767], ["Optional[str]", 0.12346612621459256]], "DEFAULT_DATE": [["dict", 0.31129874853876427], ["Optional[str]", 0.10771958208022252], ["cmk.utils.type_defs.UserId", 0.09628811092095052], ["app.repositories.IUserRepository", 0.09043213100869141]], "DIFFERENT_LOG_FILENAME": [["str", 0.8308166725649472], ["Type[Dict[Any, str]]", 0.08976682815059073], ["int", 0.07941649928446204]], "ENDPOINT": [["str", 0.42453945939214266], ["list", 0.099381344655671], ["bool", 0.0846816125789536]], "TASK_ID": [["str", 0.19670512921434358], ["Optional[str]", 0.116905865944803], ["cmk.utils.type_defs.UserId", 0.09634248284243317], ["int", 0.09400129550734491]]}}}