{"error": null, "response": {"classes": [{"cls_lc": [[38, 0], [283, 87]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[40, 4], [43, 32]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "setup_class", "params": {"cls": ""}, "params_descr": {"cls": ""}, "params_occur": {"cls": []}, "params_p": {"args": [], "cls": [["Tuple[str]", 0.49999999978930826], ["Type", 0.49999999978930826], ["bool", 1.2432275369423927e-10], ["int", 6.761356990136683e-11], ["Optional[str]", 6.761356990136683e-11], ["Type[Any]", 4.801814051136299e-11], ["Optional[List]", 4.157460403209174e-11]], "kwargs": [], "self": []}, "q_name": "TestApp.setup_class", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[60, 8], [69, 38]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "debug_view", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestApp.test_should_respect_proxy_fix.<locals>.debug_view", "ret_exprs": ["return Response(\"success\")"], "ret_type": "", "ret_type_p": [["int", 0.2783206449750297], ["bool", 0.17286637805431126], ["List[str]", 0.10835366228045187], ["bytes", 0.08676418578071474], ["str", 0.08538509497033331], ["float", 0.08529641498365594], ["Dict[str, Any]", 0.08529641498365594]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[56, 4], [88, 42]], "fn_var_ln": {"app": [[57, 8], [57, 11]], "environ": [[83, 8], [83, 15]], "new_environ": [[73, 8], [73, 19]], "response": [[85, 8], [85, 16]]}, "fn_var_occur": {"app": [["app", "view_functions", "debug_view"], ["response", "Response", "from_app", "app", "environ"]], "environ": [["environ", "create_environ", "environ_overrides", "new_environ"], ["response", "Response", "from_app", "app", "environ"]], "new_environ": [["environ", "create_environ", "environ_overrides", "new_environ"]], "response": [["response", "Response", "from_app", "app", "environ"], ["response", "get_data"], ["response", "status_code"]]}, "name": "test_should_respect_proxy_fix", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestApp.test_should_respect_proxy_fix", "ret_exprs": [], "ret_type": "", "variables": {"app": "", "environ": "", "new_environ": "", "response": ""}, "variables_p": {"app": [["flask.app.Flask", 0.30352162305782565], ["starlette.responses.Response", 0.20275698568640832], ["asgard.backends.mesos.models.app.MesosApp", 0.1917683876757175], ["snapcrafinternal.meta.application.Application", 0.09326085063920293]], "environ": [["int", 0.2618337915866581], ["str", 0.18337754815134027], ["List[Tuple[str, Any]]", 0.13051511812392033], ["Dict[str, Dict[str, Any]]", 0.1217666074377647], ["float", 0.11217011230581188], ["Pattern[str]", 0.10204211746549885]], "new_environ": [["List[str]", 0.3332760733101283], ["str", 0.15766205363870534], ["int", 0.08758563628536548], ["bytes", 0.07844888648066624], ["float", 0.07348208512195589]], "response": [["flask.wrappers.Response", 1.0]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[111, 8], [120, 38]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "debug_view", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestApp.test_should_respect_base_url_ignore_proxy_headers.<locals>.debug_view", "ret_exprs": ["return Response(\"success\")"], "ret_type": "", "ret_type_p": [["int", 0.2783206449750297], ["bool", 0.17286637805431126], ["List[str]", 0.10835366228045187], ["bytes", 0.08676418578071474], ["str", 0.08538509497033331], ["float", 0.08529641498365594], ["Dict[str, Any]", 0.08529641498365594]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[101, 4], [139, 42]], "fn_var_ln": {"app": [[108, 12], [108, 15]], "environ": [[134, 8], [134, 15]], "new_environ": [[124, 8], [124, 19]], "response": [[136, 8], [136, 16]]}, "fn_var_occur": {"app": [["app", "view_functions", "debug_view"], ["response", "Response", "from_app", "app", "environ"]], "environ": [["environ", "create_environ", "environ_overrides", "new_environ"], ["response", "Response", "from_app", "app", "environ"]], "new_environ": [["environ", "create_environ", "environ_overrides", "new_environ"]], "response": [["response", "Response", "from_app", "app", "environ"], ["response", "get_data"], ["response", "status_code"]]}, "name": "test_should_respect_base_url_ignore_proxy_headers", "params": {"base_url": "", "expected_exception": "", "self": ""}, "params_descr": {"base_url": "", "expected_exception": "", "self": ""}, "params_occur": {"base_url": [], "expected_exception": [], "self": []}, "params_p": {"args": [], "base_url": [["str", 0.3293101841987335], ["Set[int]", 0.08721559417336022]], "expected_exception": [["str", 0.3293101841987335], ["Set[int]", 0.08721559417336022]], "kwargs": [], "self": []}, "q_name": "TestApp.test_should_respect_base_url_ignore_proxy_headers", "ret_exprs": ["return"], "ret_type": "", "ret_type_p": [], "variables": {"app": "", "environ": "", "new_environ": "", "response": ""}, "variables_p": {"app": [["flask.app.Flask", 0.30352162305782565], ["starlette.responses.Response", 0.20275698568640832], ["asgard.backends.mesos.models.app.MesosApp", 0.1917683876757175], ["snapcrafinternal.meta.application.Application", 0.09326085063920293]], "environ": [["int", 0.2618337915866581], ["str", 0.18337754815134027], ["List[Tuple[str, Any]]", 0.13051511812392033], ["Dict[str, Dict[str, Any]]", 0.1217666074377647], ["float", 0.11217011230581188], ["Pattern[str]", 0.10204211746549885]], "new_environ": [["List[str]", 0.3332760733101283], ["str", 0.15766205363870534], ["int", 0.08758563628536548], ["bytes", 0.07844888648066624], ["float", 0.07348208512195589]], "response": [["flask.wrappers.Response", 1.0]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[174, 8], [182, 38]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "debug_view", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestApp.test_should_respect_base_url_when_proxy_fix_and_base_url_is_set_up_but_headers_missing.<locals>.debug_view", "ret_exprs": ["return Response(\"success\")"], "ret_type": "", "ret_type_p": [["int", 0.2783206449750297], ["bool", 0.17286637805431126], ["List[str]", 0.10835366228045187], ["bytes", 0.08676418578071474], ["str", 0.08538509497033331], ["float", 0.08529641498365594], ["Dict[str, Any]", 0.08529641498365594]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[162, 4], [196, 42]], "fn_var_ln": {"app": [[171, 12], [171, 15]], "environ": [[191, 8], [191, 15]], "new_environ": [[186, 8], [186, 19]], "response": [[193, 8], [193, 16]]}, "fn_var_occur": {"app": [["app", "view_functions", "debug_view"], ["response", "Response", "from_app", "app", "environ"]], "environ": [["environ", "create_environ", "environ_overrides", "new_environ"], ["response", "Response", "from_app", "app", "environ"]], "new_environ": [["environ", "create_environ", "environ_overrides", "new_environ"]], "response": [["response", "Response", "from_app", "app", "environ"], ["response", "get_data"], ["response", "status_code"]]}, "name": "test_should_respect_base_url_when_proxy_fix_and_base_url_is_set_up_but_headers_missing", "params": {"base_url": "", "expected_exception": "", "self": ""}, "params_descr": {"base_url": "", "expected_exception": "", "self": ""}, "params_occur": {"base_url": [], "expected_exception": [], "self": []}, "params_p": {"args": [], "base_url": [["str", 0.30543417718679094], ["bool", 0.2874671803037435], ["List[str]", 0.18929566999488698]], "expected_exception": [["str", 0.30543417718679094], ["bool", 0.2874671803037435], ["List[str]", 0.18929566999488698]], "kwargs": [], "self": []}, "q_name": "TestApp.test_should_respect_base_url_when_proxy_fix_and_base_url_is_set_up_but_headers_missing", "ret_exprs": ["return"], "ret_type": "", "ret_type_p": [], "variables": {"app": "", "environ": "", "new_environ": "", "response": ""}, "variables_p": {"app": [["flask.app.Flask", 0.30352162305782565], ["starlette.responses.Response", 0.20275698568640832], ["asgard.backends.mesos.models.app.MesosApp", 0.1917683876757175], ["snapcrafinternal.meta.application.Application", 0.09326085063920293]], "environ": [["int", 0.2618337915866581], ["str", 0.18337754815134027], ["List[Tuple[str, Any]]", 0.13051511812392033], ["Dict[str, Dict[str, Any]]", 0.1217666074377647], ["float", 0.11217011230581188], ["Pattern[str]", 0.10204211746549885]], "new_environ": [["List[str]", 0.3332760733101283], ["str", 0.15766205363870534], ["int", 0.08758563628536548], ["bytes", 0.07844888648066624], ["float", 0.07348208512195589]], "response": [["flask.wrappers.Response", 1.0]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[214, 8], [223, 38]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "debug_view", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestApp.test_should_respect_base_url_and_proxy_when_proxy_fix_and_base_url_is_set_up.<locals>.debug_view", "ret_exprs": ["return Response(\"success\")"], "ret_type": "", "ret_type_p": [["int", 0.2783206449750297], ["bool", 0.17286637805431126], ["List[str]", 0.10835366228045187], ["bytes", 0.08676418578071474], ["str", 0.08538509497033331], ["float", 0.08529641498365594], ["Dict[str, Any]", 0.08529641498365594]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[210, 4], [242, 42]], "fn_var_ln": {"app": [[211, 8], [211, 11]], "environ": [[237, 8], [237, 15]], "new_environ": [[227, 8], [227, 19]], "response": [[239, 8], [239, 16]]}, "fn_var_occur": {"app": [["app", "view_functions", "debug_view"], ["response", "Response", "from_app", "app", "environ"]], "environ": [["environ", "create_environ", "environ_overrides", "new_environ"], ["response", "Response", "from_app", "app", "environ"]], "new_environ": [["environ", "create_environ", "environ_overrides", "new_environ"]], "response": [["response", "Response", "from_app", "app", "environ"], ["response", "get_data"], ["response", "status_code"]]}, "name": "test_should_respect_base_url_and_proxy_when_proxy_fix_and_base_url_is_set_up", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestApp.test_should_respect_base_url_and_proxy_when_proxy_fix_and_base_url_is_set_up", "ret_exprs": [], "ret_type": "", "variables": {"app": "", "environ": "", "new_environ": "", "response": ""}, "variables_p": {"app": [["flask.app.Flask", 0.30352162305782565], ["starlette.responses.Response", 0.20275698568640832], ["asgard.backends.mesos.models.app.MesosApp", 0.1917683876757175], ["snapcrafinternal.meta.application.Application", 0.09326085063920293]], "environ": [["int", 0.2618337915866581], ["str", 0.18337754815134027], ["List[Tuple[str, Any]]", 0.13051511812392033], ["Dict[str, Dict[str, Any]]", 0.1217666074377647], ["float", 0.11217011230581188], ["Pattern[str]", 0.10204211746549885]], "new_environ": [["List[str]", 0.3332760733101283], ["str", 0.15766205363870534], ["int", 0.08758563628536548], ["bytes", 0.07844888648066624], ["float", 0.07348208512195589]], "response": [["flask.wrappers.Response", 1.0]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[250, 4], [252, 82]], "fn_var_ln": {"app": [[251, 8], [251, 11]]}, "fn_var_occur": {"app": [["app", "application", "cached_app", "testing", "True"], ["app", "config", "timedelta", "minutes"]]}, "name": "test_should_set_permanent_session_timeout", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestApp.test_should_set_permanent_session_timeout", "ret_exprs": [], "ret_type": "", "variables": {"app": ""}, "variables_p": {"app": [["flask.app.Flask", 0.6054392521375748], ["flask.globals._FlaskLocalProxy", 0.179610523084443]]}}, {"docstring": {"func": "An empty 'cookie_samesite' should be corrected to 'Lax' with a deprecation warning.", "long_descr": null, "ret": null}, "fn_lc": [[256, 4], [260, 61]], "fn_var_ln": {"app": [[259, 12], [259, 15]]}, "fn_var_occur": {"app": [["app", "application", "cached_app", "testing", "True"], ["app", "config"]]}, "name": "test_correct_default_is_set_for_cookie_samesite", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestApp.test_correct_default_is_set_for_cookie_samesite", "ret_exprs": [], "ret_type": "", "variables": {"app": ""}, "variables_p": {"app": [["flask.app.Flask", 0.28001002776283124], ["apistar.app.App", 0.23905119755142898], ["almanac.core.application.Application", 0.08332682989878355]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[276, 4], [283, 87]], "fn_var_ln": {"app": [[282, 16], [282, 19]]}, "fn_var_occur": {"app": [["app", "application", "cached_app", "testing", "True"], ["app", "application", "cached_app", "testing", "True"], ["next", "iter", "app", "extensions", "cache", "_hash_method", "result"]]}, "name": "test_should_respect_caching_hash_method", "params": {"exception": "", "hash_method": "", "result": "", "self": ""}, "params_descr": {"exception": "", "hash_method": "", "result": "", "self": ""}, "params_occur": {"exception": [["pytest", "raises", "expected_exception", "exception"]], "hash_method": [["conf_vars", "hash_method"]], "result": [["next", "iter", "app", "extensions", "cache", "_hash_method", "result"]], "self": []}, "params_p": {"args": [], "exception": [["str", 0.6193785453146877], ["Callable", 0.10336510260735725], ["type", 0.09450823386224644]], "hash_method": [["bool", 0.3245332825192677], ["str", 0.17846623069546125], ["List[str]", 0.11038013644076615], ["Sequence[str]", 0.09129692342157167]], "kwargs": [], "result": [["dict", 0.18544937947314333], ["float", 0.17920965368198802], ["List[str]", 0.10374973520193649]], "self": []}, "q_name": "TestApp.test_should_respect_caching_hash_method", "ret_exprs": [], "ret_type": "", "variables": {"app": ""}, "variables_p": {"app": []}}], "name": "TestApp", "q_name": "TestApp", "variables": {}, "variables_p": {}}, {"cls_lc": [[286, 0], [298, 38]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[288, 4], [298, 38]], "fn_var_ln": {"output": [[297, 8], [297, 14]]}, "fn_var_occur": {"output": [["output", "capsys", "readouterr"], ["output", "out"]]}, "name": "test_flask_cli_should_display_routes", "params": {"capsys": "", "self": ""}, "params_descr": {"capsys": "", "self": ""}, "params_occur": {"capsys": [["output", "capsys", "readouterr"]], "self": []}, "params_p": {"args": [], "capsys": [["tests.basilisp.helpers.CompileFn", 0.3], ["str", 0.09999999999999999], ["tests.async_mock.Mock", 0.09999999999999999], ["float", 0.09999999999999999]], "kwargs": [], "self": []}, "q_name": "TestFlaskCli.test_flask_cli_should_display_routes", "ret_exprs": [], "ret_type": "", "variables": {"output": ""}, "variables_p": {"output": [["Tuple[int]", 0.10330839879902629], ["dict", 0.09986293629555378], ["MutableMapping[str, Any]", 0.0988502699628965], ["Dict[str, int]", 0.09785742668014183], ["defaultdict", 0.0934873852573808], ["Dict[str, Optional[int]]", 0.0912545907312976], ["List[Tuple[str, int, float, datetime.datetime]]", 0.08923213390976667]]}}], "name": "TestFlaskCli", "q_name": "TestFlaskCli", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[301, 0], [308, 80]], "fn_var_ln": {"app": [[307, 4], [307, 7]], "k8s": [[304, 4], [304, 7]], "pod": [[306, 4], [306, 7]]}, "fn_var_occur": {"app": [["app", "application", "cached_app", "testing", "True"], ["app", "json", "dumps", "pod"]], "k8s": [["k8s", "pytest", "importorskip"], ["pod", "k8s", "V1Pod", "spec", "k8s", "V1PodSpec", "containers", "k8s", "V1Container", "name"]], "pod": [["pod", "k8s", "V1Pod", "spec", "k8s", "V1PodSpec", "containers", "k8s", "V1Container", "name"], ["app", "json", "dumps", "pod"]]}, "name": "test_app_can_json_serialize_k8s_pod", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_app_can_json_serialize_k8s_pod", "ret_exprs": [], "ret_type": "", "variables": {"app": "", "k8s": "", "pod": ""}, "variables_p": {"app": [["aioapp.app.Application", 0.2052046892039005], ["flask.globals._FlaskLocalProxy", 0.20145467896484565], ["apistar.app.App", 0.18596983226742464], ["almanac.core.application.Application", 0.12692128702674726]], "k8s": [["Dict[str, Any]", 0.11205633719327951], ["int", 0.10840294606604096], ["str", 0.08177162926270824], ["dict", 0.07721161058624629]], "pod": [["int", 0.35603015825480533], ["Dict[int, Union[Any, Any]]", 0.10044502463795095], ["list", 0.08215628381834424]]}}], "imports": ["__future__", "annotations", "hashlib", "re", "runpy", "sys", "datetime", "timedelta", "unittest", "mock", "pytest", "werkzeug", "routing", "Rule", "werkzeug", "test", "create_environ", "werkzeug", "wrappers", "Response", "airflow", "exceptions", "AirflowConfigException", "airflow", "www", "app", "application", "tests", "test_utils", "config", "conf_vars", "tests", "test_utils", "decorators", "dont_initialize_flask_app_submodules", "airflow", "settings", "flask", "request", "flask", "request", "flask", "request", "flask", "request", "flask", "__main__"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 1, "I": 0, "U": 42}, "session_id": "nk7Slmx2l5Dn9BunATiNrvJIfBcY70E0hzRnlOYsyDc", "set": null, "tc": [false, null], "type_annot_cove": 0.02, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}