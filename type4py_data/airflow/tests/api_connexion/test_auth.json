{"error": null, "response": {"classes": [{"cls_lc": [[30, 0], [46, 13]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[32, 4], [46, 13]], "fn_var_ln": {"app": [[33, 8], [33, 16]], "role_admin": [[38, 12], [38, 22]], "sm": [[35, 8], [35, 10]], "tester": [[36, 8], [36, 14]]}, "fn_var_occur": {"app": [["self", "app", "minimal_app_for_api"], ["sm", "self", "app", "appbuilder", "sm"]], "role_admin": [["role_admin", "sm", "find_role"], ["sm", "add_user", "username", "first_name", "last_name", "email", "role", "role_admin", "password"]], "sm": [["sm", "self", "app", "appbuilder", "sm"], ["tester", "sm", "find_user", "username"], ["role_admin", "sm", "find_role"], ["sm", "add_user", "username", "first_name", "last_name", "email", "role", "role_admin", "password"]], "tester": [["tester", "sm", "find_user", "username"]]}, "name": "set_attrs", "params": {"minimal_app_for_api": "", "self": ""}, "params_descr": {"minimal_app_for_api": "", "self": ""}, "params_occur": {"minimal_app_for_api": [["self", "app", "minimal_app_for_api"]], "self": [["self", "app", "minimal_app_for_api"], ["sm", "self", "app", "appbuilder", "sm"]]}, "params_p": {"args": [], "kwargs": [], "minimal_app_for_api": [["bool", 0.20198518734841253], ["List[str]", 0.1257057900167869], ["Optional[str]", 0.11004469178086583], ["int", 0.0919404955675467], ["Optional[List[str]]", 0.0919404955675467], ["str", 0.08888855976123364]], "self": []}, "q_name": "BaseTestAuth.set_attrs", "ret_exprs": [], "ret_type": "", "variables": {"app": "", "role_admin": "", "sm": "", "tester": ""}, "variables_p": {"app": [["Union[Literal, str]", 0.25516782966541735]], "role_admin": [["str", 0.5952707166081738], ["float", 0.09702615531225432]], "sm": [["str", 0.12404198465763208], ["app.config.Config", 0.10163299216700679], ["libsoundtouch.tests.test_libsoundtouch.MockDevice", 0.09316176163625572], ["Dict[str, Union[Any, str]]", 0.0876373068720561]], "tester": [["str", 0.26695766850341335], ["Optional[str]", 0.24926787486926455], ["ClassVar[Dict[str, str]]", 0.10201234958258641], ["Optional[dict]", 0.08702752450402161]]}}], "name": "BaseTestAuth", "q_name": "BaseTestAuth", "variables": {}, "variables_p": {}}, {"cls_lc": [[49, 0], [124, 32]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[51, 4], [61, 62]], "fn_var_ln": {"old_auth": [[54, 8], [54, 16]]}, "fn_var_occur": {"old_auth": [["old_auth", "getattr", "minimal_app_for_api"], ["setattr", "minimal_app_for_api", "old_auth"]]}, "name": "with_basic_auth_backend", "params": {"minimal_app_for_api": "", "self": ""}, "params_descr": {"minimal_app_for_api": "", "self": ""}, "params_occur": {"minimal_app_for_api": [["old_auth", "getattr", "minimal_app_for_api"], ["init_api_experimental_auth", "minimal_app_for_api"], ["setattr", "minimal_app_for_api", "old_auth"]], "self": []}, "params_p": {"args": [], "kwargs": [], "minimal_app_for_api": [["Dict[str, list]", 0.12565218454417243], ["Any", 0.1000678404483798], ["psycopg2.extensions.connection", 0.09503951081826174], ["str", 0.09147291631653183]], "self": []}, "q_name": "TestBasicAuth.with_basic_auth_backend", "ret_exprs": [], "ret_type": "", "variables": {"old_auth": ""}, "variables_p": {"old_auth": [["Union[Literal, str]", 0.32374004290621106], ["str", 0.29289377323947585], ["List[str]", 0.11395157411833574], ["Type[Callable[Any, Any]]", 0.10080186507441723], ["Optional[str]", 0.0854946594121725]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[63, 4], [86, 9]], "fn_var_ln": {"response": [[68, 12], [68, 20]], "token": [[64, 8], [64, 13]]}, "fn_var_occur": {"response": [["response", "test_client", "get", "headers", "token"], ["response", "status_code"], ["response", "json"]], "token": [["token", "b64encode", "decode"], ["response", "test_client", "get", "headers", "token"]]}, "name": "test_success", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "app", "test_client", "test_client"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBasicAuth.test_success", "ret_exprs": [], "ret_type": "", "variables": {"response": "", "token": ""}, "variables_p": {"response": [], "token": [["str", 0.5033197073960582], ["Dict[str, str]", 0.28129171231047534], ["Dict[str, bool]", 0.11145620312639186]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[101, 4], [107, 32]], "fn_var_ln": {"response": [[103, 12], [103, 20]]}, "fn_var_occur": {"response": [["response", "test_client", "get", "headers", "token"], ["response", "status_code"], ["response", "headers"], ["response", "headers"], ["assert_401", "response"]]}, "name": "test_malformed_headers", "params": {"self": "", "token": ""}, "params_descr": {"self": "", "token": ""}, "params_occur": {"self": [["self", "app", "test_client", "test_client"]], "token": [["response", "test_client", "get", "headers", "token"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "token": [["tests.clienMDMClient", 0.499633614313548], ["str", 0.42541750676205314]]}, "q_name": "TestBasicAuth.test_malformed_headers", "ret_exprs": [], "ret_type": "", "variables": {"response": ""}, "variables_p": {"response": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[118, 4], [124, 32]], "fn_var_ln": {"response": [[120, 12], [120, 20]]}, "fn_var_occur": {"response": [["response", "test_client", "get", "headers", "token"], ["response", "status_code"], ["response", "headers"], ["response", "headers"], ["assert_401", "response"]]}, "name": "test_invalid_auth_header", "params": {"self": "", "token": ""}, "params_descr": {"self": "", "token": ""}, "params_occur": {"self": [["self", "app", "test_client", "test_client"]], "token": [["response", "test_client", "get", "headers", "token"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "token": [["tests.clienMDMClient", 0.4179330521054988], ["str", 0.4179330521054988], ["tests.test_util.aiohttp.AiohttpClientMocker", 0.08416542691219706]]}, "q_name": "TestBasicAuth.test_invalid_auth_header", "ret_exprs": [], "ret_type": "", "variables": {"response": ""}, "variables_p": {"response": []}}], "name": "TestBasicAuth", "q_name": "TestBasicAuth", "variables": {}, "variables_p": {}}, {"cls_lc": [[127, 0], [168, 32]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[129, 4], [139, 62]], "fn_var_ln": {"old_auth": [[132, 8], [132, 16]]}, "fn_var_occur": {"old_auth": [["old_auth", "getattr", "minimal_app_for_api"], ["setattr", "minimal_app_for_api", "old_auth"]]}, "name": "with_session_backend", "params": {"minimal_app_for_api": "", "self": ""}, "params_descr": {"minimal_app_for_api": "", "self": ""}, "params_occur": {"minimal_app_for_api": [["old_auth", "getattr", "minimal_app_for_api"], ["init_api_experimental_auth", "minimal_app_for_api"], ["setattr", "minimal_app_for_api", "old_auth"]], "self": []}, "params_p": {"args": [], "kwargs": [], "minimal_app_for_api": [["str", 0.39989504385116026], ["Dict[str, list]", 0.11370513314966516], ["Iterable[str]", 0.09361839026167049]], "self": []}, "q_name": "TestSessionAuth.with_session_backend", "ret_exprs": [], "ret_type": "", "variables": {"old_auth": ""}, "variables_p": {"old_auth": [["Union[Literal, str]", 0.32374004290621106], ["str", 0.29289377323947585], ["List[str]", 0.11395157411833574], ["Type[Callable[Any, Any]]", 0.10080186507441723], ["Optional[str]", 0.0854946594121725]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[141, 4], [161, 9]], "fn_var_ln": {"admin_user": [[144, 8], [144, 18]], "response": [[145, 8], [145, 16]]}, "fn_var_occur": {"admin_user": [["admin_user", "client_with_login", "self", "app", "username", "password"], ["response", "admin_user", "get"]], "response": [["response", "admin_user", "get"], ["response", "status_code"], ["response", "json"]]}, "name": "test_success", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["admin_user", "client_with_login", "self", "app", "username", "password"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestSessionAuth.test_success", "ret_exprs": [], "ret_type": "", "variables": {"admin_user": "", "response": ""}, "variables_p": {"admin_user": [["Dict[str, str]", 0.45965036142616494], ["str", 0.33302708213320564], ["Dict[str, bool]", 0.07080121113153927], ["Dict[str, Union[int, str]]", 0.06741867500593512]], "response": [["tests.mock_navitia.navitia_response.NavitiaResponse", 0.7824373018745863]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[163, 4], [168, 32]], "fn_var_ln": {"response": [[165, 12], [165, 20]]}, "fn_var_occur": {"response": [["response", "test_client", "get"], ["response", "status_code"], ["response", "headers"], ["assert_401", "response"]]}, "name": "test_failure", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "app", "test_client", "test_client"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestSessionAuth.test_failure", "ret_exprs": [], "ret_type": "", "variables": {"response": ""}, "variables_p": {"response": [["tests.mock_navitia.navitia_response.NavitiaResponse", 0.9999999999999999]]}}], "name": "TestSessionAuth", "q_name": "TestSessionAuth", "variables": {}, "variables_p": {}}, {"cls_lc": [[171, 0], [209, 46]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[173, 4], [190, 62]], "fn_var_ln": {"old_auth": [[176, 8], [176, 16]]}, "fn_var_occur": {"old_auth": [["old_auth", "getattr", "minimal_app_for_api"], ["setattr", "minimal_app_for_api", "old_auth"]]}, "name": "with_basic_auth_backend", "params": {"minimal_app_for_api": "", "self": ""}, "params_descr": {"minimal_app_for_api": "", "self": ""}, "params_occur": {"minimal_app_for_api": [["old_auth", "getattr", "minimal_app_for_api"], ["init_api_experimental_auth", "minimal_app_for_api"], ["setattr", "minimal_app_for_api", "old_auth"]], "self": []}, "params_p": {"args": [], "kwargs": [], "minimal_app_for_api": [["Dict[str, list]", 0.12565218454417243], ["Any", 0.1000678404483798], ["psycopg2.extensions.connection", 0.09503951081826174], ["str", 0.09147291631653183]], "self": []}, "q_name": "TestSessionWithBasicAuthFallback.with_basic_auth_backend", "ret_exprs": [], "ret_type": "", "variables": {"old_auth": ""}, "variables_p": {"old_auth": [["Union[Literal, str]", 0.32374004290621106], ["str", 0.29289377323947585], ["List[str]", 0.11395157411833574], ["Type[Callable[Any, Any]]", 0.10080186507441723], ["Optional[str]", 0.0854946594121725]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[192, 4], [209, 46]], "fn_var_ln": {"admin_user": [[197, 8], [197, 18]], "response": [[208, 12], [208, 20]], "token": [[193, 8], [193, 13]]}, "fn_var_occur": {"admin_user": [["admin_user", "client_with_login", "self", "app", "username", "password"], ["response", "admin_user", "get"]], "response": [["response", "admin_user", "get"], ["response", "status_code"], ["response", "test_client", "get", "headers", "token"], ["response", "status_code"], ["response", "test_client", "get"], ["response", "status_code"]], "token": [["token", "b64encode", "decode"], ["response", "test_client", "get", "headers", "token"]]}, "name": "test_basic_auth_fallback", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["admin_user", "client_with_login", "self", "app", "username", "password"], ["self", "app", "test_client", "test_client"], ["self", "app", "test_client", "test_client"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestSessionWithBasicAuthFallback.test_basic_auth_fallback", "ret_exprs": [], "ret_type": "", "variables": {"admin_user": "", "response": "", "token": ""}, "variables_p": {"admin_user": [["Dict[str, str]", 0.45965036142616494], ["str", 0.33302708213320564], ["Dict[str, bool]", 0.07080121113153927], ["Dict[str, Union[int, str]]", 0.06741867500593512]], "response": [], "token": [["str", 0.5033197073960582], ["Dict[str, str]", 0.28129171231047534], ["Dict[str, bool]", 0.11145620312639186]]}}], "name": "TestSessionWithBasicAuthFallback", "q_name": "TestSessionWithBasicAuthFallback", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "base64", "b64encode", "pytest", "flask_login", "current_user", "tests", "test_utils", "api_connexion_utils", "assert_401", "tests", "test_utils", "config", "conf_vars", "tests", "test_utils", "db", "clear_db_pools", "tests", "test_utils", "www", "client_with_login", "airflow", "www", "extensions", "init_security", "init_api_experimental_auth", "airflow", "www", "extensions", "init_security", "init_api_experimental_auth", "airflow", "www", "extensions", "init_security", "init_api_experimental_auth"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 33}, "session_id": "hzTsuPg2kzKpwL2YPxg9z_MPrrS8G3fbehO8Vt_0bLI", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}