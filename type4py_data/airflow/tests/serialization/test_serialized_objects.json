{"error": null, "response": {"classes": [{"cls_lc": [[75, 4], [76, 13]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [], "name": "Test", "q_name": "test_strict_mode.<locals>.Test", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": "Any time we recurse cls.serialize, we must forward all kwargs.", "long_descr": null, "ret": null}, "fn_lc": [[31, 0], [69, 41]], "fn_var_ln": {"class_def": [[45, 12], [45, 21]], "content": [[37, 4], [37, 11]], "file": [[36, 4], [36, 8]], "kwargs": [[58, 16], [58, 22]], "kwonly_args": [[53, 4], [53, 15]], "message": [[62, 24], [62, 31]], "method_def": [[51, 16], [51, 26]], "ref": [[61, 24], [61, 27]], "tree": [[38, 4], [38, 8]], "valid_recursive_call_count": [[35, 4], [35, 30]]}, "fn_var_occur": {"class_def": [["class_def", "None"], ["class_def", "stmt"], ["ast", "walk", "class_def"]], "content": [["content", "file", "read_text"], ["tree", "ast", "parse", "content"]], "file": [["file", "REPO_ROOT"], ["content", "file", "read_text"], ["ref", "file", "elem", "lineno"]], "kwargs": [["kwargs", "y", "arg", "y", "value", "y", "elem", "keywords"], ["name", "kwargs", "getattr", "kwargs", "name", "name"]], "kwonly_args": [["kwonly_args", "x", "arg", "x", "method_def", "args", "kwonlyargs"]], "message": [["message", "ref", "name"], ["Exception", "message"]], "method_def": [["method_def", "None"], ["method_def", "elem"], ["kwonly_args", "x", "arg", "x", "method_def", "args", "kwonlyargs"], ["ast", "walk", "method_def"]], "ref": [["ref", "file", "elem", "lineno"], ["message", "ref", "name"]], "tree": [["tree", "ast", "parse", "content"], ["ast", "walk", "tree"]], "valid_recursive_call_count": [["print", "valid_recursive_call_count"]]}, "name": "test_recursive_serialize_calls_must_forward_kwargs", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_recursive_serialize_calls_must_forward_kwargs", "ret_exprs": [], "ret_type": "", "variables": {"class_def": "", "content": "", "file": "", "kwargs": "", "kwonly_args": "", "message": "", "method_def": "", "ref": "", "tree": "", "valid_recursive_call_count": ""}, "variables_p": {"class_def": [["str", 0.2987248245088452], ["Dict[str, str]", 0.2785104874955365], ["Optional[str]", 0.1718766898053832], ["bool", 0.10924020079169051], ["Tuple[Literal, Literal]", 0.07143044880057929], ["Tuple[str, str]", 0.07021734859796519]], "content": [["dict", 0.09780524441957765], ["str", 0.08506411624599165], ["list", 0.08488857440444061]], "file": [["List[str]", 0.21184681473642208], ["Dict[str, bytes]", 0.16711615429906979], ["str", 0.11130530139548774], ["dict", 0.09213868808933898], ["Dict[str, Any]", 0.08548679126242115], ["Dict[str, str]", 0.08524790210434553], ["Dict[str, Union[Any, Any, Any]]", 0.08277374934047547], ["list", 0.08221453546706195]], "kwargs": [["str", 0.2899272034516036], ["dict", 0.21863666205585813], ["list", 0.0983488950236331], ["tuple", 0.09661841813760028], ["Dict[str, str]", 0.09511170894225711]], "kwonly_args": [["int", 0.3589876465621196], ["list", 0.3329769335943304], ["List[int]", 0.08184077285411417], ["List[List[str]]", 0.0781714424581123], ["Optional[str]", 0.07435482683843904]], "message": [["Dict[str, str]", 0.2684637704857576], ["dict", 0.17267528165074394], ["Optional[bool]", 0.14329993285766973], ["int", 0.09491677743543007], ["str", 0.08751730117940774], ["float", 0.07307134274048872]], "method_def": [["Optional[str]", 0.11582834512938328], ["int", 0.11514533264019343], ["bool", 0.11109732302135199], ["Counter[str]", 0.10337832400160428], ["list", 0.08505501532015293]], "ref": [["bytes", 0.10404365817657407], ["Optional[str]", 0.08540047255072378], ["str", 0.08026078951480169], ["int", 0.07886481512800328]], "tree": [["list", 0.2656062400371996], ["dict", 0.23824114975199928], ["str", 0.0847569860624037]], "valid_recursive_call_count": [["str", 0.9118053002258617], ["int", 0.08819469977413832]]}}, {"docstring": {"func": "If strict=True, serialization should fail when object is not JSON serializable.", "long_descr": null, "ret": null}, "fn_lc": [[72, 0], [83, 53]], "fn_var_ln": {"a": [[76, 8], [76, 9]], "obj": [[80, 4], [80, 7]]}, "fn_var_occur": {"a": [], "obj": [["obj", "Test"], ["BaseSerialization", "serialize", "obj"], ["BaseSerialization", "serialize", "obj", "strict", "True"]]}, "name": "test_strict_mode", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_strict_mode", "ret_exprs": [], "ret_type": "", "variables": {"a": "", "obj": ""}, "variables_p": {"a": [["int", 0.3], ["List[int]", 0.09999999999999999], ["float", 0.09999999999999999], ["Type[ajapaik.ajapaik.models.Album]", 0.09999999999999999], ["str", 0.09999999999999999], ["Dict[str, Union[int, str]]", 0.09999999999999999]], "obj": [["str", 0.10606286526110024]]}}, {"docstring": {"func": "If use_pydantic_models=True the TaskInstance object should be serialized to TaskInstancePydantic.", "long_descr": null, "ret": null}, "fn_lc": [[87, 0], [98, 63]], "fn_var_ln": {"deserialized": [[96, 4], [96, 16]], "obj": [[93, 4], [93, 7]], "serialized": [[95, 4], [95, 14]], "ti": [[92, 4], [92, 6]]}, "fn_var_occur": {"deserialized": [["deserialized", "BaseSerialization", "deserialize", "serialized", "use_pydantic_models", "True"], ["isinstance", "deserialized", "TaskInstancePydantic"]], "obj": [["obj", "ti"], ["serialized", "BaseSerialization", "serialize", "obj", "use_pydantic_models", "True"]], "serialized": [["serialized", "BaseSerialization", "serialize", "obj", "use_pydantic_models", "True"], ["deserialized", "BaseSerialization", "deserialize", "serialized", "use_pydantic_models", "True"]], "ti": [["ti", "TaskInstance", "task", "EmptyOperator", "task_id", "run_id", "state", "State", "RUNNING"], ["obj", "ti"]]}, "name": "test_use_pydantic_models", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_use_pydantic_models", "ret_exprs": [], "ret_type": "", "variables": {"deserialized": "", "obj": "", "serialized": "", "ti": ""}, "variables_p": {"deserialized": [["str", 0.2018325037038634], ["int", 0.12267623615254597], ["Dict[str, Any]", 0.10522074692475983], ["Set[str]", 0.09374630251876521], ["Pattern[str]", 0.08690590004209037]], "obj": [["Tuple[Literal, Literal, Literal]", 0.0924279817609904]], "serialized": [["str", 0.40961999239034536], ["list", 0.18572000035744743], ["int", 0.1133275784004413], ["Dict[str, str]", 0.10835922844653845], ["Optional[str]", 0.08882065701087291]], "ti": [["str", 0.18774352799326505], ["List[str]", 0.09287543625630067], ["List[Dict[str, Any]]", 0.09262827255177572]]}}], "imports": ["__future__", "annotations", "pytest", "airflow", "exceptions", "SerializationError", "airflow", "models", "taskinstance", "TaskInstance", "airflow", "operators", "empty", "EmptyOperator", "airflow", "serialization", "pydantic", "taskinstance", "TaskInstancePydantic", "airflow", "settings", "_ENABLE_AIP_44", "airflow", "utils", "state", "State", "tests", "REPO_ROOT", "ast", "airflow", "serialization", "serialized_objects", "BaseSerialization", "airflow", "serialization", "serialized_objects", "BaseSerialization"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 19}, "session_id": "CwSOl67DCE63nRcM-A-yp1F2m7Wr_wAR90iJuocNPZE", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}