{"error": null, "response": {"classes": [{"cls_lc": [[77, 0], [82, 7]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [], "name": "CustomDepOperator", "q_name": "CustomDepOperator", "variables": {}, "variables_p": {}}, {"cls_lc": [[85, 0], [104, 70]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[95, 4], [104, 70]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "detect_task_dependencies", "params": {"task": "airflow.models.Operator"}, "params_descr": {"task": ""}, "params_occur": {"task": [["isinstance", "task", "CustomDepOperator"], ["DagDependency", "source", "task", "dag_id", "target", "dependency_type", "dependency_id", "task", "task_id"], ["DependencyDetector", "detect_task_dependencies", "task"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "task": [["str", 0.09971782341323539], ["Dict[str, Any]", 0.09115085863529244], ["prefeccore.task.Task", 0.07408870224740413]]}, "q_name": "CustomDependencyDetector.detect_task_dependencies", "ret_exprs": ["return DagDependency( source=task.dag_id, target=\"nothing\", dependency_type=\"abc\", dependency_id=task.task_id,)", "return DependencyDetector().detect_task_dependencies(task)"], "ret_type": "DagDependency | None", "ret_type_p": [["int", 0.18631558786753483], ["List[str]", 0.11641196674069978], ["str", 0.09232042247969649], ["dict", 0.09223227880237214]], "variables": {}, "variables_p": {}}], "name": "CustomDependencyDetector", "q_name": "CustomDependencyDetector", "variables": {}, "variables_p": {}}, {"cls_lc": [[860, 8], [863, 61]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[861, 12], [863, 61]], "fn_var_ln": {"schema": [[862, 16], [862, 22]]}, "fn_var_occur": {"schema": [["super", "__init__", "default", "path", "schema", "schema"]]}, "name": "__init__", "params": {"path": "builtins.str", "self": ""}, "params_descr": {"path": "", "self": ""}, "params_occur": {"path": [["super", "__init__", "default", "path", "schema", "schema"]], "self": []}, "params_p": {"args": [], "kwargs": [], "path": [["str", 0.8673020552884323], ["pathlib.Path", 0.06679726020973097]], "self": []}, "q_name": "TestStringifiedDAGs.test_invalid_params.<locals>.S3Param.__init__", "ret_exprs": [], "ret_type": "", "variables": {"schema": ""}, "variables_p": {"schema": [["str", 0.9121772386187954]]}}], "name": "S3Param", "q_name": "TestStringifiedDAGs.test_invalid_params.<locals>.S3Param", "variables": {}, "variables_p": {}}, {"cls_lc": [[1016, 8], [1022, 47]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1021, 12], [1022, 47]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_link", "params": {"operator": "", "self": "", "ti_key": ""}, "params_descr": {"operator": "", "self": "", "ti_key": ""}, "params_occur": {"operator": [], "self": [], "ti_key": []}, "params_p": {"args": [], "kwargs": [], "operator": [["str", 0.33886720881380017], ["float", 0.2561409321293139], ["bool", 0.15925936691613482], ["Iterable[str]", 0.12807046606465694], ["Iterable[Any]", 0.11766202607609424]], "self": [], "ti_key": [["str", 0.33886720881380017], ["float", 0.2561409321293139], ["bool", 0.15925936691613482], ["Iterable[str]", 0.12807046606465694], ["Iterable[Any]", 0.11766202607609424]]}, "q_name": "TestStringifiedDAGs.test_extra_operator_links_logs_error_for_non_registered_extra_links.<locals>.TaskStateLink.get_link", "ret_exprs": ["return \"https://www.google.com\""], "ret_type": "", "ret_type_p": [["Optional[str]", 6.34957706064358e-10], ["List[str]", 2.1256555863787188e-10], ["cmk.utils.type_defs.EventRule", 2.0334366888205194e-10]], "variables": {}, "variables_p": {}}], "name": "TaskStateLink", "q_name": "TestStringifiedDAGs.test_extra_operator_links_logs_error_for_non_registered_extra_links.<locals>.TaskStateLink", "variables": {}, "variables_p": {}}, {"cls_lc": [[1024, 8], [1030, 20]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1029, 12], [1030, 20]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "execute", "params": {"context": "airflow.utils.context.Context", "self": ""}, "params_descr": {"context": "", "self": ""}, "params_occur": {"context": [], "self": []}, "params_p": {"args": [], "context": [["int", 0.19999999999999998], ["str", 0.19999999999999998], ["Iterable['Context']", 0.09999999999999999], ["dict", 0.09999999999999999], ["bool", 0.09999999999999999]], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_extra_operator_links_logs_error_for_non_registered_extra_links.<locals>.MyOperator.execute", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "MyOperator", "q_name": "TestStringifiedDAGs.test_extra_operator_links_logs_error_for_non_registered_extra_links.<locals>.MyOperator", "variables": {}, "variables_p": {}}, {"cls_lc": [[1045, 4], [1064, 41]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1050, 8], [1052, 41]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "__init__", "params": {"kwargs": "", "self": ""}, "params_descr": {"kwargs": "", "self": ""}, "params_occur": {"kwargs": [["kwargs", "items"]], "self": [["setattr", "self", "key", "value"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.ClassWithCustomAttributes.__init__", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1054, 8], [1055, 69]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "__str__", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "__class__", "__name__", "str", "self", "__dict__"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.ClassWithCustomAttributes.__str__", "ret_exprs": ["return f\"{self.__class__.__name__}({str(self.__dict__)})\""], "ret_type": "", "ret_type_p": [["str", 0.917922579223287], ["Tuple[Tuple[int, ...]]", 0.08207742077671328]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1057, 8], [1058, 33]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "__repr__", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "__str__"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.ClassWithCustomAttributes.__repr__", "ret_exprs": ["return self.__str__()"], "ret_type": "", "ret_type_p": [["str", 0.8458824507089776], ["pathlib.Path", 0.07800374311890752]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1060, 8], [1061, 50]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "__eq__", "params": {"other": "", "self": ""}, "params_descr": {"other": "", "self": ""}, "params_occur": {"other": [["self", "__dict__", "other", "__dict__"]], "self": [["self", "__dict__", "other", "__dict__"]]}, "params_p": {"args": [], "kwargs": [], "other": [["Union[str, \"Date\"]", 8.558199866586338e-11], ["Tuple[float, float]", 2.2038073904544742e-11], ["Type", 2.0881611798473296e-11]], "self": []}, "q_name": "TestStringifiedDAGs.ClassWithCustomAttributes.__eq__", "ret_exprs": ["return self.__dict__ == other.__dict__"], "ret_type": "", "ret_type_p": [["Dict[str, Any]", 0.4104400768074746], ["str", 0.10379057280959801], ["Dict[str, Dict[str, Any]]", 0.10261001920186864], ["dict", 0.09532005172718877], ["Dict[str, float]", 0.09394818650670235], ["Dict[str, models.DeviceRow]", 0.09128107374529894]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1063, 8], [1064, 41]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "__ne__", "params": {"other": "", "self": ""}, "params_descr": {"other": "", "self": ""}, "params_occur": {"other": [["self", "__eq__", "other"]], "self": [["self", "__eq__", "other"]]}, "params_p": {"args": [], "kwargs": [], "other": [["dict", 0.24999999998650746], ["AbstractSet[T]", 9.152138678985443e-12], ["AbstractSet[T_co]", 9.152138678985443e-12], ["raiden.utils.Any", 6.887222363228575e-12]], "self": []}, "q_name": "TestStringifiedDAGs.ClassWithCustomAttributes.__ne__", "ret_exprs": ["return not self.__eq__(other)"], "ret_type": "", "ret_type_p": [["str", 0.13968937068109144], ["cmk.utils.type_defs.ServiceName", 0.10951851018970368], ["cmk.utils.type_defs.HostName", 0.10951851018970368], ["django.db.models.QuerySet", 0.06471841105226568]], "variables": {}, "variables_p": {}}], "name": "ClassWithCustomAttributes", "q_name": "TestStringifiedDAGs.ClassWithCustomAttributes", "variables": {}, "variables_p": {}}, {"cls_lc": [[1154, 8], [1157, 48]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1155, 12], [1157, 48]], "fn_var_ln": {"do_xcom_push": [[1157, 16], [1157, 33]]}, "fn_var_occur": {"do_xcom_push": [["BaseOperator", "task_id", "do_xcom_push", "True"], ["self", "do_xcom_push", "do_xcom_push"]]}, "name": "__init__", "params": {"do_xcom_push": "", "kwargs": "", "self": ""}, "params_descr": {"do_xcom_push": "", "kwargs": "", "self": ""}, "params_occur": {"do_xcom_push": [["BaseOperator", "task_id", "do_xcom_push", "True"], ["self", "do_xcom_push", "do_xcom_push"]], "kwargs": [["super", "__init__", "kwargs"]], "self": [["self", "do_xcom_push", "do_xcom_push"]]}, "params_p": {"args": [], "do_xcom_push": [["str", 0.4007360023020309], ["int", 0.09547346559613815]], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_operator_subclass_changing_base_defaults.<locals>.MyOperator.__init__", "ret_exprs": [], "ret_type": "", "variables": {"do_xcom_push": ""}, "variables_p": {"do_xcom_push": [["int", 0.6434799021491879], ["datetime.timedelta", 0.09679438738545737], ["Pattern[Any]", 0.08678673281881727], ["List[Tuple[str, Any]]", 0.08503030360680432]]}}], "name": "MyOperator", "q_name": "TestStringifiedDAGs.test_operator_subclass_changing_base_defaults.<locals>.MyOperator", "variables": {}, "variables_p": {}}, {"cls_lc": [[1430, 8], [1431, 16]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [], "name": "DummyTriggerRule", "q_name": "TestStringifiedDAGs.test_error_on_unregistered_ti_dep_serialization.<locals>.DummyTriggerRule", "variables": {}, "variables_p": {}}, {"cls_lc": [[1433, 8], [1434, 76]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [], "name": "DummyTask", "q_name": "TestStringifiedDAGs.test_error_on_unregistered_ti_dep_serialization.<locals>.DummyTask", "variables": {}, "variables_p": {}}, {"cls_lc": [[1460, 8], [1461, 81]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [], "name": "DummyTask", "q_name": "TestStringifiedDAGs.test_serialize_and_deserialize_custom_ti_deps.<locals>.DummyTask", "variables": {}, "variables_p": {}}, {"cls_lc": [[1509, 8], [1510, 16]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [], "name": "DerivedSensor", "q_name": "TestStringifiedDAGs.test_derived_dag_deps_sensor.<locals>.DerivedSensor", "variables": {}, "variables_p": {}}, {"cls_lc": [[1649, 8], [1650, 16]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [], "name": "DerivedOperator", "q_name": "TestStringifiedDAGs.test_derived_dag_deps_operator.<locals>.DerivedOperator", "variables": {}, "variables_p": {}}, {"cls_lc": [[1768, 8], [1770, 28]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1769, 12], [1770, 28]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "poke", "params": {"context": "airflow.utils.context.Context", "self": ""}, "params_descr": {"context": "", "self": ""}, "params_occur": {"context": [], "self": []}, "params_p": {"args": [], "context": [["int", 0.19999999999999998], ["str", 0.19999999999999998], ["Iterable['Context']", 0.09999999999999999], ["dict", 0.09999999999999999], ["bool", 0.09999999999999999]], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_serialize_sensor.<locals>.DummySensor.poke", "ret_exprs": ["return False"], "ret_type": "", "ret_type_p": [["bool", 1.0]], "variables": {}, "variables_p": {}}], "name": "DummySensor", "q_name": "TestStringifiedDAGs.test_serialize_sensor.<locals>.DummySensor", "variables": {}, "variables_p": {}}, {"cls_lc": [[1785, 8], [1787, 28]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1786, 12], [1787, 28]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "poke", "params": {"context": "airflow.utils.context.Context", "self": ""}, "params_descr": {"context": "", "self": ""}, "params_occur": {"context": [], "self": []}, "params_p": {"args": [], "context": [["int", 0.19999999999999998], ["str", 0.19999999999999998], ["Iterable['Context']", 0.09999999999999999], ["dict", 0.09999999999999999], ["bool", 0.09999999999999999]], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_serialize_mapped_sensor_has_reschedule_dep.<locals>.DummySensor.poke", "ret_exprs": ["return False"], "ret_type": "", "ret_type_p": [["bool", 1.0]], "variables": {}, "variables_p": {}}], "name": "DummySensor", "q_name": "TestStringifiedDAGs.test_serialize_mapped_sensor_has_reschedule_dep.<locals>.DummySensor", "variables": {}, "variables_p": {}}, {"cls_lc": [[1975, 8], [1976, 52]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [], "name": "TestOperator", "q_name": "TestStringifiedDAGs.test_not_templateable_fields_in_serialized_dag.<locals>.TestOperator", "variables": {}, "variables_p": {}}, {"cls_lc": [[352, 0], [1982, 38]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[355, 4], [371, 27]], "fn_var_ln": {"backup_base_hook_get_connection": [[356, 8], [356, 44]], "get_connection": [[357, 8], [357, 31]], "maxDiff": [[371, 8], [371, 20]]}, "fn_var_occur": {"backup_base_hook_get_connection": [["self", "backup_base_hook_get_connection", "BaseHook", "get_connection"]], "get_connection": [["self", "backup_base_hook_get_connection", "BaseHook", "get_connection"], ["BaseHook", "get_connection", "mock", "Mock", "return_value", "Connection", "extra"]], "maxDiff": [["self", "maxDiff", "None"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "backup_base_hook_get_connection", "BaseHook", "get_connection"], ["self", "maxDiff", "None"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"backup_base_hook_get_connection": "", "get_connection": "", "maxDiff": ""}, "variables_p": {"backup_base_hook_get_connection": [["str", 0.4845913875769271], ["int", 0.18035844209346458], ["Tuple[Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal]", 0.11146853774002113], ["datetime.timedelta", 0.11127224656416956]], "get_connection": [["str", 0.9146327898053532], ["Pattern[str]", 0.08536721019464652]], "maxDiff": [["int", 0.48086117046181087], ["Type[int]", 0.12521958086686114], ["Counter[int]", 0.09285669466918693], ["bytes", 0.08510765798634944]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[373, 4], [374, 70]], "fn_var_ln": {"get_connection": [[374, 8], [374, 31]]}, "fn_var_occur": {"get_connection": [["BaseHook", "get_connection", "self", "backup_base_hook_get_connection"]]}, "name": "teardown_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["BaseHook", "get_connection", "self", "backup_base_hook_get_connection"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.teardown_method", "ret_exprs": [], "ret_type": "", "variables": {"get_connection": ""}, "variables_p": {"get_connection": [["int", 0.39956993015720293], ["Dict[str, Optional[str]]", 0.11900835952590105], ["Dict[str, str]", 0.10586757455045422], ["Tuple[str, str, str, str, str, str, str, str, str, str, str, str, str]", 0.1017750114190557], ["datetime.timedelta", 0.09430966288404542], ["str", 0.09255115432525939], ["BoundMethod[Callable(datetime.datetime.now)[Any, Any], Type[datetime.datetime]]", 0.0869183071380813]]}}, {"docstring": {"func": "Serialization and deserialization should work for every DAG and Operator.", "long_descr": null, "ret": null}, "fn_lc": [[376, 4], [386, 103]], "fn_var_ln": {"dag": [[381, 12], [381, 15]], "dags": [[378, 8], [378, 12]], "serialized_dags": [[379, 8], [379, 23]]}, "fn_var_occur": {"dag": [["dag", "SerializedDAG", "to_dict", "v"], ["SerializedDAG", "validate_schema", "dag"], ["serialized_dags", "v", "dag_id", "dag"]], "dags": [["dags", "collect_dags"], ["dags", "items"]], "serialized_dags": [["serialized_dags", "v", "dag_id", "dag"], ["self", "validate_serialized_dag", "serialized_dags", "serialized_simple_dag_ground_truth"]]}, "name": "test_serialization", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "validate_serialized_dag", "serialized_dags", "serialized_simple_dag_ground_truth"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_serialization", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "dags": "", "serialized_dags": ""}, "variables_p": {"dag": [["list", 0.1791542464291947], ["Dict[str, Any]", 0.15834288303421104], ["raiden.utils.Any", 0.15276134917133227], ["int", 0.09333690388458422], ["Dict[int, Any]", 0.07736232843893612]], "dags": [["Dict[str, Dict[Any, Any]]", 0.9999999999118352], ["str", 1.3025580204544062e-11], ["dict", 1.3015470513824923e-11], ["list", 1.1441157749517818e-11], ["Counter", 1.1441157749517818e-11]], "serialized_dags": [["dict", 0.1985925936160645], ["Dict[Any, Dict[str, float]]", 0.11491975334000089], ["Dict[int, Any]", 0.08000927392427645], ["str", 0.07911535590349852], ["Dict[str, Any]", 0.0785892578631466]]}}, {"docstring": {"func": "Verify a timetable-backed schedule_interval is excluded in serialization.", "long_descr": null, "ret": null}, "fn_lc": [[405, 4], [415, 62]], "fn_var_ln": {"dag": [[407, 8], [407, 11]], "expected": [[411, 8], [411, 16]], "serialized_dag": [[408, 8], [408, 22]]}, "fn_var_occur": {"dag": [["dag", "get_timetable_based_simple_dag", "timetable"], ["serialized_dag", "SerializedDAG", "to_dict", "dag"]], "expected": [["expected", "copy", "deepcopy", "serialized_simple_dag_ground_truth"], ["expected", "serialized_timetable"], ["self", "validate_serialized_dag", "serialized_dag", "expected"]], "serialized_dag": [["serialized_dag", "SerializedDAG", "to_dict", "dag"], ["SerializedDAG", "validate_schema", "serialized_dag"], ["self", "validate_serialized_dag", "serialized_dag", "expected"]]}, "name": "test_dag_serialization_to_timetable", "params": {"self": "", "serialized_timetable": "", "timetable": ""}, "params_descr": {"self": "", "serialized_timetable": "", "timetable": ""}, "params_occur": {"self": [["self", "validate_serialized_dag", "serialized_dag", "expected"]], "serialized_timetable": [["expected", "serialized_timetable"]], "timetable": [["dag", "get_timetable_based_simple_dag", "timetable"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "serialized_timetable": [["tests.basilisp.helpers.CompileFn", 0.07069605064731588]], "timetable": [["tests.test_util.aiohttp.AiohttpClientMocker", 0.24728628427608035], ["str", 0.18717286380345594]]}, "q_name": "TestStringifiedDAGs.test_dag_serialization_to_timetable", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "expected": "", "serialized_dag": ""}, "variables_p": {"dag": [["str", 0.18494338135817343], ["cmk.gui.permissions.Permission", 0.16941520279889116], ["dict", 0.08206236162925372]], "expected": [["dict", 0.37899832086776786], ["OrderedDict[str, Any]", 0.13362448928904538], ["Dict[str, str]", 0.10412659056424779], ["Dict[str, float]", 0.10066835916075846], ["str", 0.10033910238728853], ["Dict[Any, Dict[str, Any]]", 0.09356799258166448], ["Dict[Any, str]", 0.0886751451492275]], "serialized_dag": [["int", 0.08524584467906991]]}}, {"docstring": {"func": "Verify serialization fails without timetable registration.", "long_descr": null, "ret": null}, "fn_lc": [[417, 4], [430, 40]], "fn_var_ln": {"dag": [[419, 8], [419, 11]], "message": [[423, 8], [423, 15]]}, "fn_var_occur": {"dag": [["dag", "get_timetable_based_simple_dag", "CustomSerializationTimetable"], ["SerializedDAG", "to_dict", "dag"]], "message": [["str", "ctx", "value", "message"]]}, "name": "test_dag_serialization_unregistered_custom_timetable", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_dag_serialization_unregistered_custom_timetable", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "message": ""}, "variables_p": {"dag": [["str", 0.08078341674377253], ["int", 0.08047356860976174]], "message": [["str", 0.36964987703721086], ["Exception", 0.1961599941643272], ["Final", 0.12531678117288675], ["Set[str]", 0.10848601146545798], ["int", 0.10076356501444268]]}}, {"docstring": {"func": "Sorts the \"tasks\" list and \"access_control\" permissions in the", "long_descr": "serialised dag python dictionary. This is needed as the order of\nitems should not matter but assertEqual would fail if the order of\nitems changes in the dag dictionary", "ret": null}, "fn_lc": [[437, 8], [448, 27]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "sorted_serialized_dag", "params": {"dag_dict": "builtins.dict"}, "params_descr": {"dag_dict": ""}, "params_occur": {"dag_dict": [["dag_dict", "sorted", "dag_dict", "key", "x", "sorted", "x", "keys"], ["dag_dict", "sorted", "dag_dict"]]}, "params_p": {"args": [], "dag_dict": [["Dict[str, Any]", 0.5039697466999539], ["dict", 0.31541666504574256]], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.validate_serialized_dag.<locals>.sorted_serialized_dag", "ret_exprs": ["return dag_dict"], "ret_type": "", "ret_type_p": [["Dict[str, Any]", 0.3808683884505757], ["dict", 0.20929830430827095], ["raiden.utils.Dict[str, raiden.utils.Any]", 0.10947791309767159], ["Dict[str, Dict[str, str]]", 0.09619617418140271]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Verify serialized DAGs match the ground truth.", "long_descr": null, "ret": null}, "fn_lc": [[432, 4], [450, 89]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "validate_serialized_dag", "params": {"ground_truth_dag": "", "json_dag": "", "self": ""}, "params_descr": {"ground_truth_dag": "", "json_dag": "", "self": ""}, "params_occur": {"ground_truth_dag": [["sorted_serialized_dag", "ground_truth_dag", "sorted_serialized_dag", "json_dag"]], "json_dag": [["sorted_serialized_dag", "ground_truth_dag", "sorted_serialized_dag", "json_dag"]], "self": []}, "params_p": {"args": [], "ground_truth_dag": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "json_dag": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.validate_serialized_dag", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "A serialized DAG can be deserialized in another process.", "long_descr": null, "ret": null}, "fn_lc": [[452, 4], [477, 82]], "fn_var_ln": {"daemon": [[460, 8], [460, 19]], "dag": [[468, 12], [468, 15]], "dags": [[472, 8], [472, 12]], "proc": [[459, 8], [459, 12]], "queue": [[458, 8], [458, 13]], "stringified_dags": [[463, 8], [463, 24]], "v": [[465, 12], [465, 13]]}, "fn_var_occur": {"daemon": [["proc", "daemon", "True"]], "dag": [["dag", "SerializedDAG", "from_json", "v"], ["isinstance", "dag", "DAG"], ["stringified_dags", "dag", "dag_id", "dag"]], "dags": [["dags", "collect_dags"], ["set", "stringified_dags", "keys", "set", "dags", "keys"], ["self", "validate_deserialized_dag", "stringified_dags", "dag_id", "dags", "dag_id"]], "proc": [["proc", "multiprocessing", "Process", "target", "serialize_subprocess", "args", "queue"], ["proc", "daemon", "True"], ["proc", "start"]], "queue": [["queue", "multiprocessing", "Queue"], ["proc", "multiprocessing", "Process", "target", "serialize_subprocess", "args", "queue"], ["v", "queue", "get"]], "stringified_dags": [["stringified_dags", "dag", "dag_id", "dag"], ["set", "stringified_dags", "keys", "set", "dags", "keys"], ["self", "validate_deserialized_dag", "stringified_dags", "dag_id", "dags", "dag_id"]], "v": [["v", "queue", "get"], ["v", "None"], ["dag", "SerializedDAG", "from_json", "v"]]}, "name": "test_deserialization_across_process", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "validate_deserialized_dag", "stringified_dags", "dag_id", "dags", "dag_id"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_deserialization_across_process", "ret_exprs": [], "ret_type": "", "variables": {"daemon": "", "dag": "", "dags": "", "proc": "", "queue": "", "stringified_dags": "", "v": ""}, "variables_p": {"daemon": [["bool", 0.7999999999999999], ["str", 0.1]], "dag": [["str", 0.28995759825433753], ["Tuple[str, str, str, str, str, str, str, str, str]", 0.11319201368251706], ["Tuple[str, str, str, str, str, str]", 0.11319201368251706], ["int", 0.09803976522368711], ["Type[Callable[Any, str]]", 0.09347532163013901], ["Union[Literal, Literal]", 0.08942253677471605]], "dags": [["set", 0.29948609850062213], ["Type[Tuple[int, int]]", 0.1251933291974877], ["dict", 0.09980463070680116], ["Set[str]", 0.09667425909327226], ["Iterator[Tuple[Any, Any]]", 0.09516063274994994], ["DefaultDict[Any, Set[Any]]", 0.08631083604959454], ["int", 0.08228263894238175]], "proc": [["pydcop.utils.expressionfunction.ExpressionFunction", 0.20096638997704155], ["list", 0.10705587026476593], ["int", 0.10581799715693134], ["bool", 0.07821498386852313], ["str", 0.07821498386852313]], "queue": [], "stringified_dags": [["List[Tuple[Any, Any]]", 0.14264535231269937], ["list", 0.09724764850713621]], "v": [["Dict[int, int]", 0.2380997531681582], ["Dict[str, Union[Any, Any, Any]]", 0.17275753337273153], ["List[Union[Any, Any, Any, str]]", 0.11562564289456988], ["Dict[int, str]", 0.10593729487173004], ["int", 0.07931354188117264], ["OrderedDict[str, int]", 0.07365719723986627], ["Dict[str, Union[Any, Any]]", 0.07217169169128515], ["Dict[str, Union[Any, Any, Any, Any]]", 0.0707794248898771]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[479, 4], [490, 63]], "fn_var_ln": {"dags": [[480, 8], [480, 12]], "serialized_dag": [[489, 12], [489, 26]]}, "fn_var_occur": {"dags": [["dags", "collect_dags"], ["dags", "values"]], "serialized_dag": [["serialized_dag", "SerializedDAG", "from_json", "SerializedDAG", "to_json", "dag"], ["self", "validate_deserialized_dag", "serialized_dag", "dag"]]}, "name": "test_roundtrip_provider_example_dags", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "validate_deserialized_dag", "serialized_dag", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_roundtrip_provider_example_dags", "ret_exprs": [], "ret_type": "", "variables": {"dags": "", "serialized_dag": ""}, "variables_p": {"dags": [["Tuple[str, str]", 0.5000000000042937], ["Pattern[str]", 1.4435980458115065e-11], ["int", 1.1168207613313751e-11], ["dict", 1.0360410528558291e-11]], "serialized_dag": [["Dict[str, Tuple[str, Any]]", 0.4929103521485618], ["dict", 0.3210906020678779], ["Dict[str, Any]", 0.08822561092886684]]}}, {"docstring": {"func": "Verify a timetable-backed serialization can be deserialized.", "long_descr": null, "ret": null}, "fn_lc": [[497, 4], [501, 57]], "fn_var_ln": {"dag": [[499, 8], [499, 11]], "roundtripped": [[500, 8], [500, 20]]}, "fn_var_occur": {"dag": [["dag", "get_timetable_based_simple_dag", "timetable"], ["roundtripped", "SerializedDAG", "from_json", "SerializedDAG", "to_json", "dag"], ["self", "validate_deserialized_dag", "roundtripped", "dag"]], "roundtripped": [["roundtripped", "SerializedDAG", "from_json", "SerializedDAG", "to_json", "dag"], ["self", "validate_deserialized_dag", "roundtripped", "dag"]]}, "name": "test_dag_roundtrip_from_timetable", "params": {"self": "", "timetable": ""}, "params_descr": {"self": "", "timetable": ""}, "params_occur": {"self": [["self", "validate_deserialized_dag", "roundtripped", "dag"]], "timetable": [["dag", "get_timetable_based_simple_dag", "timetable"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "timetable": [["tests.test_util.aiohttp.AiohttpClientMocker", 0.2825678851672432], ["str", 0.26971499224977386]]}, "q_name": "TestStringifiedDAGs.test_dag_roundtrip_from_timetable", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "roundtripped": ""}, "variables_p": {"dag": [["str", 0.6869096409501306], ["Dict[str, List[Any]]", 0.12388217060383715], ["Dict[str, Dict[str, Any]]", 0.08501180367597029]], "roundtripped": [["Dict[str, Tuple[str, Any]]", 0.5033641874957121], ["str", 0.18446869496668344], ["Dict[int, str]", 0.10637410933089592]]}}, {"docstring": {"func": "Verify that all example DAGs work with DAG Serialization by", "long_descr": "checking fields between Serialized Dags & non-Serialized Dags", "ret": null}, "fn_lc": [[503, 4], [542, 100]], "fn_var_ln": {"exclusion_list": [[508, 8], [508, 22]], "fields_to_check": [[518, 8], [518, 23]]}, "fn_var_occur": {"exclusion_list": [["fields_to_check", "dag", "get_serialized_fields", "exclusion_list"]], "fields_to_check": [["fields_to_check", "dag", "get_serialized_fields", "exclusion_list"]]}, "name": "validate_deserialized_dag", "params": {"dag": "", "self": "", "serialized_dag": ""}, "params_descr": {"dag": "", "self": "", "serialized_dag": ""}, "params_occur": {"dag": [["fields_to_check", "dag", "get_serialized_fields", "exclusion_list"], ["getattr", "serialized_dag", "field", "getattr", "dag", "field", "dag", "dag_id", "field"], ["dag", "_processor_dags_folder", "None"], ["dag", "default_args"], ["dag", "default_args", "items"], ["v", "serialized_dag", "default_args", "k", "dag", "dag_id", "k"], ["serialized_dag", "timetable", "summary", "dag", "timetable", "summary"], ["serialized_dag", "timetable", "serialize", "dag", "timetable", "serialize"], ["serialized_dag", "timezone", "name", "dag", "timezone", "name"], ["dag", "task_ids"], ["self", "validate_deserialized_task", "serialized_dag", "get_task", "task_id", "dag", "get_task", "task_id"]], "self": [["self", "validate_deserialized_task", "serialized_dag", "get_task", "task_id", "dag", "get_task", "task_id"]], "serialized_dag": [["getattr", "serialized_dag", "field", "getattr", "dag", "field", "dag", "dag_id", "field"], ["serialized_dag", "_processor_dags_folder", "str", "repo_root"], ["k", "serialized_dag", "default_args"], ["v", "serialized_dag", "default_args", "k", "dag", "dag_id", "k"], ["serialized_dag", "timetable", "summary", "dag", "timetable", "summary"], ["serialized_dag", "timetable", "serialize", "dag", "timetable", "serialize"], ["serialized_dag", "timezone", "name", "dag", "timezone", "name"], ["self", "validate_deserialized_task", "serialized_dag", "get_task", "task_id", "dag", "get_task", "task_id"]]}, "params_p": {"args": [], "dag": [["Dict[str, Any]", 0.20059024875689874], ["db.models.Name", 0.09859653299653474], ["str", 0.09564642961642782], ["tuple", 0.0948043949034254]], "kwargs": [], "self": [], "serialized_dag": [["str", 0.19067221968245449], ["base.AbstractConverter", 0.09278853652697405], ["Tuple[type]", 0.09278853652697405]]}, "q_name": "TestStringifiedDAGs.validate_deserialized_dag", "ret_exprs": [], "ret_type": "", "variables": {"exclusion_list": "", "fields_to_check": ""}, "variables_p": {"exclusion_list": [["str", 0.11118253985680464], ["Dict[str, List[str]]", 0.09902809061912815], ["Pattern[str]", 0.0968167202992512], ["List[str]", 0.09243882367553577]], "fields_to_check": [["set", 0.29810322743459206], ["int", 0.125473009311487], ["Dict[str, Union[Any, Any, Any, Any, Any, Any, Any, Any]]", 0.10084016958497498], ["Tuple[Literal, Literal]", 0.09379247931468768], ["list", 0.08956470931852863]]}}, {"docstring": {"func": "Verify non-Airflow operators are casted to BaseOperator or MappedOperator.", "long_descr": null, "ret": null}, "fn_lc": [[544, 4], [637, 49]], "fn_var_ln": {"default_partial_kwargs": [[624, 12], [624, 34]], "fields_to_check": [[578, 12], [578, 27]], "original_partial_kwargs": [[628, 12], [628, 35]], "serialized_partial_kwargs": [[627, 12], [627, 37]]}, "fn_var_occur": {"default_partial_kwargs": [["default_partial_kwargs", "BaseOperator", "partial", "task_id", "_expand", "EXPAND_INPUT_EMPTY", "strict", "False", "partial_kwargs"], ["serialized_partial_kwargs", "default_partial_kwargs", "serialized_task", "partial_kwargs"], ["original_partial_kwargs", "default_partial_kwargs", "task", "partial_kwargs"]], "fields_to_check": [["fields_to_check", "task", "get_serialized_fields"], ["fields_to_check", "f", "name", "f", "attr", "fields", "MappedOperator"]], "original_partial_kwargs": [["original_partial_kwargs", "default_partial_kwargs", "task", "partial_kwargs"], ["serialized_partial_kwargs", "original_partial_kwargs"]], "serialized_partial_kwargs": [["serialized_partial_kwargs", "default_partial_kwargs", "serialized_task", "partial_kwargs"], ["serialized_partial_kwargs", "original_partial_kwargs"]]}, "name": "validate_deserialized_task", "params": {"self": "", "serialized_task": "", "task": ""}, "params_descr": {"self": "", "serialized_task": "", "task": ""}, "params_occur": {"self": [], "serialized_task": [["serialized_task", "task_group"], ["isinstance", "serialized_task", "SerializedBaseOperator"], ["isinstance", "serialized_task", "MappedOperator"], ["serialized_task", "task_type", "task", "task_type"], ["set", "serialized_task", "template_ext", "set", "task", "template_ext"], ["set", "serialized_task", "template_fields", "set", "task", "template_fields"], ["serialized_task", "upstream_task_ids", "task", "upstream_task_ids"], ["serialized_task", "downstream_task_ids", "task", "downstream_task_ids"], ["getattr", "serialized_task", "field", "getattr", "task", "field", "task", "dag", "dag_id", "task", "task_id", "field"], ["serialized_task", "resources", "None"], ["serialized_task", "resources", "task", "resources"], ["isinstance", "task", "params", "ParamsDict", "isinstance", "serialized_task", "params", "ParamsDict"], ["serialized_task", "params", "dump", "task", "params", "dump"], ["serialized_task", "operator_class", "type", "task", "__name__"], ["isinstance", "serialized_task", "operator_class", "DecoratedOperator"], ["serialized_task", "operator_class", "task", "_operator_name"], ["serialized_partial_kwargs", "default_partial_kwargs", "serialized_task", "partial_kwargs"], ["serialized_task", "subdag", "None"], ["isinstance", "serialized_task", "subdag", "DAG"], ["serialized_task", "subdag", "None"]], "task": [["isinstance", "task", "SerializedBaseOperator"], ["isinstance", "task", "BaseOperator", "MappedOperator"], ["isinstance", "task", "BaseOperator"], ["fields_to_check", "task", "get_serialized_fields"], ["serialized_task", "task_type", "task", "task_type"], ["set", "serialized_task", "template_ext", "set", "task", "template_ext"], ["set", "serialized_task", "template_fields", "set", "task", "template_fields"], ["serialized_task", "upstream_task_ids", "task", "upstream_task_ids"], ["serialized_task", "downstream_task_ids", "task", "downstream_task_ids"], ["getattr", "serialized_task", "field", "getattr", "task", "field", "task", "dag", "dag_id", "task", "task_id", "field"], ["task", "resources", "None", "task", "resources"], ["serialized_task", "resources", "task", "resources"], ["isinstance", "task", "params", "ParamsDict", "isinstance", "serialized_task", "params", "ParamsDict"], ["serialized_task", "params", "dump", "task", "params", "dump"], ["isinstance", "task", "MappedOperator"], ["serialized_task", "operator_class", "type", "task", "__name__"], ["serialized_task", "operator_class", "task", "_operator_name"], ["original_partial_kwargs", "default_partial_kwargs", "task", "partial_kwargs"], ["task", "task_type"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "serialized_task": [["Mapping[str, Any]", 0.12273407407631239], ["int", 0.09372890833664482], ["src.models.todoist_task.TodoistTask", 0.08636759463873929]], "task": [["Mapping[str, Any]", 0.14358390056196355], ["Iterable[prefeccore.task.Task]", 0.10195295383510203], ["Dict[str, Any]", 0.09436268364352753], ["zerver.models.Message", 0.09119824573015889], ["dict", 0.08717622589728291]]}, "q_name": "TestStringifiedDAGs.validate_deserialized_task", "ret_exprs": [], "ret_type": "", "variables": {"default_partial_kwargs": "", "fields_to_check": "", "original_partial_kwargs": "", "serialized_partial_kwargs": ""}, "variables_p": {"default_partial_kwargs": [["pytch.utils.Position", 0.2061614955217396], ["str", 0.1347748111273253], ["Dict[str, Any]", 0.09943628396025234], ["int", 0.0990099374780221], ["Dict[str, int]", 0.09896236572880841], ["bytes", 0.09326334820170049]], "fields_to_check": [["Dict[str, List[int]]", 0.3000239017591436], ["dict", 0.18433630637347284], ["Dict[str, int]", 0.09722313507342151], ["Dict[datetime.date, Dict[str, float]]", 0.08734879599727044], ["Dict[datetime.date, Dict[str, Any]]", 0.0798670132370581], ["Dict[str, Union[Any, Any]]", 0.07511019091512051]], "original_partial_kwargs": [["Dict[Any, List[float]]", 0.2740820504548426], ["Dict[str, int]", 0.1152891541973093], ["Dict[Any, str]", 0.10928526214888207], ["str", 0.10295969298303372], ["Tuple[Literal, Dict[str, str]]", 0.0981337303024383]], "serialized_partial_kwargs": [["int", 0.21337410931930362], ["Dict[str, Union[int, str]]", 0.09995454458617851], ["Pattern[str]", 0.09542670271641365], ["list", 0.08809721063710875], ["Dict[str, str]", 0.07746161845742235]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[656, 4], [670, 65]], "fn_var_ln": {"dag": [[668, 8], [668, 11]], "serialized_dag": [[660, 8], [660, 22]], "simple_task": [[669, 8], [669, 19]]}, "fn_var_occur": {"dag": [["dag", "DAG", "dag_id", "start_date", "dag_start_date"], ["BaseOperator", "task_id", "dag", "dag", "start_date", "task_start_date"], ["serialized_dag", "SerializedDAG", "to_dict", "dag"], ["dag", "SerializedDAG", "from_dict", "serialized_dag"], ["simple_task", "dag", "task_dict"]], "serialized_dag": [["serialized_dag", "SerializedDAG", "to_dict", "dag"], ["dag", "SerializedDAG", "from_dict", "serialized_dag"]], "simple_task": [["simple_task", "dag", "task_dict"], ["simple_task", "start_date", "expected_task_start_date"]]}, "name": "test_deserialization_start_date", "params": {"dag_start_date": "", "expected_task_start_date": "", "self": "", "task_start_date": ""}, "params_descr": {"dag_start_date": "", "expected_task_start_date": "", "self": "", "task_start_date": ""}, "params_occur": {"dag_start_date": [["dag", "DAG", "dag_id", "start_date", "dag_start_date"], ["task_start_date", "dag_start_date", "task_start_date"]], "expected_task_start_date": [["simple_task", "start_date", "expected_task_start_date"]], "self": [], "task_start_date": [["BaseOperator", "task_id", "dag", "dag", "start_date", "task_start_date"], ["task_start_date", "dag_start_date", "task_start_date"]]}, "params_p": {"args": [], "dag_start_date": [["datetime.datetime", 0.1872527965867422], ["Optional[datetime.date]", 0.11707487807935528], ["int", 0.09830676822695206], ["str", 0.09657708978001624]], "expected_task_start_date": [["int", 0.3723558195544965], ["datetime.datetime", 0.21895199293846584], ["Optional[str]", 0.14105568637328325], ["bool", 0.09261415318483356], ["Union[int, float]", 0.08783498310448698], ["Union[str, int]", 0.08718736484443393]], "kwargs": [], "self": [], "task_start_date": [["Callable", 0.11346387179207598], ["dict", 0.11346387179207598], ["list", 0.11346387179207598], ["str", 0.11346387179207598], ["Callable[..., Coroutine[Any, Any, Any]]", 0.09046543577303788], ["Dict[str, str]", 0.08978479939258523], ["float", 0.08951205771547797], ["Callable[..., None]", 0.08951205771547797]]}, "q_name": "TestStringifiedDAGs.test_deserialization_start_date", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "serialized_dag": "", "simple_task": ""}, "variables_p": {"dag": [["str", 0.21065995881767904], ["datetime.datetime", 0.1013264378855908], ["Type[Tuple[int, int]]", 0.09737925912350132], ["Tuple[Literal, Literal, Literal]", 0.09693130322468983], ["int", 0.09611259209388097], ["List[int]", 0.0949098526971303], ["dict", 0.09352615345972172]], "serialized_dag": [["dict", 0.6075488648529821], ["dictmentor.base.DictMentor", 0.10431092253405061]], "simple_task": [["int", 0.25984774929756277], ["list", 0.1806776508281651], ["bytearray", 0.10941167242119768], ["List[str]", 0.08856502106184237], ["str", 0.08198228894959275]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[672, 4], [676, 38]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_deserialization_with_dag_context", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_deserialization_with_dag_context", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[694, 4], [708, 61]], "fn_var_ln": {"dag": [[706, 8], [706, 11]], "serialized_dag": [[698, 8], [698, 22]], "simple_task": [[707, 8], [707, 19]]}, "fn_var_occur": {"dag": [["dag", "DAG", "dag_id", "start_date", "datetime", "end_date", "dag_end_date"], ["BaseOperator", "task_id", "dag", "dag", "end_date", "task_end_date"], ["serialized_dag", "SerializedDAG", "to_dict", "dag"], ["dag", "SerializedDAG", "from_dict", "serialized_dag"], ["simple_task", "dag", "task_dict"]], "serialized_dag": [["serialized_dag", "SerializedDAG", "to_dict", "dag"], ["dag", "SerializedDAG", "from_dict", "serialized_dag"]], "simple_task": [["simple_task", "dag", "task_dict"], ["simple_task", "end_date", "expected_task_end_date"]]}, "name": "test_deserialization_end_date", "params": {"dag_end_date": "", "expected_task_end_date": "", "self": "", "task_end_date": ""}, "params_descr": {"dag_end_date": "", "expected_task_end_date": "", "self": "", "task_end_date": ""}, "params_occur": {"dag_end_date": [["dag", "DAG", "dag_id", "start_date", "datetime", "end_date", "dag_end_date"], ["task_end_date", "dag_end_date", "task_end_date"]], "expected_task_end_date": [["simple_task", "end_date", "expected_task_end_date"]], "self": [], "task_end_date": [["BaseOperator", "task_id", "dag", "dag", "end_date", "task_end_date"], ["task_end_date", "dag_end_date", "task_end_date"]]}, "params_p": {"args": [], "dag_end_date": [["datetime.datetime", 0.23227277754090894], ["Optional[str]", 0.1586929118901303], ["core_lib.core.models.Venue", 0.11052711554160397], ["Optional[Any]", 0.0951322316719119], ["bytes", 0.08830456937045075], ["int", 0.0827976164440854]], "expected_task_end_date": [["str", 0.48762505811266826], ["Optional[str]", 0.11469917102602663], ["Optional[Callable]", 0.10397088194965973], ["bool", 0.10397088194965973], ["Optional[List[Any]]", 0.09843784755063753]], "kwargs": [], "self": [], "task_end_date": [["Callable", 0.09636789200682153], ["Callable[[datetime.datetime], Awaitable[None]]", 0.09106339378707164], ["datetime.datetime", 0.09106339378707164]]}, "q_name": "TestStringifiedDAGs.test_deserialization_end_date", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "serialized_dag": "", "simple_task": ""}, "variables_p": {"dag": [["str", 0.7793588106219849], ["datetime.datetime.datetime", 0.08412428582732], ["List[int]", 0.06844374546928363], ["datetime.datetime", 0.06807315808141139]], "serialized_dag": [["dict", 0.6075488648529821], ["dictmentor.base.DictMentor", 0.10431092253405061]], "simple_task": [["list", 0.12147411683656763], ["Dict[str, Any]", 0.1085290028484696], ["golem.task.taskbase.Task", 0.0975240940239286], ["reminders.task.Task", 0.09337754254683744], ["int", 0.09162853218281053]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[733, 4], [751, 50]], "fn_var_ln": {"dag": [[750, 8], [750, 11]], "serialized": [[738, 8], [738, 18]]}, "fn_var_occur": {"dag": [["dag", "SerializedDAG", "from_dict", "serialized"], ["dag", "timetable", "expected_timetable"]], "serialized": [["serialized", "__file__", "serialized_timetable"], ["SerializedDAG", "validate_schema", "serialized"], ["dag", "SerializedDAG", "from_dict", "serialized"]]}, "name": "test_deserialization_timetable", "params": {"expected_timetable": "", "self": "", "serialized_timetable": ""}, "params_descr": {"expected_timetable": "", "self": "", "serialized_timetable": ""}, "params_occur": {"expected_timetable": [["dag", "timetable", "expected_timetable"]], "self": [], "serialized_timetable": [["serialized", "__file__", "serialized_timetable"]]}, "params_p": {"args": [], "expected_timetable": [["str", 0.4205910297306261], ["Type[Exception]", 0.07697330478168847], ["Union[keanu.vertex.base.Vertex, keanu.vartypes.numpy_types, float]", 0.06754169172010456], ["keanu.vertex.base.Vertex", 0.06754169172010456]], "kwargs": [], "self": [], "serialized_timetable": [["str", 0.40415642119482587], ["bytes", 0.2118886712838699], ["paradigm.models.Base", 0.11895424663630864], ["Optional[str]", 0.08583152240298217]]}, "q_name": "TestStringifiedDAGs.test_deserialization_timetable", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "serialized": ""}, "variables_p": {"dag": [["str", 0.20255557135611207], ["int", 0.09809364522522902], ["Tuple[Any, Any]", 0.09478722661159168], ["bool", 0.09258472925723657]], "serialized": [["float", 0.11033929743639381], ["Dict[int, Set[Any]]", 0.1084992370107053], ["Dict[str, int]", 0.10645511671636561], ["List[Tuple[str, Any]]", 0.1044115765947551], ["int", 0.09126062867393932], ["dict", 0.09083287658652486], ["str", 0.08808060542054585]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[753, 4], [775, 40]], "fn_var_ln": {"message": [[768, 8], [768, 15]], "serialized": [[754, 8], [754, 18]]}, "fn_var_occur": {"message": [["str", "ctx", "value", "message"]], "serialized": [["serialized", "__file__", "CUSTOM_TIMETABLE_SERIALIZED"], ["SerializedDAG", "validate_schema", "serialized"], ["SerializedDAG", "from_dict", "serialized"]]}, "name": "test_deserialization_timetable_unregistered", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_deserialization_timetable_unregistered", "ret_exprs": [], "ret_type": "", "variables": {"message": "", "serialized": ""}, "variables_p": {"message": [["str", 0.36964987703721086], ["Exception", 0.1961599941643272], ["Final", 0.12531678117288675], ["Set[str]", 0.10848601146545798], ["int", 0.10076356501444268]], "serialized": [["str", 0.3122611728986178], ["List[Dict[str, Any]]", 0.11414250498589981], ["Union[Literal, Literal]", 0.08126576986593821]]}}, {"docstring": {"func": "Test DAGs serialized before 2.2 can be correctly deserialized.", "long_descr": null, "ret": null}, "fn_lc": [[789, 4], [809, 50]], "fn_var_ln": {"dag": [[808, 8], [808, 11]], "serialized": [[795, 8], [795, 18]]}, "fn_var_occur": {"dag": [["dag", "SerializedDAG", "from_dict", "serialized"], ["dag", "timetable", "expected_timetable"]], "serialized": [["serialized", "__file__", "serialized_schedule_interval"], ["SerializedDAG", "validate_schema", "serialized"], ["dag", "SerializedDAG", "from_dict", "serialized"]]}, "name": "test_deserialization_schedule_interval", "params": {"expected_timetable": "", "self": "", "serialized_schedule_interval": ""}, "params_descr": {"expected_timetable": "", "self": "", "serialized_schedule_interval": ""}, "params_occur": {"expected_timetable": [["dag", "timetable", "expected_timetable"]], "self": [], "serialized_schedule_interval": [["serialized", "__file__", "serialized_schedule_interval"]]}, "params_p": {"args": [], "expected_timetable": [["str", 0.4042610736302939], ["Type[Exception]", 0.09207240820283616], ["bool", 0.07651355554531448], ["Tuple[paradigm.models.Base, tests.utils.Kwargs]", 0.06182348081280847], ["Callable[..., Awaitable]", 0.060322314968219694], ["Union[keanu.vertex.base.Vertex, keanu.vartypes.numpy_types, float]", 0.06024178285863771]], "kwargs": [], "self": [], "serialized_schedule_interval": [["str", 0.6738165644807103], ["pathlib.Path", 0.22104042166492063], ["Optional[str]", 0.1051430138543691]]}, "q_name": "TestStringifiedDAGs.test_deserialization_schedule_interval", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "serialized": ""}, "variables_p": {"dag": [["str", 0.20255557135611207], ["int", 0.09809364522522902], ["Tuple[Any, Any]", 0.09478722661159168], ["bool", 0.09258472925723657]], "serialized": [["str", 0.29254844727981233], ["pydynasync.models.Changes", 0.13619517555510047], ["int", 0.11511386065794625], ["Dict[str, str]", 0.09382013414454413], ["List[str]", 0.09070372387999738], ["Dict[str, int]", 0.09052964525179213], ["set", 0.09017735503958269]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[822, 4], [827, 35]], "fn_var_ln": {"round_tripped": [[826, 8], [826, 21]], "serialized": [[823, 8], [823, 18]]}, "fn_var_occur": {"round_tripped": [["round_tripped", "SerializedDAG", "deserialize", "serialized"], ["val", "round_tripped"]], "serialized": [["serialized", "SerializedDAG", "serialize", "val"], ["serialized", "expected"], ["round_tripped", "SerializedDAG", "deserialize", "serialized"]]}, "name": "test_roundtrip_relativedelta", "params": {"expected": "", "self": "", "val": ""}, "params_descr": {"expected": "", "self": "", "val": ""}, "params_occur": {"expected": [["serialized", "expected"]], "self": [], "val": [["serialized", "SerializedDAG", "serialize", "val"], ["val", "round_tripped"]]}, "params_p": {"args": [], "expected": [["str", 0.9999999999564805], ["Dict[str, Any]", 4.351966694179409e-11]], "kwargs": [], "self": [], "val": [["str", 0.9999999999564805], ["Dict[str, Any]", 4.351966694179409e-11]]}, "q_name": "TestStringifiedDAGs.test_roundtrip_relativedelta", "ret_exprs": [], "ret_type": "", "variables": {"round_tripped": "", "serialized": ""}, "variables_p": {"round_tripped": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1], ["datetime.timedelta", 0.1]], "serialized": [["str", 0.20924074491417202], ["dict", 0.07584273670084077]]}}, {"docstring": {"func": "Test that params work both on Serialized DAGs & Tasks", "long_descr": null, "ret": null}, "fn_lc": [[837, 4], [853, 69]], "fn_var_ln": {"dag": [[841, 8], [841, 11]], "deserialized_dag": [[850, 8], [850, 24]], "deserialized_simple_task": [[851, 8], [851, 32]], "serialized_dag": [[846, 8], [846, 22]], "serialized_dag_json": [[844, 8], [844, 27]]}, "fn_var_occur": {"dag": [["dag", "DAG", "dag_id", "params", "val"], ["BaseOperator", "task_id", "dag", "dag", "start_date", "datetime"], ["serialized_dag_json", "SerializedDAG", "to_json", "dag"]], "deserialized_dag": [["deserialized_dag", "SerializedDAG", "from_dict", "serialized_dag"], ["deserialized_simple_task", "deserialized_dag", "task_dict"], ["expected_val", "deserialized_dag", "params", "dump"]], "deserialized_simple_task": [["deserialized_simple_task", "deserialized_dag", "task_dict"], ["expected_val", "deserialized_simple_task", "params", "dump"]], "serialized_dag": [["serialized_dag", "json", "loads", "serialized_dag_json"], ["deserialized_dag", "SerializedDAG", "from_dict", "serialized_dag"]], "serialized_dag_json": [["serialized_dag_json", "SerializedDAG", "to_json", "dag"], ["serialized_dag", "json", "loads", "serialized_dag_json"]]}, "name": "test_dag_params_roundtrip", "params": {"expected_val": "", "self": "", "val": ""}, "params_descr": {"expected_val": "", "self": "", "val": ""}, "params_occur": {"expected_val": [["expected_val", "deserialized_dag", "params", "dump"], ["expected_val", "deserialized_simple_task", "params", "dump"]], "self": [], "val": [["dag", "DAG", "dag_id", "params", "val"]]}, "params_p": {"args": [], "expected_val": [["Dict[str, str]", 0.21854180339535265], ["str", 0.2037072282307203], ["type", 0.10338708629468278], ["dict", 0.10150127953733197]], "kwargs": [], "self": [], "val": [["str", 0.6946690757207878], ["List[str]", 0.10685404550184417]]}, "q_name": "TestStringifiedDAGs.test_dag_params_roundtrip", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "deserialized_dag": "", "deserialized_simple_task": "", "serialized_dag": "", "serialized_dag_json": ""}, "variables_p": {"dag": [["str", 0.24375042414794224], ["Optional[\"Lecture\"]", 0.10462182578000916], ["backend.api.models.group.Group", 0.0951668631232815], ["list", 0.08745971084806736], ["geode.models.common.Address", 0.08499756955276316], ["List[str]", 0.08489109689826448]], "deserialized_dag": [["decksite.data.models.person.Person", 0.10342115231432732], ["str", 0.08417131108607599]], "deserialized_simple_task": [["apps.rendering.task.renderingtaskstate.RenderingTaskDefinition", 0.29128294785885045], ["List[Dict[str, Any]]", 0.11517423294597275], ["OrderedDict", 0.10543933034938331], ["str", 0.09041272308009392], ["Dict[int, Any]", 0.08947805264936846]], "serialized_dag": [["dict", 0.27163848966747955], ["Dict[str, pathlib.Path]", 0.1312976501135077], ["bool", 0.10306633649897248], ["Any[Any]", 0.09141822075135052], ["str", 0.08671785705084242]], "serialized_dag_json": [["dict", 0.18805634558701761], ["KeysView[str]", 0.1871553229875876], ["Dict[int, str]", 0.10010958672350351], ["Dict[str, Union[Any, Any]]", 0.10007381769618215], ["Dict[Any, int]", 0.09730835563596382]]}}, {"docstring": {"func": "Test to make sure that only native Param objects are being passed as dag or task params", "long_descr": null, "ret": null}, "fn_lc": [[855, 4], [876, 9]], "fn_var_ln": {"dag": [[870, 8], [870, 11]]}, "fn_var_occur": {"dag": [["dag", "DAG", "dag_id", "params", "S3Param"], ["SerializedDAG", "to_dict", "dag"], ["dag", "DAG", "dag_id"], ["BaseOperator", "task_id", "dag", "dag", "start_date", "datetime", "params", "S3Param"]]}, "name": "test_invalid_params", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_invalid_params", "ret_exprs": [], "ret_type": "", "variables": {"dag": ""}, "variables_p": {"dag": [["str", 0.6174028571964724], ["Dict[str, str]", 0.10943285867737139], ["Dict[str, pathlib.Path]", 0.09105476137538544], ["int", 0.09105476137538544]]}}, {"docstring": {"func": "Test to make sure that only native Param objects are being passed as dag or task params", "long_descr": null, "ret": null}, "fn_lc": [[887, 4], [902, 52]], "fn_var_ln": {"dag": [[896, 8], [896, 11]], "observed_param": [[899, 8], [899, 22]], "serialized": [[894, 8], [894, 18]], "serialized_json": [[893, 8], [893, 23]]}, "fn_var_occur": {"dag": [["dag", "DAG", "dag_id", "params", "param"], ["serialized_json", "SerializedDAG", "to_json", "dag"], ["dag", "SerializedDAG", "from_dict", "serialized"], ["dag", "params", "param", "value"], ["observed_param", "dag", "params", "get_param"]], "observed_param": [["observed_param", "dag", "params", "get_param"], ["isinstance", "observed_param", "Param"], ["observed_param", "description", "param", "description"], ["observed_param", "schema", "param", "schema"]], "serialized": [["serialized", "json", "loads", "serialized_json"], ["SerializedDAG", "validate_schema", "serialized"], ["dag", "SerializedDAG", "from_dict", "serialized"]], "serialized_json": [["serialized_json", "SerializedDAG", "to_json", "dag"], ["serialized", "json", "loads", "serialized_json"]]}, "name": "test_full_param_roundtrip", "params": {"param": "", "self": ""}, "params_descr": {"param": "", "self": ""}, "params_occur": {"param": [["dag", "DAG", "dag_id", "params", "param"], ["dag", "params", "param", "value"], ["observed_param", "description", "param", "description"], ["observed_param", "schema", "param", "schema"]], "self": []}, "params_p": {"args": [], "kwargs": [], "param": [["lms.lmsdb.models.Comment", 0.1846783881334096]], "self": []}, "q_name": "TestStringifiedDAGs.test_full_param_roundtrip", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "observed_param": "", "serialized": "", "serialized_json": ""}, "variables_p": {"dag": [["str", 0.20516255111234824], ["list", 0.19502454928894486], ["dict", 0.18007698643834055], ["Dict[str, str]", 0.1063876572089187], ["Type[Tuple[str, ...]]", 0.10557476563593036]], "observed_param": [["str", 0.5480111388170817]], "serialized": [["str", 0.3169218471349939], ["list", 0.2753867913745148], ["int", 0.12400248248836059], ["Dict[str, str]", 0.09027685557132255]], "serialized_json": [["dict", 0.24231681275144062], ["Dict[Any, int]", 0.11380649044112133], ["Dict[str, Any]", 0.10439718915517972], ["str", 0.09019927383248066], ["Any[Any]", 0.08833762191996689], ["Dict[str, list]", 0.08661859293731523], ["Dict[str, str]", 0.08166080219287175], ["Dict[str, Union[Any, Any, Any]]", 0.08013593043243386]]}}, {"docstring": {"func": "Test that params work both on Serialized DAGs & Tasks", "long_descr": null, "ret": null}, "fn_lc": [[912, 4], [927, 69]], "fn_var_ln": {"dag": [[916, 8], [916, 11]], "deserialized_dag": [[925, 8], [925, 24]], "deserialized_simple_task": [[926, 8], [926, 32]], "serialized_dag": [[919, 8], [919, 22]]}, "fn_var_occur": {"dag": [["dag", "DAG", "dag_id"], ["BaseOperator", "task_id", "dag", "dag", "params", "val", "start_date", "datetime"], ["serialized_dag", "SerializedDAG", "to_dict", "dag"]], "deserialized_dag": [["deserialized_dag", "SerializedDAG", "from_dict", "serialized_dag"], ["deserialized_simple_task", "deserialized_dag", "task_dict"]], "deserialized_simple_task": [["deserialized_simple_task", "deserialized_dag", "task_dict"], ["expected_val", "deserialized_simple_task", "params", "dump"]], "serialized_dag": [["serialized_dag", "SerializedDAG", "to_dict", "dag"], ["deserialized_dag", "SerializedDAG", "from_dict", "serialized_dag"]]}, "name": "test_task_params_roundtrip", "params": {"expected_val": "", "self": "", "val": ""}, "params_descr": {"expected_val": "", "self": "", "val": ""}, "params_occur": {"expected_val": [["expected_val", "deserialized_simple_task", "params", "dump"]], "self": [], "val": [["BaseOperator", "task_id", "dag", "dag", "params", "val", "start_date", "datetime"]]}, "params_p": {"args": [], "expected_val": [["str", 0.317604623532237], ["int", 0.17551019044480246]], "kwargs": [], "self": [], "val": [["str", 0.6757827077077045], ["django.contrib.sites.models.Site", 0.09631853612181619], ["float", 0.09125491020151812]]}, "q_name": "TestStringifiedDAGs.test_task_params_roundtrip", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "deserialized_dag": "", "deserialized_simple_task": "", "serialized_dag": ""}, "variables_p": {"dag": [["int", 0.17644906650168315], ["str", 0.13789055688795981], ["list", 0.13557811071605835], ["dict", 0.09574869834500059], ["Dict[str, Any]", 0.09369069329069539], ["track.tests.factories.RecordFactory", 0.08732805819072634], ["datetime.datetime.timedelta", 0.08312845958275646]], "deserialized_dag": [["int", 0.4539606272023231], ["datetime.datetime", 0.1789194699027523], ["str", 0.08945973495137614]], "deserialized_simple_task": [["apps.rendering.task.renderingtaskstate.RenderingTaskDefinition", 0.29128294785885045], ["List[Dict[str, Any]]", 0.11517423294597275], ["OrderedDict", 0.10543933034938331], ["str", 0.09041272308009392], ["Dict[int, Any]", 0.08947805264936846]], "serialized_dag": [["tests.pathfinding.test_fee_schedule.TokenNetworkForTests", 0.1559959464171229], ["float", 0.09457568195297708], ["list", 0.08551627339489778], ["dict", 0.07867658859512562], ["int", 0.07184466453795138]]}}, {"docstring": {"func": "Assert extra field exists & OperatorLinks defined in Plugins and inbuilt Operator Links.", "long_descr": "This tests also depends on GoogleLink() registered as a plugin\nin tests/plugins/test_plugin.py\n\nThe function tests that if extra operator links are registered in plugin\nin ``operator_extra_links`` and the same is also defined in\nthe Operator in ``BaseOperator.operator_extra_links``, it has the correct\nextra link.\n\nIf CustomOperator is called with a string argument for bash_command it\nhas a single link, if called with an array it has one link per element.\nWe use this to test the serialization of link data.", "ret": null}, "fn_lc": [[952, 4], [1008, 47]], "fn_var_ln": {"dag": [[978, 8], [978, 11]], "dr": [[991, 8], [991, 10]], "link": [[1007, 8], [1007, 12]], "serialized_dag": [[975, 8], [975, 22]], "simple_task": [[979, 8], [979, 19]], "test_date": [[970, 8], [970, 17]], "ti": [[992, 9], [992, 11]]}, "fn_var_occur": {"dag": [["dag_maker", "dag_id", "start_date", "test_date", "dag"], ["serialized_dag", "SerializedDAG", "to_dict", "dag"], ["dag", "SerializedDAG", "from_dict", "serialized_dag"], ["simple_task", "dag", "task_dict"]], "dr": [["dr", "dag_maker", "create_dagrun", "execution_date", "test_date"], ["ti", "dr", "task_instances"], ["XCom", "set", "key", "value", "bash_command", "task_id", "simple_task", "task_id", "dag_id", "simple_task", "dag_id", "run_id", "dr", "run_id"]], "link": [["link", "simple_task", "get_extra_links", "ti", "name"], ["link", "expected"], ["link", "simple_task", "get_extra_links", "ti", "GoogleLink", "name"]], "serialized_dag": [["serialized_dag", "SerializedDAG", "to_dict", "dag"], ["dag", "SerializedDAG", "from_dict", "serialized_dag"], ["serialized_dag", "serialized_links"]], "simple_task": [["simple_task", "dag", "task_dict"], ["getattr", "simple_task", "bash_command"], ["set", "simple_task", "extra_links", "links"], ["XCom", "set", "key", "value", "bash_command", "task_id", "simple_task", "task_id", "dag_id", "simple_task", "dag_id", "run_id", "dr", "run_id"], ["link", "simple_task", "get_extra_links", "ti", "name"], ["link", "simple_task", "get_extra_links", "ti", "GoogleLink", "name"]], "test_date": [["test_date", "timezone", "DateTime", "tzinfo", "timezone", "utc"], ["dag_maker", "dag_id", "start_date", "test_date", "dag"], ["dr", "dag_maker", "create_dagrun", "execution_date", "test_date"]], "ti": [["ti", "dr", "task_instances"], ["link", "simple_task", "get_extra_links", "ti", "name"], ["link", "simple_task", "get_extra_links", "ti", "GoogleLink", "name"]]}, "name": "test_extra_serialized_field_and_operator_links", "params": {"bash_command": "", "dag_maker": "", "links": "", "self": "", "serialized_links": ""}, "params_descr": {"bash_command": "", "dag_maker": "", "links": "", "self": "", "serialized_links": ""}, "params_occur": {"bash_command": [["CustomOperator", "task_id", "bash_command", "bash_command"], ["getattr", "simple_task", "bash_command"], ["XCom", "set", "key", "value", "bash_command", "task_id", "simple_task", "task_id", "dag_id", "simple_task", "dag_id", "run_id", "dr", "run_id"]], "dag_maker": [["dag_maker", "dag_id", "start_date", "test_date", "dag"], ["dr", "dag_maker", "create_dagrun", "execution_date", "test_date"]], "links": [["set", "simple_task", "extra_links", "links"], ["links", "items"]], "self": [], "serialized_links": [["serialized_dag", "serialized_links"]]}, "params_p": {"args": [], "bash_command": [["str", 0.17951599096734394], ["core.models.Grouping", 0.11054919592193206], ["app.models.dto.ClientInfo", 0.09195916829241263]], "dag_maker": [["str", 0.10906409841439575], ["Callable", 0.10188918414195383]], "kwargs": [], "links": [["Callable", 0.09980946184755667], ["core.models.Recipe", 0.09277564947254525], ["str", 0.09275480353278877]], "self": [], "serialized_links": [["str", 0.175229635770026], ["List[int]", 0.12094936347774542], ["int", 0.087614817885013]]}, "q_name": "TestStringifiedDAGs.test_extra_serialized_field_and_operator_links", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "dr": "", "link": "", "serialized_dag": "", "simple_task": "", "test_date": "", "ti": ""}, "variables_p": {"dag": [["Dict[str, Any]", 0.13536317578861914], ["datetime.datetime", 0.12118618329914159], ["datetime.date", 0.09479559186402459], ["byceps.services.user.models.detail.UserDetail", 0.08290858949698975], ["tartare.core.models.ValidityPeriod", 0.08162802863638745], ["Set[str]", 0.07954389961088591]], "dr": [["str", 0.8901724331688091], ["Final", 0.10982756683119074]], "link": [["str", 0.3497503203789671], ["dict", 0.11340556549958715], ["Dict[int, str]", 0.09114345351026855]], "serialized_dag": [["dict", 0.6075488648529821], ["dictmentor.base.DictMentor", 0.10431092253405061]], "simple_task": [["set", 0.29986056760678714], ["dict", 0.1977441808870215], ["List[Dict]", 0.09479242071409787], ["Dict[int, str]", 0.09476775695103831]], "test_date": [["datetime.date", 0.21730614988223773], ["datetime.datetime.datetime", 0.20294125695653442], ["datetime.datetime", 0.16985080588414053], ["Dict[Any, List[str]]", 0.12527871032371984], ["str", 0.11318585919286282]], "ti": [["Dict[str, Any]", 0.0981371772611643], ["cmk.base.api.agent_based.type_defs.SNMPSectionPlugin", 0.09637114116964779]]}}, {"docstring": {"func": "Assert OperatorLinks not registered via Plugins and if it is not an inbuilt Operator Link,", "long_descr": "it can still deserialize the DAG (does not error) but just logs an error", "ret": null}, "fn_lc": [[1010, 4], [1043, 46]], "fn_var_ln": {"expected_err_msg": [[1040, 8], [1040, 24]], "name": [[1019, 12], [1019, 16]], "operator_extra_links": [[1027, 12], [1027, 32]], "serialized_dag": [[1035, 8], [1035, 22]]}, "fn_var_occur": {"expected_err_msg": [["expected_err_msg", "caplog", "text"]], "name": [], "operator_extra_links": [], "serialized_dag": [["serialized_dag", "SerializedDAG", "to_dict", "dag"], ["SerializedDAG", "from_dict", "serialized_dag"]]}, "name": "test_extra_operator_links_logs_error_for_non_registered_extra_links", "params": {"caplog": "", "self": ""}, "params_descr": {"caplog": "", "self": ""}, "params_occur": {"caplog": [["caplog", "at_level", "logger"], ["expected_err_msg", "caplog", "text"]], "self": []}, "params_p": {"args": [], "caplog": [["str", 0.11067672847993514]], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_extra_operator_links_logs_error_for_non_registered_extra_links", "ret_exprs": [], "ret_type": "", "variables": {"expected_err_msg": "", "name": "", "operator_extra_links": "", "serialized_dag": ""}, "variables_p": {"expected_err_msg": [["int", 0.49990939603460394], ["str", 0.4999093797345873], ["List[Tuple[Any, Any]]", 3.653801636190448e-05], ["Pattern[str]", 2.9589675949740426e-05], ["List[Tuple[int, int]]", 2.622960129404148e-05], ["list", 2.5243252147143665e-05]], "name": [["str", 0.8999999999999999]], "operator_extra_links": [["bool", 0.49999999999999994], ["str", 0.19999999999999998], ["Type[ajapaik.ajapaik.models.Profile]", 0.09999999999999999], ["int", 0.09999999999999999], ["Optional[str]", 0.09999999999999999]], "serialized_dag": [["str", 0.1912883098994992], ["dict", 0.17525170834709858], ["int", 0.12484265903296252], ["list", 0.12232779760634173], ["tests.pathfinding.test_fee_schedule.TokenNetworkForTests", 0.11499614507364958], ["List[Tuple[int, int, int, int, int, int]]", 0.0813282636340297]]}}, {"docstring": {"func": "Test that templated_fields exists for all Operators in Serialized DAG", "long_descr": "Since we don't want to inflate arbitrary python objects (it poses a RCE/security risk etc.)\nwe want check that non-\"basic\" objects are turned in to strings after deserializing.", "ret": null}, "fn_lc": [[1109, 4], [1124, 80]], "fn_var_ln": {"dag": [[1117, 8], [1117, 11]], "deserialized_dag": [[1122, 8], [1122, 24]], "deserialized_test_task": [[1123, 8], [1123, 30]], "serialized_dag": [[1121, 8], [1121, 22]]}, "fn_var_occur": {"dag": [["dag", "DAG", "start_date", "datetime"], ["serialized_dag", "SerializedDAG", "to_dict", "dag"]], "deserialized_dag": [["deserialized_dag", "SerializedDAG", "from_dict", "serialized_dag"], ["deserialized_test_task", "deserialized_dag", "task_dict"]], "deserialized_test_task": [["deserialized_test_task", "deserialized_dag", "task_dict"], ["expected_field", "getattr", "deserialized_test_task"]], "serialized_dag": [["serialized_dag", "SerializedDAG", "to_dict", "dag"], ["deserialized_dag", "SerializedDAG", "from_dict", "serialized_dag"]]}, "name": "test_templated_fields_exist_in_serialized_dag", "params": {"expected_field": "", "self": "", "templated_field": ""}, "params_descr": {"expected_field": "", "self": "", "templated_field": ""}, "params_occur": {"expected_field": [["expected_field", "getattr", "deserialized_test_task"]], "self": [], "templated_field": [["BashOperator", "task_id", "bash_command", "templated_field"]]}, "params_p": {"args": [], "expected_field": [["str", 0.7007327011052001], ["Dict[str, Any]", 0.12147883559442711], ["models.Dominion", 0.08918777024225664], ["Optional[Dict[Hashable, Any]]", 0.08860069305811626]], "kwargs": [], "self": [], "templated_field": [["Dict[str, Any]", 0.20774343314886548], ["models.RepositoryMetadata", 0.12761846143886876], ["golem_messages.message.base.Message", 0.10761590004922109], ["Dict[str, pathlib.Path]", 0.10660424002385537], ["Optional[Dict]", 0.08765585809755529], ["Optional[str]", 0.08765585809755529], ["Optional", 0.08765585809755529]]}, "q_name": "TestStringifiedDAGs.test_templated_fields_exist_in_serialized_dag", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "deserialized_dag": "", "deserialized_test_task": "", "serialized_dag": ""}, "variables_p": {"dag": [["datetime.datetime.timedelta", 0.3824569185716088], ["datetime.datetime", 0.1899823015543773], ["str", 0.18639851051844236], ["int", 0.12173468476400177], ["datetime.datetime.datetime", 0.11942758459156971]], "deserialized_dag": [["int", 0.4674707847785426], ["str", 0.18845545043616008]], "deserialized_test_task": [["dict", 0.32298165125045764], ["Dict[str, Union[int, str]]", 0.12165883461400617], ["Dict[Any, str]", 0.1139577269076745], ["Dict[int, int]", 0.09816462636444806], ["Set[str]", 0.09017761956827205], ["Dict[str, Any]", 0.08785916943445045], ["List[Dict[str, Any]]", 0.0843054634900722], ["str", 0.08089490837061895]], "serialized_dag": [["tests.pathfinding.test_fee_schedule.TokenNetworkForTests", 0.1559959464171229], ["float", 0.09457568195297708], ["list", 0.08551627339489778], ["dict", 0.07867658859512562], ["int", 0.07184466453795138]]}}, {"docstring": {"func": "Additional Properties are disabled on DAGs. This test verifies that all the", "long_descr": "keys in DAG.get_serialized_fields are listed in Schema definition.", "ret": null}, "fn_lc": [[1126, 4], [1147, 61]], "fn_var_ln": {"dag_params": [[1146, 8], [1146, 18]], "dag_schema": [[1131, 8], [1131, 18]], "ignored_keys": [[1134, 8], [1134, 20]], "keys_for_backwards_compat": [[1143, 8], [1143, 33]]}, "fn_var_occur": {"dag_params": [["dag_params", "builtins", "set", "set", "dag_schema", "keys", "ignored_keys", "keys_for_backwards_compat"], ["set", "DAG", "get_serialized_fields", "dag_params"]], "dag_schema": [["dag_schema", "builtins", "dict", "load_dag_schema_dict"], ["dag_params", "builtins", "set", "set", "dag_schema", "keys", "ignored_keys", "keys_for_backwards_compat"]], "ignored_keys": [["ignored_keys", "builtins", "set"], ["dag_params", "builtins", "set", "set", "dag_schema", "keys", "ignored_keys", "keys_for_backwards_compat"]], "keys_for_backwards_compat": [["keys_for_backwards_compat", "builtins", "set"], ["dag_params", "builtins", "set", "set", "dag_schema", "keys", "ignored_keys", "keys_for_backwards_compat"]]}, "name": "test_dag_serialized_fields_with_schema", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_dag_serialized_fields_with_schema", "ret_exprs": [], "ret_type": "", "variables": {"dag_params": "builtins.set", "dag_schema": "builtins.dict", "ignored_keys": "builtins.set", "keys_for_backwards_compat": "builtins.set"}, "variables_p": {"dag_params": [["set", 0.9350197169541592], ["List[str]", 0.0649802830458409]], "dag_schema": [["dict", 1.0]], "ignored_keys": [["set", 1.0000000000000002]], "keys_for_backwards_compat": [["set", 1.0]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1149, 4], [1165, 50]], "fn_var_ln": {"blob": [[1162, 8], [1162, 12]], "op": [[1159, 8], [1159, 10]], "serialized_op": [[1163, 8], [1163, 21]]}, "fn_var_occur": {"blob": [["blob", "SerializedBaseOperator", "serialize_operator", "op"], ["serialized_op", "SerializedBaseOperator", "deserialize_operator", "blob"]], "op": [["op", "MyOperator", "task_id"], ["op", "do_xcom_push", "False"], ["blob", "SerializedBaseOperator", "serialize_operator", "op"]], "serialized_op": [["serialized_op", "SerializedBaseOperator", "deserialize_operator", "blob"], ["serialized_op", "do_xcom_push", "False"]]}, "name": "test_operator_subclass_changing_base_defaults", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_operator_subclass_changing_base_defaults", "ret_exprs": [], "ret_type": "", "variables": {"blob": "", "op": "", "serialized_op": ""}, "variables_p": {"blob": [["dict", 0.13178166996338536], ["int", 0.10292682527373782], ["str", 0.08117627919661806]], "op": [["str", 0.3675281624380412], ["Pattern[Any]", 0.292457362498919], ["list", 0.09455246488588163], ["int", 0.08913365114069416], ["Dict[str, Dict[str, Any]]", 0.07855964242003528], ["Dict[str, Union[Any, Any, Any, str]]", 0.07776871661642878]], "serialized_op": [["int", 0.6308355020804468], ["float", 0.10980300250076032], ["Pattern[str]", 0.09197480077786821], ["bool", 0.08497732873961639], ["List[Pattern[str]]", 0.08240936590130814]]}}, {"docstring": {"func": "This test verifies that there are no new fields added to BaseOperator. And reminds that", "long_descr": "tests should be added for it.", "ret": null}, "fn_lc": [[1167, 4], [1230, 28]], "fn_var_ln": {"base_operator": [[1172, 8], [1172, 21]], "fields": [[1173, 8], [1173, 14]]}, "fn_var_occur": {"base_operator": [["base_operator", "BaseOperator", "task_id"], ["fields", "k", "v", "k", "v", "vars", "base_operator", "items", "k", "BaseOperator", "get_serialized_fields"], ["fields", "base_operator", "log", "None", "None", "False", "True", "None", "None", "None", "None", "None", "set", "None", "True", "True", "None", "True", "None", "None", "None", "None", "None", "None", "None", "None", "timedelta", "False", "None", "None", "False", "False"]], "fields": [["fields", "k", "v", "k", "v", "vars", "base_operator", "items", "k", "BaseOperator", "get_serialized_fields"], ["fields", "base_operator", "log", "None", "None", "False", "True", "None", "None", "None", "None", "None", "set", "None", "True", "True", "None", "True", "None", "None", "None", "None", "None", "None", "None", "None", "timedelta", "False", "None", "None", "False", "False"]]}, "name": "test_no_new_fields_added_to_base_operator", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_no_new_fields_added_to_base_operator", "ret_exprs": [], "ret_type": "", "variables": {"base_operator": "", "fields": ""}, "variables_p": {"base_operator": [["str", 0.3719301225580267], ["NamedTuple", 0.11688529488332512], ["int", 0.08816218884801089], ["Dict[str, Union[Any, Any, Any, Any]]", 0.0869050493879778]], "fields": [["str", 0.1198933994441699], ["list", 0.11854841975137907], ["Dict[str, Any]", 0.09914100039086098], ["dict", 0.09085800080427231]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1232, 4], [1248, 59]], "fn_var_ln": {"blob": [[1233, 8], [1233, 12]], "serialized_op": [[1247, 8], [1247, 21]]}, "fn_var_occur": {"blob": [["SerializedDAG", "_json_schema", "validate", "blob", "_schema", "load_dag_schema_dict"], ["serialized_op", "SerializedBaseOperator", "deserialize_operator", "blob"]], "serialized_op": [["serialized_op", "SerializedBaseOperator", "deserialize_operator", "blob"], ["serialized_op", "downstream_task_ids"]]}, "name": "test_operator_deserialize_old_names", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_operator_deserialize_old_names", "ret_exprs": [], "ret_type": "", "variables": {"blob": "", "serialized_op": ""}, "variables_p": {"blob": [], "serialized_op": [["str", 0.5008205843314876], ["bool", 0.20567733900112653], ["Dict[str, str]", 0.11142305664702394], ["Dict[Union[Any, Any], str]", 0.09157286706089289], ["List[str]", 0.09050615295946912]]}}, {"docstring": {"func": "Test task resources serialization/deserialization.", "long_descr": null, "ret": null}, "fn_lc": [[1250, 4], [1266, 65]], "fn_var_ln": {"deserialized_task": [[1264, 8], [1264, 25]], "execution_date": [[1256, 8], [1256, 22]], "json_dag": [[1263, 8], [1263, 16]], "task": [[1259, 12], [1259, 16]], "task_id": [[1257, 8], [1257, 15]]}, "fn_var_occur": {"deserialized_task": [["deserialized_task", "json_dag", "get_task", "task_id"], ["deserialized_task", "resources", "task", "resources"], ["isinstance", "deserialized_task", "resources", "Resources"]], "execution_date": [["execution_date", "datetime"], ["DAG", "start_date", "execution_date", "dag"]], "json_dag": [["json_dag", "SerializedDAG", "from_json", "SerializedDAG", "to_json", "dag"], ["deserialized_task", "json_dag", "get_task", "task_id"]], "task": [["task", "EmptyOperator", "task_id", "task_id", "resources"], ["deserialized_task", "resources", "task", "resources"]], "task_id": [["task", "EmptyOperator", "task_id", "task_id", "resources"], ["deserialized_task", "json_dag", "get_task", "task_id"]]}, "name": "test_task_resources", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_task_resources", "ret_exprs": [], "ret_type": "", "variables": {"deserialized_task": "", "execution_date": "", "json_dag": "", "task": "", "task_id": ""}, "variables_p": {"deserialized_task": [["Dict[str, str]", 0.1279798427042709], ["List[Tuple[Any, str]]", 0.11612698632748933], ["str", 0.11180670618406585], ["legistar.models.MatterStatus", 0.10757353220295714], ["Dict[str, Any]", 0.09393714289262187], ["list", 0.08813011413097757], ["dict", 0.08776107676979812]], "execution_date": [["int", 0.19978188712107267], ["datetime.datetime", 0.18888757409482787], ["List[Union[Any, Any]]", 0.1259647943613027], ["datetime.date", 0.10771944430762904], ["str", 0.09875877695550192], ["timedelta", 0.09627230960320454], ["datetime.datetime.datetime", 0.09433256263475416], ["Type[prm.journals.models.moods.Mood]", 0.08828265092170712]], "json_dag": [["str", 0.31807402213540026], ["float", 0.19497250647309963], ["Dict[Any, str]", 0.10129713001204248], ["pydynasync.models.Changes", 0.09311129558309167], ["dss.config.Replica", 0.09189122015193005]], "task": [["List[List[int]]", 0.17404926476013682], ["Dict[str, Union[Any, Any, str]]", 0.1712351289415525], ["str", 0.1642639483787877], ["int", 0.10124012487447817], ["Dict[str, str]", 0.09691660855233587], ["Dict[str, Optional[str]]", 0.08005808093943796]], "task_id": [["str", 0.4230015769738856], ["cmk.utils.type_defs.UserId", 0.08535857518899412], ["list", 0.08374085285935647]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1297, 8], [1311, 39]], "fn_var_ln": {"children": [[1300, 16], [1300, 24]], "expected_deserialized": [[1304, 16], [1304, 37]], "expected_dict": [[1305, 16], [1305, 29]], "expected_serialized": [[1303, 16], [1303, 35]]}, "fn_var_occur": {"children": [["serialized_dag", "task_group", "children"], ["serialized_dag", "task_group", "children", "keys", "dag", "task_group", "children", "keys"], ["children", "node", "children", "values"]], "expected_deserialized": [["expected_deserialized", "SerializedBaseOperator", "deserialize_operator", "expected_serialized"], ["expected_dict", "SerializedBaseOperator", "serialize_operator", "expected_deserialized"]], "expected_dict": [["expected_dict", "SerializedBaseOperator", "serialize_operator", "expected_deserialized"], ["SerializedBaseOperator", "serialize_operator", "node", "expected_dict"]], "expected_serialized": [["expected_serialized", "SerializedBaseOperator", "serialize_operator", "dag", "get_task", "node", "task_id"], ["expected_deserialized", "SerializedBaseOperator", "deserialize_operator", "expected_serialized"]]}, "name": "check_task_group", "params": {"node": ""}, "params_descr": {"node": ""}, "params_occur": {"node": [["node", "dag", "serialized_dag"], ["children", "node", "children", "values"], ["expected_serialized", "SerializedBaseOperator", "serialize_operator", "dag", "get_task", "node", "task_id"], ["SerializedBaseOperator", "serialize_operator", "node", "expected_dict"]]}, "params_p": {"args": [], "kwargs": [], "node": [], "self": []}, "q_name": "TestStringifiedDAGs.test_task_group_serialization.<locals>.check_task_group", "ret_exprs": ["return"], "ret_type": "", "ret_type_p": [["bytes", 0.09486737796906641], ["Iterable[Mapping[str, Any]]", 0.09291582502888446], ["Optional[bool]", 0.09291582502888446]], "variables": {"children": "", "expected_deserialized": "", "expected_dict": "", "expected_serialized": ""}, "variables_p": {"children": [["owlmixin.TList[jumeaux.models.Request]", 0.10576814115975451], ["set", 0.0903471877553984], ["Optional[str]", 0.08638682921327036]], "expected_deserialized": [["int", 0.0980967567571677], ["Tuple[str, str, str]", 0.08437245348558944]], "expected_dict": [["requests.models.Response", 0.448004219780262], ["dict", 0.24866388911825638], ["list", 0.11783004168802476], ["fimfarchive.utils.PersistedDict", 0.09592216579935416]], "expected_serialized": [["str", 0.3199680513716555], ["RuntimeError", 0.08787293860078083], ["dict", 0.0838021007865205]]}}, {"docstring": {"func": "Test TaskGroup serialization/deserialization.", "long_descr": null, "ret": null}, "fn_lc": [[1268, 4], [1313, 51]], "fn_var_ln": {"_": [[1281, 20], [1281, 21]], "dag_dict": [[1287, 8], [1287, 16]], "execution_date": [[1273, 8], [1273, 22]], "json_dag": [[1289, 8], [1289, 16]], "serialized_dag": [[1292, 8], [1292, 22]], "task1": [[1275, 12], [1275, 17]], "task5": [[1283, 12], [1283, 17]]}, "fn_var_occur": {"_": [], "dag_dict": [], "execution_date": [], "json_dag": [], "serialized_dag": [["check_task_group", "serialized_dag", "task_group"]], "task1": [], "task5": []}, "name": "test_task_group_serialization", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_task_group_serialization", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "dag_dict": "", "execution_date": "", "json_dag": "", "serialized_dag": "", "task1": "", "task5": ""}, "variables_p": {"_": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "dag_dict": [["dict", 0.4], ["Type[Dict[bytes, Any]]", 0.2], ["Type[fedop.models.policystorage.PolicyStorage]", 0.1], ["Type[Dict[str, Any]]", 0.1], ["Dict[str, bool]", 0.1], ["Dict[str, Dict[str, Any]]", 0.1]], "execution_date": [["str", 0.5309981072561922], ["Dict[str, Dict[str, str]]", 0.14365386517434214], ["float", 0.13232945606051183], ["bytes", 0.10537212890330082], ["int", 0.08764644260565306]], "json_dag": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "serialized_dag": [["dict", 0.4151891577644725], ["list", 0.20897618709994353], ["pydynasync.models.Changes", 0.10579672783367405], ["List[Dict[str, Any]]", 0.09864954370696592], ["Dict[str, Any]", 0.08582622632603658]], "task1": [["str", 0.19999999999999998], ["annofabapi.models.TaskPhase", 0.09999999999999999], ["List[Dict[str, Any]]", 0.09999999999999999], ["bool", 0.09999999999999999], ["Type[src.app.models.TaskDevice]", 0.09999999999999999], ["Dict[str, Any]", 0.09999999999999999]], "task5": [["str", 0.19999999999999998], ["annofabapi.models.TaskPhase", 0.09999999999999999], ["List[Dict[str, Any]]", 0.09999999999999999], ["bool", 0.09999999999999999], ["Type[src.app.models.TaskDevice]", 0.09999999999999999], ["Dict[str, Any]", 0.09999999999999999]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1316, 4], [1317, 99]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "assert_taskgroup_children", "params": {"dag_task_group": "", "expected_children": "", "se_task_group": ""}, "params_descr": {"dag_task_group": "", "expected_children": "", "se_task_group": ""}, "params_occur": {"dag_task_group": [["se_task_group", "children", "keys", "dag_task_group", "children", "keys", "expected_children"]], "expected_children": [["se_task_group", "children", "keys", "dag_task_group", "children", "keys", "expected_children"]], "se_task_group": [["se_task_group", "children", "keys", "dag_task_group", "children", "keys", "expected_children"]]}, "params_p": {"args": [], "dag_task_group": [["bytes", 0.21914984152138292], ["dict", 0.20059045239190287], ["Optional[\"TrackingData\"]", 0.10137414515607876], ["Dict[str, Any]", 0.0829313282644095]], "expected_children": [["bytes", 0.21914984152138292], ["dict", 0.20059045239190287], ["Optional[\"TrackingData\"]", 0.10137414515607876], ["Dict[str, Any]", 0.0829313282644095]], "kwargs": [], "se_task_group": [["bytes", 0.21914984152138292], ["dict", 0.20059045239190287], ["Optional[\"TrackingData\"]", 0.10137414515607876], ["Dict[str, Any]", 0.0829313282644095]], "self": []}, "q_name": "TestStringifiedDAGs.assert_taskgroup_children", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1320, 4], [1322, 46]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "assert_task_is_setup_teardown", "params": {"is_setup": "builtins.bool", "is_teardown": "builtins.bool", "task": ""}, "params_descr": {"is_setup": "", "is_teardown": "", "task": ""}, "params_occur": {"is_setup": [["task", "is_setup", "is_setup"]], "is_teardown": [["task", "is_teardown", "is_teardown"]], "task": [["task", "is_setup", "is_setup"], ["task", "is_teardown", "is_teardown"]]}, "params_p": {"args": [], "is_setup": [["bool", 0.1904892088149815], ["pykechain.models.sidebar.sidebar_button.SideBarButton", 0.10754939625400907], ["List[Dict[str, Any]]", 0.1069774988627494], ["Iterable[core.models.Grouping]", 0.10551260654753478], ["bytes", 0.0989752701381094], ["int", 0.09888957947073167], ["zilencer.models.RemoteZulipServer", 0.09308173867353706], ["Optional[\"Outcome\"]", 0.09154720237559784]], "is_teardown": [["bool", 0.1904892088149815], ["pykechain.models.sidebar.sidebar_button.SideBarButton", 0.10754939625400907], ["List[Dict[str, Any]]", 0.1069774988627494], ["Iterable[core.models.Grouping]", 0.10551260654753478], ["bytes", 0.0989752701381094], ["int", 0.09888957947073167], ["zilencer.models.RemoteZulipServer", 0.09308173867353706], ["Optional[\"Outcome\"]", 0.09154720237559784]], "kwargs": [], "self": [], "task": [["str", 0.31017176476934843], ["raiden.utils.List[raiden.utils.Dict[str, raiden.utils.Any]]", 0.08949579432157283], ["Iterable[Callable]", 0.08644723360120632]]}, "q_name": "TestStringifiedDAGs.assert_task_is_setup_teardown", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Test setup and teardown task serialization/deserialization.", "long_descr": null, "ret": null}, "fn_lc": [[1324, 4], [1379, 9]], "fn_var_ln": {"dag_dict": [[1344, 8], [1344, 16]], "dag_first_group": [[1358, 8], [1358, 23]], "dag_second_group": [[1369, 8], [1369, 24]], "execution_date": [[1329, 8], [1329, 22]], "json_dag": [[1346, 8], [1346, 16]], "se_first_group": [[1357, 8], [1357, 22]], "se_second_group": [[1368, 8], [1368, 23]], "serialized_dag": [[1349, 8], [1349, 22]]}, "fn_var_occur": {"dag_dict": [["dag_dict", "SerializedDAG", "to_dict", "dag"], ["SerializedDAG", "validate_schema", "dag_dict"]], "dag_first_group": [["dag_first_group", "dag", "task_group", "children"], ["self", "assert_taskgroup_children", "se_first_group", "dag_first_group"], ["dag_second_group", "dag_first_group", "children"]], "dag_second_group": [["dag_second_group", "dag_first_group", "children"], ["self", "assert_taskgroup_children", "se_second_group", "dag_second_group"]], "execution_date": [["execution_date", "datetime"], ["DAG", "start_date", "execution_date", "dag"]], "json_dag": [["json_dag", "SerializedDAG", "from_json", "SerializedDAG", "to_json", "dag"], ["self", "validate_deserialized_dag", "json_dag", "dag"]], "se_first_group": [["se_first_group", "serialized_dag", "task_group", "children"], ["self", "assert_taskgroup_children", "se_first_group", "dag_first_group"], ["self", "assert_task_is_setup_teardown", "se_first_group", "children", "is_setup", "True"], ["self", "assert_task_is_setup_teardown", "se_first_group", "children"], ["self", "assert_task_is_setup_teardown", "se_first_group", "children", "is_teardown", "True"], ["se_second_group", "se_first_group", "children"]], "se_second_group": [["se_second_group", "se_first_group", "children"], ["self", "assert_taskgroup_children", "se_second_group", "dag_second_group"], ["self", "assert_task_is_setup_teardown", "se_second_group", "children", "is_setup", "True"], ["self", "assert_task_is_setup_teardown", "se_second_group", "children"], ["self", "assert_task_is_setup_teardown", "se_second_group", "children", "is_teardown", "True"]], "serialized_dag": [["serialized_dag", "SerializedDAG", "deserialize_dag", "SerializedDAG", "serialize_dag", "dag"], ["self", "assert_taskgroup_children", "serialized_dag", "task_group", "dag", "task_group"], ["self", "assert_task_is_setup_teardown", "serialized_dag", "task_group", "children", "is_setup", "True"], ["self", "assert_task_is_setup_teardown", "serialized_dag", "task_group", "children", "is_teardown", "True"], ["se_first_group", "serialized_dag", "task_group", "children"]]}, "name": "test_setup_teardown_tasks", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "validate_deserialized_dag", "json_dag", "dag"], ["self", "assert_taskgroup_children", "serialized_dag", "task_group", "dag", "task_group"], ["self", "assert_task_is_setup_teardown", "serialized_dag", "task_group", "children", "is_setup", "True"], ["self", "assert_task_is_setup_teardown", "serialized_dag", "task_group", "children", "is_teardown", "True"], ["self", "assert_taskgroup_children", "se_first_group", "dag_first_group"], ["self", "assert_task_is_setup_teardown", "se_first_group", "children", "is_setup", "True"], ["self", "assert_task_is_setup_teardown", "se_first_group", "children"], ["self", "assert_task_is_setup_teardown", "se_first_group", "children", "is_teardown", "True"], ["self", "assert_taskgroup_children", "se_second_group", "dag_second_group"], ["self", "assert_task_is_setup_teardown", "se_second_group", "children", "is_setup", "True"], ["self", "assert_task_is_setup_teardown", "se_second_group", "children"], ["self", "assert_task_is_setup_teardown", "se_second_group", "children", "is_teardown", "True"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_setup_teardown_tasks", "ret_exprs": [], "ret_type": "", "variables": {"dag_dict": "", "dag_first_group": "", "dag_second_group": "", "execution_date": "", "json_dag": "", "se_first_group": "", "se_second_group": "", "serialized_dag": ""}, "variables_p": {"dag_dict": [["dict", 0.5138649900989489], ["Dict[str, int]", 0.19845155434881406], ["Dict[str, str]", 0.1876562286299605], ["Dict[str, Union[Any, str]]", 0.10002722692227647]], "dag_first_group": [["float", 0.19581276408975645]], "dag_second_group": [["dateutil.tz.tz.tzutc", 0.9999999987705963]], "execution_date": [["int", 0.19978188712107267], ["datetime.datetime", 0.18888757409482787], ["List[Union[Any, Any]]", 0.1259647943613027], ["datetime.date", 0.10771944430762904], ["str", 0.09875877695550192], ["timedelta", 0.09627230960320454], ["datetime.datetime.datetime", 0.09433256263475416], ["Type[prm.journals.models.moods.Mood]", 0.08828265092170712]], "json_dag": [["Dict[str, Tuple[str, Any]]", 0.4929103521485618], ["dict", 0.3210906020678779], ["Dict[str, Any]", 0.08822561092886684]], "se_first_group": [], "se_second_group": [["int", 0.17266743873257182], ["dateutil.tz.tz.tzutc", 0.09416402711094292]], "serialized_dag": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1385, 12], [1386, 24]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "mytask", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_teardown_task_on_failure_fail_dagrun_serialization.<locals>.mytask", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1381, 4], [1398, 50]], "fn_var_ln": {"dag_dict": [[1390, 8], [1390, 16]], "json_dag": [[1392, 8], [1392, 16]], "serialized_dag": [[1395, 8], [1395, 22]], "task": [[1396, 8], [1396, 12]]}, "fn_var_occur": {"dag_dict": [["dag_dict", "SerializedDAG", "to_dict", "dag"], ["SerializedDAG", "validate_schema", "dag_dict"]], "json_dag": [["json_dag", "SerializedDAG", "from_json", "SerializedDAG", "to_json", "dag"], ["self", "validate_deserialized_dag", "json_dag", "dag"]], "serialized_dag": [["serialized_dag", "SerializedDAG", "deserialize_dag", "SerializedDAG", "serialize_dag", "dag"], ["task", "serialized_dag", "task_group", "children"]], "task": [["task", "serialized_dag", "task_group", "children"], ["task", "is_teardown", "True"], ["task", "on_failure_fail_dagrun", "True"]]}, "name": "test_teardown_task_on_failure_fail_dagrun_serialization", "params": {"dag_maker": "", "self": ""}, "params_descr": {"dag_maker": "", "self": ""}, "params_occur": {"dag_maker": [], "self": [["self", "validate_deserialized_dag", "json_dag", "dag"]]}, "params_p": {"args": [], "dag_maker": [["str", 0.6054891517526587], ["tests.basilisp.helpers.CompileFn", 0.19725542412367064], ["tests.async_mock.MagicMock", 0.09862771206183532]], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_teardown_task_on_failure_fail_dagrun_serialization", "ret_exprs": [], "ret_type": "", "variables": {"dag_dict": "", "json_dag": "", "serialized_dag": "", "task": ""}, "variables_p": {"dag_dict": [["dict", 0.5138649900989489], ["Dict[str, int]", 0.19845155434881406], ["Dict[str, str]", 0.1876562286299605], ["Dict[str, Union[Any, str]]", 0.10002722692227647]], "json_dag": [["Dict[str, Tuple[str, Any]]", 0.4929103521485618], ["dict", 0.3210906020678779], ["Dict[str, Any]", 0.08822561092886684]], "serialized_dag": [["evolution.encoding.base.IdentityOperation", 0.10323071189123434], ["datasets.me_db.providers.life_cycle.make_dataseRandomDatasetGenerator", 0.0901138241297994], ["airflow_postgres_plugin.hooks.PostgresHook", 0.08245495464264702]], "task": [["khetha.models.Task", 0.20086571255727048], ["golem.task.taskbase.Task", 0.15747829674287867], ["Dict[str, Dict[str, int]]", 0.09071929908795542], ["golem.task.task_api.EnvironmentTaskApiService", 0.08495649974466471]]}}, {"docstring": {"func": "Tests serialize_operator, make sure the deps is in order", "long_descr": null, "ret": null}, "fn_lc": [[1400, 4], [1426, 9]], "fn_var_ln": {"deps": [[1419, 8], [1419, 12]], "execution_date": [[1407, 8], [1407, 22]], "serialize_op": [[1417, 8], [1417, 20]], "task1": [[1409, 12], [1409, 17]], "task2": [[1414, 12], [1414, 17]]}, "fn_var_occur": {"deps": [["deps", "serialize_op"]], "execution_date": [["execution_date", "datetime"], ["DAG", "dag_id", "start_date", "execution_date", "dag"]], "serialize_op": [["serialize_op", "SerializedBaseOperator", "serialize_operator", "dag", "task_dict"], ["deps", "serialize_op"]], "task1": [["task1", "ExternalTaskSensor", "task_id", "external_dag_id", "mode"], ["task1", "task2"]], "task2": [["task2", "EmptyOperator", "task_id"], ["task1", "task2"]]}, "name": "test_deps_sorted", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_deps_sorted", "ret_exprs": [], "ret_type": "", "variables": {"deps": "", "execution_date": "", "serialize_op": "", "task1": "", "task2": ""}, "variables_p": {"deps": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1], ["datetime.timedelta", 0.1]], "execution_date": [["int", 0.314128507672739], ["List[Union[Any, Any]]", 0.11891680584430471], ["Type[prm.journals.models.moods.Mood]", 0.10323591185456207], ["datetime.datetime", 0.09772889253047026], ["datetime.datetime.datetime", 0.09752176065257472], ["str", 0.07922451131369143], ["datetime.date", 0.07871278843105899]], "serialize_op": [["str", 0.3043307080131602], ["float", 0.18271217516233917], ["int", 0.10144356933772006], ["bool", 0.10144356933772006], ["zerver.models.Realm", 0.09564291962556717]], "task1": [["list", 0.15147803063827736], ["Dict[str, Dict[str, int]]", 0.1150772772113761], ["khetha.models.Task", 0.09084421412346332], ["annofabapi.dataclass.task.Task", 0.08322981950024938], ["Dict[str, Any]", 0.07782210187824407], ["dict", 0.0713821707988467]], "task2": [["Dict[str, Any]", 0.1889246560452587], ["str", 0.16303901299735418], ["Pattern[Any]", 0.10817282249115029], ["bool", 0.0906499340387666], ["List[str]", 0.07591788270576158]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1428, 4], [1441, 77]], "fn_var_ln": {"deps": [[1434, 12], [1434, 16]], "execution_date": [[1436, 8], [1436, 22]]}, "fn_var_occur": {"deps": [["deps", "frozenset", "list", "BaseOperator", "deps", "DummyTriggerRule"]], "execution_date": [["execution_date", "datetime"], ["DAG", "dag_id", "start_date", "execution_date", "dag"]]}, "name": "test_error_on_unregistered_ti_dep_serialization", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_error_on_unregistered_ti_dep_serialization", "ret_exprs": [], "ret_type": "", "variables": {"deps": "", "execution_date": ""}, "variables_p": {"deps": [["List[str]", 0.24427063077875688], ["tuple", 0.15662584537508709], ["List[int]", 0.15662584537508709], ["Dict[str, Union[Any, str]]", 0.09304216432415059], ["Dict[str, List[str]]", 0.06098482868509925], ["Set[str]", 0.05990606812880174]], "execution_date": [["int", 0.314128507672739], ["List[Union[Any, Any]]", 0.11891680584430471], ["Type[prm.journals.models.moods.Mood]", 0.10323591185456207], ["datetime.datetime", 0.09772889253047026], ["datetime.datetime.datetime", 0.09752176065257472], ["str", 0.07922451131369143], ["datetime.date", 0.07871278843105899]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1443, 4], [1455, 69]], "fn_var_ln": {"serialize_op": [[1448, 8], [1448, 20]]}, "fn_var_occur": {"serialize_op": [["serialize_op", "SerializedBaseOperator", "serialize_operator", "dag", "task_dict"], ["SerializedBaseOperator", "deserialize_operator", "serialize_op"]]}, "name": "test_error_on_unregistered_ti_dep_deserialization", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_error_on_unregistered_ti_dep_deserialization", "ret_exprs": [], "ret_type": "", "variables": {"serialize_op": ""}, "variables_p": {"serialize_op": [["str", 0.31461822847086435], ["float", 0.17251752320720123], ["int", 0.10487274282362145], ["bool", 0.10487274282362145], ["zerver.models.Realm", 0.09144734399508572]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1457, 4], [1484, 9]], "fn_var_ln": {"deps": [[1461, 12], [1461, 16]], "execution_date": [[1463, 8], [1463, 22]], "op": [[1477, 8], [1477, 10]], "serialize_op": [[1467, 8], [1467, 20]]}, "fn_var_occur": {"deps": [["deps", "frozenset", "list", "BaseOperator", "deps", "CustomTestTriggerRule"], ["sorted", "str", "dep", "dep", "op", "deps"]], "execution_date": [["execution_date", "datetime"], ["DAG", "dag_id", "start_date", "execution_date", "dag"]], "op": [["op", "SerializedBaseOperator", "deserialize_operator", "serialize_op"], ["sorted", "str", "dep", "dep", "op", "deps"]], "serialize_op": [["serialize_op", "SerializedBaseOperator", "serialize_operator", "dag", "task_dict"], ["op", "SerializedBaseOperator", "deserialize_operator", "serialize_op"]]}, "name": "test_serialize_and_deserialize_custom_ti_deps", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_serialize_and_deserialize_custom_ti_deps", "ret_exprs": [], "ret_type": "", "variables": {"deps": "", "execution_date": "", "op": "", "serialize_op": ""}, "variables_p": {"deps": [["str", 0.2233974397059777], ["int", 0.13638344352483464], ["dict", 0.10630256903763126], ["Dict[str, str]", 0.08995973853272148], ["Union[Literal, Literal]", 0.08421279635482462]], "execution_date": [["int", 0.314128507672739], ["List[Union[Any, Any]]", 0.11891680584430471], ["Type[prm.journals.models.moods.Mood]", 0.10323591185456207], ["datetime.datetime", 0.09772889253047026], ["datetime.datetime.datetime", 0.09752176065257472], ["str", 0.07922451131369143], ["datetime.date", 0.07871278843105899]], "op": [["Counter[str]", 0.3008476239477876]], "serialize_op": [["int", 0.45421780906555276], ["Dict[str, str]", 0.10331647742417195], ["Dict[str, Any]", 0.1000727745086779], ["str", 0.0855853693373094]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1486, 4], [1500, 42]], "fn_var_ln": {"op": [[1488, 12], [1488, 14]], "round_tripped": [[1497, 8], [1497, 21]], "serialized": [[1493, 8], [1493, 18]]}, "fn_var_occur": {"op": [["op", "MockOperator", "partial", "task_id", "expand", "arg1"], ["op", "inlets"], ["op", "outlets"], ["serialized", "SerializedBaseOperator", "serialize_mapped_operator", "op"]], "round_tripped": [["round_tripped", "SerializedBaseOperator", "deserialize_operator", "serialized"], ["isinstance", "round_tripped", "MappedOperator"], ["round_tripped", "inlets"], ["round_tripped", "outlets"]], "serialized": [["serialized", "SerializedBaseOperator", "serialize_mapped_operator", "op"], ["round_tripped", "SerializedBaseOperator", "deserialize_operator", "serialized"]]}, "name": "test_serialize_mapped_outlets", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_serialize_mapped_outlets", "ret_exprs": [], "ret_type": "", "variables": {"op": "", "round_tripped": "", "serialized": ""}, "variables_p": {"op": [["Dict[str, Union[int, str]]", 0.1834653877962345], ["int", 0.10684926338752658], ["List[Tuple[Any, str]]", 0.0934092707717836], ["Tuple[str, str]", 0.09242246383050852], ["restful_functions.modules.task.TaskStore", 0.08764794721432627], ["nufb.task.Task", 0.08755999260002549], ["bool", 0.08321056113250634], ["str", 0.08141435090010495]], "round_tripped": [["str", 0.36342576855086506], ["int", 0.08140935939177005]], "serialized": [["int", 0.1831702254556893], ["list", 0.10071871856127258], ["str", 0.08596384798914963]]}}, {"docstring": {"func": "Tests DAG dependency detection for sensors, including derived classes", "long_descr": null, "ret": null}, "fn_lc": [[1502, 4], [1531, 13]], "fn_var_ln": {"dag": [[1523, 12], [1523, 15]], "execution_date": [[1512, 8], [1512, 22]], "task1": [[1515, 16], [1515, 21]], "task2": [[1520, 16], [1520, 21]]}, "fn_var_occur": {"dag": [["DAG", "dag_id", "start_date", "execution_date", "dag"], ["dag", "SerializedDAG", "to_dict", "dag"]], "execution_date": [["execution_date", "datetime"], ["DAG", "dag_id", "start_date", "execution_date", "dag"]], "task1": [["task1", "class_", "task_id", "external_dag_id", "mode"], ["task1", "task2"]], "task2": [["task2", "EmptyOperator", "task_id"], ["task1", "task2"]]}, "name": "test_derived_dag_deps_sensor", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_derived_dag_deps_sensor", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "execution_date": "", "task1": "", "task2": ""}, "variables_p": {"dag": [["str", 0.39578543867830973], ["Dict[str, str]", 0.1923425136999629], ["byceps.services.user.models.detail.UserDetail", 0.13322904598567079], ["List[str]", 0.10788046960849977], ["datetime.datetime.datetime", 0.09781548785644241], ["datetime.datetime.timedelta", 0.07294704417111442]], "execution_date": [["int", 0.314128507672739], ["List[Union[Any, Any]]", 0.11891680584430471], ["Type[prm.journals.models.moods.Mood]", 0.10323591185456207], ["datetime.datetime", 0.09772889253047026], ["datetime.datetime.datetime", 0.09752176065257472], ["str", 0.07922451131369143], ["datetime.date", 0.07871278843105899]], "task1": [["reminders.task.Task", 0.1658062457502226], ["Dict[str, Dict[str, int]]", 0.1061484872649745], ["set", 0.10031481791611446], ["Dict[str, Dict[str, str]]", 0.09037380886546165], ["Dict[int, Any]", 0.08710809754402796], ["List[str]", 0.07899454843408632], ["dict", 0.06636936241652283]], "task2": [["Dict[str, Any]", 0.1889246560452587], ["str", 0.16303901299735418], ["Pattern[Any]", 0.10817282249115029], ["bool", 0.0906499340387666], ["List[str]", 0.07591788270576158]]}}, {"docstring": {"func": "Prior to deprecation of custom dependency detector, the return type was DagDependency | None.", "long_descr": "This class verifies that custom dependency detector classes which assume that return type will still\nwork until support for them is removed in 3.0.\n\nTODO: remove in Airflow 3.0", "ret": null}, "fn_lc": [[1541, 4], [1576, 13]], "fn_var_ln": {"dag": [[1559, 12], [1559, 15]], "execution_date": [[1551, 8], [1551, 22]]}, "fn_var_occur": {"dag": [["DAG", "dag_id", "start_date", "execution_date", "dag"], ["dag", "SerializedDAG", "to_dict", "dag"], ["sorted", "dag", "key", "x", "tuple", "x", "values", "sorted", "key", "x", "tuple", "x", "values"]], "execution_date": [["execution_date", "datetime"], ["DAG", "dag_id", "start_date", "execution_date", "dag"]]}, "name": "test_custom_dep_detector", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_custom_dep_detector", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "execution_date": ""}, "variables_p": {"dag": [["Type[str]", 0.29482297720283934], ["list", 0.19668821270547723], ["List[str]", 0.11884343831593948], ["Dict[str, Union[Any, Any, bool, str]]", 0.10804347232230203], ["OrderedDict", 0.09609265396471978], ["int", 0.09353914633561525]], "execution_date": [["int", 0.314128507672739], ["List[Union[Any, Any]]", 0.11891680584430471], ["Type[prm.journals.models.moods.Mood]", 0.10323591185456207], ["datetime.datetime", 0.09772889253047026], ["datetime.datetime.datetime", 0.09752176065257472], ["str", 0.07922451131369143], ["datetime.date", 0.07871278843105899]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1598, 12], [1599, 20]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "other_dataset_writer", "params": {"x": ""}, "params_descr": {"x": ""}, "params_occur": {"x": []}, "params_p": {"args": [], "kwargs": [], "self": [], "x": [["float", 0.6]]}, "q_name": "TestStringifiedDAGs.test_dag_deps_datasets.<locals>.other_dataset_writer", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Check that dag_dependencies node is populated correctly for a DAG with datasets.", "long_descr": null, "ret": null}, "fn_lc": [[1578, 4], [1640, 33]], "fn_var_ln": {"actual": [[1604, 8], [1604, 14]], "d1": [[1584, 8], [1584, 10]], "d2": [[1585, 8], [1585, 10]], "d3": [[1586, 8], [1586, 10]], "d4": [[1587, 8], [1587, 10]], "dag": [[1603, 8], [1603, 11]], "execution_date": [[1588, 8], [1588, 22]], "expected": [[1605, 8], [1605, 16]]}, "fn_var_occur": {"actual": [["actual", "sorted", "dag", "key", "x", "tuple", "x", "values"], ["actual", "expected"]], "d1": [], "d2": [], "d3": [], "d4": [], "dag": [["dag", "SerializedDAG", "to_dict", "dag"], ["actual", "sorted", "dag", "key", "x", "tuple", "x", "values"]], "execution_date": [], "expected": [["expected", "sorted", "key", "x", "tuple", "x", "values"], ["actual", "expected"]]}, "name": "test_dag_deps_datasets", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_dag_deps_datasets", "ret_exprs": [], "ret_type": "", "variables": {"actual": "", "d1": "", "d2": "", "d3": "", "d4": "", "dag": "", "execution_date": "", "expected": ""}, "variables_p": {"actual": [["list", 0.6989606292190088], ["set", 0.11090658627651612], ["Callable(chr)[[int], str]", 0.09661378381128927], ["List[Tuple[Any]]", 0.09351900069318575]], "d1": [["int", 0.30000000000000004], ["float", 0.2], ["str", 0.2], ["List[str]", 0.1], ["dict", 0.1], ["datetime.date", 0.1]], "d2": [["int", 0.30000000000000004], ["float", 0.2], ["str", 0.2], ["List[str]", 0.1], ["dict", 0.1], ["datetime.date", 0.1]], "d3": [["int", 0.30000000000000004], ["float", 0.2], ["str", 0.2], ["List[str]", 0.1], ["dict", 0.1], ["datetime.date", 0.1]], "d4": [["int", 0.30000000000000004], ["float", 0.2], ["str", 0.2], ["List[str]", 0.1], ["dict", 0.1], ["datetime.date", 0.1]], "dag": [["Dict[str, Any]", 0.49312937703809523], ["Dict[str, str]", 0.2241426334653934], ["Dict[str, List[str]]", 0.09559927601390622]], "execution_date": [["str", 0.5309981072561922], ["Dict[str, Dict[str, str]]", 0.14365386517434214], ["float", 0.13232945606051183], ["bytes", 0.10537212890330082], ["int", 0.08764644260565306]], "expected": [["Dict[str, str]", 0.24050561124585454], ["list", 0.1810960546702905], ["int", 0.1119360480134595], ["List[Tuple[Any, Any]]", 0.10629134646911945], ["Dict[int, Any]", 0.09641433284419815], ["dict", 0.09446614347624241], ["str", 0.08462582875690272]]}}, {"docstring": {"func": "Tests DAG dependency detection for operators, including derived classes", "long_descr": null, "ret": null}, "fn_lc": [[1642, 4], [1670, 13]], "fn_var_ln": {"dag": [[1662, 12], [1662, 15]], "execution_date": [[1652, 8], [1652, 22]], "task1": [[1655, 16], [1655, 21]], "task2": [[1656, 16], [1656, 21]]}, "fn_var_occur": {"dag": [["DAG", "dag_id", "start_date", "execution_date", "dag"], ["dag", "SerializedDAG", "to_dict", "dag"]], "execution_date": [["execution_date", "datetime"], ["DAG", "dag_id", "start_date", "execution_date", "dag"]], "task1": [["task1", "EmptyOperator", "task_id"], ["task1", "task2"]], "task2": [["task2", "class_", "task_id", "trigger_dag_id"], ["task1", "task2"]]}, "name": "test_derived_dag_deps_operator", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_derived_dag_deps_operator", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "execution_date": "", "task1": "", "task2": ""}, "variables_p": {"dag": [["str", 0.39578543867830973], ["Dict[str, str]", 0.1923425136999629], ["byceps.services.user.models.detail.UserDetail", 0.13322904598567079], ["List[str]", 0.10788046960849977], ["datetime.datetime.datetime", 0.09781548785644241], ["datetime.datetime.timedelta", 0.07294704417111442]], "execution_date": [["int", 0.314128507672739], ["List[Union[Any, Any]]", 0.11891680584430471], ["Type[prm.journals.models.moods.Mood]", 0.10323591185456207], ["datetime.datetime", 0.09772889253047026], ["datetime.datetime.datetime", 0.09752176065257472], ["str", 0.07922451131369143], ["datetime.date", 0.07871278843105899]], "task1": [["Dict[str, Any]", 0.1889246560452587], ["str", 0.16303901299735418], ["Pattern[Any]", 0.10817282249115029], ["bool", 0.0906499340387666], ["List[str]", 0.07591788270576158]], "task2": [["list", 0.4352708102967212], ["Dict[str, Dict[str, str]]", 0.11892895411328867], ["Dict[str, Any]", 0.08615667032207867]]}}, {"docstring": {"func": "Tests serialize_task_group, make sure the list is in order", "long_descr": null, "ret": null}, "fn_lc": [[1672, 4], [1741, 45]], "fn_var_ln": {"_": [[1712, 16], [1712, 17]], "downstream_group_ids": [[1734, 8], [1734, 28]], "downstream_task_ids": [[1740, 8], [1740, 27]], "end": [[1714, 12], [1714, 15]], "execution_date": [[1695, 8], [1695, 22]], "start": [[1697, 12], [1697, 17]], "task_group_down1_dict": [[1737, 8], [1737, 29]], "task_group_middle_dict": [[1725, 8], [1725, 30]], "upstream_group_ids": [[1728, 8], [1728, 26]], "upstream_task_ids": [[1731, 8], [1731, 25]]}, "fn_var_occur": {"_": [["_", "EmptyOperator", "task_id"], ["_", "EmptyOperator", "task_id"], ["_", "EmptyOperator", "task_id"], ["_", "EmptyOperator", "task_id"], ["_", "EmptyOperator", "task_id"]], "downstream_group_ids": [["downstream_group_ids", "task_group_middle_dict"]], "downstream_task_ids": [["downstream_task_ids", "task_group_down1_dict"]], "end": [["end", "EmptyOperator", "task_id"], ["task_group_down1", "end"], ["task_group_down2", "end"]], "execution_date": [["execution_date", "datetime"], ["DAG", "dag_id", "start_date", "execution_date", "dag"]], "start": [["start", "EmptyOperator", "task_id"], ["start", "task_group_up1"], ["start", "task_group_up2"]], "task_group_down1_dict": [["task_group_down1_dict", "TaskGroupSerialization", "serialize_task_group", "dag", "task_group", "children"], ["downstream_task_ids", "task_group_down1_dict"]], "task_group_middle_dict": [["task_group_middle_dict", "TaskGroupSerialization", "serialize_task_group", "dag", "task_group", "children"], ["upstream_group_ids", "task_group_middle_dict"], ["upstream_task_ids", "task_group_middle_dict"], ["downstream_group_ids", "task_group_middle_dict"]], "upstream_group_ids": [["upstream_group_ids", "task_group_middle_dict"]], "upstream_task_ids": [["upstream_task_ids", "task_group_middle_dict"]]}, "name": "test_task_group_sorted", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_task_group_sorted", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "downstream_group_ids": "", "downstream_task_ids": "", "end": "", "execution_date": "", "start": "", "task_group_down1_dict": "", "task_group_middle_dict": "", "upstream_group_ids": "", "upstream_task_ids": ""}, "variables_p": {"_": [["str", 0.2866459701872107], ["datetime.date", 0.13376427570275695], ["Dict[Any, str]", 0.10015886696199708], ["Tuple[str, str, str, str, str, str, str]", 0.08887809538843763], ["int", 0.088007965735473]], "downstream_group_ids": [["str", 0.3103535177443393], ["int", 0.1931647910624577], ["Pattern[Any]", 0.12896820314021423], ["List[str]", 0.10865493446817048]], "downstream_task_ids": [["str", 0.517394161982937], ["int", 0.2146106928396361], ["Dict[str, int]", 0.09197483004330415], ["set", 0.08802292559672413], ["audiopyle.lib.models.metric.MetricDefinition", 0.08799738953739873]], "end": [["int", 0.347653433902552], ["List[str]", 0.17966668521115992], ["str", 0.10344230038659928], ["Dict[str, str]", 0.10238759929555943], ["app.models.Journey", 0.08995708450773278], ["o2a.converter.task.Task", 0.08921944247899982], ["geode.models.common.Address", 0.08767345421739678]], "execution_date": [["int", 0.314128507672739], ["List[Union[Any, Any]]", 0.11891680584430471], ["Type[prm.journals.models.moods.Mood]", 0.10323591185456207], ["datetime.datetime", 0.09772889253047026], ["datetime.datetime.datetime", 0.09752176065257472], ["str", 0.07922451131369143], ["datetime.date", 0.07871278843105899]], "start": [["int", 0.7867511608619843], ["datetime.datetime", 0.09725185448680225]], "task_group_down1_dict": [["o2a.converter.task_group.ControlTaskGroup", 0.5373211222564367], ["metaswitch_tinder.database.models.Request", 0.18755474591102564], ["taskiinfrastructure.data.json.repositories.task_repository.JsonTaskRepository", 0.09726695274095161], ["o2a.converter.task.Task", 0.08193719084197489]], "task_group_middle_dict": [["metaswitch_tinder.database.models.Request", 0.23633159134594403], ["dict", 0.09956129734588712], ["List[str]", 0.09868070589794468], ["golem.task.taskbase.Task", 0.08754227381425755]], "upstream_group_ids": [["str", 0.3103535177443393], ["int", 0.1931647910624577], ["Pattern[Any]", 0.12896820314021423], ["List[str]", 0.10865493446817048]], "upstream_task_ids": [["str", 0.517394161982937], ["int", 0.2146106928396361], ["Dict[str, int]", 0.09197483004330415], ["set", 0.08802292559672413], ["audiopyle.lib.models.metric.MetricDefinition", 0.08799738953739873]]}}, {"docstring": {"func": "Tests edge_info serialization/deserialization.", "long_descr": null, "ret": null}, "fn_lc": [[1743, 4], [1762, 56]], "fn_var_ln": {"dag_dict": [[1755, 8], [1755, 16]], "json_dag": [[1757, 8], [1757, 16]], "serialized_dag": [[1760, 8], [1760, 22]], "task1": [[1751, 12], [1751, 17]], "task2": [[1752, 12], [1752, 17]]}, "fn_var_occur": {"dag_dict": [["dag_dict", "SerializedDAG", "to_dict", "dag"], ["SerializedDAG", "validate_schema", "dag_dict"]], "json_dag": [["json_dag", "SerializedDAG", "from_json", "SerializedDAG", "to_json", "dag"], ["self", "validate_deserialized_dag", "json_dag", "dag"]], "serialized_dag": [["serialized_dag", "SerializedDAG", "deserialize_dag", "SerializedDAG", "serialize_dag", "dag"], ["serialized_dag", "edge_info", "dag", "edge_info"]], "task1": [["task1", "EmptyOperator", "task_id"], ["task1", "Label", "task2"]], "task2": [["task2", "EmptyOperator", "task_id"], ["task1", "Label", "task2"]]}, "name": "test_edge_info_serialization", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "validate_deserialized_dag", "json_dag", "dag"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_edge_info_serialization", "ret_exprs": [], "ret_type": "", "variables": {"dag_dict": "", "json_dag": "", "serialized_dag": "", "task1": "", "task2": ""}, "variables_p": {"dag_dict": [["dict", 0.5138649900989489], ["Dict[str, int]", 0.19845155434881406], ["Dict[str, str]", 0.1876562286299605], ["Dict[str, Union[Any, str]]", 0.10002722692227647]], "json_dag": [["Dict[str, Tuple[str, Any]]", 0.4929103521485618], ["dict", 0.3210906020678779], ["Dict[str, Any]", 0.08822561092886684]], "serialized_dag": [["pathlib.Path", 0.09566027109923307]], "task1": [["str", 0.17837126503365597], ["Dict[str, str]", 0.14460055702232183], ["dict", 0.09489609974419692], ["golem.task.taskcomputer.TaskComputer", 0.0933738333523822], ["int", 0.09134249825828206], ["restful_functions.modules.task.TaskStore", 0.08681093172907497]], "task2": [["str", 0.17837126503365597], ["Dict[str, str]", 0.14460055702232183], ["dict", 0.09489609974419692], ["golem.task.taskcomputer.TaskComputer", 0.0933738333523822], ["int", 0.09134249825828206], ["restful_functions.modules.task.TaskStore", 0.08681093172907497]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1765, 4], [1779, 44]], "fn_var_ln": {"blob": [[1774, 8], [1774, 12]], "op": [[1772, 8], [1772, 10]], "serialized_op": [[1777, 8], [1777, 21]]}, "fn_var_occur": {"blob": [["blob", "SerializedBaseOperator", "serialize_operator", "op"], ["serialized_op", "SerializedBaseOperator", "deserialize_operator", "blob"]], "op": [["op", "DummySensor", "task_id", "mode", "mode", "poke_interval"], ["blob", "SerializedBaseOperator", "serialize_operator", "op"], ["op", "deps", "serialized_op", "deps"]], "serialized_op": [["serialized_op", "SerializedBaseOperator", "deserialize_operator", "blob"], ["serialized_op", "reschedule", "mode"], ["op", "deps", "serialized_op", "deps"]]}, "name": "test_serialize_sensor", "params": {"mode": "", "self": ""}, "params_descr": {"mode": "", "self": ""}, "params_occur": {"mode": [["op", "DummySensor", "task_id", "mode", "mode", "poke_interval"], ["serialized_op", "reschedule", "mode"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mode": [["str", 0.3111616028614556], ["dict", 0.09613170762232716]], "self": []}, "q_name": "TestStringifiedDAGs.test_serialize_sensor", "ret_exprs": [], "ret_type": "", "variables": {"blob": "", "op": "", "serialized_op": ""}, "variables_p": {"blob": [["dict", 0.13178166996338536], ["int", 0.10292682527373782], ["str", 0.08117627919661806]], "op": [["Dict[str, Union[Any, bool, str]]", 0.2645998473021094], ["list", 0.1872476010653092], ["restful_functions.modules.task.TaskStore", 0.10583316344214579], ["Dict[str, Union[int, str]]", 0.08680638973332157], ["List[str]", 0.08540615451646154]], "serialized_op": [["str", 0.828056179725257], ["Pattern[str]", 0.08931472092947901], ["bool", 0.08262909934526368]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1782, 4], [1794, 94]], "fn_var_ln": {"blob": [[1791, 8], [1791, 12]], "op": [[1789, 8], [1789, 10]]}, "fn_var_occur": {"blob": [["blob", "SerializedBaseOperator", "serialize_mapped_operator", "op"]], "op": [["op", "DummySensor", "partial", "task_id", "mode", "mode", "expand", "poke_interval"], ["blob", "SerializedBaseOperator", "serialize_mapped_operator", "op"]]}, "name": "test_serialize_mapped_sensor_has_reschedule_dep", "params": {"mode": "", "self": ""}, "params_descr": {"mode": "", "self": ""}, "params_occur": {"mode": [["op", "DummySensor", "partial", "task_id", "mode", "mode", "expand", "poke_interval"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mode": [["datetime.datetime", 0.1291075658710758], ["str", 0.09566197562928293], ["List[Dict[str, Any]]", 0.0891855275098966], ["Sequence[int]", 0.08646847494906375], ["django.db.models.query.QuerySet", 0.08538075056804566]], "self": []}, "q_name": "TestStringifiedDAGs.test_serialize_mapped_sensor_has_reschedule_dep", "ret_exprs": [], "ret_type": "", "variables": {"blob": "", "op": ""}, "variables_p": {"blob": [["int", 0.29685101965987926], ["str", 0.18175958157052208], ["Dict[str, Any]", 0.09134640442846219], ["Coroutine[Any, Any, Any]", 0.08746905806275877]], "op": [["List[List[int]]", 0.19519695851394375], ["List[str]", 0.16264421683947816], ["Dict[str, str]", 0.1118757518737125]]}}, {"docstring": {"func": "Test that when on_success_callback is passed to the DAG, has_on_success_callback is stored", "long_descr": "in Serialized JSON blob. And when it is de-serialized dag.has_on_success_callback is set to True.\n\nWhen the callback is not set, has_on_success_callback should not be stored in Serialized blob\nand so default to False on de-serialization", "ret": null}, "fn_lc": [[1803, 4], [1822, 73]], "fn_var_ln": {"dag": [[1811, 8], [1811, 11]], "deserialized_dag": [[1820, 8], [1820, 24]], "serialized_dag": [[1814, 8], [1814, 22]]}, "fn_var_occur": {"dag": [["dag", "DAG", "dag_id", "passed_success_callback"], ["BaseOperator", "task_id", "dag", "dag", "start_date", "datetime"], ["serialized_dag", "SerializedDAG", "to_dict", "dag"]], "deserialized_dag": [["deserialized_dag", "SerializedDAG", "from_dict", "serialized_dag"], ["deserialized_dag", "has_on_success_callback", "expected_value"]], "serialized_dag": [["serialized_dag", "SerializedDAG", "to_dict", "dag"], ["deserialized_dag", "SerializedDAG", "from_dict", "serialized_dag"]]}, "name": "test_dag_on_success_callback_roundtrip", "params": {"expected_value": "", "passed_success_callback": "", "self": ""}, "params_descr": {"expected_value": "", "passed_success_callback": "", "self": ""}, "params_occur": {"expected_value": [["deserialized_dag", "has_on_success_callback", "expected_value"]], "passed_success_callback": [["dag", "DAG", "dag_id", "passed_success_callback"]], "self": []}, "params_p": {"args": [], "expected_value": [["int", 0.3326809671304727], ["str", 0.3326809671304727], ["excars.models.user.User", 0.035503485742197034]], "kwargs": [], "passed_success_callback": [["str", 0.3696074370468425], ["datetime.datetime", 0.11604286779039169], ["bool", 0.09892630794491174], ["grouper.models.base.session.Session", 0.0960695700518936], ["django.db.models.query.QuerySet", 0.09157995834117233]], "self": []}, "q_name": "TestStringifiedDAGs.test_dag_on_success_callback_roundtrip", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "deserialized_dag": "", "serialized_dag": ""}, "variables_p": {"dag": [["dict", 0.39192937531141414], ["str", 0.12129832803020509], ["golem.task.taskrequestorstats.AggregateTaskStats", 0.101839968740853], ["grpy.core.models.Grouping", 0.09680431492585292], ["Dict[str, str]", 0.09517253744605428]], "deserialized_dag": [["int", 0.2840976567289102]], "serialized_dag": [["tests.pathfinding.test_fee_schedule.TokenNetworkForTests", 0.1559959464171229], ["float", 0.09457568195297708], ["list", 0.08551627339489778], ["dict", 0.07867658859512562], ["int", 0.07184466453795138]]}}, {"docstring": {"func": "Test that when on_failure_callback is passed to the DAG, has_on_failure_callback is stored", "long_descr": "in Serialized JSON blob. And when it is de-serialized dag.has_on_failure_callback is set to True.\n\nWhen the callback is not set, has_on_failure_callback should not be stored in Serialized blob\nand so default to False on de-serialization", "ret": null}, "fn_lc": [[1831, 4], [1850, 73]], "fn_var_ln": {"dag": [[1839, 8], [1839, 11]], "deserialized_dag": [[1848, 8], [1848, 24]], "serialized_dag": [[1842, 8], [1842, 22]]}, "fn_var_occur": {"dag": [["dag", "DAG", "dag_id", "passed_failure_callback"], ["BaseOperator", "task_id", "dag", "dag", "start_date", "datetime"], ["serialized_dag", "SerializedDAG", "to_dict", "dag"]], "deserialized_dag": [["deserialized_dag", "SerializedDAG", "from_dict", "serialized_dag"], ["deserialized_dag", "has_on_failure_callback", "expected_value"]], "serialized_dag": [["serialized_dag", "SerializedDAG", "to_dict", "dag"], ["deserialized_dag", "SerializedDAG", "from_dict", "serialized_dag"]]}, "name": "test_dag_on_failure_callback_roundtrip", "params": {"expected_value": "", "passed_failure_callback": "", "self": ""}, "params_descr": {"expected_value": "", "passed_failure_callback": "", "self": ""}, "params_occur": {"expected_value": [["deserialized_dag", "has_on_failure_callback", "expected_value"]], "passed_failure_callback": [["dag", "DAG", "dag_id", "passed_failure_callback"]], "self": []}, "params_p": {"args": [], "expected_value": [["int", 0.3326809671304727], ["str", 0.3326809671304727], ["excars.models.user.User", 0.035503485742197034]], "kwargs": [], "passed_failure_callback": [["str", 0.3696074370468425], ["datetime.datetime", 0.11604286779039169], ["bool", 0.09892630794491174], ["grouper.models.base.session.Session", 0.0960695700518936], ["django.db.models.query.QuerySet", 0.09157995834117233]], "self": []}, "q_name": "TestStringifiedDAGs.test_dag_on_failure_callback_roundtrip", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "deserialized_dag": "", "serialized_dag": ""}, "variables_p": {"dag": [["dict", 0.39192937531141414], ["str", 0.12129832803020509], ["golem.task.taskrequestorstats.AggregateTaskStats", 0.101839968740853], ["grpy.core.models.Grouping", 0.09680431492585292], ["Dict[str, str]", 0.09517253744605428]], "deserialized_dag": [["int", 0.2840976567289102]], "serialized_dag": [["tests.pathfinding.test_fee_schedule.TokenNetworkForTests", 0.1559959464171229], ["float", 0.09457568195297708], ["list", 0.08551627339489778], ["dict", 0.07867658859512562], ["int", 0.07184466453795138]]}}, {"docstring": {"func": "Test Serialized Sets are sorted while list and tuple preserve order", "long_descr": null, "ret": null}, "fn_lc": [[1896, 4], [1901, 48]], "fn_var_ln": {"serialized_obj": [[1900, 12], [1900, 26]]}, "fn_var_occur": {"serialized_obj": [["serialized_obj", "SerializedDAG", "serialize", "object_to_serialized"], ["isinstance", "serialized_obj", "dict", "serialized_obj"], ["serialized_obj", "serialized_obj"], ["serialized_obj", "expected_output"]]}, "name": "test_serialized_objects_are_sorted", "params": {"expected_output": "", "object_to_serialized": "", "self": ""}, "params_descr": {"expected_output": "", "object_to_serialized": "", "self": ""}, "params_occur": {"expected_output": [["serialized_obj", "expected_output"]], "object_to_serialized": [["serialized_obj", "SerializedDAG", "serialize", "object_to_serialized"]], "self": []}, "params_p": {"args": [], "expected_output": [["str", 0.11360097536028858], ["Callable", 0.09663709855509386], ["cli_ui.tests.MessageRecorder", 0.08414392571722129]], "kwargs": [], "object_to_serialized": [["str", 0.29453409563628424], ["tests.test_util.aiohttp.AiohttpClientMocker", 0.1868561604359177], ["bool", 0.1044941511518916], ["int", 0.08534574984254241]], "self": []}, "q_name": "TestStringifiedDAGs.test_serialized_objects_are_sorted", "ret_exprs": [], "ret_type": "", "variables": {"serialized_obj": ""}, "variables_p": {"serialized_obj": [["list", 0.2007034886700851], ["List[List[int]]", 0.09534054837369965]]}}, {"docstring": {"func": "when pre-2.2.0 param (i.e. primitive) is deserialized we convert to Param", "long_descr": null, "ret": null}, "fn_lc": [[1903, 4], [1919, 41]], "fn_var_ln": {"dag": [[1915, 8], [1915, 11]], "serialized": [[1905, 8], [1905, 18]]}, "fn_var_occur": {"dag": [["dag", "SerializedDAG", "from_dict", "serialized"], ["dag", "params", "None"], ["isinstance", "dag", "params", "get_param", "Param"], ["dag", "params"]], "serialized": [["serialized", "None"], ["dag", "SerializedDAG", "from_dict", "serialized"]]}, "name": "test_params_upgrade", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_params_upgrade", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "serialized": ""}, "variables_p": {"dag": [["str", 0.3324838150960908], ["Dict[str, str]", 0.21692975559114194], ["pathlib.Path", 0.0926945848429998], ["dss.config.Replica", 0.09153231694396793], ["dict", 0.08249074222803578]], "serialized": [["str", 0.3964691323243087], ["List[None]", 0.12081159575165581], ["tests.metrics.estimate_gas.AnalyzeGas", 0.074075840727267]]}}, {"docstring": {"func": "In 2.0.0, param ``default`` was assumed to be json-serializable objects and were not run though", "long_descr": "the standard serializer function.  In 2.2.2 we serialize param ``default``.  We keep this\ntest only to ensure that params stored in 2.2.0 can still be parsed correctly.", "ret": null}, "fn_lc": [[1921, 4], [1939, 41]], "fn_var_ln": {"dag": [[1936, 8], [1936, 11]], "serialized": [[1925, 8], [1925, 18]]}, "fn_var_occur": {"dag": [["dag", "SerializedDAG", "from_dict", "serialized"], ["isinstance", "dag", "params", "get_param", "Param"], ["dag", "params"]], "serialized": [["SerializedDAG", "validate_schema", "serialized"], ["dag", "SerializedDAG", "from_dict", "serialized"]]}, "name": "test_params_serialize_default_2_2_0", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_params_serialize_default_2_2_0", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "serialized": ""}, "variables_p": {"dag": [["str", 0.4034094546756954], ["List[int]", 0.11255058009783368], ["Tuple[int, int, int, int]", 0.1123766284242297], ["Dict[str, Any]", 0.10009757639196804], ["int", 0.09241144123704359]], "serialized": [["List[int]", 0.21437762278226127], ["dict", 0.10282651472074919], ["frozenset[str]", 0.10198294965841385], ["list", 0.10105933609818529], ["Dict[str, Sequence[Any]]", 0.10097782684356324], ["List[Tuple[Any, Any]]", 0.08662465211078217]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1941, 4], [1966, 49]], "fn_var_ln": {"dag": [[1960, 8], [1960, 11]], "param": [[1963, 8], [1963, 13]], "serialized": [[1942, 8], [1942, 18]]}, "fn_var_occur": {"dag": [["dag", "SerializedDAG", "from_dict", "serialized"], ["dag", "params"], ["param", "dag", "params", "get_param"]], "param": [["param", "dag", "params", "get_param"], ["isinstance", "param", "Param"], ["param", "description"], ["param", "schema"]], "serialized": [["SerializedDAG", "validate_schema", "serialized"], ["dag", "SerializedDAG", "from_dict", "serialized"]]}, "name": "test_params_serialize_default", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_params_serialize_default", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "param": "", "serialized": ""}, "variables_p": {"dag": [["str", 0.47726565369742524], ["int", 0.23008147394349243], ["List[Dict[str, str]]", 0.10059007547828051], ["List[str]", 0.10029343624464433], ["bool", 0.0917693606361577]], "param": [["str", 0.31847434662211827], ["Pattern[str]", 0.29478577392161814], ["Tuple[int, int, int, int]", 0.09696888519591633], ["Mapping", 0.09585069942005542]], "serialized": [["List[int]", 0.21437762278226127], ["dict", 0.10282651472074919], ["frozenset[str]", 0.10198294965841385], ["list", 0.10105933609818529], ["Dict[str, Sequence[Any]]", 0.10097782684356324], ["List[Tuple[Any, Any]]", 0.08662465211078217]]}}, {"docstring": {"func": "Test that when we use  not templateable fields, an Airflow exception is raised.", "long_descr": null, "ret": null}, "fn_lc": [[1968, 4], [1982, 38]], "fn_var_ln": {"dag": [[1978, 8], [1978, 11]], "template_fields": [[1976, 12], [1976, 27]]}, "fn_var_occur": {"dag": [["dag", "DAG", "start_date", "datetime"], ["SerializedDAG", "to_dict", "dag"]], "template_fields": []}, "name": "test_not_templateable_fields_in_serialized_dag", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestStringifiedDAGs.test_not_templateable_fields_in_serialized_dag", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "template_fields": ""}, "variables_p": {"dag": [["datetime.datetime.timedelta", 0.3974194928046348], ["datetime.datetime.datetime", 0.11996485454337907], ["str", 0.10959934027944852], ["int", 0.1086513756076985], ["datetime.timezone", 0.09554236410622244], ["datetime.datetime", 0.07744421479877851]], "template_fields": [["Tuple[str, str, str, str, str, str]", 0.2857142856828355], ["Tuple[str, str, str]", 0.2857142856828355], ["Tuple[str, str, str, str]", 0.2857142856828355], ["Tuple[str, str, str, str, str]", 0.14285714284141776], ["Dict[str, str]", 7.42502725571635e-11]]}}], "name": "TestStringifiedDAGs", "q_name": "TestStringifiedDAGs", "variables": {}, "variables_p": {}}, {"cls_lc": [[2485, 4], [2492, 36]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[2486, 8], [2488, 32]], "fn_var_ln": {"inputs": [[2488, 12], [2488, 23]]}, "fn_var_occur": {"inputs": [["self", "inputs", "inputs"]]}, "name": "__init__", "params": {"inputs": "", "kwargs": "", "self": ""}, "params_descr": {"inputs": "", "kwargs": "", "self": ""}, "params_occur": {"inputs": [["self", "inputs", "inputs"]], "kwargs": [["super", "__init__", "kwargs"]], "self": [["self", "inputs", "inputs"]]}, "params_p": {"args": [], "inputs": [["int", 0.3], ["bool", 0.09999999999999999], ["float", 0.09999999999999999]], "kwargs": [], "self": []}, "q_name": "test_mapped_task_with_operator_extra_links_property.<locals>._DummyOperator.__init__", "ret_exprs": [], "ret_type": "", "variables": {"inputs": ""}, "variables_p": {"inputs": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[2491, 8], [2492, 36]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "operator_extra_links", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "test_mapped_task_with_operator_extra_links_property.<locals>._DummyOperator.operator_extra_links", "ret_exprs": ["return (AirflowLink2(),)"], "ret_type": "", "ret_type_p": [["str", 0.480156607484219], ["ajapaik.ajapaik.models.Album", 0.11398609520294554]], "variables": {}, "variables_p": {}}], "name": "_DummyOperator", "q_name": "test_mapped_task_with_operator_extra_links_property.<locals>._DummyOperator", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": "Loads DAGs from a module for test.", "long_descr": null, "ret": null}, "fn_lc": [[231, 0], [234, 22]], "fn_var_ln": {"dagbag": [[233, 4], [233, 10]]}, "fn_var_occur": {"dagbag": [["dagbag", "DagBag", "module_path"], ["dagbag", "dags"]]}, "name": "make_example_dags", "params": {"module_path": ""}, "params_descr": {"module_path": ""}, "params_occur": {"module_path": [["dagbag", "DagBag", "module_path"]]}, "params_p": {"args": [], "kwargs": [], "module_path": [["pathlib.Path", 0.45165989629239445], ["str", 0.287779079380023], ["List[int]", 0.0883087561074666], ["Iterable[str]", 0.08394351211264924]]}, "q_name": "make_example_dags", "ret_exprs": ["return dagbag.dags"], "ret_type": "", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "variables": {"dagbag": ""}, "variables_p": {"dagbag": [["str", 0.613841012651619], ["ide.pathx.Path", 0.07132865486219993], ["List[str]", 0.07005104585146336]]}}, {"docstring": {"func": "Make very simple DAG to verify serialization result.", "long_descr": null, "ret": null}, "fn_lc": [[237, 0], [261, 34]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "make_simple_dag", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "make_simple_dag", "ret_exprs": ["return {\"simple_dag\": dag}"], "ret_type": "", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[274, 4], [275, 53]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "compute_next_execution_date", "params": {"dag": "", "execution_date": ""}, "params_descr": {"dag": "", "execution_date": ""}, "params_occur": {"dag": [["dag", "following_schedule", "execution_date"]], "execution_date": [["dag", "following_schedule", "execution_date"]]}, "params_p": {"args": [], "dag": [["str", 0.6241307598515901], ["datetime.datetime", 0.19176237312489908], ["List[str]", 0.09654806750520864], ["datetime.timedelta", 0.0875587995183023]], "execution_date": [["str", 0.6241307598515901], ["datetime.datetime", 0.19176237312489908], ["List[str]", 0.09654806750520864], ["datetime.timedelta", 0.0875587995183023]], "kwargs": []}, "q_name": "make_user_defined_macro_filter_dag.<locals>.compute_next_execution_date", "ret_exprs": ["return dag.following_schedule(execution_date)"], "ret_type": "", "ret_type_p": [["datetime.datetime", 0.28803453453574157], ["str", 0.0961178479156187], ["int", 0.06959048675783998]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Make DAGs with user defined macros and filters using locally defined methods.", "long_descr": "For Webserver, we do not include ``user_defined_macros`` & ``user_defined_filters``.\n\nThe examples here test:\n    (1) functions can be successfully displayed on UI;\n    (2) templates with function macros have been rendered before serialization.", "ret": null}, "fn_lc": [[264, 0], [292, 28]], "fn_var_ln": {"dag": [[278, 4], [278, 7]], "default_args": [[277, 4], [277, 16]]}, "fn_var_occur": {"dag": [["dag", "DAG", "default_args", "default_args", "user_defined_macros", "compute_next_execution_date", "user_defined_filters", "name", "name", "catchup", "False"], ["BashOperator", "task_id", "bash_command", "dag", "dag"], ["dag", "dag_id", "dag"]], "default_args": [["default_args", "datetime"], ["dag", "DAG", "default_args", "default_args", "user_defined_macros", "compute_next_execution_date", "user_defined_filters", "name", "name", "catchup", "False"]]}, "name": "make_user_defined_macro_filter_dag", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "make_user_defined_macro_filter_dag", "ret_exprs": ["return {dag.dag_id: dag}"], "ret_type": "", "ret_type_p": [["str", 0.36755515011423373], ["list", 0.14375763503330619], ["Iterable[str]", 0.0925916344862391]], "variables": {"dag": "", "default_args": ""}, "variables_p": {"dag": [["dict", 0.12613245373184942], ["str", 0.11402344067644657], ["viewer.models.Gallery", 0.09181292118208584], ["multinedb.models.table.Table", 0.09126384399600707], ["dss.config.Replica", 0.09070782706780307], ["chalice.deploy.models.IAMRole", 0.09057046979027207]], "default_args": [["asgard.models.user.User", 0.24311481998178436], ["bool", 0.11141047331274764], ["datetime.timedelta", 0.10278575408738024], ["app.models.user.User", 0.09450521345891558], ["list", 0.08794086100313875], ["Dict[str, Any]", 0.08790058659158967], ["Optional[Dict[str, int]]", 0.08727174560003115]]}}, {"docstring": {"func": "Collects DAGs to test.", "long_descr": null, "ret": null}, "fn_lc": [[295, 0], [320, 15]], "fn_var_ln": {"dags": [[319, 4], [319, 8]], "patterns": [[307, 8], [307, 16]]}, "fn_var_occur": {"dags": [["dags", "update", "make_simple_dag"], ["dags", "update", "make_user_defined_macro_filter_dag"], ["dags", "update", "make_example_dags", "directory"], ["dags", "dag_id", "dag", "dag_id", "dag", "dags", "items", "dag", "is_subdag"]], "patterns": [["patterns", "dag_folder"], ["patterns", "dag_folder"]]}, "name": "collect_dags", "params": {"dag_folder": ""}, "params_descr": {"dag_folder": ""}, "params_occur": {"dag_folder": [["isinstance", "dag_folder", "list", "tuple"], ["patterns", "dag_folder"], ["patterns", "dag_folder"]]}, "params_p": {"args": [], "dag_folder": [["Dict[str, str]", 0.10298140714972974], ["list", 0.1006316675621403], ["str", 0.0987767395826055], ["Union[str, List[Any]]", 0.0983289353983901]], "kwargs": []}, "q_name": "collect_dags", "ret_exprs": ["return dags"], "ret_type": "", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "variables": {"dags": "", "patterns": ""}, "variables_p": {"dags": [["dict", 0.511750120264521], ["int", 0.20743607541007694], ["Dict[str, Any]", 0.09733164484035636], ["Dict[str, Dict[str, Any]]", 0.09142885679563699], ["set", 0.052474181341644756], ["Dict[str, List[str]]", 0.03957912134776388]], "patterns": [["str", 0.3278729707207033], ["List[str]", 0.11091387435877154], ["int", 0.10690326557657832], ["List[Tuple[int, int]]", 0.0967402580673642], ["set", 0.08732222802924008], ["dict", 0.08134592599494576]]}}, {"docstring": {"func": "Create a simple_dag variant that uses timetable instead of schedule_interval.", "long_descr": null, "ret": null}, "fn_lc": [[323, 0], [328, 14]], "fn_var_ln": {"dag": [[325, 4], [325, 7]], "schedule_interval": [[327, 4], [327, 25]], "timetable": [[326, 4], [326, 17]]}, "fn_var_occur": {"dag": [["dag", "collect_dags"], ["dag", "timetable", "timetable"], ["dag", "schedule_interval", "timetable", "summary"]], "schedule_interval": [["dag", "schedule_interval", "timetable", "summary"]], "timetable": [["dag", "timetable", "timetable"], ["dag", "schedule_interval", "timetable", "summary"]]}, "name": "get_timetable_based_simple_dag", "params": {"timetable": ""}, "params_descr": {"timetable": ""}, "params_occur": {"timetable": [["dag", "timetable", "timetable"], ["dag", "schedule_interval", "timetable", "summary"]]}, "params_p": {"args": [], "kwargs": [], "timetable": [["List[str]", 0.24576669981210514], ["int", 0.14667878207362614], ["dss.config.Replica", 0.10932141086427914], ["str", 0.09908791773847898], ["salon.models.Stylist", 0.050043459636836325]]}, "q_name": "get_timetable_based_simple_dag", "ret_exprs": ["return dag"], "ret_type": "", "ret_type_p": [["List[str]", 0.24576669981210514], ["int", 0.14667878207362614], ["dss.config.Replica", 0.10932141086427914], ["str", 0.09908791773847898], ["salon.models.Stylist", 0.050043459636836325]], "variables": {"dag": "", "schedule_interval": "", "timetable": ""}, "variables_p": {"dag": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1], ["datetime.timedelta", 0.1]], "schedule_interval": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1], ["datetime.timedelta", 0.1]], "timetable": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1], ["datetime.timedelta", 0.1]]}}, {"docstring": {"func": "Validate pickle in a subprocess.", "long_descr": null, "ret": null}, "fn_lc": [[331, 0], [336, 19]], "fn_var_ln": {"dags": [[333, 4], [333, 8]]}, "fn_var_occur": {"dags": [["dags", "collect_dags", "dag_folder"], ["dags", "values"]]}, "name": "serialize_subprocess", "params": {"dag_folder": "", "queue": ""}, "params_descr": {"dag_folder": "", "queue": ""}, "params_occur": {"dag_folder": [["dags", "collect_dags", "dag_folder"]], "queue": [["queue", "put", "SerializedDAG", "to_json", "dag"], ["queue", "put", "None"]]}, "params_p": {"args": [], "dag_folder": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "kwargs": [], "queue": [["rads.xml.base.Element", 0.10185754723026963], ["type", 0.09254706238907003], ["str", 0.08219244082004173]]}, "q_name": "serialize_subprocess", "ret_exprs": [], "ret_type": "", "variables": {"dags": ""}, "variables_p": {"dags": [["list", 0.18015792404726272], ["int", 0.17568922704078244], ["Dict[str, Tuple[Any, Any]]", 0.17097570703713427], ["Pattern[str]", 0.08881674359243415], ["str", 0.0856304495832585]]}}, {"docstring": {"func": "Patch plugins manager to always and only return our custom timetable.", "long_descr": null, "ret": null}, "fn_lc": [[340, 0], [349, 5]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "timetable_plugin", "params": {"monkeypatch": ""}, "params_descr": {"monkeypatch": ""}, "params_occur": {"monkeypatch": [["monkeypatch", "setattr", "plugins_manager", "None"], ["monkeypatch", "setattr", "plugins_manager", "CustomSerializationTimetable"]]}, "params_p": {"args": [], "kwargs": [], "monkeypatch": [["Optional[str]", 0.08575573669369083]]}, "q_name": "timetable_plugin", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1988, 4], [1991, 107]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "mock__import__", "params": {"fromlist": "", "globals_": "", "level": "", "locals_": "", "name": ""}, "params_descr": {"fromlist": "", "globals_": "", "level": "", "locals_": "", "name": ""}, "params_occur": {"fromlist": [["importlib", "__import__", "name", "globals", "globals_", "locals", "locals_", "fromlist", "fromlist", "level", "level"]], "globals_": [["importlib", "__import__", "name", "globals", "globals_", "locals", "locals_", "fromlist", "fromlist", "level", "level"]], "level": [["level", "name", "partition"], ["importlib", "__import__", "name", "globals", "globals_", "locals", "locals_", "fromlist", "fromlist", "level", "level"]], "locals_": [["importlib", "__import__", "name", "globals", "globals_", "locals", "locals_", "fromlist", "fromlist", "level", "level"]], "name": [["level", "name", "partition"], ["importlib", "__import__", "name", "globals", "globals_", "locals", "locals_", "fromlist", "fromlist", "level", "level"]]}, "params_p": {"args": [], "fromlist": [["str", 0.21168344459291027], ["Callable[[Any], bool]", 0.18661501039399322], ["dict", 0.11568409456980508], ["Optional[str]", 0.10365419782163275], ["Dict[str, Any]", 0.10004250278330895], ["Callable[[str], bool]", 0.08884803237314952], ["Callable[[List], bool]", 0.08086428710118183]], "globals_": [["str", 0.21168344459291027], ["Callable[[Any], bool]", 0.18661501039399322], ["dict", 0.11568409456980508], ["Optional[str]", 0.10365419782163275], ["Dict[str, Any]", 0.10004250278330895], ["Callable[[str], bool]", 0.08884803237314952], ["Callable[[List], bool]", 0.08086428710118183]], "kwargs": [], "level": [["str", 0.3378570852412908], ["Optional[str]", 0.1381713999610031], ["Dict[str, Any]", 0.0948504079243259], ["Callable[[str], bool]", 0.09437734251935533], ["Union[str, List[str]]", 0.09198509945683], ["Callable[[List], bool]", 0.08242194441901056], ["Callable[[Any], bool]", 0.07863879011069626]], "locals_": [["str", 0.21168344459291027], ["Callable[[Any], bool]", 0.18661501039399322], ["dict", 0.11568409456980508], ["Optional[str]", 0.10365419782163275], ["Dict[str, Any]", 0.10004250278330895], ["Callable[[str], bool]", 0.08884803237314952], ["Callable[[List], bool]", 0.08086428710118183]], "name": [["str", 0.3378570852412908], ["Optional[str]", 0.1381713999610031], ["Dict[str, Any]", 0.0948504079243259], ["Callable[[str], bool]", 0.09437734251935533], ["Union[str, List[str]]", 0.09198509945683], ["Callable[[List], bool]", 0.08242194441901056], ["Callable[[Any], bool]", 0.07863879011069626]]}, "q_name": "test_kubernetes_optional.<locals>.mock__import__", "ret_exprs": ["return importlib.__import__(name, globals=globals_, locals=locals_, fromlist=fromlist, level=level)"], "ret_type": "", "ret_type_p": [["str", 0.2709558743884715], ["bool", 0.14120313658741104], ["Optional[Callable]", 0.08731688812172668], ["tuple", 0.08486139381926679]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Serialisation / deserialisation continues to work without kubernetes installed", "long_descr": null, "ret": null}, "fn_lc": [[1985, 0], [2017, 69]], "fn_var_ln": {"imported_airflow": [[2002, 8], [2002, 24]], "module": [[1997, 8], [1997, 14]], "pod_override": [[2008, 8], [2008, 20]], "spec": [[1996, 8], [1996, 12]]}, "fn_var_occur": {"imported_airflow": [["imported_airflow", "c", "args", "split", "c", "import_mock", "call_args_list", "c", "args", "startswith"]], "module": [["module", "importlib", "util", "module_from_spec", "spec"], ["spec", "loader", "exec_module", "module"], ["module", "BaseSerialization", "from_dict", "pod_override"], ["module", "SerializedDAG", "to_dict", "make_simple_dag"]], "pod_override": [["pod_override", "PodGenerator", "serialize_pod", "executor_config_pod"], ["module", "BaseSerialization", "from_dict", "pod_override"]], "spec": [["spec", "importlib", "util", "find_spec"], ["module", "importlib", "util", "module_from_spec", "spec"], ["spec", "loader", "exec_module", "module"]]}, "name": "test_kubernetes_optional", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_kubernetes_optional", "ret_exprs": [], "ret_type": "", "variables": {"imported_airflow": "", "module": "", "pod_override": "", "spec": ""}, "variables_p": {"imported_airflow": [["tuple", 0.4257373779780708], ["dict", 0.1306075706051206], ["int", 0.09997172561038117], ["List[str]", 0.09044664036014571], ["list", 0.08531930650057226], ["Dict[str, Any]", 0.08063505131435275]], "module": [["int", 0.11337372707023687]], "pod_override": [], "spec": [["sqlite3.dbapi2.Connection", 0.27823712512748344], ["guillotina.interfaces.security.IPrincipalRoleManager", 0.21430678484428828]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[2020, 0], [2073, 77]], "fn_var_ln": {"literal": [[2021, 4], [2021, 11]], "op": [[2058, 4], [2058, 6]], "real_op": [[2022, 4], [2022, 11]], "serialized": [[2026, 4], [2026, 14]]}, "fn_var_occur": {"literal": [["real_op", "BashOperator", "partial", "task_id", "executor_config", "expand", "bash_command", "literal"], ["op", "expand_input", "value", "literal"]], "op": [["op", "SerializedBaseOperator", "deserialize_operator", "serialized"], ["isinstance", "op", "MappedOperator"], ["op", "deps", "MappedOperator", "deps_for", "BaseOperator"], ["op", "operator_class"], ["op", "expand_input", "value", "literal"], ["op", "partial_kwargs"]], "real_op": [["real_op", "BashOperator", "partial", "task_id", "executor_config", "expand", "bash_command", "literal"], ["serialized", "SerializedBaseOperator", "serialize", "real_op"]], "serialized": [["serialized", "SerializedBaseOperator", "serialize", "real_op"], ["serialized", "False", "True", "False"], ["op", "SerializedBaseOperator", "deserialize_operator", "serialized"]]}, "name": "test_operator_expand_serde", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_operator_expand_serde", "ret_exprs": [], "ret_type": "", "variables": {"literal": "", "op": "", "real_op": "", "serialized": ""}, "variables_p": {"literal": [["List[Tuple[Any, str]]", 0.37583757152577224], ["Dict[str, Union[int, str]]", 0.09206754618037843], ["Tuple[int, int, int]", 0.07813457599112271], ["dict", 0.07304463951440786], ["ajapaik.ajapaik.models.Album", 0.07133906300389872], ["List[str]", 0.07089243061619156], ["Dict[str, Any]", 0.06892921245482025]], "op": [["int", 0.1925980673579861], ["str", 0.09576872697984858]], "real_op": [["str", 0.30928319758366507], ["int", 0.21235867601740188], ["Dict[str, Dict[str, Any]]", 0.12496805796468534], ["Set[str]", 0.0759596521939141], ["Dict[str, Union[datetime.timedelta, str]]", 0.07431163074722974]], "serialized": [["str", 0.7754178109514566], ["Pattern[str]", 0.13489728568538964], ["List[int]", 0.08968490336315381]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[2076, 0], [2121, 63]], "fn_var_ln": {"mapped": [[2082, 8], [2082, 14]], "op": [[2110, 4], [2110, 6]], "serialized": [[2084, 4], [2084, 14]], "serialized_dag": [[2117, 4], [2117, 18]], "task1": [[2081, 8], [2081, 13]], "xcom_arg": [[2119, 4], [2119, 12]], "xcom_ref": [[2114, 4], [2114, 12]]}, "fn_var_occur": {"mapped": [["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "XComArg", "task1"], ["serialized", "SerializedBaseOperator", "serialize", "mapped"]], "op": [["op", "SerializedBaseOperator", "deserialize_operator", "serialized"], ["op", "deps", "MappedOperator", "deps_for", "BaseOperator"], ["xcom_ref", "op", "expand_input", "value"]], "serialized": [["serialized", "SerializedBaseOperator", "serialize", "mapped"], ["serialized", "False", "True", "False"], ["op", "SerializedBaseOperator", "deserialize_operator", "serialized"]], "serialized_dag": [["serialized_dag", "airflow", "models", "DAG", "SerializedDAG", "from_dict", "SerializedDAG", "to_dict", "dag"], ["xcom_arg", "serialized_dag", "task_dict", "expand_input", "value"], ["xcom_arg", "operator", "serialized_dag", "task_dict"]], "task1": [["task1", "BaseOperator", "task_id"], ["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "XComArg", "task1"]], "xcom_arg": [["airflow", "models", "xcom_arg", "PlainXComArg", "XComArg"], ["xcom_arg", "serialized_dag", "task_dict", "expand_input", "value"], ["isinstance", "xcom_arg", "PlainXComArg"], ["xcom_arg", "operator", "serialized_dag", "task_dict"]], "xcom_ref": [["xcom_ref", "op", "expand_input", "value"], ["xcom_ref", "_XComRef", "XCOM_RETURN_KEY"]]}, "name": "test_operator_expand_xcomarg_serde", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_operator_expand_xcomarg_serde", "ret_exprs": [], "ret_type": "", "variables": {"mapped": "", "op": "", "serialized": "", "serialized_dag": "airflow.models.DAG", "task1": "", "xcom_arg": "", "xcom_ref": ""}, "variables_p": {"mapped": [["datetime.datetime.datetime", 0.16377143892417065], ["str", 0.1512603459735059], ["Dict[str, Any]", 0.13209129999445154], ["list", 0.10789342645266577], ["int", 0.07829511987275788], ["Dict[str, Callable]", 0.07652141581808854]], "op": [], "serialized": [["Pattern[str]", 0.13804939229714433], ["str", 0.09883375579157959], ["float", 0.09393104128752398], ["List[str]", 0.09393104128752398]], "serialized_dag": [["fonduer.candidates.models.span_mention.TemporarySpanMention", 0.27010036769814977], ["app.models.ScrapeTarget", 0.1711868572624282], ["pili.models.User", 0.09895996285202852], ["finances.models.Order", 0.08818651890692294], ["jinete.models.trips.Trip", 0.08747035401393205], ["jinete.models.planned_trips.PlannedTrip", 0.08365739819353893]], "task1": [["str", 0.36235061490298437], ["List[Dict[str, Any]]", 0.16508024392420337], ["Dict[str, Union[datetime.datetime, datetime.timedelta, int, str]]", 0.10172999194521229], ["list", 0.09885877105247816], ["golem.task.resulresultmanager.EncryptedResultPackageManager", 0.09360456540635692], ["List[str]", 0.08318243388911742]], "xcom_arg": [["salon.models.Salon", 0.29807473312887345], ["jinete.models.planned_trips.PlannedTrip", 0.10891350158090156], ["legistar.models.MatterAttachment", 0.09464058268492756], ["legistar.models.OfficeRecord", 0.09464058268492756], ["legistar.models.MatterIndex", 0.09464058268492756], ["legistar.models.MatterRelation", 0.09464058268492756]], "xcom_ref": [["Type[int]", 0.2686864393044742], ["dict", 0.2273488115857788], ["float", 0.2058344229648073], ["str", 0.17662791177969034], ["Optional[Match[str]]", 0.12150241436524944]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[2125, 0], [2176, 95]], "fn_var_ln": {"expand_value": [[2170, 4], [2170, 16]], "mapped": [[2131, 8], [2131, 14]], "op": [[2165, 4], [2165, 6]], "resolved_expand_value": [[2175, 4], [2175, 25]], "serialized": [[2136, 4], [2136, 14]], "serialized_dag": [[2173, 4], [2173, 18]], "task1": [[2130, 8], [2130, 13]]}, "fn_var_occur": {"expand_value": [["expand_value", "op", "expand_input", "value"], ["expand_value", "_XComRef", "XCOM_RETURN_KEY"]], "mapped": [["mapped", "MockOperator", "partial", "task_id", "expand_kwargs", "XComArg", "task1", "strict", "strict"], ["serialized", "SerializedBaseOperator", "serialize", "mapped"]], "op": [["op", "SerializedBaseOperator", "deserialize_operator", "serialized"], ["op", "deps", "MappedOperator", "deps_for", "BaseOperator"], ["op", "_disallow_kwargs_override", "strict"], ["expand_value", "op", "expand_input", "value"]], "resolved_expand_value": [["resolved_expand_value", "serialized_dag", "task_dict", "expand_input", "value"], ["resolved_expand_value", "PlainXComArg", "serialized_dag", "task_dict"]], "serialized": [["serialized", "SerializedBaseOperator", "serialize", "mapped"], ["serialized", "False", "True", "strict"], ["op", "SerializedBaseOperator", "deserialize_operator", "serialized"]], "serialized_dag": [["serialized_dag", "airflow", "models", "DAG", "SerializedDAG", "from_dict", "SerializedDAG", "to_dict", "dag"], ["resolved_expand_value", "serialized_dag", "task_dict", "expand_input", "value"], ["resolved_expand_value", "PlainXComArg", "serialized_dag", "task_dict"]], "task1": [["task1", "BaseOperator", "task_id"], ["mapped", "MockOperator", "partial", "task_id", "expand_kwargs", "XComArg", "task1", "strict", "strict"]]}, "name": "test_operator_expand_kwargs_literal_serde", "params": {"strict": ""}, "params_descr": {"strict": ""}, "params_occur": {"strict": [["mapped", "MockOperator", "partial", "task_id", "expand_kwargs", "XComArg", "task1", "strict", "strict"], ["serialized", "False", "True", "strict"], ["op", "_disallow_kwargs_override", "strict"]]}, "params_p": {"args": [], "kwargs": [], "strict": []}, "q_name": "test_operator_expand_kwargs_literal_serde", "ret_exprs": [], "ret_type": "", "variables": {"expand_value": "", "mapped": "", "op": "", "resolved_expand_value": "", "serialized": "", "serialized_dag": "airflow.models.DAG", "task1": ""}, "variables_p": {"expand_value": [["property", 0.08969007793134164]], "mapped": [["str", 0.18091648842440242], ["Type[manager.projects.models.snapshots.Snapshot]", 0.11285442733073589], ["Dict[str, Callable]", 0.11139469238768737]], "op": [], "resolved_expand_value": [["list", 0.10934254639277223], ["datetime.datetime", 0.1036820651755366], ["float", 0.09709793408505994], ["List[Dict[str, Any]]", 0.09631804547947682], ["str", 0.09277653784038753]], "serialized": [["str", 0.4198131271290266], ["int", 0.20832985493916606], ["List[str]", 0.1964181242980118], ["nevergrad.optimization.base.ConfiguredOptimizer", 0.0877194468168978], ["dict", 0.0877194468168978]], "serialized_dag": [["legistar.models.OfficeRecord", 0.3971181124014876], ["legistar.models.MatterIndex", 0.30144094379925623], ["legistar.models.MatterAttachment", 0.10048031459975207], ["legistar.models.MatterRelation", 0.10048031459975207], ["legistar.models.MatterSponsor", 0.10048031459975207]], "task1": [["str", 0.39360447626346584], ["golem.task.resulresultmanager.EncryptedResultPackageManager", 0.20565319248319203], ["Dict[str, Union[datetime.datetime, datetime.timedelta, int, str]]", 0.10348738540726009], ["list", 0.09622803838133905], ["List[Dict[str, str]]", 0.09494896272537874]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[2180, 0], [2223, 63]], "fn_var_ln": {"mapped": [[2186, 8], [2186, 14]], "op": [[2211, 4], [2211, 6]], "serialized": [[2188, 4], [2188, 14]], "serialized_dag": [[2219, 4], [2219, 18]], "task1": [[2185, 8], [2185, 13]], "xcom_arg": [[2221, 4], [2221, 12]], "xcom_ref": [[2216, 4], [2216, 12]]}, "fn_var_occur": {"mapped": [["mapped", "MockOperator", "partial", "task_id", "expand_kwargs", "XComArg", "task1", "strict", "strict"], ["serialized", "SerializedBaseOperator", "serialize", "mapped"]], "op": [["op", "SerializedBaseOperator", "deserialize_operator", "serialized"], ["op", "deps", "MappedOperator", "deps_for", "BaseOperator"], ["op", "_disallow_kwargs_override", "strict"], ["xcom_ref", "op", "expand_input", "value"]], "serialized": [["serialized", "SerializedBaseOperator", "serialize", "mapped"], ["serialized", "False", "True", "strict"], ["op", "SerializedBaseOperator", "deserialize_operator", "serialized"]], "serialized_dag": [["serialized_dag", "airflow", "models", "DAG", "SerializedDAG", "from_dict", "SerializedDAG", "to_dict", "dag"], ["xcom_arg", "serialized_dag", "task_dict", "expand_input", "value"], ["xcom_arg", "operator", "serialized_dag", "task_dict"]], "task1": [["task1", "BaseOperator", "task_id"], ["mapped", "MockOperator", "partial", "task_id", "expand_kwargs", "XComArg", "task1", "strict", "strict"]], "xcom_arg": [["airflow", "models", "xcom_arg", "PlainXComArg", "XComArg"], ["xcom_arg", "serialized_dag", "task_dict", "expand_input", "value"], ["isinstance", "xcom_arg", "PlainXComArg"], ["xcom_arg", "operator", "serialized_dag", "task_dict"]], "xcom_ref": [["xcom_ref", "op", "expand_input", "value"], ["xcom_ref", "_XComRef", "XCOM_RETURN_KEY"]]}, "name": "test_operator_expand_kwargs_xcomarg_serde", "params": {"strict": ""}, "params_descr": {"strict": ""}, "params_occur": {"strict": [["mapped", "MockOperator", "partial", "task_id", "expand_kwargs", "XComArg", "task1", "strict", "strict"], ["serialized", "False", "True", "strict"], ["op", "_disallow_kwargs_override", "strict"]]}, "params_p": {"args": [], "kwargs": [], "strict": []}, "q_name": "test_operator_expand_kwargs_xcomarg_serde", "ret_exprs": [], "ret_type": "", "variables": {"mapped": "", "op": "", "serialized": "", "serialized_dag": "airflow.models.DAG", "task1": "", "xcom_arg": "", "xcom_ref": ""}, "variables_p": {"mapped": [["str", 0.18091648842440242], ["Type[manager.projects.models.snapshots.Snapshot]", 0.11285442733073589], ["Dict[str, Callable]", 0.11139469238768737]], "op": [], "serialized": [["str", 0.4198131271290266], ["int", 0.20832985493916606], ["List[str]", 0.1964181242980118], ["nevergrad.optimization.base.ConfiguredOptimizer", 0.0877194468168978], ["dict", 0.0877194468168978]], "serialized_dag": [["fonduer.candidates.models.span_mention.TemporarySpanMention", 0.27010036769814977], ["app.models.ScrapeTarget", 0.1711868572624282], ["pili.models.User", 0.09895996285202852], ["finances.models.Order", 0.08818651890692294], ["jinete.models.trips.Trip", 0.08747035401393205], ["jinete.models.planned_trips.PlannedTrip", 0.08365739819353893]], "task1": [["str", 0.39360447626346584], ["golem.task.resulresultmanager.EncryptedResultPackageManager", 0.20565319248319203], ["Dict[str, Union[datetime.datetime, datetime.timedelta, int, str]]", 0.10348738540726009], ["list", 0.09622803838133905], ["List[Dict[str, str]]", 0.09494896272537874]], "xcom_arg": [["salon.models.Salon", 0.29807473312887345], ["jinete.models.planned_trips.PlannedTrip", 0.10891350158090156], ["legistar.models.MatterAttachment", 0.09464058268492756], ["legistar.models.OfficeRecord", 0.09464058268492756], ["legistar.models.MatterIndex", 0.09464058268492756], ["legistar.models.MatterRelation", 0.09464058268492756]], "xcom_ref": [["Type[int]", 0.2686864393044742], ["dict", 0.2273488115857788], ["float", 0.2058344229648073], ["str", 0.17662791177969034], ["Optional[Match[str]]", 0.12150241436524944]]}}, {"docstring": {"func": "Unmap a deserialized mapped operator should be similar to deserializing an non-mapped operator.", "long_descr": null, "ret": null}, "fn_lc": [[2226, 0], [2233, 87]], "fn_var_ln": {"deserialize": [[2232, 4], [2232, 15]], "mapped": [[2229, 4], [2229, 10]], "normal": [[2228, 4], [2228, 10]], "serialize": [[2231, 4], [2231, 13]]}, "fn_var_occur": {"deserialize": [["deserialize", "SerializedBaseOperator", "deserialize_operator"], ["deserialize", "serialize", "mapped", "unmap", "None", "deserialize", "serialize", "normal"]], "mapped": [["mapped", "BashOperator", "partial", "task_id", "executor_config", "expand", "bash_command"], ["deserialize", "serialize", "mapped", "unmap", "None", "deserialize", "serialize", "normal"]], "normal": [["normal", "BashOperator", "task_id", "bash_command", "executor_config"], ["deserialize", "serialize", "mapped", "unmap", "None", "deserialize", "serialize", "normal"]], "serialize": [["serialize", "SerializedBaseOperator", "serialize"], ["deserialize", "serialize", "mapped", "unmap", "None", "deserialize", "serialize", "normal"]]}, "name": "test_operator_expand_deserialized_unmap", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_operator_expand_deserialized_unmap", "ret_exprs": [], "ret_type": "", "variables": {"deserialize": "", "mapped": "", "normal": "", "serialize": ""}, "variables_p": {"deserialize": [["str", 0.20479868041601007], ["int", 0.19218251344794726], ["dict", 0.09597158332153594]], "mapped": [["raiden.utils.PaymentID", 0.38803830733762457], ["str", 0.205803520219672], ["raiden.utils.FeeAmount", 0.10973062024057142], ["rotkehlchen.tests.utils.rotkehlchen.BalancesTestSetup", 0.10454770023960126], ["Dict[int, str]", 0.09687977743046136], ["int", 0.0950000745320693]], "normal": [["str", 0.4725689469496212], ["int", 0.20175671486270133], ["List[str]", 0.11248338565149153], ["List[dict]", 0.10986276556915237]], "serialize": [["str", 0.2999786012317964], ["int", 0.18846422305406918], ["Pattern[str]", 0.11329785828915759], ["list", 0.1014678254225883]]}}, {"docstring": {"func": "Unmap a deserialized mapped sensor should be similar to deserializing a non-mapped sensor", "long_descr": null, "ret": null}, "fn_lc": [[2236, 0], [2244, 87]], "fn_var_ln": {"deserialize": [[2243, 4], [2243, 15]], "mapped": [[2239, 4], [2239, 10]], "normal": [[2238, 4], [2238, 10]], "serialize": [[2241, 4], [2241, 13]]}, "fn_var_occur": {"deserialize": [["deserialize", "SerializedBaseOperator", "deserialize_operator"], ["deserialize", "serialize", "mapped", "unmap", "None", "deserialize", "serialize", "normal"]], "mapped": [["mapped", "BashSensor", "partial", "task_id", "mode", "expand", "bash_command"], ["deserialize", "serialize", "mapped", "unmap", "None", "deserialize", "serialize", "normal"]], "normal": [["normal", "BashSensor", "task_id", "bash_command", "mode"], ["deserialize", "serialize", "mapped", "unmap", "None", "deserialize", "serialize", "normal"]], "serialize": [["serialize", "SerializedBaseOperator", "serialize"], ["deserialize", "serialize", "mapped", "unmap", "None", "deserialize", "serialize", "normal"]]}, "name": "test_sensor_expand_deserialized_unmap", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_sensor_expand_deserialized_unmap", "ret_exprs": [], "ret_type": "", "variables": {"deserialize": "", "mapped": "", "normal": "", "serialize": ""}, "variables_p": {"deserialize": [["str", 0.20479868041601007], ["int", 0.19218251344794726], ["dict", 0.09597158332153594]], "mapped": [["raiden.utils.PaymentID", 0.19359549597929315], ["str", 0.18973807688508568], ["rotkehlchen.tests.utils.rotkehlchen.BalancesTestSetup", 0.13149165360761303], ["raiden.utils.FeeAmount", 0.10508848790629315], ["geode.models.common.Address", 0.09488326496684713]], "normal": [["dict", 0.3205253052642832], ["OrderedDict", 0.12717283049531433], ["Dict[int, Set[Any]]", 0.10218777120662129], ["List[tuple]", 0.09972088043271958], ["multiprocessing.synchronize.Lock", 0.0982665245513148], ["List[Dict[str, Any]]", 0.08983532374913739], ["alerta.models.alerAlert", 0.08136910551576047], ["Dict[str, Any]", 0.0809222587848488]], "serialize": [["str", 0.2999786012317964], ["int", 0.18846422305406918], ["Pattern[str]", 0.11329785828915759], ["list", 0.1014678254225883]]}}, {"docstring": {"func": "Test task resources serialization/deserialization.", "long_descr": null, "ret": null}, "fn_lc": [[2247, 0], [2264, 5]], "fn_var_ln": {"execution_date": [[2253, 4], [2253, 18]], "serialized": [[2258, 4], [2258, 14]], "task": [[2256, 8], [2256, 12]], "task_id": [[2254, 4], [2254, 11]]}, "fn_var_occur": {"execution_date": [["execution_date", "datetime"], ["DAG", "start_date", "execution_date", "_"]], "serialized": [["serialized", "SerializedBaseOperator", "serialize", "task"]], "task": [["task", "EmptyOperator", "task_id", "task_id", "resources"], ["serialized", "SerializedBaseOperator", "serialize", "task"]], "task_id": [["task", "EmptyOperator", "task_id", "task_id", "resources"]]}, "name": "test_task_resources_serde", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_task_resources_serde", "ret_exprs": [], "ret_type": "", "variables": {"execution_date": "", "serialized": "", "task": "", "task_id": ""}, "variables_p": {"execution_date": [["int", 0.30223705364669573], ["List[Union[Any, Any]]", 0.11743645847259906], ["timedelta", 0.10218603920240023], ["datetime.datetime", 0.10019587209360857], ["datetime.date", 0.0985320212125562], ["datetime.datetime.datetime", 0.0942225485303432], ["str", 0.09009210881375665]], "serialized": [["int", 0.29685101965987926], ["str", 0.18175958157052208], ["Dict[str, Any]", 0.09134640442846219], ["Coroutine[Any, Any, Any]", 0.08746905806275877]], "task": [["List[List[int]]", 0.2290557387737529], ["Dict[str, Union[Any, Any, str]]", 0.19149435289972003], ["int", 0.17684253463372485], ["o2a.converter.task.Task", 0.10492049229979383], ["str", 0.08614255230774276]], "task_id": [["int", 0.29713011789562965], ["list", 0.1219774077681201], ["Pattern[Any]", 0.11455996881406241]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[2276, 8], [2277, 35]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "x", "params": {"arg1": "", "arg2": "", "arg3": ""}, "params_descr": {"arg1": "", "arg2": "", "arg3": ""}, "params_occur": {"arg1": [["print", "arg1", "arg2", "arg3"]], "arg2": [["print", "arg1", "arg2", "arg3"]], "arg3": [["print", "arg1", "arg2", "arg3"]]}, "params_p": {"arg1": [["str", 0.8247793221054154], ["int", 0.05345487620432451]], "arg2": [["str", 0.8247793221054154], ["int", 0.05345487620432451]], "arg3": [["str", 0.8247793221054154], ["int", 0.05345487620432451]], "args": [], "kwargs": []}, "q_name": "test_taskflow_expand_serde.<locals>.x", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[2267, 0], [2350, 5]], "fn_var_ln": {"deserialized": [[2321, 4], [2321, 16]], "op1": [[2273, 8], [2273, 11]], "original": [[2282, 4], [2282, 12]], "pickled": [[2341, 4], [2341, 11]], "serialized": [[2284, 4], [2284, 14]]}, "fn_var_occur": {"deserialized": [["deserialized", "SerializedBaseOperator", "deserialize_operator", "serialized"], ["isinstance", "deserialized", "MappedOperator"], ["deserialized", "deps", "MappedOperator", "deps_for", "BaseOperator"], ["deserialized", "upstream_task_ids", "set"], ["deserialized", "downstream_task_ids", "set"], ["deserialized", "op_kwargs_expand_input", "_ExpandInputRef", "key", "value", "_XComRef", "XCOM_RETURN_KEY"], ["deserialized", "partial_kwargs", "timedelta", "seconds"], ["pickled", "pickle", "loads", "pickle", "dumps", "deserialized"]], "op1": [["x", "partial", "arg1", "expand", "arg2", "arg3", "XComArg", "op1"]], "original": [["original", "dag", "get_task"], ["serialized", "SerializedBaseOperator", "serialize", "original"]], "pickled": [["pickled", "pickle", "loads", "pickle", "dumps", "deserialized"], ["pickled", "op_kwargs_expand_input", "_ExpandInputRef", "key", "value", "_XComRef", "XCOM_RETURN_KEY"], ["pickled", "partial_kwargs", "timedelta", "seconds"]], "serialized": [["serialized", "SerializedBaseOperator", "serialize", "original"], ["serialized", "False", "True", "False"], ["deserialized", "SerializedBaseOperator", "deserialize_operator", "serialized"]]}, "name": "test_taskflow_expand_serde", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_taskflow_expand_serde", "ret_exprs": [], "ret_type": "", "variables": {"deserialized": "", "op1": "", "original": "", "pickled": "", "serialized": ""}, "variables_p": {"deserialized": [["Union[int, str]", 0.08491850526334944]], "op1": [["int", 0.21608889975091072], ["list", 0.18119916579668643], ["List[str]", 0.11969640710834738], ["dict", 0.09272871938119934], ["bytes", 0.08135680602783021], ["List[float]", 0.08016484228780821]], "original": [["raiden.utils.PaymentID", 0.2916682085571578], ["str", 0.17285509812902045], ["List[str]", 0.16040202373002155], ["Dict[str, Union[Any, Any]]", 0.09966219304036734]], "pickled": [["dict", 0.592034789435256], ["str", 0.17970889723826955], ["List[str]", 0.1440068877148378]], "serialized": [["str", 0.6097619209061345], ["List[str]", 0.1926416904487866], ["list", 0.09701859644192289]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[2363, 8], [2364, 35]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "x", "params": {"arg1": "", "arg2": "", "arg3": ""}, "params_descr": {"arg1": "", "arg2": "", "arg3": ""}, "params_occur": {"arg1": [["print", "arg1", "arg2", "arg3"]], "arg2": [["print", "arg1", "arg2", "arg3"]], "arg3": [["print", "arg1", "arg2", "arg3"]]}, "params_p": {"arg1": [["str", 0.8247793221054154], ["int", 0.05345487620432451]], "arg2": [["str", 0.8247793221054154], ["int", 0.05345487620432451]], "arg3": [["str", 0.8247793221054154], ["int", 0.05345487620432451]], "args": [], "kwargs": []}, "q_name": "test_taskflow_expand_kwargs_serde.<locals>.x", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[2354, 0], [2434, 5]], "fn_var_ln": {"deserialized": [[2404, 4], [2404, 16]], "op1": [[2360, 8], [2360, 11]], "original": [[2368, 4], [2368, 12]], "pickled": [[2425, 4], [2425, 11]], "serialized": [[2370, 4], [2370, 14]]}, "fn_var_occur": {"deserialized": [["deserialized", "SerializedBaseOperator", "deserialize_operator", "serialized"], ["isinstance", "deserialized", "MappedOperator"], ["deserialized", "deps", "MappedOperator", "deps_for", "BaseOperator"], ["deserialized", "_disallow_kwargs_override", "strict"], ["deserialized", "upstream_task_ids", "set"], ["deserialized", "downstream_task_ids", "set"], ["deserialized", "op_kwargs_expand_input", "_ExpandInputRef", "key", "value", "_XComRef", "XCOM_RETURN_KEY"], ["deserialized", "partial_kwargs", "timedelta", "seconds"], ["pickled", "pickle", "loads", "pickle", "dumps", "deserialized"]], "op1": [["x", "partial", "arg1", "expand_kwargs", "XComArg", "op1", "strict", "strict"]], "original": [["original", "dag", "get_task"], ["serialized", "SerializedBaseOperator", "serialize", "original"]], "pickled": [["pickled", "pickle", "loads", "pickle", "dumps", "deserialized"], ["pickled", "op_kwargs_expand_input", "_ExpandInputRef", "_XComRef", "XCOM_RETURN_KEY"], ["pickled", "partial_kwargs", "timedelta", "seconds"]], "serialized": [["serialized", "SerializedBaseOperator", "serialize", "original"], ["serialized", "False", "True", "strict"], ["deserialized", "SerializedBaseOperator", "deserialize_operator", "serialized"]]}, "name": "test_taskflow_expand_kwargs_serde", "params": {"strict": ""}, "params_descr": {"strict": ""}, "params_occur": {"strict": [["x", "partial", "arg1", "expand_kwargs", "XComArg", "op1", "strict", "strict"], ["serialized", "False", "True", "strict"], ["deserialized", "_disallow_kwargs_override", "strict"]]}, "params_p": {"args": [], "kwargs": [], "strict": [["tests.basilisp.helpers.CompileFn", 0.08326293377782545], ["List[str]", 0.08065559068507837]]}, "q_name": "test_taskflow_expand_kwargs_serde", "ret_exprs": [], "ret_type": "", "variables": {"deserialized": "", "op1": "", "original": "", "pickled": "", "serialized": ""}, "variables_p": {"deserialized": [["str", 0.2733863814399635], ["int", 0.1007452621028172]], "op1": [["list", 0.2818949913911417], ["int", 0.1225744839013514], ["List[float]", 0.12105271198997217]], "original": [["raiden.utils.PaymentID", 0.2916682085571578], ["str", 0.17285509812902045], ["List[str]", 0.16040202373002155], ["Dict[str, Union[Any, Any]]", 0.09966219304036734]], "pickled": [["dict", 0.5834568535297859], ["str", 0.15398296049347177], ["List[str]", 0.11421339546176788], ["bool", 0.07728173780837672]], "serialized": [["str", 0.7028240558234777], ["List[str]", 0.09970897462596795], ["int", 0.09664763397273564]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[2445, 8], [2449, 104]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "tg", "params": {"a": "builtins.str"}, "params_descr": {"a": ""}, "params_occur": {"a": [["BashOperator", "partial", "task_id", "expand", "bash_command", "a"]]}, "params_p": {"a": [["str", 0.10824396232739633], ["Union[base.Criterion, Any]", 0.10500376214189512], ["Union[criteria.Misclassification, base.T]", 0.10239250140306966], ["raiden.utils.Dict[str, raiden.utils.Any]", 0.09260642764745672], ["Optional[socialhome.users.models.Profile]", 0.09095506829773127]], "args": [], "kwargs": []}, "q_name": "test_mapped_task_group_serde.<locals>.tg", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[2437, 0], [2481, 79]], "fn_var_ln": {"ser_dag": [[2453, 4], [2453, 11]], "serde_dag": [[2478, 4], [2478, 13]], "serde_tg": [[2479, 4], [2479, 12]]}, "fn_var_occur": {"ser_dag": [["ser_dag", "SerializedBaseOperator", "serialize", "dag"], ["ser_dag", "True", "True"], ["serde_dag", "SerializedDAG", "deserialize_dag", "ser_dag"]], "serde_dag": [["serde_dag", "SerializedDAG", "deserialize_dag", "ser_dag"], ["serde_tg", "serde_dag", "task_group", "children"]], "serde_tg": [["serde_tg", "serde_dag", "task_group", "children"], ["isinstance", "serde_tg", "MappedTaskGroup"], ["serde_tg", "_expand_input", "DictOfListsExpandInput"]]}, "name": "test_mapped_task_group_serde", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_mapped_task_group_serde", "ret_exprs": [], "ret_type": "", "variables": {"ser_dag": "", "serde_dag": "", "serde_tg": ""}, "variables_p": {"ser_dag": [["Dict[str, str]", 0.5512026358060726], ["bool", 0.18398865447551144], ["frozenset[str]", 0.09030276693513489]], "serde_dag": [], "serde_tg": [["rotkehlchen.tests.utils.rotkehlchen.BalancesTestSetup", 0.1001012942000061], ["Dict[str, Callable]", 0.09924826702673144], ["str", 0.09775469400387383], ["Tuple[Any, Any]", 0.09307441260946117]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[2484, 0], [2519, 86]], "fn_var_ln": {"deserialized_dag": [[2518, 4], [2518, 20]], "serialized_dag": [[2496, 4], [2496, 18]]}, "fn_var_occur": {"deserialized_dag": [["deserialized_dag", "SerializedDAG", "deserialize_dag", "serialized_dag"], ["deserialized_dag", "task_dict", "operator_extra_links", "AirflowLink2"]], "serialized_dag": [["serialized_dag", "SerializedBaseOperator", "serialize", "dag"], ["serialized_dag", "False", "False", "True"], ["deserialized_dag", "SerializedDAG", "deserialize_dag", "serialized_dag"]]}, "name": "test_mapped_task_with_operator_extra_links_property", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_mapped_task_with_operator_extra_links_property", "ret_exprs": [], "ret_type": "", "variables": {"deserialized_dag": "", "serialized_dag": ""}, "variables_p": {"deserialized_dag": [["evolution.encoding.base.IdentityOperation", 0.11111843250203518]], "serialized_dag": [["int", 0.2795861430888652], ["float", 0.11588680292359975], ["Dict[str, str]", 0.10409893003681485], ["frozenset[str]", 0.10280060023194655], ["str", 0.08688298688295473], ["nevergrad.optimization.base.ConfiguredOptimizer", 0.08644182189857262]]}}], "imports": ["__future__", "annotations", "copy", "importlib", "importlib.util", "json", "multiprocessing", "os", "pickle", "datetime", "datetime", "timedelta", "glob", "glob", "pathlib", "Path", "unittest", "mock", "attr", "pendulum", "pytest", "dateutil", "relativedelta", "FR", "relativedelta", "kubernetes", "client", "models", "k8s", "airflow", "airflow", "datasets", "Dataset", "airflow", "decorators", "teardown", "airflow", "decorators", "base", "DecoratedOperator", "airflow", "exceptions", "AirflowException", "SerializationError", "airflow", "hooks", "base", "BaseHook", "airflow", "kubernetes", "pod_generator", "PodGenerator", "airflow", "models", "DAG", "Connection", "DagBag", "Operator", "airflow", "models", "baseoperator", "BaseOperator", "BaseOperatorLink", "airflow", "models", "expandinput", "EXPAND_INPUT_EMPTY", "airflow", "models", "mappedoperator", "MappedOperator", "airflow", "models", "param", "Param", "ParamsDict", "airflow", "models", "xcom", "XCom", "airflow", "operators", "bash", "BashOperator", "airflow", "operators", "empty", "EmptyOperator", "airflow", "security", "permissions", "airflow", "sensors", "bash", "BashSensor", "airflow", "serialization", "json_schema", "load_dag_schema_dict", "airflow", "serialization", "serialized_objects", "DagDependency", "DependencyDetector", "SerializedBaseOperator", "SerializedDAG", "airflow", "ti_deps", "deps", "base_ti_dep", "BaseTIDep", "airflow", "timetables", "simple", "NullTimetable", "OnceTimetable", "airflow", "utils", "timezone", "airflow", "utils", "context", "Context", "airflow", "utils", "operator_resources", "Resources", "airflow", "utils", "task_group", "TaskGroup", "airflow", "utils", "xcom", "XCOM_RETURN_KEY", "tests", "test_utils", "config", "conf_vars", "tests", "test_utils", "mock_operators", "AirflowLink2", "CustomOperator", "GoogleLink", "MockOperator", "tests", "test_utils", "timetables", "CustomSerializationTimetable", "cron_timetable", "delta_timetable", "airflow", "plugins_manager", "airflow", "operators", "empty", "EmptyOperator", "airflow", "operators", "empty", "EmptyOperator", "airflow", "sensors", "external_task", "ExternalTaskSensor", "airflow", "operators", "empty", "EmptyOperator", "test_plugin", "CustomTestTriggerRule", "airflow", "operators", "empty", "EmptyOperator", "airflow", "sensors", "external_task", "ExternalTaskSensor", "airflow", "sensors", "external_task", "ExternalTaskSensor", "airflow", "sensors", "external_task", "ExternalTaskSensor", "airflow", "operators", "empty", "EmptyOperator", "airflow", "operators", "trigger_dagrun", "TriggerDagRunOperator", "airflow", "operators", "empty", "EmptyOperator", "airflow", "serialization", "serialized_objects", "TaskGroupSerialization", "airflow", "operators", "empty", "EmptyOperator", "airflow", "utils", "edgemodifier", "Label", "airflow", "sensors", "base", "BaseSensorOperator", "airflow", "sensors", "base", "BaseSensorOperator", "airflow", "models", "xcom_arg", "PlainXComArg", "XComArg", "airflow", "serialization", "serialized_objects", "_XComRef", "airflow", "models", "xcom_arg", "PlainXComArg", "XComArg", "airflow", "serialization", "serialized_objects", "_XComRef", "airflow", "models", "xcom_arg", "PlainXComArg", "XComArg", "airflow", "serialization", "serialized_objects", "_XComRef", "airflow", "operators", "empty", "EmptyOperator", "airflow", "decorators", "task", "airflow", "models", "xcom_arg", "XComArg", "airflow", "serialization", "serialized_objects", "_ExpandInputRef", "_XComRef", "airflow", "decorators", "task", "airflow", "models", "xcom_arg", "XComArg", "airflow", "serialization", "serialized_objects", "_ExpandInputRef", "_XComRef", "airflow", "decorators", "task_group", "task_group", "airflow", "models", "expandinput", "DictOfListsExpandInput", "airflow", "utils", "task_group", "MappedTaskGroup"], "mod_var_ln": {"CUSTOM_TIMETABLE_SERIALIZED": [[225, 0], [225, 27]], "ROOT_FOLDER": [[221, 0], [221, 11]], "executor_config_pod": [[107, 0], [107, 19]], "repo_root": [[74, 0], [74, 9]], "serialized_simple_dag_ground_truth": [[116, 0], [116, 34]]}, "mod_var_occur": {"CUSTOM_TIMETABLE_SERIALIZED": [["serialized", "__file__", "CUSTOM_TIMETABLE_SERIALIZED"]], "ROOT_FOLDER": [["glob", "ROOT_FOLDER", "pattern"]], "executor_config_pod": [["serialized_simple_dag_ground_truth", "False", "None", "True", "False", "None", "repo_root", "False", "False", "False", "False", "PodGenerator", "serialize_pod", "executor_config_pod", "False", "False", "False", "False", "permissions", "ACTION_CAN_READ", "permissions", "ACTION_CAN_EDIT"], ["BashOperator", "task_id", "bash_command", "owner", "executor_config", "executor_config_pod", "doc_md"], ["pod_override", "PodGenerator", "serialize_pod", "executor_config_pod"]], "repo_root": [["serialized_simple_dag_ground_truth", "False", "None", "True", "False", "None", "repo_root", "False", "False", "False", "False", "PodGenerator", "serialize_pod", "executor_config_pod", "False", "False", "False", "False", "permissions", "ACTION_CAN_READ", "permissions", "ACTION_CAN_EDIT"], ["serialized_dag", "_processor_dags_folder", "str", "repo_root"]], "serialized_simple_dag_ground_truth": [["self", "validate_serialized_dag", "serialized_dags", "serialized_simple_dag_ground_truth"], ["expected", "copy", "deepcopy", "serialized_simple_dag_ground_truth"]]}, "no_types_annot": {"D": 17, "I": 0, "U": 412}, "session_id": "3Z4LzGcJfQqSDDEQAMFCMGkPqOzUZHHH5VBeabOvOlo", "set": null, "tc": [false, null], "type_annot_cove": 0.04, "typed_seq": "", "untyped_seq": "", "variables": {"CUSTOM_TIMETABLE_SERIALIZED": "", "ROOT_FOLDER": "", "executor_config_pod": "", "repo_root": "", "serialized_simple_dag_ground_truth": ""}, "variables_p": {"CUSTOM_TIMETABLE_SERIALIZED": [["str", 0.605831830815221], ["ClassVar[str]", 0.09566692368801838]], "ROOT_FOLDER": [["str", 0.8954829605090557], ["pathlib.Path", 0.10451703949094424]], "executor_config_pod": [["Dict[str, Any]", 0.19610077463441183], ["Dict[str, Dict[str, Any]]", 0.13828117611936283], ["Dict[str, Union[dict, Any]]", 0.1123734911543585], ["Dict[str, str]", 0.0930857305035275], ["Dict[Any, Union[Any, Any, Any, Any]]", 0.09190586628339477], ["Dict[Any, Union[Any, Any, Any]]", 0.09190586628339477], ["Dict[str, Optional[str]]", 0.09116379656002624]], "repo_root": [["str", 0.8119373281140609], ["Optional[Sequence[str]]", 0.09523410787968507], ["Union[pathlib.Path, str]", 0.09282856400625403]], "serialized_simple_dag_ground_truth": [["str", 0.3176118872255529], ["int", 0.18780722970693037], ["Dict[str, int]", 0.10423757579610422], ["bytes", 0.1036180811895715], ["Type[Callable[..., Any]]", 0.10137465572234272], ["Dict[str, Union[Any, str]]", 0.09729329214383538], ["deque[str]", 0.08805727821566281]]}}}