{"error": null, "response": {"classes": [{"cls_lc": [[130, 0], [134, 53]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[133, 4], [134, 53]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_read", "params": {"metadata": "", "self": "", "ti": "", "try_number": ""}, "params_descr": {"metadata": "", "self": "", "ti": "", "try_number": ""}, "params_occur": {"metadata": [["super", "_read", "self", "ti", "try_number", "metadata"]], "self": [["super", "_read", "self", "ti", "try_number", "metadata"]], "ti": [["super", "_read", "self", "ti", "try_number", "metadata"]], "try_number": [["super", "_read", "self", "ti", "try_number", "metadata"]]}, "params_p": {"args": [], "kwargs": [], "metadata": [["Optional[int]", 0.12414943513978384], ["List[int]", 0.10794507105774857], ["Optional[str]", 0.10696724915370898], ["List[str]", 0.10397178388944193], ["tuple", 0.1032605604163161], ["List[Dict[str, Any]]", 0.09585700991846169], ["Set[int]", 0.09099244422226704], ["List[float]", 0.08999189931434111], ["list", 0.0879267708615397]], "self": [], "ti": [["Optional[int]", 0.12414943513978384], ["List[int]", 0.10794507105774857], ["Optional[str]", 0.10696724915370898], ["List[str]", 0.10397178388944193], ["tuple", 0.1032605604163161], ["List[Dict[str, Any]]", 0.09585700991846169], ["Set[int]", 0.09099244422226704], ["List[float]", 0.08999189931434111], ["list", 0.0879267708615397]], "try_number": [["Optional[int]", 0.12414943513978384], ["List[int]", 0.10794507105774857], ["Optional[str]", 0.10696724915370898], ["List[str]", 0.10397178388944193], ["tuple", 0.1032605604163161], ["List[Dict[str, Any]]", 0.09585700991846169], ["Set[int]", 0.09099244422226704], ["List[float]", 0.08999189931434111], ["list", 0.0879267708615397]]}, "q_name": "OldFileTaskHandler._read", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "OldFileTaskHandler", "q_name": "OldFileTaskHandler", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[36, 0], [37, 59]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "non_pytest_handlers", "params": {"val": ""}, "params_descr": {"val": ""}, "params_occur": {"val": [["h", "h", "val", "h", "__module__"]]}, "params_p": {"args": [], "kwargs": [], "val": [["str", 0.5273901432356098], ["int", 0.2685466638046424]]}, "q_name": "non_pytest_handlers", "ret_exprs": ["return [h for h in val if \"pytest\" not in h.__module__]"], "ret_type": "", "ret_type_p": [["List[int]", 0.2169073557333048], ["int", 0.20048723820747613], ["Tuple[int, int]", 0.11765772374471245], ["list", 0.09540147487132622], ["Set[str]", 0.09389932383242192], ["str", 0.09321299078400863], ["List[str]", 0.09176401387722022], ["bool", 0.09066987894952971]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[40, 0], [43, 19]], "fn_var_ln": {"handlers": [[41, 4], [41, 12]]}, "fn_var_occur": {"handlers": [["handlers", "non_pytest_handlers", "logger", "handlers"], ["x", "__class__", "x", "handlers", "list", "classes"]]}, "name": "assert_handlers", "params": {"classes": "", "logger": ""}, "params_descr": {"classes": "", "logger": ""}, "params_occur": {"classes": [["x", "__class__", "x", "handlers", "list", "classes"]], "logger": [["handlers", "non_pytest_handlers", "logger", "handlers"]]}, "params_p": {"args": [], "classes": [["Iterable[str]", 0.17967790575120007], ["Dict[str, Any]", 0.10008087106478365], ["str", 0.08725414346917039]], "kwargs": [], "logger": [["BaseException", 0.19748302537172815], ["str", 0.10346114643344159], ["Exception", 0.09891943030416638]]}, "q_name": "assert_handlers", "ret_exprs": ["return handlers"], "ret_type": "", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["str", 0.1]], "variables": {"handlers": ""}, "variables_p": {"handlers": [["str", 0.29348340276939455], ["Dict[str, int]", 0.17017913616139965], ["dict", 0.1206207120591617], ["Dict[str, List[Any]]", 0.10062878946099146], ["Set[str]", 0.0963171790714392]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[46, 0], [49, 32]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "clear_logger_handlers", "params": {"log": ""}, "params_descr": {"log": ""}, "params_occur": {"log": [["log", "handlers"], ["log", "removeHandler", "h"]]}, "params_p": {"args": [], "kwargs": [], "log": [["str", 0.18391516617680914], ["dict", 0.14004369457042903], ["Dict[str, Any]", 0.1259062701538088], ["int", 0.11905042130169824], ["T", 0.10223347252614824]]}, "q_name": "clear_logger_handlers", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[53, 0], [54, 42]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "reload_triggerer_job", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "reload_triggerer_job", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "root logger: RedirectStdHandler", "long_descr": "task: FTH\nresult: wrap", "ret": null}, "fn_lc": [[57, 0], [89, 69]], "fn_var_ln": {"root_handlers": [[82, 4], [82, 17]], "root_logger": [[65, 4], [65, 15]], "task_handlers": [[74, 4], [74, 17]], "task_logger": [[73, 4], [73, 15]]}, "fn_var_occur": {"root_handlers": [["root_handlers", "assert_handlers", "root_logger", "RedirectStdHandler", "TriggererHandlerWrapper"], ["root_handlers", "base_handler", "task_handlers"], ["root_handlers", "filters", "__class__", "DropTriggerLogsFilter"], ["root_handlers", "filters"], ["root_handlers", "base_handler", "__class__", "FileTaskHandler"]], "root_logger": [["root_logger", "logging", "getLogger"], ["clear_logger_handlers", "root_logger"], ["assert_handlers", "root_logger", "RedirectStdHandler"], ["root_handlers", "assert_handlers", "root_logger", "RedirectStdHandler", "TriggererHandlerWrapper"]], "task_handlers": [["task_handlers", "assert_handlers", "task_logger", "FileTaskHandler"], ["root_handlers", "base_handler", "task_handlers"]], "task_logger": [["task_logger", "logging", "getLogger"], ["task_handlers", "assert_handlers", "task_logger", "FileTaskHandler"]]}, "name": "test_configure_trigger_log_handler_file", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_configure_trigger_log_handler_file", "ret_exprs": [], "ret_type": "", "variables": {"root_handlers": "", "root_logger": "", "task_handlers": "", "task_logger": ""}, "variables_p": {"root_handlers": [["logging.Logger", 0.3158042954552514], ["logging.Formatter", 0.28439310458560524], ["logging.LoggerAdapter", 0.1219810134882621], ["logging.RootLogger", 0.09903292199283985], ["TextIO", 0.0894784762453429], ["logging.handlers.RotatingFileHandler", 0.08931018823269851]], "root_logger": [["logging.Logger", 0.9999999999999998]], "task_handlers": [["str", 0.11328682821947611], ["int", 0.10701795132382651], ["Dict[str, Any]", 0.09239763403469929], ["Mapping", 0.08638360020556672], ["List[Dict[str, Any]]", 0.08122823036313781]], "task_logger": [["List[Dict[Any, Any]]", 0.3657155080244838], ["ValueError", 0.08789361585900517]]}}, {"docstring": {"func": "root logger: RedirectStdHandler", "long_descr": "task: S3TH\nresult: wrap", "ret": null}, "fn_lc": [[92, 0], [127, 62]], "fn_var_ln": {"handlers": [[120, 4], [120, 12]], "root_logger": [[109, 4], [109, 15]], "task_handlers": [[113, 4], [113, 17]], "task_logger": [[112, 4], [112, 15]]}, "fn_var_occur": {"handlers": [["handlers", "assert_handlers", "root_logger", "RedirectStdHandler", "TriggererHandlerWrapper"], ["handlers", "base_handler", "task_handlers"], ["handlers", "filters", "__class__", "DropTriggerLogsFilter"], ["handlers", "filters"], ["handlers", "base_handler", "__class__", "S3TaskHandler"]], "root_logger": [["root_logger", "logging", "getLogger"], ["assert_handlers", "root_logger", "RedirectStdHandler"], ["handlers", "assert_handlers", "root_logger", "RedirectStdHandler", "TriggererHandlerWrapper"]], "task_handlers": [["task_handlers", "assert_handlers", "task_logger", "S3TaskHandler"], ["handlers", "base_handler", "task_handlers"]], "task_logger": [["task_logger", "logging", "getLogger"], ["task_handlers", "assert_handlers", "task_logger", "S3TaskHandler"]]}, "name": "test_configure_trigger_log_handler_s3", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_configure_trigger_log_handler_s3", "ret_exprs": [], "ret_type": "", "variables": {"handlers": "", "root_logger": "", "task_handlers": "", "task_logger": ""}, "variables_p": {"handlers": [["List[Dict[str, Any]]", 0.3027124304113182], ["Anaconda3.Lib.site-packages.conda.gateways.logging.StdStreamHandler", 0.126488256624471], ["dict", 0.0847683410231012], ["list", 0.0847683410231012], ["logging.Formatter", 0.08397825951056578]], "root_logger": [["logging.Logger", 0.5971582049191231], ["logging.FileHandler", 0.20583978735572228], ["logging.RootLogger", 0.10433985244199374], ["logging.Formatter", 0.09266215528316075]], "task_handlers": [["list", 0.29898498257863493], ["str", 0.1931372408271284], ["List[str]", 0.12509497521443277], ["dict", 0.09550396411116485], ["Dict[str, Dict[str, Any]]", 0.08949097889525398]], "task_logger": [["List[Dict[Any, Any]]", 0.3589427087955589], ["str", 0.1656166331176732]]}}, {"docstring": {"func": "No root handler configured.", "long_descr": "When non FileTaskHandler is configured, don't modify.\nWhen when an incompatible subclass of FileTaskHandler is configured, don't modify.", "ret": null}, "fn_lc": [[170, 0], [211, 32]], "fn_var_ln": {"root_logger": [[177, 4], [177, 15]], "task_logger": [[195, 4], [195, 15]]}, "fn_var_occur": {"root_logger": [["root_logger", "logging", "getLogger"], ["clear_logger_handlers", "root_logger"], ["assert_handlers", "root_logger"], ["assert_handlers", "root_logger"]], "task_logger": [["task_logger", "logging", "getLogger"], ["assert_handlers", "task_logger", "cls"]]}, "name": "test_configure_trigger_log_handler_not_file_task_handler", "params": {"cfg": "", "cls": "", "msg": ""}, "params_descr": {"cfg": "", "cls": "", "msg": ""}, "params_occur": {"cfg": [["conf_vars", "cfg"]], "cls": [["assert_handlers", "task_logger", "cls"]], "msg": [["x", "message", "args", "x", "captured", "msg"]]}, "params_p": {"args": [], "cfg": [["str", 0.3337559595151978], ["bool", 0.17726531692424538], ["Dict[str, List[str]]", 0.09285737192579523], ["Optional[str]", 0.08840732659195766]], "cls": [["str", 0.9036505821610556]], "kwargs": [], "msg": [["str", 0.30000080485510333], ["List[str]", 0.11015424432150576], ["int", 0.10639535022993424], ["bool", 0.10040609089440718], ["tuple", 0.09173200226757719]]}, "q_name": "test_configure_trigger_log_handler_not_file_task_handler", "ret_exprs": [], "ret_type": "", "variables": {"root_logger": "", "task_logger": ""}, "variables_p": {"root_logger": [["logging.Logger", 1.0]], "task_logger": [["dict", 0.42639590685307976], ["logging.Logger", 0.1680298085931071], ["logging.Formatter", 0.11219757907763317], ["ValueError", 0.10637664589351788], ["tf_encrypted.config.LocalConfig", 0.09621557656507665], ["Dict[str, Any]", 0.09078448301758545]]}}, {"docstring": {"func": "root: no handler", "long_descr": "task: FTH\nresult: wrap", "ret": null}, "fn_lc": [[228, 0], [259, 36]], "fn_var_ln": {"handlers": [[256, 4], [256, 12]], "root_logger": [[247, 4], [247, 15]], "task_logger": [[243, 4], [243, 15]]}, "fn_var_occur": {"handlers": [["handlers", "assert_handlers", "root_logger", "TriggererHandlerWrapper"], ["handlers", "base_handler", "task_logger", "handlers"], ["handlers", "filters"]], "root_logger": [["root_logger", "logging", "getLogger"], ["assert_handlers", "root_logger"], ["handlers", "assert_handlers", "root_logger", "TriggererHandlerWrapper"]], "task_logger": [["task_logger", "logging", "getLogger"], ["assert_handlers", "task_logger", "S3TaskHandler"], ["handlers", "base_handler", "task_logger", "handlers"]]}, "name": "test_configure_trigger_log_handler_fallback_task", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_configure_trigger_log_handler_fallback_task", "ret_exprs": [], "ret_type": "", "variables": {"handlers": "", "root_logger": "", "task_logger": ""}, "variables_p": {"handlers": [["str", 0.5323445274690523], ["list", 0.2629275405305375], ["dict", 0.115808426124284], ["Optional[Match[str]]", 0.08891950587612614]], "root_logger": [["logging.Logger", 0.4970325679731712], ["logging.FileHandler", 0.10384101203589742], ["logging.RootLogger", 0.10280019654979829], ["logging.Formatter", 0.09733342664639304]], "task_logger": [["List[Dict[Any, Any]]", 0.2924567540490381], ["dict", 0.10879858010902917], ["logging.Logger", 0.09955670941842533], ["ValueError", 0.09072011126620329]]}}, {"docstring": {"func": "root logger: single handler that supports triggerer", "long_descr": "result: wrap", "ret": null}, "fn_lc": [[278, 0], [311, 64]], "fn_var_ln": {"handlers": [[307, 4], [307, 12]], "root_logger": [[298, 4], [298, 15]], "task_logger": [[294, 4], [294, 15]]}, "fn_var_occur": {"handlers": [["handlers", "assert_handlers", "root_logger", "TriggererHandlerWrapper"], ["handlers", "filters"], ["handlers", "base_handler", "__class__", "FileTaskHandler"]], "root_logger": [["root_logger", "logging", "getLogger"], ["assert_handlers", "root_logger", "FileTaskHandler"], ["handlers", "assert_handlers", "root_logger", "TriggererHandlerWrapper"]], "task_logger": [["task_logger", "logging", "getLogger"], ["assert_handlers", "task_logger", "logging", "Handler"]]}, "name": "test_configure_trigger_log_handler_root_has_task_handler", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_configure_trigger_log_handler_root_has_task_handler", "ret_exprs": [], "ret_type": "", "variables": {"handlers": "", "root_logger": "", "task_logger": ""}, "variables_p": {"handlers": [["str", 0.5693410849852273], ["list", 0.20609520820211447], ["Dict[str, Union[Any, Any]]", 0.09511474281591441]], "root_logger": [["logging.Logger", 0.6153877253448151], ["logging.RootLogger", 0.09967739389931891], ["logging.FileHandler", 0.09900100795523517], ["logging.handlers.TimedRotatingFileHandler", 0.0933736399728201]], "task_logger": [["logging.Logger", 0.5164325537990094], ["dict", 0.11443612255439875], ["ValueError", 0.09335020107664052]]}}, {"docstring": {"func": "root: A handler that doesn't support trigger or inherit FileTaskHandler", "long_descr": "task: Supports triggerer\nResult:\n    * wrap and use the task logger handler\n    * other root handlers filter trigger logging", "ret": null}, "fn_lc": [[332, 0], [372, 62]], "fn_var_ln": {"handlers": [[366, 4], [366, 12]], "root_logger": [[355, 4], [355, 15]], "task_logger": [[351, 4], [351, 15]]}, "fn_var_occur": {"handlers": [["handlers", "assert_handlers", "root_logger", "logging", "Handler", "TriggererHandlerWrapper"], ["handlers", "filters", "__class__", "DropTriggerLogsFilter"], ["handlers", "filters"], ["handlers", "base_handler", "__class__", "S3TaskHandler"]], "root_logger": [["root_logger", "logging", "getLogger"], ["assert_handlers", "root_logger", "logging", "Handler"], ["handlers", "assert_handlers", "root_logger", "logging", "Handler", "TriggererHandlerWrapper"]], "task_logger": [["task_logger", "logging", "getLogger"], ["assert_handlers", "task_logger", "S3TaskHandler"]]}, "name": "test_configure_trigger_log_handler_root_not_file_task", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_configure_trigger_log_handler_root_not_file_task", "ret_exprs": [], "ret_type": "", "variables": {"handlers": "", "root_logger": "", "task_logger": ""}, "variables_p": {"handlers": [["logging.handlers.QueueListener", 0.0944274719155604], ["str", 0.08008802727931574], ["Optional[str]", 0.07756354248354239]], "root_logger": [["logging.Logger", 0.6268086936591647], ["logging.RootLogger", 0.27820534528143237]], "task_logger": [["dict", 0.2184208067893551], ["Dict[str, Any]", 0.08779005134394767]]}}, {"docstring": {"func": "Root logger handler: An older subclass of FileTaskHandler that doesn't support triggerer", "long_descr": "Task logger handler: Supports triggerer\nResult:\n    * wrap and use the task logger handler\n    * other root handlers filter trigger logging", "ret": null}, "fn_lc": [[396, 0], [445, 62]], "fn_var_ln": {"handlers": [[439, 4], [439, 12]], "root_logger": [[420, 4], [420, 15]]}, "fn_var_occur": {"handlers": [["handlers", "assert_handlers", "root_logger", "OldFileTaskHandler", "TriggererHandlerWrapper"], ["handlers", "filters", "__class__", "DropTriggerLogsFilter"], ["handlers", "filters"], ["handlers", "base_handler", "__class__", "S3TaskHandler"]], "root_logger": [["root_logger", "logging", "getLogger"], ["assert_handlers", "root_logger", "OldFileTaskHandler"], ["handlers", "assert_handlers", "root_logger", "OldFileTaskHandler", "TriggererHandlerWrapper"]]}, "name": "test_configure_trigger_log_handler_root_old_file_task", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_configure_trigger_log_handler_root_old_file_task", "ret_exprs": [], "ret_type": "", "variables": {"handlers": "", "root_logger": ""}, "variables_p": {"handlers": [["str", 0.3212303711188039], ["Dict[str, Union[Any, Any, str]]", 0.2899030150340805], ["List[str]", 0.19515142195988527], ["Mapping[str, Any]", 0.0972912027483424], ["Pattern[str]", 0.0964239891388878]], "root_logger": [["logging.Logger", 0.9081326321543475], ["logging.RootLogger", 0.09186736784565275]]}}], "imports": ["__future__", "annotations", "importlib", "logging", "warnings", "pytest", "airflow", "config_templates", "airflow_local_settings", "airflow", "jobs", "triggerer_job_runner", "airflow", "logging_config", "configure_logging", "airflow", "providers", "amazon", "aws", "log", "s3_task_handler", "S3TaskHandler", "airflow", "utils", "log", "file_task_handler", "FileTaskHandler", "airflow", "utils", "log", "logging_mixin", "RedirectStdHandler", "airflow", "utils", "log", "trigger_handler", "DropTriggerLogsFilter", "TriggererHandlerWrapper", "tests", "test_utils", "config", "conf_vars"], "mod_var_ln": {"fallback_task": [[214, 0], [214, 13]], "non_file_task_handler": [[137, 0], [137, 21]], "not_found_message": [[160, 0], [160, 17]], "not_supported_message": [[154, 0], [154, 21]], "old_file_task_handler": [[143, 0], [143, 21]], "root_has_task_handler": [[262, 0], [262, 21]], "root_logger_old_file_task": [[375, 0], [375, 25]], "root_not_file_task": [[314, 0], [314, 18]]}, "mod_var_occur": {"fallback_task": [], "non_file_task_handler": [], "not_found_message": [], "not_supported_message": [], "old_file_task_handler": [], "root_has_task_handler": [], "root_logger_old_file_task": [], "root_not_file_task": []}, "no_types_annot": {"D": 0, "I": 0, "U": 52}, "session_id": "goaenYBRWdeq5tpyMyOMqfeSyncpfJNqUONX10GUK68", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"fallback_task": "", "non_file_task_handler": "", "not_found_message": "", "not_supported_message": "", "old_file_task_handler": "", "root_has_task_handler": "", "root_logger_old_file_task": "", "root_not_file_task": ""}, "variables_p": {"fallback_task": [["bool", 0.5], ["int", 0.2], ["Iterable[str]", 0.1], ["float", 0.1], ["str", 0.1]], "non_file_task_handler": [["str", 0.30045702378748945], ["Dict[str, Any]", 0.14555715155989404], ["Tuple[str, str]", 0.09725045026449224], ["ClassVar[Tuple[str, ...]]", 0.09117429010693846], ["Dict[str, Union[Any, Any]]", 0.0911640323250188], ["List[str]", 0.09091113590043293]], "not_found_message": [["int", 0.6], ["bool", 0.19999999999999998]], "not_supported_message": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "old_file_task_handler": [["str", 0.4927180645355622], ["List[str]", 0.1282090997590561], ["Type[List[str]]", 0.11467443579796738], ["float", 0.08798449751244088]], "root_has_task_handler": [["str", 0.5280732971635632], ["int", 0.0830015339349286], ["Dict[str, Type[Any]]", 0.07666972506540884], ["Type[Dict[str, Any]]", 0.07261648052137379], ["List[str]", 0.07261648052137379]], "root_logger_old_file_task": [["str", 0.604720705190833], ["bytes", 0.09665523223645361]], "root_not_file_task": [["int", 0.29496598236721583], ["str", 0.19867690225347007], ["list", 0.19257816022749152], ["bytes", 0.11815142391134192], ["Optional[str]", 0.09933845112673503], ["List[str]", 0.09628908011374576]]}}}