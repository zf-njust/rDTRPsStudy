{"error": null, "response": {"classes": [{"cls_lc": [[67, 4], [69, 93]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[68, 8], [69, 93]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "__bool__", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "test_task_mapping_with_dag_and_list_of_pandas_dataframe.<locals>.UnrenderableClass.__bool__", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "UnrenderableClass", "q_name": "test_task_mapping_with_dag_and_list_of_pandas_dataframe.<locals>.UnrenderableClass", "variables": {}, "variables_p": {}}, {"cls_lc": [[71, 4], [79, 16]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[74, 8], [76, 26]], "fn_var_ln": {"arg": [[76, 12], [76, 20]]}, "fn_var_occur": {"arg": [["self", "arg", "arg"]]}, "name": "__init__", "params": {"arg": "", "kwargs": "", "self": ""}, "params_descr": {"arg": "", "kwargs": "", "self": ""}, "params_occur": {"arg": [["self", "arg", "arg"]], "kwargs": [["super", "__init__", "kwargs"]], "self": [["self", "arg", "arg"]]}, "params_p": {"arg": [["int", 0.3], ["bool", 0.09999999999999999], ["float", 0.09999999999999999]], "args": [], "kwargs": [], "self": []}, "q_name": "test_task_mapping_with_dag_and_list_of_pandas_dataframe.<locals>.CustomOperator.__init__", "ret_exprs": [], "ret_type": "", "variables": {"arg": ""}, "variables_p": {"arg": [["str", 0.24358300268548405], ["Dict[str, list]", 0.2310368088917456], ["Dict[str, Union[Any, Any, Any, Any]]", 0.1155184044458728], ["Dict[str, Union[Any, Any, Any]]", 0.1155184044458728], ["int", 0.07605468812236432]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[78, 8], [79, 16]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "execute", "params": {"context": "airflow.utils.context.Context", "self": ""}, "params_descr": {"context": "", "self": ""}, "params_occur": {"context": [], "self": []}, "params_p": {"args": [], "context": [["int", 0.19999999999999998], ["str", 0.19999999999999998], ["Iterable['Context']", 0.09999999999999999], ["dict", 0.09999999999999999], ["bool", 0.09999999999999999]], "kwargs": [], "self": []}, "q_name": "test_task_mapping_with_dag_and_list_of_pandas_dataframe.<locals>.CustomOperator.execute", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "CustomOperator", "q_name": "test_task_mapping_with_dag_and_list_of_pandas_dataframe.<locals>.CustomOperator", "variables": {}, "variables_p": {}}, {"cls_lc": [[158, 4], [167, 36]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[161, 8], [163, 44]], "fn_var_ln": {"return_value": [[163, 12], [163, 29]]}, "fn_var_occur": {"return_value": [["self", "return_value", "return_value"]]}, "name": "__init__", "params": {"kwargs": "", "return_value": "", "self": ""}, "params_descr": {"kwargs": "", "return_value": "", "self": ""}, "params_occur": {"kwargs": [["super", "__init__", "kwargs"]], "return_value": [["self", "return_value", "return_value"]], "self": [["self", "return_value", "return_value"]]}, "params_p": {"args": [], "kwargs": [], "return_value": [["int", 0.6693364633392653], ["bool", 0.24047738978441988], ["str", 0.09018614687631468]], "self": []}, "q_name": "test_map_xcom_arg_multiple_upstream_xcoms.<locals>.PushExtraXComOperator.__init__", "ret_exprs": [], "ret_type": "", "variables": {"return_value": ""}, "variables_p": {"return_value": [["int", 0.19452321760254207], ["str", 0.18928615221697093], ["datetime.datetime.datetime", 0.11587380465395383], ["Dict[str, int]", 0.10374455129180508], ["Dict[str, Union[Any, Any, Any]]", 0.10279530248830075], ["Dict[str, str]", 0.09978721212753934], ["List[str]", 0.08980532518357047]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[165, 8], [167, 36]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "execute", "params": {"context": "", "self": ""}, "params_descr": {"context": "", "self": ""}, "params_occur": {"context": [["context", "xcom_push", "key", "value"]], "self": [["self", "return_value"]]}, "params_p": {"args": [], "context": [["Type", 0.08618027785275015], ["bool", 0.08504355889841317]], "kwargs": [], "self": []}, "q_name": "test_map_xcom_arg_multiple_upstream_xcoms.<locals>.PushExtraXComOperator.execute", "ret_exprs": ["return self.return_value"], "ret_type": "", "ret_type_p": [["float", 0.5014281674021597], ["Optional[Callable[[str], bool]]", 0.1030664479276499], ["datetime.datetime", 0.09635527045384133]], "variables": {}, "variables_p": {}}], "name": "PushExtraXComOperator", "q_name": "test_map_xcom_arg_multiple_upstream_xcoms.<locals>.PushExtraXComOperator", "variables": {}, "variables_p": {}}, {"cls_lc": [[398, 4], [403, 30]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[399, 8], [403, 30]], "fn_var_ln": {"value": [[403, 12], [403, 22]]}, "fn_var_occur": {"value": [["isinstance", "value", "str"], ["self", "value", "value"]]}, "name": "__init__", "params": {"arg1": "", "kwargs": "", "self": "", "value": ""}, "params_descr": {"arg1": "", "kwargs": "", "self": "", "value": ""}, "params_occur": {"arg1": [["isinstance", "arg1", "str"], ["super", "__init__", "arg1", "arg1", "kwargs"]], "kwargs": [["super", "__init__", "arg1", "arg1", "kwargs"]], "self": [["self", "value", "value"]], "value": [["isinstance", "value", "str"], ["self", "value", "value"]]}, "params_p": {"arg1": [["int", 0.31562308061569777], ["List[int]", 0.19907736175907703], ["Sequence[int]", 0.1948195006977826], ["bytes", 0.10169638483509827], ["Any", 0.09560493630910205], ["Dict[int, str]", 0.0931787357832423]], "args": [], "kwargs": [], "self": [], "value": [["str", 0.26783593647474435], ["Union[str, int, float]", 0.1425707467921833], ["datetime.datetime", 0.1178987515804513], ["Collection[str]", 0.10611165851989258], ["int", 0.09566687349459337], ["float", 0.0847600324368856]]}, "q_name": "test_mapped_render_template_fields_validating_operator.<locals>.MyOperator.__init__", "ret_exprs": [], "ret_type": "", "variables": {"value": ""}, "variables_p": {"value": [["str", 0.9262022580350019]]}}], "name": "MyOperator", "q_name": "test_mapped_render_template_fields_validating_operator.<locals>.MyOperator", "variables": {}, "variables_p": {}}, {"cls_lc": [[593, 4], [598, 28]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[594, 8], [595, 49]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "__init__", "params": {"arg1": "", "kwargs": "", "self": ""}, "params_descr": {"arg1": "", "kwargs": "", "self": ""}, "params_occur": {"arg1": [["super", "__init__", "arg1", "arg1", "kwargs"]], "kwargs": [["super", "__init__", "arg1", "arg1", "kwargs"]], "self": []}, "params_p": {"arg1": [["str", 0.23303236670679578], ["bool", 0.1918038132654681]], "args": [], "kwargs": [], "self": []}, "q_name": "test_all_xcomargs_from_mapped_tasks_are_consumable.<locals>.PushXcomOperator.__init__", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[597, 8], [598, 28]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "execute", "params": {"context": "", "self": ""}, "params_descr": {"context": "", "self": ""}, "params_occur": {"context": [], "self": [["self", "arg1"]]}, "params_p": {"args": [], "context": [["int", 0.19999999999999998], ["str", 0.19999999999999998], ["Iterable['Context']", 0.09999999999999999], ["dict", 0.09999999999999999], ["bool", 0.09999999999999999]], "kwargs": [], "self": []}, "q_name": "test_all_xcomargs_from_mapped_tasks_are_consumable.<locals>.PushXcomOperator.execute", "ret_exprs": ["return self.arg1"], "ret_type": "", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "variables": {}, "variables_p": {}}], "name": "PushXcomOperator", "q_name": "test_all_xcomargs_from_mapped_tasks_are_consumable.<locals>.PushXcomOperator", "variables": {}, "variables_p": {}}, {"cls_lc": [[600, 4], [602, 54]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[601, 8], [602, 54]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "execute", "params": {"context": "", "self": ""}, "params_descr": {"context": "", "self": ""}, "params_occur": {"context": [], "self": [["i", "i", "self", "arg1"]]}, "params_p": {"args": [], "context": [["int", 0.19999999999999998], ["str", 0.19999999999999998], ["Iterable['Context']", 0.09999999999999999], ["dict", 0.09999999999999999], ["bool", 0.09999999999999999]], "kwargs": [], "self": []}, "q_name": "test_all_xcomargs_from_mapped_tasks_are_consumable.<locals>.ConsumeXcomOperator.execute", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "ConsumeXcomOperator", "q_name": "test_all_xcomargs_from_mapped_tasks_are_consumable.<locals>.ConsumeXcomOperator", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[44, 0], [60, 45]], "fn_var_ln": {"finish": [[49, 8], [49, 14]], "literal": [[47, 8], [47, 15]], "mapped": [[48, 8], [48, 14]], "task1": [[46, 8], [46, 13]]}, "fn_var_occur": {"finish": [["finish", "MockOperator", "task_id"], ["task1", "mapped", "finish"], ["finish", "upstream_list", "mapped"], ["mapped", "downstream_list", "finish"]], "literal": [["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "literal"]], "mapped": [["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "literal"], ["task1", "mapped", "finish"], ["task1", "downstream_list", "mapped"], ["mapped", "dag", "tasks"], ["mapped", "task_group", "dag", "task_group"], ["finish", "upstream_list", "mapped"], ["mapped", "downstream_list", "finish"]], "task1": [["task1", "BaseOperator", "task_id"], ["task1", "mapped", "finish"], ["task1", "downstream_list", "mapped"]]}, "name": "test_task_mapping_with_dag", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_task_mapping_with_dag", "ret_exprs": [], "ret_type": "", "variables": {"finish": "", "literal": "", "mapped": "", "task1": ""}, "variables_p": {"finish": [["str", 0.22039376807412453], ["float", 0.09507797509738733], ["datetime.date", 0.09257048513152978], ["Type[manager.projects.models.snapshots.Snapshot]", 0.0908693339875276]], "literal": [["list", 0.8887946392155774], ["str", 0.1112053607844224]], "mapped": [["str", 0.17989543157824966], ["track.models.Category", 0.10283261652072699], ["Dict[str, Callable]", 0.10202589690893347], ["decksite.data.models.person.Person", 0.09119535006994045]], "task1": [["list", 0.8242946814930485]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[64, 0], [92, 40]], "fn_var_ln": {"mapped": [[84, 8], [84, 14]], "task1": [[82, 8], [82, 13]], "template_fields": [[72, 8], [72, 23]], "unrenderable_values": [[83, 8], [83, 27]]}, "fn_var_occur": {"mapped": [["mapped", "CustomOperator", "partial", "task_id", "expand", "arg", "unrenderable_values"], ["task1", "mapped"]], "task1": [["task1", "CustomOperator", "task_id", "arg", "None"], ["task1", "mapped"]], "template_fields": [], "unrenderable_values": [["unrenderable_values", "UnrenderableClass", "UnrenderableClass"], ["mapped", "CustomOperator", "partial", "task_id", "expand", "arg", "unrenderable_values"]]}, "name": "test_task_mapping_with_dag_and_list_of_pandas_dataframe", "params": {"caplog": "", "mock_render_template": ""}, "params_descr": {"caplog": "", "mock_render_template": ""}, "params_occur": {"caplog": [["caplog", "text", "count"], ["caplog", "text"]], "mock_render_template": [["mock_render_template", "assert_called"]]}, "params_p": {"args": [], "caplog": [["str", 0.16631386295879985]], "kwargs": [], "mock_render_template": [["mock.Mock", 0.0967390473906028]]}, "q_name": "test_task_mapping_with_dag_and_list_of_pandas_dataframe", "ret_exprs": [], "ret_type": "", "variables": {"mapped": "", "task1": "", "template_fields": "", "unrenderable_values": ""}, "variables_p": {"mapped": [["str", 0.18995493554851112], ["int", 0.1764677659020359], ["lists.models.Todo", 0.1229958728679957], ["raiden.utils.Any", 0.09287901081205144], ["datetime.timedelta", 0.08619615284105706]], "task1": [["list", 0.21322530331302736], ["Dict[str, Any]", 0.1793041896246661], ["set", 0.10572313976800965], ["Dict[str, int]", 0.08800417263534653], ["Dict[str, str]", 0.08765872909438062], ["Optional[\"Lecture\"]", 0.08262403481477569]], "template_fields": [["Tuple[str, str, str, str, str, str]", 0.2857142856828355], ["Tuple[str, str, str]", 0.2857142856828355], ["Tuple[str, str, str, str]", 0.2857142856828355], ["Tuple[str, str, str, str, str]", 0.14285714284141776], ["Dict[str, str]", 7.42502725571635e-11]], "unrenderable_values": [["int", 0.2863046153352125]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[95, 0], [108, 30]], "fn_var_ln": {"literal": [[98, 4], [98, 11]], "mapped": [[99, 4], [99, 10]], "task1": [[97, 8], [97, 13]]}, "fn_var_occur": {"literal": [["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "literal"]], "mapped": [["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "literal"], ["task1", "mapped"], ["isinstance", "mapped", "MappedOperator"], ["mapped", "dag", "tasks"], ["task1", "downstream_list", "mapped"], ["mapped", "dag", "tasks"]], "task1": [["task1", "BaseOperator", "task_id"], ["task1", "mapped"], ["task1", "downstream_list", "mapped"]]}, "name": "test_task_mapping_without_dag_context", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_task_mapping_without_dag_context", "ret_exprs": [], "ret_type": "", "variables": {"literal": "", "mapped": "", "task1": ""}, "variables_p": {"literal": [["list", 0.8887946392155774], ["str", 0.1112053607844224]], "mapped": [["str", 0.15479347441052574], ["datetime.datetime.datetime", 0.11866189313544437], ["list", 0.11348463673105144], ["Dict[str, Any]", 0.1050501502159647], ["Dict[str, Callable]", 0.09142614102295898], ["track.models.Category", 0.07888643085125091], ["abilian.core.models.subjects.User", 0.07878953937489874]], "task1": [["Dict[str, int]", 0.18660250044807308], ["list", 0.15236421402257364], ["Dict[str, Dict[str, str]]", 0.09763328438066034], ["Dict[str, Any]", 0.07222959142222418]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[111, 0], [121, 77]], "fn_var_ln": {"default_args": [[112, 4], [112, 16]], "literal": [[115, 8], [115, 15]], "mapped": [[116, 8], [116, 14]], "task1": [[114, 8], [114, 13]]}, "fn_var_occur": {"default_args": [["default_args", "DEFAULT_DATE", "now"], ["DAG", "start_date", "DEFAULT_DATE", "default_args", "default_args"], ["mapped", "start_date", "pendulum", "instance", "default_args"]], "literal": [["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "literal"]], "mapped": [["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "literal"], ["task1", "mapped"], ["mapped", "partial_kwargs"], ["mapped", "start_date", "pendulum", "instance", "default_args"]], "task1": [["task1", "BaseOperator", "task_id"], ["task1", "mapped"]]}, "name": "test_task_mapping_default_args", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_task_mapping_default_args", "ret_exprs": [], "ret_type": "", "variables": {"default_args": "", "literal": "", "mapped": "", "task1": ""}, "variables_p": {"default_args": [["str", 0.4025648156692482], ["datetime.timedelta", 0.39827682091791505], ["datetime.datetime", 0.10695885684085332]], "literal": [["list", 0.8887946392155774], ["str", 0.1112053607844224]], "mapped": [["str", 0.17864421095669603], ["Dict[str, Callable]", 0.10119486467242875], ["byceps.services.user.transfer.models.User", 0.09129662294397158], ["raiden.utils.Any", 0.08935148015968335], ["track.models.Category", 0.08726779598992367], ["List[Dict[str, Any]]", 0.08662794843178251], ["rotkehlchen.tests.utils.rotkehlchen.BalancesTestSetup", 0.08442525632340134]], "task1": [["str", 0.40716070926070846], ["Dict[str, str]", 0.10986167920637634], ["List[str]", 0.09939164563200067], ["list", 0.09704053628540599], ["Dict[str, List[Any]]", 0.09630471829685175], ["Dict[str, Any]", 0.09105428344145348]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[124, 0], [135, 36]], "fn_var_ln": {"default_args": [[125, 4], [125, 16]], "literal": [[127, 8], [127, 15]], "mapped": [[128, 8], [128, 14]]}, "fn_var_occur": {"default_args": [["default_args", "DEFAULT_DATE", "now"], ["DAG", "start_date", "DEFAULT_DATE", "default_args", "default_args"], ["mapped", "start_date", "pendulum", "instance", "default_args"]], "literal": [["mapped", "MockOperator", "partial", "task_id", "retries", "expand", "arg2", "literal"]], "mapped": [["mapped", "MockOperator", "partial", "task_id", "retries", "expand", "arg2", "literal"], ["mapped", "partial_kwargs"], ["mapped", "start_date", "pendulum", "instance", "default_args"], ["mapped", "owner"]]}, "name": "test_task_mapping_override_default_args", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_task_mapping_override_default_args", "ret_exprs": [], "ret_type": "", "variables": {"default_args": "", "literal": "", "mapped": ""}, "variables_p": {"default_args": [["str", 0.4025648156692482], ["datetime.timedelta", 0.39827682091791505], ["datetime.datetime", 0.10695885684085332]], "literal": [["list", 1.0]], "mapped": [["str", 0.29559842353223964], ["int", 0.18993991822256026], ["list", 0.09790653444262501], ["set", 0.09611335771965927], ["datetime.date", 0.09287919998846116], ["List[Dict[str, Any]]", 0.09080866854777667]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[138, 0], [140, 73]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_map_unknown_arg_raises", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_map_unknown_arg_raises", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Test that dependencies are correct when mapping with an XComArg", "long_descr": null, "ret": null}, "fn_lc": [[143, 0], [152, 44]], "fn_var_ln": {"finish": [[148, 8], [148, 14]], "mapped": [[147, 8], [147, 14]], "task1": [[146, 8], [146, 13]]}, "fn_var_occur": {"finish": [["finish", "MockOperator", "task_id"], ["mapped", "finish"]], "mapped": [["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "task1", "output"], ["mapped", "finish"], ["task1", "downstream_list", "mapped"]], "task1": [["task1", "BaseOperator", "task_id"], ["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "task1", "output"], ["task1", "downstream_list", "mapped"]]}, "name": "test_map_xcom_arg", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_map_xcom_arg", "ret_exprs": [], "ret_type": "", "variables": {"finish": "", "mapped": "", "task1": ""}, "variables_p": {"finish": [["str", 0.7209224787333318], ["Tuple[Any, Any]", 0.10508648652352684], ["Dict[int, str]", 0.08698053231629138]], "mapped": [["datetime.datetime.datetime", 0.12551134824764076], ["Dict[str, Any]", 0.09760688551353193], ["track.models.Category", 0.09442279072438448], ["Dict[str, Callable]", 0.09221702776360495], ["List[Tuple[Any, str]]", 0.08869526115913343], ["list", 0.08853888389609271], ["str", 0.07826634289116949]], "task1": [["str", 0.5332995772000901], ["list", 0.10712497331569623], ["Dict[str, Union[datetime.datetime, datetime.timedelta, int, str]]", 0.09497302617305874], ["Dict[str, Union[int, str]]", 0.09094335564604968], ["List[Dict[str, str]]", 0.08695836363484342]]}}, {"docstring": {"func": "Test that the correct number of downstream tasks are generated when mapping with an XComArg", "long_descr": null, "ret": null}, "fn_lc": [[155, 0], [189, 59]], "fn_var_ln": {"_": [[184, 11], [184, 12]], "dr": [[175, 4], [175, 6]], "task1": [[171, 8], [171, 13]], "task2": [[172, 8], [172, 13]], "task3": [[173, 8], [173, 13]], "ti_1": [[176, 4], [176, 8]], "ti_2s": [[179, 4], [179, 9]], "ti_3s": [[184, 4], [184, 9]], "upstream_return": [[170, 8], [170, 23]]}, "fn_var_occur": {"_": [["ti_2s", "_", "task2", "expand_mapped_task", "dr", "run_id", "session", "session"], ["ti_3s", "_", "task3", "expand_mapped_task", "dr", "run_id", "session", "session"]], "dr": [["dr", "dag_maker", "create_dagrun"], ["ti_1", "dr", "get_task_instance", "session"], ["ti_2s", "_", "task2", "expand_mapped_task", "dr", "run_id", "session", "session"], ["ti_3s", "_", "task3", "expand_mapped_task", "dr", "run_id", "session", "session"]], "task1": [["task1", "PushExtraXComOperator", "return_value", "upstream_return", "task_id"], ["task2", "PushExtraXComOperator", "partial", "task_id", "expand", "return_value", "task1", "output"]], "task2": [["task2", "PushExtraXComOperator", "partial", "task_id", "expand", "return_value", "task1", "output"], ["task3", "PushExtraXComOperator", "partial", "task_id", "expand", "return_value", "task2", "output"], ["ti_2s", "_", "task2", "expand_mapped_task", "dr", "run_id", "session", "session"]], "task3": [["task3", "PushExtraXComOperator", "partial", "task_id", "expand", "return_value", "task2", "output"], ["ti_3s", "_", "task3", "expand_mapped_task", "dr", "run_id", "session", "session"]], "ti_1": [["ti_1", "dr", "get_task_instance", "session"], ["ti_1", "run"]], "ti_2s": [["ti_2s", "_", "task2", "expand_mapped_task", "dr", "run_id", "session", "session"], ["len", "ti_3s", "len", "ti_2s", "len", "upstream_return"]], "ti_3s": [["ti_3s", "_", "task3", "expand_mapped_task", "dr", "run_id", "session", "session"], ["len", "ti_3s", "len", "ti_2s", "len", "upstream_return"]], "upstream_return": [["task1", "PushExtraXComOperator", "return_value", "upstream_return", "task_id"], ["len", "ti_3s", "len", "ti_2s", "len", "upstream_return"]]}, "name": "test_map_xcom_arg_multiple_upstream_xcoms", "params": {"dag_maker": "", "session": ""}, "params_descr": {"dag_maker": "", "session": ""}, "params_occur": {"dag_maker": [["dag_maker", "session", "session", "start_date", "DEFAULT_DATE", "dag"], ["dr", "dag_maker", "create_dagrun"]], "session": [["dag_maker", "session", "session", "start_date", "DEFAULT_DATE", "dag"], ["ti_1", "dr", "get_task_instance", "session"], ["ti_2s", "_", "task2", "expand_mapped_task", "dr", "run_id", "session", "session"], ["ti_3s", "_", "task3", "expand_mapped_task", "dr", "run_id", "session", "session"]]}, "params_p": {"args": [], "dag_maker": [["zerver.models.UserProfile", 0.20532747552488712], ["authentication.session.models.current_user.CurrentUser", 0.09357473409819123]], "kwargs": [], "session": [["authentication.session.models.current_user.CurrentUser", 0.0951689178421621]]}, "q_name": "test_map_xcom_arg_multiple_upstream_xcoms", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "dr": "", "task1": "", "task2": "", "task3": "", "ti_1": "", "ti_2s": "", "ti_3s": "", "upstream_return": ""}, "variables_p": {"_": [["tagstore.models.entity.EntityId", 0.30893034493475374], ["Dict[str, str]", 0.29504714849842945], ["dict", 0.15909328170337017], ["Optional[\"Lecture\"]", 0.09615116958500479], ["str", 0.07719505015964415], ["List[str]", 0.06358300511879778]], "dr": [["str", 0.2787677364272171], ["List[str]", 0.10051197576835255], ["int", 0.09829980803197372], ["float", 0.09639909048145727]], "task1": [["list", 0.17065898748445626], ["dict", 0.09365498057278965], ["str", 0.09324976537595502], ["Dict[str, str]", 0.08915420045442729]], "task2": [["str", 0.2879044631279202], ["Dict[str, Union[Any, bool, str]]", 0.20289047448531788], ["bytes", 0.10025567233364728], ["Dict[str, Any]", 0.09001008669829803]], "task3": [["Dict[str, Union[Any, bool, str]]", 0.22983711217525574], ["List[List[int]]", 0.19793124001053636], ["str", 0.19357388827292066], ["Dict[str, str]", 0.09618333073876147], ["List[str]", 0.09219060781052846], ["int", 0.08940956107415343]], "ti_1": [["List[Tuple[str, int]]", 0.19026445920305687], ["str", 0.17881110480045348], ["Optional[str]", 0.11826964448054293]], "ti_2s": [["list", 0.37314153770369374], ["Dict[str, List[str]]", 0.1612758740151903], ["List[Dict[str, Any]]", 0.09602120001802882], ["List[int]", 0.08625404846477665], ["Dict[str, List[Any]]", 0.08224081735712756]], "ti_3s": [["list", 0.37314153770369374], ["Dict[str, List[str]]", 0.1612758740151903], ["List[Dict[str, Any]]", 0.09602120001802882], ["List[int]", 0.08625404846477665], ["Dict[str, List[Any]]", 0.08224081735712756]], "upstream_return": [["list", 0.3092246765466209], ["str", 0.20843543993942812], ["int", 0.1958990560688011], ["Pattern[str]", 0.09983414727276889], ["dict", 0.09703489153051433]]}}, {"docstring": {"func": "`.partial` on an instance should fail -- it's only designed to be called on classes", "long_descr": null, "ret": null}, "fn_lc": [[192, 0], [195, 43]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_partial_on_instance", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_partial_on_instance", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[198, 0], [202, 62]], "fn_var_ln": {"op": [[200, 4], [200, 6]]}, "fn_var_occur": {"op": [["op", "MockOperator", "partial", "task_id", "arg1", "trigger_rule", "TriggerRule", "ONE_FAILED"], ["op", "kwargs"], ["op", "kwargs", "TriggerRule", "ONE_FAILED"]]}, "name": "test_partial_on_class", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_partial_on_class", "ret_exprs": [], "ret_type": "None", "variables": {"op": ""}, "variables_p": {"op": [["list", 0.3591025061648678], ["int", 0.18123917685995466], ["dict", 0.15709808350749763]]}}, {"docstring": {"func": "Test that when we pass invalid args to partial().", "long_descr": "I.e. if an arg is not known on the class or any of its parent classes we error at parse time", "ret": null}, "fn_lc": [[205, 0], [211, 59]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_partial_on_class_invalid_ctor_args", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_partial_on_class_invalid_ctor_args", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[236, 0], [278, 30]], "fn_var_ln": {"dr": [[242, 4], [242, 6]], "indices": [[271, 4], [271, 11]], "literal": [[237, 4], [237, 11]], "mapped": [[240, 8], [240, 14]], "task1": [[239, 8], [239, 13]], "ti": [[265, 8], [265, 10]]}, "fn_var_occur": {"dr": [["dr", "dag_maker", "create_dagrun"], ["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "len", "literal", "keys", "None"], ["session", "query", "TaskInstance", "filter", "TaskInstance", "dag_id", "mapped", "dag_id", "TaskInstance", "task_id", "mapped", "task_id", "TaskInstance", "run_id", "dr", "run_id", "delete"], ["ti", "TaskInstance", "mapped", "run_id", "dr", "run_id", "map_index", "index", "state", "TaskInstanceState", "SUCCESS"], ["mapped", "expand_mapped_task", "dr", "run_id", "session", "session"], ["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"]], "indices": [["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"], ["indices", "expected"]], "literal": [["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "len", "literal", "keys", "None"]], "mapped": [["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "task1", "output"], ["session", "query", "TaskInstance", "filter", "TaskInstance", "dag_id", "mapped", "dag_id", "TaskInstance", "task_id", "mapped", "task_id", "TaskInstance", "run_id", "dr", "run_id", "delete"], ["ti", "TaskInstance", "mapped", "run_id", "dr", "run_id", "map_index", "index", "state", "TaskInstanceState", "SUCCESS"], ["mapped", "expand_mapped_task", "dr", "run_id", "session", "session"], ["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"]], "task1": [["task1", "BaseOperator", "task_id"], ["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "task1", "output"], ["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "len", "literal", "keys", "None"]], "ti": [["ti", "TaskInstance", "mapped", "run_id", "dr", "run_id", "map_index", "index", "state", "TaskInstanceState", "SUCCESS"], ["session", "add", "ti"]]}, "name": "test_expand_mapped_task_instance", "params": {"dag_maker": "", "expected": "", "num_existing_tis": "", "session": ""}, "params_descr": {"dag_maker": "", "expected": "", "num_existing_tis": "", "session": ""}, "params_occur": {"dag_maker": [["dag_maker", "session", "session"], ["dr", "dag_maker", "create_dagrun"]], "expected": [["indices", "expected"]], "num_existing_tis": [["range", "num_existing_tis"]], "session": [["dag_maker", "session", "session"], ["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "len", "literal", "keys", "None"], ["session", "query", "TaskInstance", "filter", "TaskInstance", "dag_id", "mapped", "dag_id", "TaskInstance", "task_id", "mapped", "task_id", "TaskInstance", "run_id", "dr", "run_id", "delete"], ["session", "add", "ti"], ["session", "flush"], ["mapped", "expand_mapped_task", "dr", "run_id", "session", "session"], ["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"]]}, "params_p": {"args": [], "dag_maker": [["str", 0.29455820917960146], ["zerver.models.UserProfile", 0.09824878976002425], ["Mapping[str, Any]", 0.09824878976002425]], "expected": [["List[int]", 0.1721862363768223], ["bool", 0.10740626516841624], ["raiden.tests.integration.fixtures.raiden_network.RestartNode", 0.08940377773770318], ["str", 0.07225250314866004], ["boggle.models.board.Board", 0.07225250314866004], ["int", 0.06050404442698113]], "kwargs": [], "num_existing_tis": [["int", 0.4632931443354943], ["float", 0.18504246316740325], ["Optional[Set[str]]", 0.1284416065310519], ["List[Dict[str, str]]", 0.1284416065310519]], "session": [["app.models.User", 0.11434215220156663], ["zerver.models.UserProfile", 0.10257199988900738], ["int", 0.10034093248984216], ["bytes", 0.10034093248984216], ["metrics_backend.utils.ChannelIdentifier", 0.09661033149259378]]}, "q_name": "test_expand_mapped_task_instance", "ret_exprs": [], "ret_type": "", "variables": {"dr": "", "indices": "", "literal": "", "mapped": "", "task1": "", "ti": ""}, "variables_p": {"dr": [["int", 0.20579048640296238], ["list", 0.09609866010508203], ["Tuple[int]", 0.09498705557196746], ["Dict[str, Union[Any, Any, Any]]", 0.09075776808372005], ["float", 0.09010360251624051]], "indices": [["int", 0.6786974050896141], ["str", 0.16748004425919583], ["Dict[int, str]", 0.09435880042391971], ["Dict[str, Any]", 0.05946375022727024]], "literal": [["list", 0.4184065358303477], ["int", 0.11221137803246488], ["Counter[Any]", 0.10474999161621167], ["Iterator[str]", 0.0898712173654558], ["List[int]", 0.08839902418540578]], "mapped": [["list", 0.19914662456581722], ["str", 0.19793898630420054], ["raiden.utils.Any", 0.11411609135594274], ["int", 0.0930392455248599]], "task1": [["str", 0.6359926477889855], ["list", 0.11332171550942524], ["Dict[str, Union[datetime.datetime, datetime.timedelta, int, str]]", 0.09626226255297622], ["List[Dict[str, str]]", 0.07733935268646469], ["Dict[str, Union[int, str]]", 0.07708402146214835]], "ti": [["dict", 0.32616949692523], ["str", 0.16652694043515376], ["int", 0.08333771885356285]]}}, {"docstring": {"func": "This test tries to recreate a faulty state in the database and checks if we can recover from it.", "long_descr": "The state that happens is that there exists mapped task instances and the unmapped task instance.\nSo we have instances with map_index [-1, 0, 1]. The -1 task instances should be removed in this case.", "ret": null}, "fn_lc": [[281, 0], [329, 54]], "fn_var_ln": {"dr": [[292, 4], [292, 6]], "indices": [[322, 4], [322, 11]], "literal": [[287, 4], [287, 11]], "mapped": [[290, 8], [290, 14]], "task1": [[289, 8], [289, 13]], "ti": [[307, 8], [307, 10]]}, "fn_var_occur": {"dr": [["dr", "dag_maker", "create_dagrun"], ["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "len", "literal", "keys", "None"], ["ti", "TaskInstance", "mapped", "run_id", "dr", "run_id", "map_index", "index", "state", "TaskInstanceState", "SUCCESS"], ["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"], ["mapped", "expand_mapped_task", "dr", "run_id", "session", "session"], ["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"]], "indices": [["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"], ["indices", "None"], ["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"]], "literal": [["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "len", "literal", "keys", "None"]], "mapped": [["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "task1", "output"], ["ti", "TaskInstance", "mapped", "run_id", "dr", "run_id", "map_index", "index", "state", "TaskInstanceState", "SUCCESS"], ["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"], ["mapped", "expand_mapped_task", "dr", "run_id", "session", "session"], ["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"]], "task1": [["task1", "BaseOperator", "task_id"], ["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "task1", "output"], ["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "len", "literal", "keys", "None"]], "ti": [["ti", "TaskInstance", "mapped", "run_id", "dr", "run_id", "map_index", "index", "state", "TaskInstanceState", "SUCCESS"], ["session", "add", "ti"]]}, "name": "test_expand_mapped_task_failed_state_in_db", "params": {"dag_maker": "", "session": ""}, "params_descr": {"dag_maker": "", "session": ""}, "params_occur": {"dag_maker": [["dag_maker", "session", "session"], ["dr", "dag_maker", "create_dagrun"]], "session": [["dag_maker", "session", "session"], ["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "len", "literal", "keys", "None"], ["session", "add", "ti"], ["session", "flush"], ["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"], ["mapped", "expand_mapped_task", "dr", "run_id", "session", "session"], ["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"]]}, "params_p": {"args": [], "dag_maker": [["bool", 0.20169700217777645], ["str", 0.1843422622530433], ["dict", 0.09320675163003478], ["zerver.models.UserProfile", 0.09113551062300852]], "kwargs": [], "session": [["zerver.models.UserProfile", 0.18741159015043962], ["app.models.User", 0.10059144667957459]]}, "q_name": "test_expand_mapped_task_failed_state_in_db", "ret_exprs": [], "ret_type": "", "variables": {"dr": "", "indices": "", "literal": "", "mapped": "", "task1": "", "ti": ""}, "variables_p": {"dr": [["int", 0.20579048640296238], ["list", 0.09609866010508203], ["Tuple[int]", 0.09498705557196746], ["Dict[str, Union[Any, Any, Any]]", 0.09075776808372005], ["float", 0.09010360251624051]], "indices": [["int", 0.6786974050896141], ["str", 0.16748004425919583], ["Dict[int, str]", 0.09435880042391971], ["Dict[str, Any]", 0.05946375022727024]], "literal": [["list", 0.4184065358303477], ["int", 0.11221137803246488], ["Counter[Any]", 0.10474999161621167], ["Iterator[str]", 0.0898712173654558], ["List[int]", 0.08839902418540578]], "mapped": [["Dict[str, Callable]", 0.11703248283245972], ["list", 0.10733862024062027], ["int", 0.09466775062504094], ["str", 0.09241617850129266], ["decksite.data.models.person.Person", 0.09006502270832528], ["track.models.Category", 0.08973025311772088]], "task1": [["str", 0.6359926477889855], ["list", 0.11332171550942524], ["Dict[str, Union[datetime.datetime, datetime.timedelta, int, str]]", 0.09626226255297622], ["List[Dict[str, str]]", 0.07733935268646469], ["Dict[str, Union[int, str]]", 0.07708402146214835]], "ti": [["dict", 0.32616949692523], ["str", 0.16652694043515376], ["int", 0.08333771885356285]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[332, 0], [348, 55]], "fn_var_ln": {"dr": [[337, 4], [337, 6]], "indices": [[341, 4], [341, 11]], "mapped": [[335, 8], [335, 14]], "task1": [[334, 8], [334, 13]]}, "fn_var_occur": {"dr": [["dr", "dag_maker", "create_dagrun"], ["expand_mapped_task", "mapped", "dr", "run_id", "task1", "task_id", "length", "session", "session"], ["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"]], "indices": [["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"], ["indices", "TaskInstanceState", "SKIPPED"]], "mapped": [["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "task1", "output"], ["expand_mapped_task", "mapped", "dr", "run_id", "task1", "task_id", "length", "session", "session"], ["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"]], "task1": [["task1", "BaseOperator", "task_id"], ["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "task1", "output"], ["expand_mapped_task", "mapped", "dr", "run_id", "task1", "task_id", "length", "session", "session"]]}, "name": "test_expand_mapped_task_instance_skipped_on_zero", "params": {"dag_maker": "", "session": ""}, "params_descr": {"dag_maker": "", "session": ""}, "params_occur": {"dag_maker": [["dag_maker", "session", "session"], ["dr", "dag_maker", "create_dagrun"]], "session": [["dag_maker", "session", "session"], ["expand_mapped_task", "mapped", "dr", "run_id", "task1", "task_id", "length", "session", "session"], ["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"]]}, "params_p": {"args": [], "dag_maker": [["str", 0.17917436791431712], ["Optional[str]", 0.11337709744613371], ["dict", 0.0958590885731947]], "kwargs": [], "session": []}, "q_name": "test_expand_mapped_task_instance_skipped_on_zero", "ret_exprs": [], "ret_type": "", "variables": {"dr": "", "indices": "", "mapped": "", "task1": ""}, "variables_p": {"dr": [["str", 0.6054887847142217], ["Dict[int, Dict[str, Any]]", 0.18668393310528503]], "indices": [["int", 0.6786974050896141], ["str", 0.16748004425919583], ["Dict[int, str]", 0.09435880042391971], ["Dict[str, Any]", 0.05946375022727024]], "mapped": [["list", 0.1219738537928986], ["datetime.datetime.datetime", 0.10972680350533395], ["Dict[str, Callable]", 0.10099208118607962], ["Dict[str, Any]", 0.09266719482247238], ["decksite.data.models.person.Person", 0.0832038903374713], ["str", 0.07861803262180572]], "task1": [["str", 0.5499767506254285], ["list", 0.10908904679504744], ["Dict[str, Union[datetime.datetime, datetime.timedelta, int, str]]", 0.0937600588351083], ["Dict[str, Union[int, str]]", 0.0869845676615085], ["List[Dict[str, str]]", 0.07961433434070467]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[351, 0], [357, 76]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_mapped_task_applies_default_args_classic", "params": {"dag_maker": ""}, "params_descr": {"dag_maker": ""}, "params_occur": {"dag_maker": [["dag_maker", "default_args", "timedelta", "minutes", "dag"]]}, "params_p": {"args": [], "dag_maker": [["str", 0.29831169871171703], ["int", 0.14915584935585852], ["raiden.utils.List[raiden.raiden_service.RaidenService]", 0.0720772086586388]], "kwargs": []}, "q_name": "test_mapped_task_applies_default_args_classic", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[364, 8], [365, 16]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "simple", "params": {"arg": ""}, "params_descr": {"arg": ""}, "params_occur": {"arg": []}, "params_p": {"arg": [["int", 0.19999999999999998], ["str", 0.19999999999999998], ["Iterable['Context']", 0.09999999999999999], ["dict", 0.09999999999999999], ["bool", 0.09999999999999999]], "args": [], "kwargs": []}, "q_name": "test_mapped_task_applies_default_args_taskflow.<locals>.simple", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[368, 8], [369, 16]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "mapped", "params": {"arg": ""}, "params_descr": {"arg": ""}, "params_occur": {"arg": []}, "params_p": {"arg": [["int", 0.19999999999999998], ["str", 0.19999999999999998], ["Iterable['Context']", 0.09999999999999999], ["dict", 0.09999999999999999], ["bool", 0.09999999999999999]], "args": [], "kwargs": []}, "q_name": "test_mapped_task_applies_default_args_taskflow.<locals>.mapped", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[360, 0], [375, 76]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_mapped_task_applies_default_args_taskflow", "params": {"dag_maker": ""}, "params_descr": {"dag_maker": ""}, "params_occur": {"dag_maker": []}, "params_p": {"args": [], "dag_maker": [["tests.async_mock.Mock", 0.17948605922198138], ["bool", 0.0899556545563745]], "kwargs": []}, "q_name": "test_mapped_task_applies_default_args_taskflow", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[387, 0], [394, 69]], "fn_var_ln": {"t": [[391, 4], [391, 5]]}, "fn_var_occur": {"t": [["t", "dag", "get_task"], ["isinstance", "t", "MappedOperator"], ["t", "params", "expected_partial_params"], ["t", "expand_input", "value"]]}, "name": "test_mapped_expand_against_params", "params": {"dag_maker": "", "dag_params": "", "expected_partial_params": "", "task_params": ""}, "params_descr": {"dag_maker": "", "dag_params": "", "expected_partial_params": "", "task_params": ""}, "params_occur": {"dag_maker": [["dag_maker", "params", "dag_params", "dag"]], "dag_params": [["dag_maker", "params", "dag_params", "dag"]], "expected_partial_params": [["t", "params", "expected_partial_params"]], "task_params": [["MockOperator", "partial", "task_id", "params", "task_params", "expand", "params"]]}, "params_p": {"args": [], "dag_maker": [["salon.models.Stylist", 0.09706577566972836]], "dag_params": [["salon.models.Stylist", 0.09706577566972836]], "expected_partial_params": [["tests.basilisp.helpers.CompileFn", 0.20983343191772968], ["Dict[str, Any]", 0.09258584460895332], ["str", 0.08858846720379472]], "kwargs": [], "task_params": [["tests.test_util.aiohttp.AiohttpClientMocker", 0.27417304190391956], ["aiohttp.test_utils.TestServer", 0.09571405777990213], ["tests.async_mock.MagicMock", 0.091649656836027]]}, "q_name": "test_mapped_expand_against_params", "ret_exprs": [], "ret_type": "", "variables": {"t": ""}, "variables_p": {"t": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[397, 0], [436, 37]], "fn_var_ln": {"dr": [[410, 4], [410, 6]], "map_index": [[428, 4], [428, 23]], "mapped": [[408, 8], [408, 14]], "mapped_ti": [[427, 4], [427, 13]], "output1": [[407, 8], [407, 15]], "task1": [[406, 8], [406, 13]], "ti": [[411, 4], [411, 6]]}, "fn_var_occur": {"dr": [["dr", "dag_maker", "create_dagrun"], ["ti", "airflow", "models", "taskinstance", "TaskInstance", "dr", "get_task_instance", "task1", "task_id", "session", "session"], ["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "keys", "None"], ["mapped_ti", "airflow", "models", "taskinstance", "TaskInstance", "dr", "get_task_instance", "mapped", "task_id", "session", "session"]], "map_index": [["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "keys", "None"], ["mapped_ti", "map_index"]], "mapped": [["mapped", "MyOperator", "partial", "task_id", "arg2", "expand", "value", "output1", "arg1", "output1"], ["mapped_ti", "airflow", "models", "taskinstance", "TaskInstance", "dr", "get_task_instance", "mapped", "task_id", "session", "session"], ["mapped", "render_template_fields", "context", "mapped_ti", "get_template_context", "session", "session"]], "mapped_ti": [["mapped_ti", "airflow", "models", "taskinstance", "TaskInstance", "dr", "get_task_instance", "mapped", "task_id", "session", "session"], ["mapped_ti", "map_index"], ["isinstance", "mapped_ti", "task", "MappedOperator"], ["mapped", "render_template_fields", "context", "mapped_ti", "get_template_context", "session", "session"], ["isinstance", "mapped_ti", "task", "MyOperator"], ["mapped_ti", "task", "value"], ["mapped_ti", "task", "arg1"], ["mapped_ti", "task", "arg2"]], "output1": [["output1", "task1", "output"], ["mapped", "MyOperator", "partial", "task_id", "arg2", "expand", "value", "output1", "arg1", "output1"]], "task1": [["task1", "BaseOperator", "task_id"], ["output1", "task1", "output"], ["ti", "airflow", "models", "taskinstance", "TaskInstance", "dr", "get_task_instance", "task1", "task_id", "session", "session"], ["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "keys", "None"]], "ti": [["ti", "airflow", "models", "taskinstance", "TaskInstance", "dr", "get_task_instance", "task1", "task_id", "session", "session"], ["ti", "xcom_push", "key", "XCOM_RETURN_KEY", "value", "session", "session"]]}, "name": "test_mapped_render_template_fields_validating_operator", "params": {"dag_maker": "", "session": ""}, "params_descr": {"dag_maker": "", "session": ""}, "params_occur": {"dag_maker": [["dag_maker", "session", "session"], ["dr", "dag_maker", "create_dagrun"]], "session": [["dag_maker", "session", "session"], ["ti", "airflow", "models", "taskinstance", "TaskInstance", "dr", "get_task_instance", "task1", "task_id", "session", "session"], ["ti", "xcom_push", "key", "XCOM_RETURN_KEY", "value", "session", "session"], ["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "keys", "None"], ["session", "flush"], ["mapped_ti", "airflow", "models", "taskinstance", "TaskInstance", "dr", "get_task_instance", "mapped", "task_id", "session", "session"], ["mapped", "render_template_fields", "context", "mapped_ti", "get_template_context", "session", "session"]]}, "params_p": {"args": [], "dag_maker": [["str", 0.28662976799216766], ["int", 0.10076986187276092], ["dict", 0.09079785720627227]], "kwargs": [], "session": [["zerver.models.UserProfile", 0.48625413610075485], ["zerver.models.Stream", 0.10947626016903264], ["str", 0.10947626016903264], ["datetime.datetime", 0.09022080617915673], ["int", 0.08894009945832414]]}, "q_name": "test_mapped_render_template_fields_validating_operator", "ret_exprs": [], "ret_type": "", "variables": {"dr": "", "map_index": "", "mapped": "", "mapped_ti": "airflow.models.taskinstance.TaskInstance", "output1": "", "task1": "", "ti": "airflow.models.taskinstance.TaskInstance"}, "variables_p": {"dr": [["dict", 0.2792247797095466], ["tartare.core.models.Job", 0.1920703337098452], ["grpy.core.models.Grouping", 0.0975392017089196]], "map_index": [["int", 0.27836173743695103], ["list", 0.22695416696272389], ["Pattern[str]", 0.19074817951144007], ["alerta.models.alerAlert", 0.11517152810435373], ["Dict[Any, int]", 0.09740262649142264]], "mapped": [["list", 0.18121543675077664], ["alerta.models.alerAlert", 0.14572462457801563], ["List[Dict[str, Any]]", 0.11274872874566913], ["int", 0.10402864168045045], ["float", 0.08620704349642473]], "mapped_ti": [["grpy.core.models.Grouping", 0.13653487590256322], ["app.models.group.Group", 0.11102308824053347], ["passzero.models.user.User", 0.10248638783608963], ["geode.models.common.Address", 0.0999144700337222], ["float", 0.08657651971617104], ["int", 0.0855712763505125]], "output1": [["str", 0.37056722902871964], ["list", 0.31723840501796735], ["int", 0.09260650049814713]], "task1": [["list", 0.2322694945966972], ["tests.components.withings.common.WebhookResponse", 0.21324947393027535], ["Dict[str, Union[int, str]]", 0.09921801941852536], ["List[str]", 0.08885814572092206], ["khetha.models.Task", 0.08851872502620578]], "ti": [["app.models.group.Group", 0.2107841044492681], ["ofxtools.models.signon.SONRS", 0.17711509822004143], ["zerver.models.Realm", 0.1270147520855041], ["models.facilityData", 0.09666786735171022], ["app.models.Position", 0.08752358510203113]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[439, 0], [460, 44]], "fn_var_ln": {"decision": [[446, 4], [446, 12]], "dr": [[445, 4], [445, 6]], "ti": [[456, 4], [456, 6]], "tis": [[447, 4], [447, 7]]}, "fn_var_occur": {"decision": [["decision", "dr", "task_instance_scheduling_decisions"], ["tis", "ti", "task_id", "ti", "map_index", "ti", "ti", "decision", "schedulable_tis"]], "dr": [["dr", "dag_maker", "create_dagrun"], ["decision", "dr", "task_instance_scheduling_decisions"]], "ti": [["tis", "ti", "task_id", "ti", "map_index", "ti", "ti", "decision", "schedulable_tis"], ["ti", "tis"], ["ti", "run", "session", "session"], ["ti", "task", "arg1"], ["ti", "task", "arg2", "field_1"], ["ti", "task", "arg2", "field_2"], ["ti", "tis"], ["ti", "run", "session", "session"], ["ti", "task", "arg1"], ["ti", "task", "arg2", "field_1"], ["ti", "task", "arg2", "field_2"]], "tis": [["tis", "ti", "task_id", "ti", "map_index", "ti", "ti", "decision", "schedulable_tis"], ["len", "tis"], ["ti", "tis"], ["ti", "tis"]]}, "name": "test_mapped_render_nested_template_fields", "params": {"dag_maker": "", "session": ""}, "params_descr": {"dag_maker": "", "session": ""}, "params_occur": {"dag_maker": [["dag_maker", "session", "session"], ["dr", "dag_maker", "create_dagrun"]], "session": [["dag_maker", "session", "session"], ["ti", "run", "session", "session"], ["ti", "run", "session", "session"]]}, "params_p": {"args": [], "dag_maker": [["str", 0.2740159924693158], ["int", 0.097874526730467], ["dict", 0.08923718863285363]], "kwargs": [], "session": [["zerver.models.UserProfile", 0.18882820792559174], ["str", 0.18142602928489876], ["app.models.User", 0.08920146694207436], ["app.models.user.User", 0.08920146694207436]]}, "q_name": "test_mapped_render_nested_template_fields", "ret_exprs": [], "ret_type": "", "variables": {"decision": "", "dr": "", "ti": "", "tis": ""}, "variables_p": {"decision": [["str", 0.332723593847035], ["int", 0.2596843181934765], ["zerver.models.Realm", 0.10151309565231262], ["List[dict]", 0.09606650133903195]], "dr": [["str", 0.19102769262823638], ["int", 0.17162166477055174], ["bytes", 0.13147271979782202], ["bool", 0.10824312554182834], ["dict", 0.10110987431707087], ["list", 0.0800386718608339]], "ti": [["dict", 0.32478162367170477], ["OrderedDict", 0.10238645551549953], ["List[tuple]", 0.09088676305391187], ["Dict[int, Set[Any]]", 0.08984202250343767], ["List[Dict[str, Any]]", 0.08928059271141241]], "tis": [["dict", 0.3111902269647141], ["Dict[str, str]", 0.18726272223136792], ["Dict[str, int]", 0.11345134867875337], ["OrderedDict", 0.10526549700474146], ["Dict[int, Set[Any]]", 0.09688353028595775], ["str", 0.09539469696388779], ["bool", 0.09055197787057748]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[485, 0], [527, 30]], "fn_var_ln": {"dr": [[491, 4], [491, 6]], "indices": [[520, 4], [520, 11]], "literal": [[486, 4], [486, 11]], "mapped": [[489, 8], [489, 14]], "task1": [[488, 8], [488, 13]], "ti": [[514, 8], [514, 10]]}, "fn_var_occur": {"dr": [["dr", "dag_maker", "create_dagrun"], ["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "len", "literal", "keys", "None"], ["session", "query", "TaskInstance", "filter", "TaskInstance", "dag_id", "mapped", "dag_id", "TaskInstance", "task_id", "mapped", "task_id", "TaskInstance", "run_id", "dr", "run_id", "delete"], ["ti", "TaskInstance", "mapped", "run_id", "dr", "run_id", "map_index", "index", "state", "TaskInstanceState", "SUCCESS"], ["mapped", "expand_mapped_task", "dr", "run_id", "session", "session"], ["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"]], "indices": [["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"], ["indices", "expected"]], "literal": [["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "len", "literal", "keys", "None"]], "mapped": [["mapped", "MockOperator", "partial", "task_id", "expand_kwargs", "task1", "output"], ["session", "query", "TaskInstance", "filter", "TaskInstance", "dag_id", "mapped", "dag_id", "TaskInstance", "task_id", "mapped", "task_id", "TaskInstance", "run_id", "dr", "run_id", "delete"], ["ti", "TaskInstance", "mapped", "run_id", "dr", "run_id", "map_index", "index", "state", "TaskInstanceState", "SUCCESS"], ["mapped", "expand_mapped_task", "dr", "run_id", "session", "session"], ["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"]], "task1": [["task1", "BaseOperator", "task_id"], ["mapped", "MockOperator", "partial", "task_id", "expand_kwargs", "task1", "output"], ["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "len", "literal", "keys", "None"]], "ti": [["ti", "TaskInstance", "mapped", "run_id", "dr", "run_id", "map_index", "index", "state", "TaskInstanceState", "SUCCESS"], ["session", "add", "ti"]]}, "name": "test_expand_kwargs_mapped_task_instance", "params": {"dag_maker": "", "expected": "", "num_existing_tis": "", "session": ""}, "params_descr": {"dag_maker": "", "expected": "", "num_existing_tis": "", "session": ""}, "params_occur": {"dag_maker": [["dag_maker", "session", "session"], ["dr", "dag_maker", "create_dagrun"]], "expected": [["indices", "expected"]], "num_existing_tis": [["range", "num_existing_tis"]], "session": [["dag_maker", "session", "session"], ["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "len", "literal", "keys", "None"], ["session", "query", "TaskInstance", "filter", "TaskInstance", "dag_id", "mapped", "dag_id", "TaskInstance", "task_id", "mapped", "task_id", "TaskInstance", "run_id", "dr", "run_id", "delete"], ["session", "add", "ti"], ["session", "flush"], ["mapped", "expand_mapped_task", "dr", "run_id", "session", "session"], ["indices", "session", "query", "TaskInstance", "map_index", "TaskInstance", "state", "filter_by", "task_id", "mapped", "task_id", "dag_id", "mapped", "dag_id", "run_id", "dr", "run_id", "order_by", "TaskInstance", "map_index", "all"]]}, "params_p": {"args": [], "dag_maker": [["str", 0.3859454050014374], ["zerver.models.UserProfile", 0.09622133565559653], ["Mapping[str, Any]", 0.09622133565559653], ["Optional[Dict[str, str]]", 0.0935984911897096]], "expected": [["List[int]", 0.15332034120516835], ["str", 0.14732064322815647], ["bool", 0.13677198383575212], ["boggle.models.board.Board", 0.08968217068876921], ["raiden.tests.integration.fixtures.raiden_network.RestartNode", 0.06311236459216645]], "kwargs": [], "num_existing_tis": [["int", 0.43998799294696134], ["float", 0.17284938926403648], ["Optional[Set[str]]", 0.14994051620885995], ["List[Dict[str, str]]", 0.14994051620885995]], "session": [["app.models.User", 0.12001047597938459], ["zerver.models.UserProfile", 0.10335630923104781], ["metrics_backend.utils.ChannelIdentifier", 0.09836213370735959], ["int", 0.09817280334546381], ["bytes", 0.09817280334546381]]}, "q_name": "test_expand_kwargs_mapped_task_instance", "ret_exprs": [], "ret_type": "", "variables": {"dr": "", "indices": "", "literal": "", "mapped": "", "task1": "", "ti": ""}, "variables_p": {"dr": [["int", 0.20579048640296238], ["list", 0.09609866010508203], ["Tuple[int]", 0.09498705557196746], ["Dict[str, Union[Any, Any, Any]]", 0.09075776808372005], ["float", 0.09010360251624051]], "indices": [["int", 0.6786974050896141], ["str", 0.16748004425919583], ["Dict[int, str]", 0.09435880042391971], ["Dict[str, Any]", 0.05946375022727024]], "literal": [["list", 0.4184065358303477], ["int", 0.11221137803246488], ["Counter[Any]", 0.10474999161621167], ["Iterator[str]", 0.0898712173654558], ["List[int]", 0.08839902418540578]], "mapped": [["str", 0.3949203588578761], ["list", 0.2138335801957711]], "task1": [["str", 0.7191524293436761], ["list", 0.10636338416160449], ["Dict[str, Union[datetime.datetime, datetime.timedelta, int, str]]", 0.09278728720374099], ["Dict[str, Union[int, str]]", 0.08169689929097859]], "ti": [["dict", 0.32616949692523], ["str", 0.16652694043515376], ["int", 0.08333771885356285]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[537, 0], [566, 30]], "fn_var_ln": {"dr": [[542, 4], [542, 6]], "map_index": [[561, 4], [561, 16]], "mapped": [[540, 8], [540, 14]], "task1": [[539, 8], [539, 13]], "ti": [[559, 4], [559, 6]]}, "fn_var_occur": {"dr": [["dr", "dag_maker", "create_dagrun"], ["ti", "airflow", "models", "taskinstance", "TaskInstance", "dr", "get_task_instance", "task1", "task_id", "session", "session"], ["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "keys", "None"], ["ti", "airflow", "models", "taskinstance", "TaskInstance", "dr", "get_task_instance", "mapped", "task_id", "session", "session"]], "map_index": [["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "keys", "None"], ["ti", "map_index", "map_index"]], "mapped": [["mapped", "MockOperator", "partial", "task_id", "arg2", "expand_kwargs", "task1", "output"], ["ti", "airflow", "models", "taskinstance", "TaskInstance", "dr", "get_task_instance", "mapped", "task_id", "session", "session"], ["ti", "refresh_from_task", "mapped"], ["mapped", "render_template_fields", "context", "ti", "get_template_context", "session", "session"]], "task1": [["task1", "BaseOperator", "task_id"], ["mapped", "MockOperator", "partial", "task_id", "arg2", "expand_kwargs", "task1", "output"], ["ti", "airflow", "models", "taskinstance", "TaskInstance", "dr", "get_task_instance", "task1", "task_id", "session", "session"], ["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "keys", "None"]], "ti": [["ti", "airflow", "models", "taskinstance", "TaskInstance", "dr", "get_task_instance", "task1", "task_id", "session", "session"], ["ti", "xcom_push", "key", "XCOM_RETURN_KEY", "value", "session", "session"], ["ti", "airflow", "models", "taskinstance", "TaskInstance", "dr", "get_task_instance", "mapped", "task_id", "session", "session"], ["ti", "refresh_from_task", "mapped"], ["ti", "map_index", "map_index"], ["isinstance", "ti", "task", "MappedOperator"], ["mapped", "render_template_fields", "context", "ti", "get_template_context", "session", "session"], ["isinstance", "ti", "task", "MockOperator"], ["ti", "task", "arg1", "expected"], ["ti", "task", "arg2"]]}, "name": "test_expand_kwargs_render_template_fields_validating_operator", "params": {"dag_maker": "", "expected": "", "map_index": "", "session": ""}, "params_descr": {"dag_maker": "", "expected": "", "map_index": "", "session": ""}, "params_occur": {"dag_maker": [["dag_maker", "session", "session"], ["dr", "dag_maker", "create_dagrun"]], "expected": [["ti", "task", "arg1", "expected"]], "map_index": [["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "keys", "None"], ["ti", "map_index", "map_index"]], "session": [["dag_maker", "session", "session"], ["ti", "airflow", "models", "taskinstance", "TaskInstance", "dr", "get_task_instance", "task1", "task_id", "session", "session"], ["ti", "xcom_push", "key", "XCOM_RETURN_KEY", "value", "session", "session"], ["session", "add", "TaskMap", "dag_id", "dr", "dag_id", "task_id", "task1", "task_id", "run_id", "dr", "run_id", "map_index", "length", "keys", "None"], ["session", "flush"], ["ti", "airflow", "models", "taskinstance", "TaskInstance", "dr", "get_task_instance", "mapped", "task_id", "session", "session"], ["mapped", "render_template_fields", "context", "ti", "get_template_context", "session", "session"]]}, "params_p": {"args": [], "dag_maker": [["str", 0.2962153508364902], ["Optional[Dict[str, str]]", 0.1003433691505713], ["int", 0.09844673077725513], ["bool", 0.08799978841331992]], "expected": [["excars.models.profiles.Profile", 0.1335256879513507], ["Dict[str, Any]", 0.11438523257175934], ["cmk.utils.type_defs.HostName", 0.10219878876300098], ["List[str]", 0.08891023060384497], ["str", 0.08665098837790575], ["viewer.models.Gallery", 0.08461153626958429], ["daylighdb.models.Photo", 0.08407162760890152]], "kwargs": [], "map_index": [["int", 0.4206288609366165], ["app.models.user.User", 0.09489716479459111], ["zerver.models.UserProfile", 0.09267881666046462]], "session": [["zerver.models.UserProfile", 0.4325630728228021], ["django.contrib.auth.models.User", 0.16450309431633767], ["zerver.models.Stream", 0.10345463451413632], ["str", 0.10345463451413632]]}, "q_name": "test_expand_kwargs_render_template_fields_validating_operator", "ret_exprs": [], "ret_type": "", "variables": {"dr": "", "map_index": "", "mapped": "", "task1": "", "ti": "airflow.models.taskinstance.TaskInstance"}, "variables_p": {"dr": [["dict", 0.2792247797095466], ["tartare.core.models.Job", 0.1920703337098452], ["grpy.core.models.Grouping", 0.0975392017089196]], "map_index": [["int", 0.27836173743695103], ["list", 0.22695416696272389], ["Pattern[str]", 0.19074817951144007], ["alerta.models.alerAlert", 0.11517152810435373], ["Dict[Any, int]", 0.09740262649142264]], "mapped": [["list", 0.13540044722677394], ["models.userData", 0.09915687688198606], ["List[Dict[str, Any]]", 0.09640579361716345], ["Dict[str, Callable]", 0.09485257885297396], ["Dict[str, Any]", 0.09397057062564823], ["List[str]", 0.09220520397216586]], "task1": [["List[Dict[str, Any]]", 0.40444137338763114], ["str", 0.2933944756015941], ["list", 0.1145388802870641], ["Dict[str, Union[datetime.datetime, datetime.timedelta, int, str]]", 0.09660569784388735], ["List[str]", 0.0910195728798233]], "ti": [["app.models.group.Group", 0.2107841044492681], ["ofxtools.models.signon.SONRS", 0.17711509822004143], ["zerver.models.Realm", 0.1270147520855041], ["models.facilityData", 0.09666786735171022], ["app.models.Position", 0.08752358510203113]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[569, 0], [574, 39]], "fn_var_ln": {"op_a": [[571, 8], [571, 12]]}, "fn_var_occur": {"op_a": [["op_a", "MockOperator", "partial", "task_id", "expand", "arg1"], ["op_a", "output", "XComArg", "op_a"]]}, "name": "test_xcomarg_property_of_mapped_operator", "params": {"dag_maker": ""}, "params_descr": {"dag_maker": ""}, "params_occur": {"dag_maker": [["dag_maker", "create_dagrun"]]}, "params_p": {"args": [], "dag_maker": [], "kwargs": []}, "q_name": "test_xcomarg_property_of_mapped_operator", "ret_exprs": [], "ret_type": "", "variables": {"op_a": ""}, "variables_p": {"op_a": [["Pattern[Any]", 0.2576098402300284], ["int", 0.19876833569035746], ["Dict[str, str]", 0.09353275622869142], ["set", 0.09343897994741662], ["List[Tuple[Any, str]]", 0.08925623747862668], ["dict", 0.08629114313065106], ["Union[bytes, str]", 0.08451784065644878]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[577, 0], [589, 35]], "fn_var_ln": {"op1": [[579, 8], [579, 11]], "op2": [[580, 8], [580, 11]], "op3": [[581, 8], [581, 11]], "op4": [[582, 8], [582, 11]], "op5": [[583, 8], [583, 11]]}, "fn_var_occur": {"op1": [["op1", "MockOperator", "partial", "task_id", "expand", "arg1"], ["op3", "MockOperator", "task_id", "arg1", "op1", "output"], ["op4", "MockOperator", "task_id", "arg1", "op1", "output", "op2", "output"], ["op5", "MockOperator", "task_id", "arg1", "op1", "output", "op2", "output"], ["op1", "op3", "upstream_list"], ["op1", "op4", "upstream_list"], ["op1", "op5", "upstream_list"]], "op2": [["op2", "MockOperator", "partial", "task_id", "expand", "arg2"], ["op4", "MockOperator", "task_id", "arg1", "op1", "output", "op2", "output"], ["op5", "MockOperator", "task_id", "arg1", "op1", "output", "op2", "output"], ["op2", "op4", "upstream_list"], ["op2", "op5", "upstream_list"]], "op3": [["op3", "MockOperator", "task_id", "arg1", "op1", "output"], ["op1", "op3", "upstream_list"]], "op4": [["op4", "MockOperator", "task_id", "arg1", "op1", "output", "op2", "output"], ["op1", "op4", "upstream_list"], ["op2", "op4", "upstream_list"]], "op5": [["op5", "MockOperator", "task_id", "arg1", "op1", "output", "op2", "output"], ["op1", "op5", "upstream_list"], ["op2", "op5", "upstream_list"]]}, "name": "test_set_xcomarg_dependencies_with_mapped_operator", "params": {"dag_maker": ""}, "params_descr": {"dag_maker": ""}, "params_occur": {"dag_maker": []}, "params_p": {"args": [], "dag_maker": [["tests.basilisp.helpers.CompileFn", 0.9999999970878506], ["cli_ui.tests.MessageRecorder", 7.141978237318014e-10]], "kwargs": []}, "q_name": "test_set_xcomarg_dependencies_with_mapped_operator", "ret_exprs": [], "ret_type": "", "variables": {"op1": "", "op2": "", "op3": "", "op4": "", "op5": ""}, "variables_p": {"op1": [["tests.components.withings.common.WebhookResponse", 0.18266574618145515], ["Dict[str, Union[int, str]]", 0.12925830253487566], ["str", 0.10620478453675843], ["bytes", 0.10248566100953622], ["dict", 0.09365666384843932], ["pytch.utils.Position", 0.0932941872163345], ["Dict[str, str]", 0.08833427419036775]], "op2": [["Dict[str, Any]", 0.216959035251847], ["bytes", 0.11489294707811555], ["List[int]", 0.11405738012442466], ["dict", 0.09476639696593672], ["str", 0.09268704551110185], ["Dict[str, Union[Any, Any]]", 0.09130485533607947]], "op3": [["dict", 0.28545886059539866], ["str", 0.20644926210633247], ["Pattern[Any]", 0.1259507400785997], ["Dict[str, Literal]", 0.09790815799715663]], "op4": [["dict", 0.3208246688245164], ["str", 0.31553339857616414], ["Dict[str, Literal]", 0.10949711352559999], ["qcodes.utils.validators.Lists", 0.08434603932202743], ["KeysView[str]", 0.07988125615261196]], "op5": [["dict", 0.3208246688245164], ["str", 0.31553339857616414], ["Dict[str, Literal]", 0.10949711352559999], ["qcodes.utils.validators.Lists", 0.08434603932202743], ["KeysView[str]", 0.07988125615261196]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[592, 0], [611, 16]], "fn_var_ln": {"dr": [[608, 4], [608, 6]], "op1": [[605, 8], [605, 11]], "tis": [[609, 4], [609, 7]]}, "fn_var_occur": {"dr": [["dr", "dag_maker", "create_dagrun"], ["tis", "dr", "get_task_instances", "session", "session"]], "op1": [["op1", "PushXcomOperator", "partial", "task_id", "expand", "arg1"], ["ConsumeXcomOperator", "task_id", "arg1", "op1", "output"]], "tis": [["tis", "dr", "get_task_instances", "session", "session"]]}, "name": "test_all_xcomargs_from_mapped_tasks_are_consumable", "params": {"dag_maker": "", "session": ""}, "params_descr": {"dag_maker": "", "session": ""}, "params_occur": {"dag_maker": [["dr", "dag_maker", "create_dagrun"]], "session": [["tis", "dr", "get_task_instances", "session", "session"]]}, "params_p": {"args": [], "dag_maker": [["str", 0.1844794478602538], ["Optional[str]", 0.15627771917742908], ["dict", 0.11935688541068122], ["raiden.utils.List[raiden.utils.Address]", 0.11126653029246263], ["models.PermissionLookup", 0.08807635604272065], ["bool", 0.07883501591137128]], "kwargs": [], "session": [["str", 0.18385062263089663], ["Optional[str]", 0.11219268920849322], ["dict", 0.09459458927692478]]}, "q_name": "test_all_xcomargs_from_mapped_tasks_are_consumable", "ret_exprs": [], "ret_type": "", "variables": {"dr": "", "op1": "", "tis": ""}, "variables_p": {"dr": [["str", 0.37560905510352555], ["geode.models.common.Address", 0.13491419878707148], ["Dict[str, Any]", 0.09279937375102974], ["asgard.models.app.AppStats", 0.07989157866832769]], "op1": [["Dict[str, Union[Any, bool, str]]", 0.1973944940324631], ["int", 0.0931968682735632], ["Dict[str, Union[int, str]]", 0.09311301216161778]], "tis": [["List[Tuple[str, int]]", 0.19026445920305687], ["str", 0.17881110480045348], ["Optional[str]", 0.11826964448054293]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[614, 0], [632, 45]], "fn_var_ln": {"finish": [[617, 8], [617, 14]], "literal": [[620, 12], [620, 19]], "mapped": [[621, 12], [621, 18]], "task1": [[616, 8], [616, 13]]}, "fn_var_occur": {"finish": [["finish", "MockOperator", "task_id"], ["task1", "group", "finish"], ["finish", "upstream_list", "mapped"], ["mapped", "downstream_list", "finish"]], "literal": [["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "literal"]], "mapped": [["mapped", "MockOperator", "partial", "task_id", "expand", "arg2", "literal"], ["task1", "downstream_list", "mapped"], ["mapped", "upstream_list", "task1"], ["mapped", "dag", "tasks"], ["mapped", "task_group", "group"], ["finish", "upstream_list", "mapped"], ["mapped", "downstream_list", "finish"]], "task1": [["task1", "BaseOperator", "task_id"], ["task1", "group", "finish"], ["task1", "downstream_list", "mapped"], ["mapped", "upstream_list", "task1"]]}, "name": "test_task_mapping_with_task_group_context", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_task_mapping_with_task_group_context", "ret_exprs": [], "ret_type": "", "variables": {"finish": "", "literal": "", "mapped": "", "task1": ""}, "variables_p": {"finish": [["datetime.datetime.datetime", 0.09948599554182277], ["list", 0.09458225869682814], ["List[Tuple[Any, Any]]", 0.09427366758848357], ["Dict[str, Union[Any, Any]]", 0.08859895601158402], ["Dict[str, Callable]", 0.0847326589489508], ["str", 0.08447739688761872]], "literal": [["list", 0.8887946392155774], ["str", 0.1112053607844224]], "mapped": [["list", 0.19368373846757309], ["Dict[str, Callable]", 0.11398290111194886], ["str", 0.09787743391040561], ["track.models.Category", 0.09645607779955251]], "task1": [["list", 0.4859878380219629], ["Dict[int, Any]", 0.1555080623234851], ["List[dict]", 0.08085014279253011], ["Dict[str, Any]", 0.07666290630464413]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[635, 0], [653, 45]], "fn_var_ln": {"finish": [[638, 8], [638, 14]], "group": [[640, 8], [640, 13]], "literal": [[641, 8], [641, 15]], "mapped": [[642, 8], [642, 14]], "task1": [[637, 8], [637, 13]]}, "fn_var_occur": {"finish": [["finish", "MockOperator", "task_id"], ["task1", "group", "finish"], ["finish", "upstream_list", "mapped"], ["mapped", "downstream_list", "finish"]], "group": [["group", "TaskGroup"], ["mapped", "MockOperator", "partial", "task_id", "task_group", "group", "expand", "arg2", "literal"], ["task1", "group", "finish"], ["mapped", "task_group", "group"]], "literal": [["mapped", "MockOperator", "partial", "task_id", "task_group", "group", "expand", "arg2", "literal"]], "mapped": [["mapped", "MockOperator", "partial", "task_id", "task_group", "group", "expand", "arg2", "literal"], ["task1", "downstream_list", "mapped"], ["mapped", "upstream_list", "task1"], ["mapped", "dag", "tasks"], ["mapped", "task_group", "group"], ["finish", "upstream_list", "mapped"], ["mapped", "downstream_list", "finish"]], "task1": [["task1", "BaseOperator", "task_id"], ["task1", "group", "finish"], ["task1", "downstream_list", "mapped"], ["mapped", "upstream_list", "task1"]]}, "name": "test_task_mapping_with_explicit_task_group", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_task_mapping_with_explicit_task_group", "ret_exprs": [], "ret_type": "", "variables": {"finish": "", "group": "", "literal": "", "mapped": "", "task1": ""}, "variables_p": {"finish": [["datetime.datetime.datetime", 0.09948599554182277], ["list", 0.09458225869682814], ["List[Tuple[Any, Any]]", 0.09427366758848357], ["Dict[str, Union[Any, Any]]", 0.08859895601158402], ["Dict[str, Callable]", 0.0847326589489508], ["str", 0.08447739688761872]], "group": [["Optional[List[Any]]", 0.09497658645869379], ["rotkehlchen.tests.utils.rotkehlchen.BalancesTestSetup", 0.08704653173696983]], "literal": [["list", 0.6660015143897422], ["Optional[str]", 0.1315035438405616], ["dict", 0.11115976500211083], ["Dict[str, Dict[str, str]]", 0.09133517676758562]], "mapped": [["list", 0.2122815138502559], ["track.models.Category", 0.12102821554411783], ["Dict[str, Callable]", 0.10154114489822237], ["raiden.utils.Any", 0.09422502629478194], ["str", 0.08996605747501138], ["decksite.data.models.person.Person", 0.0891465239235214]], "task1": [["list", 0.4859878380219629], ["Dict[int, Any]", 0.1555080623234851], ["List[dict]", 0.08085014279253011], ["Dict[str, Any]", 0.07666290630464413]]}}], "imports": ["__future__", "annotations", "logging", "datetime", "timedelta", "unittest", "mock", "patch", "pendulum", "pytest", "airflow", "models", "DAG", "airflow", "models", "baseoperator", "BaseOperator", "airflow", "models", "mappedoperator", "MappedOperator", "airflow", "models", "param", "ParamsDict", "airflow", "models", "taskinstance", "TaskInstance", "airflow", "models", "taskmap", "TaskMap", "airflow", "models", "xcom_arg", "XComArg", "airflow", "utils", "context", "Context", "airflow", "utils", "state", "TaskInstanceState", "airflow", "utils", "task_group", "TaskGroup", "airflow", "utils", "trigger_rule", "TriggerRule", "airflow", "utils", "xcom", "XCOM_RETURN_KEY", "tests", "models", "DEFAULT_DATE", "tests", "test_utils", "mapping", "expand_mapped_task", "tests", "test_utils", "mock_operators", "MockOperator", "MockOperatorWithNestedFields", "NestedFields"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 7, "I": 0, "U": 166}, "session_id": "KVCnBLJHOvgCeUsqxOkXe4CNIqVGAViX0kUycOFGZVQ", "set": null, "tc": [false, null], "type_annot_cove": 0.04, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}