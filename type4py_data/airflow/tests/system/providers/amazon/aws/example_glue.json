{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[70, 0], [71, 29]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_role_name", "params": {"arn": "builtins.str"}, "params_descr": {"arn": ""}, "params_occur": {"arn": [["arn", "split"]]}, "params_p": {"args": [], "arn": [["str", 0.8043425261061483], ["Optional[str]", 0.19565747389385169]], "kwargs": []}, "q_name": "get_role_name", "ret_exprs": ["return arn.split(\"/\")[-1]"], "ret_type": "builtins.str", "ret_type_p": [["int", 0.3851463898526796], ["str", 0.10736183590524308], ["Dict[str, Any]", 0.10163403940085282], ["bool", 0.09904985128319724]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[75, 0], [80, 40]], "fn_var_ln": {"client": [[76, 4], [76, 10]]}, "fn_var_occur": {"client": [["client", "botocore", "client", "BaseClient", "boto3", "client"], ["client", "delete_crawler", "Name", "crawler_name"], ["client", "delete_job", "JobName", "job_name"], ["client", "delete_database", "Name", "db_name"]]}, "name": "glue_cleanup", "params": {"crawler_name": "builtins.str", "db_name": "builtins.str", "job_name": "builtins.str"}, "params_descr": {"crawler_name": "", "db_name": "", "job_name": ""}, "params_occur": {"crawler_name": [["client", "delete_crawler", "Name", "crawler_name"]], "db_name": [["client", "delete_database", "Name", "db_name"]], "job_name": [["client", "delete_job", "JobName", "job_name"]]}, "params_p": {"args": [], "crawler_name": [["str", 0.8836537253068814], ["Tuple[str]", 0.11634627469311858]], "db_name": [["str", 0.8836537253068814], ["Tuple[str]", 0.11634627469311858]], "job_name": [["str", 0.9999999999999999]], "kwargs": []}, "q_name": "glue_cleanup", "ret_exprs": [], "ret_type": "None", "variables": {"client": "botocore.client.BaseClient"}, "variables_p": {"client": [["utils.clienClient", 0.09166298244273735]]}}], "imports": ["__future__", "annotations", "datetime", "datetime", "boto3", "botocore", "client", "BaseClient", "airflow", "DAG", "airflow", "decorators", "task", "airflow", "models", "baseoperator", "chain", "airflow", "providers", "amazon", "aws", "operators", "glue", "GlueJobOperator", "airflow", "providers", "amazon", "aws", "operators", "glue_crawler", "GlueCrawlerOperator", "airflow", "providers", "amazon", "aws", "operators", "s3", "S3CreateBucketOperator", "S3CreateObjectOperator", "S3DeleteBucketOperator", "airflow", "providers", "amazon", "aws", "sensors", "glue", "GlueJobSensor", "airflow", "providers", "amazon", "aws", "sensors", "glue_crawler", "GlueCrawlerSensor", "airflow", "utils", "trigger_rule", "TriggerRule", "tests", "system", "providers", "amazon", "aws", "utils", "ENV_ID_KEY", "SystemTestContextBuilder", "prune_logs", "tests", "system", "utils", "watcher", "watcher", "tests", "system", "utils", "get_test_run"], "mod_var_ln": {"DAG_ID": [[39, 0], [39, 6]], "EXAMPLE_CSV": [[49, 0], [49, 11]], "EXAMPLE_SCRIPT": [[56, 0], [56, 14]], "ROLE_ARN_KEY": [[44, 0], [44, 12]], "bucket_name": [[97, 4], [97, 15]], "crawl_s3": [[129, 4], [129, 12]], "create_bucket": [[107, 4], [107, 17]], "delete_bucket": [[170, 4], [170, 17]], "env_id": [[92, 4], [92, 10]], "glue_crawler_config": [[100, 4], [100, 23]], "glue_crawler_name": [[94, 4], [94, 21]], "glue_db_name": [[95, 4], [95, 16]], "glue_job_name": [[96, 4], [96, 17]], "log_cleanup": [[177, 4], [177, 15]], "poke_interval": [[168, 4], [168, 30]], "role_arn": [[93, 4], [93, 12]], "role_name": [[98, 4], [98, 13]], "submit_glue_job": [[146, 4], [146, 19]], "sys_test_context_task": [[46, 0], [46, 21]], "test_context": [[90, 4], [90, 16]], "test_run": [[214, 0], [214, 8]], "upload_csv": [[112, 4], [112, 14]], "upload_script": [[120, 4], [120, 17]], "wait_for_completion": [[157, 4], [157, 39]], "wait_for_crawl": [[139, 4], [139, 18]], "wait_for_job": [[160, 4], [160, 16]]}, "mod_var_occur": {"DAG_ID": [["DAG", "dag_id", "DAG_ID", "schedule", "start_date", "datetime", "tags", "catchup", "False", "dag"]], "EXAMPLE_CSV": [["upload_csv", "S3CreateObjectOperator", "task_id", "s3_bucket", "bucket_name", "s3_key", "data", "EXAMPLE_CSV", "replace", "True"]], "EXAMPLE_SCRIPT": [["upload_script", "S3CreateObjectOperator", "task_id", "s3_bucket", "bucket_name", "s3_key", "data", "EXAMPLE_SCRIPT", "format", "db_name", "glue_db_name", "bucket_name", "bucket_name", "replace", "True"]], "ROLE_ARN_KEY": [["sys_test_context_task", "SystemTestContextBuilder", "add_variable", "ROLE_ARN_KEY", "build"], ["role_arn", "test_context", "ROLE_ARN_KEY"]], "bucket_name": [["glue_crawler_config", "glue_crawler_name", "role_arn", "glue_db_name", "bucket_name"], ["create_bucket", "S3CreateBucketOperator", "task_id", "bucket_name", "bucket_name"], ["upload_csv", "S3CreateObjectOperator", "task_id", "s3_bucket", "bucket_name", "s3_key", "data", "EXAMPLE_CSV", "replace", "True"], ["upload_script", "S3CreateObjectOperator", "task_id", "s3_bucket", "bucket_name", "s3_key", "data", "EXAMPLE_SCRIPT", "format", "db_name", "glue_db_name", "bucket_name", "bucket_name", "replace", "True"], ["submit_glue_job", "GlueJobOperator", "task_id", "job_name", "glue_job_name", "script_location", "bucket_name", "s3_bucket", "bucket_name", "iam_role_name", "role_name", "create_job_kwargs"], ["delete_bucket", "S3DeleteBucketOperator", "task_id", "trigger_rule", "TriggerRule", "ALL_DONE", "bucket_name", "bucket_name", "force_delete", "True"]], "crawl_s3": [["crawl_s3", "wait_for_completion", "False"], ["chain", "test_context", "create_bucket", "upload_csv", "upload_script", "crawl_s3", "wait_for_crawl", "submit_glue_job", "wait_for_job", "glue_cleanup", "glue_crawler_name", "glue_job_name", "glue_db_name", "delete_bucket", "log_cleanup"]], "create_bucket": [["chain", "test_context", "create_bucket", "upload_csv", "upload_script", "crawl_s3", "wait_for_crawl", "submit_glue_job", "wait_for_job", "glue_cleanup", "glue_crawler_name", "glue_job_name", "glue_db_name", "delete_bucket", "log_cleanup"]], "delete_bucket": [["chain", "test_context", "create_bucket", "upload_csv", "upload_script", "crawl_s3", "wait_for_crawl", "submit_glue_job", "wait_for_job", "glue_cleanup", "glue_crawler_name", "glue_job_name", "glue_db_name", "delete_bucket", "log_cleanup"]], "env_id": [["glue_crawler_name", "env_id"], ["glue_db_name", "env_id"], ["glue_job_name", "env_id"], ["bucket_name", "env_id"]], "glue_crawler_config": [["crawl_s3", "GlueCrawlerOperator", "task_id", "config", "glue_crawler_config"]], "glue_crawler_name": [["glue_crawler_config", "glue_crawler_name", "role_arn", "glue_db_name", "bucket_name"], ["wait_for_crawl", "GlueCrawlerSensor", "task_id", "crawler_name", "glue_crawler_name"], ["log_cleanup", "prune_logs", "glue_crawler_name", "submit_glue_job", "output", "submit_glue_job", "output", "submit_glue_job", "output"], ["chain", "test_context", "create_bucket", "upload_csv", "upload_script", "crawl_s3", "wait_for_crawl", "submit_glue_job", "wait_for_job", "glue_cleanup", "glue_crawler_name", "glue_job_name", "glue_db_name", "delete_bucket", "log_cleanup"]], "glue_db_name": [["glue_crawler_config", "glue_crawler_name", "role_arn", "glue_db_name", "bucket_name"], ["upload_script", "S3CreateObjectOperator", "task_id", "s3_bucket", "bucket_name", "s3_key", "data", "EXAMPLE_SCRIPT", "format", "db_name", "glue_db_name", "bucket_name", "bucket_name", "replace", "True"], ["chain", "test_context", "create_bucket", "upload_csv", "upload_script", "crawl_s3", "wait_for_crawl", "submit_glue_job", "wait_for_job", "glue_cleanup", "glue_crawler_name", "glue_job_name", "glue_db_name", "delete_bucket", "log_cleanup"]], "glue_job_name": [["submit_glue_job", "GlueJobOperator", "task_id", "job_name", "glue_job_name", "script_location", "bucket_name", "s3_bucket", "bucket_name", "iam_role_name", "role_name", "create_job_kwargs"], ["wait_for_job", "GlueJobSensor", "task_id", "job_name", "glue_job_name", "run_id", "submit_glue_job", "output", "verbose", "True"], ["chain", "test_context", "create_bucket", "upload_csv", "upload_script", "crawl_s3", "wait_for_crawl", "submit_glue_job", "wait_for_job", "glue_cleanup", "glue_crawler_name", "glue_job_name", "glue_db_name", "delete_bucket", "log_cleanup"]], "log_cleanup": [["chain", "test_context", "create_bucket", "upload_csv", "upload_script", "crawl_s3", "wait_for_crawl", "submit_glue_job", "wait_for_job", "glue_cleanup", "glue_crawler_name", "glue_job_name", "glue_db_name", "delete_bucket", "log_cleanup"]], "poke_interval": [], "role_arn": [["role_name", "get_role_name", "role_arn"], ["glue_crawler_config", "glue_crawler_name", "role_arn", "glue_db_name", "bucket_name"]], "role_name": [["submit_glue_job", "GlueJobOperator", "task_id", "job_name", "glue_job_name", "script_location", "bucket_name", "s3_bucket", "bucket_name", "iam_role_name", "role_name", "create_job_kwargs"]], "submit_glue_job": [["submit_glue_job", "wait_for_completion", "False"], ["wait_for_job", "GlueJobSensor", "task_id", "job_name", "glue_job_name", "run_id", "submit_glue_job", "output", "verbose", "True"], ["log_cleanup", "prune_logs", "glue_crawler_name", "submit_glue_job", "output", "submit_glue_job", "output", "submit_glue_job", "output"], ["chain", "test_context", "create_bucket", "upload_csv", "upload_script", "crawl_s3", "wait_for_crawl", "submit_glue_job", "wait_for_job", "glue_cleanup", "glue_crawler_name", "glue_job_name", "glue_db_name", "delete_bucket", "log_cleanup"]], "sys_test_context_task": [["test_context", "sys_test_context_task"]], "test_context": [["env_id", "test_context", "ENV_ID_KEY"], ["role_arn", "test_context", "ROLE_ARN_KEY"], ["chain", "test_context", "create_bucket", "upload_csv", "upload_script", "crawl_s3", "wait_for_crawl", "submit_glue_job", "wait_for_job", "glue_cleanup", "glue_crawler_name", "glue_job_name", "glue_db_name", "delete_bucket", "log_cleanup"]], "test_run": [], "upload_csv": [["chain", "test_context", "create_bucket", "upload_csv", "upload_script", "crawl_s3", "wait_for_crawl", "submit_glue_job", "wait_for_job", "glue_cleanup", "glue_crawler_name", "glue_job_name", "glue_db_name", "delete_bucket", "log_cleanup"]], "upload_script": [["chain", "test_context", "create_bucket", "upload_csv", "upload_script", "crawl_s3", "wait_for_crawl", "submit_glue_job", "wait_for_job", "glue_cleanup", "glue_crawler_name", "glue_job_name", "glue_db_name", "delete_bucket", "log_cleanup"]], "wait_for_completion": [], "wait_for_crawl": [["chain", "test_context", "create_bucket", "upload_csv", "upload_script", "crawl_s3", "wait_for_crawl", "submit_glue_job", "wait_for_job", "glue_cleanup", "glue_crawler_name", "glue_job_name", "glue_db_name", "delete_bucket", "log_cleanup"]], "wait_for_job": [["wait_for_job", "poke_interval"], ["chain", "test_context", "create_bucket", "upload_csv", "upload_script", "crawl_s3", "wait_for_crawl", "submit_glue_job", "wait_for_job", "glue_cleanup", "glue_crawler_name", "glue_job_name", "glue_db_name", "delete_bucket", "log_cleanup"]]}, "no_types_annot": {"D": 7, "I": 0, "U": 26}, "session_id": "4OOmkHDgeyCsVz_036peGdWHfx2z972SDj-7YE6zqZE", "set": null, "tc": [false, null], "type_annot_cove": 0.21, "typed_seq": "", "untyped_seq": "", "variables": {"DAG_ID": "", "EXAMPLE_CSV": "", "EXAMPLE_SCRIPT": "", "ROLE_ARN_KEY": "", "bucket_name": "", "crawl_s3": "", "create_bucket": "", "delete_bucket": "", "env_id": "", "glue_crawler_config": "", "glue_crawler_name": "", "glue_db_name": "", "glue_job_name": "", "log_cleanup": "", "poke_interval": "", "role_arn": "", "role_name": "", "submit_glue_job": "", "sys_test_context_task": "", "test_context": "", "test_run": "", "upload_csv": "", "upload_script": "", "wait_for_completion": "", "wait_for_crawl": "", "wait_for_job": ""}, "variables_p": {"DAG_ID": [["int", 0.35274973746887883], ["Type[projecbetting.models.Odd]", 0.10470941839845614], ["str", 0.0967413222700786], ["correios.models.posting.TrackingCode", 0.08956049567409095]], "EXAMPLE_CSV": [["str", 0.5130105944634787], ["int", 0.17203154607115673], ["viewer.models.Gallery", 0.10879558616098794]], "EXAMPLE_SCRIPT": [["str", 0.49769958944434034], ["List[str]", 0.3167765640112421], ["int", 0.09194974720728812]], "ROLE_ARN_KEY": [["str", 0.9086113349858556], ["Set[str]", 0.0913886650141444]], "bucket_name": [["str", 0.697853152493696]], "crawl_s3": [["str", 0.17804045148427922], ["Type[Dict[str, Any]]", 0.16004200709794397], ["list", 0.08865885676688337], ["int", 0.0821367815559124]], "create_bucket": [["int", 0.17868844291885866], ["tests.setup.SetupTest", 0.08358030769612952]], "delete_bucket": [["int", 0.3067974544739731]], "env_id": [["str", 0.9999999999999998]], "glue_crawler_config": [["Dict[str, Dict[str, Any]]", 0.23864460099550286], ["Final", 0.19583797270673672], ["Dict[str, str]", 0.162764740038227], ["str", 0.10656829237161816], ["Dict[Any, str]", 0.10313301001445609], ["Dict[Any, Union[Any, str]]", 0.10313301001445609], ["Dict[str, Dict[str, int]]", 0.08991837385900316]], "glue_crawler_name": [["str", 0.6957854621838349], ["Optional[str]", 0.09574972565601443]], "glue_db_name": [["str", 0.5147063723176467], ["Dict[str, str]", 0.09809500962759171], ["Optional[str]", 0.09405102088500814]], "glue_job_name": [["str", 0.7486194669292514], ["Optional[str]", 0.08519570354729612], ["Union[Literal, str]", 0.07611069297133553]], "log_cleanup": [["drel.core.models.FullRequestLog", 0.11563628369435357], ["dict", 0.0991723927013628], ["raiden.utils.Any", 0.08748772573968996]], "poke_interval": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "role_arn": [["str", 0.5771033614998372], ["Dict[str, str]", 0.16684743751005643], ["dict", 0.10042897609101477]], "role_name": [["str", 0.9204159511919048], ["Optional[str]", 0.07958404880809555]], "submit_glue_job": [["str", 0.09640089709108404]], "sys_test_context_task": [["str", 0.5096993297625712], ["int", 0.09793096367691599]], "test_context": [["str", 0.29907463021924463], ["Dict[str, datetime.datetime]", 0.1821495580553424], ["List[Tuple[str, str, str, str]]", 0.12511925330862814], ["List[Optional[Any]]", 0.10237554394932802], ["Dict[str, Union[Any, int]]", 0.10178154760164751], ["Dict[Any, Union[Any, str]]", 0.09819790927636883], ["Dict[str, int]", 0.09130155758944053]], "test_run": [["int", 0.4999999998760807], ["bool", 0.4999999998358487], ["str", 2.480259286043124e-10], ["list", 4.00446876512944e-11]], "upload_csv": [["str", 0.39071161550180067]], "upload_script": [["str", 0.39071161550180067]], "wait_for_completion": [["str", 0.5], ["bool", 0.2], ["Optional[Union[int, float]]", 0.1], ["Optional[bool]", 0.1], ["Optional[str]", 0.1]], "wait_for_crawl": [["int", 0.08885407438148987]], "wait_for_job": [["int", 0.3921863386054654], ["raiden.utils.LockedAmount", 0.10572517881656925], ["Dict[int, int]", 0.0889903916370168]]}}}