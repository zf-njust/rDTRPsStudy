{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": "Returns an AL2 AMI compatible with EMR", "long_descr": null, "ret": null}, "fn_lc": [[96, 0], [102, 5]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_ami_id", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "get_ami_id", "ret_exprs": ["return SsmHook(aws_conn_id=None).get_parameter_value( \"/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-ebs\")"], "ret_type": "", "ret_type_p": [["str", 0.26310174087552085], ["Optional[cmk.utils.type_defs.HostAddress]", 0.11771507005753731], ["dict", 0.11771507005753731], ["bool", 0.11771507005753731], ["cmk.utils.type_defs.HostName", 0.11771507005753731], ["Dict[str, Any]", 0.0761631784504726], ["zerver.models.UserProfile", 0.07215973038632009]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[106, 0], [110, 5]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "configure_security_config", "params": {"config_name": "builtins.str"}, "params_descr": {"config_name": ""}, "params_occur": {"config_name": [["boto3", "client", "create_security_configuration", "Name", "config_name", "SecurityConfiguration", "json", "dumps", "SECURITY_CONFIGURATION"]]}, "params_p": {"args": [], "config_name": [["str", 0.40369099958873034], ["Optional[str]", 0.19758456292804816], ["int", 0.10190517688158934], ["cmk.utils.type_defs.SectionName", 0.10097277605081649], ["Dict[str, str]", 0.10024745908322912], ["List[str]", 0.09559902546758643]], "kwargs": []}, "q_name": "configure_security_config", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[114, 0], [117, 5]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "delete_security_config", "params": {"config_name": "builtins.str"}, "params_descr": {"config_name": ""}, "params_occur": {"config_name": [["boto3", "client", "delete_security_configuration", "Name", "config_name"]]}, "params_p": {"args": [], "config_name": [["str", 0.9137862562205958], ["Optional[str]", 0.0862137437794043]], "kwargs": []}, "q_name": "delete_security_config", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[121, 0], [122, 22]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_step_id", "params": {"step_ids": "builtins.list"}, "params_descr": {"step_ids": ""}, "params_occur": {"step_ids": []}, "params_p": {"args": [], "kwargs": [], "step_ids": [["str", 0.4212004996696152], ["int", 0.4017317553386974]]}, "q_name": "get_step_id", "ret_exprs": ["return step_ids[0]"], "ret_type": "", "ret_type_p": [["str", 0.5996972928950192], ["int", 0.29835594052838366]], "variables": {}, "variables_p": {}}], "imports": ["__future__", "annotations", "json", "datetime", "datetime", "boto3", "airflow", "DAG", "airflow", "decorators", "task", "airflow", "models", "baseoperator", "chain", "airflow", "providers", "amazon", "aws", "hooks", "ssm", "SsmHook", "airflow", "providers", "amazon", "aws", "operators", "emr", "EmrAddStepsOperator", "EmrCreateJobFlowOperator", "EmrModifyClusterOperator", "EmrTerminateJobFlowOperator", "airflow", "providers", "amazon", "aws", "operators", "s3", "S3CreateBucketOperator", "S3DeleteBucketOperator", "airflow", "providers", "amazon", "aws", "sensors", "emr", "EmrJobFlowSensor", "EmrStepSensor", "airflow", "utils", "trigger_rule", "TriggerRule", "tests", "system", "providers", "amazon", "aws", "utils", "ENV_ID_KEY", "SystemTestContextBuilder", "tests", "system", "utils", "watcher", "watcher", "tests", "system", "utils", "get_test_run"], "mod_var_ln": {"CONFIG_NAME": [[42, 0], [42, 11]], "DAG_ID": [[41, 0], [41, 6]], "EXECUTION_ROLE_ARN_KEY": [[43, 0], [43, 22]], "JOB_FLOW_OVERRIDES": [[71, 0], [71, 18]], "SECURITY_CONFIGURATION": [[45, 0], [45, 22]], "SPARK_STEPS": [[60, 0], [60, 11]], "add_steps": [[163, 4], [163, 13]], "check_job_flow": [[192, 4], [192, 18]], "config_name": [[137, 4], [137, 15]], "create_job_flow": [[150, 4], [150, 19]], "create_s3_bucket": [[145, 4], [145, 20]], "create_security_configuration": [[147, 4], [147, 33]], "delete_s3_bucket": [[198, 4], [198, 20]], "delete_security_configuration": [[196, 4], [196, 33]], "env_id": [[136, 4], [136, 10]], "execution_role_arn": [[138, 4], [138, 22]], "modify_cluster": [[157, 4], [157, 18]], "poke_interval": [[194, 4], [194, 32]], "remove_cluster": [[184, 4], [184, 18]], "s3_bucket": [[139, 4], [139, 13]], "sys_test_context_task": [[125, 0], [125, 21]], "test_context": [[134, 4], [134, 16]], "test_run": [[232, 0], [232, 8]], "trigger_rule": [[189, 4], [189, 31]], "wait_for_completion": [[170, 4], [170, 33]], "wait_for_step": [[176, 4], [176, 17]], "waiter_max_attempts": [[173, 4], [173, 33]]}, "mod_var_occur": {"CONFIG_NAME": [["config_name", "CONFIG_NAME", "env_id"]], "DAG_ID": [["DAG", "dag_id", "DAG_ID", "start_date", "datetime", "schedule", "catchup", "False", "tags", "dag"]], "EXECUTION_ROLE_ARN_KEY": [["sys_test_context_task", "SystemTestContextBuilder", "add_variable", "EXECUTION_ROLE_ARN_KEY", "build"], ["execution_role_arn", "test_context", "EXECUTION_ROLE_ARN_KEY"]], "JOB_FLOW_OVERRIDES": [["JOB_FLOW_OVERRIDES", "s3_bucket"], ["JOB_FLOW_OVERRIDES", "config_name"], ["JOB_FLOW_OVERRIDES", "get_ami_id"], ["create_job_flow", "EmrCreateJobFlowOperator", "task_id", "job_flow_overrides", "JOB_FLOW_OVERRIDES"]], "SECURITY_CONFIGURATION": [["boto3", "client", "create_security_configuration", "Name", "config_name", "SecurityConfiguration", "json", "dumps", "SECURITY_CONFIGURATION"]], "SPARK_STEPS": [["JOB_FLOW_OVERRIDES", "False", "False", "SPARK_STEPS"], ["add_steps", "EmrAddStepsOperator", "task_id", "job_flow_id", "create_job_flow", "output", "steps", "SPARK_STEPS", "execution_role_arn", "execution_role_arn"]], "add_steps": [["add_steps", "wait_for_completion", "True"], ["add_steps", "waiter_max_attempts"], ["wait_for_step", "EmrStepSensor", "task_id", "job_flow_id", "create_job_flow", "output", "step_id", "get_step_id", "add_steps", "output"], ["chain", "test_context", "create_s3_bucket", "create_security_configuration", "create_job_flow", "modify_cluster", "add_steps", "wait_for_step", "remove_cluster", "check_job_flow", "delete_security_configuration", "delete_s3_bucket"]], "check_job_flow": [["check_job_flow", "poke_interval"], ["chain", "test_context", "create_s3_bucket", "create_security_configuration", "create_job_flow", "modify_cluster", "add_steps", "wait_for_step", "remove_cluster", "check_job_flow", "delete_security_configuration", "delete_s3_bucket"]], "config_name": [["JOB_FLOW_OVERRIDES", "config_name"], ["create_security_configuration", "configure_security_config", "config_name"], ["delete_security_configuration", "delete_security_config", "config_name"]], "create_job_flow": [["modify_cluster", "EmrModifyClusterOperator", "task_id", "cluster_id", "create_job_flow", "output", "step_concurrency_level"], ["add_steps", "EmrAddStepsOperator", "task_id", "job_flow_id", "create_job_flow", "output", "steps", "SPARK_STEPS", "execution_role_arn", "execution_role_arn"], ["wait_for_step", "EmrStepSensor", "task_id", "job_flow_id", "create_job_flow", "output", "step_id", "get_step_id", "add_steps", "output"], ["remove_cluster", "EmrTerminateJobFlowOperator", "task_id", "job_flow_id", "create_job_flow", "output"], ["check_job_flow", "EmrJobFlowSensor", "task_id", "job_flow_id", "create_job_flow", "output"], ["chain", "test_context", "create_s3_bucket", "create_security_configuration", "create_job_flow", "modify_cluster", "add_steps", "wait_for_step", "remove_cluster", "check_job_flow", "delete_security_configuration", "delete_s3_bucket"]], "create_s3_bucket": [["chain", "test_context", "create_s3_bucket", "create_security_configuration", "create_job_flow", "modify_cluster", "add_steps", "wait_for_step", "remove_cluster", "check_job_flow", "delete_security_configuration", "delete_s3_bucket"]], "create_security_configuration": [["chain", "test_context", "create_s3_bucket", "create_security_configuration", "create_job_flow", "modify_cluster", "add_steps", "wait_for_step", "remove_cluster", "check_job_flow", "delete_security_configuration", "delete_s3_bucket"]], "delete_s3_bucket": [["chain", "test_context", "create_s3_bucket", "create_security_configuration", "create_job_flow", "modify_cluster", "add_steps", "wait_for_step", "remove_cluster", "check_job_flow", "delete_security_configuration", "delete_s3_bucket"]], "delete_security_configuration": [["chain", "test_context", "create_s3_bucket", "create_security_configuration", "create_job_flow", "modify_cluster", "add_steps", "wait_for_step", "remove_cluster", "check_job_flow", "delete_security_configuration", "delete_s3_bucket"]], "env_id": [["config_name", "CONFIG_NAME", "env_id"], ["s3_bucket", "env_id"]], "execution_role_arn": [["add_steps", "EmrAddStepsOperator", "task_id", "job_flow_id", "create_job_flow", "output", "steps", "SPARK_STEPS", "execution_role_arn", "execution_role_arn"]], "modify_cluster": [["chain", "test_context", "create_s3_bucket", "create_security_configuration", "create_job_flow", "modify_cluster", "add_steps", "wait_for_step", "remove_cluster", "check_job_flow", "delete_security_configuration", "delete_s3_bucket"]], "poke_interval": [], "remove_cluster": [["remove_cluster", "trigger_rule", "TriggerRule", "ALL_DONE"], ["chain", "test_context", "create_s3_bucket", "create_security_configuration", "create_job_flow", "modify_cluster", "add_steps", "wait_for_step", "remove_cluster", "check_job_flow", "delete_security_configuration", "delete_s3_bucket"]], "s3_bucket": [["JOB_FLOW_OVERRIDES", "s3_bucket"], ["create_s3_bucket", "S3CreateBucketOperator", "task_id", "bucket_name", "s3_bucket"], ["delete_s3_bucket", "S3DeleteBucketOperator", "task_id", "bucket_name", "s3_bucket", "force_delete", "True", "trigger_rule", "TriggerRule", "ALL_DONE"]], "sys_test_context_task": [["test_context", "sys_test_context_task"]], "test_context": [["env_id", "test_context", "ENV_ID_KEY"], ["execution_role_arn", "test_context", "EXECUTION_ROLE_ARN_KEY"], ["chain", "test_context", "create_s3_bucket", "create_security_configuration", "create_job_flow", "modify_cluster", "add_steps", "wait_for_step", "remove_cluster", "check_job_flow", "delete_security_configuration", "delete_s3_bucket"]], "test_run": [], "trigger_rule": [["delete_s3_bucket", "S3DeleteBucketOperator", "task_id", "bucket_name", "s3_bucket", "force_delete", "True", "trigger_rule", "TriggerRule", "ALL_DONE"]], "wait_for_completion": [], "wait_for_step": [["chain", "test_context", "create_s3_bucket", "create_security_configuration", "create_job_flow", "modify_cluster", "add_steps", "wait_for_step", "remove_cluster", "check_job_flow", "delete_security_configuration", "delete_s3_bucket"]], "waiter_max_attempts": []}, "no_types_annot": {"D": 3, "I": 0, "U": 31}, "session_id": "y2CNxjGnCSylhxe7tZKXXyBm1TJSkgJDdfGy3Dz6HME", "set": null, "tc": [false, null], "type_annot_cove": 0.09, "typed_seq": "", "untyped_seq": "", "variables": {"CONFIG_NAME": "", "DAG_ID": "", "EXECUTION_ROLE_ARN_KEY": "", "JOB_FLOW_OVERRIDES": "", "SECURITY_CONFIGURATION": "", "SPARK_STEPS": "", "add_steps": "", "check_job_flow": "", "config_name": "", "create_job_flow": "", "create_s3_bucket": "", "create_security_configuration": "", "delete_s3_bucket": "", "delete_security_configuration": "", "env_id": "", "execution_role_arn": "", "modify_cluster": "", "poke_interval": "", "remove_cluster": "", "s3_bucket": "", "sys_test_context_task": "", "test_context": "", "test_run": "", "trigger_rule": "", "wait_for_completion": "", "wait_for_step": "", "waiter_max_attempts": ""}, "variables_p": {"CONFIG_NAME": [["str", 1.0]], "DAG_ID": [["transfer.models.TicketID", 0.3543830889930446], ["int", 0.17879835789751322], ["str", 0.12795686567658224]], "EXECUTION_ROLE_ARN_KEY": [["str", 0.7143162069757868], ["bool", 0.1904240267454457], ["Dict[str, str]", 0.09525976627876755]], "JOB_FLOW_OVERRIDES": [["str", 0.5599218964783679], ["int", 0.2684840125030054], ["Tuple[str, str]", 0.17159409101862685]], "SECURITY_CONFIGURATION": [["str", 0.38304955150930386], ["int", 0.22648360871817072], ["Tuple[str, Any]", 0.20043402371558944]], "SPARK_STEPS": [["str", 0.5464487876256904], ["Any[Any]", 0.12374610794513839], ["List[str]", 0.11486591710653303], ["int", 0.09133115983402075]], "add_steps": [["list", 0.5871581420709384], ["List[str]", 0.1957193806903128], ["Dict[str, List[Any]]", 0.0978596903451564]], "check_job_flow": [["int", 0.16612930843566728]], "config_name": [["str", 0.8968351648408398], ["Dict[str, str]", 0.10316483515916028]], "create_job_flow": [["raiden.utils.FeeAmount", 0.10676539290671179], ["Set[str]", 0.1010936960748833], ["raiden.utils.Any", 0.09220915999395972], ["datetime.timedelta", 0.09151566941773603], ["str", 0.0866329432469524], ["magic.models.card.Card", 0.08588321741220784], ["int", 0.07972165751774189]], "create_s3_bucket": [["str", 0.2832431913175286], ["int", 0.08121439340470224]], "create_security_configuration": [["raiden.utils.PaymentAmount", 0.3013622942294544], ["int", 0.09822985905221088]], "delete_s3_bucket": [["int", 0.297210069359923], ["raiden.utils.LockedAmount", 0.10325955453268439], ["raiden.tests.utils.factories.Properties", 0.0887654997472514]], "delete_security_configuration": [["int", 0.10514478544942792]], "env_id": [["str", 0.7122558420485984], ["Type[str]", 0.11064034113845299], ["list", 0.09246768520777983], ["List[str]", 0.08463613160516872]], "execution_role_arn": [["int", 0.9999999999999998]], "modify_cluster": [], "poke_interval": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "remove_cluster": [["float", 0.11513053599455408]], "s3_bucket": [["str", 1.0000000000000002]], "sys_test_context_task": [["str", 0.5096993297625712], ["int", 0.09793096367691599]], "test_context": [["str", 0.18936615502211418], ["List[Tuple[str, str, str, str]]", 0.14086849147283872], ["Dict[str, datetime.datetime]", 0.10047326680601996], ["List[Optional[Any]]", 0.10001188238398075], ["Dict[str, str]", 0.09883396528260052], ["Dict[str, Union[Any, int]]", 0.09676067506586264], ["Dict[Any, Union[Any, str]]", 0.09375130760073921], ["Dict[str, int]", 0.09006053219961548], ["Dict[str, Union[float, str]]", 0.08987372416622855]], "test_run": [["int", 0.4999999998760807], ["bool", 0.4999999998358487], ["str", 2.480259286043124e-10], ["list", 4.00446876512944e-11]], "trigger_rule": [["str", 0.3285006818488521], ["int", 0.15800250776452932], ["datetime.datetime.timedelta", 0.13838944261834732], ["datetime.datetime.datetime", 0.13838944261834732], ["Dict[str, List[Any]]", 0.07701315969431966]], "wait_for_completion": [["str", 0.5], ["bool", 0.2], ["Optional[Union[int, float]]", 0.1], ["Optional[bool]", 0.1], ["Optional[str]", 0.1]], "wait_for_step": [["int", 0.46297851213598173], ["raiden.tests.utils.factories.Properties", 0.12214399827895035], ["bool", 0.1155411107337785], ["Set[int]", 0.09013613285443536]], "waiter_max_attempts": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}}