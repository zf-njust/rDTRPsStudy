{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": "Checks the CIDR blocks of existing subnets and attempts to extrapolate the next available block.", "long_descr": null, "ret": null}, "fn_lc": [[27, 0], [45, 64]], "fn_var_ln": {"error_msg_template": [[29, 4], [29, 22]], "existing_cidr_blocks": [[38, 4], [38, 24]], "existing_subnets": [[32, 4], [32, 20]], "last_reserved_ip": [[44, 8], [44, 24]], "last_used_block": [[43, 4], [43, 19]], "vpc_filter": [[30, 4], [30, 14]]}, "fn_var_occur": {"error_msg_template": [["ValueError", "error_msg_template", "format"], ["ValueError", "error_msg_template", "format"]], "existing_cidr_blocks": [["existing_cidr_blocks", "IPv4Network", "subnet", "subnet", "existing_subnets"], ["len", "block", "prefixlen", "block", "existing_cidr_blocks"], ["last_used_block", "sorted", "existing_cidr_blocks"]], "existing_subnets": [["existing_subnets", "boto3", "client", "describe_subnets", "Filters", "vpc_filter"], ["existing_cidr_blocks", "IPv4Network", "subnet", "subnet", "existing_subnets"]], "last_reserved_ip": [["_", "last_reserved_ip", "last_used_block"], ["last_reserved_ip", "last_used_block", "prefixlen"]], "last_used_block": [["last_used_block", "sorted", "existing_cidr_blocks"], ["_", "last_reserved_ip", "last_used_block"], ["last_reserved_ip", "last_used_block", "prefixlen"]], "vpc_filter": [["vpc_filter", "vpc_id"], ["existing_subnets", "boto3", "client", "describe_subnets", "Filters", "vpc_filter"]]}, "name": "_get_next_available_cidr", "params": {"vpc_id": "builtins.str"}, "params_descr": {"vpc_id": ""}, "params_occur": {"vpc_id": [["vpc_filter", "vpc_id"]]}, "params_p": {"args": [], "kwargs": [], "vpc_id": [["str", 0.473965978621137], ["int", 0.32556927316744266], ["Optional[str]", 0.09160924653617471]]}, "q_name": "_get_next_available_cidr", "ret_exprs": ["return f\"{last_reserved_ip + 1}/{last_used_block.prefixlen}\""], "ret_type": "builtins.str", "ret_type_p": [["str", 0.7857156067343811], ["bool", 0.10882171855453403], ["Optional[str]", 0.10546267471108466]], "variables": {"error_msg_template": "", "existing_cidr_blocks": "", "existing_subnets": "", "last_reserved_ip": "", "last_used_block": "", "vpc_filter": ""}, "variables_p": {"error_msg_template": [["str", 0.9999999999999998]], "existing_cidr_blocks": [["Optional[int]", 0.18541572076235996], ["int", 0.1759031708335137], ["bool", 0.14506032426458082], ["list", 0.10646793860138057]], "existing_subnets": [["int", 0.11442522807690052], ["str", 0.07261422566248973]], "last_reserved_ip": [["str", 0.2654048695717751], ["Tuple[float]", 0.09983544544121062]], "last_used_block": [["list", 0.12737997011155172], ["Callable[[], int]", 0.08562210838304628]], "vpc_filter": [["Dict[str, str]", 0.28198589280970504], ["List[Dict[str, str]]", 0.11289886732076862], ["Dict[str, Any]", 0.10908486783229773], ["Dict[Any, Dict[str, Any]]", 0.09911843346237362], ["Dict[str, int]", 0.09358250685170115], ["Dict[Any, str]", 0.09311564610169992]]}}, {"docstring": {"func": "Returns the VPC ID of the account's default VPC.", "long_descr": null, "ret": null}, "fn_lc": [[49, 0], [52, 81]], "fn_var_ln": {"filters": [[51, 4], [51, 11]]}, "fn_var_occur": {"filters": [["boto3", "client", "describe_vpcs", "Filters", "filters"]]}, "name": "get_default_vpc_id", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "get_default_vpc_id", "ret_exprs": ["return boto3.client(\"ec2\").describe_vpcs(Filters=filters)[\"Vpcs\"][0][\"VpcId\"]"], "ret_type": "builtins.str", "ret_type_p": [["Callable", 0.29666583456391044], ["float", 0.1901425337270761], ["cmk.utils.type_defs.HostName", 0.11933389265649386], ["bool", 0.1048680694903697], ["Callable[[str], None]", 0.09888861152130347]], "variables": {"filters": ""}, "variables_p": {"filters": [["dict", 0.18122243866425747], ["str", 0.18080290931932874], ["Dict[str, Dict[str, Any]]", 0.08999932331570759]]}}, {"docstring": {"func": "Allocate a new IP address", "long_descr": null, "ret": null}, "fn_lc": [[56, 0], [58, 65]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "create_address_allocation", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "create_address_allocation", "ret_exprs": ["return boto3.client(\"ec2\").allocate_address()[\"AllocationId\"]"], "ret_type": "", "ret_type_p": [["str", 0.1986313785305841], ["Dict[str, Any]", 0.08246328794192334]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Create a NAT gateway", "long_descr": null, "ret": null}, "fn_lc": [[62, 0], [74, 25]], "fn_var_ln": {"client": [[64, 4], [64, 10]], "nat_gateway_id": [[65, 4], [65, 18]], "waiter": [[71, 4], [71, 10]]}, "fn_var_occur": {"client": [["client", "boto3", "client"], ["nat_gateway_id", "client", "create_nat_gateway", "AllocationId", "allocation_id", "SubnetId", "subnet_id", "ConnectivityType"], ["waiter", "client", "get_waiter"]], "nat_gateway_id": [["nat_gateway_id", "client", "create_nat_gateway", "AllocationId", "allocation_id", "SubnetId", "subnet_id", "ConnectivityType"], ["waiter", "wait", "NatGatewayIds", "nat_gateway_id"]], "waiter": [["waiter", "client", "get_waiter"], ["waiter", "wait", "NatGatewayIds", "nat_gateway_id"]]}, "name": "create_nat_gateway", "params": {"allocation_id": "builtins.str", "subnet_id": "builtins.str"}, "params_descr": {"allocation_id": "", "subnet_id": ""}, "params_occur": {"allocation_id": [["nat_gateway_id", "client", "create_nat_gateway", "AllocationId", "allocation_id", "SubnetId", "subnet_id", "ConnectivityType"]], "subnet_id": [["nat_gateway_id", "client", "create_nat_gateway", "AllocationId", "allocation_id", "SubnetId", "subnet_id", "ConnectivityType"]]}, "params_p": {"allocation_id": [["str", 0.07888274053545433]], "args": [], "kwargs": [], "subnet_id": [["str", 0.07888274053545433]]}, "q_name": "create_nat_gateway", "ret_exprs": ["return nat_gateway_id"], "ret_type": "", "ret_type_p": [["int", 0.3694047878398824], ["str", 0.2831464880565868], ["Optional[str]", 0.18381591652079804]], "variables": {"client": "", "nat_gateway_id": "", "waiter": ""}, "variables_p": {"client": [["Dict[str, Any]", 0.09316778028853852]], "nat_gateway_id": [["str", 0.759139126484628], ["Optional[str]", 0.09907779063821988]], "waiter": [["int", 0.4981829889873214], ["str", 0.14169355398698041], ["dict", 0.13108582761279464], ["Set[int]", 0.07875786771771351], ["Dict[str, List[str]]", 0.05827950457879969]]}}, {"docstring": {"func": "Create a route table for private subnets.", "long_descr": null, "ret": null}, "fn_lc": [[78, 0], [93, 25]], "fn_var_ln": {"client": [[80, 4], [80, 10]], "route_table_id": [[82, 4], [82, 18]], "tags": [[81, 4], [81, 8]]}, "fn_var_occur": {"client": [["client", "boto3", "client"], ["route_table_id", "client", "create_route_table", "VpcId", "vpc_id", "TagSpecifications", "tags"], ["client", "create_route", "RouteTableId", "route_table_id", "DestinationCidrBlock", "NatGatewayId", "nat_gateway_id"]], "route_table_id": [["route_table_id", "client", "create_route_table", "VpcId", "vpc_id", "TagSpecifications", "tags"], ["client", "create_route", "RouteTableId", "route_table_id", "DestinationCidrBlock", "NatGatewayId", "nat_gateway_id"]], "tags": [["tags", "test_name"], ["route_table_id", "client", "create_route_table", "VpcId", "vpc_id", "TagSpecifications", "tags"]]}, "name": "create_route_table", "params": {"nat_gateway_id": "builtins.str", "test_name": "builtins.str", "vpc_id": "builtins.str"}, "params_descr": {"nat_gateway_id": "", "test_name": "", "vpc_id": ""}, "params_occur": {"nat_gateway_id": [["client", "create_route", "RouteTableId", "route_table_id", "DestinationCidrBlock", "NatGatewayId", "nat_gateway_id"]], "test_name": [["tags", "test_name"]], "vpc_id": [["route_table_id", "client", "create_route_table", "VpcId", "vpc_id", "TagSpecifications", "tags"]]}, "params_p": {"args": [], "kwargs": [], "nat_gateway_id": [["str", 0.7009624915009873]], "test_name": [["str", 0.29304749434021526], ["List[str]", 0.20458575931942152], ["Optional[str]", 0.12916914497754575], ["Optional[Union[str, int]]", 0.09342383273017084]], "vpc_id": [["str", 0.5895734716096414], ["int", 0.16740566328754042], ["IO[bytes]", 0.15987239765735164]]}, "q_name": "create_route_table", "ret_exprs": ["return route_table_id"], "ret_type": "", "ret_type_p": [["str", 0.6140861234942627], ["list", 0.09928966809308377], ["Sequence[Optional[str]]", 0.09311192740982951], ["int", 0.09311192740982951]], "variables": {"client": "", "route_table_id": "", "tags": ""}, "variables_p": {"client": [], "route_table_id": [["str", 0.18009484504577322], ["bool", 0.09646800638950304]], "tags": [["str", 0.6866071647529255], ["Dict[str, str]", 0.2123271679504021], ["Dict[Any, str]", 0.10106566729667246]]}}, {"docstring": {"func": "Fargate Profiles require two private subnets in two different availability zones.", "long_descr": "These subnets require as well an egress route to the internet, using a NAT gateway to achieve this.", "ret": null}, "fn_lc": [[97, 0], [129, 21]], "fn_var_ln": {"client": [[108, 4], [108, 10]], "new_subnet": [[115, 8], [115, 18]], "subnet_ids": [[109, 4], [109, 14]], "tags": [[110, 4], [110, 8]], "zone_names": [[111, 4], [111, 14]]}, "fn_var_occur": {"client": [["client", "boto3", "client"], ["zone_names", "zone", "zone", "client", "describe_availability_zones"], ["new_subnet", "client", "create_subnet", "VpcId", "vpc_id", "CidrBlock", "cidr_block", "_get_next_available_cidr", "vpc_id", "AvailabilityZone", "zone_names", "counter", "TagSpecifications", "tags"], ["client", "get_waiter", "wait", "SubnetIds", "new_subnet"], ["client", "associate_route_table", "RouteTableId", "route_table_id", "SubnetId", "new_subnet"]], "new_subnet": [["new_subnet", "client", "create_subnet", "VpcId", "vpc_id", "CidrBlock", "cidr_block", "_get_next_available_cidr", "vpc_id", "AvailabilityZone", "zone_names", "counter", "TagSpecifications", "tags"], ["subnet_ids", "append", "new_subnet"], ["client", "get_waiter", "wait", "SubnetIds", "new_subnet"], ["client", "associate_route_table", "RouteTableId", "route_table_id", "SubnetId", "new_subnet"]], "subnet_ids": [["subnet_ids", "append", "new_subnet"]], "tags": [["tags", "test_name"], ["new_subnet", "client", "create_subnet", "VpcId", "vpc_id", "CidrBlock", "cidr_block", "_get_next_available_cidr", "vpc_id", "AvailabilityZone", "zone_names", "counter", "TagSpecifications", "tags"]], "zone_names": [["zone_names", "zone", "zone", "client", "describe_availability_zones"], ["new_subnet", "client", "create_subnet", "VpcId", "vpc_id", "CidrBlock", "cidr_block", "_get_next_available_cidr", "vpc_id", "AvailabilityZone", "zone_names", "counter", "TagSpecifications", "tags"]]}, "name": "create_private_subnets", "params": {"cidr_block": "str | None", "number_to_make": "builtins.int", "route_table_id": "builtins.str", "test_name": "builtins.str", "vpc_id": "builtins.str"}, "params_descr": {"cidr_block": "", "number_to_make": "", "route_table_id": "", "test_name": "", "vpc_id": ""}, "params_occur": {"cidr_block": [["new_subnet", "client", "create_subnet", "VpcId", "vpc_id", "CidrBlock", "cidr_block", "_get_next_available_cidr", "vpc_id", "AvailabilityZone", "zone_names", "counter", "TagSpecifications", "tags"]], "number_to_make": [["range", "number_to_make"]], "route_table_id": [["client", "associate_route_table", "RouteTableId", "route_table_id", "SubnetId", "new_subnet"]], "test_name": [["tags", "test_name"]], "vpc_id": [["new_subnet", "client", "create_subnet", "VpcId", "vpc_id", "CidrBlock", "cidr_block", "_get_next_available_cidr", "vpc_id", "AvailabilityZone", "zone_names", "counter", "TagSpecifications", "tags"]]}, "params_p": {"args": [], "cidr_block": [["str", 0.32354641257748046], ["Optional[int]", 0.17390338753203882], ["int", 0.1330570044205445], ["Optional[str]", 0.08856792306769848]], "kwargs": [], "number_to_make": [["str", 0.5908496936832124], ["Optional[str]", 0.18631621863983797]], "route_table_id": [["str", 0.6872355636054596], ["Optional[str]", 0.20348480736168573]], "test_name": [["str", 0.29341061733058016], ["List[str]", 0.20159363357834986], ["Optional[str]", 0.1334533888734985], ["Optional[Union[str, int]]", 0.09490927084606343]], "vpc_id": [["str", 0.32354641257748046], ["Optional[int]", 0.17390338753203882], ["int", 0.1330570044205445], ["Optional[str]", 0.08856792306769848]]}, "q_name": "create_private_subnets", "ret_exprs": ["return subnet_ids"], "ret_type": "", "ret_type_p": [["int", 0.6442790549301566], ["str", 0.2205196508803015]], "variables": {"client": "", "new_subnet": "", "subnet_ids": "", "tags": "", "zone_names": ""}, "variables_p": {"client": [["Dict[str, Any]", 0.13089782645221895]], "new_subnet": [["List[List[int]]", 0.170999788977237], ["str", 0.10087617049935625], ["restful_functions.modules.task.TaskStore", 0.09247673930218686], ["int", 0.09189602867020522], ["bytes", 0.08928000720041417], ["List[str]", 0.08654640606593045]], "subnet_ids": [["list", 0.589788199890273], ["int", 0.22745734698024922], ["str", 0.18275445312947786]], "tags": [["set", 0.28385170223634654], ["str", 0.20929995423318623], ["int", 0.07550405185808443], ["KeysView[str]", 0.07047874126415624]], "zone_names": [["str", 0.7785178071038981], ["Dict[str, str]", 0.11962889894173549], ["Pattern[str]", 0.10185329395436649]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[133, 0], [135, 58]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "delete_subnets", "params": {"subnets": ""}, "params_descr": {"subnets": ""}, "params_occur": {"subnets": []}, "params_p": {"args": [], "kwargs": [], "subnets": [["str", 0.39999999999999997], ["bool", 0.09999999999999999], ["Iterable[int]", 0.09999999999999999], ["T", 0.09999999999999999]]}, "q_name": "delete_subnets", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[139, 0], [140, 71]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "delete_route_table", "params": {"route_table_id": "builtins.str"}, "params_descr": {"route_table_id": ""}, "params_occur": {"route_table_id": [["boto3", "client", "delete_route_table", "RouteTableId", "route_table_id"]]}, "params_p": {"args": [], "kwargs": [], "route_table_id": [["str", 1.0]]}, "q_name": "delete_route_table", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[144, 0], [148, 47]], "fn_var_ln": {"client": [[145, 4], [145, 10]], "waiter": [[147, 4], [147, 10]]}, "fn_var_occur": {"client": [["client", "boto3", "client"], ["client", "delete_nat_gateway", "NatGatewayId", "nat_gateway_id"], ["waiter", "client", "get_waiter"]], "waiter": [["waiter", "client", "get_waiter"], ["waiter", "wait", "NatGatewayIds", "nat_gateway_id"]]}, "name": "delete_nat_gateway", "params": {"nat_gateway_id": "builtins.str"}, "params_descr": {"nat_gateway_id": ""}, "params_occur": {"nat_gateway_id": [["client", "delete_nat_gateway", "NatGatewayId", "nat_gateway_id"], ["waiter", "wait", "NatGatewayIds", "nat_gateway_id"]]}, "params_p": {"args": [], "kwargs": [], "nat_gateway_id": [["int", 0.7815829588203004], ["List[int]", 0.13656686104591753], ["str", 0.08185018013378216]]}, "q_name": "delete_nat_gateway", "ret_exprs": [], "ret_type": "None", "variables": {"client": "", "waiter": ""}, "variables_p": {"client": [["Dict[str, Any]", 0.19952806341685292]], "waiter": [["int", 0.4981829889873214], ["str", 0.14169355398698041], ["dict", 0.13108582761279464], ["Set[int]", 0.07875786771771351], ["Dict[str, List[str]]", 0.05827950457879969]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[152, 0], [153, 67]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "remove_address_allocation", "params": {"allocation_id": ""}, "params_descr": {"allocation_id": ""}, "params_occur": {"allocation_id": [["boto3", "client", "release_address", "AllocationId", "allocation_id"]]}, "params_p": {"allocation_id": [["str", 0.2025098851852272], ["int", 0.0891099550879782]], "args": [], "kwargs": []}, "q_name": "remove_address_allocation", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "imports": ["__future__", "annotations", "ipaddress", "IPv4Network", "boto3", "airflow", "decorators", "task", "airflow", "utils", "trigger_rule", "TriggerRule"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 18, "I": 0, "U": 27}, "session_id": "4EGtJwZqbcV3QaW2IH6P1DcOfsR7WSjVuSbhJ5nseZg", "set": null, "tc": [false, null], "type_annot_cove": 0.4, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}