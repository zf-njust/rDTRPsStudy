{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[32, 0], [45, 43]], "fn_var_ln": {"expected_status": [[38, 4], [38, 19]], "health_status": [[36, 4], [36, 17]], "most_recent_job": [[35, 4], [35, 41]]}, "fn_var_occur": {"expected_status": [["expected_status", "HEALTHY", "UNHEALTHY", "None", "None", "None", "None", "None"], ["health_status", "expected_status"]], "health_status": [["health_status", "get_airflow_health"], ["health_status", "expected_status"]], "most_recent_job": [["SchedulerJobRunner", "most_recent_job", "MagicMock", "return_value", "None"], ["TriggererJobRunner", "most_recent_job", "MagicMock", "return_value", "None"], ["DagProcessorJobRunner", "most_recent_job", "MagicMock", "return_value", "None"]]}, "name": "test_get_airflow_health_only_metadatabase_healthy", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_get_airflow_health_only_metadatabase_healthy", "ret_exprs": [], "ret_type": "", "variables": {"expected_status": "", "health_status": "", "most_recent_job": ""}, "variables_p": {"expected_status": [["int", 0.6307751332933006], ["dict", 0.11327784069401603], ["str", 0.0822560641487003], ["Generator[Any, None, None]", 0.07828981626787673]], "health_status": [["int", 0.18060361194742663], ["Dict[str, Optional[str]]", 0.13166538587314913], ["list", 0.08097351759692513], ["dict", 0.08084728025538816]], "most_recent_job": [["int", 0.10033037374689147]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[48, 0], [62, 43]], "fn_var_ln": {"expected_status": [[55, 4], [55, 19]], "health_status": [[53, 4], [53, 17]], "most_recent_job": [[51, 4], [51, 41]]}, "fn_var_occur": {"expected_status": [["expected_status", "UNHEALTHY", "UNHEALTHY", "None", "UNHEALTHY", "None", "UNHEALTHY", "None"], ["health_status", "expected_status"]], "health_status": [["health_status", "get_airflow_health"], ["health_status", "expected_status"]], "most_recent_job": [["SchedulerJobRunner", "most_recent_job", "MagicMock", "side_effect", "Exception"], ["TriggererJobRunner", "most_recent_job", "MagicMock", "side_effect", "Exception"], ["DagProcessorJobRunner", "most_recent_job", "MagicMock", "side_effect", "Exception"]]}, "name": "test_get_airflow_health_metadatabase_unhealthy", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_get_airflow_health_metadatabase_unhealthy", "ret_exprs": [], "ret_type": "", "variables": {"expected_status": "", "health_status": "", "most_recent_job": ""}, "variables_p": {"expected_status": [["int", 0.7502051827554085], ["Type[int]", 0.08309284342861285], ["Optional[int]", 0.08011862083876865]], "health_status": [["int", 0.18060361194742663], ["Dict[str, Optional[str]]", 0.13166538587314913], ["list", 0.08097351759692513], ["dict", 0.08084728025538816]], "most_recent_job": [["set", 0.1300863718379866], ["unittesmock._patch[Union[unittesmock.AsyncMock, unittesmock.MagicMock]]", 0.08991378941818809]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[65, 0], [85, 43]], "fn_var_ln": {"expected_status": [[75, 4], [75, 19]], "health_status": [[73, 4], [73, 17]], "is_alive": [[68, 4], [68, 38]], "latest_heartbeat": [[67, 4], [67, 46]], "latest_scheduler_job_mock": [[66, 4], [66, 29]], "most_recent_job": [[71, 4], [71, 41]]}, "fn_var_occur": {"expected_status": [["expected_status", "HEALTHY", "HEALTHY", "latest_scheduler_job_mock", "latest_heartbeat", "isoformat", "None", "None", "None", "None"], ["health_status", "expected_status"]], "health_status": [["health_status", "get_airflow_health"], ["health_status", "expected_status"]], "is_alive": [["latest_scheduler_job_mock", "is_alive", "MagicMock", "return_value", "True"]], "latest_heartbeat": [["latest_scheduler_job_mock", "latest_heartbeat", "datetime", "now"], ["expected_status", "HEALTHY", "HEALTHY", "latest_scheduler_job_mock", "latest_heartbeat", "isoformat", "None", "None", "None", "None"]], "latest_scheduler_job_mock": [["latest_scheduler_job_mock", "MagicMock"], ["latest_scheduler_job_mock", "latest_heartbeat", "datetime", "now"], ["latest_scheduler_job_mock", "is_alive", "MagicMock", "return_value", "True"], ["SchedulerJobRunner", "most_recent_job", "MagicMock", "return_value", "latest_scheduler_job_mock"], ["expected_status", "HEALTHY", "HEALTHY", "latest_scheduler_job_mock", "latest_heartbeat", "isoformat", "None", "None", "None", "None"]], "most_recent_job": [["SchedulerJobRunner", "most_recent_job", "MagicMock", "return_value", "latest_scheduler_job_mock"], ["TriggererJobRunner", "most_recent_job", "MagicMock", "return_value", "None"], ["DagProcessorJobRunner", "most_recent_job", "MagicMock", "return_value", "None"]]}, "name": "test_get_airflow_health_scheduler_healthy_no_triggerer", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_get_airflow_health_scheduler_healthy_no_triggerer", "ret_exprs": [], "ret_type": "", "variables": {"expected_status": "", "health_status": "", "is_alive": "", "latest_heartbeat": "", "latest_scheduler_job_mock": "", "most_recent_job": ""}, "variables_p": {"expected_status": [["list", 0.090269850610482], ["Optional[str]", 0.06991548565214507], ["int", 0.06981112032367837]], "health_status": [["int", 0.18060361194742663], ["Dict[str, Optional[str]]", 0.13166538587314913], ["list", 0.08097351759692513], ["dict", 0.08084728025538816]], "is_alive": [["unittesmock.MagicMock", 0.308323502048492]], "latest_heartbeat": [["dict", 0.1794654128230581], ["int", 0.1608928987758038], ["DefaultDict[Any, List[Any]]", 0.11951821391658814], ["str", 0.09671859797414221], ["unittesmock._patch[Union[unittesmock.AsyncMock, unittesmock.MagicMock]]", 0.08607311856536065], ["Dict[str, Union[Any, Any]]", 0.08598111769190085]], "latest_scheduler_job_mock": [["unittesmock.MagicMock", 0.43218136810929153]], "most_recent_job": [["unittesmock.MagicMock", 0.7014674343885201], ["mock.MagicMock", 0.2120998524689141], ["int", 0.08643271314256565]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[88, 0], [115, 43]], "fn_var_ln": {"expected_status": [[102, 4], [102, 19]], "health_status": [[100, 4], [100, 17]], "is_alive": [[94, 4], [94, 42]], "latest_dag_processor_job_mock": [[92, 4], [92, 33]], "latest_heartbeat": [[93, 4], [93, 50]], "latest_triggerer_job_mock": [[89, 4], [89, 29]], "most_recent_job": [[98, 4], [98, 41]]}, "fn_var_occur": {"expected_status": [["expected_status", "HEALTHY", "UNHEALTHY", "None", "HEALTHY", "latest_triggerer_job_mock", "latest_heartbeat", "isoformat", "HEALTHY", "latest_dag_processor_job_mock", "latest_heartbeat", "isoformat"], ["health_status", "expected_status"]], "health_status": [["health_status", "get_airflow_health"], ["health_status", "expected_status"]], "is_alive": [["latest_triggerer_job_mock", "is_alive", "MagicMock", "return_value", "True"], ["latest_dag_processor_job_mock", "is_alive", "MagicMock", "return_value", "True"]], "latest_dag_processor_job_mock": [["latest_dag_processor_job_mock", "MagicMock"], ["latest_dag_processor_job_mock", "latest_heartbeat", "datetime", "now"], ["latest_dag_processor_job_mock", "is_alive", "MagicMock", "return_value", "True"], ["DagProcessorJobRunner", "most_recent_job", "MagicMock", "return_value", "latest_dag_processor_job_mock"], ["expected_status", "HEALTHY", "UNHEALTHY", "None", "HEALTHY", "latest_triggerer_job_mock", "latest_heartbeat", "isoformat", "HEALTHY", "latest_dag_processor_job_mock", "latest_heartbeat", "isoformat"]], "latest_heartbeat": [["latest_triggerer_job_mock", "latest_heartbeat", "datetime", "now"], ["latest_dag_processor_job_mock", "latest_heartbeat", "datetime", "now"], ["expected_status", "HEALTHY", "UNHEALTHY", "None", "HEALTHY", "latest_triggerer_job_mock", "latest_heartbeat", "isoformat", "HEALTHY", "latest_dag_processor_job_mock", "latest_heartbeat", "isoformat"]], "latest_triggerer_job_mock": [["latest_triggerer_job_mock", "MagicMock"], ["latest_triggerer_job_mock", "latest_heartbeat", "datetime", "now"], ["latest_triggerer_job_mock", "is_alive", "MagicMock", "return_value", "True"], ["TriggererJobRunner", "most_recent_job", "MagicMock", "return_value", "latest_triggerer_job_mock"], ["expected_status", "HEALTHY", "UNHEALTHY", "None", "HEALTHY", "latest_triggerer_job_mock", "latest_heartbeat", "isoformat", "HEALTHY", "latest_dag_processor_job_mock", "latest_heartbeat", "isoformat"]], "most_recent_job": [["SchedulerJobRunner", "most_recent_job", "MagicMock", "return_value", "None"], ["TriggererJobRunner", "most_recent_job", "MagicMock", "return_value", "latest_triggerer_job_mock"], ["DagProcessorJobRunner", "most_recent_job", "MagicMock", "return_value", "latest_dag_processor_job_mock"]]}, "name": "test_get_airflow_health_triggerer_healthy_no_scheduler_job_record", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_get_airflow_health_triggerer_healthy_no_scheduler_job_record", "ret_exprs": [], "ret_type": "", "variables": {"expected_status": "", "health_status": "", "is_alive": "", "latest_dag_processor_job_mock": "", "latest_heartbeat": "", "latest_triggerer_job_mock": "", "most_recent_job": ""}, "variables_p": {"expected_status": [["staticmethod", 0.2979331230008519], ["int", 0.2580696343420913], ["List[Dict[str, Any]]", 0.13444590678609017], ["datetime.datetime.datetime", 0.10747793651943889], ["str", 0.10140438513717234], ["Dict[str, Union[Any, Any, Any]]", 0.1006690142143554]], "health_status": [["int", 0.18060361194742663], ["Dict[str, Optional[str]]", 0.13166538587314913], ["list", 0.08097351759692513], ["dict", 0.08084728025538816]], "is_alive": [["unittesmock.MagicMock", 0.3542894340601115], ["mock.Mock", 0.08743946467546977]], "latest_dag_processor_job_mock": [["unittesmock.MagicMock", 0.41203306195888695]], "latest_heartbeat": [["str", 0.43266559064727483], ["Optional[List[Any]]", 0.10348225204685987], ["Dict[str, List[str]]", 0.10050833481271709], ["Dict[str, Any]", 0.09389291656862478]], "latest_triggerer_job_mock": [["unittesmock.MagicMock", 0.43218136810929153]], "most_recent_job": [["unittesmock.MagicMock", 0.4652442258806707], ["int", 0.09441486445271031]]}}], "imports": ["__future__", "annotations", "datetime", "datetime", "unittest", "mock", "MagicMock", "airflow", "api", "common", "airflow_health", "HEALTHY", "UNHEALTHY", "DagProcessorJobRunner", "SchedulerJobRunner", "TriggererJobRunner", "get_airflow_health"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 23}, "session_id": "C57eAZX8Hb746KLP9OP0AKxrKOd0U2OQSLDfh5lvSHU", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}