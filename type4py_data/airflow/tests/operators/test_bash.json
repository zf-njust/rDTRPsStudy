{"error": null, "response": {"classes": [{"cls_lc": [[41, 0], [221, 21]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": "Test that env variables are exported correctly to the task bash environment.", "long_descr": null, "ret": null}, "fn_lc": [[49, 4], [99, 41]], "fn_var_ln": {"dag": [[63, 8], [63, 11]], "expected": [[54, 8], [54, 16]], "output": [[98, 16], [98, 22]], "task": [[79, 12], [79, 16]], "utc_now": [[53, 8], [53, 15]]}, "fn_var_occur": {"dag": [["dag", "DAG", "dag_id", "default_args", "DEFAULT_DATE", "schedule", "dagrun_timeout", "timedelta", "minutes"], ["dag", "create_dagrun", "run_type", "DagRunType", "MANUAL", "execution_date", "utc_now", "start_date", "utc_now", "state", "State", "RUNNING", "external_trigger", "False"], ["task", "BashOperator", "task_id", "dag", "dag", "bash_command", "format", "tmp_file", "name", "append_env", "append_env", "env", "user_defined_env"]], "expected": [["expected", "expected_airflow_home", "utc_now", "isoformat", "utc_now", "isoformat"], ["expected", "output"]], "output": [["output", "join", "file", "readlines"], ["expected", "output"]], "task": [["task", "BashOperator", "task_id", "dag", "dag", "bash_command", "format", "tmp_file", "name", "append_env", "append_env", "env", "user_defined_env"], ["task", "run", "utc_now", "utc_now", "ignore_first_depends_on_past", "True", "ignore_ti_state", "True"]], "utc_now": [["utc_now", "datetime", "utcnow", "replace", "tzinfo", "timezone", "utc"], ["expected", "expected_airflow_home", "utc_now", "isoformat", "utc_now", "isoformat"], ["dag", "create_dagrun", "run_type", "DagRunType", "MANUAL", "execution_date", "utc_now", "start_date", "utc_now", "state", "State", "RUNNING", "external_trigger", "False"], ["task", "run", "utc_now", "utc_now", "ignore_first_depends_on_past", "True", "ignore_ti_state", "True"]]}, "name": "test_echo_env_variables", "params": {"append_env": "", "expected_airflow_home": "", "self": "", "user_defined_env": ""}, "params_descr": {"append_env": "", "expected_airflow_home": "", "self": "", "user_defined_env": ""}, "params_occur": {"append_env": [["task", "BashOperator", "task_id", "dag", "dag", "bash_command", "format", "tmp_file", "name", "append_env", "append_env", "env", "user_defined_env"]], "expected_airflow_home": [["expected", "expected_airflow_home", "utc_now", "isoformat", "utc_now", "isoformat"]], "self": [], "user_defined_env": [["task", "BashOperator", "task_id", "dag", "dag", "bash_command", "format", "tmp_file", "name", "append_env", "append_env", "env", "user_defined_env"]]}, "params_p": {"append_env": [["str", 0.3102773385213942], ["int", 0.18892612042797036], ["Dict[str, str]", 0.09973386313362162], ["Tuple[float, float, float, float]", 0.09559085687814495]], "args": [], "expected_airflow_home": [["str", 0.36106955203338326], ["int", 0.1085761247775352], ["bool", 0.10767468907652059], ["Tuple[paradigm.models.Base, tests.utils.Kwargs]", 0.0910645907787534], ["Optional[str]", 0.08073792235822737]], "kwargs": [], "self": [], "user_defined_env": [["str", 0.3102773385213942], ["int", 0.18892612042797036], ["Dict[str, str]", 0.09973386313362162], ["Tuple[float, float, float, float]", 0.09559085687814495]]}, "q_name": "TestBashOperator.test_echo_env_variables", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "expected": "", "output": "", "task": "", "utc_now": ""}, "variables_p": {"dag": [["str", 0.2846610373552087], ["int", 0.10525588636179274], ["Tuple[Any, Any, Any, Any, Any, Any, Any, Any, Any, Any]", 0.0986641399841115], ["byceps.services.party.transfer.models.Party", 0.09235401710150443], ["byceps.services.user.models.detail.UserDetail", 0.08917533878380847], ["src.pip_shims.models.PipVersion", 0.08585534530646577], ["list", 0.0795043469128967]], "expected": [["Tuple[List[int], List[int]]", 0.3628359100757959], ["str", 0.18141795503789795], ["List[Dict[str, str]]", 0.1249685719324673], ["List[str]", 0.1249685719324673], ["mock.MagicMock", 0.11510001350242256], ["Dict[str, str]", 0.09070897751894898]], "output": [["str", 0.6527036261989778], ["List[Dict[str, Any]]", 0.10100177040407028]], "task": [["Dict[str, Union[int, str]]", 0.08952025111280182], ["List[Tuple[Any, str]]", 0.08889640745051108], ["bytes", 0.08446603651465885]], "utc_now": [["datetime.timedelta", 0.8080751507523162], ["str", 0.09960482790618166], ["datetime.datetime", 0.09232002134150205]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[110, 4], [113, 31]], "fn_var_ln": {"line": [[112, 8], [112, 12]], "op": [[111, 8], [111, 10]]}, "fn_var_occur": {"line": [["line", "op", "execute"], ["line", "expected"]], "op": [["op", "BashOperator", "task_id", "bash_command", "val"], ["line", "op", "execute"]]}, "name": "test_return_value", "params": {"expected": "", "self": "", "val": ""}, "params_descr": {"expected": "", "self": "", "val": ""}, "params_occur": {"expected": [["line", "expected"]], "self": [], "val": [["op", "BashOperator", "task_id", "bash_command", "val"]]}, "params_p": {"args": [], "expected": [["str", 0.8770135032493759]], "kwargs": [], "self": [], "val": [["str", 0.3706469519298158], ["dict", 0.19157853053808538], ["Optional[str]", 0.17800389087642363], ["int", 0.17312129935967832]]}, "q_name": "TestBashOperator.test_return_value", "ret_exprs": [], "ret_type": "", "variables": {"line": "", "op": ""}, "variables_p": {"line": [["int", 0.7867579940113083], ["Dict[str, Any]", 0.1188641240135596], ["qcodes.utils.validators.Ints", 0.09437788197513208]], "op": [["Pattern[Any]", 0.24637616861431855], ["str", 0.19200367381181438], ["Dict[str, Union[Any, Any, Any]]", 0.1137023328442507], ["Dict[str, Dict[str, Any]]", 0.09475987517672697], ["Dict[int, str]", 0.0914957961613767], ["int", 0.0880014904866342]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[115, 4], [120, 45]], "fn_var_ln": {"bash_operator": [[116, 8], [116, 21]]}, "fn_var_occur": {"bash_operator": [["bash_operator", "BashOperator", "bash_command", "task_id", "dag", "None"], ["bash_operator", "execute", "context"]]}, "name": "test_raise_exception_on_non_zero_exit_code", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBashOperator.test_raise_exception_on_non_zero_exit_code", "ret_exprs": [], "ret_type": "", "variables": {"bash_operator": ""}, "variables_p": {"bash_operator": [["raiden.utils.Address", 0.1420905919844617]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[122, 4], [127, 41]], "fn_var_ln": {"bash_operator": [[123, 8], [123, 21]]}, "fn_var_occur": {"bash_operator": [["bash_operator", "BashOperator", "bash_command", "task_id", "retries", "dag", "None"], ["bash_operator", "retries"]]}, "name": "test_task_retries", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBashOperator.test_task_retries", "ret_exprs": [], "ret_type": "", "variables": {"bash_operator": ""}, "variables_p": {"bash_operator": [["raiden.utils.PaymentID", 0.152575371428425], ["raiden.utils.TargetAddress", 0.08094272143488807], ["raiden.utils.MessageID", 0.07756920452403251]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[129, 4], [132, 41]], "fn_var_ln": {"bash_operator": [[130, 8], [130, 21]]}, "fn_var_occur": {"bash_operator": [["bash_operator", "BashOperator", "bash_command", "task_id", "dag", "None"], ["bash_operator", "retries"]]}, "name": "test_default_retries", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBashOperator.test_default_retries", "ret_exprs": [], "ret_type": "", "variables": {"bash_operator": ""}, "variables_p": {"bash_operator": [["raiden.utils.Address", 0.1420905919844617]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[134, 4], [138, 103]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_command_not_found", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBashOperator.test_command_not_found", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[140, 4], [144, 26]], "fn_var_ln": {"line": [[143, 8], [143, 12]], "op": [[142, 8], [142, 10]], "val": [[141, 8], [141, 11]]}, "fn_var_occur": {"line": [["line", "op", "execute"], ["line", "val"]], "op": [["op", "BashOperator", "task_id", "bash_command", "val"], ["line", "op", "execute"]], "val": [["op", "BashOperator", "task_id", "bash_command", "val"], ["line", "val"]]}, "name": "test_unset_cwd", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBashOperator.test_unset_cwd", "ret_exprs": [], "ret_type": "", "variables": {"line": "", "op": "", "val": ""}, "variables_p": {"line": [["int", 0.7867579940113083], ["Dict[str, Any]", 0.1188641240135596], ["qcodes.utils.validators.Ints", 0.09437788197513208]], "op": [["Pattern[Any]", 0.24637616861431855], ["str", 0.19200367381181438], ["Dict[str, Union[Any, Any, Any]]", 0.1137023328442507], ["Dict[str, Dict[str, Any]]", 0.09475987517672697], ["Dict[int, str]", 0.0914957961613767], ["int", 0.0880014904866342]], "val": [["KeysView[str]", 0.16718333461962467], ["dict", 0.1531702506972959], ["OrderedDict", 0.1275355681285501], ["List[tuple]", 0.1132586394148918], ["Dict[str, Any]", 0.0969339513314116], ["List[str]", 0.08595227012319333], ["float", 0.085920982582076], ["str", 0.08082865378101099]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[146, 4], [154, 37]], "fn_var_ln": {"bash_operator": [[152, 8], [152, 21]], "test_cmd": [[147, 8], [147, 16]]}, "fn_var_occur": {"bash_operator": [["bash_operator", "BashOperator", "task_id", "bash_command", "test_cmd", "cwd", "tmp_dir"], ["bash_operator", "execute"]], "test_cmd": [["bash_operator", "BashOperator", "task_id", "bash_command", "test_cmd", "cwd", "tmp_dir"]]}, "name": "test_cwd_does_not_exist", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBashOperator.test_cwd_does_not_exist", "ret_exprs": [], "ret_type": "", "variables": {"bash_operator": "", "test_cmd": ""}, "variables_p": {"bash_operator": [["int", 0.2887861602378148], ["list", 0.10026337933119606], ["str", 0.07857441848701673], ["bool", 0.07448927452502364]], "test_cmd": [["str", 0.4056197722022138], ["int", 0.10113900148441954], ["List[str]", 0.09980687541616788], ["Dict[str, Union[None, Any, Any, int, str]]", 0.09830314557549326], ["List[Dict[str, str]]", 0.09228897133582546]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[156, 4], [161, 97]], "fn_var_ln": {"test_cmd": [[157, 8], [157, 16]]}, "fn_var_occur": {"test_cmd": [["BashOperator", "task_id", "bash_command", "test_cmd", "cwd", "tmp_file", "name", "execute"]]}, "name": "test_cwd_is_file", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBashOperator.test_cwd_is_file", "ret_exprs": [], "ret_type": "", "variables": {"test_cmd": ""}, "variables_p": {"test_cmd": [["str", 0.4697716587819173]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[163, 4], [170, 64]], "fn_var_ln": {"result": [[167, 12], [167, 18]], "test_cmd": [[164, 8], [164, 16]]}, "fn_var_occur": {"result": [["result", "BashOperator", "task_id", "bash_command", "test_cmd", "cwd", "test_cwd_folder", "execute"]], "test_cmd": [["result", "BashOperator", "task_id", "bash_command", "test_cmd", "cwd", "test_cwd_folder", "execute"]]}, "name": "test_valid_cwd", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBashOperator.test_valid_cwd", "ret_exprs": [], "ret_type": "", "variables": {"result": "", "test_cmd": ""}, "variables_p": {"result": [["str", 0.5017447292114791], ["Dict[str, Any]", 0.08910453486120545]], "test_cmd": [["str", 0.6118476349304014], ["Dict[str, Union[None, Any, Any, int, str]]", 0.10473370729486266], ["List[Union[Any, Any]]", 0.07836685016024095]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[186, 4], [194, 50]], "fn_var_ln": {"kwargs": [[187, 8], [187, 14]]}, "fn_var_occur": {"kwargs": [["kwargs", "dict", "task_id", "bash_command", "actual_exit_code"], ["kwargs", "update", "extra_kwargs"], ["BashOperator", "kwargs", "execute"], ["BashOperator", "kwargs", "execute"]]}, "name": "test_skip", "params": {"actual_exit_code": "", "expected_exc": "", "extra_kwargs": "", "self": ""}, "params_descr": {"actual_exit_code": "", "expected_exc": "", "extra_kwargs": "", "self": ""}, "params_occur": {"actual_exit_code": [["kwargs", "dict", "task_id", "bash_command", "actual_exit_code"]], "expected_exc": [["expected_exc", "None"], ["pytest", "raises", "expected_exc"]], "extra_kwargs": [["kwargs", "update", "extra_kwargs"]], "self": []}, "params_p": {"actual_exit_code": [["str", 0.22665039946769067], ["Tuple[str]", 0.0997589285898424]], "args": [], "expected_exc": [["bool", 0.18594267717156476], ["Optional[\"Game\"]", 0.12049213077674084], ["raiden.utils.Secret", 0.0919122710109099], ["Optional[Callable[[str], bool]]", 0.08856830295170773]], "extra_kwargs": [["Optional[List[str]]", 0.10433458111823128], ["salon.models.Stylist", 0.0968949670669896], ["Dict[str, Union[str, int]]", 0.09155037484573901]], "kwargs": [], "self": []}, "q_name": "TestBashOperator.test_skip", "ret_exprs": [], "ret_type": "", "variables": {"kwargs": ""}, "variables_p": {"kwargs": [["dict", 0.12158591977950849], ["taskiapplication.models.task.Task", 0.09452764319643832]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[196, 4], [202, 30]], "fn_var_ln": {"op": [[197, 8], [197, 10]]}, "fn_var_occur": {"op": [["op", "BashOperator", "task_id", "bash_command", "output_encoding"], ["op", "execute", "context"]]}, "name": "test_bash_operator_multi_byte_output", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBashOperator.test_bash_operator_multi_byte_output", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["Pattern[Any]", 0.2857531150644979], ["Dict[str, str]", 0.18869067876318152], ["List[str]", 0.17888500665146562], ["int", 0.16988693070542255], ["Dict[str, Optional[str]]", 0.09309479786057097], ["Dict[Any, int]", 0.08368947095486151]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[204, 4], [221, 21]], "fn_var_ln": {"op": [[209, 12], [209, 14]], "sleep_time": [[207, 8], [207, 18]]}, "fn_var_occur": {"op": [["op", "BashOperator", "task_id", "execution_timeout", "timedelta", "microseconds", "bash_command", "sleep_time"], ["op", "run"]], "sleep_time": [["sleep_time", "os", "getpid"], ["op", "BashOperator", "task_id", "execution_timeout", "timedelta", "microseconds", "bash_command", "sleep_time"], ["proc", "cmdline", "sleep_time"]]}, "name": "test_bash_operator_kill", "params": {"dag_maker": "", "self": ""}, "params_descr": {"dag_maker": "", "self": ""}, "params_occur": {"dag_maker": [], "self": []}, "params_p": {"args": [], "dag_maker": [["str", 0.2], ["Mapping[str, Any]", 0.1]], "kwargs": [], "self": []}, "q_name": "TestBashOperator.test_bash_operator_kill", "ret_exprs": [], "ret_type": "", "variables": {"op": "", "sleep_time": ""}, "variables_p": {"op": [["int", 0.15382186101900513], ["venv.Lib.site-packages.mypy.build.State", 0.08965288587694575], ["float", 0.08880475857023513], ["List[bool]", 0.08861262563503508], ["List[int]", 0.08787375956238969]], "sleep_time": [["int", 0.2891434592234729], ["datetime.date", 0.2825192119743206], ["datetime.timedelta", 0.1340842018448068], ["raiden.utils.PaymentAmount", 0.10207911393098872]]}}], "name": "TestBashOperator", "q_name": "TestBashOperator", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "os", "signal", "datetime", "datetime", "timedelta", "tempfile", "NamedTemporaryFile", "TemporaryDirectory", "time", "sleep", "unittest", "mock", "pytest", "airflow", "exceptions", "AirflowException", "AirflowSkipException", "AirflowTaskTimeout", "airflow", "models", "dag", "DAG", "airflow", "operators", "bash", "BashOperator", "airflow", "utils", "timezone", "airflow", "utils", "state", "State", "airflow", "utils", "types", "DagRunType", "psutil"], "mod_var_ln": {"DEFAULT_DATE": [[36, 0], [36, 12]], "END_DATE": [[37, 0], [37, 8]], "INTERVAL": [[38, 0], [38, 8]]}, "mod_var_occur": {"DEFAULT_DATE": [["dag", "DAG", "dag_id", "default_args", "DEFAULT_DATE", "schedule", "dagrun_timeout", "timedelta", "minutes"]], "END_DATE": [], "INTERVAL": []}, "no_types_annot": {"D": 0, "I": 0, "U": 47}, "session_id": "dZlBqe2sSl896dbsh6wnonlZMew0b7QvXe1Sds8FDdg", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"DEFAULT_DATE": "", "END_DATE": "", "INTERVAL": ""}, "variables_p": {"DEFAULT_DATE": [["raiden.transfer.state.NettingChannelState", 0.18383876311067654], ["mythril.laser.ethereum.state.accounAccount", 0.11771247716530553], ["str", 0.08901497703497636], ["Optional[raiden.transfer.state.NettingChannelState]", 0.08497164892581896], ["ajapaik.ajapaik.models.AlbumPhoto", 0.08362107489098482], ["raiden.transfer.state.ChainState", 0.08071831564955544]], "END_DATE": [["Optional[datetime.date]", 0.2], ["str", 0.2], ["Optional[datetime.datetime]", 0.1], ["Type[leasing.models.decision.Decision]", 0.1]], "INTERVAL": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}}