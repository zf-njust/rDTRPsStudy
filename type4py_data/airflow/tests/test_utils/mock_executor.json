{"error": null, "response": {"classes": [{"cls_lc": [[29, 0], [101, 99]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[34, 4], [49, 41]], "fn_var_ln": {"_running": [[36, 8], [36, 21]], "callback_sink": [[37, 8], [37, 26]], "do_update": [[35, 8], [35, 22]], "history": [[40, 8], [40, 20]], "mock_task_results": [[47, 8], [47, 30]], "sorted_tasks": [[42, 8], [42, 25]]}, "fn_var_occur": {"_running": [["self", "_running"]], "callback_sink": [["self", "callback_sink", "MagicMock"]], "do_update": [["self", "do_update", "do_update"]], "history": [["self", "history"]], "mock_task_results": [["self", "mock_task_results", "defaultdict", "self", "success"]], "sorted_tasks": [["self", "sorted_tasks"]]}, "name": "__init__", "params": {"args": "", "do_update": "", "kwargs": "", "self": ""}, "params_descr": {"args": "", "do_update": "", "kwargs": "", "self": ""}, "params_occur": {"args": [["super", "__init__", "args", "kwargs"]], "do_update": [["self", "do_update", "do_update"]], "kwargs": [["super", "__init__", "args", "kwargs"]], "self": [["self", "do_update", "do_update"], ["self", "_running"], ["self", "callback_sink", "MagicMock"], ["self", "history"], ["self", "sorted_tasks"], ["self", "mock_task_results", "defaultdict", "self", "success"]]}, "params_p": {"args": [], "do_update": [["int", 0.6040577637264297], ["bool", 0.09596462471433026], ["Union[str, float]", 0.08318074546159353]], "kwargs": [], "self": []}, "q_name": "MockExecutor.__init__", "ret_exprs": [], "ret_type": "", "variables": {"_running": "", "callback_sink": "", "do_update": "", "history": "", "mock_task_results": "", "sorted_tasks": ""}, "variables_p": {"_running": [["int", 0.9999999999999999]], "callback_sink": [["Dict[Tuple[str, int], Dict[Any, Any]]", 0.2754099539026278], ["Dict[Any, Type[Any]]", 0.14698707017829882], ["Dict[Any, Optional[Any]]", 0.14698707017829882], ["List[str]", 0.0980825433762096], ["Dict[str, Union[Any, Any]]", 0.0841237118930299], ["Dict[Tuple[str, ...], List[float]]", 0.08336372988216675]], "do_update": [["bool", 0.24619930640129328], ["dict", 0.17791536896409973], ["Dict[Any, str]", 0.14246531032387932], ["Dict[str, str]", 0.07743173707933461], ["Dict[Any, float]", 0.07668552597063204], ["Dict[str, Union[None, bool, str]]", 0.07323452794299341], ["Dict[str, Union[dict, Any, Any]]", 0.07323452794299341], ["str", 0.06673887477547953], ["Dict[str, int]", 0.06609482059929468]], "history": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]], "mock_task_results": [["str", 0.8138493533761844], ["Dict[str, Any]", 0.10120139959989692], ["Dict[str, int]", 0.0849492470239187]], "sorted_tasks": [["List[str]", 0.18933249003794167], ["int", 0.1720812195184203], ["str", 0.1018223056661681], ["float", 0.10078602845145143], ["\"Point\"", 0.09547360702533106]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[51, 4], [52, 28]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "success", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "MockExecutor.success", "ret_exprs": ["return State.SUCCESS"], "ret_type": "", "ret_type_p": [["Callable", 0.19634032570617013], ["List[str]", 0.19589933106681537], ["dict", 0.1849026103793498], ["ajapaik.ajapaik.models.Album", 0.11519026209149125], ["int", 0.11464050988770319]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[63, 12], [68, 74]], "fn_var_ln": {"_": [[66, 29], [66, 30]], "dag_id": [[65, 17], [65, 23]], "date": [[65, 34], [65, 38]], "key": [[64, 16], [64, 19]], "map_index": [[65, 52], [65, 61]], "prio": [[66, 20], [66, 24]], "task_id": [[65, 25], [65, 32]], "try_number": [[65, 40], [65, 50]], "val": [[64, 21], [64, 24]]}, "fn_var_occur": {"_": [["_", "prio", "_", "_", "val"]], "dag_id": [["dag_id", "task_id", "date", "try_number", "map_index", "key"], ["prio", "date", "dag_id", "task_id", "map_index", "try_number"]], "date": [["dag_id", "task_id", "date", "try_number", "map_index", "key"], ["prio", "date", "dag_id", "task_id", "map_index", "try_number"]], "key": [["key", "val", "item"], ["dag_id", "task_id", "date", "try_number", "map_index", "key"]], "map_index": [["dag_id", "task_id", "date", "try_number", "map_index", "key"], ["prio", "date", "dag_id", "task_id", "map_index", "try_number"]], "prio": [["_", "prio", "_", "_", "val"], ["prio", "date", "dag_id", "task_id", "map_index", "try_number"]], "task_id": [["dag_id", "task_id", "date", "try_number", "map_index", "key"], ["prio", "date", "dag_id", "task_id", "map_index", "try_number"]], "try_number": [["dag_id", "task_id", "date", "try_number", "map_index", "key"], ["prio", "date", "dag_id", "task_id", "map_index", "try_number"]], "val": [["key", "val", "item"], ["_", "prio", "_", "_", "val"]]}, "name": "sort_by", "params": {"item": ""}, "params_descr": {"item": ""}, "params_occur": {"item": [["key", "val", "item"]]}, "params_p": {"args": [], "item": [["dict", 0.4875483103691207]], "kwargs": [], "self": []}, "q_name": "MockExecutor.heartbeat.<locals>.sort_by", "ret_exprs": ["return -prio, date, dag_id, task_id, map_index, try_number"], "ret_type": "", "ret_type_p": [["str", 0.17780416540603636], ["topicdb.core.models.language.Language", 0.13130466533044052], ["Optional[str]", 0.08586796246621366], ["float", 0.07927073512839146]], "variables": {"_": "", "dag_id": "", "date": "", "key": "", "map_index": "", "prio": "", "task_id": "", "try_number": "", "val": ""}, "variables_p": {"_": [["int", 0.21819262854268634], ["bytes", 0.20958548233961435], ["List[str]", 0.16153103165196242], ["list", 0.15363733943813332], ["List[int]", 0.1425304225647311], ["float", 0.11452309546287252]], "dag_id": [["str", 0.2610425008771459], ["int", 0.2512275029999592]], "date": [["dict", 0.26113172272338897], ["str", 0.22673018126258396], ["list", 0.09615103437543865], ["Pattern[str]", 0.06819476430503951], ["Optional[str]", 0.06772985807845906]], "key": [["str", 0.6971438168141779], ["Dict[str, int]", 0.10945992832012219], ["int", 0.09852868442035352], ["cmk.utils.type_defs.UserId", 0.09486757044534634]], "map_index": [["Optional[magic.models.deck.Deck]", 0.19628840423618846], ["dict", 0.1167727632304658], ["backend.api.models.group.Group", 0.10713539122586246], ["int", 0.1032402173990093], ["byceps.services.user.transfer.models.User", 0.09537842341891545], ["buza.models.Subject", 0.08857842008746879]], "prio": [["int", 0.2507590410640952], ["float", 0.1986493604630619], ["set", 0.0813291737836417]], "task_id": [["str", 0.2661773562562229], ["int", 0.22597205426660716]], "try_number": [["Optional[magic.models.deck.Deck]", 0.19628840423618846], ["dict", 0.1167727632304658], ["backend.api.models.group.Group", 0.10713539122586246], ["int", 0.1032402173990093], ["byceps.services.user.transfer.models.User", 0.09537842341891545], ["buza.models.Subject", 0.08857842008746879]], "val": [["Type[str]", 0.16698448778739491], ["int", 0.11884426091381832], ["List[Union[Any, Any]]", 0.09829749212187323], ["Tuple[int, int]", 0.08208779325833386], ["List[int]", 0.08140163075831723], ["List[str]", 0.072733843642828], ["src.utils.utils.ModP", 0.07211950983076698]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[54, 4], [78, 45]], "fn_var_ln": {"_": [[73, 29], [73, 30]], "key": [[73, 17], [73, 20]], "open_slots": [[70, 12], [70, 22]], "sorted_queue": [[71, 12], [71, 24]], "state": [[76, 16], [76, 21]], "ti": [[73, 32], [73, 34]]}, "fn_var_occur": {"_": [["key", "_", "_", "_", "ti", "sorted_queue", "index"]], "key": [["sorted_queue", "sorted", "self", "queued_tasks", "items", "key", "sort_by"], ["key", "_", "_", "_", "ti", "sorted_queue", "index"], ["self", "queued_tasks", "pop", "key"], ["state", "self", "mock_task_results", "key"], ["self", "change_state", "key", "state"]], "open_slots": [["open_slots", "self", "parallelism", "len", "self", "running"], ["range", "min", "open_slots", "len", "sorted_queue"]], "sorted_queue": [["sorted_queue", "sorted", "self", "queued_tasks", "items", "key", "sort_by"], ["range", "min", "open_slots", "len", "sorted_queue"], ["key", "_", "_", "_", "ti", "sorted_queue", "index"]], "state": [["state", "self", "mock_task_results", "key"], ["ti", "set_state", "state", "session", "session"], ["self", "change_state", "key", "state"]], "ti": [["key", "_", "_", "_", "ti", "sorted_queue", "index"], ["ti", "_try_number"], ["ti", "set_state", "state", "session", "session"]]}, "name": "heartbeat", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["open_slots", "self", "parallelism", "len", "self", "running"], ["sorted_queue", "sorted", "self", "queued_tasks", "items", "key", "sort_by"], ["self", "queued_tasks", "pop", "key"], ["state", "self", "mock_task_results", "key"], ["self", "change_state", "key", "state"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "MockExecutor.heartbeat", "ret_exprs": ["return"], "ret_type": "", "ret_type_p": [["Union[tuple, list]", 0.12326783261663934], ["List[int]", 0.09124591253820835], ["Dict[str, Any]", 0.08769568774684897], ["str", 0.08682447752895113]], "variables": {"_": "", "key": "", "open_slots": "", "sorted_queue": "", "state": "", "ti": ""}, "variables_p": {"_": [["str", 0.48304528054898055], ["int", 0.12373660723142725], ["List[str]", 0.12373660723142725], ["float", 0.08982716832938833], ["Dict[str, Any]", 0.08982716832938833], ["List[List[int]]", 0.08982716832938833]], "key": [["str", 0.21709071100067606], ["list", 0.19178156326411208], ["dict", 0.10698997305699119], ["set", 0.0980067281458848], ["qutebrowser.utils.urlmatch.UrlPattern", 0.09537394039963905]], "open_slots": [["int", 0.29205621989184305], ["List[str]", 0.11684042201402504], ["List[Tuple[str, Any]]", 0.1094726706623144], ["str", 0.09682028706056635], ["float", 0.0934559947697597], ["Dict[str, Any]", 0.09313606620003666]], "sorted_queue": [["list", 0.2095287500459475], ["List[Tuple[int, Any]]", 0.0949515921086748], ["str", 0.08472099082899157], ["int", 0.08268342130016326]], "state": [["Dict[object, Dict[str, Any]]", 0.22076906209170594], ["Dict[str, Any]", 0.20287914031891607], ["dict", 0.13618487911050012], ["list", 0.09343357727848428], ["str", 0.09215525005628485], ["Optional[str]", 0.0804680555732683]], "ti": [["list", 0.5415151975064026], ["int", 0.35938584761639547]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[80, 4], [81, 12]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "terminate", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "MockExecutor.terminate", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[83, 4], [84, 19]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "end", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "sync"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "MockExecutor.end", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[86, 4], [90, 54]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "change_state", "params": {"info": "", "key": "", "self": "", "state": ""}, "params_descr": {"info": "", "key": "", "self": "", "state": ""}, "params_occur": {"info": [["super", "change_state", "key", "state", "info", "info"], ["self", "sorted_tasks", "append", "key", "state", "info"]], "key": [["super", "change_state", "key", "state", "info", "info"], ["self", "sorted_tasks", "append", "key", "state", "info"]], "self": [["self", "sorted_tasks", "append", "key", "state", "info"]], "state": [["super", "change_state", "key", "state", "info", "info"], ["self", "sorted_tasks", "append", "key", "state", "info"]]}, "params_p": {"args": [], "info": [["str", 0.488494252764061], ["int", 0.10464905310970514], ["Dict[str, Any]", 0.09896407302973508], ["Optional[str]", 0.09688522493683406], ["Optional[Union[Any, str]]", 0.09688522493683406]], "key": [["str", 0.488494252764061], ["int", 0.10464905310970514], ["Dict[str, Any]", 0.09896407302973508], ["Optional[str]", 0.09688522493683406], ["Optional[Union[Any, str]]", 0.09688522493683406]], "kwargs": [], "self": [], "state": [["str", 0.488494252764061], ["int", 0.10464905310970514], ["Dict[str, Any]", 0.09896407302973508], ["Optional[str]", 0.09688522493683406], ["Optional[Union[Any, str]]", 0.09688522493683406]]}, "q_name": "MockExecutor.change_state", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Set the mock outcome of running this particular task instances to", "long_descr": "FAILED.\n\nIf the task identified by the tuple ``(dag_id, task_id, date,\ntry_number)`` is run by this executor it's state will be FAILED.", "ret": null}, "fn_lc": [[92, 4], [101, 99]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "mock_task_fail", "params": {"dag_id": "", "run_id": "builtins.str", "self": "", "task_id": "", "try_number": ""}, "params_descr": {"dag_id": "", "run_id": "", "self": "", "task_id": "", "try_number": ""}, "params_occur": {"dag_id": [["self", "mock_task_results", "TaskInstanceKey", "dag_id", "task_id", "run_id", "try_number", "State", "FAILED"]], "run_id": [["isinstance", "run_id", "str"], ["self", "mock_task_results", "TaskInstanceKey", "dag_id", "task_id", "run_id", "try_number", "State", "FAILED"]], "self": [["self", "mock_task_results", "TaskInstanceKey", "dag_id", "task_id", "run_id", "try_number", "State", "FAILED"]], "task_id": [["self", "mock_task_results", "TaskInstanceKey", "dag_id", "task_id", "run_id", "try_number", "State", "FAILED"]], "try_number": [["self", "mock_task_results", "TaskInstanceKey", "dag_id", "task_id", "run_id", "try_number", "State", "FAILED"]]}, "params_p": {"args": [], "dag_id": [["str", 0.6828627141399344], ["int", 0.31713728586006573]], "kwargs": [], "run_id": [["str", 0.5561554924179603], ["int", 0.12323661856638463], ["bytes", 0.09039496014139456]], "self": [], "task_id": [["str", 0.6828627141399344], ["int", 0.31713728586006573]], "try_number": [["str", 0.6828627141399344], ["int", 0.31713728586006573]]}, "q_name": "MockExecutor.mock_task_fail", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "MockExecutor", "q_name": "MockExecutor", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "collections", "defaultdict", "unittest", "mock", "MagicMock", "airflow", "executors", "base_executor", "BaseExecutor", "airflow", "models", "taskinstancekey", "TaskInstanceKey", "airflow", "utils", "session", "create_session", "airflow", "utils", "state", "State"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 1, "I": 0, "U": 38}, "session_id": "uG8EPv3xt4lC8P_fJKQgeSB0V9dhEwoKP879dIPbW7g", "set": null, "tc": [false, null], "type_annot_cove": 0.03, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}