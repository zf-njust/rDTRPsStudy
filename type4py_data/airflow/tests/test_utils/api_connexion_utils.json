{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": "Helper function to create a client with a temporary user which will be deleted once done", "long_descr": null, "ret": null}, "fn_lc": [[26, 0], [34, 20]], "fn_var_ln": {"client": [[30, 4], [30, 10]], "resp": [[32, 8], [32, 12]]}, "fn_var_occur": {"client": [["client", "app", "test_client"], ["resp", "client", "post", "data", "user_name", "user_name"]], "resp": [["resp", "client", "post", "data", "user_name", "user_name"], ["resp", "status_code"]]}, "name": "create_test_client", "params": {"app": "", "permissions": "", "role_name": "", "user_name": ""}, "params_descr": {"app": "", "permissions": "", "role_name": "", "user_name": ""}, "params_occur": {"app": [["client", "app", "test_client"], ["create_user_scope", "app", "username", "user_name", "role_name", "role_name", "permissions", "permissions", "_"]], "permissions": [["create_user_scope", "app", "username", "user_name", "role_name", "role_name", "permissions", "permissions", "_"]], "role_name": [["create_user_scope", "app", "username", "user_name", "role_name", "role_name", "permissions", "permissions", "_"]], "user_name": [["create_user_scope", "app", "username", "user_name", "role_name", "role_name", "permissions", "permissions", "_"], ["resp", "client", "post", "data", "user_name", "user_name"]]}, "params_p": {"app": [["Optional[str]", 0.20770014440253692]], "args": [], "kwargs": [], "permissions": [["str", 0.5978046195963331], ["Dict[str, object]", 0.09620566834602257]], "role_name": [["str", 0.5978046195963331], ["Dict[str, object]", 0.09620566834602257]], "user_name": [["str", 0.23458596963292408], ["abilian.services.security.models.Permission", 0.11582939651991254], ["Dict[str, Any]", 0.10046171027130407], ["List[str]", 0.09496005232696578], ["Dict[str, object]", 0.0865524724924949], ["dict", 0.08263688586833945]]}, "q_name": "create_test_client", "ret_exprs": [], "ret_type": "", "variables": {"client": "", "resp": ""}, "variables_p": {"client": [["Dict[str, Any]", 0.09962678544471511]], "resp": [["str", 0.5235349438179357], ["dict", 0.11174949679183958], ["Dict[str, str]", 0.09486848809487411], ["Dict[str, Any]", 0.09428691178864598], ["bytes", 0.08779029817402198]]}}, {"docstring": {"func": "Helper function designed to be used with pytest fixture mainly.", "long_descr": "It will create a user and provide it for the fixture via YIELD (generator)\nthen will tidy up once test is complete", "ret": null}, "fn_lc": [[38, 0], [49, 34]], "fn_var_ln": {"test_user": [[44, 4], [44, 13]]}, "fn_var_occur": {"test_user": [["test_user", "create_user", "app", "username", "kwargs"]]}, "name": "create_user_scope", "params": {"app": "", "kwargs": "", "username": ""}, "params_descr": {"app": "", "kwargs": "", "username": ""}, "params_occur": {"app": [["test_user", "create_user", "app", "username", "kwargs"], ["delete_user", "app", "username"]], "kwargs": [["test_user", "create_user", "app", "username", "kwargs"]], "username": [["test_user", "create_user", "app", "username", "kwargs"], ["delete_user", "app", "username"]]}, "params_p": {"app": [["str", 0.2206449921089931], ["Optional[int]", 0.11159698480704291], ["bool", 0.11159698480704291], ["int", 0.09550331913576664], ["List[Dict[str, Any]]", 0.08883748518185565]], "args": [], "kwargs": [], "username": [["str", 0.2206449921089931], ["Optional[int]", 0.11159698480704291], ["bool", 0.11159698480704291], ["int", 0.09550331913576664], ["List[Dict[str, Any]]", 0.08883748518185565]]}, "q_name": "create_user_scope", "ret_exprs": [], "ret_type": "", "variables": {"test_user": ""}, "variables_p": {"test_user": [["Dict[str, Dict[str, str]]", 0.3837996070841959], ["Dict[str, Union[int, str]]", 0.1195560274394649], ["Dict[str, Union[Any, Any, Any, Any, Any]]", 0.11044435406642064], ["Dict[str, str]", 0.10438680501329], ["Dict[str, Type[Any]]", 0.09530816448403982], ["Dict[Optional[str], List[str]]", 0.09390581418636716], ["Dict[str, bool]", 0.09259922772622159]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[52, 0], [71, 5]], "fn_var_ln": {"appbuilder": [[53, 4], [53, 14]], "role": [[62, 8], [62, 12]]}, "fn_var_occur": {"appbuilder": [["appbuilder", "app", "appbuilder"], ["appbuilder", "sm", "add_user", "username", "username", "first_name", "username", "last_name", "username", "email", "email", "username", "role", "role", "password", "username"]], "role": [["role", "None"], ["role", "create_role", "app", "role_name", "permissions"], ["appbuilder", "sm", "add_user", "username", "username", "first_name", "username", "last_name", "username", "email", "email", "username", "role", "role", "password", "username"]]}, "name": "create_user", "params": {"app": "", "email": "", "permissions": "", "role_name": "", "username": ""}, "params_descr": {"app": "", "email": "", "permissions": "", "role_name": "", "username": ""}, "params_occur": {"app": [["appbuilder", "app", "appbuilder"], ["delete_user", "app", "username"], ["delete_role", "app", "role_name"], ["role", "create_role", "app", "role_name", "permissions"]], "email": [["appbuilder", "sm", "add_user", "username", "username", "first_name", "username", "last_name", "username", "email", "email", "username", "role", "role", "password", "username"]], "permissions": [["role", "create_role", "app", "role_name", "permissions"]], "role_name": [["delete_role", "app", "role_name"], ["role", "create_role", "app", "role_name", "permissions"]], "username": [["delete_user", "app", "username"], ["appbuilder", "sm", "add_user", "username", "username", "first_name", "username", "last_name", "username", "email", "email", "username", "role", "role", "password", "username"]]}, "params_p": {"app": [["bool", 0.1963103699433498], ["Collection[str]", 0.1117319905381916], ["annotations.MappingStrStr", 0.1117319905381916], ["Optional[Dict[str, Any]]", 0.09551714917581136]], "args": [], "email": [["str", 0.8015864938328078]], "kwargs": [], "permissions": [["str", 0.35513144245444317], ["Optional[str]", 0.23652396237401954]], "role_name": [["str", 0.6925437478517914], ["Optional[str]", 0.10068009570128976]], "username": [["Optional[Iterable[str]]", 0.24605500094818336], ["Dict[str, Any]", 0.2161804946815092], ["bool", 0.09396658516922764], ["Sequence[str]", 0.08686428035153747]]}, "q_name": "create_user", "ret_exprs": ["return appbuilder.sm.add_user( username=username, first_name=username, last_name=username, email=email or f\"{username}@example.org\", role=role, password=username,)"], "ret_type": "", "ret_type_p": [["str", 0.2823112138181597], ["Optional[Any]", 0.1588065985154073], ["float", 0.10972212647845778], ["dict", 0.10802570248689572], ["int", 0.08662158760675924], ["Callable[..., None]", 0.07940329925770365]], "variables": {"appbuilder": "", "role": ""}, "variables_p": {"appbuilder": [["str", 0.2062043792753958], ["int", 0.10117128717904607], ["property", 0.09812732654468655], ["Dict[str, Any]", 0.09421918208857175], ["Dict[str, int]", 0.09325202387767481]], "role": [["int", 0.09619509445334785]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[74, 0], [84, 15]], "fn_var_ln": {"appbuilder": [[75, 4], [75, 14]], "perm_object": [[82, 8], [82, 19]], "permissions": [[80, 8], [80, 19]], "role": [[78, 8], [78, 12]]}, "fn_var_occur": {"appbuilder": [["appbuilder", "app", "appbuilder"], ["role", "appbuilder", "sm", "find_role", "name"], ["role", "appbuilder", "sm", "add_role", "name"], ["perm_object", "appbuilder", "sm", "get_permission", "permission"], ["appbuilder", "sm", "add_permission_to_role", "role", "perm_object"]], "perm_object": [["perm_object", "appbuilder", "sm", "get_permission", "permission"], ["appbuilder", "sm", "add_permission_to_role", "role", "perm_object"]], "permissions": [], "role": [["role", "appbuilder", "sm", "find_role", "name"], ["role", "appbuilder", "sm", "add_role", "name"], ["appbuilder", "sm", "add_permission_to_role", "role", "perm_object"]]}, "name": "create_role", "params": {"app": "", "name": "", "permissions": ""}, "params_descr": {"app": "", "name": "", "permissions": ""}, "params_occur": {"app": [["appbuilder", "app", "appbuilder"]], "name": [["role", "appbuilder", "sm", "find_role", "name"], ["role", "appbuilder", "sm", "add_role", "name"]], "permissions": []}, "params_p": {"app": [["str", 0.37650771457118415], ["Type", 0.29046447474424986], ["Optional[str]", 0.10162853083895311], ["List[str]", 0.06953658586319875]], "args": [], "kwargs": [], "name": [["str", 0.49686498044490024], ["Dict[str, Any]", 0.0821360908284447]], "permissions": [["bool", 0.3226549598501058], ["str", 0.23598494984133403], ["List[str]", 0.10752755252049224], ["Optional[List[str]]", 0.09091541451661153], ["Optional[bool]", 0.09091541451661153], ["List[List[str]]", 0.07875703657973958], ["Optional[List[dict]]", 0.0732446721751054]]}, "q_name": "create_role", "ret_exprs": ["return role"], "ret_type": "", "ret_type_p": [["bool", 0.5], ["float", 0.1]], "variables": {"appbuilder": "", "perm_object": "", "permissions": "", "role": ""}, "variables_p": {"appbuilder": [["bool", 0.08483265206451372], ["str", 0.07686875062675876]], "perm_object": [["str", 0.6179846556793693]], "permissions": [["str", 0.5], ["List[str]", 0.1], ["Tuple[Tuple[str, str], Tuple[str, str]]", 0.1], ["Tuple[str]", 0.1], ["Tuple[Tuple[str, str], Tuple[str, str], Tuple[str, str], Tuple[str, str]]", 0.1]], "role": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[87, 0], [92, 26]], "fn_var_ln": {"_perms": [[92, 8], [92, 19]], "role": [[88, 4], [88, 8]], "roles": [[90, 8], [90, 18]]}, "fn_var_occur": {"_perms": [["user", "_perms", "None"]], "role": [["role", "create_role", "app", "role_name"], ["role", "user", "roles"], ["user", "roles", "role"]], "roles": [["role", "user", "roles"], ["user", "roles", "role"]]}, "name": "set_user_single_role", "params": {"app": "", "role_name": "", "user": ""}, "params_descr": {"app": "", "role_name": "", "user": ""}, "params_occur": {"app": [["role", "create_role", "app", "role_name"], ["app", "appbuilder", "sm", "update_user", "user"]], "role_name": [["role", "create_role", "app", "role_name"]], "user": [["role", "user", "roles"], ["user", "roles", "role"], ["app", "appbuilder", "sm", "update_user", "user"], ["user", "_perms", "None"]]}, "params_p": {"app": [["str", 0.676862739192048], ["Optional[str]", 0.21539494067777049]], "args": [], "kwargs": [], "role_name": [["str", 0.7297005502334641], ["bool", 0.0911143511579875]], "user": [["str", 0.4759758196519025]]}, "q_name": "set_user_single_role", "ret_exprs": [], "ret_type": "", "variables": {"_perms": "", "role": "", "roles": ""}, "variables_p": {"_perms": [["Type[Optional[Any]]", 0.19999999999999998], ["list", 0.09999999999999999], ["str", 0.09999999999999999]], "role": [["str", 0.5698974267206985], ["bool", 0.12697889837427404], ["Tuple[str, str, str, str, str]", 0.08757833889987786]], "roles": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[95, 0], [98, 47]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "delete_role", "params": {"app": "", "name": ""}, "params_descr": {"app": "", "name": ""}, "params_occur": {"app": [["app", "appbuilder", "sm", "find_role", "name"], ["app", "appbuilder", "sm", "delete_role", "name"]], "name": [["name", "EXISTING_ROLES"], ["app", "appbuilder", "sm", "find_role", "name"], ["app", "appbuilder", "sm", "delete_role", "name"]]}, "params_p": {"app": [["str", 0.4987857387786659], ["Optional[str]", 0.21343066339543326], ["int", 0.0822017118882116]], "args": [], "kwargs": [], "name": [["str", 0.8998845901089156], ["Dict[Any, bool]", 0.1001154098910844]]}, "q_name": "delete_role", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[101, 0], [103, 35]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "delete_roles", "params": {"app": ""}, "params_descr": {"app": ""}, "params_occur": {"app": [["app", "appbuilder", "sm", "get_all_roles"], ["delete_role", "app", "role", "name"]]}, "params_p": {"app": [], "args": [], "kwargs": []}, "q_name": "delete_roles", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[106, 0], [114, 17]], "fn_var_ln": {"_": [[110, 12], [110, 13]], "appbuilder": [[107, 4], [107, 14]]}, "fn_var_occur": {"_": [["_", "delete_role", "app", "role", "name", "role", "user", "roles", "role", "role", "name", "EXISTING_ROLES"]], "appbuilder": [["appbuilder", "app", "appbuilder"], ["appbuilder", "sm", "get_all_users"], ["appbuilder", "sm", "del_register_user", "user"]]}, "name": "delete_user", "params": {"app": "", "username": ""}, "params_descr": {"app": "", "username": ""}, "params_occur": {"app": [["appbuilder", "app", "appbuilder"], ["_", "delete_role", "app", "role", "name", "role", "user", "roles", "role", "role", "name", "EXISTING_ROLES"]], "username": [["user", "username", "username"]]}, "params_p": {"app": [], "args": [], "kwargs": [], "username": [["str", 0.18384372554434159]]}, "q_name": "delete_user", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "appbuilder": ""}, "variables_p": {"_": [["Dict[str, str]", 0.4807134138267288], ["dict", 0.21183418617862038], ["list", 0.10490295865939134]], "appbuilder": [["Dict[str, str]", 0.11927493572932049], ["int", 0.10919318131367968], ["List[Tuple[Any, Any]]", 0.09814299427895379], ["str", 0.08816926249712222]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[117, 0], [119, 39]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "delete_users", "params": {"app": ""}, "params_descr": {"app": ""}, "params_occur": {"app": [["app", "appbuilder", "sm", "get_all_users"], ["delete_user", "app", "user", "username"]]}, "params_p": {"app": [], "args": [], "kwargs": []}, "q_name": "delete_users", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[122, 0], [129, 5]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "assert_401", "params": {"response": ""}, "params_descr": {"response": ""}, "params_occur": {"response": [["response", "status_code", "response", "status_code"], ["response", "json", "None", "EXCEPTIONS_LINK_MAP"]]}, "params_p": {"args": [], "kwargs": [], "response": [["dict", 0.18631906817255683], ["bytes", 0.08053810228373906]]}, "q_name": "assert_401", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "imports": ["__future__", "annotations", "contextlib", "contextmanager", "airflow", "api_connexion", "exceptions", "EXCEPTIONS_LINK_MAP", "airflow", "www", "security", "EXISTING_ROLES"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 48}, "session_id": "-FqDoiZep-wIaWasHdZbiw5BvmUF-IOwQnOouMADccM", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}