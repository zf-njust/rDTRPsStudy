{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": "If ``catchup=False`` and start_date is a day before", "long_descr": null, "ret": null}, "fn_lc": [[56, 0], [65, 105]], "fn_var_ln": {"expected_start": [[64, 4], [64, 18]], "next_info": [[60, 4], [60, 13]]}, "fn_var_occur": {"expected_start": [["expected_start", "YESTERDAY", "DELTA_FROM_MIDNIGHT"], ["next_info", "DagRunInfo", "interval", "start", "expected_start", "end", "CURRENT_TIME", "DELTA_FROM_MIDNIGHT"]], "next_info": [["next_info", "CRON_TIMETABLE", "next_dagrun_info", "last_automated_data_interval", "last_automated_data_interval", "restriction", "TimeRestriction", "earliest", "YESTERDAY", "latest", "None", "catchup", "False"], ["next_info", "DagRunInfo", "interval", "start", "expected_start", "end", "CURRENT_TIME", "DELTA_FROM_MIDNIGHT"]]}, "name": "test_no_catchup_first_starts_at_current_time", "params": {"last_automated_data_interval": "DataInterval | None"}, "params_descr": {"last_automated_data_interval": ""}, "params_occur": {"last_automated_data_interval": [["next_info", "CRON_TIMETABLE", "next_dagrun_info", "last_automated_data_interval", "last_automated_data_interval", "restriction", "TimeRestriction", "earliest", "YESTERDAY", "latest", "None", "catchup", "False"]]}, "params_p": {"args": [], "kwargs": [], "last_automated_data_interval": [["Optional[tortoise.backends.base.clienBaseDBAsyncClient]", 0.09163412922573144]]}, "q_name": "test_no_catchup_first_starts_at_current_time", "ret_exprs": [], "ret_type": "None", "variables": {"expected_start": "", "next_info": ""}, "variables_p": {"expected_start": [["int", 0.1169174314160556], ["List[int]", 0.1102066752286412], ["Dict[bytes, str]", 0.10182467767868035]], "next_info": []}}, {"docstring": {"func": "First run after DAG has new schedule interval.", "long_descr": null, "ret": null}, "fn_lc": [[77, 0], [88, 83]], "fn_var_ln": {"expected_end": [[87, 4], [87, 16]], "expected_start": [[86, 4], [86, 18]], "next_info": [[82, 4], [82, 13]]}, "fn_var_occur": {"expected_end": [["expected_end", "CURRENT_TIME", "datetime", "timedelta", "hours", "minutes"], ["next_info", "DagRunInfo", "interval", "start", "expected_start", "end", "expected_end"]], "expected_start": [["expected_start", "YESTERDAY", "datetime", "timedelta", "hours", "minutes"], ["next_info", "DagRunInfo", "interval", "start", "expected_start", "end", "expected_end"]], "next_info": [["next_info", "CRON_TIMETABLE", "next_dagrun_info", "last_automated_data_interval", "OLD_INTERVAL", "restriction", "TimeRestriction", "earliest", "earliest", "latest", "None", "catchup", "catchup"], ["next_info", "DagRunInfo", "interval", "start", "expected_start", "end", "expected_end"]]}, "name": "test_new_schedule_interval_next_info_starts_at_new_time", "params": {"catchup": "builtins.bool", "earliest": "pendulum.DateTime | None"}, "params_descr": {"catchup": "", "earliest": ""}, "params_occur": {"catchup": [["next_info", "CRON_TIMETABLE", "next_dagrun_info", "last_automated_data_interval", "OLD_INTERVAL", "restriction", "TimeRestriction", "earliest", "earliest", "latest", "None", "catchup", "catchup"]], "earliest": [["next_info", "CRON_TIMETABLE", "next_dagrun_info", "last_automated_data_interval", "OLD_INTERVAL", "restriction", "TimeRestriction", "earliest", "earliest", "latest", "None", "catchup", "catchup"]]}, "params_p": {"args": [], "catchup": [], "earliest": [], "kwargs": []}, "q_name": "test_new_schedule_interval_next_info_starts_at_new_time", "ret_exprs": [], "ret_type": "None", "variables": {"expected_end": "", "expected_start": "", "next_info": ""}, "variables_p": {"expected_end": [["str", 0.49875797717532466], ["Dict[str, str]", 0.11386173669690185], ["List[str]", 0.10579327002635558]], "expected_start": [["Dict[str, Any]", 0.2130553938166359], ["float", 0.11297982413979406], ["Tuple[Tuple[Any, Any]]", 0.10330687081568908], ["int", 0.09598346453879063]], "next_info": []}}, {"docstring": {"func": "If ``catchup=False``, the next data interval ends at the current time.", "long_descr": null, "ret": null}, "fn_lc": [[104, 0], [114, 83]], "fn_var_ln": {"expected_start": [[113, 4], [113, 18]], "next_info": [[109, 4], [109, 13]]}, "fn_var_occur": {"expected_start": [["expected_start", "CURRENT_TIME", "datetime", "timedelta", "hours"], ["next_info", "DagRunInfo", "interval", "start", "expected_start", "end", "CURRENT_TIME"]], "next_info": [["next_info", "timetable", "next_dagrun_info", "last_automated_data_interval", "last_automated_data_interval", "restriction", "TimeRestriction", "earliest", "START_DATE", "latest", "None", "catchup", "False"], ["next_info", "DagRunInfo", "interval", "start", "expected_start", "end", "CURRENT_TIME"]]}, "name": "test_no_catchup_next_info_starts_at_current_time", "params": {"last_automated_data_interval": "DataInterval | None", "timetable": "airflow.timetables.base.Timetable"}, "params_descr": {"last_automated_data_interval": "", "timetable": ""}, "params_occur": {"last_automated_data_interval": [["next_info", "timetable", "next_dagrun_info", "last_automated_data_interval", "last_automated_data_interval", "restriction", "TimeRestriction", "earliest", "START_DATE", "latest", "None", "catchup", "False"]], "timetable": [["next_info", "timetable", "next_dagrun_info", "last_automated_data_interval", "last_automated_data_interval", "restriction", "TimeRestriction", "earliest", "START_DATE", "latest", "None", "catchup", "False"]]}, "params_p": {"args": [], "kwargs": [], "last_automated_data_interval": [["bytes", 0.0901171603874728]], "timetable": [["bytes", 0.0901171603874728]]}, "q_name": "test_no_catchup_next_info_starts_at_current_time", "ret_exprs": [], "ret_type": "None", "variables": {"expected_start": "", "next_info": ""}, "variables_p": {"expected_start": [["Dict[int, int]", 0.13891445649507655], ["Dict[str, Any]", 0.09692849494500712]], "next_info": []}}, {"docstring": {"func": "If ``catchup=True``, the next interval starts at the previous's end.", "long_descr": null, "ret": null}, "fn_lc": [[125, 0], [132, 91]], "fn_var_ln": {"expected_end": [[131, 4], [131, 16]], "next_info": [[127, 4], [127, 13]]}, "fn_var_occur": {"expected_end": [["expected_end", "PREV_DATA_INTERVAL_END", "datetime", "timedelta", "hours"], ["next_info", "DagRunInfo", "interval", "start", "PREV_DATA_INTERVAL_END", "end", "expected_end"]], "next_info": [["next_info", "timetable", "next_dagrun_info", "last_automated_data_interval", "PREV_DATA_INTERVAL", "restriction", "TimeRestriction", "earliest", "START_DATE", "latest", "None", "catchup", "True"], ["next_info", "DagRunInfo", "interval", "start", "PREV_DATA_INTERVAL_END", "end", "expected_end"]]}, "name": "test_catchup_next_info_starts_at_previous_interval_end", "params": {"timetable": "airflow.timetables.base.Timetable"}, "params_descr": {"timetable": ""}, "params_occur": {"timetable": [["next_info", "timetable", "next_dagrun_info", "last_automated_data_interval", "PREV_DATA_INTERVAL", "restriction", "TimeRestriction", "earliest", "START_DATE", "latest", "None", "catchup", "True"]]}, "params_p": {"args": [], "kwargs": [], "timetable": [["cmk.base.config.ConfigCache", 0.19962191671183865]]}, "q_name": "test_catchup_next_info_starts_at_previous_interval_end", "ret_exprs": [], "ret_type": "None", "variables": {"expected_end": "", "next_info": ""}, "variables_p": {"expected_end": [["int", 0.6061990556885116], ["str", 0.10406549261961166], ["Dict[str, Any]", 0.1023052424450781], ["list", 0.08879158119183164]], "next_info": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[143, 0], [144, 24]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_validate_success", "params": {"timetable": "airflow.timetables.base.Timetable"}, "params_descr": {"timetable": ""}, "params_occur": {"timetable": [["timetable", "validate"]]}, "params_p": {"args": [], "kwargs": [], "timetable": [["str", 0.09999999999999999], ["float", 0.09999999999999999]]}, "q_name": "test_validate_success", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[178, 0], [181, 42]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_validate_failure", "params": {"error_message": "builtins.str", "timetable": "airflow.timetables.base.Timetable"}, "params_descr": {"error_message": "", "timetable": ""}, "params_occur": {"error_message": [["str", "ctx", "value", "error_message"]], "timetable": [["timetable", "validate"]]}, "params_p": {"args": [], "error_message": [["int", 0.1378771060279444]], "kwargs": [], "timetable": [["str", 0.2995636931377633]]}, "q_name": "test_validate_failure", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[184, 0], [186, 53]], "fn_var_ln": {"timetable": [[185, 4], [185, 13]]}, "fn_var_occur": {"timetable": [["timetable", "CronDataIntervalTimetable"], ["timetable", "serialize"]]}, "name": "test_cron_interval_timezone_from_string", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_cron_interval_timezone_from_string", "ret_exprs": [], "ret_type": "", "variables": {"timetable": ""}, "variables_p": {"timetable": [["Dict[str, Union[Any, Any]]", 0.9999999999411803], ["str", 2.0047744748339186e-11], ["Tuple[Literal, Literal]", 7.125627640324509e-12]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[212, 0], [217, 90]], "fn_var_ln": {"timetable": [[216, 4], [216, 13]]}, "fn_var_occur": {"timetable": [["timetable", "CronDataIntervalTimetable", "TIMEZONE"], ["timetable", "infer_manual_data_interval", "run_after", "trigger_at", "expected_interval"]]}, "name": "test_cron_infer_manual_data_interval_alignment", "params": {"expected_interval": "airflow.timetables.base.DataInterval", "trigger_at": "pendulum.DateTime"}, "params_descr": {"expected_interval": "", "trigger_at": ""}, "params_occur": {"expected_interval": [["timetable", "infer_manual_data_interval", "run_after", "trigger_at", "expected_interval"]], "trigger_at": [["timetable", "infer_manual_data_interval", "run_after", "trigger_at", "expected_interval"]]}, "params_p": {"args": [], "expected_interval": [["int", 0.11712864309264025], ["str", 0.09398250286452667], ["dict", 0.09398250286452667]], "kwargs": [], "trigger_at": [["int", 0.11712864309264025], ["str", 0.09398250286452667], ["dict", 0.09398250286452667]]}, "q_name": "test_cron_infer_manual_data_interval_alignment", "ret_exprs": [], "ret_type": "None", "variables": {"timetable": ""}, "variables_p": {"timetable": [["bool", 0.22706455716582422], ["Dict[str, Union[dict, Any, Any, Any]]", 0.10191140526562406], ["Dict[str, str]", 0.08787155861436895]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[249, 0], [255, 32]], "fn_var_ln": {"info": [[251, 4], [251, 8]], "timetable": [[250, 4], [250, 13]]}, "fn_var_occur": {"info": [["info", "timetable", "next_dagrun_info", "last_automated_data_interval", "last_data_interval", "restriction", "TimeRestriction", "None", "None", "True"], ["info", "expected_info"]], "timetable": [["timetable", "CronDataIntervalTimetable", "TIMEZONE"], ["info", "timetable", "next_dagrun_info", "last_automated_data_interval", "last_data_interval", "restriction", "TimeRestriction", "None", "None", "True"]]}, "name": "test_cron_next_dagrun_info_alignment", "params": {"expected_info": "airflow.timetables.base.DagRunInfo", "last_data_interval": "airflow.timetables.base.DataInterval"}, "params_descr": {"expected_info": "", "last_data_interval": ""}, "params_occur": {"expected_info": [["info", "expected_info"]], "last_data_interval": [["info", "timetable", "next_dagrun_info", "last_automated_data_interval", "last_data_interval", "restriction", "TimeRestriction", "None", "None", "True"]]}, "params_p": {"args": [], "expected_info": [["dict", 0.20843043392950966], ["bool", 0.1481499611162222], ["tuple", 0.09877143917881095], ["str", 0.09758984542559411], ["int", 0.08545065965246328]], "kwargs": [], "last_data_interval": []}, "q_name": "test_cron_next_dagrun_info_alignment", "ret_exprs": [], "ret_type": "", "variables": {"info": "", "timetable": ""}, "variables_p": {"info": [["dict", 0.09283434807395058], ["str", 0.08962997289858464], ["List[Dict[str, Any]]", 0.08139126818590156]], "timetable": [["str", 0.2996242681143525], ["Dict[str, str]", 0.21827913179504893], ["Dict[str, Union[Any, Any, Any, Any]]", 0.09976912073930815], ["bool", 0.09579211262477891]]}}], "imports": ["__future__", "annotations", "datetime", "dateutil.relativedelta", "pendulum", "pytest", "time_machine", "airflow", "exceptions", "AirflowTimetableInvalid", "airflow", "settings", "TIMEZONE", "airflow", "timetables", "base", "DagRunInfo", "DataInterval", "TimeRestriction", "Timetable", "airflow", "timetables", "interval", "CronDataIntervalTimetable", "DeltaDataIntervalTimetable"], "mod_var_ln": {"CRON_TIMETABLE": [[47, 0], [47, 14]], "CURRENT_TIME": [[39, 0], [39, 12]], "DELTA_FROM_MIDNIGHT": [[48, 0], [48, 19]], "HOURLY_CRON_TIMETABLE": [[43, 0], [43, 21]], "HOURLY_RELATIVEDELTA_TIMETABLE": [[45, 0], [45, 30]], "HOURLY_TIMEDELTA_TIMETABLE": [[44, 0], [44, 26]], "OLD_INTERVAL": [[41, 0], [41, 12]], "PREV_DATA_INTERVAL": [[36, 0], [36, 18]], "PREV_DATA_INTERVAL_END": [[35, 0], [35, 22]], "PREV_DATA_INTERVAL_EXACT": [[37, 0], [37, 24]], "PREV_DATA_INTERVAL_START": [[34, 0], [34, 24]], "START_DATE": [[32, 0], [32, 10]], "YESTERDAY": [[40, 0], [40, 9]]}, "mod_var_occur": {"CRON_TIMETABLE": [["next_info", "CRON_TIMETABLE", "next_dagrun_info", "last_automated_data_interval", "last_automated_data_interval", "restriction", "TimeRestriction", "earliest", "YESTERDAY", "latest", "None", "catchup", "False"], ["next_info", "CRON_TIMETABLE", "next_dagrun_info", "last_automated_data_interval", "OLD_INTERVAL", "restriction", "TimeRestriction", "earliest", "earliest", "latest", "None", "catchup", "catchup"]], "CURRENT_TIME": [["YESTERDAY", "CURRENT_TIME", "datetime", "timedelta", "days"], ["OLD_INTERVAL", "DataInterval", "start", "YESTERDAY", "end", "CURRENT_TIME"], ["next_info", "DagRunInfo", "interval", "start", "expected_start", "end", "CURRENT_TIME", "DELTA_FROM_MIDNIGHT"], ["expected_end", "CURRENT_TIME", "datetime", "timedelta", "hours", "minutes"], ["expected_start", "CURRENT_TIME", "datetime", "timedelta", "hours"], ["next_info", "DagRunInfo", "interval", "start", "expected_start", "end", "CURRENT_TIME"]], "DELTA_FROM_MIDNIGHT": [["expected_start", "YESTERDAY", "DELTA_FROM_MIDNIGHT"], ["next_info", "DagRunInfo", "interval", "start", "expected_start", "end", "CURRENT_TIME", "DELTA_FROM_MIDNIGHT"]], "HOURLY_CRON_TIMETABLE": [], "HOURLY_RELATIVEDELTA_TIMETABLE": [], "HOURLY_TIMEDELTA_TIMETABLE": [], "OLD_INTERVAL": [["next_info", "CRON_TIMETABLE", "next_dagrun_info", "last_automated_data_interval", "OLD_INTERVAL", "restriction", "TimeRestriction", "earliest", "earliest", "latest", "None", "catchup", "catchup"]], "PREV_DATA_INTERVAL": [["next_info", "timetable", "next_dagrun_info", "last_automated_data_interval", "PREV_DATA_INTERVAL", "restriction", "TimeRestriction", "earliest", "START_DATE", "latest", "None", "catchup", "True"]], "PREV_DATA_INTERVAL_END": [["PREV_DATA_INTERVAL", "DataInterval", "start", "PREV_DATA_INTERVAL_START", "end", "PREV_DATA_INTERVAL_END"], ["PREV_DATA_INTERVAL_EXACT", "DataInterval", "exact", "PREV_DATA_INTERVAL_END"], ["expected_end", "PREV_DATA_INTERVAL_END", "datetime", "timedelta", "hours"], ["next_info", "DagRunInfo", "interval", "start", "PREV_DATA_INTERVAL_END", "end", "expected_end"]], "PREV_DATA_INTERVAL_EXACT": [], "PREV_DATA_INTERVAL_START": [["PREV_DATA_INTERVAL", "DataInterval", "start", "PREV_DATA_INTERVAL_START", "end", "PREV_DATA_INTERVAL_END"]], "START_DATE": [["PREV_DATA_INTERVAL_START", "START_DATE"], ["PREV_DATA_INTERVAL_END", "START_DATE", "datetime", "timedelta", "days"], ["next_info", "timetable", "next_dagrun_info", "last_automated_data_interval", "last_automated_data_interval", "restriction", "TimeRestriction", "earliest", "START_DATE", "latest", "None", "catchup", "False"], ["next_info", "timetable", "next_dagrun_info", "last_automated_data_interval", "PREV_DATA_INTERVAL", "restriction", "TimeRestriction", "earliest", "START_DATE", "latest", "None", "catchup", "True"]], "YESTERDAY": [["OLD_INTERVAL", "DataInterval", "start", "YESTERDAY", "end", "CURRENT_TIME"], ["next_info", "CRON_TIMETABLE", "next_dagrun_info", "last_automated_data_interval", "last_automated_data_interval", "restriction", "TimeRestriction", "earliest", "YESTERDAY", "latest", "None", "catchup", "False"], ["expected_start", "YESTERDAY", "DELTA_FROM_MIDNIGHT"], ["expected_start", "YESTERDAY", "datetime", "timedelta", "hours", "minutes"]]}, "no_types_annot": {"D": 20, "I": 0, "U": 28}, "session_id": "sWGZsuAtJ8qI0aE9aQF28cUB5aW7bInXpTUl54vzBN0", "set": null, "tc": [false, null], "type_annot_cove": 0.42, "typed_seq": "", "untyped_seq": "", "variables": {"CRON_TIMETABLE": "", "CURRENT_TIME": "", "DELTA_FROM_MIDNIGHT": "", "HOURLY_CRON_TIMETABLE": "", "HOURLY_RELATIVEDELTA_TIMETABLE": "", "HOURLY_TIMEDELTA_TIMETABLE": "", "OLD_INTERVAL": "", "PREV_DATA_INTERVAL": "", "PREV_DATA_INTERVAL_END": "", "PREV_DATA_INTERVAL_EXACT": "", "PREV_DATA_INTERVAL_START": "", "START_DATE": "", "YESTERDAY": ""}, "variables_p": {"CRON_TIMETABLE": [["cmk.base.api.agent_based.type_defs.CheckPlugin", 0.08876517829593658]], "CURRENT_TIME": [["datetime.datetime", 0.5841308869448332], ["datetime.timedelta", 0.23764652285414478], ["datetime", 0.09380995780138525], ["List[str]", 0.08441263239963698]], "DELTA_FROM_MIDNIGHT": [["bool", 0.20786883254325134], ["str", 0.15289285437598896], ["List[int]", 0.10490280643475217], ["Tuple[int, int]", 0.1026763016081234], ["Dict[str, str]", 0.1019567710776893], ["Dict[str, Union[Any, Any]]", 0.08110160257760587]], "HOURLY_CRON_TIMETABLE": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "HOURLY_RELATIVEDELTA_TIMETABLE": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "HOURLY_TIMEDELTA_TIMETABLE": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "OLD_INTERVAL": [["Optional[Dict[str, Any]]", 0.2908057533267518], ["dict", 0.10351270646589997], ["Optional[str]", 0.09519879859588887]], "PREV_DATA_INTERVAL": [], "PREV_DATA_INTERVAL_END": [["Tuple[List[str], List[str]]", 0.09627699940847148], ["bytes", 0.08755800037467104], ["Dict[str, Union[bool, str]]", 0.08169712127168662]], "PREV_DATA_INTERVAL_EXACT": [["List[Tuple[str, str]]", 0.2], ["str", 0.2], ["int", 0.1], ["Dict[str, Dict[str, Any]]", 0.1], ["list", 0.1], ["bytes", 0.1], ["property", 0.1]], "PREV_DATA_INTERVAL_START": [["int", 0.3770868875754083], ["List[int]", 0.31510430582064414], ["str", 0.20388908556163013], ["Dict[int, List[Any]]", 0.10391972104231759]], "START_DATE": [["datetime.datetime.datetime", 0.35929445521222547], ["datetime.datetime", 0.08317319213752862], ["datetime.date", 0.08299710442153627], ["datetime.datetime.date", 0.08230443624689773]], "YESTERDAY": [["str", 0.09121601676027635]]}}}