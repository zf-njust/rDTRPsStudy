{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[51, 0], [52, 74]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "restriction", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "restriction", "ret_exprs": ["return TimeRestriction(earliest=START_DATE, latest=None, catchup=True)"], "ret_type": "", "ret_type_p": [["str", 0.2505346724558174], ["int", 0.1903698433082678], ["Union[str, int]", 0.0915604910384935]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[56, 0], [57, 51]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "unrestricted_timetable", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "unrestricted_timetable", "ret_exprs": ["return EventsTimetable(event_dates=EVENT_DATES)"], "ret_type": "", "ret_type_p": [["bool", 0.211849104747044], ["str", 0.2022533093012483], ["int", 0.12399334106150103], ["Callable[[], str]", 0.08722879144903278]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[61, 0], [62, 76]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "restricted_timetable", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "restricted_timetable", "ret_exprs": ["return EventsTimetable(event_dates=EVENT_DATES, restrict_to_events=True)"], "ret_type": "", "ret_type_p": [["bool", 0.211849104747044], ["str", 0.2022533093012483], ["int", 0.12399334106150103], ["Callable[[], str]", 0.08722879144903278]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[69, 0], [71, 59]], "fn_var_ln": {"expected_info": [[70, 4], [70, 17]]}, "fn_var_occur": {"expected_info": [["expected_info", "DagRunInfo", "run_after", "end", "data_interval", "DataInterval", "start", "end"], ["DagRunInfo", "interval", "start", "end", "expected_info"]]}, "name": "test_dag_run_info_interval", "params": {"end": "pendulum.DateTime", "start": "pendulum.DateTime"}, "params_descr": {"end": "", "start": ""}, "params_occur": {"end": [["expected_info", "DagRunInfo", "run_after", "end", "data_interval", "DataInterval", "start", "end"], ["DagRunInfo", "interval", "start", "end", "expected_info"]], "start": [["expected_info", "DagRunInfo", "run_after", "end", "data_interval", "DataInterval", "start", "end"], ["DagRunInfo", "interval", "start", "end", "expected_info"]]}, "params_p": {"args": [], "end": [["bool", 0.19315052504052194], ["int", 0.18526028130005084], ["str", 0.09893837280387094], ["Dict[str, int]", 0.08924178134392938]], "kwargs": [], "start": [["bool", 0.19315052504052194], ["int", 0.18526028130005084], ["str", 0.09893837280387094], ["Dict[str, int]", 0.08924178134392938]]}, "q_name": "test_dag_run_info_interval", "ret_exprs": [], "ret_type": "", "variables": {"expected_info": ""}, "variables_p": {"expected_info": [["str", 0.2750934207553763], ["Union[dict, Dict[str, int]]", 0.18254264742812779], ["Dict[str, str]", 0.10115148642778668], ["Dict[str, Union[Any, Any]]", 0.10091242592138948], ["int", 0.09537033698383965]]}}, {"docstring": {"func": "When not using strict event dates, manual runs have run_after as the data interval", "long_descr": null, "ret": null}, "fn_lc": [[74, 0], [78, 61]], "fn_var_ln": {"expected_data_interval": [[77, 4], [77, 26]], "manual_run_data_interval": [[76, 4], [76, 28]]}, "fn_var_occur": {"expected_data_interval": [["expected_data_interval", "DataInterval", "exact", "NON_EVENT_DATE"], ["expected_data_interval", "manual_run_data_interval"]], "manual_run_data_interval": [["manual_run_data_interval", "unrestricted_timetable", "infer_manual_data_interval", "run_after", "NON_EVENT_DATE"], ["expected_data_interval", "manual_run_data_interval"]]}, "name": "test_manual_with_unrestricted", "params": {"restriction": "airflow.timetables.base.TimeRestriction", "unrestricted_timetable": "airflow.timetables.base.Timetable"}, "params_descr": {"restriction": "", "unrestricted_timetable": ""}, "params_occur": {"restriction": [], "unrestricted_timetable": [["manual_run_data_interval", "unrestricted_timetable", "infer_manual_data_interval", "run_after", "NON_EVENT_DATE"]]}, "params_p": {"args": [], "kwargs": [], "restriction": [["str", 0.2], ["Mapping[str, Any]", 0.1]], "unrestricted_timetable": [["str", 0.1289039400831096]]}, "q_name": "test_manual_with_unrestricted", "ret_exprs": [], "ret_type": "", "variables": {"expected_data_interval": "", "manual_run_data_interval": ""}, "variables_p": {"expected_data_interval": [["Dict[str, List[str]]", 0.19917596479498034], ["list", 0.08514221387192446], ["dict", 0.08412867350181857]], "manual_run_data_interval": [["Dict[str, str]", 0.2607840350437062], ["str", 0.1555546700777066], ["Mapping[str, str]", 0.09813878066873284]]}}, {"docstring": {"func": "Test that when using strict event dates, manual runs after the first event have the", "long_descr": "most recent event's date as the start interval", "ret": null}, "fn_lc": [[81, 0], [88, 61]], "fn_var_ln": {"expected_data_interval": [[87, 4], [87, 26]], "manual_run_data_interval": [[86, 4], [86, 28]]}, "fn_var_occur": {"expected_data_interval": [["expected_data_interval", "DataInterval", "exact", "MOST_RECENT_EVENT"], ["expected_data_interval", "manual_run_data_interval"]], "manual_run_data_interval": [["manual_run_data_interval", "restricted_timetable", "infer_manual_data_interval", "run_after", "NON_EVENT_DATE"], ["expected_data_interval", "manual_run_data_interval"]]}, "name": "test_manual_with_restricted_middle", "params": {"restricted_timetable": "airflow.timetables.base.Timetable", "restriction": "airflow.timetables.base.TimeRestriction"}, "params_descr": {"restricted_timetable": "", "restriction": ""}, "params_occur": {"restricted_timetable": [["manual_run_data_interval", "restricted_timetable", "infer_manual_data_interval", "run_after", "NON_EVENT_DATE"]], "restriction": []}, "params_p": {"args": [], "kwargs": [], "restricted_timetable": [["str", 0.1289039400831096]], "restriction": [["str", 0.2], ["Mapping[str, Any]", 0.1]]}, "q_name": "test_manual_with_restricted_middle", "ret_exprs": [], "ret_type": "", "variables": {"expected_data_interval": "", "manual_run_data_interval": ""}, "variables_p": {"expected_data_interval": [["Dict[str, List[str]]", 0.16173561322435953], ["Dict[Any, str]", 0.10627224403529159], ["Pattern[str]", 0.10425780290591215], ["str", 0.10222780708297723], ["int", 0.09277520569102285]], "manual_run_data_interval": [["Dict[str, str]", 0.2607840350437062], ["str", 0.1555546700777066], ["Mapping[str, str]", 0.09813878066873284]]}}, {"docstring": {"func": "Test that when using strict event dates, manual runs before the first event have the first event's date", "long_descr": "as the start interval", "ret": null}, "fn_lc": [[91, 0], [98, 61]], "fn_var_ln": {"expected_data_interval": [[97, 4], [97, 26]], "manual_run_data_interval": [[96, 4], [96, 28]]}, "fn_var_occur": {"expected_data_interval": [["expected_data_interval", "DataInterval", "exact", "EVENT_DATES"], ["expected_data_interval", "manual_run_data_interval"]], "manual_run_data_interval": [["manual_run_data_interval", "restricted_timetable", "infer_manual_data_interval", "run_after", "START_DATE"], ["expected_data_interval", "manual_run_data_interval"]]}, "name": "test_manual_with_restricted_before", "params": {"restricted_timetable": "airflow.timetables.base.Timetable", "restriction": "airflow.timetables.base.TimeRestriction"}, "params_descr": {"restricted_timetable": "", "restriction": ""}, "params_occur": {"restricted_timetable": [["manual_run_data_interval", "restricted_timetable", "infer_manual_data_interval", "run_after", "START_DATE"]], "restriction": []}, "params_p": {"args": [], "kwargs": [], "restricted_timetable": [["str", 0.10845712771556086]], "restriction": [["str", 0.2], ["Mapping[str, Any]", 0.1]]}, "q_name": "test_manual_with_restricted_before", "ret_exprs": [], "ret_type": "", "variables": {"expected_data_interval": "", "manual_run_data_interval": ""}, "variables_p": {"expected_data_interval": [["Dict[str, Union[Any, Any]]", 0.0924769445592882], ["str", 0.08318150776597152]], "manual_run_data_interval": [["List[Dict[str, str]]", 0.11512323839539136], ["str", 0.110543831985094], ["cmk.base.api.agent_based.checking_classes.Result", 0.09225271103957164]]}}, {"docstring": {"func": "The next four subsequent runs cover the next four weekdays each.", "long_descr": null, "ret": null}, "fn_lc": [[115, 0], [126, 42]], "fn_var_ln": {"next_info": [[122, 4], [122, 13]]}, "fn_var_occur": {"next_info": [["next_info", "unrestricted_timetable", "next_dagrun_info", "last_automated_data_interval", "last_automated_data_interval", "restriction", "restriction"], ["next_info", "expected_next_info"]]}, "name": "test_subsequent_weekday_schedule", "params": {"expected_next_info": "airflow.timetables.base.DagRunInfo", "last_automated_data_interval": "airflow.timetables.base.DataInterval", "restriction": "airflow.timetables.base.TimeRestriction", "unrestricted_timetable": "airflow.timetables.base.Timetable"}, "params_descr": {"expected_next_info": "", "last_automated_data_interval": "", "restriction": "", "unrestricted_timetable": ""}, "params_occur": {"expected_next_info": [["next_info", "expected_next_info"]], "last_automated_data_interval": [["next_info", "unrestricted_timetable", "next_dagrun_info", "last_automated_data_interval", "last_automated_data_interval", "restriction", "restriction"]], "restriction": [["next_info", "unrestricted_timetable", "next_dagrun_info", "last_automated_data_interval", "last_automated_data_interval", "restriction", "restriction"]], "unrestricted_timetable": [["next_info", "unrestricted_timetable", "next_dagrun_info", "last_automated_data_interval", "last_automated_data_interval", "restriction", "restriction"]]}, "params_p": {"args": [], "expected_next_info": [["Dict[str, Any]", 0.2987724731060379], ["dict", 0.20891169391830028], ["Optional[Dict]", 0.10402134705423505], ["Dict[str, str]", 0.10001608594034014], ["str", 0.09662865848232804]], "kwargs": [], "last_automated_data_interval": [["raiden.blockchain.events.Event", 0.19127412757318532], ["bytes", 0.11646364356349373], ["\"prefecengine.state.State\"", 0.09361806764712323]], "restriction": [["raiden.blockchain.events.Event", 0.19127412757318532], ["bytes", 0.11646364356349373], ["\"prefecengine.state.State\"", 0.09361806764712323]], "unrestricted_timetable": [["raiden.blockchain.events.Event", 0.19127412757318532], ["bytes", 0.11646364356349373], ["\"prefecengine.state.State\"", 0.09361806764712323]]}, "q_name": "test_subsequent_weekday_schedule", "ret_exprs": [], "ret_type": "", "variables": {"next_info": ""}, "variables_p": {"next_info": []}}], "imports": ["__future__", "annotations", "pendulum", "pytest", "airflow", "settings", "TIMEZONE", "airflow", "timetables", "base", "DagRunInfo", "DataInterval", "TimeRestriction", "Timetable", "airflow", "timetables", "events", "EventsTimetable"], "mod_var_ln": {"EVENT_DATES": [[29, 0], [29, 11]], "EVENT_DATES_SORTED": [[38, 0], [38, 18]], "MOST_RECENT_EVENT": [[47, 0], [47, 17]], "NON_EVENT_DATE": [[46, 0], [46, 14]], "START_DATE": [[27, 0], [27, 10]]}, "mod_var_occur": {"EVENT_DATES": [["EventsTimetable", "event_dates", "EVENT_DATES"], ["EventsTimetable", "event_dates", "EVENT_DATES", "restrict_to_events", "True"], ["expected_data_interval", "DataInterval", "exact", "EVENT_DATES"]], "EVENT_DATES_SORTED": [], "MOST_RECENT_EVENT": [["expected_data_interval", "DataInterval", "exact", "MOST_RECENT_EVENT"]], "NON_EVENT_DATE": [["manual_run_data_interval", "unrestricted_timetable", "infer_manual_data_interval", "run_after", "NON_EVENT_DATE"], ["expected_data_interval", "DataInterval", "exact", "NON_EVENT_DATE"], ["manual_run_data_interval", "restricted_timetable", "infer_manual_data_interval", "run_after", "NON_EVENT_DATE"]], "START_DATE": [["TimeRestriction", "earliest", "START_DATE", "latest", "None", "catchup", "True"], ["manual_run_data_interval", "restricted_timetable", "infer_manual_data_interval", "run_after", "START_DATE"]]}, "no_types_annot": {"D": 12, "I": 0, "U": 21}, "session_id": "4mwjWJblplecCHPMT4JvLiiZdkt2amCAX61yi48QtQo", "set": null, "tc": [false, null], "type_annot_cove": 0.36, "typed_seq": "", "untyped_seq": "", "variables": {"EVENT_DATES": "", "EVENT_DATES_SORTED": "", "MOST_RECENT_EVENT": "", "NON_EVENT_DATE": "", "START_DATE": ""}, "variables_p": {"EVENT_DATES": [["str", 0.08886023793273912]], "EVENT_DATES_SORTED": [["str", 8.372432207418316e-11]], "MOST_RECENT_EVENT": [["Dict[str, Union[int, str]]", 0.11256436149682214], ["bytes", 0.11091885578933343], ["Dict[str, List[str]]", 0.10465139931978427], ["dict", 0.10181116563032744], ["str", 0.09692638230319396], ["Dict[bytes, int]", 0.09363542007754276], ["int", 0.09027492718498609]], "NON_EVENT_DATE": [["List[Dict[str, Any]]", 0.11964655082530183], ["Dict[int, str]", 0.11114612953233366], ["dict", 0.09915990785419328], ["str", 0.09907672163775924], ["Optional[str]", 0.09580521487617023], ["Dict[Any, Dict[str, Any]]", 0.08976423938519926]], "START_DATE": [["int", 0.18499944885155326], ["str", 0.18493654484364497]]}}}