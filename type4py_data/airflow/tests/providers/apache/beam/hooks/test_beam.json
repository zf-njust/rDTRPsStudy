{"error": null, "response": {"classes": [{"cls_lc": [[59, 0], [346, 9]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[62, 4], [86, 9]], "fn_var_ln": {"expected_cmd": [[73, 8], [73, 20]], "hook": [[63, 8], [63, 12]], "process_line_callback": [[64, 8], [64, 29]]}, "fn_var_occur": {"expected_cmd": [["expected_cmd", "PY_FILE", "DEFAULT_RUNNER"], ["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]], "hook": [["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "process_line_callback", "process_line_callback"]], "process_line_callback": [["process_line_callback", "MagicMock"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "process_line_callback", "process_line_callback"], ["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]]}, "name": "test_start_python_pipeline", "params": {"mock_check_output": "", "mock_runner": "", "self": ""}, "params_descr": {"mock_check_output": "", "mock_runner": "", "self": ""}, "params_occur": {"mock_check_output": [], "mock_runner": [["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_check_output": [["mock.Mock", 0.17944655680487118], ["unittesmock.MagicMock", 0.09335634569970257], ["List[T]", 0.09240642661496902]], "mock_runner": [["str", 0.7994411870484295], ["unittesmock.MagicMock", 0.10071480801367659]], "self": []}, "q_name": "TestBeamHook.test_start_python_pipeline", "ret_exprs": [], "ret_type": "", "variables": {"expected_cmd": "", "hook": "", "process_line_callback": ""}, "variables_p": {"expected_cmd": [["str", 0.5563766059970553], ["Tuple[str, str]", 0.09712280298514667], ["Dict[str, Union[bool, str]]", 0.09670204721115487]], "hook": [["str", 0.1906453604037386]], "process_line_callback": [["str", 0.19067121598765374], ["Dict[str, Any]", 0.09956201904488683], ["dict", 0.09186930896751368]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[89, 4], [106, 13]], "fn_var_ln": {"hook": [[90, 8], [90, 12]]}, "fn_var_occur": {"hook": [["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["hook", "start_python_pipeline", "variables", "py_file", "py_options", "py_interpreter", "py_requirements", "None", "py_system_site_packages", "False", "process_line_callback", "MagicMock"]]}, "name": "test_start_python_pipeline_unsupported_option", "params": {"mock_check_output": "", "self": ""}, "params_descr": {"mock_check_output": "", "self": ""}, "params_occur": {"mock_check_output": [], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_check_output": [["unittesmock.MagicMock", 0.17543307998216823], ["List[T]", 0.11129801380139988], ["Generator[None, Any, None]", 0.0944060326909538], ["mock.Mock", 0.08763810169908637]], "self": []}, "q_name": "TestBeamHook.test_start_python_pipeline_unsupported_option", "ret_exprs": [], "ret_type": "", "variables": {"hook": ""}, "variables_p": {"hook": [["List[str]", 0.12361841983596628]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[119, 4], [146, 9]], "fn_var_ln": {"expected_cmd": [[133, 8], [133, 20]], "hook": [[122, 8], [122, 12]], "process_line_callback": [[123, 8], [123, 29]]}, "fn_var_occur": {"expected_cmd": [["expected_cmd", "py_interpreter", "PY_FILE", "DEFAULT_RUNNER"], ["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]], "hook": [["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_interpreter", "py_interpreter", "process_line_callback", "process_line_callback"]], "process_line_callback": [["process_line_callback", "MagicMock"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_interpreter", "py_interpreter", "process_line_callback", "process_line_callback"], ["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]]}, "name": "test_start_python_pipeline_with_custom_interpreter", "params": {"mock_check_output": "", "mock_runner": "", "py_interpreter": "", "self": ""}, "params_descr": {"mock_check_output": "", "mock_runner": "", "py_interpreter": "", "self": ""}, "params_occur": {"mock_check_output": [], "mock_runner": [["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]], "py_interpreter": [["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_interpreter", "py_interpreter", "process_line_callback", "process_line_callback"], ["expected_cmd", "py_interpreter", "PY_FILE", "DEFAULT_RUNNER"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_check_output": [["mock.Mock", 0.17944655680487118], ["unittesmock.MagicMock", 0.09335634569970257], ["List[T]", 0.09240642661496902]], "mock_runner": [["str", 0.7994411870484295], ["unittesmock.MagicMock", 0.10071480801367659]], "py_interpreter": [["str", 0.11027735602765773]], "self": []}, "q_name": "TestBeamHook.test_start_python_pipeline_with_custom_interpreter", "ret_exprs": [], "ret_type": "", "variables": {"expected_cmd": "", "hook": "", "process_line_callback": ""}, "variables_p": {"expected_cmd": [["str", 0.5115171877234368], ["List[str]", 0.2032101206281448], ["Dict[str, Dict[str, Any]]", 0.09688940346571237], ["List[List[str]]", 0.09530449081904266], ["Dict[str, Union[bool, str]]", 0.09307879736366334]], "hook": [["str", 0.1906453604037386]], "process_line_callback": [["str", 0.19067121598765374], ["Dict[str, Any]", 0.09956201904488683], ["dict", 0.09186930896751368]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[159, 4], [199, 9]], "fn_var_ln": {"expected_cmd": [[180, 8], [180, 20]], "hook": [[167, 8], [167, 12]], "process_line_callback": [[169, 8], [169, 29]], "return_value": [[168, 8], [168, 36]]}, "fn_var_occur": {"expected_cmd": [["expected_cmd", "PY_FILE", "DEFAULT_RUNNER"], ["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]], "hook": [["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_requirements", "current_py_requirements", "py_system_site_packages", "current_py_system_site_packages", "process_line_callback", "process_line_callback"]], "process_line_callback": [["process_line_callback", "MagicMock"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_requirements", "current_py_requirements", "py_system_site_packages", "current_py_system_site_packages", "process_line_callback", "process_line_callback"], ["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]], "return_value": [["mock_virtualenv", "return_value"]]}, "name": "test_start_python_pipeline_with_non_empty_py_requirements_and_without_system_packages", "params": {"current_py_requirements": "", "current_py_system_site_packages": "", "mock_check_output": "", "mock_runner": "", "mock_virtualenv": "", "self": ""}, "params_descr": {"current_py_requirements": "", "current_py_system_site_packages": "", "mock_check_output": "", "mock_runner": "", "mock_virtualenv": "", "self": ""}, "params_occur": {"current_py_requirements": [["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_requirements", "current_py_requirements", "py_system_site_packages", "current_py_system_site_packages", "process_line_callback", "process_line_callback"], ["mock_virtualenv", "assert_called_once_with", "venv_directory", "mock", "ANY", "python_bin", "system_site_packages", "current_py_system_site_packages", "requirements", "current_py_requirements"]], "current_py_system_site_packages": [["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_requirements", "current_py_requirements", "py_system_site_packages", "current_py_system_site_packages", "process_line_callback", "process_line_callback"], ["mock_virtualenv", "assert_called_once_with", "venv_directory", "mock", "ANY", "python_bin", "system_site_packages", "current_py_system_site_packages", "requirements", "current_py_requirements"]], "mock_check_output": [], "mock_runner": [["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]], "mock_virtualenv": [["mock_virtualenv", "return_value"], ["mock_virtualenv", "assert_called_once_with", "venv_directory", "mock", "ANY", "python_bin", "system_site_packages", "current_py_system_site_packages", "requirements", "current_py_requirements"]], "self": []}, "params_p": {"args": [], "current_py_requirements": [["str", 0.18952424563724357]], "current_py_system_site_packages": [["str", 0.18952424563724357]], "kwargs": [], "mock_check_output": [["unittesmock.MagicMock", 0.49481193098251386]], "mock_runner": [["unittesmock.MagicMock", 0.6734553233221677], ["str", 0.12340527105606805]], "mock_virtualenv": [["unittesmock.MagicMock", 0.7196493802644999]], "self": []}, "q_name": "TestBeamHook.test_start_python_pipeline_with_non_empty_py_requirements_and_without_system_packages", "ret_exprs": [], "ret_type": "", "variables": {"expected_cmd": "", "hook": "", "process_line_callback": "", "return_value": ""}, "variables_p": {"expected_cmd": [["str", 0.5563766059970553], ["Tuple[str, str]", 0.09712280298514667], ["Dict[str, Union[bool, str]]", 0.09670204721115487]], "hook": [["str", 0.1906453604037386]], "process_line_callback": [["str", 0.19067121598765374], ["Dict[str, Any]", 0.09956201904488683], ["dict", 0.09186930896751368]], "return_value": [["Set[str]", 0.31968019372842504], ["str", 0.28974495331495453], ["list", 0.1978080233656786], ["int", 0.09819123429613609], ["List[str]", 0.09457559529480569]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[203, 4], [220, 41]], "fn_var_ln": {"hook": [[206, 8], [206, 12]], "process_line_callback": [[208, 8], [208, 29]], "wait_for_done": [[207, 8], [207, 21]]}, "fn_var_occur": {"hook": [["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_requirements", "process_line_callback", "process_line_callback"]], "process_line_callback": [["process_line_callback", "MagicMock"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_requirements", "process_line_callback", "process_line_callback"]], "wait_for_done": [["wait_for_done", "mock_runner", "return_value", "wait_for_done"], ["wait_for_done", "assert_not_called"]]}, "name": "test_start_python_pipeline_with_empty_py_requirements_and_without_system_packages", "params": {"mock_check_output": "", "mock_runner": "", "self": ""}, "params_descr": {"mock_check_output": "", "mock_runner": "", "self": ""}, "params_occur": {"mock_check_output": [], "mock_runner": [["wait_for_done", "mock_runner", "return_value", "wait_for_done"], ["mock_runner", "assert_not_called"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_check_output": [["mock.Mock", 0.17944655680487118], ["unittesmock.MagicMock", 0.09335634569970257], ["List[T]", 0.09240642661496902]], "mock_runner": [["unittesmock.MagicMock", 0.7244074195069026]], "self": []}, "q_name": "TestBeamHook.test_start_python_pipeline_with_empty_py_requirements_and_without_system_packages", "ret_exprs": [], "ret_type": "", "variables": {"hook": "", "process_line_callback": "", "wait_for_done": ""}, "variables_p": {"hook": [["str", 0.1906453604037386]], "process_line_callback": [["str", 0.19067121598765374], ["Dict[str, Any]", 0.09956201904488683], ["dict", 0.09186930896751368]], "wait_for_done": [["List[Dict[str, Any]]", 0.21108957335886003], ["Dict[str, Union[Any, Any, Any]]", 0.17344565096855719], ["str", 0.13259098062804675], ["List[Dict[str, str]]", 0.09556038676515244], ["Dict[str, Dict[str, Any]]", 0.09006367270153466], ["list", 0.09006367270153466], ["int", 0.08816191781264814]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[223, 4], [243, 9]], "fn_var_ln": {"expected_cmd": [[233, 8], [233, 20]], "hook": [[224, 8], [224, 12]], "process_line_callback": [[225, 8], [225, 29]]}, "fn_var_occur": {"expected_cmd": [["expected_cmd", "JAR_FILE", "DEFAULT_RUNNER"], ["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]], "hook": [["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["hook", "start_java_pipeline", "jar", "JAR_FILE", "variables", "copy", "deepcopy", "BEAM_VARIABLES_JAVA", "process_line_callback", "process_line_callback"]], "process_line_callback": [["process_line_callback", "MagicMock"], ["hook", "start_java_pipeline", "jar", "JAR_FILE", "variables", "copy", "deepcopy", "BEAM_VARIABLES_JAVA", "process_line_callback", "process_line_callback"], ["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]]}, "name": "test_start_java_pipeline", "params": {"mock_runner": "", "self": ""}, "params_descr": {"mock_runner": "", "self": ""}, "params_occur": {"mock_runner": [["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_runner": [["unittesmock.MagicMock", 0.6483322963200113]], "self": []}, "q_name": "TestBeamHook.test_start_java_pipeline", "ret_exprs": [], "ret_type": "", "variables": {"expected_cmd": "", "hook": "", "process_line_callback": ""}, "variables_p": {"expected_cmd": [["str", 0.5563766059970553], ["Tuple[str, str]", 0.09712280298514667], ["Dict[str, Union[bool, str]]", 0.09670204721115487]], "hook": [], "process_line_callback": [["int", 0.19850565464002412], ["Tuple[int, int]", 0.093135849215291], ["tests.mock.zwave.MockNode", 0.08827995983850292], ["mock.MagicMock", 0.08543135747422782], ["Dict[int, Dict[str, Any]]", 0.08451659167368629], ["str", 0.08281490060364713]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[246, 4], [271, 9]], "fn_var_ln": {"expected_cmd": [[257, 8], [257, 20]], "hook": [[247, 8], [247, 12]], "process_line_callback": [[248, 8], [248, 29]]}, "fn_var_occur": {"expected_cmd": [["expected_cmd", "JAR_FILE", "JOB_CLASS", "DEFAULT_RUNNER"], ["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]], "hook": [["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["hook", "start_java_pipeline", "jar", "JAR_FILE", "variables", "copy", "deepcopy", "BEAM_VARIABLES_JAVA", "job_class", "JOB_CLASS", "process_line_callback", "process_line_callback"]], "process_line_callback": [["process_line_callback", "MagicMock"], ["hook", "start_java_pipeline", "jar", "JAR_FILE", "variables", "copy", "deepcopy", "BEAM_VARIABLES_JAVA", "job_class", "JOB_CLASS", "process_line_callback", "process_line_callback"], ["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]]}, "name": "test_start_java_pipeline_with_job_class", "params": {"mock_runner": "", "self": ""}, "params_descr": {"mock_runner": "", "self": ""}, "params_occur": {"mock_runner": [["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_runner": [["unittesmock.MagicMock", 0.6371666803786865]], "self": []}, "q_name": "TestBeamHook.test_start_java_pipeline_with_job_class", "ret_exprs": [], "ret_type": "", "variables": {"expected_cmd": "", "hook": "", "process_line_callback": ""}, "variables_p": {"expected_cmd": [["str", 0.815553394370676], ["List[List[str]]", 0.09299569704353226]], "hook": [], "process_line_callback": [["str", 0.18676011666303072], ["Tuple[int, int]", 0.11423496329261836], ["tests.mock.zwave.MockNode", 0.09964057776249893], ["Dict[int, Dict[str, Any]]", 0.09074803626680439], ["int", 0.08652792339027257]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[275, 4], [301, 9]], "fn_var_ln": {"basename": [[286, 8], [286, 16]], "expected_cmd": [[288, 8], [288, 20]], "go_workspace": [[287, 8], [287, 20]], "hook": [[277, 8], [277, 12]], "process_line_callback": [[278, 8], [278, 29]], "return_value": [[276, 8], [276, 31]]}, "fn_var_occur": {"basename": [["basename", "os", "path", "basename", "GO_FILE"], ["expected_cmd", "basename", "DEFAULT_RUNNER"]], "expected_cmd": [["expected_cmd", "basename", "DEFAULT_RUNNER"], ["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "go_workspace", "log", "ANY"]], "go_workspace": [["go_workspace", "os", "path", "dirname", "GO_FILE"], ["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "go_workspace", "log", "ANY"]], "hook": [["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["hook", "start_go_pipeline", "go_file", "GO_FILE", "variables", "copy", "deepcopy", "BEAM_VARIABLES_GO", "process_line_callback", "process_line_callback"]], "process_line_callback": [["process_line_callback", "MagicMock"], ["hook", "start_go_pipeline", "go_file", "GO_FILE", "variables", "copy", "deepcopy", "BEAM_VARIABLES_GO", "process_line_callback", "process_line_callback"], ["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "go_workspace", "log", "ANY"]], "return_value": [["mock_which", "return_value"]]}, "name": "test_start_go_pipeline", "params": {"mock_runner": "", "mock_which": "", "self": ""}, "params_descr": {"mock_runner": "", "mock_which": "", "self": ""}, "params_occur": {"mock_runner": [["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "go_workspace", "log", "ANY"]], "mock_which": [["mock_which", "return_value"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_runner": [["unittesmock.MagicMock", 0.8330282580092283]], "mock_which": [["unittesmock.MagicMock", 0.9369085734643864]], "self": []}, "q_name": "TestBeamHook.test_start_go_pipeline", "ret_exprs": [], "ret_type": "", "variables": {"basename": "", "expected_cmd": "", "go_workspace": "", "hook": "", "process_line_callback": "", "return_value": ""}, "variables_p": {"basename": [["str", 0.678050314864082], ["int", 0.32194968513591804]], "expected_cmd": [["str", 0.4748240153684449], ["ChainMap", 0.1317810432716871], ["Dict[str, Union[float, str]]", 0.1167722949725524], ["List[Dict[str, str]]", 0.09149135063292084]], "go_workspace": [["str", 0.5424617165739878]], "hook": [], "process_line_callback": [["str", 0.37909706493643963], ["Dict[str, Any]", 0.11280160540847023]], "return_value": [["List[str]", 0.2254491957491266], ["str", 0.14893586462285963], ["unittesmock.MagicMock", 0.10219045557758089]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[304, 4], [316, 13]], "fn_var_ln": {"error_message": [[308, 8], [308, 21]], "hook": [[306, 8], [306, 12]], "return_value": [[305, 8], [305, 31]]}, "fn_var_occur": {"error_message": [["pytest", "raises", "AirflowException", "match", "error_message"]], "hook": [["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["hook", "start_go_pipeline", "go_file", "GO_FILE", "variables", "copy", "deepcopy", "BEAM_VARIABLES_GO"]], "return_value": [["mock_which", "return_value", "None"]]}, "name": "test_start_go_pipeline_without_go_installed_raises", "params": {"mock_which": "", "self": ""}, "params_descr": {"mock_which": "", "self": ""}, "params_occur": {"mock_which": [["mock_which", "return_value", "None"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_which": [["unittesmock.MagicMock", 0.9281134464934194]], "self": []}, "q_name": "TestBeamHook.test_start_go_pipeline_without_go_installed_raises", "ret_exprs": [], "ret_type": "", "variables": {"error_message": "", "hook": "", "return_value": ""}, "variables_p": {"error_message": [["Pattern[str]", 1.0]], "hook": [], "return_value": [["str", 0.2634655102172568], ["int", 0.25350093926400447], ["Optional[bytes]", 0.12508630689673708], ["Dict[str, Dict[str, Any]]", 0.0986339214486634], ["Tuple[int, int]", 0.08950217541964084]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[319, 4], [346, 9]], "fn_var_ln": {"expected_cmd": [[333, 8], [333, 20]], "hook": [[320, 8], [320, 12]], "launcher_binary": [[323, 8], [323, 23]], "process_line_callback": [[321, 8], [321, 29]], "worker_binary": [[324, 8], [324, 21]]}, "fn_var_occur": {"expected_cmd": [["expected_cmd", "launcher_binary", "DEFAULT_RUNNER", "worker_binary"], ["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]], "hook": [["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["hook", "start_go_pipeline_with_binary", "variables", "BEAM_VARIABLES_GO", "launcher_binary", "launcher_binary", "worker_binary", "worker_binary", "process_line_callback", "process_line_callback"]], "launcher_binary": [["hook", "start_go_pipeline_with_binary", "variables", "BEAM_VARIABLES_GO", "launcher_binary", "launcher_binary", "worker_binary", "worker_binary", "process_line_callback", "process_line_callback"], ["expected_cmd", "launcher_binary", "DEFAULT_RUNNER", "worker_binary"]], "process_line_callback": [["process_line_callback", "MagicMock"], ["hook", "start_go_pipeline_with_binary", "variables", "BEAM_VARIABLES_GO", "launcher_binary", "launcher_binary", "worker_binary", "worker_binary", "process_line_callback", "process_line_callback"], ["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]], "worker_binary": [["hook", "start_go_pipeline_with_binary", "variables", "BEAM_VARIABLES_GO", "launcher_binary", "launcher_binary", "worker_binary", "worker_binary", "process_line_callback", "process_line_callback"], ["expected_cmd", "launcher_binary", "DEFAULT_RUNNER", "worker_binary"]]}, "name": "test_start_go_pipeline_with_binary", "params": {"mock_runner": "", "self": ""}, "params_descr": {"mock_runner": "", "self": ""}, "params_occur": {"mock_runner": [["mock_runner", "assert_called_once_with", "cmd", "expected_cmd", "process_line_callback", "process_line_callback", "working_directory", "None", "log", "ANY"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_runner": [["unittesmock.MagicMock", 0.6483322963200113]], "self": []}, "q_name": "TestBeamHook.test_start_go_pipeline_with_binary", "ret_exprs": [], "ret_type": "", "variables": {"expected_cmd": "", "hook": "", "launcher_binary": "", "process_line_callback": "", "worker_binary": ""}, "variables_p": {"expected_cmd": [["Generator[Any, None, None]", 0.2166130194833052], ["unittesmock.MagicMock", 0.20089522688612665], ["unittesmock._patch[Union[unittesmock.AsyncMock, unittesmock.MagicMock]]", 0.10906413783844503], ["str", 0.09413096665367082]], "hook": [], "launcher_binary": [["dict", 0.19426571049065353], ["Callable", 0.09356497363278421]], "process_line_callback": [["Tuple[Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal]", 0.11187331973737107], ["str", 0.09710645635654898], ["Coroutine[Any, Any, Any]", 0.0923445113533737]], "worker_binary": [["dict", 0.19426571049065353], ["Callable", 0.09356497363278421]]}}], "name": "TestBeamHook", "q_name": "TestBeamHook", "variables": {}, "variables_p": {}}, {"cls_lc": [[349, 0], [377, 13]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[365, 8], [367, 23]], "fn_var_ln": {"return_code": [[366, 12], [366, 33]]}, "fn_var_occur": {"return_code": [["mock_proc", "return_code"]]}, "name": "poll_resp_error", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBeamRunner.test_beam_wait_for_done_logging.<locals>.poll_resp_error", "ret_exprs": ["return True"], "ret_type": "", "ret_type_p": [["bool", 0.9999999999999999]], "variables": {"return_code": ""}, "variables_p": {"return_code": [["str", 0.6283784616689563], ["int", 0.29048974269188477], ["frozenset[bytes]", 0.08113179563915898]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[352, 4], [377, 13]], "fn_var_ln": {"cmd": [[353, 8], [353, 11]], "info": [[355, 8], [355, 25]], "mock_logging": [[354, 8], [354, 20]], "mock_proc": [[357, 8], [357, 17]], "mock_proc_poll": [[362, 8], [362, 22]], "mock_stderr_fd": [[360, 8], [360, 22]], "poll": [[370, 8], [370, 22]], "return_value": [[371, 8], [371, 31]], "side_effect": [[369, 8], [369, 34]], "stderr": [[358, 8], [358, 24]], "warning": [[356, 8], [356, 28]]}, "fn_var_occur": {"cmd": [["run_beam_command", "cmd", "None", "None", "mock_logging"], ["mock_logging", "info", "assert_called_once_with", "join", "cmd"], ["mock_popen", "assert_called_once_with", "cmd", "shell", "False", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE", "close_fds", "True", "cwd", "None"]], "info": [["mock_logging", "info", "assert_called_once_with", "join", "cmd"]], "mock_logging": [["run_beam_command", "cmd", "None", "None", "mock_logging"], ["mock_logging", "info", "assert_called_once_with", "join", "cmd"]], "mock_proc": [["mock_proc", "poll", "mock_proc_poll"], ["mock_popen", "return_value", "mock_proc"]], "mock_proc_poll": [["mock_proc_poll", "side_effect", "None", "poll_resp_error"], ["mock_proc", "poll", "mock_proc_poll"]], "mock_stderr_fd": [], "poll": [["mock_proc", "poll", "mock_proc_poll"]], "return_value": [["mock_popen", "return_value", "mock_proc"]], "side_effect": [["mock_proc_poll", "side_effect", "None", "poll_resp_error"]], "stderr": [["mock_popen", "assert_called_once_with", "cmd", "shell", "False", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE", "close_fds", "True", "cwd", "None"]], "warning": []}, "name": "test_beam_wait_for_done_logging", "params": {"mock_popen": "", "mock_select": "", "self": ""}, "params_descr": {"mock_popen": "", "mock_select": "", "self": ""}, "params_occur": {"mock_popen": [["mock_popen", "return_value", "mock_proc"], ["mock_popen", "assert_called_once_with", "cmd", "shell", "False", "stdout", "subprocess", "PIPE", "stderr", "subprocess", "PIPE", "close_fds", "True", "cwd", "None"]], "mock_select": [], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_popen": [["unittesmock.MagicMock", 0.9999999999999999]], "mock_select": [["unittesmock.MagicMock", 0.39796326489184825], ["mock.MagicMock", 0.09752080516659024], ["mock.Mock", 0.045315171022461825]], "self": []}, "q_name": "TestBeamRunner.test_beam_wait_for_done_logging", "ret_exprs": [], "ret_type": "", "variables": {"cmd": "", "info": "", "mock_logging": "", "mock_proc": "", "mock_proc_poll": "", "mock_stderr_fd": "", "poll": "", "return_value": "", "side_effect": "", "stderr": "", "warning": ""}, "variables_p": {"cmd": [["list", 0.19951067121654742], ["int", 0.1437420066874574], ["Dict[str, Optional[str]]", 0.11760758764086485], ["Dict[str, Any]", 0.09292676651177614], ["str", 0.0877446450415611], ["Optional[dict]", 0.07291433411052652]], "info": [["str", 0.3447438018125814], ["Dict[str, List[str]]", 0.20230075057090482], ["List[str]", 0.18745954078928087], ["list", 0.09786003078269456], ["Union[Literal, str]", 0.08438189626983977], ["dict", 0.08325397977469855]], "mock_logging": [["List[str]", 0.7016608321216233], ["List[Union[Any, Any]]", 0.10496566903496349], ["List[Tuple[str, str]]", 0.08866037922440491]], "mock_proc": [["unittesmock.MagicMock", 0.1569732943614891], ["Dict[str, int]", 0.07533330201595537]], "mock_proc_poll": [["Dict[str, Union[int, str]]", 0.11227811409827089], ["unittesmock.MagicMock", 0.09252552697057281]], "mock_stderr_fd": [["Dict[str, Any]", 0.19999999999999996], ["str", 0.19999999999999996], ["Dict[str, Union[Any, str]]", 0.09999999999999998], ["Dict[str, Dict[str, str]]", 0.09999999999999998], ["dict", 0.09999999999999998], ["Dict[str, Union[Any, Any]]", 0.09999999999999998], ["Dict[str, Dict[str, Any]]", 0.09999999999999998]], "poll": [["str", 0.4486985846107901], ["property", 0.14874501005132026], ["list", 0.08387036581138226], ["List[Dict[str, str]]", 0.05030744996949173]], "return_value": [["List[Dict[str, Any]]", 0.2090878190984516], ["Dict[str, Union[Any, Any]]", 0.16535474014528323], ["Dict[str, Union[Any, Any, Any]]", 0.12442092888495747], ["int", 0.08725076544364417], ["str", 0.08278297953672678], ["unittesmock.MagicMock", 0.07479431670285544], ["Dict[str, Union[int, str]]", 0.07185041432581647], ["Dict[str, int]", 0.07083345910551045]], "side_effect": [["int", 0.25197670643907877], ["Tuple[Any, Any]", 0.10247111207062942], ["List['Book']", 0.09595889107958061], ["float", 0.09079036468044911], ["bool", 0.09079036468044911], ["List[str]", 0.08299817380578052]], "stderr": [["str", 1.0]], "warning": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}], "name": "TestBeamRunner", "q_name": "TestBeamRunner", "variables": {}, "variables_p": {}}, {"cls_lc": [[380, 0], [393, 36]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[391, 4], [393, 36]], "fn_var_ln": {"args": [[392, 8], [392, 12]]}, "fn_var_occur": {"args": [["args", "beam_options_to_args", "options"], ["args", "expected_args"]]}, "name": "test_beam_options_to_args", "params": {"expected_args": "", "options": "", "self": ""}, "params_descr": {"expected_args": "", "options": "", "self": ""}, "params_occur": {"expected_args": [["args", "expected_args"]], "options": [["args", "beam_options_to_args", "options"]], "self": []}, "params_p": {"args": [], "expected_args": [["str", 0.08452558324136014]], "kwargs": [], "options": [["List[str]", 0.13663416836207645], ["str", 0.12549862777626794], ["Callable[[Any], bool]", 0.12549862777626794], ["float", 0.08530594763170743], ["bool", 0.0793735935660945]], "self": []}, "q_name": "TestBeamOptionsToArgs.test_beam_options_to_args", "ret_exprs": [], "ret_type": "", "variables": {"args": ""}, "variables_p": {"args": [["List[str]", 0.5702860925544427]]}}], "name": "TestBeamOptionsToArgs", "q_name": "TestBeamOptionsToArgs", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "copy", "os", "re", "subprocess", "unittest", "mock", "unittest", "mock", "ANY", "MagicMock", "pytest", "airflow", "exceptions", "AirflowException", "airflow", "providers", "apache", "beam", "hooks", "beam", "BeamHook", "beam_options_to_args", "run_beam_command"], "mod_var_ln": {"APACHE_BEAM_V_2_14_0_JAVA_SDK_LOG": [[47, 0], [47, 33]], "BEAM_STRING": [[39, 0], [39, 11]], "BEAM_VARIABLES_GO": [[45, 0], [45, 17]], "BEAM_VARIABLES_JAVA": [[41, 0], [41, 19]], "BEAM_VARIABLES_PY": [[40, 0], [40, 17]], "DEFAULT_RUNNER": [[38, 0], [38, 14]], "GO_FILE": [[37, 0], [37, 7]], "JAR_FILE": [[32, 0], [32, 8]], "JOB_CLASS": [[33, 0], [33, 9]], "PY_FILE": [[31, 0], [31, 7]], "PY_OPTIONS": [[34, 0], [34, 10]], "TEST_JOB_ID": [[35, 0], [35, 11]]}, "mod_var_occur": {"APACHE_BEAM_V_2_14_0_JAVA_SDK_LOG": [], "BEAM_STRING": [], "BEAM_VARIABLES_GO": [["hook", "start_go_pipeline", "go_file", "GO_FILE", "variables", "copy", "deepcopy", "BEAM_VARIABLES_GO", "process_line_callback", "process_line_callback"], ["hook", "start_go_pipeline", "go_file", "GO_FILE", "variables", "copy", "deepcopy", "BEAM_VARIABLES_GO"], ["hook", "start_go_pipeline_with_binary", "variables", "BEAM_VARIABLES_GO", "launcher_binary", "launcher_binary", "worker_binary", "worker_binary", "process_line_callback", "process_line_callback"]], "BEAM_VARIABLES_JAVA": [["hook", "start_java_pipeline", "jar", "JAR_FILE", "variables", "copy", "deepcopy", "BEAM_VARIABLES_JAVA", "process_line_callback", "process_line_callback"], ["hook", "start_java_pipeline", "jar", "JAR_FILE", "variables", "copy", "deepcopy", "BEAM_VARIABLES_JAVA", "job_class", "JOB_CLASS", "process_line_callback", "process_line_callback"]], "BEAM_VARIABLES_PY": [["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "process_line_callback", "process_line_callback"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_interpreter", "py_interpreter", "process_line_callback", "process_line_callback"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_requirements", "current_py_requirements", "py_system_site_packages", "current_py_system_site_packages", "process_line_callback", "process_line_callback"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_requirements", "process_line_callback", "process_line_callback"]], "DEFAULT_RUNNER": [["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["expected_cmd", "PY_FILE", "DEFAULT_RUNNER"], ["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["expected_cmd", "py_interpreter", "PY_FILE", "DEFAULT_RUNNER"], ["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["expected_cmd", "PY_FILE", "DEFAULT_RUNNER"], ["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["expected_cmd", "JAR_FILE", "DEFAULT_RUNNER"], ["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["expected_cmd", "JAR_FILE", "JOB_CLASS", "DEFAULT_RUNNER"], ["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["expected_cmd", "basename", "DEFAULT_RUNNER"], ["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["hook", "BeamHook", "runner", "DEFAULT_RUNNER"], ["expected_cmd", "launcher_binary", "DEFAULT_RUNNER", "worker_binary"]], "GO_FILE": [["hook", "start_go_pipeline", "go_file", "GO_FILE", "variables", "copy", "deepcopy", "BEAM_VARIABLES_GO", "process_line_callback", "process_line_callback"], ["basename", "os", "path", "basename", "GO_FILE"], ["go_workspace", "os", "path", "dirname", "GO_FILE"], ["hook", "start_go_pipeline", "go_file", "GO_FILE", "variables", "copy", "deepcopy", "BEAM_VARIABLES_GO"]], "JAR_FILE": [["hook", "start_java_pipeline", "jar", "JAR_FILE", "variables", "copy", "deepcopy", "BEAM_VARIABLES_JAVA", "process_line_callback", "process_line_callback"], ["expected_cmd", "JAR_FILE", "DEFAULT_RUNNER"], ["hook", "start_java_pipeline", "jar", "JAR_FILE", "variables", "copy", "deepcopy", "BEAM_VARIABLES_JAVA", "job_class", "JOB_CLASS", "process_line_callback", "process_line_callback"], ["expected_cmd", "JAR_FILE", "JOB_CLASS", "DEFAULT_RUNNER"]], "JOB_CLASS": [["hook", "start_java_pipeline", "jar", "JAR_FILE", "variables", "copy", "deepcopy", "BEAM_VARIABLES_JAVA", "job_class", "JOB_CLASS", "process_line_callback", "process_line_callback"], ["expected_cmd", "JAR_FILE", "JOB_CLASS", "DEFAULT_RUNNER"]], "PY_FILE": [["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "process_line_callback", "process_line_callback"], ["expected_cmd", "PY_FILE", "DEFAULT_RUNNER"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_interpreter", "py_interpreter", "process_line_callback", "process_line_callback"], ["expected_cmd", "py_interpreter", "PY_FILE", "DEFAULT_RUNNER"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_requirements", "current_py_requirements", "py_system_site_packages", "current_py_system_site_packages", "process_line_callback", "process_line_callback"], ["expected_cmd", "PY_FILE", "DEFAULT_RUNNER"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_requirements", "process_line_callback", "process_line_callback"]], "PY_OPTIONS": [["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "process_line_callback", "process_line_callback"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_interpreter", "py_interpreter", "process_line_callback", "process_line_callback"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_requirements", "current_py_requirements", "py_system_site_packages", "current_py_system_site_packages", "process_line_callback", "process_line_callback"], ["hook", "start_python_pipeline", "variables", "copy", "deepcopy", "BEAM_VARIABLES_PY", "py_file", "PY_FILE", "py_options", "PY_OPTIONS", "py_requirements", "process_line_callback", "process_line_callback"]], "TEST_JOB_ID": [["APACHE_BEAM_V_2_14_0_JAVA_SDK_LOG", "TEST_JOB_ID", "TEST_JOB_ID", "TEST_JOB_ID"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 95}, "session_id": "HxVthVUMSGM6l81YF3T7oRRGfqDoAvQNbWKHaw3t8AU", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"APACHE_BEAM_V_2_14_0_JAVA_SDK_LOG": "", "BEAM_STRING": "", "BEAM_VARIABLES_GO": "", "BEAM_VARIABLES_JAVA": "", "BEAM_VARIABLES_PY": "", "DEFAULT_RUNNER": "", "GO_FILE": "", "JAR_FILE": "", "JOB_CLASS": "", "PY_FILE": "", "PY_OPTIONS": "", "TEST_JOB_ID": ""}, "variables_p": {"APACHE_BEAM_V_2_14_0_JAVA_SDK_LOG": [["Dict[str, bool]", 0.6707920563995068], ["int", 0.2174092675339087], ["str", 0.11179867606658446]], "BEAM_STRING": [["str", 0.7], ["int", 0.2]], "BEAM_VARIABLES_GO": [["str", 0.2837359158752929], ["Dict[str, List[int]]", 0.1057683755979909], ["Set[str]", 0.10368080414788992], ["Dict[str, Union[Any, Any, Any]]", 0.10213556978822], ["List[bool]", 0.10165460022142414], ["list", 0.0967435306831862], ["Tuple[Type[Any]]", 0.09298969022039312]], "BEAM_VARIABLES_JAVA": [["str", 0.09658641712566415], ["Dict[str, Any]", 0.09325106640296653]], "BEAM_VARIABLES_PY": [["Dict[str, Union[Any, Any]]", 0.131177704266494], ["Dict[str, Any]", 0.12517418054878376], ["Set[str]", 0.12475255310572982], ["str", 0.07790880013977394]], "DEFAULT_RUNNER": [["int", 0.3569795157544963], ["str", 0.29797797801278497], ["List[str]", 0.08671367586221387], ["List[int]", 0.08478383479050655]], "GO_FILE": [["str", 0.49358271291551575], ["tuple", 0.11213773629765639], ["Tuple[Literal]", 0.10120803687089246]], "JAR_FILE": [["Counter[str]", 0.19553669471381538]], "JOB_CLASS": [["set", 0.10573258652795857], ["Dict[Any, str]", 0.08838040442320402]], "PY_FILE": [["str", 0.5225324240324313], ["Tuple[Type[bytes], Type[str]]", 0.21349684949440922], ["List[str]", 0.09883308648724957]], "PY_OPTIONS": [["Dict[str, Union[Any, Any]]", 0.16056774460559942], ["Dict[str, Any]", 0.0985086492978765]], "TEST_JOB_ID": [["str", 0.7036469713459774], ["Dict[str, Dict[str, str]]", 0.09762609264258049], ["Dict[Any, str]", 0.09573796772313806]]}}}