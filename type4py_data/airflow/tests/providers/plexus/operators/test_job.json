{"error": null, "response": {"classes": [{"cls_lc": [[29, 0], [192, 45]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[31, 4], [41, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "valid_job_params", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPlexusOperator.valid_job_params", "ret_exprs": ["return { \"task_id\": \"test\", \"job_params\": { \"name\": \"test\", \"app\": \"pipeline\", \"queue\": \"queue\", \"num_nodes\": 1, \"num_cores\": 1, },}"], "ret_type": "", "ret_type_p": [["Optional[str]", 0.2943451284004858], ["dict", 0.10476226380671795], ["Callable", 0.09881491764619822], ["Dict[str, Any]", 0.08389688277129659]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[44, 4], [47, 60]], "fn_var_ln": {"job_params": [[45, 8], [45, 18]]}, "fn_var_occur": {"job_params": [["job_params", "pop", "request", "param", "None"]]}, "name": "invalid_job_params", "params": {"request": "", "self": ""}, "params_descr": {"request": "", "self": ""}, "params_occur": {"request": [["job_params", "pop", "request", "param", "None"]], "self": []}, "params_p": {"args": [], "kwargs": [], "request": [["str", 0.1595790895038857]], "self": []}, "q_name": "TestPlexusOperator.invalid_job_params", "ret_exprs": ["return {\"task_id\": \"test\", \"job_params\": job_params}"], "ret_type": "", "ret_type_p": [["List[str]", 0.13452924471258995], ["bool", 0.09266742341210295], ["int", 0.0741955637326838]], "variables": {"job_params": ""}, "variables_p": {"job_params": [["str", 0.20347478691089033], ["Optional[str]", 0.1207332573536954], ["Dict[str, Any]", 0.1203705304315769], ["Dict[str, List[Any]]", 0.07906904226469488]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[50, 4], [60, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "invalid_lookups", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPlexusOperator.invalid_lookups", "ret_exprs": ["return { \"task_id\": \"test\", \"job_params\": { \"name\": \"test\", \"app\": \"_pipeline\", \"queue\": \"_queue\", \"num_nodes\": 1, \"num_cores\": 1, },}"], "ret_type": "", "ret_type_p": [["bool", 0.39775432178885545], ["Dict[str, Any]", 0.1799667960449687], ["dict", 0.09807353786333962]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "test params are initialized correctly", "long_descr": null, "ret": null}, "fn_lc": [[62, 4], [74, 53]], "fn_var_ln": {"expected_job_params": [[64, 8], [64, 27]], "plexus_job_operator": [[72, 8], [72, 27]]}, "fn_var_occur": {"expected_job_params": [["expected_job_params", "None"], ["plexus_job_operator", "job_params", "expected_job_params"]], "plexus_job_operator": [["plexus_job_operator", "PlexusJobOperator", "valid_job_params"], ["plexus_job_operator", "job_params", "expected_job_params"], ["plexus_job_operator", "is_service", "None"]]}, "name": "test_valid_job_params", "params": {"self": "", "valid_job_params": ""}, "params_descr": {"self": "", "valid_job_params": ""}, "params_occur": {"self": [], "valid_job_params": [["plexus_job_operator", "PlexusJobOperator", "valid_job_params"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "valid_job_params": [["int", 0.10284743174252092], ["str", 0.10284743174252092]]}, "q_name": "TestPlexusOperator.test_valid_job_params", "ret_exprs": [], "ret_type": "", "variables": {"expected_job_params": "", "plexus_job_operator": ""}, "variables_p": {"expected_job_params": [["list", 0.11071097033979482], ["Optional[type]", 0.09714317792219435], ["List[List[str]]", 0.09215747745889846], ["Type[Tuple[str, ...]]", 0.0907564107513826]], "plexus_job_operator": [["str", 0.13697794537700728]]}}, {"docstring": {"func": "test required job params are supplied", "long_descr": null, "ret": null}, "fn_lc": [[80, 4], [84, 63]], "fn_var_ln": {"plexus_job_operator": [[82, 8], [82, 27]]}, "fn_var_occur": {"plexus_job_operator": [["plexus_job_operator", "PlexusJobOperator", "invalid_job_params"], ["plexus_job_operator", "construct_job_params", "mock_hook"]]}, "name": "test_invalid_job_params", "params": {"invalid_job_params": "", "mock_hook": "", "self": ""}, "params_descr": {"invalid_job_params": "", "mock_hook": "", "self": ""}, "params_occur": {"invalid_job_params": [["plexus_job_operator", "PlexusJobOperator", "invalid_job_params"]], "mock_hook": [["plexus_job_operator", "construct_job_params", "mock_hook"]], "self": []}, "params_p": {"args": [], "invalid_job_params": [], "kwargs": [], "mock_hook": [], "self": []}, "q_name": "TestPlexusOperator.test_invalid_job_params", "ret_exprs": [], "ret_type": "", "variables": {"plexus_job_operator": ""}, "variables_p": {"plexus_job_operator": []}}, {"docstring": {"func": "test api lookups are correct", "long_descr": null, "ret": null}, "fn_lc": [[88, 4], [120, 57]], "fn_var_ln": {"app_mock": [[102, 8], [102, 16]], "billing_mock": [[101, 8], [101, 20]], "plexus_job_operator": [[115, 8], [115, 27]], "queue_mock": [[90, 8], [90, 18]]}, "fn_var_occur": {"app_mock": [["app_mock", "Mock", "True", "False", "False"], ["mock_requests", "get", "side_effect", "queue_mock", "billing_mock", "app_mock"]], "billing_mock": [["billing_mock", "Mock"], ["mock_requests", "get", "side_effect", "queue_mock", "billing_mock", "app_mock"]], "plexus_job_operator": [["plexus_job_operator", "PlexusJobOperator", "valid_job_params"], ["plexus_job_operator", "_api_lookup", "mock_hook"], ["plexus_job_operator", "_api_lookup", "mock_hook"], ["plexus_job_operator", "is_service", "None"], ["plexus_job_operator", "_api_lookup", "mock_hook"], ["plexus_job_operator", "is_service", "None"]], "queue_mock": [["queue_mock", "Mock"], ["mock_requests", "get", "side_effect", "queue_mock", "billing_mock", "app_mock"]]}, "name": "test_valid_api_lookups", "params": {"mock_hook": "", "mock_requests": "", "self": "", "valid_job_params": ""}, "params_descr": {"mock_hook": "", "mock_requests": "", "self": "", "valid_job_params": ""}, "params_occur": {"mock_hook": [["plexus_job_operator", "_api_lookup", "mock_hook"], ["plexus_job_operator", "_api_lookup", "mock_hook"], ["plexus_job_operator", "_api_lookup", "mock_hook"]], "mock_requests": [["mock_requests", "get", "side_effect", "queue_mock", "billing_mock", "app_mock"]], "self": [], "valid_job_params": [["plexus_job_operator", "PlexusJobOperator", "valid_job_params"]]}, "params_p": {"args": [], "kwargs": [], "mock_hook": [["mock.Mock", 0.17541953366960106], ["unittesmock.Mock", 0.08279935055054656]], "mock_requests": [["unittesmock.Mock", 0.48405211279897653]], "self": [], "valid_job_params": []}, "q_name": "TestPlexusOperator.test_valid_api_lookups", "ret_exprs": [], "ret_type": "", "variables": {"app_mock": "", "billing_mock": "", "plexus_job_operator": "", "queue_mock": ""}, "variables_p": {"app_mock": [["unittesmock.Mock", 0.3558298799079525], ["str", 0.18878783662556425], ["bool", 0.0930680879242911]], "billing_mock": [["mock.Mock", 0.32022724898858623], ["unittesmock.Mock", 0.2941645813964537], ["str", 0.09422845761494517]], "plexus_job_operator": [["str", 0.2070604993043272]], "queue_mock": [["mock.Mock", 0.32022724898858623], ["unittesmock.Mock", 0.2941645813964537], ["str", 0.09422845761494517]]}}, {"docstring": {"func": "test api lookups that are not found", "long_descr": null, "ret": null}, "fn_lc": [[124, 4], [137, 76]], "fn_var_ln": {"app_mock": [[128, 8], [128, 16]], "billing_mock": [[127, 8], [127, 20]], "plexus_job_operator": [[133, 8], [133, 27]], "queue_mock": [[126, 8], [126, 18]]}, "fn_var_occur": {"app_mock": [["app_mock", "Mock", "True"], ["mock_requests", "get", "side_effect", "queue_mock", "billing_mock", "app_mock"]], "billing_mock": [["billing_mock", "Mock", "None"], ["mock_requests", "get", "side_effect", "queue_mock", "billing_mock", "app_mock"]], "plexus_job_operator": [["plexus_job_operator", "PlexusJobOperator", "invalid_lookups"], ["plexus_job_operator", "_api_lookup", "mock_hook"], ["plexus_job_operator", "_api_lookup", "mock_hook"], ["plexus_job_operator", "_api_lookup", "mock_hook"]], "queue_mock": [["queue_mock", "Mock"], ["mock_requests", "get", "side_effect", "queue_mock", "billing_mock", "app_mock"]]}, "name": "test_invalid_api_lookups", "params": {"invalid_lookups": "", "mock_hook": "", "mock_requests": "", "self": ""}, "params_descr": {"invalid_lookups": "", "mock_hook": "", "mock_requests": "", "self": ""}, "params_occur": {"invalid_lookups": [["plexus_job_operator", "PlexusJobOperator", "invalid_lookups"]], "mock_hook": [["plexus_job_operator", "_api_lookup", "mock_hook"], ["plexus_job_operator", "_api_lookup", "mock_hook"], ["plexus_job_operator", "_api_lookup", "mock_hook"]], "mock_requests": [["mock_requests", "get", "side_effect", "queue_mock", "billing_mock", "app_mock"]], "self": []}, "params_p": {"args": [], "invalid_lookups": [], "kwargs": [], "mock_hook": [["unittesmock.Mock", 0.127665891398484]], "mock_requests": [["unittesmock.Mock", 0.6518074295070728]], "self": []}, "q_name": "TestPlexusOperator.test_invalid_api_lookups", "ret_exprs": [], "ret_type": "", "variables": {"app_mock": "", "billing_mock": "", "plexus_job_operator": "", "queue_mock": ""}, "variables_p": {"app_mock": [["unittesmock.Mock", 0.552945036788769], ["str", 0.2660880978086959], ["bool", 0.09075162050729899], ["List[str]", 0.09021524489523605]], "billing_mock": [["Dict[str, List[Any]]", 0.3104414838813747], ["str", 0.12842949115568478], ["Dict[str, Union[Any, Any, Any]]", 0.1034804946271249], ["Dict[str, Any]", 0.09167369300266048], ["unittesmock.Mock", 0.09110042433503707]], "plexus_job_operator": [], "queue_mock": [["mock.Mock", 0.32022724898858623], ["unittesmock.Mock", 0.2941645813964537], ["str", 0.09422845761494517]]}}, {"docstring": {"func": "test submit/get job", "long_descr": null, "ret": null}, "fn_lc": [[143, 4], [192, 45]], "fn_var_ln": {"is_service": [[160, 8], [160, 38]], "plexus_job_operator": [[155, 8], [155, 27]], "return_value": [[145, 8], [145, 42]]}, "fn_var_occur": {"is_service": [["plexus_job_operator", "is_service", "False"]], "plexus_job_operator": [["plexus_job_operator", "PlexusJobOperator", "valid_job_params"], ["plexus_job_operator", "execute", "None"], ["plexus_job_operator", "is_service", "False"], ["plexus_job_operator", "execute", "None"], ["plexus_job_operator", "execute", "None"], ["plexus_job_operator", "execute", "None"], ["plexus_job_operator", "execute", "None"], ["plexus_job_operator", "execute", "None"], ["plexus_job_operator", "execute", "None"]], "return_value": [["mock_construct_params", "return_value"], ["mock_request", "post", "return_value", "Mock", "ok", "False", "status_code", "reason", "text"], ["mock_request", "post", "return_value", "Mock", "True"], ["mock_request", "get", "return_value", "Mock", "ok", "False"], ["mock_request", "get", "return_value", "Mock", "True"], ["mock_request", "get", "return_value", "Mock", "True"]]}, "name": "test_create_job", "params": {"mock_construct_params": "", "mock_hook": "", "mock_request": "", "mock_time": "", "self": "", "valid_job_params": ""}, "params_descr": {"mock_construct_params": "", "mock_hook": "", "mock_request": "", "mock_time": "", "self": "", "valid_job_params": ""}, "params_occur": {"mock_construct_params": [["mock_construct_params", "return_value"]], "mock_hook": [], "mock_request": [["mock_request", "post", "side_effect", "Timeout"], ["mock_request", "post", "side_effect", "None"], ["mock_request", "post", "return_value", "Mock", "ok", "False", "status_code", "reason", "text"], ["mock_request", "post", "return_value", "Mock", "True"], ["mock_request", "get", "return_value", "Mock", "ok", "False"], ["mock_request", "get", "return_value", "Mock", "True"], ["mock_request", "get", "return_value", "Mock", "True"], ["mock_request", "get", "side_effect", "Timeout"]], "mock_time": [], "self": [], "valid_job_params": [["plexus_job_operator", "PlexusJobOperator", "valid_job_params"]]}, "params_p": {"args": [], "kwargs": [], "mock_construct_params": [["mock.Mock", 0.46716474145933107], ["unittesmock.Mock", 0.2870992453302084]], "mock_hook": [["mock.Mock", 0.9999999999999999]], "mock_request": [["unittesmock.Mock", 0.5136292634920883]], "mock_time": [["mock.Mock", 0.9999999999999999]], "self": [], "valid_job_params": [["unittesmock.Mock", 0.8401470702031631]]}, "q_name": "TestPlexusOperator.test_create_job", "ret_exprs": [], "ret_type": "", "variables": {"is_service": "", "plexus_job_operator": "", "return_value": ""}, "variables_p": {"is_service": [["bool", 0.6746282949505018], ["str", 0.32537170504949814]], "plexus_job_operator": [["str", 0.1848069377151495], ["List[tuple]", 0.10507427895626206], ["tuple", 0.09255584680542688], ["int", 0.088072950836058], ["List[Tuple[str, bool]]", 0.08496655365404099], ["Dict[str, float]", 0.08350715426294508]], "return_value": [["str", 0.19001357987903267], ["Dict[str, Union[Any, Any]]", 0.18809581873080922], ["Optional[bytes]", 0.12014918440610456], ["mock._patch[Union[mock.AsyncMock, mock.MagicMock]]", 0.11924233278439622], ["rotkehlchen.tests.utils.mock.MockResponse", 0.09782658996605058], ["unittesmock.Mock", 0.09587844711424577], ["Dict[str, int]", 0.09395303673235197]]}}], "name": "TestPlexusOperator", "q_name": "TestPlexusOperator", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "unittest", "mock", "unittest", "mock", "Mock", "pytest", "requests", "exceptions", "Timeout", "airflow", "exceptions", "AirflowException", "airflow", "providers", "plexus", "operators", "job", "PlexusJobOperator"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 38}, "session_id": "xCSl0-PrpPUe2sNZr8STx1ingFE9zYBwsoA7-RZT5Fs", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}