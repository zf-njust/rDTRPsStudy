{"error": null, "response": {"classes": [{"cls_lc": [[71, 0], [577, 30]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[74, 4], [82, 34]], "fn_var_ln": {"err": [[81, 8], [81, 11]], "op": [[77, 12], [77, 14]]}, "fn_var_occur": {"err": [["err", "ctx", "value"], ["message", "str", "err"]], "op": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"], ["op", "execute", "None"]]}, "name": "test_body_empty_or_missing_fields", "params": {"body": "", "message": "", "mock_hook": "", "self": ""}, "params_descr": {"body": "", "message": "", "mock_hook": "", "self": ""}, "params_occur": {"body": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"]], "message": [["message", "str", "err"]], "mock_hook": [["mock_hook", "return_value", "upload_function_zip", "return_value"]], "self": []}, "params_p": {"args": [], "body": [["str", 0.10213148769784446]], "kwargs": [], "message": [["str", 0.8925005798504536]], "mock_hook": [], "self": []}, "q_name": "TestGcfFunctionDeploy.test_body_empty_or_missing_fields", "ret_exprs": [], "ret_type": "", "variables": {"err": "", "op": ""}, "variables_p": {"err": [["str", 0.34398485643215154], ["frozenset[str]", 0.2724982095880296], ["int", 0.1884474560667257], ["Dict[str, Union[int, str]]", 0.0965495080079549]], "op": [["str", 0.18149365729378], ["int", 0.17531954723977283], ["Dict[str, int]", 0.17313141836385204], ["Type[Dict[Any, str]]", 0.09332454481207346]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[85, 4], [106, 9]], "fn_var_ln": {"expected_body": [[102, 8], [102, 21]], "op": [[90, 8], [90, 10]]}, "fn_var_occur": {"expected_body": [["expected_body", "deepcopy", "VALID_BODY"], ["expected_body", "version", "replace", "replace"], ["mock_hook", "return_value", "create_new_function", "assert_called_once_with", "project_id", "location", "body", "expected_body"]], "op": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "GCP_PROJECT_ID", "location", "GCP_LOCATION", "body", "deepcopy", "VALID_BODY", "task_id"], ["op", "execute", "context", "mock", "MagicMock"]]}, "name": "test_deploy_execute", "params": {"mock_hook": "", "self": ""}, "params_descr": {"mock_hook": "", "self": ""}, "params_occur": {"mock_hook": [["mock_hook", "return_value", "get_function", "side_effect", "mock", "Mock", "side_effect", "HttpError", "resp", "MOCK_RESP_404", "content"], ["mock_hook", "return_value", "create_new_function", "return_value", "True"], ["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"], ["mock_hook", "return_value", "get_function", "assert_called_once_with"], ["mock_hook", "return_value", "create_new_function", "assert_called_once_with", "project_id", "location", "body", "expected_body"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_hook": [], "self": []}, "q_name": "TestGcfFunctionDeploy.test_deploy_execute", "ret_exprs": [], "ret_type": "", "variables": {"expected_body": "", "op": ""}, "variables_p": {"expected_body": [["str", 0.20413933715955238], ["list", 0.09443593829223558], ["frozenset[str]", 0.08966126071164361]], "op": [["str", 0.2930984909921036], ["List[List[int]]", 0.20687809043736824], ["Dict[str, int]", 0.12891754157633065], ["int", 0.09221439363371516]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[109, 4], [131, 70]], "fn_var_ln": {"expected_body": [[124, 8], [124, 21]], "op": [[112, 8], [112, 10]]}, "fn_var_occur": {"expected_body": [["expected_body", "deepcopy", "VALID_BODY"], ["expected_body", "version", "replace", "replace"], ["mock_hook", "return_value", "update_function", "assert_called_once_with", "expected_body", "expected_body", "keys"]], "op": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "GCP_PROJECT_ID", "location", "GCP_LOCATION", "body", "deepcopy", "VALID_BODY", "task_id"], ["op", "execute", "context", "mock", "MagicMock"]]}, "name": "test_update_function_if_exists", "params": {"mock_hook": "", "self": ""}, "params_descr": {"mock_hook": "", "self": ""}, "params_occur": {"mock_hook": [["mock_hook", "return_value", "get_function", "return_value", "True"], ["mock_hook", "return_value", "update_function", "return_value", "True"], ["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"], ["mock_hook", "return_value", "get_function", "assert_called_once_with"], ["mock_hook", "return_value", "update_function", "assert_called_once_with", "expected_body", "expected_body", "keys"], ["mock_hook", "return_value", "create_new_function", "assert_not_called"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_hook": [["mock.MagicMock", 0.10535848741199029], ["Tuple[str, mock.Mock]", 0.08861894643596617]], "self": []}, "q_name": "TestGcfFunctionDeploy.test_update_function_if_exists", "ret_exprs": [], "ret_type": "", "variables": {"expected_body": "", "op": ""}, "variables_p": {"expected_body": [["str", 0.22731136378165562], ["Dict[str, Any]", 0.10223024073448826], ["Tuple[int, int]", 0.09420847632617432], ["list", 0.08779866803630891], ["Dict[str, List[str]]", 0.08293550011578542]], "op": [["str", 0.2930984909921036], ["List[List[int]]", 0.20687809043736824], ["Dict[str, int]", 0.12891754157633065], ["int", 0.09221439363371516]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[134, 4], [149, 9]], "fn_var_ln": {"new_body": [[145, 8], [145, 16]], "operator": [[136, 8], [136, 16]]}, "fn_var_occur": {"new_body": [["new_body", "deepcopy", "VALID_BODY"], ["new_body", "version", "replace", "replace"], ["mock_hook", "return_value", "create_new_function", "assert_called_once_with", "project_id", "None", "location", "body", "new_body"]], "operator": [["operator", "CloudFunctionDeployFunctionOperator", "location", "body", "deepcopy", "VALID_BODY", "task_id"], ["operator", "execute", "context", "mock", "MagicMock"]]}, "name": "test_empty_project_id_is_ok", "params": {"mock_hook": "", "self": ""}, "params_descr": {"mock_hook": "", "self": ""}, "params_occur": {"mock_hook": [["mock_hook", "return_value", "get_function", "side_effect", "HttpError", "resp", "MOCK_RESP_404", "content"], ["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"], ["mock_hook", "return_value", "create_new_function", "assert_called_once_with", "project_id", "None", "location", "body", "new_body"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_hook": [], "self": []}, "q_name": "TestGcfFunctionDeploy.test_empty_project_id_is_ok", "ret_exprs": [], "ret_type": "", "variables": {"new_body": "", "operator": ""}, "variables_p": {"new_body": [["str", 0.23345629820851505], ["List[str]", 0.2018603805632813], ["Dict[str, str]", 0.0944042198580445], ["Optional[Match[str]]", 0.0934167893292711]], "operator": [["str", 0.6095287170936432], ["int", 0.1995074094592556], ["List[Dict[str, str]]", 0.0999222479192258]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[152, 4], [158, 73]], "fn_var_ln": {"err": [[157, 8], [157, 11]]}, "fn_var_occur": {"err": [["err", "ctx", "value"], ["str", "err"]]}, "name": "test_empty_location", "params": {"mock_hook": "", "self": ""}, "params_descr": {"mock_hook": "", "self": ""}, "params_occur": {"mock_hook": [], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_hook": [["mock.Mock", 0.4870028524202065], ["Generator[None, Any, None]", 0.07329911171030937]], "self": []}, "q_name": "TestGcfFunctionDeploy.test_empty_location", "ret_exprs": [], "ret_type": "", "variables": {"err": ""}, "variables_p": {"err": [["str", 0.30401277098330504], ["frozenset[str]", 0.27162558243657475], ["int", 0.2667999344278643], ["Final", 0.0789964170559774]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[161, 4], [167, 69]], "fn_var_ln": {"err": [[166, 8], [166, 11]]}, "fn_var_occur": {"err": [["err", "ctx", "value"], ["str", "err"]]}, "name": "test_empty_body", "params": {"mock_hook": "", "self": ""}, "params_descr": {"mock_hook": "", "self": ""}, "params_occur": {"mock_hook": [], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_hook": [["mock.Mock", 0.6438333222148136]], "self": []}, "q_name": "TestGcfFunctionDeploy.test_empty_body", "ret_exprs": [], "ret_type": "", "variables": {"err": ""}, "variables_p": {"err": [["str", 0.30401277098330504], ["frozenset[str]", 0.27162558243657475], ["int", 0.2667999344278643], ["Final", 0.0789964170559774]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[171, 4], [184, 30]], "fn_var_ln": {"body": [[173, 8], [173, 12]], "op": [[175, 8], [175, 10]]}, "fn_var_occur": {"body": [["body", "deepcopy", "VALID_BODY"], ["body", "runtime"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"]], "op": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"], ["op", "execute", "context", "mock", "MagicMock"]]}, "name": "test_correct_runtime_field", "params": {"mock_hook": "", "runtime": "", "self": ""}, "params_descr": {"mock_hook": "", "runtime": "", "self": ""}, "params_occur": {"mock_hook": [["mock_hook", "return_value", "create_new_function", "return_value", "True"], ["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"], ["mock_hook", "reset_mock"]], "runtime": [["body", "runtime"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_hook": [["mock.MagicMock", 0.12029736628867384]], "runtime": [], "self": []}, "q_name": "TestGcfFunctionDeploy.test_correct_runtime_field", "ret_exprs": [], "ret_type": "", "variables": {"body": "", "op": ""}, "variables_p": {"body": [["str", 0.4927076044480947], ["Optional[str]", 0.1728613099817406], ["property", 0.08989830181032778]], "op": [["str", 0.27471035808263244], ["Dict[str, int]", 0.16626055923311672], ["Type[Dict[Any, str]]", 0.11865929702064533], ["Tuple[str, str]", 0.08705490310851058], ["Dict[str, str]", 0.08164140864132564]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[196, 4], [209, 30]], "fn_var_ln": {"body": [[198, 8], [198, 12]], "op": [[200, 8], [200, 10]]}, "fn_var_occur": {"body": [["body", "deepcopy", "VALID_BODY"], ["body", "network"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"]], "op": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"], ["op", "execute", "context", "mock", "MagicMock"]]}, "name": "test_valid_network_field", "params": {"mock_hook": "", "network": "", "self": ""}, "params_descr": {"mock_hook": "", "network": "", "self": ""}, "params_occur": {"mock_hook": [["mock_hook", "return_value", "create_new_function", "return_value", "True"], ["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"], ["mock_hook", "reset_mock"]], "network": [["body", "network"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_hook": [["mock.MagicMock", 0.13837826853934768]], "network": [], "self": []}, "q_name": "TestGcfFunctionDeploy.test_valid_network_field", "ret_exprs": [], "ret_type": "", "variables": {"body": "", "op": ""}, "variables_p": {"body": [["str", 0.4927076044480947], ["Optional[str]", 0.1728613099817406], ["property", 0.08989830181032778]], "op": [["str", 0.27471035808263244], ["Dict[str, int]", 0.16626055923311672], ["Type[Dict[Any, str]]", 0.11865929702064533], ["Tuple[str, str]", 0.08705490310851058], ["Dict[str, str]", 0.08164140864132564]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[213, 4], [226, 30]], "fn_var_ln": {"body": [[215, 8], [215, 12]], "op": [[217, 8], [217, 10]]}, "fn_var_occur": {"body": [["body", "deepcopy", "VALID_BODY"], ["body", "labels"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"]], "op": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"], ["op", "execute", "context", "mock", "MagicMock"]]}, "name": "test_valid_labels_field", "params": {"labels": "", "mock_hook": "", "self": ""}, "params_descr": {"labels": "", "mock_hook": "", "self": ""}, "params_occur": {"labels": [["body", "labels"]], "mock_hook": [["mock_hook", "return_value", "create_new_function", "return_value", "True"], ["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"], ["mock_hook", "reset_mock"]], "self": []}, "params_p": {"args": [], "kwargs": [], "labels": [], "mock_hook": [["mock.MagicMock", 0.09990367960737481]], "self": []}, "q_name": "TestGcfFunctionDeploy.test_valid_labels_field", "ret_exprs": [], "ret_type": "", "variables": {"body": "", "op": ""}, "variables_p": {"body": [["str", 1.0]], "op": [["str", 0.27471035808263244], ["Dict[str, int]", 0.16626055923311672], ["Type[Dict[Any, str]]", 0.11865929702064533], ["Tuple[str, str]", 0.08705490310851058], ["Dict[str, str]", 0.08164140864132564]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[229, 4], [241, 30]], "fn_var_ln": {"body": [[231, 8], [231, 12]], "op": [[232, 8], [232, 10]]}, "fn_var_occur": {"body": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "validate_body", "False", "task_id"]], "op": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "validate_body", "False", "task_id"], ["op", "execute", "context", "mock", "MagicMock"]]}, "name": "test_validation_disabled", "params": {"mock_hook": "", "self": ""}, "params_descr": {"mock_hook": "", "self": ""}, "params_occur": {"mock_hook": [["mock_hook", "return_value", "create_new_function", "return_value", "True"], ["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"], ["mock_hook", "reset_mock"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_hook": [["mock.MagicMock", 0.12725302521331505]], "self": []}, "q_name": "TestGcfFunctionDeploy.test_validation_disabled", "ret_exprs": [], "ret_type": "", "variables": {"body": "", "op": ""}, "variables_p": {"body": [["List[int]", 0.19099529110969868], ["List[dict]", 0.11477813716167279], ["Optional[str]", 0.10023900303075302], ["Iterable[int]", 0.09549764555484934]], "op": [["int", 0.12085072368709912], ["str", 0.09155126793447015], ["Tuple[int]", 0.08905724996964134]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[244, 4], [260, 30]], "fn_var_ln": {"body": [[246, 8], [246, 12]], "err": [[253, 8], [253, 11]], "op": [[249, 12], [249, 14]]}, "fn_var_occur": {"body": [["body", "deepcopy", "VALID_BODY"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"]], "err": [["err", "ctx", "value"], ["str", "err"]], "op": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"], ["op", "execute", "None"]]}, "name": "test_body_validation_simple", "params": {"mock_hook": "", "self": ""}, "params_descr": {"mock_hook": "", "self": ""}, "params_occur": {"mock_hook": [["mock_hook", "return_value", "create_new_function", "return_value", "True"], ["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"], ["mock_hook", "reset_mock"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_hook": [["mock.MagicMock", 0.11166044992668811], ["mock.Mock", 0.08487099966659924]], "self": []}, "q_name": "TestGcfFunctionDeploy.test_body_validation_simple", "ret_exprs": [], "ret_type": "", "variables": {"body": "", "err": "", "op": ""}, "variables_p": {"body": [["str", 0.4320335824718239], ["int", 0.08401209623175614], ["Dict[int, str]", 0.07772302995886282], ["Tuple[Type[str], Type[bytes]]", 0.07693949521109555]], "err": [["str", 0.30401277098330504], ["frozenset[str]", 0.27162558243657475], ["int", 0.2667999344278643], ["Final", 0.0789964170559774]], "op": [["str", 0.18149365729378], ["int", 0.17531954723977283], ["Dict[str, int]", 0.17313141836385204], ["Type[Dict[Any, str]]", 0.09332454481207346]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[278, 4], [294, 30]], "fn_var_ln": {"body": [[280, 8], [280, 12]], "err": [[287, 8], [287, 11]], "op": [[283, 12], [283, 14]]}, "fn_var_occur": {"body": [["body", "deepcopy", "VALID_BODY"], ["body", "key", "value"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"]], "err": [["err", "ctx", "value"], ["message", "str", "err"]], "op": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"], ["op", "execute", "None"]]}, "name": "test_invalid_field_values", "params": {"key": "", "message": "", "mock_hook": "", "self": "", "value": ""}, "params_descr": {"key": "", "message": "", "mock_hook": "", "self": "", "value": ""}, "params_occur": {"key": [["body", "key", "value"]], "message": [["message", "str", "err"]], "mock_hook": [["mock_hook", "return_value", "create_new_function", "return_value", "True"], ["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"], ["mock_hook", "reset_mock"]], "self": [], "value": [["body", "key", "value"], ["err", "ctx", "value"]]}, "params_p": {"args": [], "key": [["str", 0.806376317467038]], "kwargs": [], "message": [["str", 0.8023741385678306]], "mock_hook": [], "self": [], "value": [["str", 0.5781824053789628]]}, "q_name": "TestGcfFunctionDeploy.test_invalid_field_values", "ret_exprs": [], "ret_type": "", "variables": {"body": "", "err": "", "op": ""}, "variables_p": {"body": [["str", 0.3829524959594949], ["Optional[str]", 0.1301164063601756], ["List[str]", 0.10946394139943641], ["Tuple[str, str]", 0.10859666497637824], ["bytes", 0.08473778195687189]], "err": [["str", 0.34398485643215154], ["frozenset[str]", 0.2724982095880296], ["int", 0.1884474560667257], ["Dict[str, Union[int, str]]", 0.0965495080079549]], "op": [["str", 0.18149365729378], ["int", 0.17531954723977283], ["Dict[str, int]", 0.17313141836385204], ["Type[Dict[Any, str]]", 0.09332454481207346]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[358, 4], [374, 34]], "fn_var_ln": {"body": [[359, 8], [359, 12]], "err": [[373, 8], [373, 11]], "op": [[365, 12], [365, 14]], "zip_path": [[362, 8], [362, 16]]}, "fn_var_occur": {"body": [["body", "deepcopy", "VALID_BODY"], ["body", "pop", "None"], ["body", "pop", "None"], ["body", "update", "source_code"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id", "zip_path", "zip_path"]], "err": [["err", "ctx", "value"], ["message", "str", "err"]], "op": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id", "zip_path", "zip_path"], ["op", "execute", "None"]], "zip_path": [["zip_path", "source_code", "pop", "None"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id", "zip_path", "zip_path"]]}, "name": "test_invalid_source_code_union_field", "params": {"message": "", "self": "", "source_code": ""}, "params_descr": {"message": "", "self": "", "source_code": ""}, "params_occur": {"message": [["message", "str", "err"]], "self": [], "source_code": [["zip_path", "source_code", "pop", "None"], ["body", "update", "source_code"]]}, "params_p": {"args": [], "kwargs": [], "message": [["str", 1.0]], "self": [], "source_code": [["str", 0.9103002009561476], ["int", 0.08969979904385246]]}, "q_name": "TestGcfFunctionDeploy.test_invalid_source_code_union_field", "ret_exprs": [], "ret_type": "", "variables": {"body": "", "err": "", "op": "", "zip_path": ""}, "variables_p": {"body": [["str", 0.10696745672707962], ["int", 0.09091909724310876], ["Type[str]", 0.08007445907370452], ["List[List[int]]", 0.07916314563484537]], "err": [["str", 0.34398485643215154], ["frozenset[str]", 0.2724982095880296], ["int", 0.1884474560667257], ["Dict[str, Union[int, str]]", 0.0965495080079549]], "op": [["str", 0.3916066802408291], ["int", 0.2719652548155135], ["Dict[str, int]", 0.12622587914214956], ["Type[Dict[Any, str]]", 0.0942321826858204]], "zip_path": [["str", 0.6302602108672172], ["Union[Literal, str]", 0.1003101633259463], ["Optional[str]", 0.08716722114816339], ["List[str]", 0.08711095999184144]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[401, 4], [442, 30]], "fn_var_ln": {"body": [[407, 8], [407, 12]], "op": [[423, 12], [423, 14]], "zip_path": [[412, 8], [412, 16]]}, "fn_var_occur": {"body": [["body", "deepcopy", "VALID_BODY"], ["body", "pop", "None"], ["body", "pop", "None"], ["body", "pop", "None"], ["body", "pop", "None"], ["body", "update", "source_code"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id", "zip_path", "zip_path"], ["op", "CloudFunctionDeployFunctionOperator", "location", "body", "body", "task_id", "zip_path", "zip_path"], ["mock_hook", "return_value", "create_new_function", "assert_called_once_with", "project_id", "project_id", "location", "body", "body"]], "op": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id", "zip_path", "zip_path"], ["op", "CloudFunctionDeployFunctionOperator", "location", "body", "body", "task_id", "zip_path", "zip_path"], ["op", "execute", "context", "mock", "MagicMock"]], "zip_path": [["zip_path", "source_code", "pop", "None"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id", "zip_path", "zip_path"], ["op", "CloudFunctionDeployFunctionOperator", "location", "body", "body", "task_id", "zip_path", "zip_path"], ["mock_hook", "return_value", "upload_function_zip", "assert_called_once_with", "project_id", "project_id", "location", "zip_path"]]}, "name": "test_valid_source_code_union_field", "params": {"mock_hook": "", "project_id": "", "self": "", "source_code": ""}, "params_descr": {"mock_hook": "", "project_id": "", "self": "", "source_code": ""}, "params_occur": {"mock_hook": [["mock_hook", "return_value", "upload_function_zip", "return_value"], ["mock_hook", "return_value", "get_function", "side_effect", "mock", "Mock", "side_effect", "HttpError", "resp", "MOCK_RESP_404", "content"], ["mock_hook", "return_value", "create_new_function", "return_value", "True"], ["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"], ["mock_hook", "return_value", "upload_function_zip", "assert_called_once_with", "project_id", "project_id", "location", "zip_path"], ["mock_hook", "return_value", "get_function", "assert_called_once_with"], ["mock_hook", "return_value", "create_new_function", "assert_called_once_with", "project_id", "project_id", "location", "body", "body"], ["mock_hook", "reset_mock"]], "project_id": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id", "zip_path", "zip_path"], ["mock_hook", "return_value", "upload_function_zip", "assert_called_once_with", "project_id", "project_id", "location", "zip_path"], ["mock_hook", "return_value", "create_new_function", "assert_called_once_with", "project_id", "project_id", "location", "body", "body"]], "self": [], "source_code": [["zip_path", "source_code", "pop", "None"], ["body", "update", "source_code"]]}, "params_p": {"args": [], "kwargs": [], "mock_hook": [], "project_id": [], "self": [], "source_code": [["str", 0.09776892054469426]]}, "q_name": "TestGcfFunctionDeploy.test_valid_source_code_union_field", "ret_exprs": [], "ret_type": "", "variables": {"body": "", "op": "", "zip_path": ""}, "variables_p": {"body": [["str", 0.5125005495722456], ["TypeError", 0.10325687299931917], ["Dict[str, Union[Any, Any, Any, Any]]", 0.09799763197746758], ["dict", 0.09492178796059454]], "op": [["List[str]", 0.24079147611969387], ["str", 0.20470023512090926], ["Optional[str]", 0.1781340472923379], ["int", 0.10203979340598231], ["Dict[str, Any]", 0.10126691981901868], ["Dict[str, Dict[str, str]]", 0.0886438735261385]], "zip_path": [["str", 0.6302602108672172], ["Union[Literal, str]", 0.1003101633259463], ["Optional[str]", 0.08716722114816339], ["List[str]", 0.08711095999184144]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[480, 4], [501, 30]], "fn_var_ln": {"body": [[482, 8], [482, 12]], "err": [[494, 8], [494, 11]], "op": [[487, 12], [487, 14]]}, "fn_var_occur": {"body": [["body", "deepcopy", "VALID_BODY"], ["body", "pop", "None"], ["body", "pop", "None"], ["body", "update", "trigger"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"]], "err": [["err", "ctx", "value"], ["message", "str", "err"]], "op": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"], ["op", "execute", "None"]]}, "name": "test_invalid_trigger_union_field", "params": {"message": "", "mock_hook": "", "self": "", "trigger": ""}, "params_descr": {"message": "", "mock_hook": "", "self": "", "trigger": ""}, "params_occur": {"message": [["message", "str", "err"]], "mock_hook": [["mock_hook", "return_value", "upload_function_zip", "return_value"], ["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"], ["mock_hook", "reset_mock"]], "self": [], "trigger": [["body", "update", "trigger"]]}, "params_p": {"args": [], "kwargs": [], "message": [["str", 0.10196915029209157]], "mock_hook": [], "self": [], "trigger": [["bool", 0.06797582948351102]]}, "q_name": "TestGcfFunctionDeploy.test_invalid_trigger_union_field", "ret_exprs": [], "ret_type": "", "variables": {"body": "", "err": "", "op": ""}, "variables_p": {"body": [["str", 0.4007880701491245], ["int", 0.0906716408604964], ["List[Union[Any, Any, Any]]", 0.0881830487553543]], "err": [["str", 0.34398485643215154], ["frozenset[str]", 0.2724982095880296], ["int", 0.1884474560667257], ["Dict[str, Union[int, str]]", 0.0965495080079549]], "op": [["str", 0.18149365729378], ["int", 0.17531954723977283], ["Dict[str, int]", 0.17313141836385204], ["Type[Dict[Any, str]]", 0.09332454481207346]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[533, 4], [561, 30]], "fn_var_ln": {"body": [[539, 8], [539, 12]], "op": [[543, 8], [543, 10]]}, "fn_var_occur": {"body": [["body", "deepcopy", "VALID_BODY"], ["body", "pop", "None"], ["body", "pop", "None"], ["body", "update", "trigger"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"], ["mock_hook", "return_value", "create_new_function", "assert_called_once_with", "project_id", "location", "body", "body"]], "op": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"], ["op", "execute", "context", "mock", "MagicMock"]]}, "name": "test_valid_trigger_union_field", "params": {"mock_hook": "", "self": "", "trigger": ""}, "params_descr": {"mock_hook": "", "self": "", "trigger": ""}, "params_occur": {"mock_hook": [["mock_hook", "return_value", "upload_function_zip", "return_value"], ["mock_hook", "return_value", "get_function", "side_effect", "mock", "Mock", "side_effect", "HttpError", "resp", "MOCK_RESP_404", "content"], ["mock_hook", "return_value", "create_new_function", "return_value", "True"], ["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"], ["mock_hook", "return_value", "get_function", "assert_called_once_with"], ["mock_hook", "return_value", "create_new_function", "assert_called_once_with", "project_id", "location", "body", "body"], ["mock_hook", "reset_mock"]], "self": [], "trigger": [["body", "update", "trigger"]]}, "params_p": {"args": [], "kwargs": [], "mock_hook": [], "self": [], "trigger": []}, "q_name": "TestGcfFunctionDeploy.test_valid_trigger_union_field", "ret_exprs": [], "ret_type": "", "variables": {"body": "", "op": ""}, "variables_p": {"body": [["str", 0.4007880701491245], ["int", 0.0906716408604964], ["List[Union[Any, Any, Any]]", 0.0881830487553543]], "op": [["str", 0.27471035808263244], ["Dict[str, int]", 0.16626055923311672], ["Type[Dict[Any, str]]", 0.11865929702064533], ["Tuple[str, str]", 0.08705490310851058], ["Dict[str, str]", 0.08164140864132564]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[564, 4], [577, 30]], "fn_var_ln": {"body": [[566, 8], [566, 12]], "op": [[568, 8], [568, 10]]}, "fn_var_occur": {"body": [["body", "deepcopy", "VALID_BODY"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"]], "op": [["op", "CloudFunctionDeployFunctionOperator", "project_id", "location", "body", "body", "task_id"], ["op", "execute", "context", "mock", "MagicMock"]]}, "name": "test_extra_parameter", "params": {"mock_hook": "", "self": ""}, "params_descr": {"mock_hook": "", "self": ""}, "params_occur": {"mock_hook": [["mock_hook", "return_value", "create_new_function", "return_value", "True"], ["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"], ["mock_hook", "reset_mock"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_hook": [["mock.MagicMock", 0.12726010935791207]], "self": []}, "q_name": "TestGcfFunctionDeploy.test_extra_parameter", "ret_exprs": [], "ret_type": "", "variables": {"body": "", "op": ""}, "variables_p": {"body": [["str", 0.4320335824718239], ["int", 0.08401209623175614], ["Dict[int, str]", 0.07772302995886282], ["Tuple[Type[str], Type[bytes]]", 0.07693949521109555]], "op": [["str", 0.27471035808263244], ["Dict[str, int]", 0.16626055923311672], ["Type[Dict[Any, str]]", 0.11865929702064533], ["Tuple[str, str]", 0.08705490310851058], ["Dict[str, str]", 0.08164140864132564]]}}], "name": "TestGcfFunctionDeploy", "q_name": "TestGcfFunctionDeploy", "variables": {}, "variables_p": {}}, {"cls_lc": [[580, 0], [676, 9]], "cls_var_ln": {"_DELETE_FUNCTION_EXPECTED": [[582, 4], [582, 29]], "_FUNCTION_NAME": [[581, 4], [581, 18]]}, "cls_var_occur": {"_DELETE_FUNCTION_EXPECTED": [], "_FUNCTION_NAME": []}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[598, 4], [610, 52]], "fn_var_ln": {"op": [[600, 8], [600, 10]], "result": [[601, 8], [601, 14]]}, "fn_var_occur": {"op": [["op", "CloudFunctionDeleteFunctionOperator", "name", "self", "_FUNCTION_NAME", "task_id"], ["result", "op", "execute", "context", "mock", "MagicMock"]], "result": [["result", "op", "execute", "context", "mock", "MagicMock"], ["result", "self", "_FUNCTION_NAME"]]}, "name": "test_delete_execute", "params": {"mock_hook": "", "self": ""}, "params_descr": {"mock_hook": "", "self": ""}, "params_occur": {"mock_hook": [["mock_hook", "return_value", "delete_function", "return_value", "self", "_DELETE_FUNCTION_EXPECTED"], ["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"], ["mock_hook", "return_value", "delete_function", "assert_called_once_with"]], "self": [["mock_hook", "return_value", "delete_function", "return_value", "self", "_DELETE_FUNCTION_EXPECTED"], ["op", "CloudFunctionDeleteFunctionOperator", "name", "self", "_FUNCTION_NAME", "task_id"], ["result", "self", "_FUNCTION_NAME"]]}, "params_p": {"args": [], "kwargs": [], "mock_hook": [["mock.MagicMock", 0.09486576900393037]], "self": []}, "q_name": "TestGcfFunctionDelete.test_delete_execute", "ret_exprs": [], "ret_type": "", "variables": {"op": "", "result": ""}, "variables_p": {"op": [["Dict[str, Any]", 0.321893415298914], ["List[Tuple[str, ...]]", 0.27483954367515945], ["List[str]", 0.11014661758617486], ["Dict[str, str]", 0.10283151964304818], ["Dict[Any, str]", 0.09239920603383178]], "result": [["Union[mock.AsyncMock, mock.MagicMock]", 0.3766516987958584]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[613, 4], [622, 9]], "fn_var_ln": {"op": [[614, 8], [614, 10]]}, "fn_var_occur": {"op": [["op", "CloudFunctionDeleteFunctionOperator", "name", "task_id"], ["op", "execute", "context", "mock", "MagicMock"]]}, "name": "test_correct_name", "params": {"mock_hook": "", "self": ""}, "params_descr": {"mock_hook": "", "self": ""}, "params_occur": {"mock_hook": [["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_hook": [["mock.Mock", 0.35789751556006716]], "self": []}, "q_name": "TestGcfFunctionDelete.test_correct_name", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["Dict[str, Union[Any, bool, str]]", 0.21685400067092897], ["Dict[str, str]", 0.18240593883900807], ["Dict[str, Any]", 0.1115925077588777], ["List[str]", 0.10737689314589259], ["Dict[str, List[Any]]", 0.09142321828142763]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[625, 4], [631, 37]], "fn_var_ln": {"err": [[629, 8], [629, 11]], "op": [[627, 12], [627, 14]]}, "fn_var_occur": {"err": [["err", "ctx", "value"], ["str", "err", "FUNCTION_NAME_PATTERN"]], "op": [["op", "CloudFunctionDeleteFunctionOperator", "name", "task_id"], ["op", "execute", "None"]]}, "name": "test_invalid_name", "params": {"mock_hook": "", "self": ""}, "params_descr": {"mock_hook": "", "self": ""}, "params_occur": {"mock_hook": [["mock_hook", "assert_not_called"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_hook": [], "self": []}, "q_name": "TestGcfFunctionDelete.test_invalid_name", "ret_exprs": [], "ret_type": "", "variables": {"err": "", "op": ""}, "variables_p": {"err": [["str", 0.8104698831467548], ["Set[str]", 0.10250102098007578], ["google.protobuf.descriptor.Descriptor", 0.08702909587316943]], "op": [["str", 0.364488174414101], ["dict", 0.09254419494729986], ["Tuple[int]", 0.08600474968529827]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[634, 4], [640, 37]], "fn_var_ln": {"err": [[638, 8], [638, 11]]}, "fn_var_occur": {"err": [["err", "ctx", "value"], ["str", "err"]]}, "name": "test_empty_name", "params": {"mock_hook": "", "self": ""}, "params_descr": {"mock_hook": "", "self": ""}, "params_occur": {"mock_hook": [["mock_hook", "return_value", "delete_function", "return_value", "self", "_DELETE_FUNCTION_EXPECTED"], ["mock_hook", "assert_not_called"]], "self": [["mock_hook", "return_value", "delete_function", "return_value", "self", "_DELETE_FUNCTION_EXPECTED"]]}, "params_p": {"args": [], "kwargs": [], "mock_hook": [["mock.MagicMock", 0.12676695272251642]], "self": []}, "q_name": "TestGcfFunctionDelete.test_empty_name", "ret_exprs": [], "ret_type": "", "variables": {"err": ""}, "variables_p": {"err": [["str", 0.30401277098330504], ["frozenset[str]", 0.27162558243657475], ["int", 0.2667999344278643], ["Final", 0.0789964170559774]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[643, 4], [656, 9]], "fn_var_ln": {"op": [[644, 8], [644, 10]]}, "fn_var_occur": {"op": [["op", "CloudFunctionDeleteFunctionOperator", "name", "self", "_FUNCTION_NAME", "task_id"], ["op", "execute", "context", "mock", "MagicMock"]]}, "name": "test_gcf_error_silenced_when_function_doesnt_exist", "params": {"mock_hook": "", "self": ""}, "params_descr": {"mock_hook": "", "self": ""}, "params_occur": {"mock_hook": [["mock_hook", "return_value", "delete_function", "side_effect", "mock", "Mock", "side_effect", "HttpError", "resp", "MOCK_RESP_404", "content"], ["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"], ["mock_hook", "return_value", "delete_function", "assert_called_once_with"]], "self": [["op", "CloudFunctionDeleteFunctionOperator", "name", "self", "_FUNCTION_NAME", "task_id"]]}, "params_p": {"args": [], "kwargs": [], "mock_hook": [], "self": []}, "q_name": "TestGcfFunctionDelete.test_gcf_error_silenced_when_function_doesnt_exist", "ret_exprs": [], "ret_type": "", "variables": {"op": ""}, "variables_p": {"op": [["Dict[str, Callable[[], Any]]", 0.26448511588872947], ["int", 0.11472686354083962], ["float", 0.09200533942050532], ["Dict[str, Any]", 0.08788513416961043], ["str", 0.08531474718032506]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[659, 4], [676, 9]], "fn_var_ln": {"op": [[660, 8], [660, 10]], "resp": [[661, 8], [661, 12]]}, "fn_var_occur": {"op": [["op", "CloudFunctionDeleteFunctionOperator", "name", "self", "_FUNCTION_NAME", "task_id"], ["op", "execute", "context", "mock", "MagicMock"]], "resp": [["resp", "httplib2", "Response"], ["mock_hook", "return_value", "delete_function", "side_effect", "mock", "Mock", "side_effect", "HttpError", "resp", "resp", "content"]]}, "name": "test_non_404_gcf_error_bubbled_up", "params": {"mock_hook": "", "self": ""}, "params_descr": {"mock_hook": "", "self": ""}, "params_occur": {"mock_hook": [["mock_hook", "return_value", "delete_function", "side_effect", "mock", "Mock", "side_effect", "HttpError", "resp", "resp", "content"], ["mock_hook", "assert_called_once_with", "api_version", "gcp_conn_id", "impersonation_chain", "None"], ["mock_hook", "return_value", "delete_function", "assert_called_once_with"]], "self": [["op", "CloudFunctionDeleteFunctionOperator", "name", "self", "_FUNCTION_NAME", "task_id"]]}, "params_p": {"args": [], "kwargs": [], "mock_hook": [], "self": []}, "q_name": "TestGcfFunctionDelete.test_non_404_gcf_error_bubbled_up", "ret_exprs": [], "ret_type": "", "variables": {"op": "", "resp": ""}, "variables_p": {"op": [["Dict[str, Callable[[], Any]]", 0.26448511588872947], ["int", 0.11472686354083962], ["float", 0.09200533942050532], ["Dict[str, Any]", 0.08788513416961043], ["str", 0.08531474718032506]], "resp": [["Dict[str, int]", 0.11280183491579088], ["rotkehlchen.tests.utils.mock.MockResponse", 0.10770335449311816], ["str", 0.09552339630150611], ["List[int]", 0.09433727566066392], ["Optional[bytes]", 0.0918464376601348]]}}], "name": "TestGcfFunctionDelete", "q_name": "TestGcfFunctionDelete", "variables": {"_DELETE_FUNCTION_EXPECTED": "", "_FUNCTION_NAME": ""}, "variables_p": {"_DELETE_FUNCTION_EXPECTED": [["Pattern[str]", 0.9999999999999997]], "_FUNCTION_NAME": [["str", 0.7], ["Dict[str, str]", 0.2], ["int", 0.1]]}}, {"cls_lc": [[679, 0], [723, 9]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[682, 4], [723, 9]], "fn_var_ln": {"api_version": [[688, 8], [688, 19]], "context": [[702, 8], [702, 15]], "exec_id": [[683, 8], [683, 15]], "function_id": [[686, 8], [686, 19]], "gcp_conn_id": [[689, 8], [689, 19]], "impersonation_chain": [[690, 8], [690, 27]], "op": [[692, 8], [692, 10]], "payload": [[687, 8], [687, 15]]}, "fn_var_occur": {"api_version": [["op", "CloudFunctionInvokeFunctionOperator", "task_id", "function_id", "function_id", "input_data", "payload", "location", "GCP_LOCATION", "project_id", "GCP_PROJECT_ID", "api_version", "api_version", "gcp_conn_id", "gcp_conn_id", "impersonation_chain", "impersonation_chain"], ["mock_gcf_hook", "assert_called_once_with", "api_version", "api_version", "gcp_conn_id", "gcp_conn_id", "impersonation_chain", "impersonation_chain"]], "context": [["context", "mock", "MagicMock"], ["op", "execute", "context", "context"], ["mock_xcom", "assert_called_with", "context", "key", "value", "GCP_LOCATION", "function_id", "GCP_PROJECT_ID"]], "exec_id": [["mock_gcf_hook", "return_value", "call_function", "return_value", "exec_id"]], "function_id": [["op", "CloudFunctionInvokeFunctionOperator", "task_id", "function_id", "function_id", "input_data", "payload", "location", "GCP_LOCATION", "project_id", "GCP_PROJECT_ID", "api_version", "api_version", "gcp_conn_id", "gcp_conn_id", "impersonation_chain", "impersonation_chain"], ["mock_gcf_hook", "return_value", "call_function", "assert_called_once_with", "function_id", "function_id", "input_data", "payload", "location", "GCP_LOCATION", "project_id", "GCP_PROJECT_ID"], ["mock_xcom", "assert_called_with", "context", "key", "value", "GCP_LOCATION", "function_id", "GCP_PROJECT_ID"]], "gcp_conn_id": [["op", "CloudFunctionInvokeFunctionOperator", "task_id", "function_id", "function_id", "input_data", "payload", "location", "GCP_LOCATION", "project_id", "GCP_PROJECT_ID", "api_version", "api_version", "gcp_conn_id", "gcp_conn_id", "impersonation_chain", "impersonation_chain"], ["mock_gcf_hook", "assert_called_once_with", "api_version", "api_version", "gcp_conn_id", "gcp_conn_id", "impersonation_chain", "impersonation_chain"]], "impersonation_chain": [["op", "CloudFunctionInvokeFunctionOperator", "task_id", "function_id", "function_id", "input_data", "payload", "location", "GCP_LOCATION", "project_id", "GCP_PROJECT_ID", "api_version", "api_version", "gcp_conn_id", "gcp_conn_id", "impersonation_chain", "impersonation_chain"], ["mock_gcf_hook", "assert_called_once_with", "api_version", "api_version", "gcp_conn_id", "gcp_conn_id", "impersonation_chain", "impersonation_chain"]], "op": [["op", "CloudFunctionInvokeFunctionOperator", "task_id", "function_id", "function_id", "input_data", "payload", "location", "GCP_LOCATION", "project_id", "GCP_PROJECT_ID", "api_version", "api_version", "gcp_conn_id", "gcp_conn_id", "impersonation_chain", "impersonation_chain"], ["op", "execute", "context", "context"]], "payload": [["op", "CloudFunctionInvokeFunctionOperator", "task_id", "function_id", "function_id", "input_data", "payload", "location", "GCP_LOCATION", "project_id", "GCP_PROJECT_ID", "api_version", "api_version", "gcp_conn_id", "gcp_conn_id", "impersonation_chain", "impersonation_chain"], ["mock_gcf_hook", "return_value", "call_function", "assert_called_once_with", "function_id", "function_id", "input_data", "payload", "location", "GCP_LOCATION", "project_id", "GCP_PROJECT_ID"]]}, "name": "test_execute", "params": {"mock_gcf_hook": "", "mock_xcom": "", "self": ""}, "params_descr": {"mock_gcf_hook": "", "mock_xcom": "", "self": ""}, "params_occur": {"mock_gcf_hook": [["mock_gcf_hook", "return_value", "call_function", "return_value", "exec_id"], ["mock_gcf_hook", "assert_called_once_with", "api_version", "api_version", "gcp_conn_id", "gcp_conn_id", "impersonation_chain", "impersonation_chain"], ["mock_gcf_hook", "return_value", "call_function", "assert_called_once_with", "function_id", "function_id", "input_data", "payload", "location", "GCP_LOCATION", "project_id", "GCP_PROJECT_ID"]], "mock_xcom": [["mock_xcom", "assert_called_with", "context", "key", "value", "GCP_LOCATION", "function_id", "GCP_PROJECT_ID"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_gcf_hook": [["mock.Mock", 0.10502604506643884]], "mock_xcom": [["mock.Mock", 0.3427078969398614], ["mock.MagicMock", 0.09681734519223718]], "self": []}, "q_name": "TestGcfFunctionInvokeOperator.test_execute", "ret_exprs": [], "ret_type": "", "variables": {"api_version": "", "context": "", "exec_id": "", "function_id": "", "gcp_conn_id": "", "impersonation_chain": "", "op": "", "payload": ""}, "variables_p": {"api_version": [["int", 0.38096489413608786], ["str", 0.27485041110375463], ["list", 0.15450411151529037], ["Optional[int]", 0.08900328201061768]], "context": [], "exec_id": [["str", 0.39904828501827216], ["int", 0.397181325531773], ["Dict[str, Any]", 0.09458031315102344]], "function_id": [["int", 0.4528265082387739], ["set", 0.09037997659807075]], "gcp_conn_id": [["int", 0.5097114363877523]], "impersonation_chain": [["int", 0.30752490908987584], ["list", 0.20386567098622993], ["str", 0.17203761539665025], ["dict", 0.09716905319960736]], "op": [["int", 0.3513932345605212], ["str", 0.21846706637459062], ["list", 0.16298067439008265], ["List[str]", 0.08850105264792248], ["Dict[str, str]", 0.0880064008337057]], "payload": [["int", 0.30752490908987584], ["list", 0.20386567098622993], ["str", 0.17203761539665025], ["dict", 0.09716905319960736]]}}], "name": "TestGcfFunctionInvokeOperator", "q_name": "TestGcfFunctionInvokeOperator", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[55, 0], [68, 22]], "fn_var_ln": {"body_empty_entry_point": [[58, 4], [58, 26]], "body_empty_runtime": [[60, 4], [60, 22]], "body_no_name": [[56, 4], [56, 16]], "body_values": [[62, 4], [62, 15]]}, "fn_var_occur": {"body_empty_entry_point": [["body_empty_entry_point", "deepcopy", "VALID_BODY"], ["body_values", "body_no_name", "body_empty_entry_point", "body_empty_runtime"]], "body_empty_runtime": [["body_empty_runtime", "deepcopy", "VALID_BODY"], ["body_values", "body_no_name", "body_empty_entry_point", "body_empty_runtime"]], "body_no_name": [["body_no_name", "deepcopy", "VALID_BODY"], ["body_no_name", "pop", "None"], ["body_values", "body_no_name", "body_empty_entry_point", "body_empty_runtime"]], "body_values": [["body_values", "body_no_name", "body_empty_entry_point", "body_empty_runtime"]]}, "name": "_prepare_test_bodies", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "_prepare_test_bodies", "ret_exprs": ["return body_values"], "ret_type": "", "ret_type_p": [["str", 0.28176648639651664], ["int", 0.20731779074442347], ["Dict[str, bool]", 0.2009747288164973], ["Dict[str, Any]", 0.1287470683041243]], "variables": {"body_empty_entry_point": "", "body_empty_runtime": "", "body_no_name": "", "body_values": ""}, "variables_p": {"body_empty_entry_point": [["str", 0.3612245576116561], ["int", 0.23166314706163327], ["Optional[str]", 0.2152891471876611]], "body_empty_runtime": [["str", 0.3413180372130071], ["Optional[str]", 0.24154967062156485], ["int", 0.13704942845273738], ["dict", 0.09172534300410234]], "body_no_name": [["Optional[str]", 0.5947174108492523], ["str", 0.28686369593063415], ["Dict[str, str]", 0.11841889322011352]], "body_values": [["str", 1.0]]}}], "imports": ["__future__", "annotations", "copy", "deepcopy", "unittest", "mock", "httplib2", "pytest", "googleapiclient", "errors", "HttpError", "airflow", "exceptions", "AirflowException", "airflow", "providers", "google", "cloud", "operators", "functions", "FUNCTION_NAME_PATTERN", "CloudFunctionDeleteFunctionOperator", "CloudFunctionDeployFunctionOperator", "CloudFunctionInvokeFunctionOperator", "airflow", "version", "version"], "mod_var_ln": {"EMPTY_CONTENT": [[36, 0], [36, 13]], "FUNCTION_NAME": [[43, 0], [43, 13]], "GCF_ENTRYPOINT": [[42, 0], [42, 14]], "GCF_RUNTIME": [[44, 0], [44, 11]], "GCF_SOURCE_ARCHIVE_URL": [[41, 0], [41, 22]], "GCP_LOCATION": [[40, 0], [40, 12]], "GCP_PROJECT_ID": [[39, 0], [39, 14]], "MOCK_RESP_404": [[37, 0], [37, 13]], "VALID_BODY": [[46, 0], [46, 10]], "VALID_RUNTIMES": [[45, 0], [45, 14]]}, "mod_var_occur": {"EMPTY_CONTENT": [], "FUNCTION_NAME": [["VALID_BODY", "FUNCTION_NAME", "GCF_ENTRYPOINT", "GCF_RUNTIME", "GCF_SOURCE_ARCHIVE_URL"]], "GCF_ENTRYPOINT": [["FUNCTION_NAME", "GCP_PROJECT_ID", "GCP_LOCATION", "GCF_ENTRYPOINT"], ["VALID_BODY", "FUNCTION_NAME", "GCF_ENTRYPOINT", "GCF_RUNTIME", "GCF_SOURCE_ARCHIVE_URL"]], "GCF_RUNTIME": [["VALID_BODY", "FUNCTION_NAME", "GCF_ENTRYPOINT", "GCF_RUNTIME", "GCF_SOURCE_ARCHIVE_URL"]], "GCF_SOURCE_ARCHIVE_URL": [["VALID_BODY", "FUNCTION_NAME", "GCF_ENTRYPOINT", "GCF_RUNTIME", "GCF_SOURCE_ARCHIVE_URL"]], "GCP_LOCATION": [["FUNCTION_NAME", "GCP_PROJECT_ID", "GCP_LOCATION", "GCF_ENTRYPOINT"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "GCP_PROJECT_ID", "location", "GCP_LOCATION", "body", "deepcopy", "VALID_BODY", "task_id"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "GCP_PROJECT_ID", "location", "GCP_LOCATION", "body", "deepcopy", "VALID_BODY", "task_id"], ["op", "CloudFunctionInvokeFunctionOperator", "task_id", "function_id", "function_id", "input_data", "payload", "location", "GCP_LOCATION", "project_id", "GCP_PROJECT_ID", "api_version", "api_version", "gcp_conn_id", "gcp_conn_id", "impersonation_chain", "impersonation_chain"], ["mock_gcf_hook", "return_value", "call_function", "assert_called_once_with", "function_id", "function_id", "input_data", "payload", "location", "GCP_LOCATION", "project_id", "GCP_PROJECT_ID"], ["mock_xcom", "assert_called_with", "context", "key", "value", "GCP_LOCATION", "function_id", "GCP_PROJECT_ID"]], "GCP_PROJECT_ID": [["FUNCTION_NAME", "GCP_PROJECT_ID", "GCP_LOCATION", "GCF_ENTRYPOINT"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "GCP_PROJECT_ID", "location", "GCP_LOCATION", "body", "deepcopy", "VALID_BODY", "task_id"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "GCP_PROJECT_ID", "location", "GCP_LOCATION", "body", "deepcopy", "VALID_BODY", "task_id"], ["op", "CloudFunctionInvokeFunctionOperator", "task_id", "function_id", "function_id", "input_data", "payload", "location", "GCP_LOCATION", "project_id", "GCP_PROJECT_ID", "api_version", "api_version", "gcp_conn_id", "gcp_conn_id", "impersonation_chain", "impersonation_chain"], ["mock_gcf_hook", "return_value", "call_function", "assert_called_once_with", "function_id", "function_id", "input_data", "payload", "location", "GCP_LOCATION", "project_id", "GCP_PROJECT_ID"], ["mock_xcom", "assert_called_with", "context", "key", "value", "GCP_LOCATION", "function_id", "GCP_PROJECT_ID"]], "MOCK_RESP_404": [["mock_hook", "return_value", "get_function", "side_effect", "mock", "Mock", "side_effect", "HttpError", "resp", "MOCK_RESP_404", "content"], ["mock_hook", "return_value", "get_function", "side_effect", "HttpError", "resp", "MOCK_RESP_404", "content"], ["mock_hook", "return_value", "get_function", "side_effect", "mock", "Mock", "side_effect", "HttpError", "resp", "MOCK_RESP_404", "content"], ["mock_hook", "return_value", "get_function", "side_effect", "mock", "Mock", "side_effect", "HttpError", "resp", "MOCK_RESP_404", "content"], ["mock_hook", "return_value", "delete_function", "side_effect", "mock", "Mock", "side_effect", "HttpError", "resp", "MOCK_RESP_404", "content"]], "VALID_BODY": [["body_no_name", "deepcopy", "VALID_BODY"], ["body_empty_entry_point", "deepcopy", "VALID_BODY"], ["body_empty_runtime", "deepcopy", "VALID_BODY"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "GCP_PROJECT_ID", "location", "GCP_LOCATION", "body", "deepcopy", "VALID_BODY", "task_id"], ["expected_body", "deepcopy", "VALID_BODY"], ["op", "CloudFunctionDeployFunctionOperator", "project_id", "GCP_PROJECT_ID", "location", "GCP_LOCATION", "body", "deepcopy", "VALID_BODY", "task_id"], ["expected_body", "deepcopy", "VALID_BODY"], ["operator", "CloudFunctionDeployFunctionOperator", "location", "body", "deepcopy", "VALID_BODY", "task_id"], ["new_body", "deepcopy", "VALID_BODY"], ["body", "deepcopy", "VALID_BODY"], ["body", "deepcopy", "VALID_BODY"], ["body", "deepcopy", "VALID_BODY"], ["body", "deepcopy", "VALID_BODY"], ["body", "deepcopy", "VALID_BODY"], ["body", "deepcopy", "VALID_BODY"], ["body", "deepcopy", "VALID_BODY"], ["body", "deepcopy", "VALID_BODY"], ["body", "deepcopy", "VALID_BODY"], ["body", "deepcopy", "VALID_BODY"]], "VALID_RUNTIMES": []}, "no_types_annot": {"D": 0, "I": 0, "U": 135}, "session_id": "CE-PaHB10ZIk4Axlp93vz6Ny81xop9SClm6c5hFtsyI", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"EMPTY_CONTENT": "", "FUNCTION_NAME": "", "GCF_ENTRYPOINT": "", "GCF_RUNTIME": "", "GCF_SOURCE_ARCHIVE_URL": "", "GCP_LOCATION": "", "GCP_PROJECT_ID": "", "MOCK_RESP_404": "", "VALID_BODY": "", "VALID_RUNTIMES": ""}, "variables_p": {"EMPTY_CONTENT": [["str", 0.49999999999999994], ["bool", 0.39999999999999997], ["bytearray", 0.09999999999999999]], "FUNCTION_NAME": [["str", 0.3932465977095324], ["Final", 0.3068500112405761], ["Set[str]", 0.09714428183006879]], "GCF_ENTRYPOINT": [["str", 0.531938277776511], ["Dict[str, str]", 0.10534770313434684], ["dict", 0.07897405842742448]], "GCF_RUNTIME": [["Dict[str, str]", 0.7113112441852342], ["Dict[str, Any]", 0.16242590262561468], ["dict", 0.12626285318915112]], "GCF_SOURCE_ARCHIVE_URL": [["str", 0.5840571777484935], ["List[str]", 0.1575449593377056], ["Set[str]", 0.09951811179500308], ["frozenset[Any]", 0.07939764980256228]], "GCP_LOCATION": [["str", 0.37661512932497665], ["Dict[str, List[str]]", 0.1114053684892002], ["List[str]", 0.11091350930795826], ["list", 0.1070975906360595], ["Final", 0.09604485840533984], ["Dict[str, Dict[str, Any]]", 0.09082595320040598]], "GCP_PROJECT_ID": [["str", 0.7890462679825775], ["Final", 0.10976484018105427]], "MOCK_RESP_404": [["str", 0.16899747553107397], ["Dict[str, List[str]]", 0.1549439885295591], ["Dict[str, Any]", 0.09541247236815426], ["rotkehlchen.tests.utils.mock.MockResponse", 0.08063767383670377], ["List[Dict[str, Any]]", 0.08063746579872764]], "VALID_BODY": [["str", 0.9056046640211302], ["Union[Literal, str]", 0.09439533597886991]], "VALID_RUNTIMES": [["Dict[str, Union[Any, Any, Any, Any]]", 0.1], ["str", 0.1], ["Set[str]", 0.1], ["Dict[str, str]", 0.1], ["Tuple[str, str, str]", 0.1], ["List[bytes]", 0.1]]}}}