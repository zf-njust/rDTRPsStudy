{"error": null, "response": {"classes": [{"cls_lc": [[59, 0], [145, 34]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[60, 4], [62, 78]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_delegate_to_runtime_error", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCloudKMSHook.test_delegate_to_runtime_error", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[64, 4], [69, 60]], "fn_var_ln": {"kms_hook": [[69, 12], [69, 25]]}, "fn_var_occur": {"kms_hook": [["self", "kms_hook", "CloudKMSHook", "gcp_conn_id"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "kms_hook", "CloudKMSHook", "gcp_conn_id"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestCloudKMSHook.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"kms_hook": ""}, "variables_p": {"kms_hook": [["int", 0.3250856179466078], ["List[int]", 0.25935896696421246], ["List[str]", 0.18451255041216147], ["simulation.core.common.Resources", 0.12926032016484426], ["str", 0.10178254451217379]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[73, 4], [77, 44]], "fn_var_ln": {"result": [[74, 8], [74, 14]]}, "fn_var_occur": {"result": [["result", "self", "kms_hook", "get_conn"], ["mock_client", "return_value", "result"], ["self", "kms_hook", "_conn", "result"]]}, "name": "test_kms_client_creation", "params": {"mock_client": "", "mock_get_creds": "", "self": ""}, "params_descr": {"mock_client": "", "mock_get_creds": "", "self": ""}, "params_occur": {"mock_client": [["mock_client", "assert_called_once_with", "credentials", "mock_get_creds", "return_value", "client_info", "CLIENT_INFO"], ["mock_client", "return_value", "result"]], "mock_get_creds": [["mock_client", "assert_called_once_with", "credentials", "mock_get_creds", "return_value", "client_info", "CLIENT_INFO"]], "self": [["result", "self", "kms_hook", "get_conn"], ["self", "kms_hook", "_conn", "result"]]}, "params_p": {"args": [], "kwargs": [], "mock_client": [], "mock_get_creds": [["mock.MagicMock", 0.5023605757742623]], "self": []}, "q_name": "TestCloudKMSHook.test_kms_client_creation", "ret_exprs": [], "ret_type": "", "variables": {"result": ""}, "variables_p": {"result": [["Dict[str, Any]", 0.10527410576664277], ["Type[Callable[..., Any]]", 0.10440763764751582], ["list", 0.10162141111771196]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[80, 4], [94, 38]], "fn_var_ln": {"result": [[82, 8], [82, 14]]}, "fn_var_occur": {"result": [["result", "self", "kms_hook", "encrypt", "TEST_KEY_ID", "PLAINTEXT"], ["PLAINTEXT_b64", "result"]]}, "name": "test_encrypt", "params": {"mock_get_conn": "", "self": ""}, "params_descr": {"mock_get_conn": "", "self": ""}, "params_occur": {"mock_get_conn": [["mock_get_conn", "return_value", "encrypt", "return_value", "RESPONSE"], ["mock_get_conn", "assert_called_once_with"], ["mock_get_conn", "return_value", "encrypt", "assert_called_once_with", "request", "dict", "name", "TEST_KEY_ID", "plaintext", "PLAINTEXT", "additional_authenticated_data", "None", "retry", "DEFAULT", "timeout", "None", "metadata"]], "self": [["result", "self", "kms_hook", "encrypt", "TEST_KEY_ID", "PLAINTEXT"]]}, "params_p": {"args": [], "kwargs": [], "mock_get_conn": [], "self": []}, "q_name": "TestCloudKMSHook.test_encrypt", "ret_exprs": [], "ret_type": "", "variables": {"result": ""}, "variables_p": {"result": [["Dict[str, Union[float, str]]", 0.21211531425281563], ["dict", 0.19693602749266845], ["set", 0.18777228459863532], ["List[Dict[str, Any]]", 0.11211676243162573], ["Dict[str, Any]", 0.10901666273716822]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[97, 4], [111, 38]], "fn_var_ln": {"result": [[99, 8], [99, 14]]}, "fn_var_occur": {"result": [["result", "self", "kms_hook", "encrypt", "TEST_KEY_ID", "PLAINTEXT", "AUTH_DATA"], ["PLAINTEXT_b64", "result"]]}, "name": "test_encrypt_with_auth_data", "params": {"mock_get_conn": "", "self": ""}, "params_descr": {"mock_get_conn": "", "self": ""}, "params_occur": {"mock_get_conn": [["mock_get_conn", "return_value", "encrypt", "return_value", "RESPONSE"], ["mock_get_conn", "assert_called_once_with"], ["mock_get_conn", "return_value", "encrypt", "assert_called_once_with", "request", "dict", "name", "TEST_KEY_ID", "plaintext", "PLAINTEXT", "additional_authenticated_data", "AUTH_DATA", "retry", "DEFAULT", "timeout", "None", "metadata"]], "self": [["result", "self", "kms_hook", "encrypt", "TEST_KEY_ID", "PLAINTEXT", "AUTH_DATA"]]}, "params_p": {"args": [], "kwargs": [], "mock_get_conn": [], "self": []}, "q_name": "TestCloudKMSHook.test_encrypt_with_auth_data", "ret_exprs": [], "ret_type": "", "variables": {"result": ""}, "variables_p": {"result": [["str", 0.20367059037390262], ["Dict[Any, str]", 0.1342922493466794], ["Dict[str, int]", 0.10850257236974953], ["list", 0.09640410340521592], ["Dict[Any, Dict[str, Any]]", 0.09473297474990461], ["Dict[str, str]", 0.08954055242700379], ["Dict[str, Any]", 0.08721407347710447]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[114, 4], [128, 34]], "fn_var_ln": {"result": [[116, 8], [116, 14]]}, "fn_var_occur": {"result": [["result", "self", "kms_hook", "decrypt", "TEST_KEY_ID", "CIPHERTEXT_b64"], ["PLAINTEXT", "result"]]}, "name": "test_decrypt", "params": {"mock_get_conn": "", "self": ""}, "params_descr": {"mock_get_conn": "", "self": ""}, "params_occur": {"mock_get_conn": [["mock_get_conn", "return_value", "decrypt", "return_value", "RESPONSE"], ["mock_get_conn", "assert_called_once_with"], ["mock_get_conn", "return_value", "decrypt", "assert_called_once_with", "request", "dict", "name", "TEST_KEY_ID", "ciphertext", "CIPHERTEXT", "additional_authenticated_data", "None", "retry", "DEFAULT", "timeout", "None", "metadata"]], "self": [["result", "self", "kms_hook", "decrypt", "TEST_KEY_ID", "CIPHERTEXT_b64"]]}, "params_p": {"args": [], "kwargs": [], "mock_get_conn": [], "self": []}, "q_name": "TestCloudKMSHook.test_decrypt", "ret_exprs": [], "ret_type": "", "variables": {"result": ""}, "variables_p": {"result": [["int", 0.3956835169693249], ["Dict[str, Union[float, str]]", 0.1805971269014571], ["List[str]", 0.14025204349997747], ["dict", 0.09785648693550451], ["str", 0.09520033642920825], ["DefaultDict[Any, List[Any]]", 0.09041048926452767]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[131, 4], [145, 34]], "fn_var_ln": {"result": [[133, 8], [133, 14]]}, "fn_var_occur": {"result": [["result", "self", "kms_hook", "decrypt", "TEST_KEY_ID", "CIPHERTEXT_b64", "AUTH_DATA"], ["PLAINTEXT", "result"]]}, "name": "test_decrypt_with_auth_data", "params": {"mock_get_conn": "", "self": ""}, "params_descr": {"mock_get_conn": "", "self": ""}, "params_occur": {"mock_get_conn": [["mock_get_conn", "return_value", "decrypt", "return_value", "RESPONSE"], ["mock_get_conn", "assert_called_once_with"], ["mock_get_conn", "return_value", "decrypt", "assert_called_once_with", "request", "dict", "name", "TEST_KEY_ID", "ciphertext", "CIPHERTEXT", "additional_authenticated_data", "AUTH_DATA", "retry", "DEFAULT", "timeout", "None", "metadata"]], "self": [["result", "self", "kms_hook", "decrypt", "TEST_KEY_ID", "CIPHERTEXT_b64", "AUTH_DATA"]]}, "params_p": {"args": [], "kwargs": [], "mock_get_conn": [], "self": []}, "q_name": "TestCloudKMSHook.test_decrypt_with_auth_data", "ret_exprs": [], "ret_type": "", "variables": {"result": ""}, "variables_p": {"result": [["Dict[str, Union[float, str]]", 0.23481062380310766], ["str", 0.20964914520198527], ["Dict[str, str]", 0.15892917529863615], ["List[Dict[str, Any]]", 0.08600178308797413]]}}], "name": "TestCloudKMSHook", "q_name": "TestCloudKMSHook", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[51, 0], [56, 8]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "mock_init", "params": {"gcp_conn_id": "", "impersonation_chain": "", "self": ""}, "params_descr": {"gcp_conn_id": "", "impersonation_chain": "", "self": ""}, "params_occur": {"gcp_conn_id": [], "impersonation_chain": [], "self": []}, "params_p": {"args": [], "gcp_conn_id": [["str", 0.22309396388262298], ["Set[int]", 0.1348902946641084], ["Optional[Set[int]]", 0.1348902946641084], ["bool", 0.07902146925380046], ["List[int]", 0.07554342860998617]], "impersonation_chain": [["str", 0.22309396388262298], ["Set[int]", 0.1348902946641084], ["Optional[Set[int]]", 0.1348902946641084], ["bool", 0.07902146925380046], ["List[int]", 0.07554342860998617]], "kwargs": [], "self": [["str", 0.22309396388262298], ["Set[int]", 0.1348902946641084], ["Optional[Set[int]]", 0.1348902946641084], ["bool", 0.07902146925380046], ["List[int]", 0.07554342860998617]]}, "q_name": "mock_init", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "imports": ["__future__", "annotations", "base64", "b64decode", "b64encode", "collections", "namedtuple", "unittest", "mock", "pytest", "google", "api_core", "gapic_v1", "method", "DEFAULT", "airflow", "providers", "google", "cloud", "hooks", "kms", "CloudKMSHook", "airflow", "providers", "google", "common", "consts", "CLIENT_INFO"], "mod_var_ln": {"AUTH_DATA": [[38, 0], [38, 9]], "CIPHERTEXT": [[36, 0], [36, 10]], "CIPHERTEXT_b64": [[35, 0], [35, 14]], "PLAINTEXT": [[32, 0], [32, 9]], "PLAINTEXT_b64": [[33, 0], [33, 13]], "RESPONSE": [[48, 0], [48, 8]], "Response": [[30, 0], [30, 8]], "TEST_KEY": [[43, 0], [43, 8]], "TEST_KEY_ID": [[44, 0], [44, 11]], "TEST_KEY_RING": [[42, 0], [42, 13]], "TEST_LOCATION": [[41, 0], [41, 13]], "TEST_PROJECT": [[40, 0], [40, 12]]}, "mod_var_occur": {"AUTH_DATA": [["result", "self", "kms_hook", "encrypt", "TEST_KEY_ID", "PLAINTEXT", "AUTH_DATA"], ["mock_get_conn", "return_value", "encrypt", "assert_called_once_with", "request", "dict", "name", "TEST_KEY_ID", "plaintext", "PLAINTEXT", "additional_authenticated_data", "AUTH_DATA", "retry", "DEFAULT", "timeout", "None", "metadata"], ["result", "self", "kms_hook", "decrypt", "TEST_KEY_ID", "CIPHERTEXT_b64", "AUTH_DATA"], ["mock_get_conn", "return_value", "decrypt", "assert_called_once_with", "request", "dict", "name", "TEST_KEY_ID", "ciphertext", "CIPHERTEXT", "additional_authenticated_data", "AUTH_DATA", "retry", "DEFAULT", "timeout", "None", "metadata"]], "CIPHERTEXT": [["mock_get_conn", "return_value", "decrypt", "assert_called_once_with", "request", "dict", "name", "TEST_KEY_ID", "ciphertext", "CIPHERTEXT", "additional_authenticated_data", "None", "retry", "DEFAULT", "timeout", "None", "metadata"], ["mock_get_conn", "return_value", "decrypt", "assert_called_once_with", "request", "dict", "name", "TEST_KEY_ID", "ciphertext", "CIPHERTEXT", "additional_authenticated_data", "AUTH_DATA", "retry", "DEFAULT", "timeout", "None", "metadata"]], "CIPHERTEXT_b64": [["CIPHERTEXT", "b64decode", "CIPHERTEXT_b64", "encode"], ["result", "self", "kms_hook", "decrypt", "TEST_KEY_ID", "CIPHERTEXT_b64"], ["result", "self", "kms_hook", "decrypt", "TEST_KEY_ID", "CIPHERTEXT_b64", "AUTH_DATA"]], "PLAINTEXT": [["PLAINTEXT_b64", "b64encode", "PLAINTEXT", "decode"], ["RESPONSE", "Response", "PLAINTEXT", "PLAINTEXT"], ["result", "self", "kms_hook", "encrypt", "TEST_KEY_ID", "PLAINTEXT"], ["mock_get_conn", "return_value", "encrypt", "assert_called_once_with", "request", "dict", "name", "TEST_KEY_ID", "plaintext", "PLAINTEXT", "additional_authenticated_data", "None", "retry", "DEFAULT", "timeout", "None", "metadata"], ["result", "self", "kms_hook", "encrypt", "TEST_KEY_ID", "PLAINTEXT", "AUTH_DATA"], ["mock_get_conn", "return_value", "encrypt", "assert_called_once_with", "request", "dict", "name", "TEST_KEY_ID", "plaintext", "PLAINTEXT", "additional_authenticated_data", "AUTH_DATA", "retry", "DEFAULT", "timeout", "None", "metadata"], ["PLAINTEXT", "result"], ["PLAINTEXT", "result"]], "PLAINTEXT_b64": [["PLAINTEXT_b64", "result"], ["PLAINTEXT_b64", "result"]], "RESPONSE": [["mock_get_conn", "return_value", "encrypt", "return_value", "RESPONSE"], ["mock_get_conn", "return_value", "encrypt", "return_value", "RESPONSE"], ["mock_get_conn", "return_value", "decrypt", "return_value", "RESPONSE"], ["mock_get_conn", "return_value", "decrypt", "return_value", "RESPONSE"]], "Response": [["RESPONSE", "Response", "PLAINTEXT", "PLAINTEXT"]], "TEST_KEY": [["TEST_KEY_ID", "TEST_PROJECT", "TEST_LOCATION", "TEST_KEY_RING", "TEST_KEY"]], "TEST_KEY_ID": [["result", "self", "kms_hook", "encrypt", "TEST_KEY_ID", "PLAINTEXT"], ["mock_get_conn", "return_value", "encrypt", "assert_called_once_with", "request", "dict", "name", "TEST_KEY_ID", "plaintext", "PLAINTEXT", "additional_authenticated_data", "None", "retry", "DEFAULT", "timeout", "None", "metadata"], ["result", "self", "kms_hook", "encrypt", "TEST_KEY_ID", "PLAINTEXT", "AUTH_DATA"], ["mock_get_conn", "return_value", "encrypt", "assert_called_once_with", "request", "dict", "name", "TEST_KEY_ID", "plaintext", "PLAINTEXT", "additional_authenticated_data", "AUTH_DATA", "retry", "DEFAULT", "timeout", "None", "metadata"], ["result", "self", "kms_hook", "decrypt", "TEST_KEY_ID", "CIPHERTEXT_b64"], ["mock_get_conn", "return_value", "decrypt", "assert_called_once_with", "request", "dict", "name", "TEST_KEY_ID", "ciphertext", "CIPHERTEXT", "additional_authenticated_data", "None", "retry", "DEFAULT", "timeout", "None", "metadata"], ["result", "self", "kms_hook", "decrypt", "TEST_KEY_ID", "CIPHERTEXT_b64", "AUTH_DATA"], ["mock_get_conn", "return_value", "decrypt", "assert_called_once_with", "request", "dict", "name", "TEST_KEY_ID", "ciphertext", "CIPHERTEXT", "additional_authenticated_data", "AUTH_DATA", "retry", "DEFAULT", "timeout", "None", "metadata"]], "TEST_KEY_RING": [["TEST_KEY_ID", "TEST_PROJECT", "TEST_LOCATION", "TEST_KEY_RING", "TEST_KEY"]], "TEST_LOCATION": [["TEST_KEY_ID", "TEST_PROJECT", "TEST_LOCATION", "TEST_KEY_RING", "TEST_KEY"]], "TEST_PROJECT": [["TEST_KEY_ID", "TEST_PROJECT", "TEST_LOCATION", "TEST_KEY_RING", "TEST_KEY"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 34}, "session_id": "-b7BgiAvfBJ8-4aSlBe205UUVewb_ZRDqiPtO6Dd2mQ", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"AUTH_DATA": "", "CIPHERTEXT": "", "CIPHERTEXT_b64": "", "PLAINTEXT": "", "PLAINTEXT_b64": "", "RESPONSE": "", "Response": "", "TEST_KEY": "", "TEST_KEY_ID": "", "TEST_KEY_RING": "", "TEST_LOCATION": "", "TEST_PROJECT": ""}, "variables_p": {"AUTH_DATA": [["Dict[str, Any]", 0.2866588979285346], ["str", 0.27873839724029015], ["Dict[str, List[str]]", 0.12585483289582475], ["Dict[str, Union[Any, Any, Any]]", 0.11182216880644773], ["Dict[Any, str]", 0.08888293012604723]], "CIPHERTEXT": [["str", 0.4104009415141562], ["list", 0.12627089049696713], ["property", 0.11182911487874751], ["Dict[str, Union[Any, Any, Any, Any]]", 0.08871582878255801], ["List[Union[Any, Any, Any]]", 0.08871582878255801]], "CIPHERTEXT_b64": [], "PLAINTEXT": [["Optional[str]", 0.11605720835479719]], "PLAINTEXT_b64": [["int", 0.8973856743531126]], "RESPONSE": [["Dict[str, int]", 0.21569967230798492], ["Dict[str, str]", 0.1814486559745612], ["Tuple[Literal, Literal]", 0.0934677305817479], ["str", 0.08886384616086825]], "Response": [["list", 0.311846920123423], ["str", 0.09996521884650954], ["bytes", 0.09265597877247624]], "TEST_KEY": [["str", 0.8111092454888893], ["Optional[str]", 0.09858574672046777], ["Tuple[str, str, str]", 0.09030500779064286]], "TEST_KEY_ID": [["str", 0.516960510540829], ["bool", 0.10368009713342526], ["Final", 0.10327804771526049], ["Dict[int, str]", 0.08826070876158794], ["int", 0.08623088845736279]], "TEST_KEY_RING": [["str", 0.8111092454888893], ["Optional[str]", 0.09858574672046777], ["Tuple[str, str, str]", 0.09030500779064286]], "TEST_LOCATION": [["Dict[str, Union[Any, Any]]", 0.2869298578460682], ["Dict[Any, Union[Any, Any]]", 0.18492613978203837], ["Tuple[Literal]", 0.1360997782844295], ["List[Tuple[str, str]]", 0.10365136702795792], ["DefaultDict[Any, dict]", 0.09990694322933036], ["Dict[str, Any]", 0.09455369590701597], ["Dict[Union[int, str], Union[Any, Any]]", 0.09393221792315969]], "TEST_PROJECT": [["str", 0.6210736824908817], ["Dict[str, Dict[str, Any]]", 0.11571979516212166], ["ChainMap", 0.08332005740938231]]}}}