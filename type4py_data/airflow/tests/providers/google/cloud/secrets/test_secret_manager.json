{"error": null, "response": {"classes": [{"cls_lc": [[49, 0], [254, 47]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[52, 4], [58, 49]], "fn_var_ln": {"backend": [[57, 8], [57, 15]], "mock_client": [[54, 8], [54, 19]], "return_value": [[55, 8], [55, 41]]}, "fn_var_occur": {"backend": [["backend", "CloudSecretManagerBackend"], ["backend", "_is_valid_prefix_and_sep"]], "mock_client": [["mock_client", "mock", "MagicMock"], ["mock_client_callable", "return_value", "mock_client"]], "return_value": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_client_callable", "return_value", "mock_client"]]}, "name": "test_default_valid_and_sep", "params": {"mock_client_callable": "", "mock_get_creds": "", "self": ""}, "params_descr": {"mock_client_callable": "", "mock_get_creds": "", "self": ""}, "params_occur": {"mock_client_callable": [["mock_client_callable", "return_value", "mock_client"]], "mock_get_creds": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_client_callable": [], "mock_get_creds": [], "self": []}, "q_name": "TestCloudSecretManagerBackend.test_default_valid_and_sep", "ret_exprs": [], "ret_type": "", "variables": {"backend": "", "mock_client": "", "return_value": ""}, "variables_p": {"backend": [["dict", 0.19767692542435328], ["List[Dict[str, Any]]", 0.10715140754838536], ["str", 0.10078423993871849], ["cirq.google.engine.engine_job.EngineJob", 0.09231319516574597], ["bytes", 0.09186903544757148], ["Dict[str, Any]", 0.09149828983365979]], "mock_client": [["mock.Mock", 0.6506523061475374]], "return_value": [["str", 0.4663101520536197], ["List[str]", 0.08413608773316997], ["Dict[str, int]", 0.07658435558895307], ["Dict[str, Tuple[str, int]]", 0.07592578726445612]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[69, 4], [71, 73]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_raise_exception_with_invalid_prefix_sep", "params": {"prefix": "", "self": "", "sep": ""}, "params_descr": {"prefix": "", "self": "", "sep": ""}, "params_occur": {"prefix": [["CloudSecretManagerBackend", "connections_prefix", "prefix", "sep", "sep"]], "self": [], "sep": [["CloudSecretManagerBackend", "connections_prefix", "prefix", "sep", "sep"]]}, "params_p": {"args": [], "kwargs": [], "prefix": [["str", 0.16890648274653092], ["Optional[str]", 0.07953335343298751]], "self": [], "sep": [["str", 0.16890648274653092], ["Optional[str]", 0.07953335343298751]]}, "q_name": "TestCloudSecretManagerBackend.test_raise_exception_with_invalid_prefix_sep", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[85, 4], [92, 61]], "fn_var_ln": {"backend": [[89, 8], [89, 15]], "connections_prefix": [[90, 8], [90, 34]], "mock_client": [[87, 8], [87, 19]], "return_value": [[88, 8], [88, 41]], "sep": [[91, 8], [91, 19]]}, "fn_var_occur": {"backend": [["backend", "CloudSecretManagerBackend"], ["backend", "connections_prefix", "prefix"], ["backend", "sep", "sep"], ["backend", "_is_valid_prefix_and_sep", "is_valid"]], "connections_prefix": [["backend", "connections_prefix", "prefix"]], "mock_client": [["mock_client", "mock", "MagicMock"], ["mock_client_callable", "return_value", "mock_client"]], "return_value": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_client_callable", "return_value", "mock_client"]], "sep": [["backend", "sep", "sep"]]}, "name": "test_is_valid_prefix_and_sep", "params": {"is_valid": "", "mock_client_callable": "", "mock_get_creds": "", "prefix": "", "self": "", "sep": ""}, "params_descr": {"is_valid": "", "mock_client_callable": "", "mock_get_creds": "", "prefix": "", "self": "", "sep": ""}, "params_occur": {"is_valid": [["backend", "_is_valid_prefix_and_sep", "is_valid"]], "mock_client_callable": [["mock_client_callable", "return_value", "mock_client"]], "mock_get_creds": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"]], "prefix": [["backend", "connections_prefix", "prefix"]], "self": [], "sep": [["backend", "sep", "sep"]]}, "params_p": {"args": [], "is_valid": [["Iterable", 0.1089303691887116]], "kwargs": [], "mock_client_callable": [["mock.MagicMock", 0.10123547425928701]], "mock_get_creds": [["mock.Mock", 0.20226263365600697]], "prefix": [], "self": [], "sep": []}, "q_name": "TestCloudSecretManagerBackend.test_is_valid_prefix_and_sep", "ret_exprs": [], "ret_type": "", "variables": {"backend": "", "connections_prefix": "", "mock_client": "", "return_value": "", "sep": ""}, "variables_p": {"backend": [["cirq.google.engine.engine_job.EngineJob", 0.16496528040906633], ["types.SimpleNamespace", 0.09917125934626643], ["src.pip_shims.models.ShimmedPathCollection", 0.08836837328759982], ["List[Tuple[Any, Any, Any, str]]", 0.08714214198627014]], "connections_prefix": [["Dict[str, int]", 0.24182717881655477], ["dict", 0.16431142197550924], ["Set[str]", 0.09068186620519114], ["int", 0.08718783082011604], ["Dict[str, List[str]]", 0.07266230729697952], ["List[str]", 0.07213937629939926], ["list", 0.06652450155441597]], "mock_client": [["mock.Mock", 0.6506523061475374]], "return_value": [["str", 0.4663101520536197], ["List[str]", 0.08413608773316997], ["Dict[str, int]", 0.07658435558895307], ["Dict[str, Tuple[str, int]]", 0.07592578726445612]], "sep": [["str", 0.5998098948993623], ["int", 0.16489387821034898], ["List[str]", 0.06885688300076516]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[97, 4], [110, 96]], "fn_var_ln": {"mock_client": [[99, 8], [99, 19]], "return_value": [[100, 8], [100, 41]], "returned_uri": [[108, 8], [108, 20]], "secret_id": [[107, 8], [107, 17]], "secrets_manager_backend": [[106, 8], [106, 31]], "test_response": [[102, 8], [102, 21]]}, "fn_var_occur": {"mock_client": [["mock_client", "mock", "MagicMock"], ["mock_client_callable", "return_value", "mock_client"], ["mock_client", "access_secret_version", "return_value", "test_response"], ["mock_client", "secret_version_path", "assert_called_once_with", "PROJECT_ID", "secret_id"]], "return_value": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_client_callable", "return_value", "mock_client"], ["mock_client", "access_secret_version", "return_value", "test_response"]], "returned_uri": [["returned_uri", "secrets_manager_backend", "get_conn_uri", "conn_id", "CONN_ID"], ["CONN_URI", "returned_uri"]], "secret_id": [["secret_id", "secrets_manager_backend", "build_path", "connections_prefix", "CONN_ID", "SEP"], ["mock_client", "secret_version_path", "assert_called_once_with", "PROJECT_ID", "secret_id"]], "secrets_manager_backend": [["secrets_manager_backend", "CloudSecretManagerBackend", "connections_prefix", "connections_prefix"], ["secret_id", "secrets_manager_backend", "build_path", "connections_prefix", "CONN_ID", "SEP"], ["returned_uri", "secrets_manager_backend", "get_conn_uri", "conn_id", "CONN_ID"]], "test_response": [["test_response", "AccessSecretVersionResponse"], ["test_response", "payload", "data", "CONN_URI", "encode"], ["mock_client", "access_secret_version", "return_value", "test_response"]]}, "name": "test_get_conn_uri", "params": {"connections_prefix": "", "mock_client_callable": "", "mock_get_creds": "", "self": ""}, "params_descr": {"connections_prefix": "", "mock_client_callable": "", "mock_get_creds": "", "self": ""}, "params_occur": {"connections_prefix": [["secrets_manager_backend", "CloudSecretManagerBackend", "connections_prefix", "connections_prefix"], ["secret_id", "secrets_manager_backend", "build_path", "connections_prefix", "CONN_ID", "SEP"]], "mock_client_callable": [["mock_client_callable", "return_value", "mock_client"]], "mock_get_creds": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"]], "self": []}, "params_p": {"args": [], "connections_prefix": [], "kwargs": [], "mock_client_callable": [["mock.MagicMock", 0.09182598645880431]], "mock_get_creds": [], "self": []}, "q_name": "TestCloudSecretManagerBackend.test_get_conn_uri", "ret_exprs": [], "ret_type": "", "variables": {"mock_client": "", "return_value": "", "returned_uri": "", "secret_id": "", "secrets_manager_backend": "", "test_response": ""}, "variables_p": {"mock_client": [["mock.Mock", 0.7240454870358743]], "return_value": [["str", 0.6163966344395926], ["int", 0.16112474707063687], ["Dict[str, str]", 0.07989109513405199], ["List[Dict[str, str]]", 0.06350801896328777]], "returned_uri": [["str", 0.7272555248641454], ["Optional[str]", 0.0948303991834519], ["Dict[str, str]", 0.08350837324293273]], "secret_id": [["str", 0.32357316818755444], ["int", 0.1231161361468613]], "secrets_manager_backend": [["str", 0.5576598709491482], ["Optional[str]", 0.0932412984668589]], "test_response": [["List[Tuple[Any, Any, None]]", 0.26820955179152267], ["List[Dict[str, str]]", 0.24504170737956002], ["str", 0.18015190234866138], ["Dict[str, dict]", 0.11518129487568499], ["Dict[str, List[Any]]", 0.09611161099456705], ["Dict[str, Union[float, str]]", 0.09530393261000372]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[114, 4], [118, 43]], "fn_var_ln": {"conn": [[117, 8], [117, 12]], "return_value": [[116, 8], [116, 35]]}, "fn_var_occur": {"conn": [["conn", "CloudSecretManagerBackend", "get_connection", "conn_id", "CONN_ID"], ["isinstance", "conn", "Connection"]], "return_value": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_value", "return_value", "CONN_URI"]]}, "name": "test_get_connection", "params": {"mock_get_creds": "", "mock_get_value": "", "self": ""}, "params_descr": {"mock_get_creds": "", "mock_get_value": "", "self": ""}, "params_occur": {"mock_get_creds": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"]], "mock_get_value": [["mock_get_value", "return_value", "CONN_URI"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_get_creds": [["deeplearning.ml4pl.models.log_database.Database", 0.103848836404687], ["mock.MagicMock", 0.09325741818246829]], "mock_get_value": [["bytes", 0.20306163110663686], ["mock.MagicMock", 0.1969518063215516]], "self": []}, "q_name": "TestCloudSecretManagerBackend.test_get_connection", "ret_exprs": [], "ret_type": "", "variables": {"conn": "", "return_value": ""}, "variables_p": {"conn": [["int", 0.16779414400925835], ["app.models.Tweet", 0.1130099179437541], ["notifications.models.Notification", 0.1094095835458783], ["dict", 0.10674895147874712], ["List[dict]", 0.10663715365099267], ["List[str]", 0.09288109389532756], ["bool", 0.06830083629824363]], "return_value": [["str", 0.4801450942578871], ["Dict[str, str]", 0.09672487846998669], ["Dict[str, Union[int, str]]", 0.08293859508362653], ["Dict[str, Optional[str]]", 0.07995191109586561], ["List[str]", 0.07969312042074378], ["Dict[str, Dict[str, Any]]", 0.07773148278251653]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[122, 4], [137, 13]], "fn_var_ln": {"mock_client": [[124, 8], [124, 19]], "return_value": [[125, 8], [125, 41]], "secret_id": [[130, 8], [130, 17]], "secrets_manager_backend": [[129, 8], [129, 31]]}, "fn_var_occur": {"mock_client": [["mock_client", "mock", "MagicMock"], ["mock_client_callable", "return_value", "mock_client"], ["mock_client", "access_secret_version", "side_effect", "NotFound"]], "return_value": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_client_callable", "return_value", "mock_client"]], "secret_id": [["secret_id", "secrets_manager_backend", "build_path", "CONNECTIONS_PREFIX", "CONN_ID", "SEP"], ["re", "search", "secret_id", "caplog", "messages"]], "secrets_manager_backend": [["secrets_manager_backend", "CloudSecretManagerBackend", "connections_prefix", "CONNECTIONS_PREFIX"], ["secret_id", "secrets_manager_backend", "build_path", "CONNECTIONS_PREFIX", "CONN_ID", "SEP"], ["caplog", "at_level", "level", "logging", "DEBUG", "logger", "secrets_manager_backend", "client", "log", "name"], ["secrets_manager_backend", "get_conn_uri", "conn_id", "CONN_ID", "None"], ["secrets_manager_backend", "get_connection", "conn_id", "CONN_ID", "None"]]}, "name": "test_get_conn_uri_non_existent_key", "params": {"caplog": "", "mock_client_callable": "", "mock_get_creds": "", "self": ""}, "params_descr": {"caplog": "", "mock_client_callable": "", "mock_get_creds": "", "self": ""}, "params_occur": {"caplog": [["caplog", "at_level", "level", "logging", "DEBUG", "logger", "secrets_manager_backend", "client", "log", "name"], ["re", "search", "secret_id", "caplog", "messages"]], "mock_client_callable": [["mock_client_callable", "return_value", "mock_client"]], "mock_get_creds": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"]], "self": []}, "params_p": {"args": [], "caplog": [], "kwargs": [], "mock_client_callable": [["mock.MagicMock", 0.1888910953325068]], "mock_get_creds": [], "self": []}, "q_name": "TestCloudSecretManagerBackend.test_get_conn_uri_non_existent_key", "ret_exprs": [], "ret_type": "", "variables": {"mock_client": "", "return_value": "", "secret_id": "", "secrets_manager_backend": ""}, "variables_p": {"mock_client": [["mock.Mock", 0.7497288743798257]], "return_value": [["str", 0.4663101520536197], ["List[str]", 0.08413608773316997], ["Dict[str, int]", 0.07658435558895307], ["Dict[str, Tuple[str, int]]", 0.07592578726445612]], "secret_id": [["str", 0.31823264451807676], ["int", 0.1524256901262118]], "secrets_manager_backend": [["str", 0.5576598709491482], ["Optional[str]", 0.0932412984668589]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[142, 4], [155, 96]], "fn_var_ln": {"mock_client": [[144, 8], [144, 19]], "return_value": [[145, 8], [145, 41]], "returned_uri": [[153, 8], [153, 20]], "secret_id": [[152, 8], [152, 17]], "secrets_manager_backend": [[151, 8], [151, 31]], "test_response": [[147, 8], [147, 21]]}, "fn_var_occur": {"mock_client": [["mock_client", "mock", "MagicMock"], ["mock_client_callable", "return_value", "mock_client"], ["mock_client", "access_secret_version", "return_value", "test_response"], ["mock_client", "secret_version_path", "assert_called_once_with", "PROJECT_ID", "secret_id"]], "return_value": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_client_callable", "return_value", "mock_client"], ["mock_client", "access_secret_version", "return_value", "test_response"]], "returned_uri": [["returned_uri", "secrets_manager_backend", "get_variable", "VAR_KEY"], ["VAR_VALUE", "returned_uri"]], "secret_id": [["secret_id", "secrets_manager_backend", "build_path", "variables_prefix", "VAR_KEY", "SEP"], ["mock_client", "secret_version_path", "assert_called_once_with", "PROJECT_ID", "secret_id"]], "secrets_manager_backend": [["secrets_manager_backend", "CloudSecretManagerBackend", "variables_prefix", "variables_prefix"], ["secret_id", "secrets_manager_backend", "build_path", "variables_prefix", "VAR_KEY", "SEP"], ["returned_uri", "secrets_manager_backend", "get_variable", "VAR_KEY"]], "test_response": [["test_response", "AccessSecretVersionResponse"], ["test_response", "payload", "data", "VAR_VALUE", "encode"], ["mock_client", "access_secret_version", "return_value", "test_response"]]}, "name": "test_get_variable", "params": {"mock_client_callable": "", "mock_get_creds": "", "self": "", "variables_prefix": ""}, "params_descr": {"mock_client_callable": "", "mock_get_creds": "", "self": "", "variables_prefix": ""}, "params_occur": {"mock_client_callable": [["mock_client_callable", "return_value", "mock_client"]], "mock_get_creds": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"]], "self": [], "variables_prefix": [["secrets_manager_backend", "CloudSecretManagerBackend", "variables_prefix", "variables_prefix"], ["secret_id", "secrets_manager_backend", "build_path", "variables_prefix", "VAR_KEY", "SEP"]]}, "params_p": {"args": [], "kwargs": [], "mock_client_callable": [["mock.MagicMock", 0.31827099930574904]], "mock_get_creds": [["List[str]", 0.08731883599091488]], "self": [], "variables_prefix": [["str", 0.45674163744418916], ["dict", 0.08073709102750824]]}, "q_name": "TestCloudSecretManagerBackend.test_get_variable", "ret_exprs": [], "ret_type": "", "variables": {"mock_client": "", "return_value": "", "returned_uri": "", "secret_id": "", "secrets_manager_backend": "", "test_response": ""}, "variables_p": {"mock_client": [["mock.Mock", 0.7240454870358743]], "return_value": [["str", 0.6163966344395926], ["int", 0.16112474707063687], ["Dict[str, str]", 0.07989109513405199], ["List[Dict[str, str]]", 0.06350801896328777]], "returned_uri": [["Optional[str]", 0.1927772395997065], ["Dict[Any, str]", 0.09748315546145761], ["List[Tuple[Any, str, int]]", 0.09343066044976563], ["str", 0.09192972592091285], ["int", 0.09165743237630243]], "secret_id": [["str", 0.7755081240334096]], "secrets_manager_backend": [["str", 0.9044582373930818]], "test_response": [["Dict[str, str]", 0.4393339398446237], ["Dict[str, Dict[str, Any]]", 0.0975144251436759], ["dict", 0.08809903461845]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[160, 4], [173, 96]], "fn_var_ln": {"mock_client": [[162, 8], [162, 19]], "return_value": [[163, 8], [163, 41]], "returned_val": [[171, 8], [171, 20]], "secret_id": [[170, 8], [170, 17]], "secrets_manager_backend": [[169, 8], [169, 31]], "test_response": [[165, 8], [165, 21]]}, "fn_var_occur": {"mock_client": [["mock_client", "mock", "MagicMock"], ["mock_client_callable", "return_value", "mock_client"], ["mock_client", "access_secret_version", "return_value", "test_response"], ["mock_client", "secret_version_path", "assert_called_once_with", "PROJECT_ID", "secret_id"]], "return_value": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_client_callable", "return_value", "mock_client"], ["mock_client", "access_secret_version", "return_value", "test_response"]], "returned_val": [["returned_val", "secrets_manager_backend", "get_config", "CONFIG_KEY"], ["CONFIG_VALUE", "returned_val"]], "secret_id": [["secret_id", "secrets_manager_backend", "build_path", "config_prefix", "CONFIG_KEY", "SEP"], ["mock_client", "secret_version_path", "assert_called_once_with", "PROJECT_ID", "secret_id"]], "secrets_manager_backend": [["secrets_manager_backend", "CloudSecretManagerBackend", "config_prefix", "config_prefix"], ["secret_id", "secrets_manager_backend", "build_path", "config_prefix", "CONFIG_KEY", "SEP"], ["returned_val", "secrets_manager_backend", "get_config", "CONFIG_KEY"]], "test_response": [["test_response", "AccessSecretVersionResponse"], ["test_response", "payload", "data", "CONFIG_VALUE", "encode"], ["mock_client", "access_secret_version", "return_value", "test_response"]]}, "name": "test_get_config", "params": {"config_prefix": "", "mock_client_callable": "", "mock_get_creds": "", "self": ""}, "params_descr": {"config_prefix": "", "mock_client_callable": "", "mock_get_creds": "", "self": ""}, "params_occur": {"config_prefix": [["secrets_manager_backend", "CloudSecretManagerBackend", "config_prefix", "config_prefix"], ["secret_id", "secrets_manager_backend", "build_path", "config_prefix", "CONFIG_KEY", "SEP"]], "mock_client_callable": [["mock_client_callable", "return_value", "mock_client"]], "mock_get_creds": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"]], "self": []}, "params_p": {"args": [], "config_prefix": [], "kwargs": [], "mock_client_callable": [["mock.MagicMock", 0.33389056335087874], ["bytes", 0.17240501608641123]], "mock_get_creds": [["Dict[str, Any]", 0.10550586138010774]], "self": []}, "q_name": "TestCloudSecretManagerBackend.test_get_config", "ret_exprs": [], "ret_type": "", "variables": {"mock_client": "", "return_value": "", "returned_val": "", "secret_id": "", "secrets_manager_backend": "", "test_response": ""}, "variables_p": {"mock_client": [["mock.Mock", 0.7240454870358743]], "return_value": [["str", 0.6163966344395926], ["int", 0.16112474707063687], ["Dict[str, str]", 0.07989109513405199], ["List[Dict[str, str]]", 0.06350801896328777]], "returned_val": [["src.pip_shims.models.ShimmedPathCollection", 0.10402399657198026], ["List[Union[Any, Any, Any, Any]]", 0.10171376984448456], ["str", 0.09288264866105492]], "secret_id": [["str", 0.30900842497702635], ["Tuple[Literal]", 0.08633381868949541]], "secrets_manager_backend": [["str", 0.19785830567556129], ["Optional[str]", 0.11619440340825293], ["bool", 0.11619440340825293], ["int", 0.08803277193975033]], "test_response": [["str", 0.24703352301300838], ["Dict[str, Dict[str, Any]]", 0.21204841036266914], ["Dict[str, List[Any]]", 0.12532855920454644], ["Dict[str, Any]", 0.11997879855082286], ["Dict[str, dict]", 0.10921884473577635], ["Dict[Any, Union[Any, Any]]", 0.10036646091276274], ["Dict[str, Union[Any, Any]]", 0.08602540322041394]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[178, 4], [193, 107]], "fn_var_ln": {"mock_client": [[180, 8], [180, 19]], "return_value": [[181, 8], [181, 41]], "returned_uri": [[191, 8], [191, 20]], "secret_id": [[190, 8], [190, 17]], "secrets_manager_backend": [[187, 8], [187, 31]], "test_response": [[183, 8], [183, 21]]}, "fn_var_occur": {"mock_client": [["mock_client", "mock", "MagicMock"], ["mock_client_callable", "return_value", "mock_client"], ["mock_client", "access_secret_version", "return_value", "test_response"], ["mock_client", "secret_version_path", "assert_called_once_with", "OVERRIDDEN_PROJECT_ID", "secret_id"]], "return_value": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_client_callable", "return_value", "mock_client"], ["mock_client", "access_secret_version", "return_value", "test_response"]], "returned_uri": [["returned_uri", "secrets_manager_backend", "get_variable", "VAR_KEY"], ["VAR_VALUE", "returned_uri"]], "secret_id": [["secret_id", "secrets_manager_backend", "build_path", "variables_prefix", "VAR_KEY", "SEP"], ["mock_client", "secret_version_path", "assert_called_once_with", "OVERRIDDEN_PROJECT_ID", "secret_id"]], "secrets_manager_backend": [["secrets_manager_backend", "CloudSecretManagerBackend", "variables_prefix", "variables_prefix", "project_id", "OVERRIDDEN_PROJECT_ID"], ["secret_id", "secrets_manager_backend", "build_path", "variables_prefix", "VAR_KEY", "SEP"], ["returned_uri", "secrets_manager_backend", "get_variable", "VAR_KEY"]], "test_response": [["test_response", "AccessSecretVersionResponse"], ["test_response", "payload", "data", "VAR_VALUE", "encode"], ["mock_client", "access_secret_version", "return_value", "test_response"]]}, "name": "test_get_variable_override_project_id", "params": {"mock_client_callable": "", "mock_get_creds": "", "self": "", "variables_prefix": ""}, "params_descr": {"mock_client_callable": "", "mock_get_creds": "", "self": "", "variables_prefix": ""}, "params_occur": {"mock_client_callable": [["mock_client_callable", "return_value", "mock_client"]], "mock_get_creds": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"]], "self": [], "variables_prefix": [["secrets_manager_backend", "CloudSecretManagerBackend", "variables_prefix", "variables_prefix", "project_id", "OVERRIDDEN_PROJECT_ID"], ["secret_id", "secrets_manager_backend", "build_path", "variables_prefix", "VAR_KEY", "SEP"]]}, "params_p": {"args": [], "kwargs": [], "mock_client_callable": [["mock.MagicMock", 0.4342542578448484]], "mock_get_creds": [], "self": [], "variables_prefix": [["str", 0.18037363437759613]]}, "q_name": "TestCloudSecretManagerBackend.test_get_variable_override_project_id", "ret_exprs": [], "ret_type": "", "variables": {"mock_client": "", "return_value": "", "returned_uri": "", "secret_id": "", "secrets_manager_backend": "", "test_response": ""}, "variables_p": {"mock_client": [["mock.Mock", 0.7240454870358743]], "return_value": [["str", 0.6163966344395926], ["int", 0.16112474707063687], ["Dict[str, str]", 0.07989109513405199], ["List[Dict[str, str]]", 0.06350801896328777]], "returned_uri": [["Optional[str]", 0.1927772395997065], ["Dict[Any, str]", 0.09748315546145761], ["List[Tuple[Any, str, int]]", 0.09343066044976563], ["str", 0.09192972592091285], ["int", 0.09165743237630243]], "secret_id": [["str", 0.20070222419796657], ["Optional[str]", 0.09397545240465041]], "secrets_manager_backend": [["str", 0.8959394484420032], ["list", 0.10406055155799677]], "test_response": [["Dict[str, str]", 0.4393339398446237], ["Dict[str, Dict[str, Any]]", 0.0975144251436759], ["dict", 0.08809903461845]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[197, 4], [211, 13]], "fn_var_ln": {"mock_client": [[199, 8], [199, 19]], "return_value": [[200, 8], [200, 41]], "secret_id": [[205, 8], [205, 17]], "secrets_manager_backend": [[204, 8], [204, 31]]}, "fn_var_occur": {"mock_client": [["mock_client", "mock", "MagicMock"], ["mock_client_callable", "return_value", "mock_client"], ["mock_client", "access_secret_version", "side_effect", "NotFound"]], "return_value": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_client_callable", "return_value", "mock_client"]], "secret_id": [["secret_id", "secrets_manager_backend", "build_path", "VARIABLES_PREFIX", "VAR_KEY", "SEP"], ["re", "search", "secret_id", "caplog", "messages"]], "secrets_manager_backend": [["secrets_manager_backend", "CloudSecretManagerBackend", "variables_prefix", "VARIABLES_PREFIX"], ["secret_id", "secrets_manager_backend", "build_path", "VARIABLES_PREFIX", "VAR_KEY", "SEP"], ["caplog", "at_level", "level", "logging", "DEBUG", "logger", "secrets_manager_backend", "client", "log", "name"], ["secrets_manager_backend", "get_variable", "VAR_KEY", "None"]]}, "name": "test_get_variable_non_existent_key", "params": {"caplog": "", "mock_client_callable": "", "mock_get_creds": "", "self": ""}, "params_descr": {"caplog": "", "mock_client_callable": "", "mock_get_creds": "", "self": ""}, "params_occur": {"caplog": [["caplog", "at_level", "level", "logging", "DEBUG", "logger", "secrets_manager_backend", "client", "log", "name"], ["re", "search", "secret_id", "caplog", "messages"]], "mock_client_callable": [["mock_client_callable", "return_value", "mock_client"]], "mock_get_creds": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"]], "self": []}, "params_p": {"args": [], "caplog": [], "kwargs": [], "mock_client_callable": [], "mock_get_creds": [], "self": []}, "q_name": "TestCloudSecretManagerBackend.test_get_variable_non_existent_key", "ret_exprs": [], "ret_type": "", "variables": {"mock_client": "", "return_value": "", "secret_id": "", "secrets_manager_backend": ""}, "variables_p": {"mock_client": [["mock.Mock", 0.7497288743798257]], "return_value": [["str", 0.4663101520536197], ["List[str]", 0.08413608773316997], ["Dict[str, int]", 0.07658435558895307], ["Dict[str, Tuple[str, int]]", 0.07592578726445612]], "secret_id": [["str", 1.0]], "secrets_manager_backend": [["str", 0.9044582373930818]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[215, 4], [228, 51]], "fn_var_ln": {"mock_client": [[217, 8], [217, 19]], "return_value": [[218, 8], [218, 41]], "secrets_manager_backend": [[224, 16], [224, 39]]}, "fn_var_occur": {"mock_client": [["mock_client", "mock", "MagicMock"], ["mock_client_callable", "return_value", "mock_client"]], "return_value": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_client_callable", "return_value", "mock_client"]], "secrets_manager_backend": [["secrets_manager_backend", "CloudSecretManagerBackend", "connections_prefix", "None"], ["secrets_manager_backend", "get_conn_uri", "conn_id", "CONN_ID", "None"]]}, "name": "test_connections_prefix_none_value", "params": {"mock_client_callable": "", "mock_get_creds": "", "self": ""}, "params_descr": {"mock_client_callable": "", "mock_get_creds": "", "self": ""}, "params_occur": {"mock_client_callable": [["mock_client_callable", "return_value", "mock_client"]], "mock_get_creds": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_client_callable": [], "mock_get_creds": [], "self": []}, "q_name": "TestCloudSecretManagerBackend.test_connections_prefix_none_value", "ret_exprs": [], "ret_type": "", "variables": {"mock_client": "", "return_value": "", "secrets_manager_backend": ""}, "variables_p": {"mock_client": [["mock.Mock", 0.6506523061475374]], "return_value": [["str", 0.4663101520536197], ["List[str]", 0.08413608773316997], ["Dict[str, int]", 0.07658435558895307], ["Dict[str, Tuple[str, int]]", 0.07592578726445612]], "secrets_manager_backend": [["int", 0.10542145025228572], ["str", 0.10542145025228572], ["Optional[float]", 0.10542145025228572], ["grpy.repo.base.Connection", 0.09527289676493823], ["dict", 0.08946649845777101]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[232, 4], [241, 47]], "fn_var_ln": {"mock_client": [[234, 8], [234, 19]], "return_value": [[235, 8], [235, 41]], "secrets_manager_backend": [[238, 12], [238, 35]]}, "fn_var_occur": {"mock_client": [["mock_client", "mock", "MagicMock"], ["mock_client_callable", "return_value", "mock_client"]], "return_value": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_client_callable", "return_value", "mock_client"]], "secrets_manager_backend": [["secrets_manager_backend", "CloudSecretManagerBackend", "variables_prefix", "None"], ["secrets_manager_backend", "get_variable", "VAR_KEY", "None"]]}, "name": "test_variables_prefix_none_value", "params": {"mock_client_callable": "", "mock_get_creds": "", "self": ""}, "params_descr": {"mock_client_callable": "", "mock_get_creds": "", "self": ""}, "params_occur": {"mock_client_callable": [["mock_client_callable", "return_value", "mock_client"]], "mock_get_creds": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_client_callable": [], "mock_get_creds": [], "self": []}, "q_name": "TestCloudSecretManagerBackend.test_variables_prefix_none_value", "ret_exprs": [], "ret_type": "", "variables": {"mock_client": "", "return_value": "", "secrets_manager_backend": ""}, "variables_p": {"mock_client": [["mock.Mock", 0.6506523061475374]], "return_value": [["str", 0.4663101520536197], ["List[str]", 0.08413608773316997], ["Dict[str, int]", 0.07658435558895307], ["Dict[str, Tuple[str, int]]", 0.07592578726445612]], "secrets_manager_backend": [["str", 0.4969129827634712], ["types.CodeType", 0.08683923655426405]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[245, 4], [254, 47]], "fn_var_ln": {"mock_client": [[247, 8], [247, 19]], "return_value": [[248, 8], [248, 41]], "secrets_manager_backend": [[251, 12], [251, 35]]}, "fn_var_occur": {"mock_client": [["mock_client", "mock", "MagicMock"], ["mock_client_callable", "return_value", "mock_client"]], "return_value": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_client_callable", "return_value", "mock_client"]], "secrets_manager_backend": [["secrets_manager_backend", "CloudSecretManagerBackend", "config_prefix", "None"], ["secrets_manager_backend", "get_config", "CONFIG_KEY", "None"]]}, "name": "test_config_prefix_none_value", "params": {"mock_client_callable": "", "mock_get_creds": "", "self": ""}, "params_descr": {"mock_client_callable": "", "mock_get_creds": "", "self": ""}, "params_occur": {"mock_client_callable": [["mock_client_callable", "return_value", "mock_client"]], "mock_get_creds": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_client_callable": [], "mock_get_creds": [], "self": []}, "q_name": "TestCloudSecretManagerBackend.test_config_prefix_none_value", "ret_exprs": [], "ret_type": "", "variables": {"mock_client": "", "return_value": "", "secrets_manager_backend": ""}, "variables_p": {"mock_client": [["mock.Mock", 0.6506523061475374]], "return_value": [["str", 0.4663101520536197], ["List[str]", 0.08413608773316997], ["Dict[str, int]", 0.07658435558895307], ["Dict[str, Tuple[str, int]]", 0.07592578726445612]], "secrets_manager_backend": []}}], "name": "TestCloudSecretManagerBackend", "q_name": "TestCloudSecretManagerBackend", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "logging", "re", "unittest", "mock", "pytest", "google", "api_core", "exceptions", "NotFound", "google", "cloud", "secretmanager_v1", "types", "AccessSecretVersionResponse", "airflow", "exceptions", "AirflowException", "airflow", "models", "Connection", "airflow", "providers", "google", "cloud", "secrets", "secret_manager", "CloudSecretManagerBackend"], "mod_var_ln": {"CLIENT_MODULE_NAME": [[46, 0], [46, 18]], "CONFIG_KEY": [[42, 0], [42, 10]], "CONFIG_VALUE": [[43, 0], [43, 12]], "CONNECTIONS_PREFIX": [[35, 0], [35, 18]], "CONN_ID": [[38, 0], [38, 7]], "CONN_URI": [[39, 0], [39, 8]], "CREDENTIALS": [[31, 0], [31, 11]], "KEY_FILE": [[32, 0], [32, 8]], "MODULE_NAME": [[45, 0], [45, 11]], "OVERRIDDEN_PROJECT_ID": [[34, 0], [34, 21]], "PROJECT_ID": [[33, 0], [33, 10]], "SEP": [[37, 0], [37, 3]], "VARIABLES_PREFIX": [[36, 0], [36, 16]], "VAR_KEY": [[40, 0], [40, 7]], "VAR_VALUE": [[41, 0], [41, 9]]}, "mod_var_occur": {"CLIENT_MODULE_NAME": [], "CONFIG_KEY": [["secret_id", "secrets_manager_backend", "build_path", "config_prefix", "CONFIG_KEY", "SEP"], ["returned_val", "secrets_manager_backend", "get_config", "CONFIG_KEY"], ["secrets_manager_backend", "get_config", "CONFIG_KEY", "None"]], "CONFIG_VALUE": [["test_response", "payload", "data", "CONFIG_VALUE", "encode"], ["CONFIG_VALUE", "returned_val"]], "CONNECTIONS_PREFIX": [["secrets_manager_backend", "CloudSecretManagerBackend", "connections_prefix", "CONNECTIONS_PREFIX"], ["secret_id", "secrets_manager_backend", "build_path", "CONNECTIONS_PREFIX", "CONN_ID", "SEP"]], "CONN_ID": [["secret_id", "secrets_manager_backend", "build_path", "connections_prefix", "CONN_ID", "SEP"], ["returned_uri", "secrets_manager_backend", "get_conn_uri", "conn_id", "CONN_ID"], ["conn", "CloudSecretManagerBackend", "get_connection", "conn_id", "CONN_ID"], ["secret_id", "secrets_manager_backend", "build_path", "CONNECTIONS_PREFIX", "CONN_ID", "SEP"], ["secrets_manager_backend", "get_conn_uri", "conn_id", "CONN_ID", "None"], ["secrets_manager_backend", "get_connection", "conn_id", "CONN_ID", "None"], ["secrets_manager_backend", "get_conn_uri", "conn_id", "CONN_ID", "None"]], "CONN_URI": [["test_response", "payload", "data", "CONN_URI", "encode"], ["CONN_URI", "returned_uri"], ["mock_get_value", "return_value", "CONN_URI"]], "CREDENTIALS": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"]], "KEY_FILE": [], "MODULE_NAME": [["mock", "patch", "MODULE_NAME", "mock_get_secret"], ["mock", "patch", "MODULE_NAME", "mock_is_valid_prefix_sep"], ["mock", "patch", "MODULE_NAME", "mock_get_secret"], ["mock", "patch", "MODULE_NAME", "mock_get_secret"]], "OVERRIDDEN_PROJECT_ID": [["secrets_manager_backend", "CloudSecretManagerBackend", "variables_prefix", "variables_prefix", "project_id", "OVERRIDDEN_PROJECT_ID"], ["mock_client", "secret_version_path", "assert_called_once_with", "OVERRIDDEN_PROJECT_ID", "secret_id"]], "PROJECT_ID": [["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_client", "secret_version_path", "assert_called_once_with", "PROJECT_ID", "secret_id"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_client", "secret_version_path", "assert_called_once_with", "PROJECT_ID", "secret_id"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_client", "secret_version_path", "assert_called_once_with", "PROJECT_ID", "secret_id"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"], ["mock_get_creds", "return_value", "CREDENTIALS", "PROJECT_ID"]], "SEP": [["secret_id", "secrets_manager_backend", "build_path", "connections_prefix", "CONN_ID", "SEP"], ["secret_id", "secrets_manager_backend", "build_path", "CONNECTIONS_PREFIX", "CONN_ID", "SEP"], ["secret_id", "secrets_manager_backend", "build_path", "variables_prefix", "VAR_KEY", "SEP"], ["secret_id", "secrets_manager_backend", "build_path", "config_prefix", "CONFIG_KEY", "SEP"], ["secret_id", "secrets_manager_backend", "build_path", "variables_prefix", "VAR_KEY", "SEP"], ["secret_id", "secrets_manager_backend", "build_path", "VARIABLES_PREFIX", "VAR_KEY", "SEP"]], "VARIABLES_PREFIX": [["secrets_manager_backend", "CloudSecretManagerBackend", "variables_prefix", "VARIABLES_PREFIX"], ["secret_id", "secrets_manager_backend", "build_path", "VARIABLES_PREFIX", "VAR_KEY", "SEP"]], "VAR_KEY": [["secret_id", "secrets_manager_backend", "build_path", "variables_prefix", "VAR_KEY", "SEP"], ["returned_uri", "secrets_manager_backend", "get_variable", "VAR_KEY"], ["secret_id", "secrets_manager_backend", "build_path", "variables_prefix", "VAR_KEY", "SEP"], ["returned_uri", "secrets_manager_backend", "get_variable", "VAR_KEY"], ["secret_id", "secrets_manager_backend", "build_path", "VARIABLES_PREFIX", "VAR_KEY", "SEP"], ["secrets_manager_backend", "get_variable", "VAR_KEY", "None"], ["secrets_manager_backend", "get_variable", "VAR_KEY", "None"]], "VAR_VALUE": [["test_response", "payload", "data", "VAR_VALUE", "encode"], ["VAR_VALUE", "returned_uri"], ["test_response", "payload", "data", "VAR_VALUE", "encode"], ["VAR_VALUE", "returned_uri"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 113}, "session_id": "kbPEs2kMfsDzinDoX2zOk1U0TddnYtQ6sYmyWXkMiYQ", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"CLIENT_MODULE_NAME": "", "CONFIG_KEY": "", "CONFIG_VALUE": "", "CONNECTIONS_PREFIX": "", "CONN_ID": "", "CONN_URI": "", "CREDENTIALS": "", "KEY_FILE": "", "MODULE_NAME": "", "OVERRIDDEN_PROJECT_ID": "", "PROJECT_ID": "", "SEP": "", "VARIABLES_PREFIX": "", "VAR_KEY": "", "VAR_VALUE": ""}, "variables_p": {"CLIENT_MODULE_NAME": [["str", 0.9999999999999999]], "CONFIG_KEY": [["str", 0.8171961848924678], ["Optional[str]", 0.09274065712401382]], "CONFIG_VALUE": [["str", 1.0]], "CONNECTIONS_PREFIX": [["str", 0.13456067988779752], ["Tuple[Literal, Literal]", 0.06746132805912726]], "CONN_ID": [["int", 0.23999737105981878], ["list", 0.06036565096888534]], "CONN_URI": [["str", 0.21972927729699512], ["int", 0.18975765139585804], ["list", 0.11169565780655198], ["Dict[str, Any]", 0.09389552070634904], ["Dict[int, Dict[str, Any]]", 0.09155164889873085]], "CREDENTIALS": [["str", 0.7438384604767615], ["Dict[str, Dict[str, Any]]", 0.09206515867446884], ["List[Dict[str, str]]", 0.0824459168346678]], "KEY_FILE": [["Optional[str]", 0.9999999924844593], ["str", 3.4242744349986577e-09], ["staticmethod", 1.6092266613172593e-09], ["Type[Dict[int, Any]]", 8.728129149705029e-10], ["List[str]", 8.046133306586297e-10]], "MODULE_NAME": [["str", 1.0]], "OVERRIDDEN_PROJECT_ID": [["str", 1.0]], "PROJECT_ID": [["str", 1.0]], "SEP": [["Optional[str]", 0.3919057294756556], ["str", 0.10450390525173889]], "VARIABLES_PREFIX": [["Dict[str, str]", 0.17508561703907052], ["Dict[str, Dict[str, str]]", 0.12614235355414485], ["List[Tuple[str, Any]]", 0.11043567622736869], ["str", 0.10061799127411448], ["Dict[str, Set[str]]", 0.09880672860401597], ["list", 0.09746387507988206]], "VAR_KEY": [["str", 0.49638959704497787], ["Optional[str]", 0.3066113943511369], ["Union[Literal, str]", 0.11146517467806812], ["Tuple[str, str]", 0.08553383392581723]], "VAR_VALUE": [["str", 0.8895121538522027], ["int", 0.11048784614779728]]}}}