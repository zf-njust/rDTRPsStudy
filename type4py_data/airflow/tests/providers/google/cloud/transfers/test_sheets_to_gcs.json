{"error": null, "response": {"classes": [{"cls_lc": [[35, 0], [123, 87]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[38, 4], [77, 43]], "fn_var_ln": {"expected_dest_file": [[46, 8], [46, 26]], "file_handle": [[40, 8], [40, 19]], "filename": [[39, 8], [39, 16]], "mock_gcs_hook": [[48, 8], [48, 21]], "mock_sheet_hook": [[44, 8], [44, 23]], "op": [[50, 8], [50, 10]], "result": [[58, 8], [58, 14]]}, "fn_var_occur": {"expected_dest_file": [["expected_dest_file", "PATH", "SHEET_TITLE", "RANGE"], ["mock_gcs_hook", "upload", "assert_called_once_with", "bucket_name", "BUCKET", "object_name", "expected_dest_file", "filename", "filename"], ["result", "expected_dest_file"]], "file_handle": [["file_handle", "mock", "MagicMock"], ["mock_tempfile", "return_value", "__enter__", "return_value", "file_handle"], ["mock_writer", "assert_called_once_with", "file_handle"], ["file_handle", "flush", "assert_called_once_with"]], "filename": [["mock_tempfile", "return_value", "__enter__", "return_value", "name", "filename"], ["mock_gcs_hook", "upload", "assert_called_once_with", "bucket_name", "BUCKET", "object_name", "expected_dest_file", "filename", "filename"]], "mock_gcs_hook": [["mock_gcs_hook", "mock", "MagicMock"], ["result", "op", "_upload_data", "gcs_hook", "mock_gcs_hook", "hook", "mock_sheet_hook", "sheet_range", "RANGE", "sheet_values", "VALUES"], ["mock_gcs_hook", "upload", "assert_called_once_with", "bucket_name", "BUCKET", "object_name", "expected_dest_file", "filename", "filename"]], "mock_sheet_hook": [["mock_sheet_hook", "mock", "MagicMock"], ["mock_sheet_hook", "get_spreadsheet", "return_value", "SHEET_TITLE"], ["result", "op", "_upload_data", "gcs_hook", "mock_gcs_hook", "hook", "mock_sheet_hook", "sheet_range", "RANGE", "sheet_values", "VALUES"], ["mock_sheet_hook", "get_spreadsheet", "assert_called_once_with", "SPREADSHEET_ID"]], "op": [["op", "GoogleSheetsToGCSOperator", "task_id", "spreadsheet_id", "SPREADSHEET_ID", "destination_bucket", "BUCKET", "sheet_filter", "FILTER", "destination_path", "PATH"], ["result", "op", "_upload_data", "gcs_hook", "mock_gcs_hook", "hook", "mock_sheet_hook", "sheet_range", "RANGE", "sheet_values", "VALUES"]], "result": [["result", "op", "_upload_data", "gcs_hook", "mock_gcs_hook", "hook", "mock_sheet_hook", "sheet_range", "RANGE", "sheet_values", "VALUES"], ["result", "expected_dest_file"]]}, "name": "test_upload_data", "params": {"mock_tempfile": "", "mock_writer": "", "self": ""}, "params_descr": {"mock_tempfile": "", "mock_writer": "", "self": ""}, "params_occur": {"mock_tempfile": [["mock_tempfile", "return_value", "__enter__", "return_value", "file_handle"], ["mock_tempfile", "return_value", "__enter__", "return_value", "name", "filename"]], "mock_writer": [["mock_writer", "assert_called_once_with", "file_handle"], ["mock_writer", "return_value", "writerows", "assert_called_once_with", "VALUES"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_tempfile": [], "mock_writer": [], "self": []}, "q_name": "TestGoogleSheetsToGCSOperator.test_upload_data", "ret_exprs": [], "ret_type": "", "variables": {"expected_dest_file": "", "file_handle": "", "filename": "", "mock_gcs_hook": "", "mock_sheet_hook": "", "op": "", "result": ""}, "variables_p": {"expected_dest_file": [["str", 1.0]], "file_handle": [], "filename": [["List[str]", 0.6870979576447555], ["str", 0.31290204235524444]], "mock_gcs_hook": [["mock.Mock", 0.09868602614874425]], "mock_sheet_hook": [["mock.Mock", 0.12188257660291726], ["mock.MagicMock", 0.10913474306530815]], "op": [["str", 0.4156275344905347], ["list", 0.18184324833482163], ["List[str]", 0.08716345553946016], ["Dict[str, Any]", 0.08646522185689116]], "result": [["str", 0.13300577815700917], ["Dict[str, List[Any]]", 0.12743912216908707], ["int", 0.12045229075562851], ["Dict[str, Any]", 0.09994393688455108], ["dict", 0.09894855774034177], ["Dict[str, Union[int, str]]", 0.08762789223693013]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[85, 4], [123, 87]], "fn_var_ln": {"actual_call_count": [[120, 8], [120, 25]], "calls": [[118, 8], [118, 13]], "context": [[86, 8], [86, 15]], "data": [[87, 8], [87, 12]], "op": [[91, 8], [91, 10]], "side_effect": [[89, 8], [89, 36]]}, "fn_var_occur": {"actual_call_count": [["actual_call_count", "mock_upload_data", "call_count"], ["len", "RANGES", "actual_call_count"]], "calls": [["calls", "mock", "call", "spreadsheet_id", "SPREADSHEET_ID", "range_", "r", "r", "RANGES"], ["mock_sheet_hook", "return_value", "get_values", "assert_has_calls", "calls"], ["calls", "mock", "call", "mock_gcs_hook", "mock_sheet_hook", "r", "v", "r", "v", "zip", "RANGES", "data"]], "context": [["op", "execute", "context"], ["mock_xcom", "assert_called_once_with", "context", "PATH", "PATH"]], "data": [["calls", "mock", "call", "mock_gcs_hook", "mock_sheet_hook", "r", "v", "r", "v", "zip", "RANGES", "data"]], "op": [["op", "GoogleSheetsToGCSOperator", "task_id", "spreadsheet_id", "SPREADSHEET_ID", "destination_bucket", "BUCKET", "sheet_filter", "FILTER", "destination_path", "PATH", "gcp_conn_id", "GCP_CONN_ID", "impersonation_chain", "IMPERSONATION_CHAIN"], ["op", "execute", "context"]], "side_effect": [["mock_upload_data", "side_effect", "PATH", "PATH"]]}, "name": "test_execute", "params": {"mock_gcs_hook": "", "mock_sheet_hook": "", "mock_upload_data": "", "mock_xcom": "", "self": ""}, "params_descr": {"mock_gcs_hook": "", "mock_sheet_hook": "", "mock_upload_data": "", "mock_xcom": "", "self": ""}, "params_occur": {"mock_gcs_hook": [["mock_gcs_hook", "assert_called_once_with", "gcp_conn_id", "GCP_CONN_ID", "impersonation_chain", "IMPERSONATION_CHAIN"], ["calls", "mock", "call", "mock_gcs_hook", "mock_sheet_hook", "r", "v", "r", "v", "zip", "RANGES", "data"]], "mock_sheet_hook": [["mock_sheet_hook", "return_value", "get_sheet_titles", "return_value", "RANGES"], ["mock_sheet_hook", "assert_called_once_with", "gcp_conn_id", "GCP_CONN_ID", "impersonation_chain", "IMPERSONATION_CHAIN"], ["mock_sheet_hook", "return_value", "get_sheet_titles", "assert_called_once_with", "spreadsheet_id", "SPREADSHEET_ID", "sheet_filter", "FILTER"], ["mock_sheet_hook", "return_value", "get_values", "assert_has_calls", "calls"], ["calls", "mock", "call", "mock_gcs_hook", "mock_sheet_hook", "r", "v", "r", "v", "zip", "RANGES", "data"]], "mock_upload_data": [["mock_upload_data", "side_effect", "PATH", "PATH"], ["mock_upload_data", "assert_called"], ["actual_call_count", "mock_upload_data", "call_count"]], "mock_xcom": [["mock_xcom", "assert_called_once_with", "context", "PATH", "PATH"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_gcs_hook": [["mock.Mock", 0.32223393048546395]], "mock_sheet_hook": [["mock.MagicMock", 0.11545394741257571]], "mock_upload_data": [], "mock_xcom": [], "self": []}, "q_name": "TestGoogleSheetsToGCSOperator.test_execute", "ret_exprs": [], "ret_type": "", "variables": {"actual_call_count": "", "calls": "", "context": "", "data": "", "op": "", "side_effect": ""}, "variables_p": {"actual_call_count": [["list", 0.3929651659265437], ["List[int]", 0.2115156541906818], ["int", 0.11553467974425687], ["Dict[str, str]", 0.09939804386774333], ["List[str]", 0.08763436336995224]], "calls": [["list", 0.22634265007545265], ["List[slice]", 0.0962412375413099]], "context": [["str", 0.7868837448193093], ["Dict[str, Dict[str, Any]]", 0.12137288577193013], ["Dict[str, List[str]]", 0.09174336940876039]], "data": [["list", 0.11499796503029172], ["Dict[str, int]", 0.09397254072077563]], "op": [["str", 0.4411451428578741], ["int", 0.27207945583125615]], "side_effect": [["str", 0.6436596447760407], ["list", 0.19920721854347992]]}}], "name": "TestGoogleSheetsToGCSOperator", "q_name": "TestGoogleSheetsToGCSOperator", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "unittest", "mock", "airflow", "providers", "google", "cloud", "transfers", "sheets_to_gcs", "GoogleSheetsToGCSOperator"], "mod_var_ln": {"BUCKET": [[29, 0], [29, 6]], "FILTER": [[24, 0], [24, 6]], "GCP_CONN_ID": [[31, 0], [31, 11]], "IMPERSONATION_CHAIN": [[32, 0], [32, 19]], "PATH": [[30, 0], [30, 4]], "RANGE": [[23, 0], [23, 5]], "RANGES": [[26, 0], [26, 6]], "SHEET_TITLE": [[25, 0], [25, 11]], "SPREADSHEET_ID": [[27, 0], [27, 14]], "VALUES": [[28, 0], [28, 6]]}, "mod_var_occur": {"BUCKET": [["op", "GoogleSheetsToGCSOperator", "task_id", "spreadsheet_id", "SPREADSHEET_ID", "destination_bucket", "BUCKET", "sheet_filter", "FILTER", "destination_path", "PATH"], ["mock_gcs_hook", "upload", "assert_called_once_with", "bucket_name", "BUCKET", "object_name", "expected_dest_file", "filename", "filename"], ["op", "GoogleSheetsToGCSOperator", "task_id", "spreadsheet_id", "SPREADSHEET_ID", "destination_bucket", "BUCKET", "sheet_filter", "FILTER", "destination_path", "PATH", "gcp_conn_id", "GCP_CONN_ID", "impersonation_chain", "IMPERSONATION_CHAIN"]], "FILTER": [["op", "GoogleSheetsToGCSOperator", "task_id", "spreadsheet_id", "SPREADSHEET_ID", "destination_bucket", "BUCKET", "sheet_filter", "FILTER", "destination_path", "PATH"], ["op", "GoogleSheetsToGCSOperator", "task_id", "spreadsheet_id", "SPREADSHEET_ID", "destination_bucket", "BUCKET", "sheet_filter", "FILTER", "destination_path", "PATH", "gcp_conn_id", "GCP_CONN_ID", "impersonation_chain", "IMPERSONATION_CHAIN"], ["mock_sheet_hook", "return_value", "get_sheet_titles", "assert_called_once_with", "spreadsheet_id", "SPREADSHEET_ID", "sheet_filter", "FILTER"]], "GCP_CONN_ID": [["op", "GoogleSheetsToGCSOperator", "task_id", "spreadsheet_id", "SPREADSHEET_ID", "destination_bucket", "BUCKET", "sheet_filter", "FILTER", "destination_path", "PATH", "gcp_conn_id", "GCP_CONN_ID", "impersonation_chain", "IMPERSONATION_CHAIN"], ["mock_sheet_hook", "assert_called_once_with", "gcp_conn_id", "GCP_CONN_ID", "impersonation_chain", "IMPERSONATION_CHAIN"], ["mock_gcs_hook", "assert_called_once_with", "gcp_conn_id", "GCP_CONN_ID", "impersonation_chain", "IMPERSONATION_CHAIN"]], "IMPERSONATION_CHAIN": [["op", "GoogleSheetsToGCSOperator", "task_id", "spreadsheet_id", "SPREADSHEET_ID", "destination_bucket", "BUCKET", "sheet_filter", "FILTER", "destination_path", "PATH", "gcp_conn_id", "GCP_CONN_ID", "impersonation_chain", "IMPERSONATION_CHAIN"], ["mock_sheet_hook", "assert_called_once_with", "gcp_conn_id", "GCP_CONN_ID", "impersonation_chain", "IMPERSONATION_CHAIN"], ["mock_gcs_hook", "assert_called_once_with", "gcp_conn_id", "GCP_CONN_ID", "impersonation_chain", "IMPERSONATION_CHAIN"]], "PATH": [["expected_dest_file", "PATH", "SHEET_TITLE", "RANGE"], ["op", "GoogleSheetsToGCSOperator", "task_id", "spreadsheet_id", "SPREADSHEET_ID", "destination_bucket", "BUCKET", "sheet_filter", "FILTER", "destination_path", "PATH"], ["mock_upload_data", "side_effect", "PATH", "PATH"], ["op", "GoogleSheetsToGCSOperator", "task_id", "spreadsheet_id", "SPREADSHEET_ID", "destination_bucket", "BUCKET", "sheet_filter", "FILTER", "destination_path", "PATH", "gcp_conn_id", "GCP_CONN_ID", "impersonation_chain", "IMPERSONATION_CHAIN"], ["mock_xcom", "assert_called_once_with", "context", "PATH", "PATH"]], "RANGE": [["expected_dest_file", "PATH", "SHEET_TITLE", "RANGE"], ["result", "op", "_upload_data", "gcs_hook", "mock_gcs_hook", "hook", "mock_sheet_hook", "sheet_range", "RANGE", "sheet_values", "VALUES"]], "RANGES": [["mock_sheet_hook", "return_value", "get_sheet_titles", "return_value", "RANGES"], ["calls", "mock", "call", "spreadsheet_id", "SPREADSHEET_ID", "range_", "r", "r", "RANGES"], ["calls", "mock", "call", "mock_gcs_hook", "mock_sheet_hook", "r", "v", "r", "v", "zip", "RANGES", "data"], ["len", "RANGES", "actual_call_count"]], "SHEET_TITLE": [["mock_sheet_hook", "get_spreadsheet", "return_value", "SHEET_TITLE"], ["expected_dest_file", "PATH", "SHEET_TITLE", "RANGE"]], "SPREADSHEET_ID": [["op", "GoogleSheetsToGCSOperator", "task_id", "spreadsheet_id", "SPREADSHEET_ID", "destination_bucket", "BUCKET", "sheet_filter", "FILTER", "destination_path", "PATH"], ["mock_sheet_hook", "get_spreadsheet", "assert_called_once_with", "SPREADSHEET_ID"], ["op", "GoogleSheetsToGCSOperator", "task_id", "spreadsheet_id", "SPREADSHEET_ID", "destination_bucket", "BUCKET", "sheet_filter", "FILTER", "destination_path", "PATH", "gcp_conn_id", "GCP_CONN_ID", "impersonation_chain", "IMPERSONATION_CHAIN"], ["mock_sheet_hook", "return_value", "get_sheet_titles", "assert_called_once_with", "spreadsheet_id", "SPREADSHEET_ID", "sheet_filter", "FILTER"], ["calls", "mock", "call", "spreadsheet_id", "SPREADSHEET_ID", "range_", "r", "r", "RANGES"]], "VALUES": [["result", "op", "_upload_data", "gcs_hook", "mock_gcs_hook", "hook", "mock_sheet_hook", "sheet_range", "RANGE", "sheet_values", "VALUES"], ["mock_writer", "return_value", "writerows", "assert_called_once_with", "VALUES"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 31}, "session_id": "ETZkJO6Tg5efGa8Pbg-VKCtMLqOk0D5hvnl6qhdCQKc", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"BUCKET": "", "FILTER": "", "GCP_CONN_ID": "", "IMPERSONATION_CHAIN": "", "PATH": "", "RANGE": "", "RANGES": "", "SHEET_TITLE": "", "SPREADSHEET_ID": "", "VALUES": ""}, "variables_p": {"BUCKET": [["str", 0.5717821238271976], ["int", 0.2157470803980181], ["list", 0.11829509759001872]], "FILTER": [["dict", 0.18426987528165734], ["Dict[Optional[str], str]", 0.10983661093509384], ["str", 0.09806813159675196]], "GCP_CONN_ID": [["int", 0.5169862725884063], ["list", 0.07983431895041437]], "IMPERSONATION_CHAIN": [["str", 0.6083923022922523], ["Dict[str, List[Any]]", 0.10543237394882347], ["float", 0.08819591360341704]], "PATH": [["str", 0.19860175233619765], ["list", 0.19055050116328714], ["bytes", 0.07766165666163244]], "RANGE": [["list", 0.2687205554033779], ["int", 0.2595666420932114], ["bool", 0.10805894897567567], ["Type[List[Any]]", 0.08984928339446369], ["List[str]", 0.08869160732366788]], "RANGES": [["list", 0.21648615680478422], ["Dict[int, Any]", 0.1841670947201672], ["Dict[str, int]", 0.08799947711241046]], "SHEET_TITLE": [["str", 0.17214137579677014], ["mock.Mock", 0.13429936744587115], ["int", 0.13218596575424976], ["List[str]", 0.09011087203752295]], "SPREADSHEET_ID": [["int", 0.3106291127937968], ["str", 0.27986871786277284], ["Optional[str]", 0.0905914721227347]], "VALUES": [["Dict[str, Any]", 0.24750518109233843], ["int", 0.10862772966861256], ["str", 0.09184587756836299]]}}}