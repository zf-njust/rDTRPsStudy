{"error": null, "response": {"classes": [{"cls_lc": [[52, 0], [140, 52]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[53, 4], [67, 43]], "fn_var_ln": {"actual_data": [[54, 8], [54, 19]], "expected_data": [[55, 8], [55, 21]]}, "fn_var_occur": {"actual_data": [["actual_data", "trigger", "serialize"], ["actual_data", "expected_data"]], "expected_data": [["expected_data", "PROJECT_ID", "JOB_ID", "LOCATION", "GCP_CONN_ID", "POLL_SLEEP", "IMPERSONATION_CHAIN", "CANCEL_TIMEOUT"], ["actual_data", "expected_data"]]}, "name": "test_serialize", "params": {"self": "", "trigger": ""}, "params_descr": {"self": "", "trigger": ""}, "params_occur": {"self": [], "trigger": [["actual_data", "trigger", "serialize"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "trigger": []}, "q_name": "TestTemplateJobStartTrigger.test_serialize", "ret_exprs": [], "ret_type": "", "variables": {"actual_data": "", "expected_data": ""}, "variables_p": {"actual_data": [["dict", 0.5350674494655676], ["Type[Dict[str, Any]]", 0.16349997817321593], ["Dict[str, Union[dict, Any, Any]]", 0.12310453311381608], ["List[str]", 0.10157163544155753], ["Dict[str, Any]", 0.07675640380584282]], "expected_data": [["Dict[str, Any]", 0.25431849818102226], ["str", 0.1940197455334323], ["List[Dict[str, Any]]", 0.0792250592650915]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[78, 4], [82, 33]], "fn_var_ln": {"actual": [[80, 8], [80, 14]], "hook": [[79, 8], [79, 12]]}, "fn_var_occur": {"actual": [["actual", "hook", "_hook_kwargs", "get", "attr"], ["actual", "None"], ["actual", "expected"]], "hook": [["hook", "trigger", "_get_async_hook"], ["actual", "hook", "_hook_kwargs", "get", "attr"]]}, "name": "test_get_async_hook", "params": {"attr": "", "expected": "", "self": "", "trigger": ""}, "params_descr": {"attr": "", "expected": "", "self": "", "trigger": ""}, "params_occur": {"attr": [["actual", "hook", "_hook_kwargs", "get", "attr"]], "expected": [["actual", "expected"]], "self": [], "trigger": [["hook", "trigger", "_get_async_hook"]]}, "params_p": {"args": [], "attr": [["str", 0.3813834347909685], ["Dict[str, str]", 0.2557915849690277], ["dict", 0.08987364985618304], ["Optional[str]", 0.08987364985618304]], "expected": [["bool", 0.3289539432853662], ["str", 0.2906623138981873], ["Union[str, int]", 0.10965131442845541], ["Sequence[Dict[str, str]]", 0.09285004140007959], ["T", 0.08795789514982412]], "kwargs": [], "self": [], "trigger": [["str", 0.38304845206846383], ["alerta.database.base.Query", 0.24615177734836435], ["int", 0.13246554293277607]]}, "q_name": "TestTemplateJobStartTrigger.test_get_async_hook", "ret_exprs": [], "ret_type": "", "variables": {"actual": "", "hook": ""}, "variables_p": {"actual": [["dict", 0.20817845040921606], ["Dict[str, Any]", 0.12252403232262675], ["str", 0.11374829511768521]], "hook": [["Dict[str, Dict[Any, Any]]", 0.17997129232003345], ["int", 0.14125025616833847], ["list", 0.10411460870491564], ["Counter", 0.10411460870491564]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[86, 4], [98, 45]], "fn_var_ln": {"actual_event": [[96, 8], [96, 20]], "expected_event": [[89, 8], [89, 22]], "return_value": [[87, 8], [87, 36]]}, "fn_var_occur": {"actual_event": [["actual_event", "trigger", "run", "asend", "None"], ["actual_event", "expected_event"]], "expected_event": [["expected_event", "TriggerEvent", "JOB_ID"], ["actual_event", "expected_event"]], "return_value": [["mock_job_status", "return_value", "JobState", "JOB_STATE_DONE"]]}, "name": "test_run_loop_return_success_event", "params": {"mock_job_status": "", "self": "", "trigger": ""}, "params_descr": {"mock_job_status": "", "self": "", "trigger": ""}, "params_occur": {"mock_job_status": [["mock_job_status", "return_value", "JobState", "JOB_STATE_DONE"]], "self": [], "trigger": [["actual_event", "trigger", "run", "asend", "None"]]}, "params_p": {"args": [], "kwargs": [], "mock_job_status": [], "self": [], "trigger": [["bytes", 0.09738943281384918]]}, "q_name": "TestTemplateJobStartTrigger.test_run_loop_return_success_event", "ret_exprs": [], "ret_type": "", "variables": {"actual_event": "", "expected_event": "", "return_value": ""}, "variables_p": {"actual_event": [["int", 0.19827774116334332], ["Dict[str, Any]", 0.1923719370493018], ["str", 0.18366561026568126], ["list", 0.12011004405179572], ["dict", 0.10269904842060054], ["Type[str]", 0.09662098744029007]], "expected_event": [["str", 1.0]], "return_value": [["str", 0.5029035122769111], ["List[bytes]", 0.0943869124505961], ["List[Tuple[bytes, bytes]]", 0.09223275226176453], ["Dict[str, Union[int, str]]", 0.09174909128476634], ["int", 0.08168032765963784]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[102, 4], [113, 45]], "fn_var_ln": {"actual_event": [[111, 8], [111, 20]], "expected_event": [[105, 8], [105, 22]], "return_value": [[103, 8], [103, 36]]}, "fn_var_occur": {"actual_event": [["actual_event", "trigger", "run", "asend", "None"], ["actual_event", "expected_event"]], "expected_event": [["expected_event", "TriggerEvent", "JOB_ID"], ["actual_event", "expected_event"]], "return_value": [["mock_job_status", "return_value", "JobState", "JOB_STATE_FAILED"]]}, "name": "test_run_loop_return_failed_event", "params": {"mock_job_status": "", "self": "", "trigger": ""}, "params_descr": {"mock_job_status": "", "self": "", "trigger": ""}, "params_occur": {"mock_job_status": [["mock_job_status", "return_value", "JobState", "JOB_STATE_FAILED"]], "self": [], "trigger": [["actual_event", "trigger", "run", "asend", "None"]]}, "params_p": {"args": [], "kwargs": [], "mock_job_status": [], "self": [], "trigger": [["bytes", 0.09738943281384918]]}, "q_name": "TestTemplateJobStartTrigger.test_run_loop_return_failed_event", "ret_exprs": [], "ret_type": "", "variables": {"actual_event": "", "expected_event": "", "return_value": ""}, "variables_p": {"actual_event": [["int", 0.19827774116334332], ["Dict[str, Any]", 0.1923719370493018], ["str", 0.18366561026568126], ["list", 0.12011004405179572], ["dict", 0.10269904842060054], ["Type[str]", 0.09662098744029007]], "expected_event": [["str", 1.0]], "return_value": [["str", 0.3086413246683851], ["int", 0.11018198264629893], ["List[str]", 0.08218180765361602], ["List[bytes]", 0.08179330024335456], ["List[Tuple[bytes, bytes]]", 0.0806492767480654]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[117, 4], [127, 45]], "fn_var_ln": {"actual_event": [[125, 8], [125, 20]], "expected_event": [[119, 8], [119, 22]], "return_value": [[118, 8], [118, 36]]}, "fn_var_occur": {"actual_event": [["actual_event", "trigger", "run", "asend", "None"], ["actual_event", "expected_event"]], "expected_event": [["expected_event", "TriggerEvent", "JOB_ID"], ["actual_event", "expected_event"]], "return_value": [["mock_job_status", "return_value", "JobState", "JOB_STATE_STOPPED"]]}, "name": "test_run_loop_return_stopped_event", "params": {"mock_job_status": "", "self": "", "trigger": ""}, "params_descr": {"mock_job_status": "", "self": "", "trigger": ""}, "params_occur": {"mock_job_status": [["mock_job_status", "return_value", "JobState", "JOB_STATE_STOPPED"]], "self": [], "trigger": [["actual_event", "trigger", "run", "asend", "None"]]}, "params_p": {"args": [], "kwargs": [], "mock_job_status": [], "self": [], "trigger": [["bytes", 0.09738943281384918]]}, "q_name": "TestTemplateJobStartTrigger.test_run_loop_return_stopped_event", "ret_exprs": [], "ret_type": "", "variables": {"actual_event": "", "expected_event": "", "return_value": ""}, "variables_p": {"actual_event": [["int", 0.19827774116334332], ["Dict[str, Any]", 0.1923719370493018], ["str", 0.18366561026568126], ["list", 0.12011004405179572], ["dict", 0.10269904842060054], ["Type[str]", 0.09662098744029007]], "expected_event": [["str", 1.0]], "return_value": [["str", 0.3086413246683851], ["int", 0.11018198264629893], ["List[str]", 0.08218180765361602], ["List[bytes]", 0.08179330024335456], ["List[Tuple[bytes, bytes]]", 0.0806492767480654]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[131, 4], [140, 52]], "fn_var_ln": {"return_value": [[132, 8], [132, 36]], "task": [[135, 8], [135, 12]]}, "fn_var_occur": {"return_value": [["mock_job_status", "return_value", "JobState", "JOB_STATE_RUNNING"]], "task": [["task", "asyncio", "create_task", "trigger", "run", "__anext__"], ["task", "done"]]}, "name": "test_run_loop_is_still_running", "params": {"caplog": "", "mock_job_status": "", "self": "", "trigger": ""}, "params_descr": {"caplog": "", "mock_job_status": "", "self": "", "trigger": ""}, "params_occur": {"caplog": [["caplog", "set_level", "logging", "INFO"]], "mock_job_status": [["mock_job_status", "return_value", "JobState", "JOB_STATE_RUNNING"]], "self": [], "trigger": [["task", "asyncio", "create_task", "trigger", "run", "__anext__"]]}, "params_p": {"args": [], "caplog": [["logging.Logger", 0.6094132803919332]], "kwargs": [], "mock_job_status": [], "self": [], "trigger": [["bool", 0.09331635199670574]]}, "q_name": "TestTemplateJobStartTrigger.test_run_loop_is_still_running", "ret_exprs": [], "ret_type": "", "variables": {"return_value": "", "task": ""}, "variables_p": {"return_value": [["str", 0.3086413246683851], ["int", 0.11018198264629893], ["List[str]", 0.08218180765361602], ["List[bytes]", 0.08179330024335456], ["List[Tuple[bytes, bytes]]", 0.0806492767480654]], "task": [["asyncio.tasks.Task[Any]", 0.4150052559721234], ["dict", 0.2827924629076824]]}}], "name": "TestTemplateJobStartTrigger", "q_name": "TestTemplateJobStartTrigger", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[40, 0], [49, 5]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "trigger", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "trigger", "ret_exprs": ["return TemplateJobStartTrigger( project_id=PROJECT_ID, job_id=JOB_ID, location=LOCATION, gcp_conn_id=GCP_CONN_ID, poll_sleep=POLL_SLEEP, impersonation_chain=IMPERSONATION_CHAIN, cancel_timeout=CANCEL_TIMEOUT,)"], "ret_type": "", "ret_type_p": [["str", 1.0000000000000002]], "variables": {}, "variables_p": {}}], "imports": ["__future__", "annotations", "asyncio", "logging", "unittest", "mock", "pytest", "google", "cloud", "dataflow_v1beta3", "JobState", "airflow", "providers", "google", "cloud", "triggers", "dataflow", "TemplateJobStartTrigger", "airflow", "triggers", "base", "TriggerEvent"], "mod_var_ln": {"CANCEL_TIMEOUT": [[36, 0], [36, 14]], "GCP_CONN_ID": [[33, 0], [33, 11]], "IMPERSONATION_CHAIN": [[35, 0], [35, 19]], "JOB_ID": [[31, 0], [31, 6]], "LOCATION": [[32, 0], [32, 8]], "POLL_SLEEP": [[34, 0], [34, 10]], "PROJECT_ID": [[30, 0], [30, 10]]}, "mod_var_occur": {"CANCEL_TIMEOUT": [["TemplateJobStartTrigger", "project_id", "PROJECT_ID", "job_id", "JOB_ID", "location", "LOCATION", "gcp_conn_id", "GCP_CONN_ID", "poll_sleep", "POLL_SLEEP", "impersonation_chain", "IMPERSONATION_CHAIN", "cancel_timeout", "CANCEL_TIMEOUT"], ["expected_data", "PROJECT_ID", "JOB_ID", "LOCATION", "GCP_CONN_ID", "POLL_SLEEP", "IMPERSONATION_CHAIN", "CANCEL_TIMEOUT"]], "GCP_CONN_ID": [["TemplateJobStartTrigger", "project_id", "PROJECT_ID", "job_id", "JOB_ID", "location", "LOCATION", "gcp_conn_id", "GCP_CONN_ID", "poll_sleep", "POLL_SLEEP", "impersonation_chain", "IMPERSONATION_CHAIN", "cancel_timeout", "CANCEL_TIMEOUT"], ["expected_data", "PROJECT_ID", "JOB_ID", "LOCATION", "GCP_CONN_ID", "POLL_SLEEP", "IMPERSONATION_CHAIN", "CANCEL_TIMEOUT"]], "IMPERSONATION_CHAIN": [["TemplateJobStartTrigger", "project_id", "PROJECT_ID", "job_id", "JOB_ID", "location", "LOCATION", "gcp_conn_id", "GCP_CONN_ID", "poll_sleep", "POLL_SLEEP", "impersonation_chain", "IMPERSONATION_CHAIN", "cancel_timeout", "CANCEL_TIMEOUT"], ["expected_data", "PROJECT_ID", "JOB_ID", "LOCATION", "GCP_CONN_ID", "POLL_SLEEP", "IMPERSONATION_CHAIN", "CANCEL_TIMEOUT"]], "JOB_ID": [["TemplateJobStartTrigger", "project_id", "PROJECT_ID", "job_id", "JOB_ID", "location", "LOCATION", "gcp_conn_id", "GCP_CONN_ID", "poll_sleep", "POLL_SLEEP", "impersonation_chain", "IMPERSONATION_CHAIN", "cancel_timeout", "CANCEL_TIMEOUT"], ["expected_data", "PROJECT_ID", "JOB_ID", "LOCATION", "GCP_CONN_ID", "POLL_SLEEP", "IMPERSONATION_CHAIN", "CANCEL_TIMEOUT"], ["expected_event", "TriggerEvent", "JOB_ID"], ["expected_event", "TriggerEvent", "JOB_ID"], ["expected_event", "TriggerEvent", "JOB_ID"]], "LOCATION": [["TemplateJobStartTrigger", "project_id", "PROJECT_ID", "job_id", "JOB_ID", "location", "LOCATION", "gcp_conn_id", "GCP_CONN_ID", "poll_sleep", "POLL_SLEEP", "impersonation_chain", "IMPERSONATION_CHAIN", "cancel_timeout", "CANCEL_TIMEOUT"], ["expected_data", "PROJECT_ID", "JOB_ID", "LOCATION", "GCP_CONN_ID", "POLL_SLEEP", "IMPERSONATION_CHAIN", "CANCEL_TIMEOUT"]], "POLL_SLEEP": [["TemplateJobStartTrigger", "project_id", "PROJECT_ID", "job_id", "JOB_ID", "location", "LOCATION", "gcp_conn_id", "GCP_CONN_ID", "poll_sleep", "POLL_SLEEP", "impersonation_chain", "IMPERSONATION_CHAIN", "cancel_timeout", "CANCEL_TIMEOUT"], ["expected_data", "PROJECT_ID", "JOB_ID", "LOCATION", "GCP_CONN_ID", "POLL_SLEEP", "IMPERSONATION_CHAIN", "CANCEL_TIMEOUT"], ["POLL_SLEEP"]], "PROJECT_ID": [["TemplateJobStartTrigger", "project_id", "PROJECT_ID", "job_id", "JOB_ID", "location", "LOCATION", "gcp_conn_id", "GCP_CONN_ID", "poll_sleep", "POLL_SLEEP", "impersonation_chain", "IMPERSONATION_CHAIN", "cancel_timeout", "CANCEL_TIMEOUT"], ["expected_data", "PROJECT_ID", "JOB_ID", "LOCATION", "GCP_CONN_ID", "POLL_SLEEP", "IMPERSONATION_CHAIN", "CANCEL_TIMEOUT"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 42}, "session_id": "pNlbgbdwSw9y7EFbWJd8geSbJJVBhNQJwqmn1wrK9k8", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"CANCEL_TIMEOUT": "", "GCP_CONN_ID": "", "IMPERSONATION_CHAIN": "", "JOB_ID": "", "LOCATION": "", "POLL_SLEEP": "", "PROJECT_ID": ""}, "variables_p": {"CANCEL_TIMEOUT": [["int", 0.6973085618446787], ["Optional[int]", 0.09039277111941899]], "GCP_CONN_ID": [["str", 0.41702372012236744], ["int", 0.20826188791380262], ["Optional[Set[int]]", 0.09768925957821548], ["List[str]", 0.09483349607120214], ["Type[Dict[str, str]]", 0.09257363389368387]], "IMPERSONATION_CHAIN": [["str", 0.6363389601885516], ["int", 0.08763646021447433]], "JOB_ID": [["str", 0.6955557259778702], ["int", 0.2127003174948992], ["List[str]", 0.09174395652723054]], "LOCATION": [["List[str]", 0.17550229734532619], ["Optional[int]", 0.14973206869109582], ["dict", 0.09971773750983297], ["List[Tuple[str, bytes]]", 0.09367585637498099], ["Tuple[Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal]", 0.08405513649117884]], "POLL_SLEEP": [["str", 0.6363389601885516], ["int", 0.08763646021447433]], "PROJECT_ID": [["str", 0.5245768734538105], ["int", 0.2975591069145823], ["Optional[str]", 0.08966875126989209]]}}}