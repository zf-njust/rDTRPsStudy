{"error": null, "response": {"classes": [{"cls_lc": [[52, 0], [152, 35]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[81, 4], [107, 57]], "fn_var_ln": {"file": [[93, 12], [93, 16]], "manifest": [[89, 8], [89, 16]], "parse_json_from_gcs_side_effect": [[90, 8], [90, 39]], "sensor": [[99, 8], [99, 14]], "side_effect": [[97, 8], [97, 44]]}, "fn_var_occur": {"file": [["file", "deepcopy", "RESULT_FILE_CONTENT"], ["file", "rows"], ["parse_json_from_gcs_side_effect", "append", "file"]], "manifest": [["manifest", "deepcopy", "MANIFEST_SUCCESS"], ["manifest", "append", "file_name"], ["mock_parse_json_from_gcs", "side_effect", "manifest", "parse_json_from_gcs_side_effect"]], "parse_json_from_gcs_side_effect": [["parse_json_from_gcs_side_effect", "append", "file"], ["mock_parse_json_from_gcs", "side_effect", "manifest", "parse_json_from_gcs_side_effect"]], "sensor": [["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "requested_partitions", "gcp_conn_id", "GCP_CONN_ID"], ["sensor", "poke", "context", "expected_result"]], "side_effect": [["mock_parse_json_from_gcs", "side_effect", "manifest", "parse_json_from_gcs_side_effect"]]}, "name": "test_poke_positive_manifest", "params": {"expected_result": "", "mock_hook": "", "mock_parse_json_from_gcs": "", "requested_partitions": "", "result_files_with_rows": "", "self": ""}, "params_descr": {"expected_result": "", "mock_hook": "", "mock_parse_json_from_gcs": "", "requested_partitions": "", "result_files_with_rows": "", "self": ""}, "params_occur": {"expected_result": [["sensor", "poke", "context", "expected_result"]], "mock_hook": [], "mock_parse_json_from_gcs": [["mock_parse_json_from_gcs", "side_effect", "manifest", "parse_json_from_gcs_side_effect"]], "requested_partitions": [["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "requested_partitions", "gcp_conn_id", "GCP_CONN_ID"]], "result_files_with_rows": [], "self": []}, "params_p": {"args": [], "expected_result": [], "kwargs": [], "mock_hook": [["mock.Mock", 0.3755973684793592], ["mock.MagicMock", 0.34276065490874685]], "mock_parse_json_from_gcs": [["mock.Mock", 0.11092097167181095], ["mock.MagicMock", 0.09229135367417736]], "requested_partitions": [["mock.MagicMock", 0.09974980884202371], ["str", 0.09964939507834959]], "result_files_with_rows": [["mock.Mock", 0.3755973684793592], ["mock.MagicMock", 0.34276065490874685]], "self": []}, "q_name": "TestMetastoreHivePartitionSensor.test_poke_positive_manifest", "ret_exprs": [], "ret_type": "", "variables": {"file": "", "manifest": "", "parse_json_from_gcs_side_effect": "", "sensor": "", "side_effect": ""}, "variables_p": {"file": [["list", 0.1560814002467492], ["Dict[str, Union[Any, Any]]", 0.09113022702075045], ["dict", 0.08458078877120231]], "manifest": [["Dict[str, str]", 0.09644107715363974], ["list", 0.08300780093003957]], "parse_json_from_gcs_side_effect": [["int", 0.3593958511633678], ["str", 0.15180199930186608], ["bool", 0.0887812062698074]], "sensor": [["int", 0.20983866473343651], ["str", 0.1819366323517922], ["Union[Literal, str]", 0.09580192788333268]], "side_effect": [["str", 0.3847341841227788], ["mock._patch[Literal]", 0.13494692865713823], ["Dict[str, Union[Any, Any]]", 0.10138868411962065]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[112, 4], [130, 35]], "fn_var_ln": {"return_value": [[118, 8], [118, 45]], "sensor": [[120, 8], [120, 14]]}, "fn_var_occur": {"return_value": [["mock_parse_json_from_gcs", "return_value", "empty_manifest"]], "sensor": [["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "PARTITION_1", "gcp_conn_id", "GCP_CONN_ID"], ["sensor", "poke", "context"]]}, "name": "test_poke_empty_manifest", "params": {"empty_manifest": "", "mock_hook": "", "mock_parse_json_from_gcs": "", "self": ""}, "params_descr": {"empty_manifest": "", "mock_hook": "", "mock_parse_json_from_gcs": "", "self": ""}, "params_occur": {"empty_manifest": [["mock_parse_json_from_gcs", "return_value", "empty_manifest"]], "mock_hook": [], "mock_parse_json_from_gcs": [["mock_parse_json_from_gcs", "return_value", "empty_manifest"]], "self": []}, "params_p": {"args": [], "empty_manifest": [], "kwargs": [], "mock_hook": [["mock.Mock", 0.1700152829890877]], "mock_parse_json_from_gcs": [], "self": []}, "q_name": "TestMetastoreHivePartitionSensor.test_poke_empty_manifest", "ret_exprs": [], "ret_type": "", "variables": {"return_value": "", "sensor": ""}, "variables_p": {"return_value": [["str", 0.33642333217209175], ["dict", 0.14441382454181514], ["Dict[str, Dict[str, Any]]", 0.1302149969550782], ["Dict[str, int]", 0.09348226973501395], ["Dict[str, Union[Any, Any, Any]]", 0.0808458888986547], ["Dict[str, Dict[str, str]]", 0.07838596218970104], ["int", 0.07597300085197815]], "sensor": [["int", 0.20983866473343651], ["str", 0.1819366323517922], ["Union[Literal, str]", 0.09580192788333268]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[134, 4], [152, 35]], "fn_var_ln": {"error_message": [[139, 8], [139, 21]], "return_value": [[140, 8], [140, 45]], "sensor": [[142, 8], [142, 14]]}, "fn_var_occur": {"error_message": [["mock_parse_json_from_gcs", "return_value", "error_message"], ["pytest", "raises", "AirflowException", "match", "error_message"]], "return_value": [["mock_parse_json_from_gcs", "return_value", "error_message"]], "sensor": [["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "PARTITION_1", "gcp_conn_id", "GCP_CONN_ID"], ["sensor", "poke", "context"]]}, "name": "test_poke_wrong_status", "params": {"mock_hook": "", "mock_parse_json_from_gcs": "", "self": ""}, "params_descr": {"mock_hook": "", "mock_parse_json_from_gcs": "", "self": ""}, "params_occur": {"mock_hook": [], "mock_parse_json_from_gcs": [["mock_parse_json_from_gcs", "return_value", "error_message"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_hook": [], "mock_parse_json_from_gcs": [], "self": []}, "q_name": "TestMetastoreHivePartitionSensor.test_poke_wrong_status", "ret_exprs": [], "ret_type": "", "variables": {"error_message": "", "return_value": "", "sensor": ""}, "variables_p": {"error_message": [["Dict[str, Union[Any, Any, str]]", 0.17436167711590528], ["Dict[str, Union[Any, Any, Any]]", 0.1547730321781354], ["List[Dict[str, Any]]", 0.14689398001654272], ["str", 0.09888107705182891], ["List[str]", 0.08564608575556998], ["Dict[str, Dict[str, str]]", 0.08230881724356193], ["Dict[str, int]", 0.08165108558198739], ["Dict[str, Dict[str, Any]]", 0.07841373822645845]], "return_value": [["str", 0.33642333217209175], ["dict", 0.14441382454181514], ["Dict[str, Dict[str, Any]]", 0.1302149969550782], ["Dict[str, int]", 0.09348226973501395], ["Dict[str, Union[Any, Any, Any]]", 0.0808458888986547], ["Dict[str, Dict[str, str]]", 0.07838596218970104], ["int", 0.07597300085197815]], "sensor": [["int", 0.20983866473343651], ["str", 0.1819366323517922], ["Union[Literal, str]", 0.09580192788333268]]}}], "name": "TestMetastoreHivePartitionSensor", "q_name": "TestMetastoreHivePartitionSensor", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "copy", "deepcopy", "unittest", "mock", "pytest", "airflow", "AirflowException", "airflow", "providers", "google", "cloud", "sensors", "dataproc_metastore", "MetastoreHivePartitionSensor"], "mod_var_ln": {"DATAPROC_METASTORE_SENSOR_PATH": [[27, 0], [27, 30]], "GCP_CONN_ID": [[49, 0], [49, 11]], "GCP_PROJECT": [[48, 0], [48, 11]], "MANIFEST_FAIL": [[41, 0], [41, 13]], "MANIFEST_SUCCESS": [[33, 0], [33, 16]], "PARTITION_1": [[29, 0], [29, 11]], "PARTITION_2": [[30, 0], [30, 11]], "RESULT_FILE_CONTENT": [[42, 0], [42, 19]], "RESULT_FILE_NAME_1": [[31, 0], [31, 18]], "RESULT_FILE_NAME_2": [[32, 0], [32, 18]], "ROW_1": [[43, 0], [43, 5]], "ROW_2": [[44, 0], [44, 5]], "TEST_REGION": [[46, 0], [46, 11]], "TEST_SERVICE_ID": [[45, 0], [45, 15]], "TEST_TABLE": [[47, 0], [47, 10]], "TEST_TASK_ID": [[28, 0], [28, 12]]}, "mod_var_occur": {"DATAPROC_METASTORE_SENSOR_PATH": [], "GCP_CONN_ID": [["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "requested_partitions", "gcp_conn_id", "GCP_CONN_ID"], ["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "PARTITION_1", "gcp_conn_id", "GCP_CONN_ID"], ["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "PARTITION_1", "gcp_conn_id", "GCP_CONN_ID"]], "GCP_PROJECT": [], "MANIFEST_FAIL": [], "MANIFEST_SUCCESS": [["manifest", "deepcopy", "MANIFEST_SUCCESS"]], "PARTITION_1": [["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "PARTITION_1", "gcp_conn_id", "GCP_CONN_ID"], ["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "PARTITION_1", "gcp_conn_id", "GCP_CONN_ID"]], "PARTITION_2": [], "RESULT_FILE_CONTENT": [["file", "deepcopy", "RESULT_FILE_CONTENT"]], "RESULT_FILE_NAME_1": [], "RESULT_FILE_NAME_2": [], "ROW_1": [], "ROW_2": [], "TEST_REGION": [["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "requested_partitions", "gcp_conn_id", "GCP_CONN_ID"], ["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "PARTITION_1", "gcp_conn_id", "GCP_CONN_ID"], ["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "PARTITION_1", "gcp_conn_id", "GCP_CONN_ID"]], "TEST_SERVICE_ID": [["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "requested_partitions", "gcp_conn_id", "GCP_CONN_ID"], ["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "PARTITION_1", "gcp_conn_id", "GCP_CONN_ID"], ["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "PARTITION_1", "gcp_conn_id", "GCP_CONN_ID"]], "TEST_TABLE": [["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "requested_partitions", "gcp_conn_id", "GCP_CONN_ID"], ["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "PARTITION_1", "gcp_conn_id", "GCP_CONN_ID"], ["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "PARTITION_1", "gcp_conn_id", "GCP_CONN_ID"]], "TEST_TASK_ID": [["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "requested_partitions", "gcp_conn_id", "GCP_CONN_ID"], ["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "PARTITION_1", "gcp_conn_id", "GCP_CONN_ID"], ["sensor", "MetastoreHivePartitionSensor", "task_id", "TEST_TASK_ID", "service_id", "TEST_SERVICE_ID", "region", "TEST_REGION", "table", "TEST_TABLE", "partitions", "PARTITION_1", "gcp_conn_id", "GCP_CONN_ID"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 39}, "session_id": "AQjqvFLIT894lAsxzCb5A1aUbvnoYVPIjsAfS1Bxmfk", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"DATAPROC_METASTORE_SENSOR_PATH": "", "GCP_CONN_ID": "", "GCP_PROJECT": "", "MANIFEST_FAIL": "", "MANIFEST_SUCCESS": "", "PARTITION_1": "", "PARTITION_2": "", "RESULT_FILE_CONTENT": "", "RESULT_FILE_NAME_1": "", "RESULT_FILE_NAME_2": "", "ROW_1": "", "ROW_2": "", "TEST_REGION": "", "TEST_SERVICE_ID": "", "TEST_TABLE": "", "TEST_TASK_ID": ""}, "variables_p": {"DATAPROC_METASTORE_SENSOR_PATH": [["str", 0.5], ["List[str]", 0.2], ["Optional[str]", 0.1], ["int", 0.1]], "GCP_CONN_ID": [["str", 0.6388524541870341], ["int", 0.17909797561604257]], "GCP_PROJECT": [["Dict[str, str]", 0.39999999999999997], ["str", 0.39999999999999997], ["list", 0.09999999999999999], ["List[str]", 0.09999999999999999]], "MANIFEST_FAIL": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "MANIFEST_SUCCESS": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]], "PARTITION_1": [["int", 0.20983866473343651], ["str", 0.1819366323517922], ["Union[Literal, str]", 0.09580192788333268]], "PARTITION_2": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "RESULT_FILE_CONTENT": [["List[str]", 0.26258798671874833], ["Final[str]", 0.19263189166745323], ["List[List[str]]", 0.11341177054134895], ["str", 0.11340915355322344]], "RESULT_FILE_NAME_1": [["str", 0.8642279281390894], ["Dict[str, Type[Any]]", 0.06788603593045528], ["set", 0.06788603593045528]], "RESULT_FILE_NAME_2": [["str", 0.8642279281390894], ["Dict[str, Type[Any]]", 0.06788603593045528], ["set", 0.06788603593045528]], "ROW_1": [["list", 0.30000000000000004], ["int", 0.30000000000000004], ["List[List[int]]", 0.1], ["property", 0.1], ["dict", 0.1], ["List[Dict[str, Any]]", 0.1]], "ROW_2": [["list", 0.30000000000000004], ["int", 0.30000000000000004], ["List[List[int]]", 0.1], ["property", 0.1], ["dict", 0.1], ["List[Dict[str, Any]]", 0.1]], "TEST_REGION": [["str", 0.29898679784661614], ["Dict[str, Any]", 0.10721994919134584], ["Dict[str, Union[Any, Any, Any, Any, Any, Any, str]]", 0.09459817611580583], ["Dict[str, Union[int, str]]", 0.08897597581987618], ["List[str]", 0.0886930748499502]], "TEST_SERVICE_ID": [["str", 0.9999999999999999]], "TEST_TABLE": [["str", 0.6637045728367845], ["List[str]", 0.0921291876606474]], "TEST_TASK_ID": [["str", 0.8849906672172569], ["int", 0.11500933278274304]]}}}