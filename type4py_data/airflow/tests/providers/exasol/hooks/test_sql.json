{"error": null, "response": {"classes": [{"cls_lc": [[38, 0], [40, 37]], "cls_var_ln": {"conn_name_attr": [[39, 4], [39, 18]], "get_conn": [[40, 4], [40, 12]]}, "cls_var_occur": {"conn_name_attr": [], "get_conn": []}, "funcs": [], "name": "ExasolHookForTests", "q_name": "ExasolHookForTests", "variables": {"conn_name_attr": "", "get_conn": ""}, "variables_p": {"conn_name_attr": [["str", 0.9999999984412052], ["Tuple[str, str, bool, str, str, str, str]", 8.316126869679678e-10], ["List[str]", 1.331690806861904e-10], ["Tuple[Any, Any]", 1.331690806861904e-10], ["bool", 1.3275060008743415e-10]], "get_conn": [["str", 0.6], ["bool", 0.1], ["Type[bot_app.models.ConnectedApi]", 0.1]]}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[45, 0], [53, 20]], "fn_var_ln": {"conn": [[48, 8], [48, 12]], "extra": [[52, 4], [52, 14]], "host": [[49, 4], [49, 13]], "login": [[50, 4], [50, 14]], "password": [[51, 4], [51, 17]]}, "fn_var_occur": {"conn": [["conn", "session", "query", "Connection", "filter", "Connection", "conn_id", "DEFAULT_CONN_ID", "first"], ["conn", "None"], ["conn", "Connection", "conn_id", "DEFAULT_CONN_ID"], ["conn", "host", "HOST"], ["conn", "login", "None"], ["conn", "password", "PASSWORD"], ["conn", "extra", "None"]], "extra": [["conn", "extra", "None"]], "host": [["conn", "host", "HOST"]], "login": [["conn", "login", "None"]], "password": [["conn", "password", "PASSWORD"]]}, "name": "create_connection", "params": {"session": ""}, "params_descr": {"session": ""}, "params_occur": {"session": [["conn", "session", "query", "Connection", "filter", "Connection", "conn_id", "DEFAULT_CONN_ID", "first"], ["session", "commit"]]}, "params_p": {"args": [], "kwargs": [], "session": [["sqlalchemy.orm.session.Session", 0.4402611989873082], ["str", 0.1081487255519498], ["grouper.models.base.session.Session", 0.08683262768388379], ["grouper.models.group.Group", 0.08683262768388379], ["models.Queue", 0.08301151975762748]]}, "q_name": "create_connection", "ret_exprs": [], "ret_type": "", "variables": {"conn": "", "extra": "", "host": "", "login": "", "password": ""}, "variables_p": {"conn": [["int", 0.2802808231430746], ["str", 0.18693442158875812], ["List[str]", 0.08668713143578972], ["Union[Literal, Literal]", 0.08403886117942554]], "extra": [["Type[Optional[Any]]", 0.19999999999999998], ["list", 0.09999999999999999], ["str", 0.09999999999999999]], "host": [["dict", 0.7999999999545204], ["int", 0.19999999999854687], ["str", 3.046154765952506e-11]], "login": [["Type[Optional[Any]]", 0.19999999999999998], ["list", 0.09999999999999999], ["str", 0.09999999999999999]], "password": [["str", 0.6666666665981479], ["Optional[str]", 0.3333333333077041], ["List[str]", 2.0236463666246685e-11], ["Type[set]", 2.0236463666246685e-11], ["float", 1.9154481344935525e-11], ["bool", 1.7260305223833547e-11]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[57, 0], [58, 23]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "exasol_hook", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "exasol_hook", "ret_exprs": ["return ExasolHook()"], "ret_type": "", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[61, 0], [65, 5]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_columns", "params": {"fields": "builtins.list[builtins.str]"}, "params_descr": {"fields": ""}, "params_occur": {"fields": [["field", "True", "None", "None", "None", "field", "fields"]]}, "params_p": {"args": [], "fields": [["Dict[str, Any]", 0.19749434265317217], ["str", 0.18852262231064687], ["dict", 0.10675645359720964], ["bool", 0.10135089006039588]], "kwargs": []}, "q_name": "get_columns", "ret_exprs": ["return { field: {\"type\": \"VARCHAR\", \"nullable\": True, \"precision\": None, \"scale\": None, \"length\": None} for field in fields}"], "ret_type": "builtins.dict[builtins.str, builtins.dict[builtins.str, typing.Any]]", "ret_type_p": [["bool", 0.56099258471127], ["Sequence", 0.12316255807223495], ["int", 0.10313759216096156], ["db.models.Name", 0.08802518486241635]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[245, 0], [274, 33]], "fn_var_ln": {"cur": [[259, 12], [259, 15]], "cursors": [[257, 8], [257, 15]], "results": [[267, 8], [267, 15]], "return_value": [[266, 8], [266, 30]]}, "fn_var_occur": {"cur": [["cur", "mock", "MagicMock", "rowcount", "len", "cursor_results", "index"], ["cur", "columns", "return_value", "get_columns", "cursor_descriptions", "index"], ["cur", "fetchall", "return_value", "cursor_results", "index"], ["cursors", "append", "cur"], ["cur", "close", "assert_called"]], "cursors": [["cursors", "append", "cur"], ["mock_conn", "execute", "side_effect", "cursors"]], "results": [["results", "exasol_hook", "run", "sql", "sql", "handler", "fetch_all_handler", "return_last", "return_last", "split_statements", "split_statements"], ["results", "hook_results"]], "return_value": [["cur", "columns", "return_value", "get_columns", "cursor_descriptions", "index"], ["cur", "fetchall", "return_value", "cursor_results", "index"], ["mock_conn", "return_value", "mock_conn"]]}, "name": "test_query", "params": {"cursor_calls": "", "cursor_descriptions": "", "cursor_results": "", "exasol_hook": "", "hook_descriptions": "", "hook_results": "", "return_last": "", "split_statements": "", "sql": ""}, "params_descr": {"cursor_calls": "", "cursor_descriptions": "", "cursor_results": "", "exasol_hook": "", "hook_descriptions": "", "hook_results": "", "return_last": "", "split_statements": "", "sql": ""}, "params_occur": {"cursor_calls": [], "cursor_descriptions": [["range", "len", "cursor_descriptions"], ["cur", "columns", "return_value", "get_columns", "cursor_descriptions", "index"]], "cursor_results": [["cur", "mock", "MagicMock", "rowcount", "len", "cursor_results", "index"], ["cur", "fetchall", "return_value", "cursor_results", "index"]], "exasol_hook": [["results", "exasol_hook", "run", "sql", "sql", "handler", "fetch_all_handler", "return_last", "return_last", "split_statements", "split_statements"], ["exasol_hook", "descriptions", "hook_descriptions"], ["exasol_hook", "last_description", "hook_descriptions"]], "hook_descriptions": [["exasol_hook", "descriptions", "hook_descriptions"], ["exasol_hook", "last_description", "hook_descriptions"]], "hook_results": [["results", "hook_results"]], "return_last": [["results", "exasol_hook", "run", "sql", "sql", "handler", "fetch_all_handler", "return_last", "return_last", "split_statements", "split_statements"]], "split_statements": [["results", "exasol_hook", "run", "sql", "sql", "handler", "fetch_all_handler", "return_last", "return_last", "split_statements", "split_statements"]], "sql": [["results", "exasol_hook", "run", "sql", "sql", "handler", "fetch_all_handler", "return_last", "return_last", "split_statements", "split_statements"]]}, "params_p": {"args": [], "cursor_calls": [["Callable", 0.2541295438659613], ["Callable[[], None]", 0.20122910671560082], ["Exception", 0.10648101595018289], ["bool", 0.09794911816990955], ["Callable[..., None]", 0.07372900057804341]], "cursor_descriptions": [["correios.models.user.PostingCard", 0.19479412673714042], ["list", 0.10319626571499609], ["List[str]", 0.08695852399587803]], "cursor_results": [["unittesmock.MagicMock", 0.19649445540731686], ["bool", 0.09651479305507119]], "exasol_hook": [], "hook_descriptions": [["str", 0.4104199297634637]], "hook_results": [["Union[int, slice]", 0.0842639823846721]], "kwargs": [], "return_last": [], "split_statements": [], "sql": []}, "q_name": "test_query", "ret_exprs": [], "ret_type": "", "variables": {"cur": "", "cursors": "", "results": "", "return_value": ""}, "variables_p": {"cur": [["mock.MagicMock", 0.590734082706761]], "cursors": [["list", 0.20867477377786112], ["str", 0.19814626165177235], ["Dict[str, Union[Any, Any, Any]]", 0.1309696080266378], ["Dict[str, List[str]]", 0.10678066010985844], ["Dict[str, Union[int, str]]", 0.07440754057576883], ["List[str]", 0.07357161018272905]], "results": [], "return_value": [["str", 0.7153460870465089], ["Dict[Any, str]", 0.19093988500067446]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[285, 0], [290, 65]], "fn_var_ln": {"dbapi_hook": [[286, 4], [286, 14]]}, "fn_var_occur": {"dbapi_hook": [["dbapi_hook", "ExasolHookForTests"], ["dbapi_hook", "get_conn", "return_value", "cursor", "rowcount"], ["dbapi_hook", "run", "sql", "empty_statement"]]}, "name": "test_no_query", "params": {"empty_statement": ""}, "params_descr": {"empty_statement": ""}, "params_occur": {"empty_statement": [["dbapi_hook", "run", "sql", "empty_statement"]]}, "params_p": {"args": [], "empty_statement": [["str", 0.09698188691795945]], "kwargs": []}, "q_name": "test_no_query", "ret_exprs": [], "ret_type": "", "variables": {"dbapi_hook": ""}, "variables_p": {"dbapi_hook": [["List[str]", 0.2911440186818877], ["str", 0.09195538923397766]]}}], "imports": ["__future__", "annotations", "typing", "Any", "unittest", "mock", "unittest", "mock", "MagicMock", "patch", "pytest", "airflow", "models", "Connection", "airflow", "providers", "common", "sql", "hooks", "sql", "fetch_all_handler", "airflow", "providers", "exasol", "hooks", "exasol", "ExasolHook", "airflow", "utils", "session", "provide_session"], "mod_var_ln": {"DEFAULT_CONN_ID": [[34, 0], [34, 15]], "HOST": [[33, 0], [33, 4]], "PASSWORD": [[35, 0], [35, 8]], "TASK_ID": [[32, 0], [32, 7]], "index": [[68, 0], [68, 5]]}, "mod_var_occur": {"DEFAULT_CONN_ID": [["conn", "session", "query", "Connection", "filter", "Connection", "conn_id", "DEFAULT_CONN_ID", "first"], ["conn", "Connection", "conn_id", "DEFAULT_CONN_ID"]], "HOST": [["conn", "host", "HOST"]], "PASSWORD": [["conn", "password", "PASSWORD"]], "TASK_ID": [], "index": [["cur", "mock", "MagicMock", "rowcount", "len", "cursor_results", "index"], ["cur", "columns", "return_value", "get_columns", "cursor_descriptions", "index"], ["cur", "fetchall", "return_value", "cursor_results", "index"]]}, "no_types_annot": {"D": 2, "I": 0, "U": 32}, "session_id": "5Esx0j9hR87IgXJ_gIRn40STOG1K8b12zMFSi3wVXfc", "set": null, "tc": [false, null], "type_annot_cove": 0.06, "typed_seq": "", "untyped_seq": "", "variables": {"DEFAULT_CONN_ID": "", "HOST": "", "PASSWORD": "", "TASK_ID": "", "index": ""}, "variables_p": {"DEFAULT_CONN_ID": [["int", 0.2110340317158349], ["Pattern[Any]", 0.13175308823678197], ["transfer.models.OrgaTeamID", 0.08774434816912213], ["str", 0.08398976484646008]], "HOST": [["dict", 0.7999999999545204], ["int", 0.19999999999854687], ["str", 3.046154765952506e-11]], "PASSWORD": [["str", 0.6666666665981479], ["Optional[str]", 0.3333333333077041], ["List[str]", 2.0236463666246685e-11], ["Type[set]", 2.0236463666246685e-11], ["float", 1.9154481344935525e-11], ["bool", 1.7260305223833547e-11]], "TASK_ID": [["str", 0.4], ["Type[bot_app.models.Products]", 0.1], ["Type[str]", 0.1], ["Optional[str]", 0.1]], "index": [["mock.MagicMock", 0.590734082706761]]}}}