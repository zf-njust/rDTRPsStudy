{"error": null, "response": {"classes": [{"cls_lc": [[48, 0], [141, 9]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[49, 4], [61, 41]], "fn_var_ln": {"hook": [[61, 16], [61, 25]], "return_value": [[52, 16], [52, 30]]}, "fn_var_occur": {"hook": [["self", "hook", "DatadogHook"]], "return_value": [["m", "return_value", "Connection", "extra", "json", "dumps", "APP_KEY", "API_KEY", "API_HOST"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "hook", "DatadogHook"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDatadogHook.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"hook": "", "return_value": ""}, "variables_p": {"hook": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]], "return_value": [["str", 1.0000000000000002]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[65, 4], [69, 94]], "fn_var_ln": {"return_value": [[66, 8], [66, 40]]}, "fn_var_occur": {"return_value": [["mock_get_connection", "return_value", "Connection"]]}, "name": "test_api_key_required", "params": {"mock_get_connection": "", "mock_initialize": "", "self": ""}, "params_descr": {"mock_get_connection": "", "mock_initialize": "", "self": ""}, "params_occur": {"mock_get_connection": [["mock_get_connection", "return_value", "Connection"]], "mock_initialize": [], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_get_connection": [["mock.MagicMock", 0.20599187199167077]], "mock_initialize": [["mock.MagicMock", 0.12084213093268915], ["mock.Mock", 0.10156089264266528]], "self": []}, "q_name": "TestDatadogHook.test_api_key_required", "ret_exprs": [], "ret_type": "", "variables": {"return_value": ""}, "variables_p": {"return_value": [["str", 0.2604361665626643], ["int", 0.1914968371785965], ["List[Dict[str, Any]]", 0.12623080368784928], ["list", 0.08534104615198508]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[71, 4], [75, 59]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_validate_response_valid", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "hook", "validate_response"], ["self", "fail"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDatadogHook.test_validate_response_valid", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[77, 4], [79, 60]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_validate_response_invalid", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "hook", "validate_response"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDatadogHook.test_validate_response_invalid", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[82, 4], [98, 9]], "fn_var_ln": {"return_value": [[83, 8], [83, 30]]}, "fn_var_occur": {"return_value": [["mock_send", "return_value"]]}, "name": "test_send_metric", "params": {"mock_send": "", "self": ""}, "params_descr": {"mock_send": "", "self": ""}, "params_occur": {"mock_send": [["mock_send", "return_value"], ["mock_send", "assert_called_once_with", "metric", "METRIC_NAME", "points", "DATAPOINT", "host", "self", "hook", "host", "tags", "TAGS", "type", "TYPE", "interval", "INTERVAL"]], "self": [["self", "hook", "send_metric", "METRIC_NAME", "DATAPOINT", "tags", "TAGS", "type_", "TYPE", "interval", "INTERVAL"], ["mock_send", "assert_called_once_with", "metric", "METRIC_NAME", "points", "DATAPOINT", "host", "self", "hook", "host", "tags", "TAGS", "type", "TYPE", "interval", "INTERVAL"]]}, "params_p": {"args": [], "kwargs": [], "mock_send": [["mock.Mock", 0.19688656716388173]], "self": []}, "q_name": "TestDatadogHook.test_send_metric", "ret_exprs": [], "ret_type": "", "variables": {"return_value": ""}, "variables_p": {"return_value": [["Set[str]", 0.31968019372842504], ["str", 0.28974495331495453], ["list", 0.1978080233656786], ["int", 0.09819123429613609], ["List[str]", 0.09457559529480569]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[102, 4], [111, 9]], "fn_var_ln": {"now": [[103, 8], [103, 11]], "return_value": [[105, 8], [105, 31]]}, "fn_var_occur": {"now": [["mock_time", "return_value", "now"], ["mock_query", "assert_called_once_with", "start", "now", "end", "now", "query"]], "return_value": [["mock_time", "return_value", "now"], ["mock_query", "return_value"]]}, "name": "test_query_metric", "params": {"mock_query": "", "mock_time": "", "self": ""}, "params_descr": {"mock_query": "", "mock_time": "", "self": ""}, "params_occur": {"mock_query": [["mock_query", "return_value"], ["mock_query", "assert_called_once_with", "start", "now", "end", "now", "query"]], "mock_time": [["mock_time", "return_value", "now"]], "self": [["self", "hook", "query_metric"]]}, "params_p": {"args": [], "kwargs": [], "mock_query": [], "mock_time": [], "self": []}, "q_name": "TestDatadogHook.test_query_metric", "ret_exprs": [], "ret_type": "", "variables": {"now": "", "return_value": ""}, "variables_p": {"now": [["str", 0.1686681088257918], ["Tuple[List[str], Tuple[Literal, Literal], List[str]]", 0.15653916833261344], ["int", 0.15247531601837552], ["property", 0.10347854279316242], ["list", 0.0902940452189347], ["List[Dict[str, str]]", 0.08254056994317442]], "return_value": [["List[Dict[str, Any]]", 0.2072905961998391], ["Dict[str, Union[Any, Any, Any]]", 0.19967113831380753], ["Dict[str, Dict[str, Any]]", 0.19639120666320126], ["List[Dict[str, str]]", 0.1124340301418137], ["str", 0.09535429348063931], ["list", 0.09032971419613432]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[114, 4], [141, 9]], "fn_var_ln": {"return_value": [[115, 8], [115, 32]]}, "fn_var_occur": {"return_value": [["mock_create", "return_value"]]}, "name": "test_post_event", "params": {"mock_create": "", "self": ""}, "params_descr": {"mock_create": "", "self": ""}, "params_occur": {"mock_create": [["mock_create", "return_value"], ["mock_create", "assert_called_once_with", "title", "TITLE", "text", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "host", "self", "hook", "host", "device_name", "DEVICE_NAME", "source_type_name", "self", "hook", "source_type_name"]], "self": [["self", "hook", "post_event", "TITLE", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "device_name", "DEVICE_NAME"], ["mock_create", "assert_called_once_with", "title", "TITLE", "text", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "host", "self", "hook", "host", "device_name", "DEVICE_NAME", "source_type_name", "self", "hook", "source_type_name"]]}, "params_p": {"args": [], "kwargs": [], "mock_create": [], "self": []}, "q_name": "TestDatadogHook.test_post_event", "ret_exprs": [], "ret_type": "", "variables": {"return_value": ""}, "variables_p": {"return_value": [["Set[str]", 0.31968019372842504], ["str", 0.28974495331495453], ["list", 0.1978080233656786], ["int", 0.09819123429613609], ["List[str]", 0.09457559529480569]]}}], "name": "TestDatadogHook", "q_name": "TestDatadogHook", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "json", "unittest", "mock", "pytest", "airflow", "exceptions", "AirflowException", "airflow", "models", "Connection", "airflow", "providers", "datadog", "hooks", "datadog", "DatadogHook"], "mod_var_ln": {"AGGREGATION_KEY": [[39, 0], [39, 15]], "ALERT_TYPE": [[40, 0], [40, 10]], "API_HOST": [[31, 0], [31, 8]], "API_KEY": [[30, 0], [30, 7]], "APP_KEY": [[29, 0], [29, 7]], "DATAPOINT": [[33, 0], [33, 9]], "DATE_HAPPENED": [[41, 0], [41, 13]], "DEVICE_NAME": [[45, 0], [45, 11]], "HANDLE": [[42, 0], [42, 6]], "INTERVAL": [[36, 0], [36, 8]], "METRIC_NAME": [[32, 0], [32, 11]], "PRIORITY": [[43, 0], [43, 8]], "RELATED_EVENT_ID": [[44, 0], [44, 16]], "TAGS": [[34, 0], [34, 4]], "TEXT": [[38, 0], [38, 4]], "TITLE": [[37, 0], [37, 5]], "TYPE": [[35, 0], [35, 4]]}, "mod_var_occur": {"AGGREGATION_KEY": [["self", "hook", "post_event", "TITLE", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "device_name", "DEVICE_NAME"], ["mock_create", "assert_called_once_with", "title", "TITLE", "text", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "host", "self", "hook", "host", "device_name", "DEVICE_NAME", "source_type_name", "self", "hook", "source_type_name"]], "ALERT_TYPE": [["self", "hook", "post_event", "TITLE", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "device_name", "DEVICE_NAME"], ["mock_create", "assert_called_once_with", "title", "TITLE", "text", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "host", "self", "hook", "host", "device_name", "DEVICE_NAME", "source_type_name", "self", "hook", "source_type_name"]], "API_HOST": [["m", "return_value", "Connection", "extra", "json", "dumps", "APP_KEY", "API_KEY", "API_HOST"]], "API_KEY": [["m", "return_value", "Connection", "extra", "json", "dumps", "APP_KEY", "API_KEY", "API_HOST"]], "APP_KEY": [["m", "return_value", "Connection", "extra", "json", "dumps", "APP_KEY", "API_KEY", "API_HOST"]], "DATAPOINT": [["self", "hook", "send_metric", "METRIC_NAME", "DATAPOINT", "tags", "TAGS", "type_", "TYPE", "interval", "INTERVAL"], ["mock_send", "assert_called_once_with", "metric", "METRIC_NAME", "points", "DATAPOINT", "host", "self", "hook", "host", "tags", "TAGS", "type", "TYPE", "interval", "INTERVAL"]], "DATE_HAPPENED": [["self", "hook", "post_event", "TITLE", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "device_name", "DEVICE_NAME"], ["mock_create", "assert_called_once_with", "title", "TITLE", "text", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "host", "self", "hook", "host", "device_name", "DEVICE_NAME", "source_type_name", "self", "hook", "source_type_name"]], "DEVICE_NAME": [["self", "hook", "post_event", "TITLE", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "device_name", "DEVICE_NAME"], ["mock_create", "assert_called_once_with", "title", "TITLE", "text", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "host", "self", "hook", "host", "device_name", "DEVICE_NAME", "source_type_name", "self", "hook", "source_type_name"]], "HANDLE": [["self", "hook", "post_event", "TITLE", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "device_name", "DEVICE_NAME"], ["mock_create", "assert_called_once_with", "title", "TITLE", "text", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "host", "self", "hook", "host", "device_name", "DEVICE_NAME", "source_type_name", "self", "hook", "source_type_name"]], "INTERVAL": [["self", "hook", "send_metric", "METRIC_NAME", "DATAPOINT", "tags", "TAGS", "type_", "TYPE", "interval", "INTERVAL"], ["mock_send", "assert_called_once_with", "metric", "METRIC_NAME", "points", "DATAPOINT", "host", "self", "hook", "host", "tags", "TAGS", "type", "TYPE", "interval", "INTERVAL"]], "METRIC_NAME": [["self", "hook", "send_metric", "METRIC_NAME", "DATAPOINT", "tags", "TAGS", "type_", "TYPE", "interval", "INTERVAL"], ["mock_send", "assert_called_once_with", "metric", "METRIC_NAME", "points", "DATAPOINT", "host", "self", "hook", "host", "tags", "TAGS", "type", "TYPE", "interval", "INTERVAL"]], "PRIORITY": [["self", "hook", "post_event", "TITLE", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "device_name", "DEVICE_NAME"], ["mock_create", "assert_called_once_with", "title", "TITLE", "text", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "host", "self", "hook", "host", "device_name", "DEVICE_NAME", "source_type_name", "self", "hook", "source_type_name"]], "RELATED_EVENT_ID": [["self", "hook", "post_event", "TITLE", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "device_name", "DEVICE_NAME"], ["mock_create", "assert_called_once_with", "title", "TITLE", "text", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "host", "self", "hook", "host", "device_name", "DEVICE_NAME", "source_type_name", "self", "hook", "source_type_name"]], "TAGS": [["self", "hook", "send_metric", "METRIC_NAME", "DATAPOINT", "tags", "TAGS", "type_", "TYPE", "interval", "INTERVAL"], ["mock_send", "assert_called_once_with", "metric", "METRIC_NAME", "points", "DATAPOINT", "host", "self", "hook", "host", "tags", "TAGS", "type", "TYPE", "interval", "INTERVAL"], ["self", "hook", "post_event", "TITLE", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "device_name", "DEVICE_NAME"], ["mock_create", "assert_called_once_with", "title", "TITLE", "text", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "host", "self", "hook", "host", "device_name", "DEVICE_NAME", "source_type_name", "self", "hook", "source_type_name"]], "TEXT": [["self", "hook", "post_event", "TITLE", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "device_name", "DEVICE_NAME"], ["mock_create", "assert_called_once_with", "title", "TITLE", "text", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "host", "self", "hook", "host", "device_name", "DEVICE_NAME", "source_type_name", "self", "hook", "source_type_name"]], "TITLE": [["self", "hook", "post_event", "TITLE", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "device_name", "DEVICE_NAME"], ["mock_create", "assert_called_once_with", "title", "TITLE", "text", "TEXT", "aggregation_key", "AGGREGATION_KEY", "alert_type", "ALERT_TYPE", "date_happened", "DATE_HAPPENED", "handle", "HANDLE", "priority", "PRIORITY", "related_event_id", "RELATED_EVENT_ID", "tags", "TAGS", "host", "self", "hook", "host", "device_name", "DEVICE_NAME", "source_type_name", "self", "hook", "source_type_name"]], "TYPE": [["self", "hook", "send_metric", "METRIC_NAME", "DATAPOINT", "tags", "TAGS", "type_", "TYPE", "interval", "INTERVAL"], ["mock_send", "assert_called_once_with", "metric", "METRIC_NAME", "points", "DATAPOINT", "host", "self", "hook", "host", "tags", "TAGS", "type", "TYPE", "interval", "INTERVAL"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 37}, "session_id": "90yUZsXXNOpRxXOM_nsyeJdCML9tBSdn3iBxLgGUvoE", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"AGGREGATION_KEY": "", "ALERT_TYPE": "", "API_HOST": "", "API_KEY": "", "APP_KEY": "", "DATAPOINT": "", "DATE_HAPPENED": "", "DEVICE_NAME": "", "HANDLE": "", "INTERVAL": "", "METRIC_NAME": "", "PRIORITY": "", "RELATED_EVENT_ID": "", "TAGS": "", "TEXT": "", "TITLE": "", "TYPE": ""}, "variables_p": {"AGGREGATION_KEY": [["str", 1.0]], "ALERT_TYPE": [["str", 1.0]], "API_HOST": [["str", 0.9038213263128987], ["bool", 0.09617867368710127]], "API_KEY": [["str", 0.8809033835032007], ["Optional[str]", 0.11909661649679933]], "APP_KEY": [["str", 0.9009429367998053], ["List[Pattern[Any]]", 0.09905706320019482]], "DATAPOINT": [["dict", 0.28241401754358464], ["int", 0.2224103479841215], ["Tuple[Type[object]]", 0.10650614505789005], ["str", 0.09306661161557597]], "DATE_HAPPENED": [["str", 0.9999999999999999]], "DEVICE_NAME": [["str", 1.0]], "HANDLE": [["str", 0.8090263892113283], ["List[int]", 0.09659900190245674], ["Optional[str]", 0.09437460888621524]], "INTERVAL": [["dict", 0.28241401754358464], ["int", 0.2224103479841215], ["Tuple[Type[object]]", 0.10650614505789005], ["str", 0.09306661161557597]], "METRIC_NAME": [["str", 0.7885433434567604], ["list", 0.10877438461705081], ["Set[str]", 0.10268227192618883]], "PRIORITY": [["str", 0.8090263892113283], ["List[int]", 0.09659900190245674], ["Optional[str]", 0.09437460888621524]], "RELATED_EVENT_ID": [["str", 0.8843115484622444], ["int", 0.11568845153775557]], "TAGS": [["List[int]", 0.19164459721930258], ["int", 0.10400400550082867], ["str", 0.10032508514272913], ["Dict[str, Tuple[str, str]]", 0.09799461732730806], ["List[str]", 0.09582229860965129], ["Type[str]", 0.09495181733099815]], "TEXT": [["str", 1.0000000000000002]], "TITLE": [["str", 0.8090263892113283], ["List[int]", 0.09659900190245674], ["Optional[str]", 0.09437460888621524]], "TYPE": [["str", 0.4806679261247436], ["list", 0.11013188955991679], ["Type[Callable[..., Any]]", 0.10930955837363453], ["Set[str]", 0.10561871384628235], ["Tuple[str]", 0.10069143377334262]]}}}