{"error": null, "response": {"classes": [{"cls_lc": [[66, 0], [363, 39]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[68, 4], [101, 59]], "fn_var_ln": {"_": [[87, 43], [87, 44]], "aci": [[75, 8], [75, 11]], "called_cg": [[87, 31], [87, 40]], "called_cg_container": [[97, 8], [97, 27]], "called_cn": [[87, 20], [87, 29]], "called_rg": [[87, 9], [87, 18]], "expected_c_state": [[69, 8], [69, 24]], "expected_cg": [[70, 8], [70, 19]]}, "fn_var_occur": {"_": [["called_rg", "called_cn", "called_cg", "_", "aci_mock", "return_value", "create_or_update", "call_args"]], "aci": [["aci", "AzureContainerInstancesOperator", "ci_conn_id", "None", "registry_conn_id", "None", "resource_group", "name", "image", "region", "task_id"], ["aci", "execute", "None"]], "called_cg": [["called_rg", "called_cn", "called_cg", "_", "aci_mock", "return_value", "create_or_update", "call_args"], ["called_cg", "location"], ["called_cg", "image_registry_credentials", "None"], ["called_cg", "restart_policy"], ["called_cg", "os_type"], ["called_cg_container", "called_cg", "containers"]], "called_cg_container": [["called_cg_container", "called_cg", "containers"], ["called_cg_container", "name"], ["called_cg_container", "image"]], "called_cn": [["called_rg", "called_cn", "called_cg", "_", "aci_mock", "return_value", "create_or_update", "call_args"]], "called_rg": [["called_rg", "called_cn", "called_cg", "_", "aci_mock", "return_value", "create_or_update", "call_args"]], "expected_c_state": [["expected_c_state", "ContainerState", "state", "exit_code", "detail_status"], ["expected_cg", "make_mock_cg", "expected_c_state"]], "expected_cg": [["expected_cg", "make_mock_cg", "expected_c_state"], ["aci_mock", "return_value", "get_state", "return_value", "expected_cg"]]}, "name": "test_execute", "params": {"aci_mock": "", "self": ""}, "params_descr": {"aci_mock": "", "self": ""}, "params_occur": {"aci_mock": [["aci_mock", "return_value", "get_state", "return_value", "expected_cg"], ["aci_mock", "return_value", "exists", "return_value", "False"], ["aci_mock", "return_value", "create_or_update", "call_count"], ["called_rg", "called_cn", "called_cg", "_", "aci_mock", "return_value", "create_or_update", "call_args"], ["aci_mock", "return_value", "delete", "call_count"]], "self": []}, "params_p": {"aci_mock": [["unittesmock.MagicMock", 0.2934461719445798]], "args": [], "kwargs": [], "self": []}, "q_name": "TestACIOperator.test_execute", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "aci": "", "called_cg": "", "called_cg_container": "", "called_cn": "", "called_rg": "", "expected_c_state": "", "expected_cg": ""}, "variables_p": {"_": [["Dict[int, Dict[str, Any]]", 0.3396862956566309], ["Tuple[Literal, Literal, Literal]", 0.2500910014778149], ["str", 0.2033446046446186], ["unittesmock.MagicMock", 0.0775223490735304], ["list", 0.06555765496337598]], "aci": [["str", 0.29460694506120727], ["int", 0.09750037077084046]], "called_cg": [["list", 0.45692255926208825], ["int", 0.14596520674119676], ["List[Union[Any, Any, Any]]", 0.09902475964690187], ["List[Tuple[Any, str]]", 0.09532860887270925]], "called_cg_container": [["str", 0.2894362706782184], ["dict", 0.07957759391300452]], "called_cn": [["list", 0.34462214881909015], ["List[float]", 0.1727743452896037], ["float", 0.08882647563154386]], "called_rg": [["list", 0.34462214881909015], ["List[float]", 0.1727743452896037], ["float", 0.08882647563154386]], "expected_c_state": [["str", 0.495493648511398], ["int", 0.09205368815347423], ["List[int]", 0.0896547642009346]], "expected_cg": [["int", 0.2382197412026961], ["Type[tuple]", 0.16770789722204352], ["bytes", 0.13493154801321566], ["str", 0.09263694308887474], ["asyncio.locks.Event", 0.08797569328149947]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[104, 4], [123, 59]], "fn_var_ln": {"aci": [[111, 8], [111, 11]], "expected_c_state": [[105, 8], [105, 24]], "expected_cg": [[106, 8], [106, 19]]}, "fn_var_occur": {"aci": [["aci", "AzureContainerInstancesOperator", "ci_conn_id", "None", "registry_conn_id", "None", "resource_group", "name", "image", "region", "task_id"], ["aci", "execute", "None"]], "expected_c_state": [["expected_c_state", "ContainerState", "state", "exit_code", "detail_status"], ["expected_cg", "make_mock_cg", "expected_c_state"]], "expected_cg": [["expected_cg", "make_mock_cg", "expected_c_state"], ["aci_mock", "return_value", "get_state", "return_value", "expected_cg"]]}, "name": "test_execute_with_failures", "params": {"aci_mock": "", "self": ""}, "params_descr": {"aci_mock": "", "self": ""}, "params_occur": {"aci_mock": [["aci_mock", "return_value", "get_state", "return_value", "expected_cg"], ["aci_mock", "return_value", "exists", "return_value", "False"], ["aci_mock", "return_value", "delete", "call_count"]], "self": []}, "params_p": {"aci_mock": [["unittesmock.MagicMock", 0.2934461719445798]], "args": [], "kwargs": [], "self": []}, "q_name": "TestACIOperator.test_execute_with_failures", "ret_exprs": [], "ret_type": "", "variables": {"aci": "", "expected_c_state": "", "expected_cg": ""}, "variables_p": {"aci": [["str", 0.29460694506120727], ["int", 0.09750037077084046]], "expected_c_state": [["str", 0.495493648511398], ["int", 0.09205368815347423], ["List[int]", 0.0896547642009346]], "expected_cg": [["int", 0.2382197412026961], ["Type[tuple]", 0.16770789722204352], ["bytes", 0.13493154801321566], ["str", 0.09263694308887474], ["asyncio.locks.Event", 0.08797569328149947]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[126, 4], [162, 59]], "fn_var_ln": {"_": [[147, 43], [147, 44]], "aci": [[134, 8], [134, 11]], "called_cg": [[147, 31], [147, 40]], "called_cg_container": [[158, 8], [158, 27]], "called_cn": [[147, 20], [147, 29]], "called_rg": [[147, 9], [147, 18]], "expected_c_state": [[127, 8], [127, 24]], "expected_cg": [[128, 8], [128, 19]], "tags": [[129, 8], [129, 12]]}, "fn_var_occur": {"_": [["called_rg", "called_cn", "called_cg", "_", "aci_mock", "return_value", "create_or_update", "call_args"]], "aci": [["aci", "AzureContainerInstancesOperator", "ci_conn_id", "None", "registry_conn_id", "None", "resource_group", "name", "image", "region", "task_id", "tags", "tags"], ["aci", "execute", "None"]], "called_cg": [["called_rg", "called_cn", "called_cg", "_", "aci_mock", "return_value", "create_or_update", "call_args"], ["called_cg", "location"], ["called_cg", "image_registry_credentials", "None"], ["called_cg", "restart_policy"], ["called_cg", "os_type"], ["called_cg", "tags", "tags"], ["called_cg_container", "called_cg", "containers"]], "called_cg_container": [["called_cg_container", "called_cg", "containers"], ["called_cg_container", "name"], ["called_cg_container", "image"]], "called_cn": [["called_rg", "called_cn", "called_cg", "_", "aci_mock", "return_value", "create_or_update", "call_args"]], "called_rg": [["called_rg", "called_cn", "called_cg", "_", "aci_mock", "return_value", "create_or_update", "call_args"]], "expected_c_state": [["expected_c_state", "ContainerState", "state", "exit_code", "detail_status"], ["expected_cg", "make_mock_cg", "expected_c_state"]], "expected_cg": [["expected_cg", "make_mock_cg", "expected_c_state"], ["aci_mock", "return_value", "get_state", "return_value", "expected_cg"]], "tags": [["aci", "AzureContainerInstancesOperator", "ci_conn_id", "None", "registry_conn_id", "None", "resource_group", "name", "image", "region", "task_id", "tags", "tags"], ["called_cg", "tags", "tags"]]}, "name": "test_execute_with_tags", "params": {"aci_mock": "", "self": ""}, "params_descr": {"aci_mock": "", "self": ""}, "params_occur": {"aci_mock": [["aci_mock", "return_value", "get_state", "return_value", "expected_cg"], ["aci_mock", "return_value", "exists", "return_value", "False"], ["aci_mock", "return_value", "create_or_update", "call_count"], ["called_rg", "called_cn", "called_cg", "_", "aci_mock", "return_value", "create_or_update", "call_args"], ["aci_mock", "return_value", "delete", "call_count"]], "self": []}, "params_p": {"aci_mock": [["unittesmock.MagicMock", 0.29255870384749627]], "args": [], "kwargs": [], "self": []}, "q_name": "TestACIOperator.test_execute_with_tags", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "aci": "", "called_cg": "", "called_cg_container": "", "called_cn": "", "called_rg": "", "expected_c_state": "", "expected_cg": "", "tags": ""}, "variables_p": {"_": [["Dict[int, Dict[str, Any]]", 0.3396862956566309], ["Tuple[Literal, Literal, Literal]", 0.2500910014778149], ["str", 0.2033446046446186], ["unittesmock.MagicMock", 0.0775223490735304], ["list", 0.06555765496337598]], "aci": [["bool", 0.10243059336870389]], "called_cg": [["list", 0.45692255926208825], ["int", 0.14596520674119676], ["List[Union[Any, Any, Any]]", 0.09902475964690187], ["List[Tuple[Any, str]]", 0.09532860887270925]], "called_cg_container": [["str", 0.2894362706782184], ["dict", 0.07957759391300452]], "called_cn": [["list", 0.34462214881909015], ["List[float]", 0.1727743452896037], ["float", 0.08882647563154386]], "called_rg": [["list", 0.34462214881909015], ["List[float]", 0.1727743452896037], ["float", 0.08882647563154386]], "expected_c_state": [["str", 0.495493648511398], ["int", 0.09205368815347423], ["List[int]", 0.0896547642009346]], "expected_cg": [["int", 0.2382197412026961], ["Type[tuple]", 0.16770789722204352], ["bytes", 0.13493154801321566], ["str", 0.09263694308887474], ["asyncio.locks.Event", 0.08797569328149947]], "tags": [["str", 0.19891464709072454], ["List[Union[Any, Any, Any, Any]]", 0.12140391337508999], ["list", 0.10554755703158346], ["int", 0.10046618840979102], ["dict", 0.09324537219471654]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[165, 4], [193, 59]], "fn_var_ln": {"aci": [[178, 8], [178, 11]], "events": [[166, 8], [166, 14]], "expected_c_state1": [[167, 8], [167, 25]], "expected_c_state2": [[169, 8], [169, 25]], "expected_c_state3": [[171, 8], [171, 25]], "expected_cg1": [[168, 8], [168, 20]], "expected_cg2": [[170, 8], [170, 20]], "expected_cg3": [[172, 8], [172, 20]]}, "fn_var_occur": {"aci": [["aci", "AzureContainerInstancesOperator", "ci_conn_id", "None", "registry_conn_id", "None", "resource_group", "name", "image", "region", "task_id"], ["aci", "execute", "None"]], "events": [["events", "Event", "message", "Event", "message"], ["expected_cg1", "make_mock_cg", "expected_c_state1", "events"], ["expected_cg2", "make_mock_cg", "expected_c_state2", "events"], ["expected_cg3", "make_mock_cg", "expected_c_state3", "events"]], "expected_c_state1": [["expected_c_state1", "ContainerState", "state", "exit_code", "detail_status"], ["expected_cg1", "make_mock_cg", "expected_c_state1", "events"]], "expected_c_state2": [["expected_c_state2", "ContainerState", "state", "exit_code", "detail_status"], ["expected_cg2", "make_mock_cg", "expected_c_state2", "events"]], "expected_c_state3": [["expected_c_state3", "ContainerState", "state", "exit_code", "detail_status"], ["expected_cg3", "make_mock_cg", "expected_c_state3", "events"]], "expected_cg1": [["expected_cg1", "make_mock_cg", "expected_c_state1", "events"], ["aci_mock", "return_value", "get_state", "side_effect", "expected_cg1", "expected_cg2", "expected_cg3"]], "expected_cg2": [["expected_cg2", "make_mock_cg", "expected_c_state2", "events"], ["aci_mock", "return_value", "get_state", "side_effect", "expected_cg1", "expected_cg2", "expected_cg3"]], "expected_cg3": [["expected_cg3", "make_mock_cg", "expected_c_state3", "events"], ["aci_mock", "return_value", "get_state", "side_effect", "expected_cg1", "expected_cg2", "expected_cg3"]]}, "name": "test_execute_with_messages_logs", "params": {"aci_mock": "", "self": ""}, "params_descr": {"aci_mock": "", "self": ""}, "params_occur": {"aci_mock": [["aci_mock", "return_value", "get_state", "side_effect", "expected_cg1", "expected_cg2", "expected_cg3"], ["aci_mock", "return_value", "get_logs", "return_value"], ["aci_mock", "return_value", "exists", "return_value", "False"], ["aci_mock", "return_value", "create_or_update", "call_count"], ["aci_mock", "return_value", "get_state", "call_count"], ["aci_mock", "return_value", "get_logs", "call_count"], ["aci_mock", "return_value", "delete", "call_count"]], "self": []}, "params_p": {"aci_mock": [["unittesmock.MagicMock", 0.6040005132327343]], "args": [], "kwargs": [], "self": []}, "q_name": "TestACIOperator.test_execute_with_messages_logs", "ret_exprs": [], "ret_type": "", "variables": {"aci": "", "events": "", "expected_c_state1": "", "expected_c_state2": "", "expected_c_state3": "", "expected_cg1": "", "expected_cg2": "", "expected_cg3": ""}, "variables_p": {"aci": [["str", 0.29460694506120727], ["int", 0.09750037077084046]], "events": [["dict", 0.16456707001405618], ["legistar.models.Event", 0.0989793944847455], ["homeassistancore.Event", 0.09486584848824636], ["List[str]", 0.09250895894638524], ["Dict[str, Any]", 0.08440113315375097], ["asyncio.locks.Event", 0.07943177516974381]], "expected_c_state1": [["str", 0.5012766421947585], ["int", 0.11536390472139436], ["List[int]", 0.09204732002874749]], "expected_c_state2": [["str", 0.5012766421947585], ["int", 0.11536390472139436], ["List[int]", 0.09204732002874749]], "expected_c_state3": [["str", 0.5012766421947585], ["int", 0.11536390472139436], ["List[int]", 0.09204732002874749]], "expected_cg1": [["list", 0.18594515132304573], ["Dict[str, Any]", 0.1122115289982477], ["int", 0.09879178253756345], ["Dict[str, Type[Any]]", 0.09319565663979087]], "expected_cg2": [["list", 0.18594515132304573], ["Dict[str, Any]", 0.1122115289982477], ["int", 0.09879178253756345], ["Dict[str, Type[Any]]", 0.09319565663979087]], "expected_cg3": [["list", 0.18594515132304573], ["Dict[str, Any]", 0.1122115289982477], ["int", 0.09879178253756345], ["Dict[str, Type[Any]]", 0.09319565663979087]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[195, 4], [210, 39]], "fn_var_ln": {"checked_name": [[209, 12], [209, 24]], "invalid_names": [[198, 8], [198, 21]], "valid_names": [[196, 8], [196, 19]]}, "fn_var_occur": {"checked_name": [["checked_name", "AzureContainerInstancesOperator", "_check_name", "name"], ["checked_name", "name"]], "invalid_names": [], "valid_names": []}, "name": "test_name_checker", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestACIOperator.test_name_checker", "ret_exprs": [], "ret_type": "", "variables": {"checked_name": "", "invalid_names": "", "valid_names": ""}, "variables_p": {"checked_name": [["str", 0.7993534643887394], ["set", 0.11444822886033813], ["Tuple[str, str, str, str, str, str, str, str, str, str, str, str, str, str, str]", 0.08619830675092248]], "invalid_names": [["str", 0.7], ["Optional[str]", 0.2], ["List[str]", 0.1]], "valid_names": [["str", 1.0]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[213, 4], [235, 48]], "fn_var_ln": {"_": [[233, 12], [233, 13]], "aci": [[221, 8], [221, 11]], "called_cg": [[233, 15], [233, 24]], "expected_c_state": [[214, 8], [214, 24]], "expected_cg": [[215, 8], [215, 19]], "ipaddress": [[216, 8], [216, 17]]}, "fn_var_occur": {"_": [["_", "_", "called_cg", "_", "aci_mock", "return_value", "create_or_update", "call_args"]], "aci": [["aci", "AzureContainerInstancesOperator", "ci_conn_id", "None", "registry_conn_id", "None", "resource_group", "name", "image", "region", "task_id", "ip_address", "ipaddress"], ["aci", "execute", "None"]], "called_cg": [["_", "_", "called_cg", "_", "aci_mock", "return_value", "create_or_update", "call_args"], ["called_cg", "ip_address", "ipaddress"]], "expected_c_state": [["expected_c_state", "ContainerState", "state", "exit_code", "detail_status"], ["expected_cg", "make_mock_cg", "expected_c_state"]], "expected_cg": [["expected_cg", "make_mock_cg", "expected_c_state"], ["aci_mock", "return_value", "get_state", "return_value", "expected_cg"]], "ipaddress": [["ipaddress", "MagicMock"], ["aci", "AzureContainerInstancesOperator", "ci_conn_id", "None", "registry_conn_id", "None", "resource_group", "name", "image", "region", "task_id", "ip_address", "ipaddress"], ["called_cg", "ip_address", "ipaddress"]]}, "name": "test_execute_with_ipaddress", "params": {"aci_mock": "", "self": ""}, "params_descr": {"aci_mock": "", "self": ""}, "params_occur": {"aci_mock": [["aci_mock", "return_value", "get_state", "return_value", "expected_cg"], ["aci_mock", "return_value", "exists", "return_value", "False"], ["aci_mock", "return_value", "create_or_update", "call_count"], ["_", "_", "called_cg", "_", "aci_mock", "return_value", "create_or_update", "call_args"]], "self": []}, "params_p": {"aci_mock": [["unittesmock.MagicMock", 0.2934461719445798]], "args": [], "kwargs": [], "self": []}, "q_name": "TestACIOperator.test_execute_with_ipaddress", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "aci": "", "called_cg": "", "expected_c_state": "", "expected_cg": "", "ipaddress": ""}, "variables_p": {"_": [["unittesmock.MagicMock", 0.22893364285991996], ["Tuple[List[str], Tuple[Literal, Literal], List[str]]", 0.16514367072334202], ["property", 0.09287414825187204], ["List[str]", 0.08117284721107504]], "aci": [["str", 0.29460694506120727], ["int", 0.09750037077084046]], "called_cg": [["list", 0.4776414467759147], ["mock._Call", 0.13137174041997654], ["Tuple[Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal]", 0.11245366076916671], ["List[int]", 0.09614512130778675], ["float", 0.09470667691535674]], "expected_c_state": [["str", 0.495493648511398], ["int", 0.09205368815347423], ["List[int]", 0.0896547642009346]], "expected_cg": [["int", 0.2382197412026961], ["Type[tuple]", 0.16770789722204352], ["bytes", 0.13493154801321566], ["str", 0.09263694308887474], ["asyncio.locks.Event", 0.08797569328149947]], "ipaddress": [["mock.Mock", 0.689100861782889]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[238, 4], [261, 45]], "fn_var_ln": {"_": [[258, 12], [258, 13]], "aci": [[245, 8], [245, 11]], "called_cg": [[258, 15], [258, 24]], "expected_c_state": [[239, 8], [239, 24]], "expected_cg": [[240, 8], [240, 19]]}, "fn_var_occur": {"_": [["_", "_", "called_cg", "_", "aci_mock", "return_value", "create_or_update", "call_args"]], "aci": [["aci", "AzureContainerInstancesOperator", "ci_conn_id", "None", "registry_conn_id", "None", "resource_group", "name", "image", "region", "task_id", "restart_policy", "os_type"], ["aci", "execute", "None"]], "called_cg": [["_", "_", "called_cg", "_", "aci_mock", "return_value", "create_or_update", "call_args"], ["called_cg", "restart_policy"], ["called_cg", "os_type"]], "expected_c_state": [["expected_c_state", "ContainerState", "state", "exit_code", "detail_status"], ["expected_cg", "make_mock_cg", "expected_c_state"]], "expected_cg": [["expected_cg", "make_mock_cg", "expected_c_state"], ["aci_mock", "return_value", "get_state", "return_value", "expected_cg"]]}, "name": "test_execute_with_windows_os_and_diff_restart_policy", "params": {"aci_mock": "", "self": ""}, "params_descr": {"aci_mock": "", "self": ""}, "params_occur": {"aci_mock": [["aci_mock", "return_value", "get_state", "return_value", "expected_cg"], ["aci_mock", "return_value", "exists", "return_value", "False"], ["aci_mock", "return_value", "create_or_update", "call_count"], ["_", "_", "called_cg", "_", "aci_mock", "return_value", "create_or_update", "call_args"]], "self": []}, "params_p": {"aci_mock": [["unittesmock.MagicMock", 0.2926048861644246]], "args": [], "kwargs": [], "self": []}, "q_name": "TestACIOperator.test_execute_with_windows_os_and_diff_restart_policy", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "aci": "", "called_cg": "", "expected_c_state": "", "expected_cg": ""}, "variables_p": {"_": [["unittesmock.MagicMock", 0.22893364285991996], ["Tuple[List[str], Tuple[Literal, Literal], List[str]]", 0.16514367072334202], ["property", 0.09287414825187204], ["List[str]", 0.08117284721107504]], "aci": [["str", 0.29460694506120727], ["int", 0.09750037077084046]], "called_cg": [["list", 0.4704299090257589], ["mock._Call", 0.13002890773308723], ["Tuple[Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal, Literal]", 0.11619964463760708], ["List[int]", 0.09870972848410307], ["float", 0.09340996581801536], ["List[Tuple[str, str, bytes]]", 0.09122184430142849]], "expected_c_state": [["str", 0.495493648511398], ["int", 0.09205368815347423], ["List[int]", 0.0896547642009346]], "expected_cg": [["int", 0.2382197412026961], ["Type[tuple]", 0.16770789722204352], ["bytes", 0.13493154801321566], ["str", 0.09263694308887474], ["asyncio.locks.Event", 0.08797569328149947]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[264, 4], [287, 9]], "fn_var_ln": {"expected_c_state": [[265, 8], [265, 24]], "expected_cg": [[266, 8], [266, 19]]}, "fn_var_occur": {"expected_c_state": [["expected_c_state", "ContainerState", "state", "exit_code", "detail_status"], ["expected_cg", "make_mock_cg", "expected_c_state"]], "expected_cg": [["expected_cg", "make_mock_cg", "expected_c_state"], ["aci_mock", "return_value", "get_state", "return_value", "expected_cg"]]}, "name": "test_execute_fails_with_incorrect_os_type", "params": {"aci_mock": "", "self": ""}, "params_descr": {"aci_mock": "", "self": ""}, "params_occur": {"aci_mock": [["aci_mock", "return_value", "get_state", "return_value", "expected_cg"], ["aci_mock", "return_value", "exists", "return_value", "False"]], "self": []}, "params_p": {"aci_mock": [["unittesmock.MagicMock", 0.5951622267631356]], "args": [], "kwargs": [], "self": []}, "q_name": "TestACIOperator.test_execute_fails_with_incorrect_os_type", "ret_exprs": [], "ret_type": "", "variables": {"expected_c_state": "", "expected_cg": ""}, "variables_p": {"expected_c_state": [["str", 0.495493648511398], ["int", 0.09205368815347423], ["List[int]", 0.0896547642009346]], "expected_cg": [["int", 0.2382197412026961], ["Type[tuple]", 0.16770789722204352], ["bytes", 0.13493154801321566], ["str", 0.09263694308887474], ["asyncio.locks.Event", 0.08797569328149947]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[290, 4], [313, 9]], "fn_var_ln": {"expected_c_state": [[291, 8], [291, 24]], "expected_cg": [[292, 8], [292, 19]]}, "fn_var_occur": {"expected_c_state": [["expected_c_state", "ContainerState", "state", "exit_code", "detail_status"], ["expected_cg", "make_mock_cg", "expected_c_state"]], "expected_cg": [["expected_cg", "make_mock_cg", "expected_c_state"], ["aci_mock", "return_value", "get_state", "return_value", "expected_cg"]]}, "name": "test_execute_fails_with_incorrect_restart_policy", "params": {"aci_mock": "", "self": ""}, "params_descr": {"aci_mock": "", "self": ""}, "params_occur": {"aci_mock": [["aci_mock", "return_value", "get_state", "return_value", "expected_cg"], ["aci_mock", "return_value", "exists", "return_value", "False"]], "self": []}, "params_p": {"aci_mock": [["unittesmock.MagicMock", 0.5719430062530301]], "args": [], "kwargs": [], "self": []}, "q_name": "TestACIOperator.test_execute_fails_with_incorrect_restart_policy", "ret_exprs": [], "ret_type": "", "variables": {"expected_c_state": "", "expected_cg": ""}, "variables_p": {"expected_c_state": [["str", 0.495493648511398], ["int", 0.09205368815347423], ["List[int]", 0.0896547642009346]], "expected_cg": [["int", 0.2382197412026961], ["Type[tuple]", 0.16770789722204352], ["bytes", 0.13493154801321566], ["str", 0.09263694308887474], ["asyncio.locks.Event", 0.08797569328149947]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[317, 4], [338, 41]], "fn_var_ln": {"aci": [[326, 8], [326, 11]], "expected_c_state1": [[318, 8], [318, 25]], "expected_c_state2": [[320, 8], [320, 25]], "expected_cg1": [[319, 8], [319, 20]], "expected_cg2": [[321, 8], [321, 20]]}, "fn_var_occur": {"aci": [["aci", "AzureContainerInstancesOperator", "ci_conn_id", "None", "registry_conn_id", "None", "resource_group", "name", "image", "region", "task_id"], ["aci", "execute", "None"]], "expected_c_state1": [["expected_c_state1", "ContainerState", "state", "exit_code", "detail_status"], ["expected_cg1", "make_mock_cg", "expected_c_state1"]], "expected_c_state2": [["expected_c_state2", "ContainerState", "state", "exit_code", "detail_status"], ["expected_cg2", "make_mock_cg", "expected_c_state2"]], "expected_cg1": [["expected_cg1", "make_mock_cg", "expected_c_state1"], ["aci_mock", "return_value", "get_state", "side_effect", "expected_cg1", "expected_cg1", "expected_cg2"]], "expected_cg2": [["expected_cg2", "make_mock_cg", "expected_c_state2"], ["aci_mock", "return_value", "get_state", "side_effect", "expected_cg1", "expected_cg1", "expected_cg2"]]}, "name": "test_execute_correct_sleep_cycle", "params": {"aci_mock": "", "self": "", "sleep_mock": ""}, "params_descr": {"aci_mock": "", "self": "", "sleep_mock": ""}, "params_occur": {"aci_mock": [["aci_mock", "return_value", "get_state", "side_effect", "expected_cg1", "expected_cg1", "expected_cg2"], ["aci_mock", "return_value", "exists", "return_value", "False"]], "self": [], "sleep_mock": [["sleep_mock", "call_count"]]}, "params_p": {"aci_mock": [["unittesmock.MagicMock", 0.5814991385889062]], "args": [], "kwargs": [], "self": [], "sleep_mock": [["unittesmock.MagicMock", 0.07491173502055486]]}, "q_name": "TestACIOperator.test_execute_correct_sleep_cycle", "ret_exprs": [], "ret_type": "", "variables": {"aci": "", "expected_c_state1": "", "expected_c_state2": "", "expected_cg1": "", "expected_cg2": ""}, "variables_p": {"aci": [["str", 0.29460694506120727], ["int", 0.09750037077084046]], "expected_c_state1": [["str", 0.495493648511398], ["int", 0.09205368815347423], ["List[int]", 0.0896547642009346]], "expected_c_state2": [["str", 0.495493648511398], ["int", 0.09205368815347423], ["List[int]", 0.0896547642009346]], "expected_cg1": [["bytes", 0.1172026304425263], ["Type[tuple]", 0.10621090539543279], ["List[Tuple[int, Any]]", 0.09311958599760684], ["set", 0.07481044351099499], ["str", 0.07371187086781084]], "expected_cg2": [["bytes", 0.1172026304425263], ["Type[tuple]", 0.10621090539543279], ["List[Tuple[int, Any]]", 0.09311958599760684], ["set", 0.07481044351099499], ["str", 0.07371187086781084]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[342, 4], [363, 39]], "fn_var_ln": {"aci": [[351, 8], [351, 11]], "expected_c_state1": [[343, 8], [343, 25]], "expected_c_state2": [[345, 8], [345, 25]], "expected_cg1": [[344, 8], [344, 20]], "expected_cg2": [[346, 8], [346, 20]]}, "fn_var_occur": {"aci": [["aci", "AzureContainerInstancesOperator", "ci_conn_id", "None", "registry_conn_id", "None", "resource_group", "name", "image", "region", "task_id"], ["aci", "execute", "None"]], "expected_c_state1": [["expected_c_state1", "ContainerState", "state", "exit_code", "detail_status"], ["expected_cg1", "make_mock_cg_with_missing_events", "expected_c_state1"]], "expected_c_state2": [["expected_c_state2", "ContainerState", "state", "exit_code", "detail_status"], ["expected_cg2", "make_mock_cg", "expected_c_state2"]], "expected_cg1": [["expected_cg1", "make_mock_cg_with_missing_events", "expected_c_state1"], ["aci_mock", "return_value", "get_state", "side_effect", "expected_cg1", "expected_cg2"]], "expected_cg2": [["expected_cg2", "make_mock_cg", "expected_c_state2"], ["aci_mock", "return_value", "get_state", "side_effect", "expected_cg1", "expected_cg2"]]}, "name": "test_execute_with_missing_events", "params": {"aci_mock": "", "log_mock": "", "self": ""}, "params_descr": {"aci_mock": "", "log_mock": "", "self": ""}, "params_occur": {"aci_mock": [["aci_mock", "return_value", "get_state", "side_effect", "expected_cg1", "expected_cg2"], ["aci_mock", "return_value", "exists", "return_value", "False"]], "log_mock": [["log_mock", "call_count"]], "self": []}, "params_p": {"aci_mock": [["unittesmock.MagicMock", 0.6190034592152451]], "args": [], "kwargs": [], "log_mock": [["unittesmock.MagicMock", 0.546468049383427]], "self": []}, "q_name": "TestACIOperator.test_execute_with_missing_events", "ret_exprs": [], "ret_type": "", "variables": {"aci": "", "expected_c_state1": "", "expected_c_state2": "", "expected_cg1": "", "expected_cg2": ""}, "variables_p": {"aci": [["str", 0.29460694506120727], ["int", 0.09750037077084046]], "expected_c_state1": [["str", 0.5043186714793683], ["List[int]", 0.08727331936034025]], "expected_c_state2": [["str", 0.495493648511398], ["int", 0.09205368815347423], ["List[int]", 0.0896547642009346]], "expected_cg1": [["list", 0.16743165857386474], ["Dict[str, Any]", 0.11617018354308739], ["List[Dict[str, Any]]", 0.1029197375879405], ["List[Tuple[int, Any]]", 0.09486414563695118], ["edp.journal.Event", 0.08596313201127666], ["Dict[str, Type[Any]]", 0.08268574995412747]], "expected_cg2": [["int", 0.25955051611711233], ["list", 0.1859919837755471], ["edp.journal.Event", 0.09516833336333898], ["asyncio.locks.Event", 0.08890033902081478], ["Tuple[int, int]", 0.08391598969142942], ["Dict[str, Type[Any]]", 0.0803467041277742]]}}], "name": "TestACIOperator", "q_name": "TestACIOperator", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": "Make a mock Container Group as the underlying azure Models have read-only attributes", "long_descr": "See https://docs.microsoft.com/en-us/rest/api/container-instances/containergroups", "ret": null}, "fn_lc": [[31, 0], [45, 22]], "fn_var_ln": {"container": [[41, 4], [41, 13]], "container_dict": [[40, 4], [40, 18]], "container_g": [[44, 4], [44, 15]], "container_g_dict": [[43, 4], [43, 20]], "events": [[36, 4], [36, 10]], "instance_view": [[38, 4], [38, 17]], "instance_view_dict": [[37, 4], [37, 22]]}, "fn_var_occur": {"container": [["container", "namedtuple", "container_dict", "keys", "container_dict", "values"], ["container_g_dict", "container"]], "container_dict": [["container_dict", "instance_view"], ["container", "namedtuple", "container_dict", "keys", "container_dict", "values"]], "container_g": [["container_g", "namedtuple", "container_g_dict", "keys", "container_g_dict", "values"]], "container_g_dict": [["container_g_dict", "container"], ["container_g", "namedtuple", "container_g_dict", "keys", "container_g_dict", "values"]], "events": [["events", "events"], ["instance_view_dict", "container_state", "events"]], "instance_view": [["instance_view", "namedtuple", "instance_view_dict", "keys", "instance_view_dict", "values"], ["container_dict", "instance_view"]], "instance_view_dict": [["instance_view_dict", "container_state", "events"], ["instance_view", "namedtuple", "instance_view_dict", "keys", "instance_view_dict", "values"]]}, "name": "make_mock_cg", "params": {"container_state": "", "events": ""}, "params_descr": {"container_state": "", "events": ""}, "params_occur": {"container_state": [["instance_view_dict", "container_state", "events"]], "events": [["events", "events"], ["instance_view_dict", "container_state", "events"]]}, "params_p": {"args": [], "container_state": [["Dict[str, Any]", 0.1938283461114924], ["float", 0.1286913816260433], ["bool", 0.10464527472702417], ["Sequence[int]", 0.09103347627523091], ["bytes", 0.09046705175412806]], "events": [["dict", 0.11414952241386865], ["List[Dict[str, Any]]", 0.10455912248937883]], "kwargs": []}, "q_name": "make_mock_cg", "ret_exprs": ["return container_g"], "ret_type": "", "ret_type_p": [], "variables": {"container": "", "container_dict": "", "container_g": "", "container_g_dict": "", "events": "", "instance_view": "", "instance_view_dict": ""}, "variables_p": {"container": [["Generator[Any, None, None]", 0.1913704376113352], ["Iterator[str]", 0.1015861777643363]], "container_dict": [["Dict[str, Any]", 0.2981883481537785], ["dict", 0.11415448197176846], ["Dict[Any, str]", 0.10277159400132792], ["Dict[str, str]", 0.09282427665849628], ["Dict[Any, Union[Any, Any]]", 0.08355925955444664]], "container_g": [["str", 0.5149949534342244], ["int", 0.09806326737967286]], "container_g_dict": [["str", 0.5187809647951762], ["ChainMap", 0.12412527416593763], ["Dict[str, Union[int, str]]", 0.09122884508319355], ["Dict[str, dict]", 0.0910215290606932], ["Dict[str, Union[float, str]]", 0.0885485578260689], ["List[Dict[str, str]]", 0.08629482906893052]], "events": [["dict", 0.1908244124764208], ["List[Dict[str, Any]]", 0.1334507338200815], ["asyncio.locks.Event", 0.08564994519741014], ["Optional[raiden.transfer.architecture.Event]", 0.07856517835148724], ["Dict[str, Any]", 0.07572334748492648], ["buza.models.Answer", 0.06940012214316596]], "instance_view": [["dict", 0.14213800014297684], ["\"OrderedDict[str, float]\"", 0.10219527035171747], ["list", 0.0945579509655809], ["str", 0.09387596799872454], ["Dict[str, str]", 0.07692036937561839], ["Dict[str, Sequence[Any]]", 0.07099728991574877]], "instance_view_dict": [["str", 0.20721203568039007], ["Dict[str, Any]", 0.10381580226868922], ["Dict[str, int]", 0.10068840280036337], ["dict", 0.10039808447225093], ["List[float]", 0.09911211946901903], ["owlmixin.owlTList[jumeaux.models.Request]", 0.09146426853613143]]}}, {"docstring": {"func": "Make a mock Container Group as the underlying azure Models have read-only attributes", "long_descr": "See https://docs.microsoft.com/en-us/rest/api/container-instances/containergroups\nThis creates the Container Group without events.\nThis can happen, when the container group is provisioned, but not started.", "ret": null}, "fn_lc": [[48, 0], [63, 22]], "fn_var_ln": {"container": [[59, 4], [59, 13]], "container_dict": [[58, 4], [58, 18]], "container_g": [[62, 4], [62, 15]], "container_g_dict": [[61, 4], [61, 20]], "instance_view": [[56, 4], [56, 17]], "instance_view_dict": [[55, 4], [55, 22]]}, "fn_var_occur": {"container": [["container", "namedtuple", "container_dict", "keys", "container_dict", "values"], ["container_g_dict", "container"]], "container_dict": [["container_dict", "instance_view"], ["container", "namedtuple", "container_dict", "keys", "container_dict", "values"]], "container_g": [["container_g", "namedtuple", "container_g_dict", "keys", "container_g_dict", "values"]], "container_g_dict": [["container_g_dict", "container"], ["container_g", "namedtuple", "container_g_dict", "keys", "container_g_dict", "values"]], "instance_view": [["instance_view", "namedtuple", "instance_view_dict", "keys", "instance_view_dict", "values"], ["container_dict", "instance_view"]], "instance_view_dict": [["instance_view_dict", "container_state", "None"], ["instance_view", "namedtuple", "instance_view_dict", "keys", "instance_view_dict", "values"]]}, "name": "make_mock_cg_with_missing_events", "params": {"container_state": ""}, "params_descr": {"container_state": ""}, "params_occur": {"container_state": [["instance_view_dict", "container_state", "None"]]}, "params_p": {"args": [], "container_state": [["dict", 0.10449550083229382], ["bool", 0.09903164844844659], ["tracim.models.data.Workspace", 0.08151991729414766], ["List[Dict[str, Any]]", 0.08097342247016294]], "kwargs": []}, "q_name": "make_mock_cg_with_missing_events", "ret_exprs": ["return container_g"], "ret_type": "", "ret_type_p": [["dict", 0.09086300116606409]], "variables": {"container": "", "container_dict": "", "container_g": "", "container_g_dict": "", "instance_view": "", "instance_view_dict": ""}, "variables_p": {"container": [["Generator[Any, None, None]", 0.1913704376113352], ["Iterator[str]", 0.1015861777643363]], "container_dict": [["Dict[str, Any]", 0.2981883481537785], ["dict", 0.11415448197176846], ["Dict[Any, str]", 0.10277159400132792], ["Dict[str, str]", 0.09282427665849628], ["Dict[Any, Union[Any, Any]]", 0.08355925955444664]], "container_g": [["str", 0.5149949534342244], ["int", 0.09806326737967286]], "container_g_dict": [["str", 0.5187809647951762], ["ChainMap", 0.12412527416593763], ["Dict[str, Union[int, str]]", 0.09122884508319355], ["Dict[str, dict]", 0.0910215290606932], ["Dict[str, Union[float, str]]", 0.0885485578260689], ["List[Dict[str, str]]", 0.08629482906893052]], "instance_view": [["dict", 0.14213800014297684], ["\"OrderedDict[str, float]\"", 0.10219527035171747], ["list", 0.0945579509655809], ["str", 0.09387596799872454], ["Dict[str, str]", 0.07692036937561839], ["Dict[str, Sequence[Any]]", 0.07099728991574877]], "instance_view_dict": [["dict", 0.6984603558848845], ["str", 0.1986975773250329], ["Dict[str, int]", 0.10284206679008252]]}}], "imports": ["__future__", "annotations", "collections", "namedtuple", "unittest", "mock", "unittest", "mock", "MagicMock", "pytest", "azure", "mgmt", "containerinstance", "models", "ContainerState", "Event", "airflow", "exceptions", "AirflowException", "airflow", "providers", "microsoft", "azure", "operators", "container_instances", "AzureContainerInstancesOperator"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 96}, "session_id": "cGF0Vi_H2HGGgMCJIbQHvGKSqPx1lo6mhnXV3we8a2I", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}