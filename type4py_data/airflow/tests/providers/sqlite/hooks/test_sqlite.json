{"error": null, "response": {"classes": [{"cls_lc": [[32, 8], [33, 43]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [], "name": "UnitTestSqliteHook", "q_name": "TestSqliteHookConn.setup_method.<locals>.UnitTestSqliteHook", "variables": {}, "variables_p": {}}, {"cls_lc": [[30, 0], [61, 74]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[31, 4], [35, 43]], "fn_var_ln": {"conn_name_attr": [[33, 12], [33, 26]], "db_hook": [[35, 8], [35, 20]]}, "fn_var_occur": {"conn_name_attr": [], "db_hook": [["self", "db_hook", "UnitTestSqliteHook"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "db_hook", "UnitTestSqliteHook"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestSqliteHookConn.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"conn_name_attr": "", "db_hook": ""}, "variables_p": {"conn_name_attr": [["str", 0.9999999984412052], ["Tuple[str, str, bool, str, str, str, str]", 8.316126869679678e-10], ["List[str]", 1.331690806861904e-10], ["Tuple[Any, Any]", 1.331690806861904e-10], ["bool", 1.3275060008743415e-10]], "db_hook": [["int", 0.5250353812261196], ["Optional[Callable[..., Any]]", 0.09447207897187364], ["sqlalchemy.orm.Session", 0.09008598035442204], ["Dict[str, List[float]]", 0.08997898109868518], ["str", 0.08702347876209815]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[50, 4], [53, 59]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_get_conn", "params": {"connection": "", "mock_connect": "", "self": "", "uri": ""}, "params_descr": {"connection": "", "mock_connect": "", "self": "", "uri": ""}, "params_occur": {"connection": [["self", "db_hook", "get_connection", "mock", "Mock", "return_value", "connection"]], "mock_connect": [["mock_connect", "assert_called_once_with", "uri", "uri", "True"]], "self": [["self", "db_hook", "get_connection", "mock", "Mock", "return_value", "connection"], ["self", "db_hook", "get_conn"]], "uri": [["mock_connect", "assert_called_once_with", "uri", "uri", "True"]]}, "params_p": {"args": [], "connection": [["Dict[str, Any]", 0.17991889730478255]], "kwargs": [], "mock_connect": [], "self": [], "uri": []}, "q_name": "TestSqliteHookConn.test_get_conn", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[56, 4], [61, 74]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_get_conn_non_default_id", "params": {"mock_connect": "", "self": ""}, "params_descr": {"mock_connect": "", "self": ""}, "params_occur": {"mock_connect": [["mock_connect", "assert_called_once_with", "uri", "True"]], "self": [["self", "db_hook", "get_connection", "mock", "Mock", "return_value", "Connection", "host"], ["self", "db_hook", "test_conn_id"], ["self", "db_hook", "get_conn"], ["self", "db_hook", "get_connection", "assert_called_once_with"]]}, "params_p": {"args": [], "kwargs": [], "mock_connect": [], "self": []}, "q_name": "TestSqliteHookConn.test_get_conn_non_default_id", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "TestSqliteHookConn", "q_name": "TestSqliteHookConn", "variables": {}, "variables_p": {}}, {"cls_lc": [[72, 8], [77, 27]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[76, 12], [77, 27]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_conn", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cur", "mock", "MagicMock", "rowcount"], ["self", "conn", "mock", "MagicMock"], ["self", "conn", "cursor", "return_value", "self", "cur"], ["conn", "self", "conn"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestSqliteHook.setup_method.<locals>.UnitTestSqliteHook.get_conn", "ret_exprs": ["return conn"], "ret_type": "", "ret_type_p": [["str", 0.19999999999999998], ["bool", 0.09999999999999999]], "variables": {}, "variables_p": {}}], "name": "UnitTestSqliteHook", "q_name": "TestSqliteHook.setup_method.<locals>.UnitTestSqliteHook", "variables": {}, "variables_p": {}}, {"cls_lc": [[64, 0], [149, 71]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[65, 4], [79, 43]], "fn_var_ln": {"conn": [[70, 8], [70, 12]], "conn_name_attr": [[73, 12], [73, 26]], "cur": [[67, 8], [67, 16]], "db_hook": [[79, 8], [79, 20]], "log": [[74, 12], [74, 15]]}, "fn_var_occur": {"conn": [], "conn_name_attr": [], "cur": [], "db_hook": [["self", "db_hook", "UnitTestSqliteHook"]], "log": []}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "db_hook", "UnitTestSqliteHook"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestSqliteHook.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"conn": "", "conn_name_attr": "", "cur": "", "db_hook": "", "log": ""}, "variables_p": {"conn": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "conn_name_attr": [["str", 0.9999999984412052], ["Tuple[str, str, bool, str, str, str, str]", 8.316126869679678e-10], ["List[str]", 1.331690806861904e-10], ["Tuple[Any, Any]", 1.331690806861904e-10], ["bool", 1.3275060008743415e-10]], "cur": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "db_hook": [["int", 0.5250353812261196], ["Optional[Callable[..., Any]]", 0.09447207897187364], ["sqlalchemy.orm.Session", 0.09008598035442204], ["Dict[str, List[float]]", 0.08997898109868518], ["str", 0.08702347876209815]], "log": [["str", 0.30000000000000004], ["bool", 0.1], ["Dict[str, Union[Any, Any, Any]]", 0.1], ["Dict[str, Union[Any, Any, Any, Any]]", 0.1], ["Dict[str, Union[dict, Any, Any, Any, Any]]", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[81, 4], [89, 59]], "fn_var_ln": {"result_sets": [[83, 8], [83, 19]], "statement": [[82, 8], [82, 17]]}, "fn_var_occur": {"result_sets": [["self", "cur", "fetchone", "return_value", "result_sets"], ["result_sets", "self", "db_hook", "get_first", "statement"]], "statement": [["result_sets", "self", "db_hook", "get_first", "statement"], ["self", "cur", "execute", "assert_called_once_with", "statement"]]}, "name": "test_get_first_record", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cur", "fetchone", "return_value", "result_sets"], ["result_sets", "self", "db_hook", "get_first", "statement"], ["self", "conn", "close", "assert_called_once_with"], ["self", "cur", "close", "assert_called_once_with"], ["self", "cur", "execute", "assert_called_once_with", "statement"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestSqliteHook.test_get_first_record", "ret_exprs": [], "ret_type": "", "variables": {"result_sets": "", "statement": ""}, "variables_p": {"result_sets": [["str", 0.18960111918134703], ["int", 0.12219592332814264], ["bytes", 0.09447596867033083], ["Tuple[str, str]", 0.08758768911810298]], "statement": [["list", 0.2772479655868859]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[91, 4], [99, 59]], "fn_var_ln": {"result_sets": [[93, 8], [93, 19]], "statement": [[92, 8], [92, 17]]}, "fn_var_occur": {"result_sets": [["self", "cur", "fetchall", "return_value", "result_sets"], ["result_sets", "self", "db_hook", "get_records", "statement"]], "statement": [["result_sets", "self", "db_hook", "get_records", "statement"], ["self", "cur", "execute", "assert_called_once_with", "statement"]]}, "name": "test_get_records", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cur", "fetchall", "return_value", "result_sets"], ["result_sets", "self", "db_hook", "get_records", "statement"], ["self", "conn", "close", "assert_called_once_with"], ["self", "cur", "close", "assert_called_once_with"], ["self", "cur", "execute", "assert_called_once_with", "statement"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestSqliteHook.test_get_records", "ret_exprs": [], "ret_type": "", "variables": {"result_sets": "", "statement": ""}, "variables_p": {"result_sets": [["str", 0.18960111918134703], ["int", 0.12219592332814264], ["bytes", 0.09447596867033083], ["Tuple[str, str]", 0.08758768911810298]], "statement": [["list", 0.2772479655868859]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[101, 4], [114, 59]], "fn_var_ln": {"column": [[103, 8], [103, 14]], "df": [[107, 8], [107, 10]], "result_sets": [[104, 8], [104, 19]], "statement": [[102, 8], [102, 17]]}, "fn_var_occur": {"column": [["self", "cur", "description", "column"], ["column", "df", "columns"]], "df": [["df", "self", "db_hook", "get_pandas_df", "statement"], ["column", "df", "columns"], ["result_sets", "df", "values", "tolist"], ["result_sets", "df", "values", "tolist"]], "result_sets": [["self", "cur", "fetchall", "return_value", "result_sets"], ["result_sets", "df", "values", "tolist"], ["result_sets", "df", "values", "tolist"]], "statement": [["df", "self", "db_hook", "get_pandas_df", "statement"], ["self", "cur", "execute", "assert_called_once_with", "statement"]]}, "name": "test_get_pandas_df", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cur", "description", "column"], ["self", "cur", "fetchall", "return_value", "result_sets"], ["df", "self", "db_hook", "get_pandas_df", "statement"], ["self", "cur", "execute", "assert_called_once_with", "statement"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestSqliteHook.test_get_pandas_df", "ret_exprs": [], "ret_type": "", "variables": {"column": "", "df": "", "result_sets": "", "statement": ""}, "variables_p": {"column": [["str", 0.2514383088298724], ["int", 0.1922766414040206], ["dict", 0.12681732062703294], ["Dict[str, int]", 0.12477955940011504], ["List[str]", 0.11673232158052399], ["Optional[str]", 0.10414307854847757], ["bool", 0.08381276960995745]], "df": [["int", 0.19689727283848246], ["Set[str]", 0.11313426110300921], ["str", 0.10481779496011173], ["list", 0.09151588730990809], ["tuple", 0.08946390544928084]], "result_sets": [["float", 0.3965372394866048], ["int", 0.2171873572768021], ["List[int]", 0.10468087134504546], ["List[float]", 0.09418728208456263], ["Dict[str, str]", 0.09389481344978012], ["List[str]", 0.09351243635720498]], "statement": [["list", 0.5119921421725822]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[116, 4], [119, 52]], "fn_var_ln": {"statement": [[117, 8], [117, 17]]}, "fn_var_occur": {"statement": [["self", "db_hook", "run", "statement"]]}, "name": "test_run_log", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "db_hook", "run", "statement"], ["self", "db_hook", "log", "info", "call_count"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestSqliteHook.test_run_log", "ret_exprs": [], "ret_type": "", "variables": {"statement": ""}, "variables_p": {"statement": [["list", 0.29821165757689494], ["str", 0.19295272128668367], ["deque[Any]", 0.11215326567278759], ["int", 0.09988526866813861], ["List[Dict[str, Any]]", 0.09432704718058929]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[121, 4], [129, 34]], "fn_var_ln": {"expected_sql": [[122, 8], [122, 20]], "rows": [[123, 8], [123, 12]], "sql": [[125, 8], [125, 11]], "target_fields": [[124, 8], [124, 21]]}, "fn_var_occur": {"expected_sql": [["sql", "expected_sql"]], "rows": [["sql", "self", "db_hook", "_generate_insert_sql", "table", "values", "rows", "target_fields", "target_fields", "replace", "False"]], "sql": [["sql", "self", "db_hook", "_generate_insert_sql", "table", "values", "rows", "target_fields", "target_fields", "replace", "False"], ["sql", "expected_sql"]], "target_fields": [["sql", "self", "db_hook", "_generate_insert_sql", "table", "values", "rows", "target_fields", "target_fields", "replace", "False"]]}, "name": "test_generate_insert_sql_replace_false", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["sql", "self", "db_hook", "_generate_insert_sql", "table", "values", "rows", "target_fields", "target_fields", "replace", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestSqliteHook.test_generate_insert_sql_replace_false", "ret_exprs": [], "ret_type": "", "variables": {"expected_sql": "", "rows": "", "sql": "", "target_fields": ""}, "variables_p": {"expected_sql": [["int", 0.24999999999142677], ["str", 0.24999999999129655], ["Dict[str, Any]", 0.2499999999876614], ["List[str]", 0.2499999999876614], ["List[Dict[str, Any]]", 1.2836082529398832e-11], ["Dict[int, List[str]]", 1.2836082529398832e-11], ["float", 1.2836082529398832e-11]], "rows": [["int", 0.3833625508169377], ["float", 0.15809741939804767], ["str", 0.10143906747460589], ["Tuple[bool]", 0.09704030125418525], ["List[float]", 0.09339723736622633], ["staticmethod", 0.08443566100283258], ["bytes", 0.08222776268716472]], "sql": [["int", 0.4705314741943227], ["Tuple[Any, Any, Any, Any]", 0.07963292875730953]], "target_fields": [["int", 0.212739373665198], ["Final", 0.21039286378540376], ["str", 0.20630053303643023], ["Dict[str, Union[dict, Any, str]]", 0.0919798400206021], ["dict", 0.0905536788155164]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[131, 4], [139, 34]], "fn_var_ln": {"expected_sql": [[132, 8], [132, 20]], "rows": [[133, 8], [133, 12]], "sql": [[135, 8], [135, 11]], "target_fields": [[134, 8], [134, 21]]}, "fn_var_occur": {"expected_sql": [["sql", "expected_sql"]], "rows": [["sql", "self", "db_hook", "_generate_insert_sql", "table", "values", "rows", "target_fields", "target_fields", "replace", "True"]], "sql": [["sql", "self", "db_hook", "_generate_insert_sql", "table", "values", "rows", "target_fields", "target_fields", "replace", "True"], ["sql", "expected_sql"]], "target_fields": [["sql", "self", "db_hook", "_generate_insert_sql", "table", "values", "rows", "target_fields", "target_fields", "replace", "True"]]}, "name": "test_generate_insert_sql_replace_true", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["sql", "self", "db_hook", "_generate_insert_sql", "table", "values", "rows", "target_fields", "target_fields", "replace", "True"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestSqliteHook.test_generate_insert_sql_replace_true", "ret_exprs": [], "ret_type": "", "variables": {"expected_sql": "", "rows": "", "sql": "", "target_fields": ""}, "variables_p": {"expected_sql": [["int", 0.24999999999142677], ["str", 0.24999999999129655], ["Dict[str, Any]", 0.2499999999876614], ["List[str]", 0.2499999999876614], ["List[Dict[str, Any]]", 1.2836082529398832e-11], ["Dict[int, List[str]]", 1.2836082529398832e-11], ["float", 1.2836082529398832e-11]], "rows": [["int", 0.6813018598857766], ["float", 0.1192088717738069], ["List[int]", 0.09682060127122302]], "sql": [["int", 0.6472482437334495]], "target_fields": [["str", 0.21053879312270435], ["int", 0.19964597746649912], ["Final", 0.19665223238964588], ["Dict[str, Union[int, str]]", 0.10507699139795292], ["dict", 0.09930861748908913], ["Pattern[str]", 0.0949469564149385]]}}, {"docstring": {"func": "Test that the sqlalchemy engine is initialized", "long_descr": null, "ret": null}, "fn_lc": [[141, 4], [149, 71]], "fn_var_ln": {"conn_id": [[143, 8], [143, 15]], "engine": [[145, 8], [145, 14]], "hook": [[144, 8], [144, 12]]}, "fn_var_occur": {"conn_id": [["hook", "SqliteHook", "sqlite_conn_id", "conn_id"], ["engine", "url", "database", "hook", "get_connection", "conn_id", "host"]], "engine": [["engine", "hook", "get_sqlalchemy_engine"], ["isinstance", "engine", "sqlalchemy", "engine", "Engine"], ["engine", "name"], ["engine", "url", "database", "hook", "get_connection", "conn_id", "host"]], "hook": [["hook", "SqliteHook", "sqlite_conn_id", "conn_id"], ["engine", "hook", "get_sqlalchemy_engine"], ["engine", "url", "database", "hook", "get_connection", "conn_id", "host"]]}, "name": "test_sqlalchemy_engine", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestSqliteHook.test_sqlalchemy_engine", "ret_exprs": [], "ret_type": "", "variables": {"conn_id": "", "engine": "", "hook": ""}, "variables_p": {"conn_id": [["str", 0.4375995463168749], ["int", 0.18016326809536298], ["Optional[str]", 0.13372564238234438], ["Pattern[Any]", 0.08634124454521155]], "engine": [["bool", 0.499223984941565], ["float", 0.099844796988313], ["str", 0.09916178591391792], ["dict", 0.09371287035692966]], "hook": [["str", 0.3315761923973764], ["Dict[str, Any]", 0.1936640731432921], ["Dict[str, str]", 0.10568403508614156]]}}], "name": "TestSqliteHook", "q_name": "TestSqliteHook", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "unittest", "mock", "unittest", "mock", "patch", "pytest", "sqlalchemy", "airflow", "models", "Connection", "airflow", "providers", "sqlite", "hooks", "sqlite", "SqliteHook"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 42}, "session_id": "OnDs0h4tJAQsHJoeTUz8dNcDMXu_rKmjR6YVOam3poY", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}