{"error": null, "response": {"classes": [{"cls_lc": [[35, 0], [37, 37]], "cls_var_ln": {"conn_name_attr": [[36, 4], [36, 18]], "get_conn": [[37, 4], [37, 12]]}, "cls_var_occur": {"conn_name_attr": [], "get_conn": []}, "funcs": [], "name": "DBApiHookForTests", "q_name": "DBApiHookForTests", "variables": {"conn_name_attr": "", "get_conn": ""}, "variables_p": {"conn_name_attr": [["str", 0.9999999984412052], ["Tuple[str, str, bool, str, str, str, str]", 8.316126869679678e-10], ["List[str]", 1.331690806861904e-10], ["Tuple[Any, Any]", 1.331690806861904e-10], ["bool", 1.3275060008743415e-10]], "get_conn": [["str", 0.6], ["bool", 0.1], ["Type[bot_app.models.ConnectedApi]", 0.1]]}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[42, 0], [48, 20]], "fn_var_ln": {"conn": [[43, 4], [43, 8]], "extra": [[47, 4], [47, 14]], "host": [[44, 4], [44, 13]], "login": [[45, 4], [45, 14]], "password": [[46, 4], [46, 17]]}, "fn_var_occur": {"conn": [["conn", "session", "query", "Connection", "filter", "Connection", "conn_id", "DEFAULT_CONN_ID", "first"], ["conn", "host", "HOST"], ["conn", "login", "None"], ["conn", "password", "PASSWORD"], ["conn", "extra", "None"]], "extra": [["conn", "extra", "None"]], "host": [["conn", "host", "HOST"]], "login": [["conn", "login", "None"]], "password": [["conn", "password", "PASSWORD"]]}, "name": "create_connection", "params": {"session": ""}, "params_descr": {"session": ""}, "params_occur": {"session": [["conn", "session", "query", "Connection", "filter", "Connection", "conn_id", "DEFAULT_CONN_ID", "first"], ["session", "commit"]]}, "params_p": {"args": [], "kwargs": [], "session": [["sqlalchemy.orm.session.Session", 0.4402611989873082], ["str", 0.1081487255519498], ["grouper.models.base.session.Session", 0.08683262768388379], ["grouper.models.group.Group", 0.08683262768388379], ["models.Queue", 0.08301151975762748]]}, "q_name": "create_connection", "ret_exprs": [], "ret_type": "", "variables": {"conn": "", "extra": "", "host": "", "login": "", "password": ""}, "variables_p": {"conn": [["int", 0.41657312782550326], ["str", 0.14350254487370123], ["List[str]", 0.07937568246362482], ["list", 0.07448621096851311]], "extra": [["Type[Optional[Any]]", 0.19999999999999998], ["list", 0.09999999999999999], ["str", 0.09999999999999999]], "host": [["dict", 0.7999999999545204], ["int", 0.19999999999854687], ["str", 3.046154765952506e-11]], "login": [["Type[Optional[Any]]", 0.19999999999999998], ["list", 0.09999999999999999], ["str", 0.09999999999999999]], "password": [["str", 0.6666666665981479], ["Optional[str]", 0.3333333333077041], ["List[str]", 2.0236463666246685e-11], ["Type[set]", 2.0236463666246685e-11], ["float", 1.9154481344935525e-11], ["bool", 1.7260305223833547e-11]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[51, 0], [52, 41]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_cursor_descriptions", "params": {"fields": "builtins.list[builtins.str]"}, "params_descr": {"fields": ""}, "params_occur": {"fields": [["field", "field", "fields"]]}, "params_p": {"args": [], "fields": [["django.db.models.fields.Field", 0.2528087675429924], ["str", 0.10573012143287025], ["int", 0.10455046250480103], ["ValueError", 0.07499802619315853], ["set", 0.07039597757791444]], "kwargs": []}, "q_name": "get_cursor_descriptions", "ret_exprs": ["return [(field,) for field in fields]"], "ret_type": "builtins.list[builtins.tuple[builtins.str]]", "ret_type_p": [["list", 0.2079127639634381], ["dict", 0.1988841892733677], ["List[str]", 0.1916905793268722], ["str", 0.09912101132850135], ["List[\"Variable\"]", 0.09642178229951548]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[191, 4], [198, 84]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "mock_execute", "params": {"args": "", "kwargs": ""}, "params_descr": {"args": "", "kwargs": ""}, "params_occur": {"args": [], "kwargs": []}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_query.<locals>.mock_execute", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[174, 0], [210, 78]], "fn_var_ln": {"dbapi_hook": [[187, 4], [187, 14]], "modified_descriptions": [[184, 4], [184, 25]], "results": [[202, 4], [202, 11]]}, "fn_var_occur": {"dbapi_hook": [["dbapi_hook", "get_conn", "return_value", "cursor", "return_value", "execute", "mock_execute"], ["dbapi_hook", "get_conn", "return_value", "cursor", "return_value", "fetchall", "side_effect", "cursor_results"], ["results", "dbapi_hook", "run", "sql", "sql", "handler", "fetch_all_handler", "return_last", "return_last", "split_statements", "split_statements"], ["dbapi_hook", "descriptions", "hook_descriptions"], ["dbapi_hook", "last_description", "hook_descriptions"], ["dbapi_hook", "get_conn", "return_value", "cursor", "return_value", "close", "assert_called"]], "modified_descriptions": [], "results": [["results", "dbapi_hook", "run", "sql", "sql", "handler", "fetch_all_handler", "return_last", "return_last", "split_statements", "split_statements"], ["results", "hook_results"]]}, "name": "test_query", "params": {"cursor_calls": "", "cursor_descriptions": "", "cursor_results": "", "hook_descriptions": "", "hook_results": "", "return_last": "", "split_statements": "", "sql": ""}, "params_descr": {"cursor_calls": "", "cursor_descriptions": "", "cursor_results": "", "hook_descriptions": "", "hook_results": "", "return_last": "", "split_statements": "", "sql": ""}, "params_occur": {"cursor_calls": [], "cursor_descriptions": [], "cursor_results": [["dbapi_hook", "get_conn", "return_value", "cursor", "return_value", "fetchall", "side_effect", "cursor_results"]], "hook_descriptions": [["dbapi_hook", "descriptions", "hook_descriptions"], ["dbapi_hook", "last_description", "hook_descriptions"]], "hook_results": [["results", "hook_results"]], "return_last": [["results", "dbapi_hook", "run", "sql", "sql", "handler", "fetch_all_handler", "return_last", "return_last", "split_statements", "split_statements"]], "split_statements": [["results", "dbapi_hook", "run", "sql", "sql", "handler", "fetch_all_handler", "return_last", "return_last", "split_statements", "split_statements"]], "sql": [["results", "dbapi_hook", "run", "sql", "sql", "handler", "fetch_all_handler", "return_last", "return_last", "split_statements", "split_statements"]]}, "params_p": {"args": [], "cursor_calls": [["str", 0.2534335499961579], ["models.Telegram_Message", 0.1795584061744567], ["models.User", 0.1795584061744567], ["Callable[..., None]", 0.12050866345395235], ["int", 0.08977920308722835], ["models.Telegram_Chat", 0.08977920308722835], ["bool", 0.08738256802651959]], "cursor_descriptions": [["str", 0.2534335499961579], ["models.Telegram_Message", 0.1795584061744567], ["models.User", 0.1795584061744567], ["Callable[..., None]", 0.12050866345395235], ["int", 0.08977920308722835], ["models.Telegram_Chat", 0.08977920308722835], ["bool", 0.08738256802651959]], "cursor_results": [["unittesmock.MagicMock", 0.12501236544134559], ["Optional[raiden.utils.TokenNetworkAddress]", 0.08497235613768232]], "hook_descriptions": [["str", 0.7015303745425348], ["list", 0.09604134948971155]], "hook_results": [["Callable[..., Awaitable]", 0.09360479920376687], ["geoapi.common.json_models.RealPropertyIn", 0.09215667884278352]], "kwargs": [], "return_last": [], "split_statements": [], "sql": []}, "q_name": "test_query", "ret_exprs": [], "ret_type": "", "variables": {"dbapi_hook": "", "modified_descriptions": "", "results": ""}, "variables_p": {"dbapi_hook": [["Dict[str, Dict[str, Any]]", 0.4735858758116005], ["list", 0.1483867384643731], ["str", 0.07634453121053804]], "modified_descriptions": [["str", 0.4], ["int", 0.4], ["Optional[\"LocalizedString\"]", 0.1], ["List[str]", 0.1]], "results": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[221, 0], [226, 65]], "fn_var_ln": {"dbapi_hook": [[222, 4], [222, 14]]}, "fn_var_occur": {"dbapi_hook": [["dbapi_hook", "DBApiHookForTests"], ["dbapi_hook", "get_conn", "return_value", "cursor", "rowcount"], ["dbapi_hook", "run", "sql", "empty_statement"]]}, "name": "test_no_query", "params": {"empty_statement": ""}, "params_descr": {"empty_statement": ""}, "params_occur": {"empty_statement": [["dbapi_hook", "run", "sql", "empty_statement"]]}, "params_p": {"args": [], "empty_statement": [["str", 0.09698188691795945]], "kwargs": []}, "q_name": "test_no_query", "ret_exprs": [], "ret_type": "", "variables": {"dbapi_hook": ""}, "variables_p": {"dbapi_hook": []}}], "imports": ["__future__", "annotations", "unittest", "mock", "MagicMock", "pytest", "airflow", "models", "Connection", "airflow", "providers", "common", "sql", "hooks", "sql", "DbApiHook", "fetch_all_handler", "airflow", "utils", "session", "provide_session"], "mod_var_ln": {"DEFAULT_CONN_ID": [[31, 0], [31, 15]], "HOST": [[30, 0], [30, 4]], "PASSWORD": [[32, 0], [32, 8]], "TASK_ID": [[29, 0], [29, 7]], "index": [[55, 0], [55, 5]]}, "mod_var_occur": {"DEFAULT_CONN_ID": [["conn", "session", "query", "Connection", "filter", "Connection", "conn_id", "DEFAULT_CONN_ID", "first"]], "HOST": [["conn", "host", "HOST"]], "PASSWORD": [["conn", "password", "PASSWORD"]], "TASK_ID": [], "index": []}, "no_types_annot": {"D": 2, "I": 0, "U": 32}, "session_id": "CFK8fG5Q23xcs5halzVEYlgiRaZ0z59dQfVwwq_j1R8", "set": null, "tc": [false, null], "type_annot_cove": 0.06, "typed_seq": "", "untyped_seq": "", "variables": {"DEFAULT_CONN_ID": "", "HOST": "", "PASSWORD": "", "TASK_ID": "", "index": ""}, "variables_p": {"DEFAULT_CONN_ID": [["int", 0.7116562669873758], ["transfer.models.SubjectID", 0.09546311680642994]], "HOST": [["dict", 0.7999999999545204], ["int", 0.19999999999854687], ["str", 3.046154765952506e-11]], "PASSWORD": [["str", 0.6666666665981479], ["Optional[str]", 0.3333333333077041], ["List[str]", 2.0236463666246685e-11], ["Type[set]", 2.0236463666246685e-11], ["float", 1.9154481344935525e-11], ["bool", 1.7260305223833547e-11]], "TASK_ID": [["str", 0.4], ["Type[bot_app.models.Products]", 0.1], ["Type[str]", 0.1], ["Optional[str]", 0.1]], "index": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}}