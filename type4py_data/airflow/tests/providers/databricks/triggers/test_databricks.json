{"error": null, "response": {"classes": [{"cls_lc": [[68, 0], [152, 63]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[70, 4], [83, 9]], "fn_var_ln": {"conn": [[71, 8], [71, 12]], "extra": [[75, 8], [75, 18]], "host": [[72, 8], [72, 17]], "login": [[73, 8], [73, 18]], "password": [[74, 8], [74, 21]], "trigger": [[78, 8], [78, 20]]}, "fn_var_occur": {"conn": [["conn", "session", "query", "Connection", "filter", "Connection", "conn_id", "DEFAULT_CONN_ID", "first"], ["conn", "host", "HOST"], ["conn", "login", "LOGIN"], ["conn", "password", "PASSWORD"], ["conn", "extra", "None"]], "extra": [["conn", "extra", "None"]], "host": [["conn", "host", "HOST"]], "login": [["conn", "login", "LOGIN"]], "password": [["conn", "password", "PASSWORD"]], "trigger": [["self", "trigger", "DatabricksExecutionTrigger", "run_id", "RUN_ID", "databricks_conn_id", "DEFAULT_CONN_ID", "polling_period_seconds", "POLLING_INTERVAL_SECONDS", "run_page_url", "RUN_PAGE_URL"]]}, "name": "setup_method", "params": {"method": "", "self": "", "session": ""}, "params_descr": {"method": "", "self": "", "session": ""}, "params_occur": {"method": [], "self": [["self", "trigger", "DatabricksExecutionTrigger", "run_id", "RUN_ID", "databricks_conn_id", "DEFAULT_CONN_ID", "polling_period_seconds", "POLLING_INTERVAL_SECONDS", "run_page_url", "RUN_PAGE_URL"]], "session": [["conn", "session", "query", "Connection", "filter", "Connection", "conn_id", "DEFAULT_CONN_ID", "first"], ["session", "commit"]]}, "params_p": {"args": [], "kwargs": [], "method": [["str", 0.7274395059248243], ["int", 0.08464053740227286]], "self": [], "session": [["alerta.database.base.Query", 0.1958420944790807], ["sqlalchemy.orm.session.Session", 0.18608019186001473], ["Union[sqlalchemy.orm.session.Session, abilian.core.models.blob.Blob]", 0.09277817058845546], ["sqlalchemy.orm.session.Session.Transaction", 0.09108165956824699]]}, "q_name": "TestDatabricksExecutionTrigger.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"conn": "", "extra": "", "host": "", "login": "", "password": "", "trigger": ""}, "variables_p": {"conn": [["str", 0.2656670043053492], ["List[str]", 0.08390391604919986], ["Pattern[str]", 0.07795662141772824]], "extra": [["Type[Optional[Any]]", 0.19999999999999998], ["list", 0.09999999999999999], ["str", 0.09999999999999999]], "host": [["dict", 0.7999999999545204], ["int", 0.19999999999854687], ["str", 3.046154765952506e-11]], "login": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]], "password": [["str", 0.6666666665981479], ["Optional[str]", 0.3333333333077041], ["List[str]", 2.0236463666246685e-11], ["Type[set]", 2.0236463666246685e-11], ["float", 1.9154481344935525e-11], ["bool", 1.7260305223833547e-11]], "trigger": [["raiden.utils.Address", 0.10260288582299003], ["str", 0.09992803431909482]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[85, 4], [97, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_serialize", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "trigger", "serialize", "RUN_ID", "DEFAULT_CONN_ID", "POLLING_INTERVAL_SECONDS", "None", "RUN_PAGE_URL"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestDatabricksExecutionTrigger.test_serialize", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[102, 4], [120, 9]], "fn_var_ln": {"actual": [[111, 8], [111, 14]], "generator": [[110, 8], [110, 17]], "return_value": [[104, 8], [104, 39]]}, "fn_var_occur": {"actual": [["actual", "generator", "asend", "None"], ["actual", "TriggerEvent", "RUN_ID", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_TERMINATED", "state_message", "result_state", "to_json", "RUN_PAGE_URL"]], "generator": [["generator", "self", "trigger", "run"], ["actual", "generator", "asend", "None"]], "return_value": [["mock_get_run_page_url", "return_value", "RUN_PAGE_URL"], ["mock_get_run_state", "return_value", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_TERMINATED", "state_message", "result_state"]]}, "name": "test_run_return_success", "params": {"mock_get_run_page_url": "", "mock_get_run_state": "", "self": ""}, "params_descr": {"mock_get_run_page_url": "", "mock_get_run_state": "", "self": ""}, "params_occur": {"mock_get_run_page_url": [["mock_get_run_page_url", "return_value", "RUN_PAGE_URL"]], "mock_get_run_state": [["mock_get_run_state", "return_value", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_TERMINATED", "state_message", "result_state"]], "self": [["generator", "self", "trigger", "run"]]}, "params_p": {"args": [], "kwargs": [], "mock_get_run_page_url": [], "mock_get_run_state": [], "self": []}, "q_name": "TestDatabricksExecutionTrigger.test_run_return_success", "ret_exprs": [], "ret_type": "", "variables": {"actual": "", "generator": "", "return_value": ""}, "variables_p": {"actual": [["int", 0.3359236790806598], ["notifications.models.Notification", 0.09965703672376595], ["Type[str]", 0.09118409844817559], ["List[dict]", 0.08767831923803346], ["bool", 0.0827229802223871]], "generator": [["float", 0.11160429968213009], ["dict", 0.09860471174282338], ["DefaultDict[str, Set[str]]", 0.09638409246411558]], "return_value": [["str", 0.6978874774098047], ["int", 0.096927028811283], ["List[Tuple[str, str, str, str]]", 0.09649811619335033]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[125, 4], [152, 63]], "fn_var_ln": {"actual": [[141, 8], [141, 14]], "generator": [[140, 8], [140, 17]], "side_effect": [[127, 8], [127, 38]]}, "fn_var_occur": {"actual": [["actual", "generator", "asend", "None"], ["actual", "TriggerEvent", "RUN_ID", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_TERMINATED", "state_message", "result_state", "to_json", "RUN_PAGE_URL"]], "generator": [["generator", "self", "trigger", "run"], ["actual", "generator", "asend", "None"]], "side_effect": [["mock_get_run_state", "side_effect", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_PENDING", "state_message", "result_state", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_TERMINATED", "state_message", "result_state"]]}, "name": "test_sleep_between_retries", "params": {"mock_get_run_state": "", "mock_sleep": "", "self": ""}, "params_descr": {"mock_get_run_state": "", "mock_sleep": "", "self": ""}, "params_occur": {"mock_get_run_state": [["mock_get_run_state", "side_effect", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_PENDING", "state_message", "result_state", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_TERMINATED", "state_message", "result_state"]], "mock_sleep": [["mock_sleep", "assert_called_once"], ["mock_sleep", "assert_called_with", "POLLING_INTERVAL_SECONDS"]], "self": [["generator", "self", "trigger", "run"]]}, "params_p": {"args": [], "kwargs": [], "mock_get_run_state": [], "mock_sleep": [], "self": []}, "q_name": "TestDatabricksExecutionTrigger.test_sleep_between_retries", "ret_exprs": [], "ret_type": "", "variables": {"actual": "", "generator": "", "side_effect": ""}, "variables_p": {"actual": [["int", 0.3359236790806598], ["notifications.models.Notification", 0.09965703672376595], ["Type[str]", 0.09118409844817559], ["List[dict]", 0.08767831923803346], ["bool", 0.0827229802223871]], "generator": [["float", 0.11160429968213009], ["dict", 0.09860471174282338], ["DefaultDict[str, Set[str]]", 0.09638409246411558]], "side_effect": [["int", 0.18550629284962564], ["tuple", 0.1257478942162274], ["List['Book']", 0.1167735716147223], ["Dict[str, int]", 0.10763703280573819], ["bool", 0.08644483383850733], ["Type[int]", 0.08384804910335213]]}}], "name": "TestDatabricksExecutionTrigger", "q_name": "TestDatabricksExecutionTrigger", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "unittest", "mock", "pytest", "airflow", "models", "Connection", "airflow", "providers", "databricks", "hooks", "databricks", "RunState", "airflow", "providers", "databricks", "triggers", "databricks", "DatabricksExecutionTrigger", "airflow", "triggers", "base", "TriggerEvent", "airflow", "utils", "session", "provide_session"], "mod_var_ln": {"DEFAULT_CONN_ID": [[30, 0], [30, 15]], "GET_RUN_RESPONSE_PENDING": [[48, 0], [48, 24]], "GET_RUN_RESPONSE_TERMINATED": [[57, 0], [57, 27]], "HOST": [[31, 0], [31, 4]], "JOB_ID": [[38, 0], [38, 6]], "LIFE_CYCLE_STATE_PENDING": [[43, 0], [43, 24]], "LIFE_CYCLE_STATE_TERMINATED": [[44, 0], [44, 27]], "LOGIN": [[32, 0], [32, 5]], "PASSWORD": [[33, 0], [33, 8]], "POLLING_INTERVAL_SECONDS": [[34, 0], [34, 24]], "RETRY_DELAY": [[35, 0], [35, 11]], "RETRY_LIMIT": [[36, 0], [36, 11]], "RUN_ID": [[37, 0], [37, 6]], "RUN_LIFE_CYCLE_STATES": [[41, 0], [41, 21]], "RUN_PAGE_URL": [[39, 0], [39, 12]], "STATE_MESSAGE": [[46, 0], [46, 13]]}, "mod_var_occur": {"DEFAULT_CONN_ID": [["conn", "session", "query", "Connection", "filter", "Connection", "conn_id", "DEFAULT_CONN_ID", "first"], ["self", "trigger", "DatabricksExecutionTrigger", "run_id", "RUN_ID", "databricks_conn_id", "DEFAULT_CONN_ID", "polling_period_seconds", "POLLING_INTERVAL_SECONDS", "run_page_url", "RUN_PAGE_URL"], ["self", "trigger", "serialize", "RUN_ID", "DEFAULT_CONN_ID", "POLLING_INTERVAL_SECONDS", "None", "RUN_PAGE_URL"]], "GET_RUN_RESPONSE_PENDING": [], "GET_RUN_RESPONSE_TERMINATED": [], "HOST": [["conn", "host", "HOST"]], "JOB_ID": [["GET_RUN_RESPONSE_PENDING", "JOB_ID", "RUN_PAGE_URL", "LIFE_CYCLE_STATE_PENDING", "STATE_MESSAGE", "None"], ["GET_RUN_RESPONSE_TERMINATED", "JOB_ID", "RUN_PAGE_URL", "LIFE_CYCLE_STATE_TERMINATED", "None"]], "LIFE_CYCLE_STATE_PENDING": [["GET_RUN_RESPONSE_PENDING", "JOB_ID", "RUN_PAGE_URL", "LIFE_CYCLE_STATE_PENDING", "STATE_MESSAGE", "None"], ["mock_get_run_state", "side_effect", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_PENDING", "state_message", "result_state", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_TERMINATED", "state_message", "result_state"]], "LIFE_CYCLE_STATE_TERMINATED": [["GET_RUN_RESPONSE_TERMINATED", "JOB_ID", "RUN_PAGE_URL", "LIFE_CYCLE_STATE_TERMINATED", "None"], ["mock_get_run_state", "return_value", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_TERMINATED", "state_message", "result_state"], ["actual", "TriggerEvent", "RUN_ID", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_TERMINATED", "state_message", "result_state", "to_json", "RUN_PAGE_URL"], ["mock_get_run_state", "side_effect", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_PENDING", "state_message", "result_state", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_TERMINATED", "state_message", "result_state"], ["actual", "TriggerEvent", "RUN_ID", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_TERMINATED", "state_message", "result_state", "to_json", "RUN_PAGE_URL"]], "LOGIN": [["conn", "login", "LOGIN"]], "PASSWORD": [["conn", "password", "PASSWORD"]], "POLLING_INTERVAL_SECONDS": [["self", "trigger", "DatabricksExecutionTrigger", "run_id", "RUN_ID", "databricks_conn_id", "DEFAULT_CONN_ID", "polling_period_seconds", "POLLING_INTERVAL_SECONDS", "run_page_url", "RUN_PAGE_URL"], ["self", "trigger", "serialize", "RUN_ID", "DEFAULT_CONN_ID", "POLLING_INTERVAL_SECONDS", "None", "RUN_PAGE_URL"], ["mock_sleep", "assert_called_with", "POLLING_INTERVAL_SECONDS"]], "RETRY_DELAY": [], "RETRY_LIMIT": [], "RUN_ID": [["self", "trigger", "DatabricksExecutionTrigger", "run_id", "RUN_ID", "databricks_conn_id", "DEFAULT_CONN_ID", "polling_period_seconds", "POLLING_INTERVAL_SECONDS", "run_page_url", "RUN_PAGE_URL"], ["self", "trigger", "serialize", "RUN_ID", "DEFAULT_CONN_ID", "POLLING_INTERVAL_SECONDS", "None", "RUN_PAGE_URL"], ["actual", "TriggerEvent", "RUN_ID", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_TERMINATED", "state_message", "result_state", "to_json", "RUN_PAGE_URL"], ["actual", "TriggerEvent", "RUN_ID", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_TERMINATED", "state_message", "result_state", "to_json", "RUN_PAGE_URL"]], "RUN_LIFE_CYCLE_STATES": [], "RUN_PAGE_URL": [["GET_RUN_RESPONSE_PENDING", "JOB_ID", "RUN_PAGE_URL", "LIFE_CYCLE_STATE_PENDING", "STATE_MESSAGE", "None"], ["GET_RUN_RESPONSE_TERMINATED", "JOB_ID", "RUN_PAGE_URL", "LIFE_CYCLE_STATE_TERMINATED", "None"], ["self", "trigger", "DatabricksExecutionTrigger", "run_id", "RUN_ID", "databricks_conn_id", "DEFAULT_CONN_ID", "polling_period_seconds", "POLLING_INTERVAL_SECONDS", "run_page_url", "RUN_PAGE_URL"], ["self", "trigger", "serialize", "RUN_ID", "DEFAULT_CONN_ID", "POLLING_INTERVAL_SECONDS", "None", "RUN_PAGE_URL"], ["mock_get_run_page_url", "return_value", "RUN_PAGE_URL"], ["actual", "TriggerEvent", "RUN_ID", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_TERMINATED", "state_message", "result_state", "to_json", "RUN_PAGE_URL"], ["actual", "TriggerEvent", "RUN_ID", "RunState", "life_cycle_state", "LIFE_CYCLE_STATE_TERMINATED", "state_message", "result_state", "to_json", "RUN_PAGE_URL"]], "STATE_MESSAGE": [["GET_RUN_RESPONSE_PENDING", "JOB_ID", "RUN_PAGE_URL", "LIFE_CYCLE_STATE_PENDING", "STATE_MESSAGE", "None"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 38}, "session_id": "9ZjxjkkWzZdi9NTzRPhN9FLhN4Ec0M6N-POasPZKnWw", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"DEFAULT_CONN_ID": "", "GET_RUN_RESPONSE_PENDING": "", "GET_RUN_RESPONSE_TERMINATED": "", "HOST": "", "JOB_ID": "", "LIFE_CYCLE_STATE_PENDING": "", "LIFE_CYCLE_STATE_TERMINATED": "", "LOGIN": "", "PASSWORD": "", "POLLING_INTERVAL_SECONDS": "", "RETRY_DELAY": "", "RETRY_LIMIT": "", "RUN_ID": "", "RUN_LIFE_CYCLE_STATES": "", "RUN_PAGE_URL": "", "STATE_MESSAGE": ""}, "variables_p": {"DEFAULT_CONN_ID": [["int", 0.26007201356233867], ["Pattern[Any]", 0.16688938122168254], ["list", 0.09848066148731607], ["str", 0.0867948455593771]], "GET_RUN_RESPONSE_PENDING": [["int", 0.9999999999999999]], "GET_RUN_RESPONSE_TERMINATED": [["int", 0.9999999999999999]], "HOST": [["dict", 0.7999999999545204], ["int", 0.19999999999854687], ["str", 3.046154765952506e-11]], "JOB_ID": [["int", 0.5045835144601641], ["bytes", 0.09448854788212518], ["str", 0.09115446378865118]], "LIFE_CYCLE_STATE_PENDING": [["str", 0.8535076918093479], ["int", 0.14649230819065204]], "LIFE_CYCLE_STATE_TERMINATED": [["str", 0.40096670267701584], ["List[str]", 0.22590620202799522], ["Dict[str, str]", 0.1860361002422608], ["int", 0.09440038209278927], ["cmk.base.api.agent_based.checking_classes.state", 0.09269061295993872]], "LOGIN": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]], "PASSWORD": [["str", 0.6666666665981479], ["Optional[str]", 0.3333333333077041], ["List[str]", 2.0236463666246685e-11], ["Type[set]", 2.0236463666246685e-11], ["float", 1.9154481344935525e-11], ["bool", 1.7260305223833547e-11]], "POLLING_INTERVAL_SECONDS": [["raiden.utils.Address", 0.10260288582299003], ["str", 0.09992803431909482]], "RETRY_DELAY": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "RETRY_LIMIT": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "RUN_ID": [["str", 0.2156149567011711], ["Optional[str]", 0.18722173520456525], ["raiden_contracts.utils.type_aliases.ChainID", 0.12075212403804989], ["int", 0.08822757587739309]], "RUN_LIFE_CYCLE_STATES": [["List[str]", 0.9999999981854337], ["str", 6.064907677121826e-10], ["bool", 4.3044429006943457e-10], ["Dict[str, List[str]]", 3.8202266281321934e-10], ["float", 2.0195625211030066e-10], ["bytes", 1.936522783793987e-10]], "RUN_PAGE_URL": [["str", 0.1768951063638573], ["Dict[str, Any]", 0.13271664651405163], ["Dict[int, str]", 0.1178297004513442], ["Dict[str, str]", 0.09971778779695957], ["int", 0.09546731100045108], ["Dict[str, Union[Any, Any]]", 0.08730358203601447]], "STATE_MESSAGE": [["str", 0.27743897300651577], ["Dict[str, Any]", 0.1878067444450975], ["cmk.utils.type_defs.UserId", 0.15891527524532534], ["Optional[grouper.models.user_metadata.UserMetadata]", 0.07881774749126952]]}}}