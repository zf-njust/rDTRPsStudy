{"error": null, "response": {"classes": [{"cls_lc": [[51, 0], [52, 7]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [], "name": "DeprecationRemovalRequired", "q_name": "DeprecationRemovalRequired", "variables": {}, "variables_p": {}}, {"cls_lc": [[71, 0], [399, 9]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[73, 4], [92, 103]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "setup_class", "params": {"cls": ""}, "params_descr": {"cls": ""}, "params_occur": {"cls": []}, "params_p": {"args": [], "cls": [["Tuple[str]", 0.49999999978930826], ["Type", 0.49999999978930826], ["bool", 1.2432275369423927e-10], ["int", 6.761356990136683e-11], ["Optional[str]", 6.761356990136683e-11], ["Type[Any]", 4.801814051136299e-11], ["Optional[List]", 4.157460403209174e-11]], "kwargs": [], "self": []}, "q_name": "TestKubernetesHook.setup_class", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[95, 4], [96, 30]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "teardown_class", "params": {"cls": ""}, "params_descr": {"cls": ""}, "params_occur": {"cls": []}, "params_p": {"args": [], "cls": [["Tuple[str]", 0.49999999978930826], ["Type", 0.49999999978930826], ["bool", 1.2432275369423927e-10], ["int", 6.761356990136683e-11], ["Optional[str]", 6.761356990136683e-11], ["Type[Any]", 4.801814051136299e-11], ["Optional[List]", 4.157460403209174e-11]], "kwargs": [], "self": []}, "q_name": "TestKubernetesHook.teardown_class", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Verifies whether in_cluster is called depending on combination of hook param and connection extra.", "long_descr": "Hook param should beat extra.", "ret": null}, "fn_lc": [[116, 4], [142, 69]], "fn_var_ln": {"api_conn": [[132, 8], [132, 16]], "kubernetes_hook": [[130, 8], [130, 23]], "return_value": [[131, 8], [131, 44]]}, "fn_var_occur": {"api_conn": [["api_conn", "kubernetes_hook", "get_conn"], ["isinstance", "api_conn", "kubernetes", "client", "api_client", "ApiClient"]], "kubernetes_hook": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id", "in_cluster", "in_cluster_param"], ["api_conn", "kubernetes_hook", "get_conn"], ["kubernetes_hook", "is_in_cluster", "in_cluster_called"]], "return_value": [["mock_get_default_client", "return_value", "kubernetes", "client", "api_client", "ApiClient"]]}, "name": "test_in_cluster_connection", "params": {"conn_id": "", "in_cluster_called": "", "in_cluster_param": "", "mock_get_default_client": "", "mock_in_cluster_loader": "", "mock_loader": "", "mock_merger": "", "self": ""}, "params_descr": {"conn_id": "", "in_cluster_called": "", "in_cluster_param": "", "mock_get_default_client": "", "mock_in_cluster_loader": "", "mock_loader": "", "mock_merger": "", "self": ""}, "params_occur": {"conn_id": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id", "in_cluster", "in_cluster_param"]], "in_cluster_called": [["kubernetes_hook", "is_in_cluster", "in_cluster_called"]], "in_cluster_param": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id", "in_cluster", "in_cluster_param"]], "mock_get_default_client": [["mock_get_default_client", "return_value", "kubernetes", "client", "api_client", "ApiClient"], ["mock_get_default_client", "assert_called"], ["mock_get_default_client", "called"]], "mock_in_cluster_loader": [["mock_in_cluster_loader", "assert_called_once"]], "mock_loader": [["mock_loader", "assert_not_called"]], "mock_merger": [["mock_merger", "assert_not_called"]], "self": []}, "params_p": {"args": [], "conn_id": [["aiohttp.test_utils.TestServer", 0.09679876907998841]], "in_cluster_called": [["asyncio.StreamWriter", 0.49701705485929715], ["asyncio.StreamReader", 0.4020010446349907]], "in_cluster_param": [["aiohttp.test_utils.TestServer", 0.09679876907998841]], "kwargs": [], "mock_get_default_client": [["unittesmock.MagicMock", 0.505937757529301], ["kubernetes.clienCustomObjectsApi", 0.09296884230909774]], "mock_in_cluster_loader": [["unittesmock.MagicMock", 0.8110076149665641], ["mock.Mock", 0.18899238503343557]], "mock_loader": [["unittesmock.MagicMock", 1.0]], "mock_merger": [["unittesmock.MagicMock", 1.0]], "self": []}, "q_name": "TestKubernetesHook.test_in_cluster_connection", "ret_exprs": [], "ret_type": "", "variables": {"api_conn": "", "kubernetes_hook": "", "return_value": ""}, "variables_p": {"api_conn": [["str", 0.21643536594906376], ["int", 0.09929338524399191]], "kubernetes_hook": [["list", 0.10427760389214719], ["decksite.data.models.person.Person", 0.09354224847244538], ["str", 0.09114976927026315]], "return_value": [["str", 0.22163527224634094], ["Dict[str, Union[int, str]]", 0.10587833958592238], ["Dict[str, None]", 0.10439443507606558], ["Dict[Any, Union[int, str]]", 0.10197957497589906]]}}, {"docstring": {"func": "Verifies the behavior of the ``_get_default_client`` function.  It should try the \"in cluster\"", "long_descr": "loader first but if that fails, try to use the default kubeconfig file.", "ret": null}, "fn_lc": [[148, 4], [173, 75]], "fn_var_ln": {"api_conn": [[162, 8], [162, 16]], "kubernetes_hook": [[161, 8], [161, 23]], "side_effect": [[160, 12], [160, 38]]}, "fn_var_occur": {"api_conn": [["api_conn", "kubernetes_hook", "_get_default_client"], ["isinstance", "api_conn", "kubernetes", "client", "api_client", "ApiClient"]], "kubernetes_hook": [["kubernetes_hook", "KubernetesHook"], ["api_conn", "kubernetes_hook", "_get_default_client"], ["kubernetes_hook", "is_in_cluster", "False"], ["kubernetes_hook", "is_in_cluster", "True"]], "side_effect": [["mock_incluster", "side_effect", "ConfigException"]]}, "name": "test_get_default_client", "params": {"in_cluster_fails": "", "mock_incluster": "", "mock_loader": "", "mock_merger": "", "self": ""}, "params_descr": {"in_cluster_fails": "", "mock_incluster": "", "mock_loader": "", "mock_merger": "", "self": ""}, "params_occur": {"in_cluster_fails": [], "mock_incluster": [["mock_incluster", "side_effect", "ConfigException"], ["mock_incluster", "assert_called_once"], ["mock_incluster", "assert_called_once"]], "mock_loader": [["mock_loader", "assert_called_once"], ["mock_loader", "assert_not_called"]], "mock_merger": [["mock_merger", "assert_called_once_with", "KUBE_CONFIG_PATH"], ["mock_merger", "assert_not_called"]], "self": []}, "params_p": {"args": [], "in_cluster_fails": [["mock.MagicMock", 0.36807453167610843], ["unittesmock.MagicMock", 0.2686353658025071]], "kwargs": [], "mock_incluster": [["unittesmock.MagicMock", 0.6139674832086578]], "mock_loader": [["unittesmock.MagicMock", 0.9182120371363698]], "mock_merger": [["unittesmock.MagicMock", 1.0]], "self": []}, "q_name": "TestKubernetesHook.test_get_default_client", "ret_exprs": [], "ret_type": "", "variables": {"api_conn": "", "kubernetes_hook": "", "side_effect": ""}, "variables_p": {"api_conn": [["str", 0.310756154789682], ["Tuple[str, str, str, str, str]", 0.12022530180427965], ["bytes", 0.09935764810552665], ["List[str]", 0.08882551957021717]], "kubernetes_hook": [["str", 0.28066948613979287], ["guillotina.db.interfaces.ITransaction", 0.12472709728274685]], "side_effect": [["str", 0.4069487948215031], ["Dict[str, Union[Any, Any]]", 0.20505991880458008], ["mock._patch[Literal]", 0.16788316335399828], ["List[str]", 0.06990263857542615]]}}, {"docstring": {"func": "Verifies whether disable verify ssl is called depending on combination of hook param and", "long_descr": "connection extra. Hook param should beat extra.", "ret": null}, "fn_lc": [[191, 4], [205, 75]], "fn_var_ln": {"api_conn": [[203, 8], [203, 16]], "kubernetes_hook": [[202, 8], [202, 23]]}, "fn_var_occur": {"api_conn": [["api_conn", "kubernetes_hook", "get_conn"], ["isinstance", "api_conn", "kubernetes", "client", "api_client", "ApiClient"]], "kubernetes_hook": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id", "disable_verify_ssl", "disable_verify_ssl"], ["api_conn", "kubernetes_hook", "get_conn"]]}, "name": "test_disable_verify_ssl", "params": {"conn_id": "", "disable_called": "", "disable_verify_ssl": "", "mock_disable": "", "self": ""}, "params_descr": {"conn_id": "", "disable_called": "", "disable_verify_ssl": "", "mock_disable": "", "self": ""}, "params_occur": {"conn_id": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id", "disable_verify_ssl", "disable_verify_ssl"]], "disable_called": [["mock_disable", "called", "disable_called"]], "disable_verify_ssl": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id", "disable_verify_ssl", "disable_verify_ssl"]], "mock_disable": [["mock_disable", "called", "disable_called"]], "self": []}, "params_p": {"args": [], "conn_id": [["bool", 0.29749509340443336], ["sqlalchemy.orm.Session", 0.21680611092563984], ["set", 0.11084528043605005], ["models.characters.character_base.Character", 0.09519468368412957], ["str", 0.08969763184913865]], "disable_called": [["unittesmock.MagicMock", 0.9999999999999999]], "disable_verify_ssl": [["bool", 0.29749509340443336], ["sqlalchemy.orm.Session", 0.21680611092563984], ["set", 0.11084528043605005], ["models.characters.character_base.Character", 0.09519468368412957], ["str", 0.08969763184913865]], "kwargs": [], "mock_disable": [["unittesmock.MagicMock", 0.9999999999999999]], "self": []}, "q_name": "TestKubernetesHook.test_disable_verify_ssl", "ret_exprs": [], "ret_type": "", "variables": {"api_conn": "", "kubernetes_hook": ""}, "variables_p": {"api_conn": [["str", 0.21643536594906376], ["int", 0.09929338524399191]], "kubernetes_hook": [["str", 0.17987653146589888], ["list", 0.11631606970537277]]}}, {"docstring": {"func": "Verifies whether enable tcp keepalive is called depending on combination of hook", "long_descr": "param and connection extra. Hook param should beat extra.", "ret": null}, "fn_lc": [[223, 4], [237, 75]], "fn_var_ln": {"api_conn": [[235, 8], [235, 16]], "kubernetes_hook": [[234, 8], [234, 23]]}, "fn_var_occur": {"api_conn": [["api_conn", "kubernetes_hook", "get_conn"], ["isinstance", "api_conn", "kubernetes", "client", "api_client", "ApiClient"]], "kubernetes_hook": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id", "disable_tcp_keepalive", "disable_tcp_keepalive"], ["api_conn", "kubernetes_hook", "get_conn"]]}, "name": "test_disable_tcp_keepalive", "params": {"conn_id": "", "disable_tcp_keepalive": "", "expected": "", "mock_enable": "", "self": ""}, "params_descr": {"conn_id": "", "disable_tcp_keepalive": "", "expected": "", "mock_enable": "", "self": ""}, "params_occur": {"conn_id": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id", "disable_tcp_keepalive", "disable_tcp_keepalive"]], "disable_tcp_keepalive": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id", "disable_tcp_keepalive", "disable_tcp_keepalive"]], "expected": [["mock_enable", "called", "expected"]], "mock_enable": [["mock_enable", "called", "expected"]], "self": []}, "params_p": {"args": [], "conn_id": [["bool", 0.29820624042044785], ["sqlalchemy.orm.Session", 0.20894861146053761], ["set", 0.11107544406704094], ["models.characters.character_base.Character", 0.08896104186456129], ["str", 0.08850149856163884]], "disable_tcp_keepalive": [["bool", 0.29820624042044785], ["sqlalchemy.orm.Session", 0.20894861146053761], ["set", 0.11107544406704094], ["models.characters.character_base.Character", 0.08896104186456129], ["str", 0.08850149856163884]], "expected": [["unittesmock.MagicMock", 0.3184538461272157]], "kwargs": [], "mock_enable": [["unittesmock.MagicMock", 0.3184538461272157]], "self": []}, "q_name": "TestKubernetesHook.test_disable_tcp_keepalive", "ret_exprs": [], "ret_type": "", "variables": {"api_conn": "", "kubernetes_hook": ""}, "variables_p": {"api_conn": [["str", 0.21643536594906376], ["int", 0.09929338524399191]], "kubernetes_hook": [["str", 0.17987653146589888], ["list", 0.11631606970537277]]}}, {"docstring": {"func": "Verifies kube config path depending on combination of hook param and connection extra.", "long_descr": "Hook param should beat extra.", "ret": null}, "fn_lc": [[252, 4], [263, 75]], "fn_var_ln": {"api_conn": [[260, 8], [260, 16]], "kubernetes_hook": [[259, 8], [259, 23]]}, "fn_var_occur": {"api_conn": [["api_conn", "kubernetes_hook", "get_conn"], ["isinstance", "api_conn", "kubernetes", "client", "api_client", "ApiClient"]], "kubernetes_hook": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id", "config_file", "config_path_param"], ["api_conn", "kubernetes_hook", "get_conn"]]}, "name": "test_kube_config_path", "params": {"call_path": "", "config_path_param": "", "conn_id": "", "mock_kube_config_loader": "", "mock_kube_config_merger": "", "self": ""}, "params_descr": {"call_path": "", "config_path_param": "", "conn_id": "", "mock_kube_config_loader": "", "mock_kube_config_merger": "", "self": ""}, "params_occur": {"call_path": [["mock_kube_config_merger", "assert_called_once_with", "call_path"]], "config_path_param": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id", "config_file", "config_path_param"]], "conn_id": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id", "config_file", "config_path_param"]], "mock_kube_config_loader": [["mock_kube_config_loader", "assert_called_once"]], "mock_kube_config_merger": [["mock_kube_config_merger", "assert_called_once_with", "call_path"]], "self": []}, "params_p": {"args": [], "call_path": [["unittesmock.MagicMock", 0.5312321269434722], ["mock.MagicMock", 0.18926398815075035], ["mock.Mock", 0.18798803241885914]], "config_path_param": [["Optional[str]", 0.10090915132475727], ["float", 0.10090915132475727], ["Dict[str, Any]", 0.09650647709766161], ["str", 0.09644853623836667], ["List[str]", 0.09375458592655142]], "conn_id": [["Optional[str]", 0.10090915132475727], ["float", 0.10090915132475727], ["Dict[str, Any]", 0.09650647709766161], ["str", 0.09644853623836667], ["List[str]", 0.09375458592655142]], "kwargs": [], "mock_kube_config_loader": [["unittesmock.MagicMock", 0.6113330419059577], ["mock.Mock", 0.28427255565178655], ["mock.MagicMock", 0.10439440244225583]], "mock_kube_config_merger": [["unittesmock.MagicMock", 0.5312321269434722], ["mock.MagicMock", 0.18926398815075035], ["mock.Mock", 0.18798803241885914]], "self": []}, "q_name": "TestKubernetesHook.test_kube_config_path", "ret_exprs": [], "ret_type": "", "variables": {"api_conn": "", "kubernetes_hook": ""}, "variables_p": {"api_conn": [["str", 0.21643536594906376], ["int", 0.09929338524399191]], "kubernetes_hook": [["str", 0.5218324250319297], ["int", 0.28820231116230255]]}}, {"docstring": {"func": "Verifies whether temporary kube config file is created.", "long_descr": null, "ret": null}, "fn_lc": [[276, 4], [294, 75]], "fn_var_ln": {"api_conn": [[285, 8], [285, 16]], "kubernetes_hook": [[284, 8], [284, 23]]}, "fn_var_occur": {"api_conn": [["api_conn", "kubernetes_hook", "get_conn"], ["isinstance", "api_conn", "kubernetes", "client", "api_client", "ApiClient"]], "kubernetes_hook": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id"], ["api_conn", "kubernetes_hook", "get_conn"]]}, "name": "test_kube_config_connection", "params": {"conn_id": "", "has_config": "", "mock_kube_config_loader": "", "mock_kube_config_merger": "", "mock_tempfile": "", "self": ""}, "params_descr": {"conn_id": "", "has_config": "", "mock_kube_config_loader": "", "mock_kube_config_merger": "", "mock_tempfile": "", "self": ""}, "params_occur": {"conn_id": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id"]], "has_config": [], "mock_kube_config_loader": [["mock_kube_config_loader", "assert_called_once"], ["mock_kube_config_loader", "assert_called_once"]], "mock_kube_config_merger": [["mock_kube_config_merger", "return_value", "config"], ["mock_kube_config_merger", "assert_called_once_with"], ["mock_kube_config_merger", "assert_called_once_with", "KUBE_CONFIG_PATH"]], "mock_tempfile": [["mock_tempfile", "return_value", "__enter__", "return_value", "name"], ["mock_tempfile", "is_called_once"], ["mock_tempfile", "assert_not_called"]], "self": []}, "params_p": {"args": [], "conn_id": [["tests.async_mock.MagicMock", 0.12508829223697987]], "has_config": [["mock.Mock", 0.5083815527888578], ["tests.async_mock.MagicMock", 0.09160197818243289]], "kwargs": [], "mock_kube_config_loader": [["unittesmock.MagicMock", 0.19205785312117113], ["mock.MagicMock", 0.14949009053370094]], "mock_kube_config_merger": [["unittesmock.MagicMock", 0.38564317313807106]], "mock_tempfile": [["unittesmock.MagicMock", 0.380720700480409]], "self": []}, "q_name": "TestKubernetesHook.test_kube_config_connection", "ret_exprs": [], "ret_type": "", "variables": {"api_conn": "", "kubernetes_hook": ""}, "variables_p": {"api_conn": [["str", 0.21643536594906376], ["int", 0.09929338524399191]], "kubernetes_hook": [["str", 0.2990948128500801]]}}, {"docstring": {"func": "Verifies cluster context depending on combination of hook param and connection extra.", "long_descr": "Hook param should beat extra.", "ret": null}, "fn_lc": [[308, 4], [315, 101]], "fn_var_ln": {"kubernetes_hook": [[313, 8], [313, 23]]}, "fn_var_occur": {"kubernetes_hook": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id", "cluster_context", "context_param"], ["kubernetes_hook", "get_conn"]]}, "name": "test_cluster_context", "params": {"conn_id": "", "context_param": "", "expected_context": "", "mock_load_kube_config": "", "self": ""}, "params_descr": {"conn_id": "", "context_param": "", "expected_context": "", "mock_load_kube_config": "", "self": ""}, "params_occur": {"conn_id": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id", "cluster_context", "context_param"]], "context_param": [["kubernetes_hook", "KubernetesHook", "conn_id", "conn_id", "cluster_context", "context_param"]], "expected_context": [["mock_load_kube_config", "assert_called_with", "client_configuration", "None", "context", "expected_context"]], "mock_load_kube_config": [["mock_load_kube_config", "assert_called_with", "client_configuration", "None", "context", "expected_context"]], "self": []}, "params_p": {"args": [], "conn_id": [["aiohttp.test_utils.TestServer", 0.09418588126308872]], "context_param": [["aiohttp.test_utils.TestServer", 0.09418588126308872]], "expected_context": [["str", 0.2106732532311767], ["raiden.utils.List[raiden.raiden_service.RaidenService]", 0.17872940430376516], ["Optional[Tuple[float, float]]", 0.12585899949519508], ["aiohttp.test_utils.TestClient", 0.09581751846624845], ["backup.config.Config", 0.09518041668983193]], "kwargs": [], "mock_load_kube_config": [["str", 0.2106732532311767], ["raiden.utils.List[raiden.raiden_service.RaidenService]", 0.17872940430376516], ["Optional[Tuple[float, float]]", 0.12585899949519508], ["aiohttp.test_utils.TestClient", 0.09581751846624845], ["backup.config.Config", 0.09518041668983193]], "self": []}, "q_name": "TestKubernetesHook.test_cluster_context", "ret_exprs": [], "ret_type": "", "variables": {"kubernetes_hook": ""}, "variables_p": {"kubernetes_hook": [["int", 0.44676148364955154]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[320, 4], [325, 75]], "fn_var_ln": {"api_conn": [[322, 8], [322, 16]], "kubernetes_hook": [[321, 8], [321, 23]]}, "fn_var_occur": {"api_conn": [["api_conn", "kubernetes_hook", "get_conn"], ["isinstance", "api_conn", "kubernetes", "client", "api_client", "ApiClient"]], "kubernetes_hook": [["kubernetes_hook", "KubernetesHook", "conn_id"], ["api_conn", "kubernetes_hook", "get_conn"]]}, "name": "test_default_kube_config_connection", "params": {"mock_kube_config_loader": "", "mock_kube_config_merger": "", "self": ""}, "params_descr": {"mock_kube_config_loader": "", "mock_kube_config_merger": "", "self": ""}, "params_occur": {"mock_kube_config_loader": [["mock_kube_config_loader", "assert_called_once"]], "mock_kube_config_merger": [["mock_kube_config_merger", "assert_called_once_with"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_kube_config_loader": [["unittesmock.MagicMock", 0.28845985190844875], ["mock.MagicMock", 0.2251226831103526], ["mock.Mock", 0.10906241367506163]], "mock_kube_config_merger": [["unittesmock.MagicMock", 0.28845985190844875], ["mock.MagicMock", 0.2251226831103526], ["mock.Mock", 0.10906241367506163]], "self": []}, "q_name": "TestKubernetesHook.test_default_kube_config_connection", "ret_exprs": [], "ret_type": "", "variables": {"api_conn": "", "kubernetes_hook": ""}, "variables_p": {"api_conn": [["str", 0.21643536594906376], ["int", 0.09929338524399191]], "kubernetes_hook": [["str", 0.2828979460389546], ["Dict[str, str]", 0.12272024949321404]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[335, 4], [343, 13]], "fn_var_ln": {"hook": [[336, 8], [336, 12]]}, "fn_var_occur": {"hook": [["hook", "KubernetesHook", "conn_id", "conn_id"], ["hook", "get_namespace", "expected"]]}, "name": "test_get_namespace", "params": {"conn_id": "", "expected": "", "self": ""}, "params_descr": {"conn_id": "", "expected": "", "self": ""}, "params_occur": {"conn_id": [["hook", "KubernetesHook", "conn_id", "conn_id"]], "expected": [["hook", "get_namespace", "expected"]], "self": []}, "params_p": {"args": [], "conn_id": [["int", 0.6762587912329554], ["sqlalchemy.orm.Session", 0.11123223189240307], ["str", 0.07904927298074343], ["bytearray", 0.06600726951593053]], "expected": [["int", 0.3539772240180782], ["str", 0.2579706295074753]], "kwargs": [], "self": []}, "q_name": "TestKubernetesHook.test_get_namespace", "ret_exprs": [], "ret_type": "", "variables": {"hook": ""}, "variables_p": {"hook": [["str", 0.1730770696764748], ["Dict[str, str]", 0.09082639326508897], ["Type[manager.projects.models.snapshots.Snapshot]", 0.07687527318202267], ["List[str]", 0.06959565479177965]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[347, 4], [351, 71]], "fn_var_ln": {"hook": [[348, 8], [348, 12]]}, "fn_var_occur": {"hook": [["hook", "KubernetesHook", "None"], ["isinstance", "hook", "core_v1_client", "kubernetes", "client", "CoreV1Api"], ["isinstance", "hook", "api_client", "kubernetes", "client", "ApiClient"], ["isinstance", "hook", "get_conn", "kubernetes", "client", "ApiClient"]]}, "name": "test_client_types", "params": {"mock_kube_config_loader": "", "mock_kube_config_merger": "", "self": ""}, "params_descr": {"mock_kube_config_loader": "", "mock_kube_config_merger": "", "self": ""}, "params_occur": {"mock_kube_config_loader": [], "mock_kube_config_merger": [], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_kube_config_loader": [["mock.Mock", 0.4466882029082802], ["Generator[None, Any, None]", 0.1874903901933611], ["tests.async_mock.MagicMock", 0.09124526764656672]], "mock_kube_config_merger": [["mock.Mock", 0.4466882029082802], ["Generator[None, Any, None]", 0.1874903901933611], ["tests.async_mock.MagicMock", 0.09124526764656672]], "self": []}, "q_name": "TestKubernetesHook.test_client_types", "ret_exprs": [], "ret_type": "", "variables": {"hook": ""}, "variables_p": {"hook": [["str", 0.1965962758773882], ["qutebrowser.config.configtypes.String", 0.15712186785143192]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[354, 4], [360, 60]], "fn_var_ln": {"conn_uri": [[355, 8], [355, 16]], "kubernetes_hook": [[357, 12], [357, 27]]}, "fn_var_occur": {"conn_uri": [["mock", "patch", "dict", "AIRFLOW_CONN_KUBERNETES_DEFAULT", "conn_uri"]], "kubernetes_hook": [["kubernetes_hook", "KubernetesHook", "conn_id"], ["kubernetes_hook", "get_conn"], ["kubernetes_hook", "get_namespace"]]}, "name": "test_prefixed_names_still_work", "params": {"mock_get_client": "", "self": ""}, "params_descr": {"mock_get_client": "", "self": ""}, "params_occur": {"mock_get_client": [["mock_get_client", "assert_called_with", "cluster_context"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_get_client": [["unittesmock.MagicMock", 0.592914024033493], ["kubernetes.clienCustomObjectsApi", 0.1265260785386898]], "self": []}, "q_name": "TestKubernetesHook.test_prefixed_names_still_work", "ret_exprs": [], "ret_type": "", "variables": {"conn_uri": "", "kubernetes_hook": ""}, "variables_p": {"conn_uri": [["dict", 0.41172143206896294], ["int", 0.12947038769294159], ["str", 0.10892432548696812], ["Pattern[str]", 0.0866268633648791], ["Dict[str, Union[Any, Any]]", 0.081855426873174]], "kubernetes_hook": [["str", 0.21544765781918115]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[362, 4], [374, 28]], "fn_var_ln": {"hook": [[372, 8], [372, 12]]}, "fn_var_occur": {"hook": [["hook", "KubernetesHook"], ["hook", "conn_extras"], ["hook", "KubernetesHook"], ["hook", "conn_extras"]]}, "name": "test_missing_default_connection_is_ok", "params": {"remove_default_conn": "", "self": ""}, "params_descr": {"remove_default_conn": "", "self": ""}, "params_occur": {"remove_default_conn": [], "self": []}, "params_p": {"args": [], "kwargs": [], "remove_default_conn": [["List[str]", 0.18502979309362783], ["asyncio.AbstractEventLoop", 0.11037985692899391], ["django.db.backends.postgresql.schema.DatabaseSchemaEditor", 0.10777512779359488], ["str", 0.1063663350460517], ["Exception", 0.10131399119521899]], "self": []}, "q_name": "TestKubernetesHook.test_missing_default_connection_is_ok", "ret_exprs": [], "ret_type": "", "variables": {"hook": ""}, "variables_p": {"hook": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[379, 4], [399, 9]], "fn_var_ln": {"hook": [[382, 8], [382, 12]]}, "fn_var_occur": {"hook": [["hook", "KubernetesHook"], ["hook", "delete_custom_object", "group", "version", "plural", "name", "namespace", "_preload_content"]]}, "name": "test_delete_custom_object", "params": {"mock_custom_object_api": "", "mock_kube_config_loader": "", "mock_kube_config_merger": "", "self": ""}, "params_descr": {"mock_custom_object_api": "", "mock_kube_config_loader": "", "mock_kube_config_merger": "", "self": ""}, "params_occur": {"mock_custom_object_api": [["mock_custom_object_api", "return_value", "delete_namespaced_custom_object", "assert_called_once_with", "group", "version", "plural", "name", "namespace", "_preload_content"]], "mock_kube_config_loader": [], "mock_kube_config_merger": [], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_custom_object_api": [["unittesmock.MagicMock", 0.2936782794380754]], "mock_kube_config_loader": [["mock.Mock", 0.5041570791678543]], "mock_kube_config_merger": [["mock.Mock", 0.5041570791678543]], "self": []}, "q_name": "TestKubernetesHook.test_delete_custom_object", "ret_exprs": [], "ret_type": "", "variables": {"hook": ""}, "variables_p": {"hook": [["list", 0.1843040701979028]]}}], "name": "TestKubernetesHook", "q_name": "TestKubernetesHook", "variables": {}, "variables_p": {}}, {"cls_lc": [[402, 0], [416, 38]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[411, 4], [416, 38]], "fn_var_ln": {"kubernetes_hook": [[415, 12], [415, 27]]}, "fn_var_occur": {"kubernetes_hook": [["kubernetes_hook", "KubernetesHook"], ["kubernetes_hook", "get_conn"]]}, "name": "test_should_raise_exception_on_invalid_configuration", "params": {"conn_uri": "", "self": ""}, "params_descr": {"conn_uri": "", "self": ""}, "params_occur": {"conn_uri": [["mock", "patch", "dict", "AIRFLOW_CONN_KUBERNETES_DEFAULT", "conn_uri"]], "self": []}, "params_p": {"args": [], "conn_uri": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesHookIncorrectConfiguration.test_should_raise_exception_on_invalid_configuration", "ret_exprs": [], "ret_type": "", "variables": {"kubernetes_hook": ""}, "variables_p": {"kubernetes_hook": [["dict", 0.09999999999999999]]}}], "name": "TestKubernetesHookIncorrectConfiguration", "q_name": "TestKubernetesHookIncorrectConfiguration", "variables": {}, "variables_p": {}}, {"cls_lc": [[419, 0], [604, 82]], "cls_var_ln": {"INCLUSTER_CONFIG_LOADER": [[421, 4], [421, 27]], "KUBE_API": [[423, 4], [423, 12]], "KUBE_CONFIG_MERGER": [[420, 4], [420, 22]], "KUBE_LOADER_CONFIG": [[422, 4], [422, 22]]}, "cls_var_occur": {"INCLUSTER_CONFIG_LOADER": [], "KUBE_API": [], "KUBE_CONFIG_MERGER": [], "KUBE_LOADER_CONFIG": []}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[426, 4], [429, 16]], "fn_var_ln": {"f": [[427, 8], [427, 9]]}, "fn_var_occur": {"f": [["f", "Future"], ["f", "set_result", "return_value"]]}, "name": "mock_await_result", "params": {"return_value": ""}, "params_descr": {"return_value": ""}, "params_occur": {"return_value": [["f", "set_result", "return_value"]]}, "params_p": {"args": [], "kwargs": [], "return_value": [["str", 0.6122126591642282], ["Optional[int]", 0.10953186490946423], ["Optional[str]", 0.09327735123809147], ["bool", 0.09311747503555239], ["List[str]", 0.09186064965266366]], "self": []}, "q_name": "TestAsyncKubernetesHook.mock_await_result", "ret_exprs": ["return f"], "ret_type": "", "ret_type_p": [["str", 0.8759149841720621]], "variables": {"f": ""}, "variables_p": {"f": [["str", 0.53242354373562], ["List[List[Any]]", 0.0992220716484752], ["property", 0.09265606993788686], ["set", 0.09155207413282967], ["list", 0.0907398147680264]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[432, 4], [435, 36]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "kube_config_loader", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["mock", "patch", "self", "KUBE_LOADER_CONFIG", "kube_config_loader"], ["kube_config_loader", "return_value", "load_and_set", "return_value", "self", "mock_await_result", "None"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestAsyncKubernetesHook.kube_config_loader", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[439, 4], [449, 30]], "fn_var_ln": {"extra": [[440, 8], [440, 13]]}, "fn_var_occur": {"extra": [["merge_conn", "Connection", "conn_type", "conn_id", "CONN_ID", "extra", "json", "dumps", "extra"]]}, "name": "kubernetes_connection", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestAsyncKubernetesHook.kubernetes_connection", "ret_exprs": [], "ret_type": "", "variables": {"extra": ""}, "variables_p": {"extra": [["int", 0.4190458616999626], ["str", 0.3881548102700452], ["List[str]", 0.09872984984652643], ["Tuple[str, str, str, str, str, str, str]", 0.09406947818346567]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[455, 4], [465, 44]], "fn_var_ln": {"hook": [[456, 8], [456, 12]]}, "fn_var_occur": {"hook": [["hook", "AsyncKubernetesHook", "conn_id", "None", "in_cluster", "True", "config_file", "None", "cluster_context", "None"], ["hook", "_load_config"]]}, "name": "test_load_config_with_incluster", "params": {"incluster_config": "", "kube_config_loader": "", "kube_config_merger": "", "self": ""}, "params_descr": {"incluster_config": "", "kube_config_loader": "", "kube_config_merger": "", "self": ""}, "params_occur": {"incluster_config": [["incluster_config", "assert_called_once"]], "kube_config_loader": [["kube_config_loader", "called"]], "kube_config_merger": [["kube_config_merger", "called"]], "self": []}, "params_p": {"args": [], "incluster_config": [["dict", 0.39025569316991465]], "kube_config_loader": [["backup.config.Config", 0.2174005035299258]], "kube_config_merger": [["backup.config.Config", 0.2174005035299258]], "kwargs": [], "self": []}, "q_name": "TestAsyncKubernetesHook.test_load_config_with_incluster", "ret_exprs": [], "ret_type": "", "variables": {"hook": ""}, "variables_p": {"hook": [["chalice.config.DeployedResources", 0.2581830948338214], ["dict", 0.2045204730312986], ["Dict[str, int]", 0.09569983662616902]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[470, 4], [482, 47]], "fn_var_ln": {"hook": [[473, 8], [473, 12]]}, "fn_var_occur": {"hook": [["hook", "AsyncKubernetesHook", "conn_id", "None", "in_cluster", "False", "config_file", "ASYNC_CONFIG_PATH", "cluster_context", "None"], ["hook", "_load_config"]]}, "name": "test_load_config_with_config_path", "params": {"incluster_config": "", "kube_config_loader": "", "kube_config_merger": "", "self": ""}, "params_descr": {"incluster_config": "", "kube_config_loader": "", "kube_config_merger": "", "self": ""}, "params_occur": {"incluster_config": [["incluster_config", "called"]], "kube_config_loader": [["kube_config_loader", "assert_called_once"]], "kube_config_merger": [["kube_config_merger", "assert_called_once"]], "self": []}, "params_p": {"args": [], "incluster_config": [], "kube_config_loader": [["unittesmock.MagicMock", 0.18045265485798825]], "kube_config_merger": [["unittesmock.MagicMock", 0.18045265485798825]], "kwargs": [], "self": []}, "q_name": "TestAsyncKubernetesHook.test_load_config_with_config_path", "ret_exprs": [], "ret_type": "", "variables": {"hook": ""}, "variables_p": {"hook": [["chalice.config.DeployedResources", 0.46868594788302453], ["tensorhive.core.utils.mailer.Message", 0.12242772646080152], ["qutebrowser.config.configtypes.String", 0.11199606106419488], ["cmk.base.api.agent_based.type_defs.Parameters", 0.08156283330543686]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[487, 4], [503, 47]], "fn_var_ln": {"hook": [[494, 8], [494, 12]]}, "fn_var_occur": {"hook": [["hook", "AsyncKubernetesHook", "conn_id", "CONN_ID", "in_cluster", "False", "config_file", "None", "cluster_context", "None"], ["hook", "_load_config"]]}, "name": "test_load_config_with_conn_id", "params": {"incluster_config": "", "kube_config_loader": "", "kube_config_merger": "", "kubernetes_connection": "", "self": ""}, "params_descr": {"incluster_config": "", "kube_config_loader": "", "kube_config_merger": "", "kubernetes_connection": "", "self": ""}, "params_occur": {"incluster_config": [["incluster_config", "called"]], "kube_config_loader": [["kube_config_loader", "assert_called_once"]], "kube_config_merger": [["kube_config_merger", "assert_called_once"]], "kubernetes_connection": [], "self": []}, "params_p": {"args": [], "incluster_config": [], "kube_config_loader": [["tests._TestServerFactory", 0.08900075944202278], ["unittesmock.MagicMock", 0.08832575386248388]], "kube_config_merger": [["tests._TestServerFactory", 0.08900075944202278], ["unittesmock.MagicMock", 0.08832575386248388]], "kubernetes_connection": [["tests.basilisp.helpers.CompileFn", 0.12534930614616094], ["backup.config.Config", 0.0929948222621789]], "kwargs": [], "self": []}, "q_name": "TestAsyncKubernetesHook.test_load_config_with_conn_id", "ret_exprs": [], "ret_type": "", "variables": {"hook": ""}, "variables_p": {"hook": [["chalice.config.DeployedResources", 0.5078941989342022], ["libsoundtouch.tests.test_libsoundtouch.MockDevice", 0.08125160277212294], ["set", 0.08085191115263209], ["Optional[str]", 0.07984123593205092]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[508, 4], [526, 34]], "fn_var_ln": {"hook": [[514, 8], [514, 12]], "kube_client": [[520, 8], [520, 19]]}, "fn_var_occur": {"hook": [["hook", "AsyncKubernetesHook", "conn_id", "None", "in_cluster", "False", "config_file", "None", "cluster_context", "None"], ["kube_client", "hook", "_load_config"]], "kube_client": [["kube_client", "hook", "_load_config"], ["kube_client", "None"]]}, "name": "test_load_config_with_default_client", "params": {"incluster_config": "", "kube_config_loader": "", "kube_config_merger": "", "self": ""}, "params_descr": {"incluster_config": "", "kube_config_loader": "", "kube_config_merger": "", "self": ""}, "params_occur": {"incluster_config": [["incluster_config", "called"]], "kube_config_loader": [["kube_config_loader", "assert_called_once"]], "kube_config_merger": [["kube_config_merger", "assert_called_once"]], "self": []}, "params_p": {"args": [], "incluster_config": [], "kube_config_loader": [["tests.test_util.aiohttp.AiohttpClientMocker", 0.09189278255781579]], "kube_config_merger": [["tests.test_util.aiohttp.AiohttpClientMocker", 0.09189278255781579]], "kwargs": [], "self": []}, "q_name": "TestAsyncKubernetesHook.test_load_config_with_default_client", "ret_exprs": [], "ret_type": "", "variables": {"hook": "", "kube_client": ""}, "variables_p": {"hook": [["chalice.config.DeployedResources", 0.6975245118843806], ["qutebrowser.config.configtypes.String", 0.11274383451168751]], "kube_client": [["str", 0.19342139903968392]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[529, 4], [539, 37]], "fn_var_ln": {"hook": [[533, 12], [533, 16]]}, "fn_var_occur": {"hook": [["hook", "AsyncKubernetesHook", "conn_id", "CONN_ID", "in_cluster", "True", "config_file", "ASYNC_CONFIG_PATH", "cluster_context", "None"], ["hook", "_load_config"]]}, "name": "test_load_config_with_several_params", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestAsyncKubernetesHook.test_load_config_with_several_params", "ret_exprs": [], "ret_type": "", "variables": {"hook": ""}, "variables_p": {"hook": [["str", 0.6205508225780434], ["Optional[str]", 0.17998290926811608], ["libsoundtouch.tests.test_libsoundtouch.MockDevice", 0.09737189984532178]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[543, 4], [561, 9]], "fn_var_ln": {"hook": [[546, 8], [546, 12]], "return_value": [[544, 8], [544, 31]]}, "fn_var_occur": {"hook": [["hook", "AsyncKubernetesHook", "conn_id", "None", "in_cluster", "False", "config_file", "None", "cluster_context", "None"], ["hook", "get_pod", "name", "POD_NAME", "namespace", "NAMESPACE"]], "return_value": [["lib_method", "return_value", "self", "mock_await_result", "None"]]}, "name": "test_get_pod", "params": {"kube_config_loader": "", "lib_method": "", "self": ""}, "params_descr": {"kube_config_loader": "", "lib_method": "", "self": ""}, "params_occur": {"kube_config_loader": [], "lib_method": [["lib_method", "return_value", "self", "mock_await_result", "None"], ["lib_method", "assert_called_once"], ["lib_method", "assert_called_with", "name", "POD_NAME", "namespace", "NAMESPACE"]], "self": [["lib_method", "return_value", "self", "mock_await_result", "None"]]}, "params_p": {"args": [], "kube_config_loader": [["Dict[str, Any]", 0.11708377414091949], ["bool", 0.10788119918290623], ["Exception", 0.09831509409312593], ["asyncio.AbstractEventLoop", 0.08323231206915284], ["Callable", 0.07739024275881816]], "kwargs": [], "lib_method": [["kubernetes.clienCustomObjectsApi", 0.4868135163254881], ["Dict[str, Any]", 0.13668993435974786]], "self": []}, "q_name": "TestAsyncKubernetesHook.test_get_pod", "ret_exprs": [], "ret_type": "", "variables": {"hook": "", "return_value": ""}, "variables_p": {"hook": [["chalice.config.DeployedResources", 0.1881554345123938], ["bool", 0.0818678995563111], ["str", 0.08039412571298024]], "return_value": [["str", 0.506343482978323], ["Optional[bytes]", 0.12249243037168529], ["list", 0.11106225762163326], ["Dict[str, Any]", 0.08949680416418364], ["tests.utils.MockCoroutine", 0.08631088862862484]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[565, 4], [579, 39]], "fn_var_ln": {"hook": [[568, 8], [568, 12]], "return_value": [[566, 8], [566, 31]]}, "fn_var_occur": {"hook": [["hook", "AsyncKubernetesHook", "conn_id", "None", "in_cluster", "False", "config_file", "None", "cluster_context", "None"], ["hook", "delete_pod", "name", "POD_NAME", "namespace", "NAMESPACE"]], "return_value": [["lib_method", "return_value", "self", "mock_await_result", "None"]]}, "name": "test_delete_pod", "params": {"kube_config_loader": "", "lib_method": "", "self": ""}, "params_descr": {"kube_config_loader": "", "lib_method": "", "self": ""}, "params_occur": {"kube_config_loader": [], "lib_method": [["lib_method", "return_value", "self", "mock_await_result", "None"], ["lib_method", "assert_called_once"]], "self": [["lib_method", "return_value", "self", "mock_await_result", "None"]]}, "params_p": {"args": [], "kube_config_loader": [["Dict[str, Any]", 0.1525423559100545], ["bool", 0.09339505255725135], ["asyncio.AbstractEventLoop", 0.08203144380813868], ["Callable", 0.07784316178281533]], "kwargs": [], "lib_method": [["kubernetes.clienCustomObjectsApi", 0.4702221695628499], ["Dict[str, Any]", 0.12237603396053215]], "self": []}, "q_name": "TestAsyncKubernetesHook.test_delete_pod", "ret_exprs": [], "ret_type": "", "variables": {"hook": "", "return_value": ""}, "variables_p": {"hook": [["chalice.config.DeployedResources", 0.21429367451241532], ["bool", 0.080389634990505], ["dict", 0.07706997312895864], ["Dict[str, Dict[str, Any]]", 0.07469578465051348]], "return_value": [["str", 0.506343482978323], ["Optional[bytes]", 0.12249243037168529], ["list", 0.11106225762163326], ["Dict[str, Any]", 0.08949680416418364], ["tests.utils.MockCoroutine", 0.08631088862862484]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[583, 4], [604, 82]], "fn_var_ln": {"hook": [[586, 8], [586, 12]], "return_value": [[584, 8], [584, 31]]}, "fn_var_occur": {"hook": [["hook", "AsyncKubernetesHook", "conn_id", "None", "in_cluster", "False", "config_file", "None", "cluster_context", "None"], ["hook", "read_logs", "name", "POD_NAME", "namespace", "NAMESPACE"]], "return_value": [["lib_method", "return_value", "self", "mock_await_result"]]}, "name": "test_read_logs", "params": {"caplog": "", "kube_config_loader": "", "lib_method": "", "self": ""}, "params_descr": {"caplog": "", "kube_config_loader": "", "lib_method": "", "self": ""}, "params_occur": {"caplog": [["caplog", "text"]], "kube_config_loader": [], "lib_method": [["lib_method", "return_value", "self", "mock_await_result"], ["lib_method", "assert_called_once"], ["lib_method", "assert_called_with", "name", "POD_NAME", "namespace", "NAMESPACE", "follow", "False", "timestamps", "True"]], "self": [["lib_method", "return_value", "self", "mock_await_result"]]}, "params_p": {"args": [], "caplog": [["tests.conftesWorker", 0.0948848611661782]], "kube_config_loader": [["Dict[str, Any]", 0.17268473216908392], ["bool", 0.09739800666116574], ["Callable", 0.09224795155502033], ["backup.config.Config", 0.07701755273737916]], "kwargs": [], "lib_method": [["kubernetes.clienCustomObjectsApi", 0.5144493190765573]], "self": []}, "q_name": "TestAsyncKubernetesHook.test_read_logs", "ret_exprs": [], "ret_type": "", "variables": {"hook": "", "return_value": ""}, "variables_p": {"hook": [["chalice.config.DeployedResources", 0.22685151124812014], ["str", 0.09162045039109931], ["bool", 0.08956905411031936]], "return_value": [["str", 0.28482843414678793], ["list", 0.11420984035177609], ["Optional[bytes]", 0.1030838669803616], ["List[Dict[str, Any]]", 0.08730484497576275], ["int", 0.08274242011931383], ["Dict[str, Any]", 0.07458323387205132]]}}], "name": "TestAsyncKubernetesHook", "q_name": "TestAsyncKubernetesHook", "variables": {"INCLUSTER_CONFIG_LOADER": "", "KUBE_API": "", "KUBE_CONFIG_MERGER": "", "KUBE_LOADER_CONFIG": ""}, "variables_p": {"INCLUSTER_CONFIG_LOADER": [["bool", 0.30000000000000004], ["Dict[str, Union[Any, int, str]]", 0.1], ["str", 0.1], ["Dict[str, Union[Any, Any, Any]]", 0.1], ["Dict[str, Union[int, str]]", 0.1], ["Dict[str, Union[None, float, str]]", 0.1], ["Dict[str, Dict[str, Any]]", 0.1]], "KUBE_API": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "KUBE_CONFIG_MERGER": [["bool", 0.30000000000000004], ["Dict[str, Union[Any, int, str]]", 0.1], ["str", 0.1], ["Dict[str, Union[Any, Any, Any]]", 0.1], ["Dict[str, Union[int, str]]", 0.1], ["Dict[str, Union[None, float, str]]", 0.1], ["Dict[str, Dict[str, Any]]", 0.1]], "KUBE_LOADER_CONFIG": [["str", 0.5000000000000001], ["Dict[str, Union[int, str]]", 0.20000000000000004], ["bool", 0.10000000000000002], ["Dict[str, int]", 0.10000000000000002], ["Dict[Any, Union[int, str]]", 0.10000000000000002]]}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[59, 0], [68, 24]], "fn_var_ln": {"before_conn": [[60, 4], [60, 15]]}, "fn_var_occur": {"before_conn": [["before_conn", "session", "query", "Connection", "filter", "Connection", "conn_id", "DEFAULT_CONN_ID", "one_or_none"], ["session", "delete", "before_conn"], ["make_transient", "before_conn"], ["session", "add", "before_conn"]]}, "name": "remove_default_conn", "params": {"session": ""}, "params_descr": {"session": ""}, "params_occur": {"session": [["before_conn", "session", "query", "Connection", "filter", "Connection", "conn_id", "DEFAULT_CONN_ID", "one_or_none"], ["session", "delete", "before_conn"], ["session", "commit"], ["session", "add", "before_conn"], ["session", "commit"]]}, "params_p": {"args": [], "kwargs": [], "session": [["sqlalchemy.orm.session.Session", 0.27596155885781826], ["sqlalchemy.orm.Session", 0.17895988565182397], ["grouper.models.base.session.Session", 0.1689921405285048], ["models.Queue", 0.11539922068277082], ["grouper.models.group.Group", 0.08481322166249707]]}, "q_name": "remove_default_conn", "ret_exprs": [], "ret_type": "", "variables": {"before_conn": ""}, "variables_p": {"before_conn": [["int", 0.5893378179543028], ["Dict[str, str]", 0.12108725356403148], ["str", 0.09797219309152247]]}}], "imports": ["__future__", "annotations", "json", "os", "tempfile", "asyncio", "Future", "unittest", "mock", "unittest", "mock", "MagicMock", "patch", "kubernetes", "pytest", "kubernetes", "config", "ConfigException", "sqlalchemy", "orm", "make_transient", "airflow", "AirflowException", "airflow", "exceptions", "AirflowNotFoundException", "airflow", "hooks", "base", "BaseHook", "airflow", "models", "Connection", "airflow", "providers", "cncf", "kubernetes", "hooks", "kubernetes", "AsyncKubernetesHook", "KubernetesHook", "airflow", "utils", "db", "airflow", "utils", "db", "merge_conn", "tests", "test_utils", "db", "clear_db_connections", "tests", "test_utils", "providers", "get_provider_min_airflow_version"], "mod_var_ln": {"ASYNC_CONFIG_PATH": [[46, 0], [46, 17]], "CONN_ID": [[45, 0], [45, 7]], "DEFAULT_CONN_ID": [[55, 0], [55, 15]], "HOOK_MODULE": [[43, 0], [43, 11]], "KUBE_CONFIG_PATH": [[42, 0], [42, 16]], "NAMESPACE": [[48, 0], [48, 9]], "POD_NAME": [[47, 0], [47, 8]]}, "mod_var_occur": {"ASYNC_CONFIG_PATH": [["hook", "AsyncKubernetesHook", "conn_id", "None", "in_cluster", "False", "config_file", "ASYNC_CONFIG_PATH", "cluster_context", "None"], ["hook", "AsyncKubernetesHook", "conn_id", "CONN_ID", "in_cluster", "True", "config_file", "ASYNC_CONFIG_PATH", "cluster_context", "None"]], "CONN_ID": [["merge_conn", "Connection", "conn_type", "conn_id", "CONN_ID", "extra", "json", "dumps", "extra"], ["hook", "AsyncKubernetesHook", "conn_id", "CONN_ID", "in_cluster", "False", "config_file", "None", "cluster_context", "None"], ["hook", "AsyncKubernetesHook", "conn_id", "CONN_ID", "in_cluster", "True", "config_file", "ASYNC_CONFIG_PATH", "cluster_context", "None"]], "DEFAULT_CONN_ID": [["before_conn", "session", "query", "Connection", "filter", "Connection", "conn_id", "DEFAULT_CONN_ID", "one_or_none"], ["BaseHook", "get_connection", "DEFAULT_CONN_ID"]], "HOOK_MODULE": [], "KUBE_CONFIG_PATH": [["mock_merger", "assert_called_once_with", "KUBE_CONFIG_PATH"], ["mock_kube_config_merger", "assert_called_once_with", "KUBE_CONFIG_PATH"]], "NAMESPACE": [["hook", "get_pod", "name", "POD_NAME", "namespace", "NAMESPACE"], ["lib_method", "assert_called_with", "name", "POD_NAME", "namespace", "NAMESPACE"], ["hook", "delete_pod", "name", "POD_NAME", "namespace", "NAMESPACE"], ["hook", "read_logs", "name", "POD_NAME", "namespace", "NAMESPACE"], ["lib_method", "assert_called_with", "name", "POD_NAME", "namespace", "NAMESPACE", "follow", "False", "timestamps", "True"]], "POD_NAME": [["hook", "get_pod", "name", "POD_NAME", "namespace", "NAMESPACE"], ["lib_method", "assert_called_with", "name", "POD_NAME", "namespace", "NAMESPACE"], ["hook", "delete_pod", "name", "POD_NAME", "namespace", "NAMESPACE"], ["hook", "read_logs", "name", "POD_NAME", "namespace", "NAMESPACE"], ["lib_method", "assert_called_with", "name", "POD_NAME", "namespace", "NAMESPACE", "follow", "False", "timestamps", "True"]]}, "no_types_annot": {"D": 2, "I": 0, "U": 145}, "session_id": "GRvxBDDtpr06SSwfCOTGhuxKq_gOzWag0x8R11y-y6w", "set": null, "tc": [false, null], "type_annot_cove": 0.01, "typed_seq": "", "untyped_seq": "", "variables": {"ASYNC_CONFIG_PATH": "", "CONN_ID": "", "DEFAULT_CONN_ID": "", "HOOK_MODULE": "", "KUBE_CONFIG_PATH": "", "NAMESPACE": "", "POD_NAME": ""}, "variables_p": {"ASYNC_CONFIG_PATH": [["Optional[str]", 0.34299706930435603], ["tensorflow.keras.models.Model", 0.10659075655684674], ["str", 0.08669214654549641]], "CONN_ID": [["str", 0.32145419536936637], ["Set[int]", 0.21106676942605493], ["int", 0.16516329089163206], ["list", 0.10820460160521826], ["Optional[int]", 0.10537948320117786]], "DEFAULT_CONN_ID": [["int", 0.20126742884250218], ["Pattern[Any]", 0.1197831626898603], ["str", 0.09683156295949834], ["transfer.models.OrgaTeamID", 0.08964056324313]], "HOOK_MODULE": [["str", 0.39999999999999997], ["Dict[str, str]", 0.3], ["int", 0.09999999999999999], ["bool", 0.09999999999999999], ["List[str]", 0.09999999999999999]], "KUBE_CONFIG_PATH": [["str", 0.9070990436626932], ["List[str]", 0.09290095633730694]], "NAMESPACE": [["str", 0.5369439357780359], ["float", 0.1945663076100004], ["list", 0.09214156828500338], ["Pattern[str]", 0.08345395095428586]], "POD_NAME": [["str", 0.5718024988559042], ["Optional[str]", 0.23785906926262806], ["Dict[str, str]", 0.10149631425238369], ["list", 0.08884211762908403]]}}}