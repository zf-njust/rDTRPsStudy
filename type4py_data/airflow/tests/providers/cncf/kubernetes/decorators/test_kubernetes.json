{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[36, 0], [37, 64]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "mock_create_pod", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "mock_create_pod", "ret_exprs": ["return mock.patch(f\"{POD_MANAGER_CLASS}.create_pod\").start()"], "ret_type": "unittest.mock.Mock", "ret_type_p": [["str", 0.41426198558908567]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[41, 0], [42, 69]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "mock_await_pod_start", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "mock_await_pod_start", "ret_exprs": ["return mock.patch(f\"{POD_MANAGER_CLASS}.await_pod_start\").start()"], "ret_type": "unittest.mock.Mock", "ret_type_p": [["str", 0.1390385737244104], ["type", 0.11359575607124717], ["Optional[str]", 0.09356871735867313]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[46, 0], [47, 88]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "await_xcom_sidecar_container_start", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "await_xcom_sidecar_container_start", "ret_exprs": ["return mock.patch(f\"{POD_MANAGER_CLASS}.await_xcom_sidecar_container_start\").start()"], "ret_type": "unittest.mock.Mock", "ret_type_p": [["str", 0.6316363388120936], ["Optional[str]", 0.08715387088144201], ["type", 0.08546946246528826]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[51, 0], [54, 12]], "fn_var_ln": {"f": [[52, 4], [52, 5]], "return_value": [[53, 4], [53, 18]]}, "fn_var_occur": {"f": [["f", "mock", "patch", "POD_MANAGER_CLASS", "start"], ["f", "return_value"]], "return_value": [["f", "return_value"]]}, "name": "extract_xcom", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "extract_xcom", "ret_exprs": ["return f"], "ret_type": "unittest.mock.Mock", "ret_type_p": [["str", 0.6306592380300643], ["Optional[str]", 0.0984212716560739], ["int", 0.0911462868921086]], "variables": {"f": "", "return_value": ""}, "variables_p": {"f": [["set", 0.10734979424992248], ["tests.mock.zwave.MockValue", 0.08298878788008049]], "return_value": [["List[str]", 0.2254491957491266], ["str", 0.14893586462285963]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[58, 0], [61, 12]], "fn_var_ln": {"f": [[59, 4], [59, 5]], "return_value": [[60, 4], [60, 18]]}, "fn_var_occur": {"f": [["f", "mock", "patch", "POD_MANAGER_CLASS", "start"], ["f", "return_value", "mock", "MagicMock"]], "return_value": [["f", "return_value", "mock", "MagicMock"]]}, "name": "mock_await_pod_completion", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "mock_await_pod_completion", "ret_exprs": ["return f"], "ret_type": "unittest.mock.Mock", "ret_type_p": [["str", 0.6536491896380134], ["Iterable[str]", 0.1007473555797777], ["int", 0.0865340507895309]], "variables": {"f": "", "return_value": ""}, "variables_p": {"f": [["tests.utils.MockProvider", 0.4364812718301275], ["tests.mock.zwave.MockValue", 0.05816648793976354]], "return_value": [["Optional[bytes]", 0.21481713938407554], ["Dict[str, Any]", 0.11017883537869982], ["tests.mock.zwave.MockNode", 0.08431837307326434], ["List[Dict[str, Any]]", 0.08272418717639804], ["set", 0.08186522149377963], ["mock.Mock", 0.07831151619698563], ["str", 0.07775896347407524]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[65, 0], [66, 41]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "mock_hook", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "mock_hook", "ret_exprs": ["return mock.patch(HOOK_CLASS).start()"], "ret_type": "", "ret_type_p": [["str", 0.7227136405382889]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[78, 8], [81, 56]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "f", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_basic_kubernetes.<locals>.f", "ret_exprs": ["return [random.random() for _ in range(100)]"], "ret_type": "", "ret_type_p": [["bool", 0.6866252409615909], ["int", 0.19630570881692372], ["Tuple[int]", 0.1170690502214855]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[69, 0], [106, 54]], "fn_var_ln": {"containers": [[96, 4], [96, 14]], "decoded_input": [[105, 4], [105, 17]], "dr": [[85, 4], [85, 6]], "ti": [[86, 5], [86, 7]]}, "fn_var_occur": {"containers": [["containers", "mock_create_pod", "call_args", "kwargs", "spec", "containers"], ["len", "containers"], ["containers", "command"], ["len", "containers", "args"], ["containers", "env", "name"], ["containers", "env", "value"], ["containers", "env", "name"], ["decoded_input", "pickle", "loads", "base64", "b64decode", "containers", "env", "value"]], "decoded_input": [["decoded_input", "pickle", "loads", "base64", "b64decode", "containers", "env", "value"]], "dr": [["dr", "dag_maker", "create_dagrun"], ["ti", "dr", "task_instances"]], "ti": [["ti", "dr", "task_instances"], ["dag", "get_task", "execute", "context", "ti", "get_template_context", "session", "session"]]}, "name": "test_basic_kubernetes", "params": {"dag_maker": "", "mock_create_pod": "unittest.mock.Mock", "mock_hook": "unittest.mock.Mock", "session": ""}, "params_descr": {"dag_maker": "", "mock_create_pod": "", "mock_hook": "", "session": ""}, "params_occur": {"dag_maker": [["dr", "dag_maker", "create_dagrun"]], "mock_create_pod": [["mock_create_pod", "call_count"], ["containers", "mock_create_pod", "call_args", "kwargs", "spec", "containers"]], "mock_hook": [["mock_hook", "assert_called_once_with", "conn_id", "in_cluster", "False", "cluster_context", "config_file"]], "session": [["dag", "get_task", "execute", "context", "ti", "get_template_context", "session", "session"]]}, "params_p": {"args": [], "dag_maker": [["str", 0.09417478862442576]], "kwargs": [], "mock_create_pod": [["mock.Mock", 0.30395983851736913], ["mock.MagicMock", 0.09761046253348886]], "mock_hook": [], "session": []}, "q_name": "test_basic_kubernetes", "ret_exprs": [], "ret_type": "None", "variables": {"containers": "", "decoded_input": "", "dr": "", "ti": ""}, "variables_p": {"containers": [["str", 0.09226808765234412], ["list", 0.09207208893510035], ["myia.utils.misc.WorkSet", 0.08926978885939826]], "decoded_input": [["dict", 0.19574951348558006], ["List[str]", 0.0934694007894093]], "dr": [["str", 0.19102769262823638], ["int", 0.17162166477055174], ["bytes", 0.13147271979782202], ["bool", 0.10824312554182834], ["dict", 0.10110987431707087], ["list", 0.0800386718608339]], "ti": [["golem.task.taskbase.AcceptClientVerdict", 0.0984187586486336], ["str", 0.09122453165009815]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[120, 8], [121, 55]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "f", "params": {"arg1": "", "arg2": "", "kwarg1": "", "kwarg2": ""}, "params_descr": {"arg1": "", "arg2": "", "kwarg1": "", "kwarg2": ""}, "params_occur": {"arg1": [], "arg2": [], "kwarg1": [], "kwarg2": []}, "params_p": {"arg1": [["int", 0.24999999978487628], ["List[str]", 5.736632389793545e-10], ["str", 1.4341580974483862e-10]], "arg2": [["int", 0.24999999978487628], ["List[str]", 5.736632389793545e-10], ["str", 1.4341580974483862e-10]], "args": [], "kwarg1": [["int", 0.24999999978487628], ["List[str]", 5.736632389793545e-10], ["str", 1.4341580974483862e-10]], "kwarg2": [["int", 0.24999999978487628], ["List[str]", 5.736632389793545e-10], ["str", 1.4341580974483862e-10]], "kwargs": []}, "q_name": "test_kubernetes_with_input_output.<locals>.f", "ret_exprs": ["return {\"key1\": \"value1\", \"key2\": \"value2\"}"], "ret_type": "", "ret_type_p": [["Dict[str, str]", 0.2776863086635417], ["bool", 0.14135452140406266], ["Optional[str]", 0.08994003948899437], ["tuple", 0.08191067594892121], ["Dict[str, Any]", 0.08136802290417423]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[109, 0], [156, 71]], "fn_var_ln": {"containers": [[138, 4], [138, 14]], "decoded_input": [[151, 4], [151, 17]], "dr": [[125, 4], [125, 6]], "ti": [[126, 5], [126, 7]]}, "fn_var_occur": {"containers": [["containers", "mock_create_pod", "call_args", "kwargs", "spec", "containers"], ["len", "containers"], ["containers", "command"], ["len", "containers", "args"], ["containers", "env", "name"], ["containers", "env", "value"], ["containers", "env", "name"], ["containers", "env", "value"], ["decoded_input", "pickle", "loads", "base64", "b64decode", "containers", "env", "value"], ["containers", "image"], ["containers", "volume_mounts", "mount_path"]], "decoded_input": [["decoded_input", "pickle", "loads", "base64", "b64decode", "containers", "env", "value"]], "dr": [["dr", "dag_maker", "create_dagrun"], ["ti", "dr", "task_instances"]], "ti": [["ti", "dr", "task_instances"], ["dag", "get_task", "execute", "context", "ti", "get_template_context", "session", "session"]]}, "name": "test_kubernetes_with_input_output", "params": {"dag_maker": "", "mock_create_pod": "unittest.mock.Mock", "mock_hook": "unittest.mock.Mock", "session": ""}, "params_descr": {"dag_maker": "", "mock_create_pod": "", "mock_hook": "", "session": ""}, "params_occur": {"dag_maker": [["dr", "dag_maker", "create_dagrun"]], "mock_create_pod": [["mock_create_pod", "call_count"], ["containers", "mock_create_pod", "call_args", "kwargs", "spec", "containers"]], "mock_hook": [["mock_hook", "assert_called_once_with", "conn_id", "in_cluster", "False", "cluster_context", "config_file"]], "session": [["dag", "get_task", "execute", "context", "ti", "get_template_context", "session", "session"]]}, "params_p": {"args": [], "dag_maker": [["str", 0.18080498687797916]], "kwargs": [], "mock_create_pod": [["mock.MagicMock", 0.09538541584515631]], "mock_hook": [["str", 0.09067059847816965]], "session": []}, "q_name": "test_kubernetes_with_input_output", "ret_exprs": [], "ret_type": "None", "variables": {"containers": "", "decoded_input": "", "dr": "", "ti": ""}, "variables_p": {"containers": [["str", 0.09226808765234412], ["list", 0.09207208893510035], ["myia.utils.misc.WorkSet", 0.08926978885939826]], "decoded_input": [["dict", 0.19574951348558006], ["List[str]", 0.0934694007894093]], "dr": [["str", 0.19102769262823638], ["int", 0.17162166477055174], ["bytes", 0.13147271979782202], ["bool", 0.10824312554182834], ["dict", 0.10110987431707087], ["list", 0.0800386718608339]], "ti": [["golem.task.taskbase.AcceptClientVerdict", 0.0984187586486336], ["str", 0.09122453165009815]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[171, 8], [172, 55]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "f", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_kubernetes_with_marked_as_setup.<locals>.f", "ret_exprs": ["return {\"key1\": \"value1\", \"key2\": \"value2\"}"], "ret_type": "", "ret_type_p": [["Dict[str, str]", 0.2776863086635417], ["bool", 0.14135452140406266], ["Optional[str]", 0.08994003948899437], ["tuple", 0.08191067594892121], ["Dict[str, Any]", 0.08136802290417423]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[159, 0], [178, 30]], "fn_var_ln": {"setup_task": [[177, 4], [177, 14]]}, "fn_var_occur": {"setup_task": [["setup_task", "dag", "task_group", "children"], ["setup_task", "is_setup"]]}, "name": "test_kubernetes_with_marked_as_setup", "params": {"dag_maker": "", "mock_create_pod": "unittest.mock.Mock", "mock_hook": "unittest.mock.Mock", "session": ""}, "params_descr": {"dag_maker": "", "mock_create_pod": "", "mock_hook": "", "session": ""}, "params_occur": {"dag_maker": [], "mock_create_pod": [], "mock_hook": [], "session": []}, "params_p": {"args": [], "dag_maker": [["Generator[None, Any, None]", 0.10163460104312755]], "kwargs": [], "mock_create_pod": [["Generator[None, Any, None]", 0.10163460104312755]], "mock_hook": [["Generator[None, Any, None]", 0.10163460104312755]], "session": [["Generator[None, Any, None]", 0.10163460104312755]]}, "q_name": "test_kubernetes_with_marked_as_setup", "ret_exprs": [], "ret_type": "None", "variables": {"setup_task": ""}, "variables_p": {"setup_task": [["list", 0.1697003998472475], ["bytearray", 0.1368529003388135], ["dict", 0.11338405392320128], ["List[Tuple[Any, Any, Any]]", 0.10948430650027541], ["Dict[str, Any]", 0.08310040954242562], ["List[str]", 0.08298716490418369], ["List[float]", 0.07172831986098933]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[193, 8], [194, 55]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "f", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_kubernetes_with_marked_as_teardown.<locals>.f", "ret_exprs": ["return {\"key1\": \"value1\", \"key2\": \"value2\"}"], "ret_type": "", "ret_type_p": [["Dict[str, str]", 0.2776863086635417], ["bool", 0.14135452140406266], ["Optional[str]", 0.08994003948899437], ["tuple", 0.08191067594892121], ["Dict[str, Any]", 0.08136802290417423]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[181, 0], [200, 36]], "fn_var_ln": {"teardown_task": [[199, 4], [199, 17]]}, "fn_var_occur": {"teardown_task": [["teardown_task", "dag", "task_group", "children"], ["teardown_task", "is_teardown"]]}, "name": "test_kubernetes_with_marked_as_teardown", "params": {"dag_maker": "", "mock_create_pod": "unittest.mock.Mock", "mock_hook": "unittest.mock.Mock", "session": ""}, "params_descr": {"dag_maker": "", "mock_create_pod": "", "mock_hook": "", "session": ""}, "params_occur": {"dag_maker": [], "mock_create_pod": [], "mock_hook": [], "session": []}, "params_p": {"args": [], "dag_maker": [["Generator[None, Any, None]", 0.10163460104312755]], "kwargs": [], "mock_create_pod": [["Generator[None, Any, None]", 0.10163460104312755]], "mock_hook": [["Generator[None, Any, None]", 0.10163460104312755]], "session": [["Generator[None, Any, None]", 0.10163460104312755]]}, "q_name": "test_kubernetes_with_marked_as_teardown", "ret_exprs": [], "ret_type": "None", "variables": {"teardown_task": ""}, "variables_p": {"teardown_task": [["list", 0.1697003998472475], ["bytearray", 0.1368529003388135], ["dict", 0.11338405392320128], ["List[Tuple[Any, Any, Any]]", 0.10948430650027541], ["Dict[str, Any]", 0.08310040954242562], ["List[str]", 0.08298716490418369], ["List[float]", 0.07172831986098933]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[214, 8], [215, 55]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "f", "params": {"arg1": "", "arg2": "", "kwarg1": "", "kwarg2": ""}, "params_descr": {"arg1": "", "arg2": "", "kwarg1": "", "kwarg2": ""}, "params_occur": {"arg1": [], "arg2": [], "kwarg1": [], "kwarg2": []}, "params_p": {"arg1": [["int", 0.24999999978487628], ["List[str]", 5.736632389793545e-10], ["str", 1.4341580974483862e-10]], "arg2": [["int", 0.24999999978487628], ["List[str]", 5.736632389793545e-10], ["str", 1.4341580974483862e-10]], "args": [], "kwarg1": [["int", 0.24999999978487628], ["List[str]", 5.736632389793545e-10], ["str", 1.4341580974483862e-10]], "kwarg2": [["int", 0.24999999978487628], ["List[str]", 5.736632389793545e-10], ["str", 1.4341580974483862e-10]], "kwargs": []}, "q_name": "test_kubernetes_with_mini_scheduler.<locals>.f", "ret_exprs": ["return {\"key1\": \"value1\", \"key2\": \"value2\"}"], "ret_type": "", "ret_type_p": [["Dict[str, str]", 0.2776863086635417], ["bool", 0.14135452140406266], ["Optional[str]", 0.08994003948899437], ["tuple", 0.08191067594892121], ["Dict[str, Any]", 0.08136802290417423]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[203, 0], [224, 34]], "fn_var_ln": {"_": [[221, 9], [221, 10]], "dr": [[220, 4], [220, 6]], "f1": [[217, 8], [217, 10]], "ti": [[221, 5], [221, 7]]}, "fn_var_occur": {"_": [["ti", "_", "dr", "task_instances"]], "dr": [["dr", "dag_maker", "create_dagrun"], ["ti", "_", "dr", "task_instances"]], "f1": [["f1", "f", "override", "task_id", "do_xcom_push", "True", "kwarg1"], ["f", "override", "task_id", "do_xcom_push", "False", "kwarg1", "f1"]], "ti": [["ti", "_", "dr", "task_instances"], ["ti", "schedule_downstream_tasks"]]}, "name": "test_kubernetes_with_mini_scheduler", "params": {"dag_maker": "", "mock_create_pod": "unittest.mock.Mock", "mock_hook": "unittest.mock.Mock", "session": ""}, "params_descr": {"dag_maker": "", "mock_create_pod": "", "mock_hook": "", "session": ""}, "params_occur": {"dag_maker": [["dr", "dag_maker", "create_dagrun"]], "mock_create_pod": [], "mock_hook": [], "session": []}, "params_p": {"args": [], "dag_maker": [["str", 0.09417478862442576]], "kwargs": [], "mock_create_pod": [], "mock_hook": [], "session": []}, "q_name": "test_kubernetes_with_mini_scheduler", "ret_exprs": [], "ret_type": "None", "variables": {"_": "", "dr": "", "f1": "", "ti": ""}, "variables_p": {"_": [["int", 0.706867420475718], ["str", 0.19216307185810994], ["List[Tuple[str, Any]]", 0.10096950766617198]], "dr": [["int", 0.7103637268119146], ["deque[str]", 0.09585532601828496], ["Callable[[Any], tuple]", 0.09432612304426993]], "f1": [["int", 0.3845590952746369]], "ti": [["List[str]", 0.2008819057994528], ["int", 0.17668250263447055], ["Dict[str, Any]", 0.146363209668423], ["list", 0.09087294775473032]]}}], "imports": ["__future__", "annotations", "base64", "pickle", "unittest", "mock", "pytest", "airflow", "decorators", "setup", "task", "teardown", "airflow", "utils", "timezone", "random"], "mod_var_ln": {"DEFAULT_DATE": [[28, 0], [28, 12]], "HOOK_CLASS": [[32, 0], [32, 10]], "KPO_MODULE": [[30, 0], [30, 10]], "POD_MANAGER_CLASS": [[31, 0], [31, 17]]}, "mod_var_occur": {"DEFAULT_DATE": [], "HOOK_CLASS": [["mock", "patch", "HOOK_CLASS", "start"]], "KPO_MODULE": [], "POD_MANAGER_CLASS": [["mock", "patch", "POD_MANAGER_CLASS", "start"], ["mock", "patch", "POD_MANAGER_CLASS", "start"], ["mock", "patch", "POD_MANAGER_CLASS", "start"], ["f", "mock", "patch", "POD_MANAGER_CLASS", "start"], ["f", "mock", "patch", "POD_MANAGER_CLASS", "start"]]}, "no_types_annot": {"D": 20, "I": 0, "U": 38}, "session_id": "btO91-e8OAPy55xHuinbRlHHnu_zU243sDUR10RVqQA", "set": null, "tc": [false, null], "type_annot_cove": 0.34, "typed_seq": "", "untyped_seq": "", "variables": {"DEFAULT_DATE": "", "HOOK_CLASS": "", "KPO_MODULE": "", "POD_MANAGER_CLASS": ""}, "variables_p": {"DEFAULT_DATE": [["str", 0.6363860493653496], ["List[str]", 0.09854130901534286], ["Dict[str, Callable[[Any], bool]]", 0.09209337908587]], "HOOK_CLASS": [["int", 0.6901529708321164], ["List[Dict[str, Any]]", 0.30984702916788354]], "KPO_MODULE": [["str", 0.39999999999999997], ["Dict[str, str]", 0.3], ["int", 0.09999999999999999], ["bool", 0.09999999999999999], ["List[str]", 0.09999999999999999]], "POD_MANAGER_CLASS": [["Dict[str, Union[float, str]]", 0.1845216143858814], ["Dict[str, Type[Any]]", 0.11636810714408143], ["List[str]", 0.11522285943818937], ["int", 0.10413810150677474], ["list", 0.10001612971149684], ["set", 0.0958826673308932], ["\"OrderedDict[str, float]\"", 0.09005161308109987]]}}}