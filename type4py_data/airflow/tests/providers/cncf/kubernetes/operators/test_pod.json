{"error": null, "response": {"classes": [{"cls_lc": [[108, 0], [1216, 31]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[110, 4], [123, 23]], "fn_var_ln": {"_default_client_mock": [[118, 8], [118, 33]], "_default_client_patch": [[114, 8], [114, 34]], "await_pod_completion_patch": [[113, 8], [113, 39]], "await_pod_mock": [[117, 8], [117, 27]], "await_pod_patch": [[112, 8], [112, 28]], "await_start_mock": [[116, 8], [116, 29]], "create_mock": [[115, 8], [115, 24]], "create_pod_patch": [[111, 8], [111, 29]], "dag_maker": [[119, 8], [119, 22]]}, "fn_var_occur": {"_default_client_mock": [["self", "_default_client_mock", "self", "_default_client_patch", "start"]], "_default_client_patch": [["self", "_default_client_patch", "patch", "HOOK_CLASS"], ["self", "_default_client_mock", "self", "_default_client_patch", "start"]], "await_pod_completion_patch": [["self", "await_pod_completion_patch", "patch", "POD_MANAGER_CLASS"], ["self", "await_pod_mock", "self", "await_pod_completion_patch", "start"]], "await_pod_mock": [["self", "await_pod_mock", "self", "await_pod_completion_patch", "start"]], "await_pod_patch": [["self", "await_pod_patch", "patch", "POD_MANAGER_CLASS"], ["self", "await_start_mock", "self", "await_pod_patch", "start"]], "await_start_mock": [["self", "await_start_mock", "self", "await_pod_patch", "start"]], "create_mock": [["self", "create_mock", "self", "create_pod_patch", "start"]], "create_pod_patch": [["self", "create_pod_patch", "patch", "POD_MANAGER_CLASS"], ["self", "create_mock", "self", "create_pod_patch", "start"]], "dag_maker": [["self", "dag_maker", "dag_maker"]]}, "name": "setup_tests", "params": {"dag_maker": "", "self": ""}, "params_descr": {"dag_maker": "", "self": ""}, "params_occur": {"dag_maker": [["self", "dag_maker", "dag_maker"]], "self": [["self", "create_pod_patch", "patch", "POD_MANAGER_CLASS"], ["self", "await_pod_patch", "patch", "POD_MANAGER_CLASS"], ["self", "await_pod_completion_patch", "patch", "POD_MANAGER_CLASS"], ["self", "_default_client_patch", "patch", "HOOK_CLASS"], ["self", "create_mock", "self", "create_pod_patch", "start"], ["self", "await_start_mock", "self", "await_pod_patch", "start"], ["self", "await_pod_mock", "self", "await_pod_completion_patch", "start"], ["self", "_default_client_mock", "self", "_default_client_patch", "start"], ["self", "dag_maker", "dag_maker"]]}, "params_p": {"args": [], "dag_maker": [["int", 3.732973574780814e-10], ["str", 1.8816062282067376e-10], ["Dict[str, int]", 1.3701866015987673e-10]], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.setup_tests", "ret_exprs": [], "ret_type": "", "variables": {"_default_client_mock": "", "_default_client_patch": "", "await_pod_completion_patch": "", "await_pod_mock": "", "await_pod_patch": "", "await_start_mock": "", "create_mock": "", "create_pod_patch": "", "dag_maker": ""}, "variables_p": {"_default_client_mock": [["int", 0.4549027237007362], ["str", 0.361009333380684], ["bool", 0.08894156731859476]], "_default_client_patch": [["List[str]", 0.4233642669122618], ["str", 0.2775856215924706], ["Type[int]", 0.11532117861301909]], "await_pod_completion_patch": [["str", 0.20089745018835165], ["unittesmock._patch[Union[unittesmock.AsyncMock, unittesmock.MagicMock]]", 0.09661727154142556]], "await_pod_mock": [["str", 0.316585496372438], ["Dict[str, Any]", 0.2915693698049706], ["int", 0.22280773920655053], ["List[Dict[str, str]]", 0.08451869730802049], ["List[str]", 0.08451869730802049]], "await_pod_patch": [["str", 0.7976795453253598]], "await_start_mock": [["Dict[str, Union[int, str]]", 0.19664749204929768], ["Dict[str, str]", 0.10554942371588712], ["dict", 0.10377408755974238], ["int", 0.10282717433415549]], "create_mock": [["str", 0.5205481360677486], ["list", 0.1839181961412235], ["List[List[str]]", 0.10597138135765088], ["Generator[Any, None, None]", 0.09494086721004542]], "create_pod_patch": [["int", 0.31362795022739365], ["raiden.utils.TargetAddress", 0.17455050600309438], ["str", 0.10102543236128406], ["bool", 0.10102543236128406]], "dag_maker": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[125, 4], [158, 44]], "fn_var_ln": {"dag_id": [[126, 8], [126, 14]], "rendered": [[145, 8], [145, 16]], "ti": [[127, 8], [127, 10]]}, "fn_var_occur": {"dag_id": [["ti", "create_task_instance_of_operator", "KubernetesPodOperator", "dag_id", "dag_id", "task_id", "namespace", "container_resources", "k8s", "V1ResourceRequirements", "requests", "limits", "pod_template_file", "config_file", "labels", "env_vars", "arguments", "cmds", "image"], ["dag_id", "rendered", "container_resources", "limits"], ["dag_id", "rendered", "container_resources", "limits"], ["dag_id", "rendered", "container_resources", "requests"], ["dag_id", "rendered", "container_resources", "requests"], ["dag_id", "ti", "task", "image"], ["dag_id", "ti", "task", "cmds"], ["dag_id", "ti", "task", "namespace"], ["dag_id", "ti", "task", "config_file"], ["dag_id", "ti", "task", "labels"], ["dag_id", "ti", "task", "pod_template_file"], ["dag_id", "ti", "task", "arguments"], ["dag_id", "ti", "task", "env_vars"]], "rendered": [["rendered", "ti", "render_templates"], ["dag_id", "rendered", "container_resources", "limits"], ["dag_id", "rendered", "container_resources", "limits"], ["dag_id", "rendered", "container_resources", "requests"], ["dag_id", "rendered", "container_resources", "requests"]], "ti": [["ti", "create_task_instance_of_operator", "KubernetesPodOperator", "dag_id", "dag_id", "task_id", "namespace", "container_resources", "k8s", "V1ResourceRequirements", "requests", "limits", "pod_template_file", "config_file", "labels", "env_vars", "arguments", "cmds", "image"], ["rendered", "ti", "render_templates"], ["dag_id", "ti", "task", "image"], ["dag_id", "ti", "task", "cmds"], ["dag_id", "ti", "task", "namespace"], ["dag_id", "ti", "task", "config_file"], ["dag_id", "ti", "task", "labels"], ["dag_id", "ti", "task", "pod_template_file"], ["dag_id", "ti", "task", "arguments"], ["dag_id", "ti", "task", "env_vars"]]}, "name": "test_templates", "params": {"create_task_instance_of_operator": "", "self": ""}, "params_descr": {"create_task_instance_of_operator": "", "self": ""}, "params_occur": {"create_task_instance_of_operator": [["ti", "create_task_instance_of_operator", "KubernetesPodOperator", "dag_id", "dag_id", "task_id", "namespace", "container_resources", "k8s", "V1ResourceRequirements", "requests", "limits", "pod_template_file", "config_file", "labels", "env_vars", "arguments", "cmds", "image"]], "self": []}, "params_p": {"args": [], "create_task_instance_of_operator": [["raiden.utils.TokenAmount", 0.09338407334973126], ["raiden.utils.FeeAmount", 0.09338407334973126]], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_templates", "ret_exprs": [], "ret_type": "", "variables": {"dag_id": "", "rendered": "", "ti": ""}, "variables_p": {"dag_id": [["medtagger.types.SliceID", 0.1958414385474709], ["raiden.utils.MessageID", 0.11582444324328897], ["int", 0.10913177774410456], ["str", 0.09055118878062172]], "rendered": [["List[str]", 0.11171908347772949], ["str", 0.09798297927004161], ["Dict[str, Any]", 0.09668199390919299]], "ti": [["dict", 0.10725092854183875], ["str", 0.09649608464695043], ["Dict[str, Callable]", 0.09633308680166491], ["bytearray", 0.0945214434398171], ["bytes", 0.08690777875509302]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[160, 4], [175, 60]], "fn_var_ln": {"context": [[168, 8], [168, 15]], "dag": [[162, 12], [162, 24]], "dag_run": [[167, 8], [167, 20]], "dr": [[164, 8], [164, 10]], "map_index": [[166, 8], [166, 20]], "remote_pod_mock": [[171, 8], [171, 23]], "ti": [[165, 9], [165, 11]]}, "fn_var_occur": {"context": [["context", "ti", "get_template_context", "session", "self", "dag_maker", "session"], ["operator", "execute", "context", "context"]], "dag": [["self", "dag_maker", "dag_id", "dag"], ["operator", "dag", "dag"]], "dag_run": [["self", "dag_run", "dr"]], "dr": [["dr", "self", "dag_maker", "create_dagrun", "run_id"], ["ti", "dr", "task_instances"], ["self", "dag_run", "dr"]], "map_index": [["ti", "map_index", "map_index"]], "remote_pod_mock": [["remote_pod_mock", "MagicMock"], ["remote_pod_mock", "status", "phase"], ["self", "await_pod_mock", "return_value", "remote_pod_mock"]], "ti": [["ti", "dr", "task_instances"], ["ti", "map_index", "map_index"], ["context", "ti", "get_template_context", "session", "self", "dag_maker", "session"]]}, "name": "run_pod", "params": {"map_index": "builtins.int", "operator": "airflow.providers.cncf.kubernetes.operators.pod.KubernetesPodOperator", "self": ""}, "params_descr": {"map_index": "", "operator": "", "self": ""}, "params_occur": {"map_index": [["ti", "map_index", "map_index"]], "operator": [["operator", "dag", "dag"], ["operator", "execute", "context", "context"]], "self": [["self", "dag_maker", "dag_id", "dag"], ["dr", "self", "dag_maker", "create_dagrun", "run_id"], ["self", "dag_run", "dr"], ["context", "ti", "get_template_context", "session", "self", "dag_maker", "session"], ["self", "dag_maker", "session", "commit"], ["self", "await_pod_mock", "return_value", "remote_pod_mock"], ["self", "await_start_mock", "call_args", "kwargs"]]}, "params_p": {"args": [], "kwargs": [], "map_index": [["str", 0.2], ["int", 0.1], ["bool", 0.1], ["list", 0.1]], "operator": [["int", 0.31112299724175774], ["bool", 0.11046293020130385]], "self": []}, "q_name": "TestKubernetesPodOperator.run_pod", "ret_exprs": ["return self.await_start_mock.call_args.kwargs[\"pod\"]"], "ret_type": "kubernetes.client.models.V1Pod", "ret_type_p": [], "variables": {"context": "", "dag": "", "dag_run": "", "dr": "", "map_index": "", "remote_pod_mock": "", "ti": ""}, "variables_p": {"context": [["raiden.utils.Address", 0.14316675761389258], ["dict", 0.11521047637020783], ["Tuple[Any, Any, Any]", 0.10201554730438554]], "dag": [["int", 1.0]], "dag_run": [["int", 0.4999689492569052], ["float", 0.16824774806926784], ["\"Point\"", 0.09523125815918626], ["str", 0.08251990313340117], ["bytes", 0.07972706495791357]], "dr": [["int", 0.333134575291714], ["dict", 0.2756849652391611], ["Dict[str, Any]", 0.08971674892242365]], "map_index": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]], "remote_pod_mock": [["unittesmock.MagicMock", 0.408519583722113], ["mock.Mock", 0.12055028219107597], ["mock.MagicMock", 0.0838471368050987]], "ti": [["str", 0.3436597579414945], ["List[Tuple[str, int]]", 0.1222164386094487], ["int", 0.10397528755090683], ["list", 0.091518122076252]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[177, 4], [178, 58]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "sanitize_for_serialization", "params": {"obj": "", "self": ""}, "params_descr": {"obj": "", "self": ""}, "params_occur": {"obj": [["ApiClient", "sanitize_for_serialization", "obj"]], "self": []}, "params_p": {"args": [], "kwargs": [], "obj": [["str", 0.31161580492048535]], "self": []}, "q_name": "TestKubernetesPodOperator.sanitize_for_serialization", "ret_exprs": ["return ApiClient().sanitize_for_serialization(obj)"], "ret_type": "", "ret_type_p": [["bool", 0.4185704924086444], ["recidiviz.utils.regions.Region", 0.13800950805857237], ["str", 0.11923197464571433], ["Optional[str]", 0.08969389435904215], ["raiden.utils.Secret", 0.07790893891502819], ["int", 0.07763860729542346]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[181, 4], [203, 9]], "fn_var_ln": {"file_path": [[182, 8], [182, 17]], "k": [[183, 8], [183, 9]], "remote_pod_mock": [[194, 8], [194, 23]]}, "fn_var_occur": {"file_path": [["k", "KubernetesPodOperator", "namespace", "image", "cmds", "arguments", "labels", "name", "task_id", "do_xcom_push", "False", "config_file", "file_path"], ["hook_mock", "assert_called_once_with", "cluster_context", "None", "conn_id", "config_file", "file_path", "in_cluster", "None"]], "k": [["k", "KubernetesPodOperator", "namespace", "image", "cmds", "arguments", "labels", "name", "task_id", "do_xcom_push", "False", "config_file", "file_path"], ["self", "run_pod", "k"]], "remote_pod_mock": [["remote_pod_mock", "MagicMock"], ["remote_pod_mock", "status", "phase"], ["self", "await_pod_mock", "return_value", "remote_pod_mock"]]}, "name": "test_config_path", "params": {"hook_mock": "", "self": ""}, "params_descr": {"hook_mock": "", "self": ""}, "params_occur": {"hook_mock": [["hook_mock", "assert_called_once_with", "cluster_context", "None", "conn_id", "config_file", "file_path", "in_cluster", "None"]], "self": [["self", "await_pod_mock", "return_value", "remote_pod_mock"], ["self", "run_pod", "k"]]}, "params_p": {"args": [], "hook_mock": [["unittesmock.MagicMock", 0.30142498214278596], ["str", 0.19210227171237443], ["tests.test_util.aiohttp.AiohttpClientMocker", 0.11646179126119806], ["io.BytesIO", 0.10620116347174875], ["Optional[str]", 0.09543078974843146], ["dict", 0.09349523219978316]], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_config_path", "ret_exprs": [], "ret_type": "", "variables": {"file_path": "", "k": "", "remote_pod_mock": ""}, "variables_p": {"file_path": [["str", 0.9999999999999999]], "k": [["int", 0.40097762467422904], ["str", 0.09843998164162258], ["qutebrowser.utils.usertypes.KeyMode", 0.0970911129242979], ["bytearray", 0.0953403232841286]], "remote_pod_mock": [["unittesmock.MagicMock", 0.408519583722113], ["mock.Mock", 0.12055028219107597], ["mock.MagicMock", 0.0838471368050987]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[212, 4], [219, 51]], "fn_var_ln": {"k": [[213, 8], [213, 9]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "env_vars", "input", "task_id"], ["k", "render_template_fields", "context"], ["k", "env_vars", "value"], ["k", "env_vars", "name"]]}, "name": "test_env_vars", "params": {"input": "", "self": ""}, "params_descr": {"input": "", "self": ""}, "params_occur": {"input": [["k", "KubernetesPodOperator", "env_vars", "input", "task_id"]], "self": []}, "params_p": {"args": [], "input": [["str", 0.30163327751426533], ["tests.basilisp.helpers.CompileFn", 0.10170043485463848]], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_env_vars", "ret_exprs": [], "ret_type": "", "variables": {"k": ""}, "variables_p": {"k": [["int", 0.4084107751023448], ["bool", 0.11710054306196756], ["Dict[starfish.core.types._constants.Axes, int]", 0.09766397527952166], ["bytes", 0.08439022669621261]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[221, 4], [230, 60]], "fn_var_ln": {"k": [[225, 8], [225, 9]], "pod": [[229, 8], [229, 11]], "security_context": [[222, 8], [222, 24]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "security_context", "security_context", "task_id"], ["pod", "k", "build_pod_request_obj", "create_context", "k"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "spec", "security_context", "security_context"]], "security_context": [["k", "KubernetesPodOperator", "security_context", "security_context", "task_id"], ["pod", "spec", "security_context", "security_context"]]}, "name": "test_security_context", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_security_context", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": "", "security_context": ""}, "variables_p": {"k": [["str", 0.42034433812903643], ["int", 0.17376244138289085], ["raiden.utils.SecreHash", 0.12974692761256648], ["raiden.utils.PaymentWithFeeAmount", 0.09175923563938272], ["bool", 0.09021846132678629]], "pod": [["str", 0.19372766116458995], ["List[Dict[str, str]]", 0.12962379896725112], ["Tuple[str, str]", 0.10068051010690751], ["Tuple[str, str, str, str, str]", 0.10068051010690751], ["types.SimpleNamespace", 0.09835442424032494], ["raiden.utils.SecretHash", 0.09720758798610164]], "security_context": [["raiden.utils.MessageID", 0.41085404544178794], ["raiden.utils.PaymentID", 0.1026554158126337], ["raiden.utils.FeeAmount", 0.09069444711737082]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[232, 4], [239, 84]], "fn_var_ln": {"container_security_context": [[233, 8], [233, 34]], "k": [[234, 8], [234, 9]], "pod": [[238, 8], [238, 11]]}, "fn_var_occur": {"container_security_context": [["container_security_context", "False"], ["k", "KubernetesPodOperator", "container_security_context", "container_security_context", "task_id"], ["pod", "spec", "containers", "security_context", "container_security_context"]], "k": [["k", "KubernetesPodOperator", "container_security_context", "container_security_context", "task_id"], ["pod", "k", "build_pod_request_obj", "create_context", "k"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "spec", "containers", "security_context", "container_security_context"]]}, "name": "test_container_security_context", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_container_security_context", "ret_exprs": [], "ret_type": "", "variables": {"container_security_context": "", "k": "", "pod": ""}, "variables_p": {"container_security_context": [["str", 0.7009850520898755]], "k": [["str", 0.6231726016076544], ["Dict[str, str]", 0.09740861840014718], ["Set[str]", 0.09605289732881994], ["int", 0.09337569643112162], ["Dict[str, List[float]]", 0.08999018623225676]], "pod": [["classmethod", 0.808568129058516], ["types.SimpleNamespace", 0.09219549823708179]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[241, 4], [248, 58]], "fn_var_ln": {"env_from": [[242, 8], [242, 16]], "k": [[243, 8], [243, 9]], "pod": [[247, 8], [247, 11]]}, "fn_var_occur": {"env_from": [["env_from", "k8s", "V1EnvFromSource", "config_map_ref", "k8s", "V1ConfigMapEnvSource", "name"], ["k", "KubernetesPodOperator", "task_id", "env_from", "env_from"], ["pod", "spec", "containers", "env_from", "env_from"]], "k": [["k", "KubernetesPodOperator", "task_id", "env_from", "env_from"], ["pod", "k", "build_pod_request_obj", "create_context", "k"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "spec", "containers", "env_from", "env_from"]]}, "name": "test_envs_from_configmaps", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_envs_from_configmaps", "ret_exprs": [], "ret_type": "", "variables": {"env_from": "", "k": "", "pod": ""}, "variables_p": {"env_from": [["dict", 0.1646820140104484], ["str", 0.1245562353981788], ["Dict[str, Dict[str, Any]]", 0.09337745046268447]], "k": [["int", 0.18505314780490406], ["Dict[str, Dict[str, Any]]", 0.11105622147952392], ["Dict[str, str]", 0.1062977302385039], ["Set[str]", 0.09943536055528929]], "pod": [["dict", 0.21026604379637684], ["int", 0.19332689822821886], ["types.SimpleNamespace", 0.09715386277675073]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[250, 4], [258, 58]], "fn_var_ln": {"expected": [[256, 8], [256, 16]], "k": [[252, 8], [252, 9]], "pod": [[257, 8], [257, 11]]}, "fn_var_occur": {"expected": [["expected", "k8s", "V1EnvFromSource", "config_map_ref", "k8s", "V1ConfigMapEnvSource", "name"], ["pod", "spec", "containers", "env_from", "expected"]], "k": [["k", "KubernetesPodOperator", "task_id", "configmaps"], ["pod", "k", "build_pod_request_obj", "create_context", "k"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "spec", "containers", "env_from", "expected"]]}, "name": "test_envs_from_configmaps_backcompat", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_envs_from_configmaps_backcompat", "ret_exprs": [], "ret_type": "", "variables": {"expected": "", "k": "", "pod": ""}, "variables_p": {"expected": [["uiucprescon.packager.packages.collection.PackageObject", 0.24937275568917358], ["str", 0.11189238590461963]], "k": [["int", 0.38574250768875396], ["Dict[str, Dict[str, Any]]", 0.12230544946867296], ["Set[str]", 0.1003916433894347], ["Dict[str, str]", 0.0982744309589597], ["str", 0.08847132292159002]], "pod": [["dict", 0.21026604379637684], ["int", 0.19332689822821886], ["types.SimpleNamespace", 0.09715386277675073]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[260, 4], [270, 9]], "fn_var_ln": {"k": [[263, 8], [263, 9]], "pod": [[267, 8], [267, 11]], "secret_ref": [[261, 8], [261, 18]], "secrets": [[262, 8], [262, 15]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "secrets", "secrets", "task_id"], ["pod", "k", "build_pod_request_obj"]], "pod": [["pod", "k", "build_pod_request_obj"], ["pod", "spec", "containers", "env_from", "k8s", "V1EnvFromSource", "secret_ref", "k8s", "V1SecretEnvSource", "name", "secret_ref"]], "secret_ref": [["secrets", "Secret", "None", "secret_ref"], ["pod", "spec", "containers", "env_from", "k8s", "V1EnvFromSource", "secret_ref", "k8s", "V1SecretEnvSource", "name", "secret_ref"]], "secrets": [["secrets", "Secret", "None", "secret_ref"], ["k", "KubernetesPodOperator", "secrets", "secrets", "task_id"]]}, "name": "test_envs_from_secrets", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_envs_from_secrets", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": "", "secret_ref": "", "secrets": ""}, "variables_p": {"k": [["int", 0.33850798364825707], ["str", 0.2159140983635187], ["bool", 0.09939772814012769]], "pod": [["Dict[str, str]", 0.094473269749558], ["dict", 0.09090192084884885]], "secret_ref": [["int", 0.1991660788718884], ["List[Optional[str]]", 0.10659669809097107], ["correios.models.posting.TrackingCode", 0.09199911775714953]], "secrets": [["Optional[str]", 0.3091927162157643], ["int", 0.16368777202315687], ["robot_server.service.session.models.IdentifierType", 0.12681223830317107], ["list", 0.1063252826990752], ["List[None]", 0.10112015262378901], ["dict", 0.09934051466655455], ["str", 0.09352132346848929]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[274, 4], [296, 9]], "fn_var_ln": {"k": [[276, 8], [276, 9]], "pod": [[286, 8], [286, 11]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "namespace", "image", "cmds", "labels", "name", "task_id", "in_cluster", "in_cluster", "do_xcom_push", "False"], ["pod", "self", "run_pod", "k"]], "pod": [["pod", "self", "run_pod", "k"], ["pod", "metadata", "labels", "mock", "ANY", "str", "in_cluster"]]}, "name": "test_labels", "params": {"hook_mock": "", "in_cluster": "", "self": ""}, "params_descr": {"hook_mock": "", "in_cluster": "", "self": ""}, "params_occur": {"hook_mock": [["hook_mock", "return_value", "is_in_cluster", "in_cluster"]], "in_cluster": [["hook_mock", "return_value", "is_in_cluster", "in_cluster"], ["k", "KubernetesPodOperator", "namespace", "image", "cmds", "labels", "name", "task_id", "in_cluster", "in_cluster", "do_xcom_push", "False"], ["pod", "metadata", "labels", "mock", "ANY", "str", "in_cluster"]], "self": [["pod", "self", "run_pod", "k"]]}, "params_p": {"args": [], "hook_mock": [["mock.MagicMock", 0.3233619466608441], ["unittesmock.MagicMock", 0.29535739281434276]], "in_cluster": [["unittesmock.MagicMock", 0.5078868288999944], ["tests.test_util.aiohttp.AiohttpClientMocker", 0.08976341087900175], ["tests.async_mock.MagicMock", 0.08933044270160004]], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_labels", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": ""}, "variables_p": {"k": [["int", 0.40773248184085564], ["str", 0.17891191426058572], ["bool", 0.09975778204304497], ["Dict[starfish.core.types._constants.Axes, int]", 0.09905121632681285], ["bytes", 0.08525129125865856]], "pod": [["float", 0.33553285401314303], ["int", 0.1847834855467228], ["tuple", 0.17691235609345618], ["str", 0.11243912726160586], ["bool", 0.09588383138383846]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[298, 4], [313, 9]], "fn_var_ln": {"k": [[299, 8], [299, 9]], "pod": [[303, 8], [303, 11]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "name", "task_id"], ["pod", "k", "build_pod_request_obj", "create_context", "k", "map_index"], ["pod", "metadata", "labels", "mock", "ANY", "str", "k", "hook", "is_in_cluster"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k", "map_index"], ["pod", "metadata", "labels", "mock", "ANY", "str", "k", "hook", "is_in_cluster"]]}, "name": "test_labels_mapped", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_labels_mapped", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": ""}, "variables_p": {"k": [["int", 0.5693101178958585], ["str", 0.1886594186400099], ["Pattern[str]", 0.08692225416434682]], "pod": [["List[List[str]]", 0.18798824175113046], ["dict", 0.1455893877573275]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[316, 4], [332, 9]], "fn_var_ln": {"_": [[328, 8], [328, 9]], "k": [[317, 8], [317, 9]], "kwargs": [[328, 11], [328, 17]]}, "fn_var_occur": {"_": [["_", "kwargs", "k", "client", "list_namespaced_pod", "call_args"]], "k": [["k", "KubernetesPodOperator", "namespace", "image", "cmds", "labels", "name", "task_id", "in_cluster", "False", "do_xcom_push", "False"], ["self", "run_pod", "k"], ["_", "kwargs", "k", "client", "list_namespaced_pod", "call_args"]], "kwargs": [["_", "kwargs", "k", "client", "list_namespaced_pod", "call_args"]]}, "name": "test_find_pod_labels", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "run_pod", "k"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_find_pod_labels", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "k": "", "kwargs": ""}, "variables_p": {"_": [["str", 0.252150769730474], ["list", 0.12879248154343856], ["Dict[str, str]", 0.07933619923886229], ["int", 0.07449498187184928]], "k": [["int", 0.2881488337490035], ["str", 0.2168086151391867], ["bytes", 0.0839355530395609]], "kwargs": [["dict", 0.22338123965584306], ["int", 0.12726449602972667], ["Dict[str, str]", 0.1203744628089677], ["List[str]", 0.08904091171380778], ["RuntimeError", 0.08787618928564142]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[335, 4], [367, 44]], "fn_var_ln": {"dns_config": [[336, 8], [336, 18]], "hostname": [[346, 8], [346, 16]], "k": [[349, 8], [349, 9]], "pod_spec": [[364, 8], [364, 16]], "subdomain": [[347, 8], [347, 17]]}, "fn_var_occur": {"dns_config": [["dns_config", "k8s", "V1PodDNSConfig", "nameservers", "searches", "options", "k8s", "V1PodDNSConfigOption", "name", "value"], ["k", "KubernetesPodOperator", "namespace", "image", "cmds", "labels", "name", "task_id", "in_cluster", "False", "do_xcom_push", "False", "dns_config", "dns_config", "hostname", "hostname", "subdomain", "subdomain"], ["pod_spec", "dns_config", "dns_config"]], "hostname": [["k", "KubernetesPodOperator", "namespace", "image", "cmds", "labels", "name", "task_id", "in_cluster", "False", "do_xcom_push", "False", "dns_config", "dns_config", "hostname", "hostname", "subdomain", "subdomain"], ["pod_spec", "hostname", "hostname"]], "k": [["k", "KubernetesPodOperator", "namespace", "image", "cmds", "labels", "name", "task_id", "in_cluster", "False", "do_xcom_push", "False", "dns_config", "dns_config", "hostname", "hostname", "subdomain", "subdomain"], ["self", "run_pod", "k"], ["pod_spec", "k", "pod", "spec"]], "pod_spec": [["pod_spec", "k", "pod", "spec"], ["pod_spec", "dns_config", "dns_config"], ["pod_spec", "subdomain", "subdomain"], ["pod_spec", "hostname", "hostname"]], "subdomain": [["k", "KubernetesPodOperator", "namespace", "image", "cmds", "labels", "name", "task_id", "in_cluster", "False", "do_xcom_push", "False", "dns_config", "dns_config", "hostname", "hostname", "subdomain", "subdomain"], ["pod_spec", "subdomain", "subdomain"]]}, "name": "test_pod_dns_options", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "run_pod", "k"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_pod_dns_options", "ret_exprs": [], "ret_type": "", "variables": {"dns_config": "", "hostname": "", "k": "", "pod_spec": "", "subdomain": ""}, "variables_p": {"dns_config": [["Dict[str, str]", 0.4100989863338106], ["Dict[str, Optional[str]]", 0.10982924823636012], ["Dict[str, Union[Any, Any, Any]]", 0.09858425795080522], ["Mapping[str, Mapping[str, Any]]", 0.0964574259460049], ["OrderedDict[str, Any]", 0.09374187259944637]], "hostname": [["str", 0.2701867009179392], ["list", 0.1170916648527732]], "k": [["int", 0.266272855408596], ["str", 0.23515421211517412], ["bytes", 0.1029770528448257], ["Set[str]", 0.08892139548242112]], "pod_spec": [["str", 0.5127371952314353], ["Dict[str, Dict[str, str]]", 0.09242080356644602]], "subdomain": [["str", 0.2701867009179392], ["list", 0.1170916648527732]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[376, 4], [383, 93]], "fn_var_ln": {"k": [[377, 8], [377, 9]], "pod": [[382, 8], [382, 11]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "task_id", "image_pull_secrets", "val"], ["pod", "k", "build_pod_request_obj", "create_context", "k"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "spec", "image_pull_secrets", "k8s", "V1LocalObjectReference", "name"]]}, "name": "test_image_pull_secrets_correctly_set", "params": {"self": "", "val": ""}, "params_descr": {"self": "", "val": ""}, "params_occur": {"self": [], "val": [["k", "KubernetesPodOperator", "task_id", "image_pull_secrets", "val"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "val": [["int", 0.3158723854360544], ["str", 0.10723819773654572], ["Optional[str]", 0.08243065429880653], ["Optional[int]", 0.08243065429880653]]}, "q_name": "TestKubernetesPodOperator.test_image_pull_secrets_correctly_set", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": ""}, "variables_p": {"k": [["int", 0.9068541638572807], ["str", 0.0931458361427195]], "pod": [["str", 0.3062908952865012], ["List[Tuple[Any, Any, Any, str]]", 0.07730792410687472]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[385, 4], [388, 82]], "fn_var_ln": {"k": [[386, 8], [386, 9]], "pod": [[387, 8], [387, 11]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "task_id"], ["pod", "k", "build_pod_request_obj", "create_context", "k"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["re", "match", "pod", "metadata", "name", "None"]]}, "name": "test_omitted_name", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_omitted_name", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": ""}, "variables_p": {"k": [["int", 0.3822763018332069], ["str", 0.25619840437702074], ["Dict[str, Dict[str, Any]]", 0.11767147561672867], ["Dict[str, Union[int, str]]", 0.07218543560502044]], "pod": [["str", 0.437029078167495], ["types.SimpleNamespace", 0.08944588011721652], ["List[List[str]]", 0.08603516928092116]]}}, {"docstring": {"func": "Namespace precedence is as follows:", "long_descr": "- KPO\n    - airflow connection\n    - infer from k8s when in a cluster\n    - 'default' namespace as a fallback\n\nHere we check when KPO omitted but we do have a conn where namespace defined.\nIn this case, the namespace should be as defined in connection.", "ret": null}, "fn_lc": [[397, 4], [431, 78]], "fn_var_ln": {"context": [[416, 8], [416, 15]], "expected_namespace": [[424, 12], [424, 30]], "k": [[410, 8], [410, 9]], "pod": [[417, 8], [417, 11]], "return_value": [[426, 8], [426, 30]]}, "fn_var_occur": {"context": [["context", "create_context", "k"], ["pod", "k", "build_pod_request_obj", "context"], ["k", "get_or_create_pod", "pod_request_obj", "pod", "context", "context"], ["mock_find", "assert_called_once_with", "expected_namespace", "context", "context"]], "expected_namespace": [["pod", "metadata", "namespace", "expected_namespace"], ["mock_find", "assert_called_once_with", "expected_namespace", "context", "context"]], "k": [["k", "KubernetesPodOperator", "task_id", "kubernetes_conn_id", "dict", "pod_template_file", "pod_template_file", "use_template", "dict", "full_pod_spec", "pod_spec", "use_pod_spec"], ["context", "create_context", "k"], ["pod", "k", "build_pod_request_obj", "context"], ["k", "get_or_create_pod", "pod_request_obj", "pod", "context", "context"]], "pod": [["pod", "k", "build_pod_request_obj", "context"], ["pod", "metadata", "namespace", "expected_namespace"], ["mock_find", "return_value", "pod"], ["k", "get_or_create_pod", "pod_request_obj", "pod", "context", "context"]], "return_value": [["mock_find", "return_value", "pod"]]}, "name": "test_omitted_namespace_with_conn", "params": {"mock_find": "", "mock_path": "", "pod_spec": "", "pod_template_file": "", "self": "", "use_pod_spec": "", "use_template": ""}, "params_descr": {"mock_find": "", "mock_path": "", "pod_spec": "", "pod_template_file": "", "self": "", "use_pod_spec": "", "use_template": ""}, "params_occur": {"mock_find": [["mock_find", "return_value", "pod"], ["mock_find", "assert_called_once_with", "expected_namespace", "context", "context"]], "mock_path": [["mock_path", "assert_not_called"]], "pod_spec": [["k", "KubernetesPodOperator", "task_id", "kubernetes_conn_id", "dict", "pod_template_file", "pod_template_file", "use_template", "dict", "full_pod_spec", "pod_spec", "use_pod_spec"]], "pod_template_file": [["k", "KubernetesPodOperator", "task_id", "kubernetes_conn_id", "dict", "pod_template_file", "pod_template_file", "use_template", "dict", "full_pod_spec", "pod_spec", "use_pod_spec"]], "self": [], "use_pod_spec": [["k", "KubernetesPodOperator", "task_id", "kubernetes_conn_id", "dict", "pod_template_file", "pod_template_file", "use_template", "dict", "full_pod_spec", "pod_spec", "use_pod_spec"]], "use_template": [["k", "KubernetesPodOperator", "task_id", "kubernetes_conn_id", "dict", "pod_template_file", "pod_template_file", "use_template", "dict", "full_pod_spec", "pod_spec", "use_pod_spec"]]}, "params_p": {"args": [], "kwargs": [], "mock_find": [["str", 0.7541997888342526]], "mock_path": [["str", 0.28530807120470325], ["Optional[str]", 0.10519938207814757], ["unittesmock.MagicMock", 0.09258870059362118]], "pod_spec": [["str", 0.2832710699821559]], "pod_template_file": [["str", 0.2832710699821559]], "self": [], "use_pod_spec": [["str", 0.2832710699821559]], "use_template": [["str", 0.2832710699821559]]}, "q_name": "TestKubernetesPodOperator.test_omitted_namespace_with_conn", "ret_exprs": [], "ret_type": "", "variables": {"context": "", "expected_namespace": "", "k": "", "pod": "", "return_value": ""}, "variables_p": {"context": [["str", 0.4311372521272082], ["TextIO", 0.09637523545827797]], "expected_namespace": [["str", 0.9022686109147062], ["int", 0.09773138908529354]], "k": [["str", 0.31445765893978417], ["int", 0.3068750492488905], ["Dict[str, Dict[str, Any]]", 0.10417858588675513], ["dict", 0.0944009864553178]], "pod": [["tests.utils.MockFileMetadata", 0.11476110012942993], ["tests.core.base_schema_tesMockSchemaCollection", 0.09888557864119808], ["List[Dict[str, float]]", 0.08733735557750137]], "return_value": [["int", 0.2854560711354669], ["str", 0.22297769573804777], ["Dict[str, Dict[str, Any]]", 0.09353613298236951], ["List[Dict[str, str]]", 0.07299156962240015]]}}, {"docstring": {"func": "Namespace precedence is as follows:", "long_descr": "- KPO\n    - airflow connection\n    - infer from k8s when in a cluster\n    - 'default' namespace as a fallback\n\nHere we check when KPO omitted but we do have a conn where namespace defined.\nIn this case, we should continue down the change.\nHere we mock not in k8s and therefore get 'default'.", "ret": null}, "fn_lc": [[436, 4], [467, 69]], "fn_var_ln": {"context": [[458, 8], [458, 15]], "k": [[448, 8], [448, 9]], "pod": [[459, 8], [459, 11]], "return_value": [[462, 8], [462, 30]]}, "fn_var_occur": {"context": [["context", "create_context", "k"], ["pod", "k", "build_pod_request_obj", "context"], ["k", "get_or_create_pod", "pod_request_obj", "pod", "context", "context"], ["mock_find", "assert_called_once_with", "context", "context"]], "k": [["k", "KubernetesPodOperator", "image", "cmds", "arguments", "task_id", "name", "kubernetes_conn_id"], ["context", "create_context", "k"], ["pod", "k", "build_pod_request_obj", "context"], ["k", "get_or_create_pod", "pod_request_obj", "pod", "context", "context"]], "pod": [["pod", "k", "build_pod_request_obj", "context"], ["pod", "metadata", "namespace"], ["mock_find", "return_value", "pod"], ["k", "get_or_create_pod", "pod_request_obj", "pod", "context", "context"]], "return_value": [["mock_path", "return_value", "exists", "return_value", "False"], ["mock_find", "return_value", "pod"]]}, "name": "test_omitted_namespace_with_conn_no_value", "params": {"mock_find": "", "mock_path": "", "self": ""}, "params_descr": {"mock_find": "", "mock_path": "", "self": ""}, "params_occur": {"mock_find": [["mock_find", "return_value", "pod"], ["mock_find", "assert_called_once_with", "context", "context"]], "mock_path": [["mock_path", "return_value", "exists", "return_value", "False"], ["mock_path", "assert_called"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_find": [["unittesmock.MagicMock", 0.6969004411493257]], "mock_path": [["unittesmock.MagicMock", 0.9048885692020885]], "self": []}, "q_name": "TestKubernetesPodOperator.test_omitted_namespace_with_conn_no_value", "ret_exprs": [], "ret_type": "", "variables": {"context": "", "k": "", "pod": "", "return_value": ""}, "variables_p": {"context": [["str", 0.4311372521272082], ["TextIO", 0.09637523545827797]], "k": [["int", 0.7127437916791393], ["str", 0.11360164409375224]], "pod": [["int", 0.20295634306203458], ["raiden.tests.utils.mocks.MockRaidenService", 0.19060482653551947], ["List[Dict[str, float]]", 0.11305705825950244], ["Dict[str, str]", 0.09030290802951277]], "return_value": [["Dict[str, Dict[str, Any]]", 0.205062351465358], ["unittesmock.MagicMock", 0.09795435629400291], ["List[Dict[str, str]]", 0.08732080461690749], ["Dict[str, Union[Any, Any, Any, Any]]", 0.08380255383250829], ["List[Union[Any, Any, Any]]", 0.08380255383250829]]}}, {"docstring": {"func": "Namespace precedence is as follows:", "long_descr": "- KPO\n    - airflow connection\n    - infer from k8s when in a cluster\n    - 'default' namespace as a fallback\n\nHere we check when KPO omitted and no airflow connection, but we are in k8s.\nIn this case, we should use the value from k8s.", "ret": null}, "fn_lc": [[471, 4], [501, 65]], "fn_var_ln": {"context": [[492, 8], [492, 15]], "k": [[484, 8], [484, 9]], "pod": [[493, 8], [493, 11]], "return_value": [[496, 8], [496, 30]]}, "fn_var_occur": {"context": [["context", "create_context", "k"], ["pod", "k", "build_pod_request_obj", "context"], ["k", "get_or_create_pod", "pod_request_obj", "pod", "context", "context"], ["mock_find", "assert_called_once_with", "context", "context"]], "k": [["k", "KubernetesPodOperator", "image", "cmds", "arguments", "task_id", "name"], ["context", "create_context", "k"], ["pod", "k", "build_pod_request_obj", "context"], ["k", "get_or_create_pod", "pod_request_obj", "pod", "context", "context"]], "pod": [["pod", "k", "build_pod_request_obj", "context"], ["pod", "metadata", "namespace"], ["mock_find", "return_value", "pod"], ["k", "get_or_create_pod", "pod_request_obj", "pod", "context", "context"]], "return_value": [["mock_path", "return_value", "exists", "return_value", "True"], ["mock_path", "return_value", "read_text", "return_value"], ["mock_find", "return_value", "pod"]]}, "name": "test_omitted_namespace_no_conn", "params": {"mock_find": "", "mock_path": "", "self": ""}, "params_descr": {"mock_find": "", "mock_path": "", "self": ""}, "params_occur": {"mock_find": [["mock_find", "return_value", "pod"], ["mock_find", "assert_called_once_with", "context", "context"]], "mock_path": [["mock_path", "return_value", "exists", "return_value", "True"], ["mock_path", "return_value", "read_text", "return_value"], ["mock_path", "assert_called_once_with"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_find": [["unittesmock.MagicMock", 0.7054213627109849]], "mock_path": [["unittesmock.MagicMock", 0.8870986059283075], ["mock.Mock", 0.11290139407169249]], "self": []}, "q_name": "TestKubernetesPodOperator.test_omitted_namespace_no_conn", "ret_exprs": [], "ret_type": "", "variables": {"context": "", "k": "", "pod": "", "return_value": ""}, "variables_p": {"context": [["str", 0.4311372521272082], ["TextIO", 0.09637523545827797]], "k": [["int", 0.5327175173964285], ["str", 0.20082057750826554]], "pod": [["int", 0.20295634306203458], ["raiden.tests.utils.mocks.MockRaidenService", 0.19060482653551947], ["List[Dict[str, float]]", 0.11305705825950244], ["Dict[str, str]", 0.09030290802951277]], "return_value": [["str", 0.45571428324129515], ["Dict[str, str]", 0.2609035927746197], ["list", 0.14707179935641235], ["int", 0.13631032462767262]]}}, {"docstring": {"func": "Namespace precedence is as follows:", "long_descr": "- KPO\n    - airflow connection\n    - infer from k8s when in a cluster\n    - 'default' namespace as a fallback\n\nHere we check when KPO omitted and no airflow connection and not in a k8s pod.\nIn this case we should end up with the 'default' namespace.", "ret": null}, "fn_lc": [[505, 4], [534, 69]], "fn_var_ln": {"context": [[525, 8], [525, 15]], "k": [[517, 8], [517, 9]], "pod": [[526, 8], [526, 11]], "return_value": [[529, 8], [529, 30]]}, "fn_var_occur": {"context": [["context", "create_context", "k"], ["pod", "k", "build_pod_request_obj", "context"], ["k", "get_or_create_pod", "pod_request_obj", "pod", "context", "context"], ["mock_find", "assert_called_once_with", "context", "context"]], "k": [["k", "KubernetesPodOperator", "image", "cmds", "arguments", "task_id", "name"], ["context", "create_context", "k"], ["pod", "k", "build_pod_request_obj", "context"], ["k", "get_or_create_pod", "pod_request_obj", "pod", "context", "context"]], "pod": [["pod", "k", "build_pod_request_obj", "context"], ["pod", "metadata", "namespace"], ["mock_find", "return_value", "pod"], ["k", "get_or_create_pod", "pod_request_obj", "pod", "context", "context"]], "return_value": [["mock_path", "return_value", "exists", "return_value", "False"], ["mock_find", "return_value", "pod"]]}, "name": "test_omitted_namespace_no_conn_not_in_k8s", "params": {"mock_find": "", "mock_path": "", "self": ""}, "params_descr": {"mock_find": "", "mock_path": "", "self": ""}, "params_occur": {"mock_find": [["mock_find", "return_value", "pod"], ["mock_find", "assert_called_once_with", "context", "context"]], "mock_path": [["mock_path", "return_value", "exists", "return_value", "False"], ["mock_path", "assert_called_once_with"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_find": [["unittesmock.MagicMock", 0.6095974793683271]], "mock_path": [["unittesmock.MagicMock", 0.9084135304752131]], "self": []}, "q_name": "TestKubernetesPodOperator.test_omitted_namespace_no_conn_not_in_k8s", "ret_exprs": [], "ret_type": "", "variables": {"context": "", "k": "", "pod": "", "return_value": ""}, "variables_p": {"context": [["str", 0.4311372521272082], ["TextIO", 0.09637523545827797]], "k": [["int", 0.5327175173964285], ["str", 0.20082057750826554]], "pod": [["int", 0.20295634306203458], ["raiden.tests.utils.mocks.MockRaidenService", 0.19060482653551947], ["List[Dict[str, float]]", 0.11305705825950244], ["Dict[str, str]", 0.09030290802951277]], "return_value": [["Dict[str, Dict[str, Any]]", 0.205062351465358], ["unittesmock.MagicMock", 0.09795435629400291], ["List[Dict[str, str]]", 0.08732080461690749], ["Dict[str, Union[Any, Any, Any, Any]]", 0.08380255383250829], ["List[Union[Any, Any, Any]]", 0.08380255383250829]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[536, 4], [545, 52]], "fn_var_ln": {"image": [[537, 8], [537, 13]], "k": [[539, 12], [539, 13]], "pod": [[544, 12], [544, 15]]}, "fn_var_occur": {"image": [["temp_override_attr", "PodDefaults", "SIDECAR_CONTAINER", "image"], ["pod", "spec", "containers", "image", "image"]], "k": [["k", "KubernetesPodOperator", "name", "task_id", "do_xcom_push", "True"], ["pod", "k", "build_pod_request_obj", "create_context", "k"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "spec", "containers", "image", "image"]]}, "name": "test_xcom_sidecar_container_image_custom", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_xcom_sidecar_container_image_custom", "ret_exprs": [], "ret_type": "", "variables": {"image": "", "k": "", "pod": ""}, "variables_p": {"image": [["str", 0.37012764700796935], ["Dict[int, float]", 0.09666841182276302], ["Pattern[str]", 0.09624096839001009], ["tuple", 0.09333293131449297], ["list", 0.08906597895571267]], "k": [["str", 0.4572593971064655], ["int", 0.1792326879998552], ["Dict[str, int]", 0.09683658386647077]], "pod": [["int", 0.4630152110925224], ["pytch.utils.Position", 0.1686915061706606], ["Dict[str, Any]", 0.0963874846471774], ["dict", 0.08532486222303241]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[547, 4], [554, 55]], "fn_var_ln": {"k": [[548, 8], [548, 9]], "pod": [[553, 8], [553, 11]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "name", "task_id", "do_xcom_push", "True"], ["pod", "k", "build_pod_request_obj", "create_context", "k"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "spec", "containers", "image"]]}, "name": "test_xcom_sidecar_container_image_default", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_xcom_sidecar_container_image_default", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": ""}, "variables_p": {"k": [["str", 0.4572593971064655], ["int", 0.1792326879998552], ["Dict[str, int]", 0.09683658386647077]], "pod": [["dict", 0.21026604379637684], ["int", 0.19332689822821886], ["types.SimpleNamespace", 0.09715386277675073]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[556, 4], [568, 9]], "fn_var_ln": {"k": [[557, 8], [557, 9]], "pod": [[562, 8], [562, 11]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "name", "task_id", "do_xcom_push", "True"], ["pod", "k", "build_pod_request_obj", "create_context", "k"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "spec", "containers", "resources", "k8s", "V1ResourceRequirements", "requests"]]}, "name": "test_xcom_sidecar_container_resources_default", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_xcom_sidecar_container_resources_default", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": ""}, "variables_p": {"k": [["str", 0.4572593971064655], ["int", 0.1792326879998552], ["Dict[str, int]", 0.09683658386647077]], "pod": [["int", 0.1042045821869701]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[570, 4], [582, 64]], "fn_var_ln": {"k": [[576, 12], [576, 13]], "pod": [[581, 12], [581, 15]], "resources": [[571, 8], [571, 17]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "name", "task_id", "do_xcom_push", "True"], ["pod", "k", "build_pod_request_obj", "create_context", "k"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "spec", "containers", "resources", "resources"]], "resources": [["temp_override_attr", "PodDefaults", "SIDECAR_CONTAINER", "resources"], ["pod", "spec", "containers", "resources", "resources"]]}, "name": "test_xcom_sidecar_container_resources_custom", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_xcom_sidecar_container_resources_custom", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": "", "resources": ""}, "variables_p": {"k": [["str", 0.4572593971064655], ["int", 0.1792326879998552], ["Dict[str, int]", 0.09683658386647077]], "pod": [["dict", 0.21026604379637684], ["int", 0.19332689822821886], ["types.SimpleNamespace", 0.09715386277675073]], "resources": [["str", 0.607283738808066], ["list", 0.10204997387696359], ["Union[Literal, Literal]", 0.0988665015017354], ["dict", 0.09673146654432721]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[584, 4], [590, 67]], "fn_var_ln": {"k": [[585, 8], [585, 9]], "pod": [[589, 8], [589, 11]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "task_id", "image_pull_policy"], ["pod", "k", "build_pod_request_obj", "create_context", "k"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "spec", "containers", "image_pull_policy"]]}, "name": "test_image_pull_policy_correctly_set", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_image_pull_policy_correctly_set", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": ""}, "variables_p": {"k": [["int", 1.0]], "pod": [["str", 0.3344187487224308], ["Tuple[str, str]", 0.09666470113031511], ["Tuple[str, str, str, str, str]", 0.09666470113031511], ["dict", 0.09571543392806364], ["Tuple[Literal, Literal, Literal]", 0.08747404674118224]]}}, {"docstring": {"func": "When KPO fails unexpectedly during await_container, we should still try to delete the pod,", "long_descr": "and the pod we try to delete should be the one returned from find_pod earlier.", "ret": null}, "fn_lc": [[605, 4], [625, 47]], "fn_var_ln": {"cont_status": [[612, 8], [612, 19]], "context": [[619, 12], [619, 19]], "k": [[616, 8], [616, 9]], "name": [[613, 8], [613, 24]]}, "fn_var_occur": {"cont_status": [["cont_status", "MagicMock"], ["cont_status", "name"], ["cont_status", "state", "terminated", "message"], ["find_pod_mock", "return_value", "status", "container_statuses", "cont_status"]], "context": [["context", "create_context", "k"], ["context", "xcom_push", "MagicMock"], ["k", "execute", "context", "context"]], "k": [["k", "KubernetesPodOperator", "task_id", "task_kwargs"], ["context", "create_context", "k"], ["k", "execute", "context", "context"]], "name": [["cont_status", "name"]]}, "name": "test_pod_delete_after_await_container_error", "params": {"delete_pod_mock": "", "find_pod_mock": "", "self": "", "should_be_deleted": "", "task_kwargs": ""}, "params_descr": {"delete_pod_mock": "", "find_pod_mock": "", "self": "", "should_be_deleted": "", "task_kwargs": ""}, "params_occur": {"delete_pod_mock": [["delete_pod_mock", "assert_called_with", "find_pod_mock", "return_value"], ["delete_pod_mock", "assert_not_called"]], "find_pod_mock": [["find_pod_mock", "return_value", "status", "container_statuses", "cont_status"], ["delete_pod_mock", "assert_called_with", "find_pod_mock", "return_value"]], "self": [["self", "await_pod_mock", "side_effect", "AirflowException"]], "should_be_deleted": [], "task_kwargs": [["k", "KubernetesPodOperator", "task_id", "task_kwargs"]]}, "params_p": {"args": [], "delete_pod_mock": [["unittesmock.MagicMock", 0.706256868551675]], "find_pod_mock": [["k8s.clienK8SAPIClient", 0.3032738201944796], ["mock.MagicMock", 0.1134076098058068]], "kwargs": [], "self": [], "should_be_deleted": [], "task_kwargs": [["core.models.MyUser", 0.09944814239240664]]}, "q_name": "TestKubernetesPodOperator.test_pod_delete_after_await_container_error", "ret_exprs": [], "ret_type": "", "variables": {"cont_status": "", "context": "", "k": "", "name": ""}, "variables_p": {"cont_status": [["str", 0.2698113274481527], ["unittesmock.MagicMock", 0.19785617798088972], ["Callable", 0.08497074144586897]], "context": [["mode.utils.mocks.Mock", 0.10847093043549469], ["mock.MagicMock", 0.08739851187931835], ["unittesmock.MagicMock", 0.08709351817646292]], "k": [["int", 0.5172335213285342], ["bool", 0.18663644809891983]], "name": [["str", 0.7756550135034255], ["Dict[str, str]", 0.11217249324828728], ["Tuple[str, str, str]", 0.11217249324828728]]}}, {"docstring": {"func": "When pod creation fails, we never get a read of the remote pod.  In this case we don't attempt", "long_descr": "to delete the pod.", "ret": null}, "fn_lc": [[630, 4], [652, 43]], "fn_var_ln": {"cm": [[645, 8], [645, 10]], "k": [[635, 8], [635, 9]]}, "fn_var_occur": {"cm": [["cm", "pytest", "raises", "AirflowException", "should_fail", "nullcontext"]], "k": [["k", "KubernetesPodOperator", "task_id", "on_finish_action"], ["self", "run_pod", "k"]]}, "name": "test_pod_delete_not_called_when_creation_fails", "params": {"await_pod_mock": "", "delete_pod_mock": "", "self": "", "should_fail": ""}, "params_descr": {"await_pod_mock": "", "delete_pod_mock": "", "self": "", "should_fail": ""}, "params_occur": {"await_pod_mock": [["await_pod_mock", "return_value", "status", "phase"]], "delete_pod_mock": [["delete_pod_mock", "assert_not_called"], ["delete_pod_mock", "assert_called"]], "self": [["self", "create_mock", "side_effect", "AirflowException"], ["self", "run_pod", "k"]], "should_fail": [["cm", "pytest", "raises", "AirflowException", "should_fail", "nullcontext"]]}, "params_p": {"args": [], "await_pod_mock": [["unittesmock.MagicMock", 0.9114753187322063]], "delete_pod_mock": [["unittesmock.MagicMock", 0.9999999999999999]], "kwargs": [], "self": [], "should_fail": [["str", 0.2200609012484508]]}, "q_name": "TestKubernetesPodOperator.test_pod_delete_not_called_when_creation_fails", "ret_exprs": [], "ret_type": "", "variables": {"cm": "", "k": ""}, "variables_p": {"cm": [["str", 0.8988391473991929], ["dict", 0.10116085260080684]], "k": [["int", 0.6017891731762749], ["bool", 0.1793921697658925], ["List[Tuple[str, Any]]", 0.10753617013203984]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[655, 4], [669, 49]], "fn_var_ln": {"context": [[662, 8], [662, 15]], "k": [[657, 8], [657, 9]], "name_base": [[656, 8], [656, 17]], "pod": [[663, 8], [663, 11]]}, "fn_var_occur": {"context": [["context", "create_context", "k"], ["pod", "k", "build_pod_request_obj", "context"]], "k": [["k", "KubernetesPodOperator", "name", "name_base", "random_name_suffix", "randomize", "task_id"], ["context", "create_context", "k"], ["pod", "k", "build_pod_request_obj", "context"]], "name_base": [["k", "KubernetesPodOperator", "name", "name_base", "random_name_suffix", "randomize", "task_id"], ["pod", "metadata", "name", "startswith", "name_base"], ["pod", "metadata", "name", "name_base"], ["pod", "metadata", "name", "name_base"]], "pod": [["pod", "k", "build_pod_request_obj", "context"], ["pod", "metadata", "name", "startswith", "name_base"], ["pod", "metadata", "name", "name_base"], ["pod", "metadata", "name", "name_base"]]}, "name": "test_provided_pod_name", "params": {"randomize": "", "self": ""}, "params_descr": {"randomize": "", "self": ""}, "params_occur": {"randomize": [["k", "KubernetesPodOperator", "name", "name_base", "random_name_suffix", "randomize", "task_id"]], "self": []}, "params_p": {"args": [], "kwargs": [], "randomize": [["tests.e2e.Helper", 0.1169203787684097]], "self": []}, "q_name": "TestKubernetesPodOperator.test_provided_pod_name", "ret_exprs": [], "ret_type": "", "variables": {"context": "", "k": "", "name_base": "", "pod": ""}, "variables_p": {"context": [["bool", 0.47562222865692627], ["str", 0.22053588014165162], ["TextIO", 0.10768298092562387]], "k": [["str", 0.4019624907783549], ["Dict[str, str]", 0.07960310370698163], ["Dict[str, int]", 0.07861000149235549], ["Dict[str, Tuple[str, ...]]", 0.07428443192212632]], "name_base": [["str", 0.34267027489154567], ["list", 0.09673823602983397], ["List[Dict[str, Any]]", 0.08667223638303237]], "pod": [["str", 0.5280585579535975], ["OrderedDict[str, Any]", 0.12907134505858062], ["dict", 0.090895372308085], ["bytes", 0.08207163756122025], ["int", 0.07726659191026565]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[672, 4], [684, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "pod_spec", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.pod_spec", "ret_exprs": ["return k8s.V1Pod( metadata=k8s.V1ObjectMeta(name=\"hello\", labels={\"foo\": \"bar\"}, namespace=\"podspecnamespace\"), spec=k8s.V1PodSpec( containers=[ k8s.V1Container( name=\"base\", image=\"ubuntu:16.04\", command=[\"something\"], ) ] ),)"], "ret_type": "", "ret_type_p": [["dict", 0.17513598211179104], ["Optional[Iterable[int]]", 0.09911636372469726], ["Optional[str]", 0.09889173238450204], ["Optional[int]", 0.09051607263974558]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[687, 4], [717, 9]], "fn_var_ln": {"context": [[695, 8], [695, 15]], "k": [[690, 8], [690, 9]], "pod": [[696, 8], [696, 11]], "pod_spec_name_base": [[688, 8], [688, 26]]}, "fn_var_occur": {"context": [["context", "create_context", "k"], ["pod", "k", "build_pod_request_obj", "context"]], "k": [["k", "KubernetesPodOperator", "task_id", "random_name_suffix", "randomize_name", "full_pod_spec", "pod_spec"], ["context", "create_context", "k"], ["pod", "k", "build_pod_request_obj", "context"], ["pod", "metadata", "labels", "mock", "ANY", "str", "k", "hook", "is_in_cluster"]], "pod": [["pod", "k", "build_pod_request_obj", "context"], ["pod", "metadata", "name", "startswith", "pod_spec_name_base"], ["pod", "metadata", "name", "pod_spec_name_base"], ["pod", "metadata", "name", "pod_spec_name_base"], ["pod", "metadata", "namespace", "pod_spec", "metadata", "namespace"], ["pod", "spec", "containers", "image", "pod_spec", "spec", "containers", "image"], ["pod", "spec", "containers", "command", "pod_spec", "spec", "containers", "command"], ["pod", "metadata", "labels", "mock", "ANY", "str", "k", "hook", "is_in_cluster"]], "pod_spec_name_base": [["pod_spec_name_base", "pod_spec", "metadata", "name"], ["pod", "metadata", "name", "startswith", "pod_spec_name_base"], ["pod", "metadata", "name", "pod_spec_name_base"], ["pod", "metadata", "name", "pod_spec_name_base"]]}, "name": "test_full_pod_spec", "params": {"pod_spec": "", "randomize_name": "", "self": ""}, "params_descr": {"pod_spec": "", "randomize_name": "", "self": ""}, "params_occur": {"pod_spec": [["pod_spec_name_base", "pod_spec", "metadata", "name"], ["k", "KubernetesPodOperator", "task_id", "random_name_suffix", "randomize_name", "full_pod_spec", "pod_spec"], ["pod", "metadata", "namespace", "pod_spec", "metadata", "namespace"], ["pod", "spec", "containers", "image", "pod_spec", "spec", "containers", "image"], ["pod", "spec", "containers", "command", "pod_spec", "spec", "containers", "command"]], "randomize_name": [["k", "KubernetesPodOperator", "task_id", "random_name_suffix", "randomize_name", "full_pod_spec", "pod_spec"]], "self": []}, "params_p": {"args": [], "kwargs": [], "pod_spec": [["str", 0.5217054115023273], ["List[str]", 0.15848718370164927], ["Optional[str]", 0.07819204671155873]], "randomize_name": [["str", 0.3945353220943814], ["Mapping[str, Any]", 0.10546467790561857], ["int", 0.10546467790561857]], "self": []}, "q_name": "TestKubernetesPodOperator.test_full_pod_spec", "ret_exprs": [], "ret_type": "", "variables": {"context": "", "k": "", "pod": "", "pod_spec_name_base": ""}, "variables_p": {"context": [["bool", 0.47562222865692627], ["str", 0.22053588014165162], ["TextIO", 0.10768298092562387]], "k": [["int", 0.26553471165414955], ["str", 0.18476792324114172], ["Set[int]", 0.0976394551868297], ["bool", 0.08807848084259597]], "pod": [["str", 0.4791612214118629], ["Dict[str, Union[Any, Any, Any]]", 0.2022029774933232], ["OrderedDict[str, Any]", 0.11808977354161855], ["int", 0.09477635205201122]], "pod_spec_name_base": [["str", 0.30004112769213387], ["Final", 0.20235192622358417], ["venv.Lib.site-packages.mypy.types.Type", 0.0965428062827059], ["Type[Callable[..., Any]]", 0.09483812012923021], ["Type[Callable[..., None]]", 0.09140311372499418]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[720, 4], [753, 9]], "fn_var_ln": {"image": [[722, 8], [722, 13]], "k": [[724, 8], [724, 9]], "name_base": [[723, 8], [723, 17]], "pod": [[732, 8], [732, 11]]}, "fn_var_occur": {"image": [["k", "KubernetesPodOperator", "task_id", "random_name_suffix", "randomize_name", "full_pod_spec", "pod_spec", "name", "name_base", "image", "image", "labels"], ["pod", "spec", "containers", "image", "image"]], "k": [["k", "KubernetesPodOperator", "task_id", "random_name_suffix", "randomize_name", "full_pod_spec", "pod_spec", "name", "name_base", "image", "image", "labels"], ["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "metadata", "labels", "mock", "ANY", "str", "k", "hook", "is_in_cluster"]], "name_base": [["k", "KubernetesPodOperator", "task_id", "random_name_suffix", "randomize_name", "full_pod_spec", "pod_spec", "name", "name_base", "image", "image", "labels"], ["pod", "metadata", "name", "startswith", "name_base"], ["pod", "metadata", "name", "name_base"], ["pod", "metadata", "name", "name_base"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "metadata", "name", "startswith", "name_base"], ["pod", "metadata", "name", "name_base"], ["pod", "metadata", "name", "name_base"], ["pod", "spec", "containers", "image", "image"], ["pod", "metadata", "labels", "mock", "ANY", "str", "k", "hook", "is_in_cluster"]]}, "name": "test_full_pod_spec_kwargs", "params": {"pod_spec": "", "randomize_name": "", "self": ""}, "params_descr": {"pod_spec": "", "randomize_name": "", "self": ""}, "params_occur": {"pod_spec": [["k", "KubernetesPodOperator", "task_id", "random_name_suffix", "randomize_name", "full_pod_spec", "pod_spec", "name", "name_base", "image", "image", "labels"]], "randomize_name": [["k", "KubernetesPodOperator", "task_id", "random_name_suffix", "randomize_name", "full_pod_spec", "pod_spec", "name", "name_base", "image", "image", "labels"]], "self": []}, "params_p": {"args": [], "kwargs": [], "pod_spec": [["str", 0.28186917244319437], ["bool", 0.11005605094818456], ["Mapping[str, Any]", 0.1012892739298229], ["int", 0.1012892739298229]], "randomize_name": [["str", 0.28186917244319437], ["bool", 0.11005605094818456], ["Mapping[str, Any]", 0.1012892739298229], ["int", 0.1012892739298229]], "self": []}, "q_name": "TestKubernetesPodOperator.test_full_pod_spec_kwargs", "ret_exprs": [], "ret_type": "", "variables": {"image": "", "k": "", "name_base": "", "pod": ""}, "variables_p": {"image": [["str", 0.4481419695353101], ["set", 0.18633242525651914], ["List[str]", 0.09034107941377348], ["Dict[int, str]", 0.08747957872157307]], "k": [["int", 0.2817039777702006], ["Dict[str, Dict[str, Any]]", 0.1273385840844665], ["List[Tuple[str, Any]]", 0.0974133821009116], ["str", 0.0789107999999442]], "name_base": [["str", 0.19103050379761613], ["Pattern[str]", 0.10813029116760897], ["List[str]", 0.10564997909852576], ["Dict[str, str]", 0.09949411381880129], ["Optional[str]", 0.0973328935320645], ["int", 0.09005873458386683], ["List[int]", 0.08835939368553866]], "pod": [["venv.Lib.site-packages.pipenv.patched.contoml.file.structurer.NamedDict", 0.20232558428636438], ["int", 0.09816256372918547], ["venv.Lib.site-packages.mypy.build.BuildManager", 0.09334182127729324]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[756, 4], [797, 22]], "fn_var_ln": {"pod_template_yaml": [[757, 8], [757, 25]], "tpl_file": [[794, 8], [794, 16]]}, "fn_var_occur": {"pod_template_yaml": [["tpl_file", "write_bytes", "pod_template_yaml"]], "tpl_file": [["tpl_file", "tmp_path"], ["tpl_file", "write_bytes", "pod_template_yaml"]]}, "name": "pod_template_file", "params": {"self": "", "tmp_path": ""}, "params_descr": {"self": "", "tmp_path": ""}, "params_occur": {"self": [], "tmp_path": [["tpl_file", "tmp_path"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "tmp_path": [["str", 0.4236824037897796]]}, "q_name": "TestKubernetesPodOperator.pod_template_file", "ret_exprs": [], "ret_type": "", "variables": {"pod_template_yaml": "", "tpl_file": ""}, "variables_p": {"pod_template_yaml": [["str", 0.780314932692431], ["Optional[str]", 0.08389533925416436]], "tpl_file": [["str", 0.7059711295736948]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[800, 4], [858, 54]], "fn_var_ln": {"affinity": [[830, 8], [830, 16]], "k": [[801, 8], [801, 9]], "pod": [[806, 8], [806, 11]]}, "fn_var_occur": {"affinity": [["affinity", "None", "None", "None", "None"], ["pod", "spec", "affinity", "to_dict", "affinity"]], "k": [["k", "KubernetesPodOperator", "task_id", "random_name_suffix", "randomize_name", "pod_template_file", "pod_template_file"], ["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "metadata", "labels", "mock", "ANY", "str", "k", "hook", "is_in_cluster"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "metadata", "name", "startswith"], ["pod", "metadata", "name"], ["pod", "metadata", "name"], ["pod", "metadata", "labels", "mock", "ANY", "str", "k", "hook", "is_in_cluster"], ["pod", "metadata", "namespace"], ["pod", "spec", "containers", "image"], ["pod", "spec", "containers", "image_pull_policy"], ["pod", "spec", "containers", "command"], ["pod", "spec", "service_account_name"], ["pod", "spec", "affinity", "to_dict", "affinity"]]}, "name": "test_pod_template_file", "params": {"pod_template_file": "", "randomize_name": "", "self": ""}, "params_descr": {"pod_template_file": "", "randomize_name": "", "self": ""}, "params_occur": {"pod_template_file": [["k", "KubernetesPodOperator", "task_id", "random_name_suffix", "randomize_name", "pod_template_file", "pod_template_file"]], "randomize_name": [["k", "KubernetesPodOperator", "task_id", "random_name_suffix", "randomize_name", "pod_template_file", "pod_template_file"]], "self": []}, "params_p": {"args": [], "kwargs": [], "pod_template_file": [["str", 0.19287506152356068], ["int", 0.12174231261678695], ["TextIO", 0.09472457369308883], ["bool", 0.09465192643190153]], "randomize_name": [["str", 0.19287506152356068], ["int", 0.12174231261678695], ["TextIO", 0.09472457369308883], ["bool", 0.09465192643190153]], "self": []}, "q_name": "TestKubernetesPodOperator.test_pod_template_file", "ret_exprs": [], "ret_type": "", "variables": {"affinity": "", "k": "", "pod": ""}, "variables_p": {"affinity": [["Tuple[Any, Any, Any, Any]", 0.1056633061796098], ["Dict[int, Tuple[int, int]]", 0.08397742192912701]], "k": [["int", 0.3769099215348472], ["str", 0.35129124461347805], ["ultron8.api.models.packs.PacksCreate", 0.1779932562584456], ["Tuple[Literal]", 0.09380557759322912]], "pod": [["int", 0.5951151176753178], ["str", 0.09918585294588629], ["Anaconda3.Lib.site-packages._pytes_code.code.ReprFileLocation", 0.0967058257938288]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[861, 4], [894, 9]], "fn_var_ln": {"image": [[863, 8], [863, 13]], "k": [[865, 8], [865, 9]], "name_base": [[864, 8], [864, 17]], "pod": [[873, 8], [873, 11]]}, "fn_var_occur": {"image": [["k", "KubernetesPodOperator", "task_id", "pod_template_file", "pod_template_file", "name", "name_base", "random_name_suffix", "randomize_name", "image", "image", "labels"], ["pod", "spec", "containers", "image", "image"]], "k": [["k", "KubernetesPodOperator", "task_id", "pod_template_file", "pod_template_file", "name", "name_base", "random_name_suffix", "randomize_name", "image", "image", "labels"], ["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "metadata", "labels", "mock", "ANY", "str", "k", "hook", "is_in_cluster"]], "name_base": [["k", "KubernetesPodOperator", "task_id", "pod_template_file", "pod_template_file", "name", "name_base", "random_name_suffix", "randomize_name", "image", "image", "labels"], ["pod", "metadata", "name", "startswith", "name_base"], ["pod", "metadata", "name", "name_base"], ["pod", "metadata", "name", "name_base"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "metadata", "name", "startswith", "name_base"], ["pod", "metadata", "name", "name_base"], ["pod", "metadata", "name", "name_base"], ["pod", "spec", "containers", "image", "image"], ["pod", "metadata", "labels", "mock", "ANY", "str", "k", "hook", "is_in_cluster"]]}, "name": "test_pod_template_file_kwargs_override", "params": {"pod_template_file": "", "randomize_name": "", "self": ""}, "params_descr": {"pod_template_file": "", "randomize_name": "", "self": ""}, "params_occur": {"pod_template_file": [["k", "KubernetesPodOperator", "task_id", "pod_template_file", "pod_template_file", "name", "name_base", "random_name_suffix", "randomize_name", "image", "image", "labels"]], "randomize_name": [["k", "KubernetesPodOperator", "task_id", "pod_template_file", "pod_template_file", "name", "name_base", "random_name_suffix", "randomize_name", "image", "image", "labels"]], "self": []}, "params_p": {"args": [], "kwargs": [], "pod_template_file": [["bool", 0.2714433071319123], ["str", 0.10030840468858002], ["Optional[str]", 0.09207432435322886]], "randomize_name": [["bool", 0.2714433071319123], ["str", 0.10030840468858002], ["Optional[str]", 0.09207432435322886]], "self": []}, "q_name": "TestKubernetesPodOperator.test_pod_template_file_kwargs_override", "ret_exprs": [], "ret_type": "", "variables": {"image": "", "k": "", "name_base": "", "pod": ""}, "variables_p": {"image": [["str", 0.698485803319173], ["int", 0.0948993250342978]], "k": [["str", 0.5103170549581413], ["int", 0.3636427831750872], ["Dict[starfish.core.types._constants.Axes, int]", 0.12604016186677144]], "name_base": [["str", 0.8997703560696597], ["Optional[str]", 0.10022964393034038]], "pod": [["venv.Lib.site-packages.pipenv.patched.contoml.file.structurer.NamedDict", 0.20232558428636438], ["int", 0.09816256372918547], ["venv.Lib.site-packages.mypy.build.BuildManager", 0.09334182127729324]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[898, 4], [909, 23]], "fn_var_ln": {"k": [[901, 8], [901, 9]], "name_base": [[899, 8], [899, 17]], "remote_pod_mock": [[904, 8], [904, 23]], "return_value": [[903, 8], [903, 41]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "name", "name_base", "task_id"], ["self", "run_pod", "k"]], "name_base": [["k", "KubernetesPodOperator", "name", "name_base", "task_id"]], "remote_pod_mock": [["remote_pod_mock", "MagicMock"], ["remote_pod_mock", "status", "phase"], ["self", "await_pod_mock", "return_value", "remote_pod_mock"]], "return_value": [["fetch_container_mock", "return_value", "None"], ["self", "await_pod_mock", "return_value", "remote_pod_mock"]]}, "name": "test_no_handle_failure_on_success", "params": {"fetch_container_mock": "", "self": ""}, "params_descr": {"fetch_container_mock": "", "self": ""}, "params_occur": {"fetch_container_mock": [["fetch_container_mock", "return_value", "None"]], "self": [["self", "await_pod_mock", "return_value", "remote_pod_mock"], ["self", "run_pod", "k"]]}, "params_p": {"args": [], "fetch_container_mock": [["unittesmock.MagicMock", 0.18430914842239712], ["mock.MagicMock", 0.09213388037277777]], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_no_handle_failure_on_success", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "name_base": "", "remote_pod_mock": "", "return_value": ""}, "variables_p": {"k": [["str", 0.36184004326530067], ["bytes", 0.12116276476515185], ["int", 0.11152294195718074], ["Dict[str, List[str]]", 0.0876204754175602]], "name_base": [["str", 0.8266671167631439]], "remote_pod_mock": [["unittesmock.MagicMock", 0.408519583722113], ["mock.Mock", 0.12055028219107597], ["mock.MagicMock", 0.0838471368050987]], "return_value": [["Optional[bytes]", 0.1916751456730447], ["list", 0.15272783729096157], ["mock._patch[Union[mock.AsyncMock, mock.MagicMock]]", 0.09698889323731737], ["Tuple[int, int]", 0.09121223790737387], ["Type[Dict[Any, Any]]", 0.07470506023375442], ["Dict[str, List[Any]]", 0.06969155653306897]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[911, 4], [958, 60]], "fn_var_ln": {"affinity": [[912, 8], [912, 16]], "k": [[950, 8], [950, 9]], "k8s_api_affinity": [[935, 8], [935, 24]], "pod": [[955, 8], [955, 11]], "sanitized_pod": [[956, 8], [956, 21]]}, "fn_var_occur": {"affinity": [["k", "KubernetesPodOperator", "task_id", "affinity", "affinity"], ["isinstance", "pod", "spec", "affinity", "k8s", "V1Affinity"], ["sanitized_pod", "affinity"], ["k", "KubernetesPodOperator", "task_id", "affinity", "k8s_api_affinity"], ["isinstance", "pod", "spec", "affinity", "k8s", "V1Affinity"], ["sanitized_pod", "affinity"]], "k": [["k", "KubernetesPodOperator", "task_id", "affinity", "affinity"], ["pod", "k", "build_pod_request_obj", "create_context", "k"], ["k", "KubernetesPodOperator", "task_id", "affinity", "k8s_api_affinity"], ["pod", "k", "build_pod_request_obj", "create_context", "k"]], "k8s_api_affinity": [["k8s_api_affinity", "k8s", "V1Affinity", "node_affinity", "k8s", "V1NodeAffinity", "preferred_during_scheduling_ignored_during_execution", "k8s", "V1PreferredSchedulingTerm", "weight", "preference", "k8s", "V1NodeSelectorTerm", "match_expressions", "k8s", "V1NodeSelectorRequirement", "key", "operator", "values"], ["k", "KubernetesPodOperator", "task_id", "affinity", "k8s_api_affinity"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["sanitized_pod", "self", "sanitize_for_serialization", "pod"], ["isinstance", "pod", "spec", "affinity", "k8s", "V1Affinity"], ["pod", "k", "build_pod_request_obj", "create_context", "k"], ["sanitized_pod", "self", "sanitize_for_serialization", "pod"], ["isinstance", "pod", "spec", "affinity", "k8s", "V1Affinity"]], "sanitized_pod": [["sanitized_pod", "self", "sanitize_for_serialization", "pod"], ["sanitized_pod", "affinity"], ["sanitized_pod", "self", "sanitize_for_serialization", "pod"], ["sanitized_pod", "affinity"]]}, "name": "test_create_with_affinity", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["sanitized_pod", "self", "sanitize_for_serialization", "pod"], ["sanitized_pod", "self", "sanitize_for_serialization", "pod"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_create_with_affinity", "ret_exprs": [], "ret_type": "", "variables": {"affinity": "", "k": "", "k8s_api_affinity": "", "pod": "", "sanitized_pod": ""}, "variables_p": {"affinity": [["bool", 0.14086812171724494], ["str", 0.11825086521188387], ["list", 0.10275532894287735]], "k": [["int", 0.17916037483690678], ["Dict[str, str]", 0.11189337786173352], ["Dict[str, Dict[str, Any]]", 0.11016630770363037], ["Set[str]", 0.08770887300692913]], "k8s_api_affinity": [["float", 0.3909495333239087], ["int", 0.20183864042021127], ["Dict[str, Any]", 0.09168679612396852], ["Tuple[str, str]", 0.08122953870417514]], "pod": [["int", 0.16963345226487309], ["pytch.utils.Position", 0.0847931154847791]], "sanitized_pod": [["str", 0.5159540308712809], ["int", 0.23574690738350326], ["float", 0.0671776883026373], ["Dict[str, Any]", 0.06407334415793853]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[960, 4], [983, 66]], "fn_var_ln": {"k": [[975, 8], [975, 9]], "k8s_api_tolerations": [[961, 8], [961, 27]], "pod": [[980, 8], [980, 11]], "sanitized_pod": [[981, 8], [981, 21]], "tolerations": [[963, 8], [963, 19]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "task_id", "tolerations", "tolerations"], ["pod", "k", "build_pod_request_obj", "create_context", "k"], ["k", "KubernetesPodOperator", "task_id", "tolerations", "k8s_api_tolerations"], ["pod", "k", "build_pod_request_obj", "create_context", "k"]], "k8s_api_tolerations": [["k8s_api_tolerations", "k8s", "V1Toleration", "key", "operator", "value"], ["k", "KubernetesPodOperator", "task_id", "tolerations", "k8s_api_tolerations"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["sanitized_pod", "self", "sanitize_for_serialization", "pod"], ["isinstance", "pod", "spec", "tolerations", "k8s", "V1Toleration"], ["pod", "k", "build_pod_request_obj", "create_context", "k"], ["sanitized_pod", "self", "sanitize_for_serialization", "pod"], ["isinstance", "pod", "spec", "tolerations", "k8s", "V1Toleration"]], "sanitized_pod": [["sanitized_pod", "self", "sanitize_for_serialization", "pod"], ["sanitized_pod", "tolerations"], ["sanitized_pod", "self", "sanitize_for_serialization", "pod"], ["sanitized_pod", "tolerations"]], "tolerations": [["k", "KubernetesPodOperator", "task_id", "tolerations", "tolerations"], ["isinstance", "pod", "spec", "tolerations", "k8s", "V1Toleration"], ["sanitized_pod", "tolerations"], ["k", "KubernetesPodOperator", "task_id", "tolerations", "k8s_api_tolerations"], ["isinstance", "pod", "spec", "tolerations", "k8s", "V1Toleration"], ["sanitized_pod", "tolerations"]]}, "name": "test_tolerations", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["sanitized_pod", "self", "sanitize_for_serialization", "pod"], ["sanitized_pod", "self", "sanitize_for_serialization", "pod"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_tolerations", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "k8s_api_tolerations": "", "pod": "", "sanitized_pod": "", "tolerations": ""}, "variables_p": {"k": [["int", 0.17916037483690678], ["Dict[str, str]", 0.11189337786173352], ["Dict[str, Dict[str, Any]]", 0.11016630770363037], ["Set[str]", 0.08770887300692913]], "k8s_api_tolerations": [["Dict[str, Any]", 0.23082573562526965], ["str", 0.19920195697803617], ["int", 0.11556788177368782], ["float", 0.08746050199838704], ["wemake_python_styleguide.types.AnyNodes", 0.08693379267877012]], "pod": [["int", 0.16963345226487309], ["pytch.utils.Position", 0.0847931154847791]], "sanitized_pod": [["str", 0.5159540308712809], ["int", 0.23574690738350326], ["float", 0.0671776883026373], ["Dict[str, Any]", 0.06407334415793853]], "tolerations": [["bool", 0.14086812171724494], ["str", 0.11825086521188387], ["list", 0.10275532894287735]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[985, 4], [996, 69]], "fn_var_ln": {"k": [[988, 8], [988, 9]], "node_selector": [[986, 8], [986, 21]], "pod": [[993, 8], [993, 11]], "sanitized_pod": [[994, 8], [994, 21]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "task_id", "node_selector", "node_selector"], ["pod", "k", "build_pod_request_obj", "create_context", "k"]], "node_selector": [["k", "KubernetesPodOperator", "task_id", "node_selector", "node_selector"], ["isinstance", "pod", "spec", "node_selector", "dict"], ["sanitized_pod", "node_selector"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["sanitized_pod", "self", "sanitize_for_serialization", "pod"], ["isinstance", "pod", "spec", "node_selector", "dict"]], "sanitized_pod": [["sanitized_pod", "self", "sanitize_for_serialization", "pod"], ["sanitized_pod", "node_selector"]]}, "name": "test_node_selector", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["sanitized_pod", "self", "sanitize_for_serialization", "pod"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_node_selector", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "node_selector": "", "pod": "", "sanitized_pod": ""}, "variables_p": {"k": [["str", 0.815452218332834]], "node_selector": [["str", 0.378907054159614], ["tuple", 0.1437882928769044], ["list", 0.09687141790010041], ["float", 0.09178066063323655], ["dict", 0.08955824126580296]], "pod": [["int", 0.21277156917960513], ["dict", 0.08447239227555227]], "sanitized_pod": [["str", 0.40747604462097137], ["bool", 0.20373802231048568], ["int", 0.19419931087574757], ["Dict[str, int]", 0.10186901115524284], ["Callable", 0.0927176110375525]]}}, {"docstring": {"func": "pod name and namespace are *always* pushed; do_xcom_push only controls xcom sidecar", "long_descr": null, "ret": null}, "fn_lc": [[1001, 4], [1016, 54]], "fn_var_ln": {"k": [[1007, 8], [1007, 9]], "pod": [[1012, 8], [1012, 11]], "pod_name": [[1013, 8], [1013, 16]], "pod_namespace": [[1014, 8], [1014, 21]], "return_value": [[1006, 8], [1006, 60]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "task_id", "do_xcom_push", "do_xcom_push"], ["pod", "self", "run_pod", "k"]], "pod": [["pod", "self", "run_pod", "k"], ["pod_name", "pod", "metadata", "name"], ["pod_namespace", "pod", "metadata", "namespace"]], "pod_name": [["pod_name", "XCom", "get_one", "run_id", "self", "dag_run", "run_id", "task_id", "key"], ["pod_name", "pod", "metadata", "name"]], "pod_namespace": [["pod_namespace", "XCom", "get_one", "run_id", "self", "dag_run", "run_id", "task_id", "key"], ["pod_namespace", "pod", "metadata", "namespace"]], "return_value": [["mock_extract_xcom", "return_value"], ["mock_await_xcom_sidecar_container_start", "return_value", "None"]]}, "name": "test_push_xcom_pod_info", "params": {"do_xcom_push": "", "mock_await_xcom_sidecar_container_start": "", "mock_extract_xcom": "", "self": ""}, "params_descr": {"do_xcom_push": "", "mock_await_xcom_sidecar_container_start": "", "mock_extract_xcom": "", "self": ""}, "params_occur": {"do_xcom_push": [["k", "KubernetesPodOperator", "task_id", "do_xcom_push", "do_xcom_push"]], "mock_await_xcom_sidecar_container_start": [["mock_await_xcom_sidecar_container_start", "return_value", "None"]], "mock_extract_xcom": [["mock_extract_xcom", "return_value"]], "self": [["pod", "self", "run_pod", "k"], ["pod_name", "XCom", "get_one", "run_id", "self", "dag_run", "run_id", "task_id", "key"], ["pod_namespace", "XCom", "get_one", "run_id", "self", "dag_run", "run_id", "task_id", "key"]]}, "params_p": {"args": [], "do_xcom_push": [["tests.async_mock.MagicMock", 0.09138731416692948]], "kwargs": [], "mock_await_xcom_sidecar_container_start": [["unittesmock.MagicMock", 0.37628880517051194], ["mock.Mock", 0.28602025768046635]], "mock_extract_xcom": [["mock.Mock", 0.6031022515978871], ["unittesmock.MagicMock", 0.21726531143205596]], "self": []}, "q_name": "TestKubernetesPodOperator.test_push_xcom_pod_info", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": "", "pod_name": "", "pod_namespace": "", "return_value": ""}, "variables_p": {"k": [["List[Tuple[str, Any]]", 0.11341096601046621], ["str", 0.1040033573939956], ["float", 0.09932234956598673], ["int", 0.09383382935241227], ["dict", 0.0936282289838589]], "pod": [["dict", 0.37107506811820645], ["List[Tuple[str, str, str]]", 0.16974910068621044], ["str", 0.13729331943767978], ["Optional[str]", 0.07180333455572524]], "pod_name": [["str", 0.9049085556223343], ["list", 0.09509144437766565]], "pod_namespace": [], "return_value": [["str", 0.24957162718220283], ["Dict[str, str]", 0.1501711107818171], ["Dict[str, Dict[str, Any]]", 0.13332241375964446], ["List[Dict[str, Any]]", 0.09701716701417243], ["unittesmock.MagicMock", 0.0693253142815856], ["Dict[str, Union[Any, Any, Any]]", 0.06902159550571771], ["int", 0.06198963829831603]]}}, {"docstring": {"func": "When looking for pods to possibly reattach to,", "long_descr": "ignore pods from previous tries that were properly finished", "ret": null}, "fn_lc": [[1019, 4], [1030, 66]], "fn_var_ln": {"_": [[1029, 8], [1029, 9]], "k": [[1024, 8], [1024, 9]], "kwargs": [[1029, 11], [1029, 17]]}, "fn_var_occur": {"_": [["_", "kwargs", "k", "client", "list_namespaced_pod", "call_args"]], "k": [["k", "KubernetesPodOperator", "namespace", "task_id"], ["self", "run_pod", "k"], ["_", "kwargs", "k", "client", "list_namespaced_pod", "call_args"]], "kwargs": [["_", "kwargs", "k", "client", "list_namespaced_pod", "call_args"]]}, "name": "test_previous_pods_ignored_for_reattached", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "run_pod", "k"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_previous_pods_ignored_for_reattached", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "k": "", "kwargs": ""}, "variables_p": {"_": [["str", 0.252150769730474], ["list", 0.12879248154343856], ["Dict[str, str]", 0.07933619923886229], ["int", 0.07449498187184928]], "k": [["bool", 0.28663990137788187], ["List[List[int]]", 0.214974356003114], ["str", 0.11834921979171227], ["List[str]", 0.09379731580059911], ["int", 0.08672998340829577]], "kwargs": [["dict", 0.22338123965584306], ["int", 0.12726449602972667], ["Dict[str, str]", 0.1203744628089677], ["List[str]", 0.08904091171380778], ["RuntimeError", 0.08787618928564142]]}}, {"docstring": {"func": "If we aren't deleting pods and have an exception, mark it so we don't reattach to it", "long_descr": null, "ret": null}, "fn_lc": [[1034, 4], [1045, 43]], "fn_var_ln": {"context": [[1041, 8], [1041, 15]], "k": [[1036, 8], [1036, 9]]}, "fn_var_occur": {"context": [["context", "create_context", "k"], ["k", "execute", "context", "context"]], "k": [["k", "KubernetesPodOperator", "task_id", "on_finish_action"], ["context", "create_context", "k"], ["k", "execute", "context", "context"]]}, "name": "test_mark_checked_unexpected_exception", "params": {"mock_delete_pod": "", "mock_patch_already_checked": "", "self": ""}, "params_descr": {"mock_delete_pod": "", "mock_patch_already_checked": "", "self": ""}, "params_occur": {"mock_delete_pod": [["mock_delete_pod", "assert_not_called"]], "mock_patch_already_checked": [["mock_patch_already_checked", "assert_called_once"]], "self": [["self", "await_pod_mock", "side_effect", "AirflowException"]]}, "params_p": {"args": [], "kwargs": [], "mock_delete_pod": [["unittesmock.MagicMock", 0.6831290266809998]], "mock_patch_already_checked": [["unittesmock.MagicMock", 0.34846073284923446], ["mock.MagicMock", 0.14127923271661996], ["mock.Mock", 0.0979659375769681]], "self": []}, "q_name": "TestKubernetesPodOperator.test_mark_checked_unexpected_exception", "ret_exprs": [], "ret_type": "", "variables": {"context": "", "k": ""}, "variables_p": {"context": [["list", 0.201540888463131], ["bytes", 0.09255773349077073], ["float", 0.0890061274673636], ["str", 0.08849620762671734]], "k": [["List[List[int]]", 0.16843083861380345], ["Set[int]", 0.12366228909910651], ["float", 0.09615208730191864], ["Set[str]", 0.09373004372648097], ["List[str]", 0.08847707883056216], ["int", 0.08537521072452874]]}}, {"docstring": {"func": "Assert we wait for xcom sidecar container if and only if we push xcom.", "long_descr": null, "ret": null}, "fn_lc": [[1050, 4], [1062, 42]], "fn_var_ln": {"k": [[1054, 8], [1054, 9]], "return_value": [[1053, 8], [1053, 31]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "task_id", "do_xcom_push", "do_xcom_push"], ["self", "run_pod", "k"]], "return_value": [["mock_extract_xcom", "return_value"], ["mock_await", "return_value", "None"]]}, "name": "test_wait_for_xcom_sidecar_iff_push_xcom", "params": {"do_xcom_push": "", "mock_await": "", "mock_extract_xcom": "", "self": ""}, "params_descr": {"do_xcom_push": "", "mock_await": "", "mock_extract_xcom": "", "self": ""}, "params_occur": {"do_xcom_push": [["k", "KubernetesPodOperator", "task_id", "do_xcom_push", "do_xcom_push"]], "mock_await": [["mock_await", "return_value", "None"], ["mock_await", "assert_called_once"], ["mock_await", "assert_not_called"]], "mock_extract_xcom": [["mock_extract_xcom", "return_value"]], "self": [["self", "run_pod", "k"]]}, "params_p": {"args": [], "do_xcom_push": [["bytes", 0.18101482629339596], ["tests.async_mock.MagicMock", 0.09832954464477926], ["Optional[Exception]", 0.0918883048931572], ["tests.async_mock.Mock", 0.084534600773057]], "kwargs": [], "mock_await": [["unittesmock.MagicMock", 0.7835613602255687]], "mock_extract_xcom": [["mock.Mock", 0.2687301672891357], ["unittesmock.MagicMock", 0.16794773000110513]], "self": []}, "q_name": "TestKubernetesPodOperator.test_wait_for_xcom_sidecar_iff_push_xcom", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "return_value": ""}, "variables_p": {"k": [["int", 0.19095705025688564], ["List[Tuple[str, Any]]", 0.116682306112214], ["magic.models.deck.Deck", 0.10804959462651818]], "return_value": [["List[Dict[str, str]]", 0.17217238922520633], ["Optional[bytes]", 0.13164233753446516], ["str", 0.12430185160293754], ["List[str]", 0.11362751133767658], ["Tuple[int, int]", 0.09780210680631224], ["Dict[str, Dict[str, Any]]", 0.09663670522088047], ["Dict[str, Union[Any, Any, Any]]", 0.08159855064487495], ["int", 0.07690930627377154]]}}, {"docstring": {"func": "If we aren't deleting pods mark \"checked\" if the task completes (successful or otherwise)", "long_descr": null, "ret": null}, "fn_lc": [[1099, 4], [1125, 47]], "fn_var_ln": {"context": [[1112, 8], [1112, 15]], "dag": [[1103, 8], [1103, 11]], "k": [[1104, 8], [1104, 9]], "remote_pod_mock": [[1109, 8], [1109, 23]]}, "fn_var_occur": {"context": [["context", "create_context", "k", "persist_to_db", "True"], ["k", "execute", "context", "context"], ["k", "execute", "context", "context"]], "dag": [["dag", "DAG", "start_date", "pendulum", "now"], ["k", "KubernetesPodOperator", "task_id", "dag", "dag", "task_kwargs"]], "k": [["k", "KubernetesPodOperator", "task_id", "dag", "dag", "task_kwargs"], ["context", "create_context", "k", "persist_to_db", "True"], ["k", "execute", "context", "context"], ["k", "execute", "context", "context"]], "remote_pod_mock": [["remote_pod_mock", "MagicMock"], ["remote_pod_mock", "status", "phase", "should_fail"], ["self", "await_pod_mock", "return_value", "remote_pod_mock"]]}, "name": "test_mark_checked_if_not_deleted", "params": {"mock_delete_pod": "", "mock_patch_already_checked": "", "self": "", "should_be_deleted": "", "should_fail": "", "task_kwargs": ""}, "params_descr": {"mock_delete_pod": "", "mock_patch_already_checked": "", "self": "", "should_be_deleted": "", "should_fail": "", "task_kwargs": ""}, "params_occur": {"mock_delete_pod": [["mock_delete_pod", "assert_called_once"], ["mock_delete_pod", "assert_not_called"]], "mock_patch_already_checked": [["mock_patch_already_checked", "assert_called_once"], ["mock_patch_already_checked", "assert_not_called"]], "self": [["self", "await_pod_mock", "return_value", "remote_pod_mock"]], "should_be_deleted": [["should_fail", "should_be_deleted"]], "should_fail": [["remote_pod_mock", "status", "phase", "should_fail"], ["should_fail", "should_be_deleted"]], "task_kwargs": [["k", "KubernetesPodOperator", "task_id", "dag", "dag", "task_kwargs"]]}, "params_p": {"args": [], "kwargs": [], "mock_delete_pod": [["unittesmock.MagicMock", 0.6511095128106137], ["mock.Mock", 0.09585312891731014]], "mock_patch_already_checked": [["unittesmock.MagicMock", 0.20177160223875626], ["mock.Mock", 0.08078137084134324]], "self": [], "should_be_deleted": [["tests.test_util.aiohttp.AiohttpClientMocker", 0.27970568184091316]], "should_fail": [["unittesmock.MagicMock", 0.32056292808960957], ["tests.test_util.aiohttp.AiohttpClientMocker", 0.10010338886423993], ["Iterable", 0.09521303935454355]], "task_kwargs": [["tests.async_mock.Mock", 0.23946016962212419], ["tests.async_mock.MagicMock", 0.1007732389750179]]}, "q_name": "TestKubernetesPodOperator.test_mark_checked_if_not_deleted", "ret_exprs": [], "ret_type": "", "variables": {"context": "", "dag": "", "k": "", "remote_pod_mock": ""}, "variables_p": {"context": [["str", 0.5068724701943511], ["bool", 0.15393547997120507], ["int", 0.08710041797275242], ["Optional[str]", 0.07734129718045232]], "dag": [["Type[backend.server.models.match.Match]", 0.1907914099791924], ["int", 0.17550308577056853], ["str", 0.15598123114518914], ["List[Tuple[Any, Any]]", 0.07659721087192407]], "k": [["List[List[int]]", 0.18906073743192564], ["int", 0.09972429189251605], ["List[str]", 0.09705930123437947], ["Dict[str, str]", 0.09336080687187194], ["Set[int]", 0.09012392401280889]], "remote_pod_mock": [["unittesmock.MagicMock", 0.6720040893878585], ["mock.Mock", 0.11253926619859056]]}}, {"docstring": {"func": "Make sure we patch the pods with the right label", "long_descr": null, "ret": null}, "fn_lc": [[1128, 4], [1137, 9]], "fn_var_ln": {"k": [[1130, 8], [1130, 9]], "pod": [[1131, 8], [1131, 11]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "task_id"], ["pod", "k", "build_pod_request_obj"], ["k", "patch_already_checked", "pod"], ["k", "client", "patch_namespaced_pod", "assert_called_once_with", "name", "pod", "metadata", "name", "namespace", "pod", "metadata", "namespace", "body"]], "pod": [["pod", "k", "build_pod_request_obj"], ["k", "patch_already_checked", "pod"], ["k", "client", "patch_namespaced_pod", "assert_called_once_with", "name", "pod", "metadata", "name", "namespace", "pod", "metadata", "namespace", "body"]]}, "name": "test_patch_already_checked", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_patch_already_checked", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": ""}, "variables_p": {"k": [["int", 0.3148860286040667], ["Dict[str, Dict[str, Any]]", 0.11981919874150578], ["str", 0.10752773699955592], ["Dict[str, str]", 0.10730690419030349], ["Dict[str, Dict[str, str]]", 0.09660121494396025], ["Set[str]", 0.08529636300208683]], "pod": [["int", 0.18877888712175306], ["dict", 0.10712439080916014], ["Dict[str, str]", 0.09365740150591141]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1139, 4], [1145, 45]], "fn_var_ln": {"k": [[1140, 8], [1140, 9]], "pod": [[1144, 8], [1144, 11]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "task_id", "random_name_suffix", "False"], ["pod", "k", "build_pod_request_obj"]], "pod": [["pod", "k", "build_pod_request_obj"], ["pod", "metadata", "name"]]}, "name": "test_task_id_as_name", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_task_id_as_name", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": ""}, "variables_p": {"k": [["int", 0.6745574560514979], ["Dict[int, bytes]", 0.09803985843836958]], "pod": [["List[str]", 0.19761323337249354], ["int", 0.11396307555792472], ["Dict[str, str]", 0.11322832128219883], ["Dict[str, Tuple[str, Any]]", 0.10468167068852212], ["Dict[str, List[str]]", 0.0951587591715584], ["Tuple[Literal, Literal, Literal, Literal, Literal]", 0.094935272030415], ["Dict[str, Union[Any, Any]]", 0.09402504552303953], ["DefaultDict[Any, List[Any]]", 0.0927690421843871]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1147, 4], [1155, 84]], "fn_var_ln": {"expected": [[1153, 8], [1153, 16]], "k": [[1148, 8], [1148, 9]], "pod": [[1152, 8], [1152, 11]]}, "fn_var_occur": {"expected": [["pod", "metadata", "name", "len", "expected", "expected"], ["re", "match", "expected", "pod", "metadata", "name", "None"]], "k": [["k", "KubernetesPodOperator", "task_id", "random_name_suffix", "True"], ["pod", "k", "build_pod_request_obj"]], "pod": [["pod", "k", "build_pod_request_obj"], ["pod", "metadata", "name", "len", "expected", "expected"], ["re", "match", "expected", "pod", "metadata", "name", "None"]]}, "name": "test_task_id_as_name_with_suffix", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_task_id_as_name_with_suffix", "ret_exprs": [], "ret_type": "", "variables": {"expected": "", "k": "", "pod": ""}, "variables_p": {"expected": [["list", 0.34914814308007], ["str", 0.1902102243247875], ["List[Tuple[str, Any]]", 0.18090997478482196], ["List[str]", 0.09837814927287881], ["Tuple[str, str, str, str, str, str, str, str, str, str]", 0.09073363930811837], ["dict", 0.09061986922932344]], "k": [["int", 0.5682171136617591], ["str", 0.08341274662505767]], "pod": [["Set[str]", 0.7530966949475547], ["Dict[str, str]", 0.16222845878217848], ["Dict[str, List[str]]", 0.08467484627026697]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1157, 4], [1169, 9]], "fn_var_ln": {"k": [[1158, 8], [1158, 9]], "pod": [[1162, 8], [1162, 11]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "task_id", "random_name_suffix", "True"], ["pod", "k", "build_pod_request_obj"]], "pod": [["pod", "k", "build_pod_request_obj"], ["re", "match", "pod", "metadata", "name", "None"]]}, "name": "test_task_id_as_name_with_suffix_very_long", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_task_id_as_name_with_suffix_very_long", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": ""}, "variables_p": {"k": [["int", 0.5682171136617591], ["str", 0.08341274662505767]], "pod": [["str", 0.6191319225049059], ["int", 0.11021246596385678], ["db.Stock", 0.08990258357900469], ["Dict[str, Union[Any, Any]]", 0.08974649432288839]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1171, 4], [1178, 97]], "fn_var_ln": {"dag": [[1172, 8], [1172, 11]], "k": [[1173, 8], [1173, 9]], "pod": [[1177, 8], [1177, 11]]}, "fn_var_occur": {"dag": [["dag", "DAG", "dag_id", "start_date", "pendulum", "now"], ["k", "KubernetesPodOperator", "task_id", "dag", "dag"]], "k": [["k", "KubernetesPodOperator", "task_id", "dag", "dag"], ["pod", "k", "build_pod_request_obj"]], "pod": [["pod", "k", "build_pod_request_obj"], ["re", "match", "pod", "metadata", "name", "None"]]}, "name": "test_task_id_as_name_dag_id_is_ignored", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperator.test_task_id_as_name_dag_id_is_ignored", "ret_exprs": [], "ret_type": "", "variables": {"dag": "", "k": "", "pod": ""}, "variables_p": {"dag": [["int", 0.35413602050922655], ["str", 0.22566753269310436]], "k": [["int", 0.19847156578088887], ["Dict[str, str]", 0.11518175836438632], ["Dict[str, Dict[str, Any]]", 0.10745859998193609], ["Set[str]", 0.09485450703373738], ["str", 0.08896051858310929]], "pod": [["str", 0.6191319225049059], ["int", 0.11021246596385678], ["db.Stock", 0.08990258357900469], ["Dict[str, Union[Any, Any]]", 0.08974649432288839]]}}, {"docstring": {"func": "Tests that an AirflowSkipException is raised when the container exits with the skip_on_exit_code", "long_descr": null, "ret": null}, "fn_lc": [[1195, 4], [1216, 31]], "fn_var_ln": {"base_container": [[1203, 8], [1203, 22]], "k": [[1199, 8], [1199, 9]], "name": [[1207, 8], [1207, 30]], "sidecar_container": [[1206, 8], [1206, 25]]}, "fn_var_occur": {"base_container": [["base_container", "MagicMock"], ["base_container", "name", "k", "base_container_name"], ["base_container", "last_state", "terminated", "exit_code", "actual_exit_code"], ["remote_pod", "return_value", "status", "container_statuses", "base_container", "sidecar_container"]], "k": [["k", "KubernetesPodOperator", "task_id", "on_finish_action", "extra_kwargs", "extra_kwargs"], ["base_container", "name", "k", "base_container_name"], ["self", "run_pod", "k"], ["self", "run_pod", "k"]], "name": [["base_container", "name", "k", "base_container_name"], ["sidecar_container", "name"]], "sidecar_container": [["sidecar_container", "MagicMock"], ["sidecar_container", "name"], ["sidecar_container", "last_state", "terminated", "exit_code"], ["remote_pod", "return_value", "status", "container_statuses", "base_container", "sidecar_container"]]}, "name": "test_task_skip_when_pod_exit_with_certain_code", "params": {"actual_exit_code": "", "expected_exc": "", "extra_kwargs": "", "remote_pod": "", "self": ""}, "params_descr": {"actual_exit_code": "", "expected_exc": "", "extra_kwargs": "", "remote_pod": "", "self": ""}, "params_occur": {"actual_exit_code": [["base_container", "last_state", "terminated", "exit_code", "actual_exit_code"], ["remote_pod", "return_value", "status", "phase", "actual_exit_code"]], "expected_exc": [["expected_exc", "None"], ["pytest", "raises", "expected_exc"]], "extra_kwargs": [["k", "KubernetesPodOperator", "task_id", "on_finish_action", "extra_kwargs", "extra_kwargs"]], "remote_pod": [["remote_pod", "return_value", "status", "container_statuses", "base_container", "sidecar_container"], ["remote_pod", "return_value", "status", "phase", "actual_exit_code"]], "self": [["self", "run_pod", "k"], ["self", "run_pod", "k"]]}, "params_p": {"actual_exit_code": [["str", 0.21341523653193584], ["raiden.utils.Address", 0.10862394218541786], ["dict", 0.10670761826596792], ["core.models.Recipe", 0.09045805150486455], ["int", 0.08972477838932268]], "args": [], "expected_exc": [["Optional[\"Game\"]", 0.2502813919195908], ["raiden.utils.Secret", 0.10223217023633216], ["List[str]", 0.0917904432576368]], "extra_kwargs": [["str", 0.30006942414279353], ["int", 0.29768924465963276], ["tracim.models.User", 0.18213333439671467]], "kwargs": [], "remote_pod": [["str", 0.3270830271708878], ["List[str]", 0.09912692947988755]], "self": []}, "q_name": "TestKubernetesPodOperator.test_task_skip_when_pod_exit_with_certain_code", "ret_exprs": [], "ret_type": "", "variables": {"base_container": "", "k": "", "name": "", "sidecar_container": ""}, "variables_p": {"base_container": [["str", 0.0908356007257629]], "k": [["str", 0.27680492431234616], ["int", 0.21624544851421368], ["Set[str]", 0.10004287766489761]], "name": [["str", 0.9115570873000888], ["List[str]", 0.0884429126999111]], "sidecar_container": [["str", 0.19278971918867838], ["unittesmock.MagicMock", 0.09346065906786925]]}}], "name": "TestKubernetesPodOperator", "q_name": "TestKubernetesPodOperator", "variables": {}, "variables_p": {}}, {"cls_lc": [[1219, 0], [1274, 32]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1220, 4], [1223, 51]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test__suppress", "params": {"caplog": "", "self": ""}, "params_descr": {"caplog": "", "self": ""}, "params_occur": {"caplog": [["caplog", "text"]], "self": []}, "params_p": {"args": [], "caplog": [["tests.basilisp.helpers.CompileFn", 0.3], ["str", 0.09999999999999999], ["tests.async_mock.Mock", 0.09999999999999999], ["float", 0.09999999999999999]], "kwargs": [], "self": []}, "q_name": "TestSuppress.test__suppress", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "By default, suppresses Exception, so should suppress and log RuntimeError", "long_descr": null, "ret": null}, "fn_lc": [[1225, 4], [1229, 53]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test__suppress_no_args", "params": {"caplog": "", "self": ""}, "params_descr": {"caplog": "", "self": ""}, "params_occur": {"caplog": [["caplog", "text"]], "self": []}, "params_p": {"args": [], "caplog": [["tests.basilisp.helpers.CompileFn", 3.3906060622087612e-09], ["str", 1.7710618480362315e-09], ["dict", 9.652212689969585e-10]], "kwargs": [], "self": []}, "q_name": "TestSuppress.test__suppress_no_args", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "By default, suppresses Exception, but with reraise=True,", "long_descr": "should raise RuntimeError and not log.", "ret": null}, "fn_lc": [[1231, 4], [1239, 36]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test__suppress_no_args_reraise", "params": {"caplog": "", "self": ""}, "params_descr": {"caplog": "", "self": ""}, "params_occur": {"caplog": [["caplog", "text"]], "self": []}, "params_p": {"args": [], "caplog": [["tests.basilisp.helpers.CompileFn", 3.3906060622087612e-09], ["str", 1.7710618480362315e-09], ["dict", 9.652212689969585e-10]], "kwargs": [], "self": []}, "q_name": "TestSuppress.test__suppress_no_args_reraise", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Here, we specify only catch ValueError. But we raise RuntimeError.", "long_descr": "So it should raise and not log.", "ret": null}, "fn_lc": [[1241, 4], [1249, 32]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test__suppress_wrong_error", "params": {"caplog": "", "self": ""}, "params_descr": {"caplog": "", "self": ""}, "params_occur": {"caplog": [["caplog", "text"]], "self": []}, "params_p": {"args": [], "caplog": [["str", 0.33333333262832415], ["cli_ui.tests.MessageRecorder", 0.33333333262832415], ["int", 0.33333333262832415]], "kwargs": [], "self": []}, "q_name": "TestSuppress.test__suppress_wrong_error", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Here, we specify only catch RuntimeError/IndexError.", "long_descr": "But we raise RuntimeError. So it should raise and not log.", "ret": null}, "fn_lc": [[1251, 4], [1259, 32]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test__suppress_wrong_error_multiple", "params": {"caplog": "", "self": ""}, "params_descr": {"caplog": "", "self": ""}, "params_occur": {"caplog": [["caplog", "text"]], "self": []}, "params_p": {"args": [], "caplog": [["str", 0.33333333262832415], ["cli_ui.tests.MessageRecorder", 0.33333333262832415], ["int", 0.33333333262832415]], "kwargs": [], "self": []}, "q_name": "TestSuppress.test__suppress_wrong_error_multiple", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Here, we specify catch RuntimeError/IndexError.", "long_descr": "And we raise RuntimeError. So it should suppress and log.", "ret": null}, "fn_lc": [[1261, 4], [1268, 51]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test__suppress_right_error_multiple", "params": {"caplog": "", "self": ""}, "params_descr": {"caplog": "", "self": ""}, "params_occur": {"caplog": [["caplog", "text"]], "self": []}, "params_p": {"args": [], "caplog": [["str", 0.33333333262832415], ["cli_ui.tests.MessageRecorder", 0.33333333262832415], ["int", 0.33333333262832415]], "kwargs": [], "self": []}, "q_name": "TestSuppress.test__suppress_right_error_multiple", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "When no error in context, should do nothing.", "long_descr": null, "ret": null}, "fn_lc": [[1270, 4], [1274, 32]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test__suppress_no_error", "params": {"caplog": "", "self": ""}, "params_descr": {"caplog": "", "self": ""}, "params_occur": {"caplog": [["caplog", "text"]], "self": []}, "params_p": {"args": [], "caplog": [["str", 0.21837835187720483], ["cli_ui.tests.MessageRecorder", 0.21837835187720483], ["int", 0.21837835187720483]], "kwargs": [], "self": []}, "q_name": "TestSuppress.test__suppress_no_error", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "TestSuppress", "q_name": "TestSuppress", "variables": {}, "variables_p": {}}, {"cls_lc": [[1278, 0], [1610, 31]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1280, 4], [1295, 23]], "fn_var_ln": {"_default_client_mock": [[1289, 8], [1289, 33]], "_default_client_patch": [[1284, 8], [1284, 34]], "await_pod_completion_patch": [[1283, 8], [1283, 39]], "await_pod_get": [[1290, 8], [1290, 26]], "await_pod_get_patch": [[1285, 8], [1285, 32]], "await_pod_mock": [[1288, 8], [1288, 27]], "await_pod_patch": [[1282, 8], [1282, 28]], "await_start_mock": [[1287, 8], [1287, 29]], "create_mock": [[1286, 8], [1286, 24]], "create_pod_patch": [[1281, 8], [1281, 29]], "dag_maker": [[1291, 8], [1291, 22]]}, "fn_var_occur": {"_default_client_mock": [["self", "_default_client_mock", "self", "_default_client_patch", "start"]], "_default_client_patch": [["self", "_default_client_patch", "patch", "HOOK_CLASS"], ["self", "_default_client_mock", "self", "_default_client_patch", "start"]], "await_pod_completion_patch": [["self", "await_pod_completion_patch", "patch", "POD_MANAGER_CLASS"], ["self", "await_pod_mock", "self", "await_pod_completion_patch", "start"]], "await_pod_get": [["self", "await_pod_get", "self", "await_pod_get_patch", "start"]], "await_pod_get_patch": [["self", "await_pod_get_patch", "patch", "HOOK_CLASS"], ["self", "await_pod_get", "self", "await_pod_get_patch", "start"]], "await_pod_mock": [["self", "await_pod_mock", "self", "await_pod_completion_patch", "start"]], "await_pod_patch": [["self", "await_pod_patch", "patch", "POD_MANAGER_CLASS"], ["self", "await_start_mock", "self", "await_pod_patch", "start"]], "await_start_mock": [["self", "await_start_mock", "self", "await_pod_patch", "start"]], "create_mock": [["self", "create_mock", "self", "create_pod_patch", "start"]], "create_pod_patch": [["self", "create_pod_patch", "patch", "POD_MANAGER_CLASS"], ["self", "create_mock", "self", "create_pod_patch", "start"]], "dag_maker": [["self", "dag_maker", "dag_maker"]]}, "name": "setup", "params": {"dag_maker": "", "self": ""}, "params_descr": {"dag_maker": "", "self": ""}, "params_occur": {"dag_maker": [["self", "dag_maker", "dag_maker"]], "self": [["self", "create_pod_patch", "patch", "POD_MANAGER_CLASS"], ["self", "await_pod_patch", "patch", "POD_MANAGER_CLASS"], ["self", "await_pod_completion_patch", "patch", "POD_MANAGER_CLASS"], ["self", "_default_client_patch", "patch", "HOOK_CLASS"], ["self", "await_pod_get_patch", "patch", "HOOK_CLASS"], ["self", "create_mock", "self", "create_pod_patch", "start"], ["self", "await_start_mock", "self", "await_pod_patch", "start"], ["self", "await_pod_mock", "self", "await_pod_completion_patch", "start"], ["self", "_default_client_mock", "self", "_default_client_patch", "start"], ["self", "await_pod_get", "self", "await_pod_get_patch", "start"], ["self", "dag_maker", "dag_maker"]]}, "params_p": {"args": [], "dag_maker": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperatorAsync.setup", "ret_exprs": [], "ret_type": "", "variables": {"_default_client_mock": "", "_default_client_patch": "", "await_pod_completion_patch": "", "await_pod_get": "", "await_pod_get_patch": "", "await_pod_mock": "", "await_pod_patch": "", "await_start_mock": "", "create_mock": "", "create_pod_patch": "", "dag_maker": ""}, "variables_p": {"_default_client_mock": [["int", 0.4549027237007362], ["str", 0.361009333380684], ["bool", 0.08894156731859476]], "_default_client_patch": [["List[str]", 0.4233642669122618], ["str", 0.2775856215924706], ["Type[int]", 0.11532117861301909]], "await_pod_completion_patch": [["str", 0.20089745018835165], ["unittesmock._patch[Union[unittesmock.AsyncMock, unittesmock.MagicMock]]", 0.09661727154142556]], "await_pod_get": [["int", 0.8117679244053926], ["ClassVar[List[str]]", 0.09061443311612488]], "await_pod_get_patch": [["str", 0.18761700610764082], ["int", 0.1704261643743689], ["Optional[Dict[str, Any]]", 0.10020193804071295], ["List[str]", 0.09938649717005797], ["Dict[str, str]", 0.09263023359077809], ["Dict[str, Literal]", 0.0884857344879754], ["bool", 0.0867575885067479], ["dict", 0.08585294036979248]], "await_pod_mock": [["str", 0.316585496372438], ["Dict[str, Any]", 0.2915693698049706], ["int", 0.22280773920655053], ["List[Dict[str, str]]", 0.08451869730802049], ["List[str]", 0.08451869730802049]], "await_pod_patch": [["str", 0.7976795453253598]], "await_start_mock": [["Dict[str, Union[int, str]]", 0.19664749204929768], ["Dict[str, str]", 0.10554942371588712], ["dict", 0.10377408755974238], ["int", 0.10282717433415549]], "create_mock": [["str", 0.5205481360677486], ["list", 0.1839181961412235], ["List[List[str]]", 0.10597138135765088], ["Generator[Any, None, None]", 0.09494086721004542]], "create_pod_patch": [["int", 0.31362795022739365], ["raiden.utils.TargetAddress", 0.17455050600309438], ["str", 0.10102543236128406], ["bool", 0.10102543236128406]], "dag_maker": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1297, 4], [1323, 30]], "fn_var_ln": {"context": [[1305, 8], [1305, 15]], "dag": [[1299, 12], [1299, 24]], "dag_run": [[1304, 8], [1304, 20]], "dr": [[1301, 8], [1301, 10]], "map_index": [[1303, 8], [1303, 20]], "remote_pod_mock": [[1308, 8], [1308, 23]], "ti": [[1302, 9], [1302, 11]]}, "fn_var_occur": {"context": [["context", "ti", "get_template_context", "session", "self", "dag_maker", "session"], ["operator", "execute_complete", "context", "context", "event", "TEST_SUCCESS_MESSAGE", "TEST_NAME", "TEST_NAMESPACE"]], "dag": [["self", "dag_maker", "dag_id", "dag"], ["operator", "dag", "dag"]], "dag_run": [["self", "dag_run", "dr"]], "dr": [["dr", "self", "dag_maker", "create_dagrun", "run_id"], ["ti", "dr", "task_instances"], ["self", "dag_run", "dr"]], "map_index": [["ti", "map_index", "map_index"]], "remote_pod_mock": [["remote_pod_mock", "MagicMock"], ["remote_pod_mock", "status", "phase"], ["remote_pod_mock", "metadata", "name", "TEST_NAME"], ["remote_pod_mock", "metadata", "namespace", "TEST_NAMESPACE"], ["self", "await_pod_mock", "return_value", "remote_pod_mock"]], "ti": [["ti", "dr", "task_instances"], ["ti", "map_index", "map_index"], ["context", "ti", "get_template_context", "session", "self", "dag_maker", "session"]]}, "name": "run_pod_async", "params": {"map_index": "builtins.int", "operator": "airflow.providers.cncf.kubernetes.operators.pod.KubernetesPodOperator", "self": ""}, "params_descr": {"map_index": "", "operator": "", "self": ""}, "params_occur": {"map_index": [["ti", "map_index", "map_index"]], "operator": [["operator", "dag", "dag"], ["operator", "execute_complete", "context", "context", "event", "TEST_SUCCESS_MESSAGE", "TEST_NAME", "TEST_NAMESPACE"]], "self": [["self", "dag_maker", "dag_id", "dag"], ["dr", "self", "dag_maker", "create_dagrun", "run_id"], ["self", "dag_run", "dr"], ["context", "ti", "get_template_context", "session", "self", "dag_maker", "session"], ["self", "dag_maker", "session", "commit"], ["self", "await_pod_mock", "return_value", "remote_pod_mock"]]}, "params_p": {"args": [], "kwargs": [], "map_index": [["str", 0.2], ["int", 0.1], ["bool", 0.1], ["list", 0.1]], "operator": [["tartare.core.models.Process", 0.09738846474327313], ["int", 0.08741933353748281]], "self": []}, "q_name": "TestKubernetesPodOperatorAsync.run_pod_async", "ret_exprs": ["return remote_pod_mock"], "ret_type": "", "ret_type_p": [["int", 0.0967955461778344]], "variables": {"context": "", "dag": "", "dag_run": "", "dr": "", "map_index": "", "remote_pod_mock": "", "ti": ""}, "variables_p": {"context": [["dict", 0.22791382480995626], ["Anaconda3.Lib.site-packages.numpy.core.numerictypes._typedict", 0.16750272321970774], ["Dict[str, str]", 0.112961914638859], ["raiden.utils.Address", 0.11275307170642532]], "dag": [["int", 1.0]], "dag_run": [["int", 0.4999689492569052], ["float", 0.16824774806926784], ["\"Point\"", 0.09523125815918626], ["str", 0.08251990313340117], ["bytes", 0.07972706495791357]], "dr": [["int", 0.333134575291714], ["dict", 0.2756849652391611], ["Dict[str, Any]", 0.08971674892242365]], "map_index": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]], "remote_pod_mock": [["unittesmock.MagicMock", 0.6832834543374597], ["mock.Mock", 0.16136898514608158]], "ti": [["str", 0.3436597579414945], ["List[Tuple[str, int]]", 0.1222164386094487], ["int", 0.10397528755090683], ["list", 0.091518122076252]]}}, {"docstring": {"func": "Asserts that a task is deferred and the KubernetesCreatePodTrigger will be fired", "long_descr": "when the KubernetesPodOperator is executed in deferrable mode when deferrable=True.", "ret": null}, "fn_lc": [[1327, 4], [1349, 66]], "fn_var_ln": {"config_file_in_dict_representation": [[1346, 8], [1346, 44]], "k": [[1333, 8], [1333, 9]]}, "fn_var_occur": {"config_file_in_dict_representation": [["k", "config_file_in_dict_representation"]], "k": [["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True"], ["k", "config_file_in_dict_representation"], ["k", "execute", "create_context", "k"]]}, "name": "test_async_create_pod_should_execute_successfully", "params": {"mocked_pod": "", "mocked_pod_obj": "", "self": ""}, "params_descr": {"mocked_pod": "", "mocked_pod_obj": "", "self": ""}, "params_occur": {"mocked_pod": [], "mocked_pod_obj": [], "self": []}, "params_p": {"args": [], "kwargs": [], "mocked_pod": [["unittesmock.MagicMock", 0.24139961704919635], ["mock.MagicMock", 0.1503225267501172]], "mocked_pod_obj": [["unittesmock.MagicMock", 0.24139961704919635], ["mock.MagicMock", 0.1503225267501172]], "self": []}, "q_name": "TestKubernetesPodOperatorAsync.test_async_create_pod_should_execute_successfully", "ret_exprs": [], "ret_type": "", "variables": {"config_file_in_dict_representation": "", "k": ""}, "variables_p": {"config_file_in_dict_representation": [["str", 0.60576788014023], ["Type[tuple]", 0.13089235717719552], ["bool", 0.11866603178529743], ["List[str]", 0.07926529402579734], ["int", 0.06540843687147958]], "k": [["int", 0.5696142730732168], ["str", 0.106784241546159]]}}, {"docstring": {"func": "Tests that an AirflowException is raised in case of error event", "long_descr": null, "ret": null}, "fn_lc": [[1353, 4], [1380, 13]], "fn_var_ln": {"k": [[1357, 8], [1357, 9]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True"], ["k", "execute_complete", "context", "None", "event", "TEST_NAME", "TEST_NAMESPACE"]]}, "name": "test_async_create_pod_should_throw_exception", "params": {"mocked_cleanup": "", "mocked_hook": "", "self": ""}, "params_descr": {"mocked_cleanup": "", "mocked_hook": "", "self": ""}, "params_occur": {"mocked_cleanup": [], "mocked_hook": [["mocked_hook", "return_value", "get_pod", "return_value", "MagicMock"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mocked_cleanup": [["unittesmock.MagicMock", 0.21061277098312214], ["mock.MagicMock", 0.11004487333041704]], "mocked_hook": [["unittesmock.MagicMock", 0.129163477583846]], "self": []}, "q_name": "TestKubernetesPodOperatorAsync.test_async_create_pod_should_throw_exception", "ret_exprs": [], "ret_type": "", "variables": {"k": ""}, "variables_p": {"k": [["int", 0.5696142730732168], ["str", 0.106784241546159]]}}, {"docstring": {"func": "Tests that an AirflowSkipException is raised when the container exits with the skip_on_exit_code", "long_descr": null, "ret": null}, "fn_lc": [[1393, 4], [1444, 60]], "fn_var_ln": {"base_container": [[1419, 8], [1419, 22]], "context": [[1430, 8], [1430, 15]], "event": [[1433, 8], [1433, 13]], "k": [[1404, 8], [1404, 9]], "name": [[1423, 8], [1423, 30]], "remote_pod": [[1425, 8], [1425, 18]], "sidecar_container": [[1422, 8], [1422, 25]]}, "fn_var_occur": {"base_container": [["base_container", "MagicMock"], ["base_container", "name", "k", "base_container_name"], ["base_container", "last_state", "terminated", "exit_code", "actual_exit_code"], ["remote_pod", "status", "container_statuses", "base_container", "sidecar_container"]], "context": [["context", "MagicMock"], ["k", "execute_complete", "context", "context", "event", "event"], ["k", "execute_complete", "context", "context", "event", "event"]], "event": [["event", "event_status", "TEST_NAME", "TEST_NAMESPACE"], ["k", "execute_complete", "context", "context", "event", "event"], ["k", "execute_complete", "context", "context", "event", "event"]], "k": [["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True", "extra_kwargs", "extra_kwargs"], ["base_container", "name", "k", "base_container_name"], ["k", "execute_complete", "context", "context", "event", "event"], ["k", "execute_complete", "context", "context", "event", "event"]], "name": [["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True", "extra_kwargs", "extra_kwargs"], ["base_container", "name", "k", "base_container_name"], ["sidecar_container", "name"]], "remote_pod": [["remote_pod", "MagicMock"], ["remote_pod", "status", "phase", "pod_status"], ["remote_pod", "status", "container_statuses", "base_container", "sidecar_container"], ["mocked_hook", "return_value", "get_pod", "return_value", "remote_pod"]], "sidecar_container": [["sidecar_container", "MagicMock"], ["sidecar_container", "name"], ["sidecar_container", "last_state", "terminated", "exit_code"], ["remote_pod", "status", "container_statuses", "base_container", "sidecar_container"]]}, "name": "test_async_create_pod_with_skip_on_exit_code_should_skip", "params": {"actual_exit_code": "", "event_status": "", "expected_exc": "", "extra_kwargs": "", "mocked_hook": "", "pod_status": "", "self": ""}, "params_descr": {"actual_exit_code": "", "event_status": "", "expected_exc": "", "extra_kwargs": "", "mocked_hook": "", "pod_status": "", "self": ""}, "params_occur": {"actual_exit_code": [["base_container", "last_state", "terminated", "exit_code", "actual_exit_code"]], "event_status": [["event", "event_status", "TEST_NAME", "TEST_NAMESPACE"]], "expected_exc": [["pytest", "raises", "expected_exc"]], "extra_kwargs": [["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True", "extra_kwargs", "extra_kwargs"]], "mocked_hook": [["mocked_hook", "return_value", "get_pod", "return_value", "remote_pod"]], "pod_status": [["remote_pod", "status", "phase", "pod_status"]], "self": []}, "params_p": {"actual_exit_code": [["unittesmock.MagicMock", 0.13744915910169025], ["tests.test_util.aiohttp.AiohttpClientMocker", 0.07281720554552806]], "args": [], "event_status": [["mock.Mock", 0.2573179917114388], ["tests.test_util.aiohttp.AiohttpClientMocker", 0.1731468084326772], ["tests.async_mock.MagicMock", 0.09857097161598155]], "expected_exc": [["unittesmock.MagicMock", 0.6361420496667501]], "extra_kwargs": [["unittesmock.MagicMock", 0.301089105045987], ["tests.async_mock.MagicMock", 0.09451622566745674], ["str", 0.09351647023606904]], "kwargs": [], "mocked_hook": [["unittesmock.MagicMock", 0.737143792457809]], "pod_status": [["tests.test_util.aiohttp.AiohttpClientMocker", 0.33730419734645745], ["int", 0.1599467887001343], ["aiohttp.test_utils.TestServer", 0.08378285127012793], ["str", 0.08067282865495738]], "self": []}, "q_name": "TestKubernetesPodOperatorAsync.test_async_create_pod_with_skip_on_exit_code_should_skip", "ret_exprs": [], "ret_type": "", "variables": {"base_container": "", "context": "", "event": "", "k": "", "name": "", "remote_pod": "", "sidecar_container": ""}, "variables_p": {"base_container": [["str", 0.0908356007257629]], "context": [["mock.Mock", 0.6562182131089971], ["mode.utils.mocks.Mock", 0.343781786891003]], "event": [["dict", 0.23044936817123268], ["List[Dict[str, Any]]", 0.20220469027342686], ["Generator[Any, None, None]", 0.18642001039097666], ["list", 0.15417829039554493], ["str", 0.07803383302443312], ["Dict[str, str]", 0.07366728682942737]], "k": [["int", 0.5696142730732168], ["str", 0.106784241546159]], "name": [["str", 0.7090708830892105], ["int", 0.09751008214752294], ["Optional[Dict[str, object]]", 0.09670951738163333], ["Optional[Tuple[object, ...]]", 0.09670951738163333]], "remote_pod": [["mock.Mock", 0.5828169190656898], ["mode.utils.mocks.Mock", 0.20277595422541939], ["int", 0.09294144084777461]], "sidecar_container": [["str", 0.2864255593356084]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1451, 4], [1479, 46]], "fn_var_ln": {"context": [[1463, 8], [1463, 15]], "k": [[1456, 8], [1456, 9]]}, "fn_var_occur": {"context": [["context", "create_context", "k"], ["context", "MagicMock"], ["k", "execute_complete", "context", "context", "event", "TEST_SUCCESS_MESSAGE", "TEST_NAME", "TEST_NAMESPACE"]], "k": [["k", "KubernetesPodOperator", "task_id", "do_xcom_push", "do_xcom_push", "get_logs", "False", "deferrable", "True"], ["context", "create_context", "k"], ["k", "execute_complete", "context", "context", "event", "TEST_SUCCESS_MESSAGE", "TEST_NAME", "TEST_NAMESPACE"]]}, "name": "test_async_create_pod_xcom_push_should_execute_successfully", "params": {"do_xcom_push": "", "mock_manager": "", "mocked_extract": "", "mocked_hook": "", "post_complete_action": "", "self": ""}, "params_descr": {"do_xcom_push": "", "mock_manager": "", "mocked_extract": "", "mocked_hook": "", "post_complete_action": "", "self": ""}, "params_occur": {"do_xcom_push": [["k", "KubernetesPodOperator", "task_id", "do_xcom_push", "do_xcom_push", "get_logs", "False", "deferrable", "True"]], "mock_manager": [["mock_manager", "return_value", "await_pod_completion", "return_value", "MagicMock"]], "mocked_extract": [["mocked_extract", "assert_called_once"], ["mocked_extract", "assert_not_called"]], "mocked_hook": [["mocked_hook", "return_value", "get_pod", "return_value", "MagicMock"]], "post_complete_action": [["post_complete_action", "assert_called_once"]], "self": []}, "params_p": {"args": [], "do_xcom_push": [], "kwargs": [], "mock_manager": [["unittesmock.MagicMock", 0.2102710374009218], ["mock.MagicMock", 0.09233334169097568]], "mocked_extract": [["unittesmock.MagicMock", 0.5725485052589903], ["tests.test_util.aiohttp.AiohttpClientMocker", 0.3420233500816296]], "mocked_hook": [["unittesmock.MagicMock", 0.3547879401143098]], "post_complete_action": [["unittesmock.MagicMock", 0.08839138069484785]], "self": []}, "q_name": "TestKubernetesPodOperatorAsync.test_async_create_pod_xcom_push_should_execute_successfully", "ret_exprs": [], "ret_type": "", "variables": {"context": "", "k": ""}, "variables_p": {"context": [["mode.utils.mocks.Mock", 0.31275261030022283], ["mock.MagicMock", 0.2799689861796136], ["mock.Mock", 0.2105769901541636], ["Dict[str, str]", 0.10083929485858407], ["unittesmock.MagicMock", 0.09586211850741591]], "k": [["List[List[int]]", 0.19815797992038184], ["int", 0.19129731707725903], ["Dict[str, Dict[str, Any]]", 0.13926868082023086], ["Dict[str, str]", 0.1100803967383889], ["Dict[str, Union[int, Any]]", 0.09184189853235307], ["Dict[int, List[Any]]", 0.08521341959370075]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1481, 4], [1489, 55]], "fn_var_ln": {"k": [[1482, 8], [1482, 9]], "pod": [[1488, 8], [1488, 11]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "name", "TEST_NAME", "task_id", "do_xcom_push", "True", "deferrable", "True"], ["pod", "k", "build_pod_request_obj", "create_context", "k"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "spec", "containers", "image"]]}, "name": "test_async_xcom_sidecar_container_image_default_should_execute_successfully", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperatorAsync.test_async_xcom_sidecar_container_image_default_should_execute_successfully", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": ""}, "variables_p": {"k": [["str", 0.25984509357436564], ["int", 0.21032060766295763], ["Dict[str, Union[int, str]]", 0.10604133770023477], ["bool", 0.09803338989046083]], "pod": [["dict", 0.21026604379637684], ["int", 0.19332689822821886], ["types.SimpleNamespace", 0.09715386277675073]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1491, 4], [1504, 9]], "fn_var_ln": {"k": [[1492, 8], [1492, 9]], "pod": [[1498, 8], [1498, 11]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "name", "TEST_NAME", "task_id", "do_xcom_push", "True", "deferrable", "True"], ["pod", "k", "build_pod_request_obj", "create_context", "k"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "spec", "containers", "resources", "k8s", "V1ResourceRequirements", "requests"]]}, "name": "test_async_xcom_sidecar_container_resources_default_should_execute_successfully", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestKubernetesPodOperatorAsync.test_async_xcom_sidecar_container_resources_default_should_execute_successfully", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": ""}, "variables_p": {"k": [["str", 0.25984509357436564], ["int", 0.21032060766295763], ["Dict[str, Union[int, str]]", 0.10604133770023477], ["bool", 0.09803338989046083]], "pod": [["int", 0.1042045821869701]]}}, {"docstring": {"func": "pod name and namespace are *always* pushed; do_xcom_push only controls xcom sidecar", "long_descr": null, "ret": null}, "fn_lc": [[1511, 4], [1532, 54]], "fn_var_ln": {"k": [[1521, 8], [1521, 9]], "pod": [[1527, 8], [1527, 11]], "pod_name": [[1529, 8], [1529, 16]], "pod_namespace": [[1530, 8], [1530, 21]], "return_value": [[1520, 8], [1520, 38]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "task_id", "do_xcom_push", "do_xcom_push", "deferrable", "True"], ["pod", "self", "run_pod_async", "k"]], "pod": [["pod", "self", "run_pod_async", "k"], ["pod_name", "pod", "metadata", "name"], ["pod_namespace", "pod", "metadata", "namespace"]], "pod_name": [["pod_name", "XCom", "get_one", "run_id", "self", "dag_run", "run_id", "task_id", "key"], ["pod_name", "pod", "metadata", "name"]], "pod_namespace": [["pod_namespace", "XCom", "get_one", "run_id", "self", "dag_run", "run_id", "task_id", "key"], ["pod_namespace", "pod", "metadata", "namespace"]], "return_value": [["mocked_hook", "return_value", "get_pod", "return_value", "k8s", "V1Pod", "metadata", "k8s", "V1ObjectMeta", "name", "TEST_NAME", "namespace", "TEST_NAMESPACE"], ["mock_manager", "return_value", "await_pod_completion", "return_value"], ["mock_extract_xcom", "return_value"]]}, "name": "test_async_push_xcom_check_xcom_values_should_execute_successfully", "params": {"do_xcom_push": "", "mock_extract_xcom": "", "mock_manager": "", "mocked_hook": "", "post_complete_action": "", "self": ""}, "params_descr": {"do_xcom_push": "", "mock_extract_xcom": "", "mock_manager": "", "mocked_hook": "", "post_complete_action": "", "self": ""}, "params_occur": {"do_xcom_push": [["k", "KubernetesPodOperator", "task_id", "do_xcom_push", "do_xcom_push", "deferrable", "True"]], "mock_extract_xcom": [["mock_extract_xcom", "return_value"]], "mock_manager": [["mock_manager", "return_value", "await_pod_completion", "return_value"]], "mocked_hook": [["mocked_hook", "return_value", "get_pod", "return_value", "k8s", "V1Pod", "metadata", "k8s", "V1ObjectMeta", "name", "TEST_NAME", "namespace", "TEST_NAMESPACE"]], "post_complete_action": [], "self": [["pod", "self", "run_pod_async", "k"], ["pod_name", "XCom", "get_one", "run_id", "self", "dag_run", "run_id", "task_id", "key"], ["pod_namespace", "XCom", "get_one", "run_id", "self", "dag_run", "run_id", "task_id", "key"]]}, "params_p": {"args": [], "do_xcom_push": [["mock.Mock", 0.09282784654935859]], "kwargs": [], "mock_extract_xcom": [["mock.Mock", 0.3350694425373226], ["unittesmock.MagicMock", 0.327922733893133]], "mock_manager": [["mock.MagicMock", 0.1814148941207841], ["unittesmock.MagicMock", 0.10362974605840838]], "mocked_hook": [["unittesmock.MagicMock", 0.10546169426396579]], "post_complete_action": [["unittesmock.MagicMock", 0.535280576355844], ["mock.Mock", 0.13989953005817568]], "self": []}, "q_name": "TestKubernetesPodOperatorAsync.test_async_push_xcom_check_xcom_values_should_execute_successfully", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": "", "pod_name": "", "pod_namespace": "", "return_value": ""}, "variables_p": {"k": [["dict", 0.11140309295146548], ["str", 0.09631756474288866], ["int", 0.09382826173332266]], "pod": [["Dict[str, str]", 0.3787592475011026], ["List[Tuple[str, str, str]]", 0.1994780672394496], ["dict", 0.19040976581852034], ["str", 0.1540907120018253], ["Dict[str, Any]", 0.07726220743910209]], "pod_name": [["str", 0.9049085556223343], ["list", 0.09509144437766565]], "pod_namespace": [], "return_value": [["Dict[str, Union[Any, Any]]", 0.19116729442811978], ["Dict[str, Dict[str, Any]]", 0.16800860835800913], ["str", 0.08266691248001305], ["Dict[str, int]", 0.07608450782753738], ["list", 0.07374635498662861]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1539, 4], [1566, 49]], "fn_var_ln": {"context": [[1550, 8], [1550, 15]], "k": [[1544, 8], [1544, 9]]}, "fn_var_occur": {"context": [["context", "create_context", "k"], ["context", "MagicMock"], ["k", "execute_complete", "context", "context", "event", "TEST_SUCCESS_MESSAGE", "TEST_NAME", "TEST_NAMESPACE"]], "k": [["k", "KubernetesPodOperator", "task_id", "get_logs", "get_logs", "deferrable", "True"], ["context", "create_context", "k"], ["k", "execute_complete", "context", "context", "event", "TEST_SUCCESS_MESSAGE", "TEST_NAME", "TEST_NAMESPACE"]]}, "name": "test_async_get_logs_should_execute_successfully", "params": {"get_logs": "", "mock_manager": "", "mocked_hook": "", "mocked_write_logs": "", "post_complete_action": "", "self": ""}, "params_descr": {"get_logs": "", "mock_manager": "", "mocked_hook": "", "mocked_write_logs": "", "post_complete_action": "", "self": ""}, "params_occur": {"get_logs": [["k", "KubernetesPodOperator", "task_id", "get_logs", "get_logs", "deferrable", "True"]], "mock_manager": [["mock_manager", "return_value", "await_pod_completion", "return_value", "MagicMock"]], "mocked_hook": [["mocked_hook", "return_value", "get_pod", "return_value", "MagicMock"]], "mocked_write_logs": [["mocked_write_logs", "assert_called_once"], ["mocked_write_logs", "assert_not_called"]], "post_complete_action": [["post_complete_action", "assert_called_once"]], "self": []}, "params_p": {"args": [], "get_logs": [["kubernetes.clienCustomObjectsApi", 0.2695535414558157], ["mock.Mock", 0.08630782592812403]], "kwargs": [], "mock_manager": [["unittesmock.MagicMock", 0.38946487736570057], ["mock.MagicMock", 0.11081031652510949]], "mocked_hook": [], "mocked_write_logs": [["unittesmock.MagicMock", 0.6797110447591723]], "post_complete_action": [["mock.Mock", 0.27793405796573206], ["unittesmock.MagicMock", 0.10108150752479478]], "self": []}, "q_name": "TestKubernetesPodOperatorAsync.test_async_get_logs_should_execute_successfully", "ret_exprs": [], "ret_type": "", "variables": {"context": "", "k": ""}, "variables_p": {"context": [["mode.utils.mocks.Mock", 0.31275261030022283], ["mock.MagicMock", 0.2799689861796136], ["mock.Mock", 0.2105769901541636], ["Dict[str, str]", 0.10083929485858407], ["unittesmock.MagicMock", 0.09586211850741591]], "k": [["str", 0.3804873089035937], ["List[str]", 0.08970670878898782]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1573, 4], [1596, 71]], "fn_var_ln": {"k": [[1585, 8], [1585, 9]], "return_value": [[1584, 8], [1584, 38]], "test_logs": [[1576, 8], [1576, 17]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "task_id", "get_logs", "get_logs", "deferrable", "True"], ["self", "run_pod_async", "k"]], "return_value": [["mock_manager", "read_pod_logs", "return_value", "HTTPResponse", "body", "BytesIO", "test_logs", "encode", "preload_content", "False"], ["mocked_hook", "return_value", "get_pod", "return_value", "k8s", "V1Pod", "metadata", "k8s", "V1ObjectMeta", "name", "TEST_NAME", "namespace", "TEST_NAMESPACE"], ["mock_extract_xcom", "return_value"], ["mock_manager", "return_value", "read_pod_logs", "assert_not_called"]], "test_logs": [["mock_manager", "read_pod_logs", "return_value", "HTTPResponse", "body", "BytesIO", "test_logs", "encode", "preload_content", "False"]]}, "name": "test_async_write_logs_should_execute_successfully", "params": {"get_logs": "", "mock_extract_xcom": "", "mock_manager": "", "mocked_hook": "", "post_complete_action": "", "self": ""}, "params_descr": {"get_logs": "", "mock_extract_xcom": "", "mock_manager": "", "mocked_hook": "", "post_complete_action": "", "self": ""}, "params_occur": {"get_logs": [["k", "KubernetesPodOperator", "task_id", "get_logs", "get_logs", "deferrable", "True"]], "mock_extract_xcom": [["mock_extract_xcom", "return_value"]], "mock_manager": [["mock_manager", "read_pod_logs", "return_value", "HTTPResponse", "body", "BytesIO", "test_logs", "encode", "preload_content", "False"], ["mock_manager", "return_value", "read_pod_logs", "assert_not_called"]], "mocked_hook": [["mocked_hook", "return_value", "get_pod", "return_value", "k8s", "V1Pod", "metadata", "k8s", "V1ObjectMeta", "name", "TEST_NAME", "namespace", "TEST_NAMESPACE"]], "post_complete_action": [["post_complete_action", "assert_called_once"]], "self": [["self", "run_pod_async", "k"]]}, "params_p": {"args": [], "get_logs": [["io.BytesIO", 0.08965048218520974]], "kwargs": [], "mock_extract_xcom": [["mock.Mock", 0.3137731041144114], ["unittesmock.MagicMock", 0.178695783007294]], "mock_manager": [["unittesmock.MagicMock", 1.0]], "mocked_hook": [["unittesmock.MagicMock", 0.11303905514277522]], "post_complete_action": [["unittesmock.MagicMock", 0.08589822752701322]], "self": []}, "q_name": "TestKubernetesPodOperatorAsync.test_async_write_logs_should_execute_successfully", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "return_value": "", "test_logs": ""}, "variables_p": {"k": [["str", 0.4066210467494999], ["dict", 0.09207182172163073], ["int", 0.09101510373780826], ["List[str]", 0.08767100066174155]], "return_value": [["str", 0.6377992064515752], ["Dict[str, str]", 0.17525740333953796], ["tuple", 0.10131089084187081], ["Dict[str, Union[Any, str]]", 0.08563249936701614]], "test_logs": [["str", 0.4502606418734867], ["Set[str]", 0.262032569096398], ["list", 0.19616786130847577], ["int", 0.09153892772163948]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[1605, 4], [1610, 31]], "fn_var_ln": {"k": [[1606, 8], [1606, 9]], "pod": [[1607, 8], [1607, 11]], "status": [[1608, 8], [1608, 18]]}, "fn_var_occur": {"k": [["k", "KubernetesPodOperator", "task_id", "log_pod_spec_on_failure", "log_pod_spec_on_failure"], ["pod", "k", "build_pod_request_obj", "create_context", "k"], ["k", "cleanup", "pod", "pod"]], "pod": [["pod", "k", "build_pod_request_obj", "create_context", "k"], ["pod", "status", "V1PodStatus", "phase", "PodPhase", "FAILED"], ["k", "cleanup", "pod", "pod"]], "status": [["pod", "status", "V1PodStatus", "phase", "PodPhase", "FAILED"]]}, "name": "test_cleanup_log_pod_spec_on_failure", "params": {"expect_match": "", "log_pod_spec_on_failure": "", "self": ""}, "params_descr": {"expect_match": "", "log_pod_spec_on_failure": "", "self": ""}, "params_occur": {"expect_match": [["pytest", "raises", "AirflowException", "match", "expect_match"]], "log_pod_spec_on_failure": [["k", "KubernetesPodOperator", "task_id", "log_pod_spec_on_failure", "log_pod_spec_on_failure"]], "self": []}, "params_p": {"args": [], "expect_match": [["str", 0.5814667716416834], ["bytes", 0.09229013553476241]], "kwargs": [], "log_pod_spec_on_failure": [["zerver.models.UserProfile", 0.07730202926707667], ["raiden.utils.TokenAddress", 0.07452410285323406]], "self": []}, "q_name": "TestKubernetesPodOperatorAsync.test_cleanup_log_pod_spec_on_failure", "ret_exprs": [], "ret_type": "", "variables": {"k": "", "pod": "", "status": ""}, "variables_p": {"k": [["str", 0.47744955425300195], ["int", 0.16991588485634868], ["Pattern[Any]", 0.08983174646590594]], "pod": [["int", 0.5225667974794149], ["str", 0.10387731128825854]], "status": [["str", 0.5041202537523246], ["int", 0.18701715299295651], ["Pattern[Any]", 0.11565797898620049], ["Pattern[str]", 0.1019392141541955], ["Tuple[str, str, str, str, str, str, str, str, str, str, str, str, str, str]", 0.09126540011432308]]}}], "name": "TestKubernetesPodOperatorAsync", "q_name": "TestKubernetesPodOperatorAsync", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[62, 0], [66, 28]], "fn_var_ln": {"orig": [[63, 4], [63, 8]]}, "fn_var_occur": {"orig": [["orig", "getattr", "obj", "attr"], ["setattr", "obj", "attr", "orig"]]}, "name": "temp_override_attr", "params": {"attr": "", "obj": "", "val": ""}, "params_descr": {"attr": "", "obj": "", "val": ""}, "params_occur": {"attr": [["orig", "getattr", "obj", "attr"], ["setattr", "obj", "attr", "val"], ["setattr", "obj", "attr", "orig"]], "obj": [["orig", "getattr", "obj", "attr"], ["setattr", "obj", "attr", "val"], ["setattr", "obj", "attr", "orig"]], "val": [["setattr", "obj", "attr", "val"]]}, "params_p": {"args": [], "attr": [["str", 0.25730674840876233], ["transfer.models.PaymentMethod", 0.16515670761329487], ["Union[str, Iterable[str]]", 0.12259591159090963]], "kwargs": [], "obj": [["str", 0.25730674840876233], ["transfer.models.PaymentMethod", 0.16515670761329487], ["Union[str, Iterable[str]]", 0.12259591159090963]], "val": [["str", 0.5144544152909701], ["zerver.models.UserProfile", 0.10896290395885462], ["Mapping[str, Any]", 0.0942914866497994], ["int", 0.0942914866497994], ["app.models.SpamResult", 0.09370822080077698]]}, "q_name": "temp_override_attr", "ret_exprs": [], "ret_type": "", "variables": {"orig": ""}, "variables_p": {"orig": [["str", 0.4084627021951636], ["List[str]", 0.19515726737455324], ["Tuple[str]", 0.18113058818452152], ["Optional[str]", 0.09521521933602406]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[70, 0], [73, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "clear_db", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "clear_db", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[76, 0], [104, 5]], "fn_var_ln": {"dag": [[80, 8], [80, 11]], "dag_run": [[88, 4], [88, 25]], "map_index": [[90, 8], [90, 31]], "task_instance": [[87, 4], [87, 17]]}, "fn_var_occur": {"dag": [["dag", "task", "dag"], ["dag", "DAG", "dag_id", "start_date", "pendulum", "now"], ["dag", "add_task", "task"], ["dag_run", "DagRun", "run_id", "DagRun", "generate_run_id", "DagRunType", "MANUAL", "DEFAULT_DATE", "run_type", "DagRunType", "MANUAL", "dag_id", "dag", "dag_id"], ["session", "add", "DagModel", "dag_id", "dag", "dag_id"], ["dag", "DEFAULT_DATE", "isoformat", "task", "task_instance", "task_instance"]], "dag_run": [["dag_run", "DagRun", "run_id", "DagRun", "generate_run_id", "DagRunType", "MANUAL", "DEFAULT_DATE", "run_type", "DagRunType", "MANUAL", "dag_id", "dag", "dag_id"], ["task_instance", "TaskInstance", "task", "task", "run_id", "dag_run", "run_id"], ["task_instance", "dag_run", "dag_run"], ["session", "add", "dag_run"]], "map_index": [["map_index", "None"], ["task_instance", "map_index", "map_index"]], "task_instance": [["task_instance", "TaskInstance", "task", "task", "run_id", "dag_run", "run_id"], ["task_instance", "dag_run", "dag_run"], ["task_instance", "map_index", "map_index"], ["session", "add", "task_instance"], ["dag", "DEFAULT_DATE", "isoformat", "task", "task_instance", "task_instance"]]}, "name": "create_context", "params": {"map_index": "", "persist_to_db": "", "task": ""}, "params_descr": {"map_index": "", "persist_to_db": "", "task": ""}, "params_occur": {"map_index": [["map_index", "None"], ["task_instance", "map_index", "map_index"]], "persist_to_db": [], "task": [["task", "has_dag"], ["dag", "task", "dag"], ["dag", "add_task", "task"], ["task_instance", "TaskInstance", "task", "task", "run_id", "dag_run", "run_id"], ["dag", "DEFAULT_DATE", "isoformat", "task", "task_instance", "task_instance"]]}, "params_p": {"args": [], "kwargs": [], "map_index": [["Optional[str]", 0.5940554840030947], ["Optional[excars.models.profiles.Profile]", 0.1255780768728838], ["Optional[int]", 0.09554470934656208], ["tracim.models.data.Content", 0.09102536276480755]], "persist_to_db": [["str", 0.19700004661331177], ["bytes", 0.10949553865004041], ["bool", 0.10250427489671246]], "task": [["Union[zerver.models.UserProfile, zilencer.models.RemoteZulipServer]", 0.5505789399926103], ["Optional[eventdb.core.models.evenEvent]", 0.08853126352772962]]}, "q_name": "create_context", "ret_exprs": ["return { \"dag\": dag, \"ts\": DEFAULT_DATE.isoformat(), \"task\": task, \"ti\": task_instance, \"task_instance\": task_instance, \"run_id\": \"test\",}"], "ret_type": "", "ret_type_p": [["str", 0.1744587814177914], ["raiden.utils.Address", 0.11315850498453182], ["Callable", 0.09099351596400927]], "variables": {"dag": "", "dag_run": "", "map_index": "", "task_instance": ""}, "variables_p": {"dag": [["str", 0.30783236981921097], ["decksite.data.models.person.Person", 0.10201009261808869], ["list", 0.10117569986430873], ["Dict[str, Callable]", 0.09789366632968573], ["OrderedDict", 0.09289727971044587]], "dag_run": [["str", 0.27823581089542476], ["int", 0.19759426735184338], ["dict", 0.1216872408019489]], "map_index": [["str", 0.2993974867859965], ["Dict[str, Any]", 0.2019069741767364], ["Tuple[Type[str]]", 0.16776823159451484], ["Dict[str, str]", 0.1164626873852202]], "task_instance": [["List[str]", 0.09458062597125826]]}}], "imports": ["__future__", "annotations", "re", "contextlib", "contextmanager", "nullcontext", "unittest", "mock", "unittest", "mock", "MagicMock", "patch", "pendulum", "pytest", "kubernetes", "client", "ApiClient", "V1PodStatus", "models", "k8s", "pytest", "param", "urllib3", "HTTPResponse", "urllib3", "packages", "six", "BytesIO", "airflow", "exceptions", "AirflowException", "AirflowSkipException", "TaskDeferred", "airflow", "kubernetes", "secret", "Secret", "airflow", "models", "DAG", "DagModel", "DagRun", "TaskInstance", "airflow", "models", "xcom", "XCom", "airflow", "providers", "cncf", "kubernetes", "operators", "pod", "KubernetesPodOperator", "_optionally_suppress", "airflow", "providers", "cncf", "kubernetes", "triggers", "pod", "KubernetesPodTrigger", "airflow", "providers", "cncf", "kubernetes", "utils", "pod_manager", "PodPhase", "airflow", "providers", "cncf", "kubernetes", "utils", "xcom_sidecar", "PodDefaults", "airflow", "utils", "timezone", "airflow", "utils", "session", "create_session", "airflow", "utils", "types", "DagRunType", "tests", "test_utils", "db"], "mod_var_ln": {"DEFAULT_DATE": [[44, 0], [44, 12]], "HOOK_CLASS": [[48, 0], [48, 10]], "KPO_MODULE": [[45, 0], [45, 10]], "KUB_OP_PATH": [[49, 0], [49, 11]], "POD_MANAGER_CLASS": [[46, 0], [46, 17]], "POD_MANAGER_MODULE": [[47, 0], [47, 18]], "TEST_ARGS": [[55, 0], [55, 9]], "TEST_CMDS": [[54, 0], [54, 9]], "TEST_IMAGE": [[53, 0], [53, 10]], "TEST_LABELS": [[56, 0], [56, 11]], "TEST_NAME": [[57, 0], [57, 9]], "TEST_NAMESPACE": [[52, 0], [52, 14]], "TEST_SUCCESS_MESSAGE": [[58, 0], [58, 20]], "TEST_TASK_ID": [[51, 0], [51, 12]]}, "mod_var_occur": {"DEFAULT_DATE": [["dag_run", "DagRun", "run_id", "DagRun", "generate_run_id", "DagRunType", "MANUAL", "DEFAULT_DATE", "run_type", "DagRunType", "MANUAL", "dag_id", "dag", "dag_id"], ["dag", "DEFAULT_DATE", "isoformat", "task", "task_instance", "task_instance"]], "HOOK_CLASS": [["self", "_default_client_patch", "patch", "HOOK_CLASS"], ["self", "_default_client_patch", "patch", "HOOK_CLASS"], ["self", "await_pod_get_patch", "patch", "HOOK_CLASS"]], "KPO_MODULE": [], "KUB_OP_PATH": [], "POD_MANAGER_CLASS": [["self", "create_pod_patch", "patch", "POD_MANAGER_CLASS"], ["self", "await_pod_patch", "patch", "POD_MANAGER_CLASS"], ["self", "await_pod_completion_patch", "patch", "POD_MANAGER_CLASS"], ["self", "create_pod_patch", "patch", "POD_MANAGER_CLASS"], ["self", "await_pod_patch", "patch", "POD_MANAGER_CLASS"], ["self", "await_pod_completion_patch", "patch", "POD_MANAGER_CLASS"]], "POD_MANAGER_MODULE": [], "TEST_ARGS": [["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True"], ["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True"], ["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True", "extra_kwargs", "extra_kwargs"]], "TEST_CMDS": [["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True"], ["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True"], ["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True", "extra_kwargs", "extra_kwargs"]], "TEST_IMAGE": [["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True"], ["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True"], ["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True", "extra_kwargs", "extra_kwargs"]], "TEST_LABELS": [["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True"], ["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True"], ["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True", "extra_kwargs", "extra_kwargs"]], "TEST_NAME": [["remote_pod_mock", "metadata", "name", "TEST_NAME"], ["operator", "execute_complete", "context", "context", "event", "TEST_SUCCESS_MESSAGE", "TEST_NAME", "TEST_NAMESPACE"], ["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True"], ["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True"], ["k", "execute_complete", "context", "None", "event", "TEST_NAME", "TEST_NAMESPACE"], ["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True", "extra_kwargs", "extra_kwargs"], ["event", "event_status", "TEST_NAME", "TEST_NAMESPACE"], ["k", "execute_complete", "context", "context", "event", "TEST_SUCCESS_MESSAGE", "TEST_NAME", "TEST_NAMESPACE"], ["k", "KubernetesPodOperator", "name", "TEST_NAME", "task_id", "do_xcom_push", "True", "deferrable", "True"], ["k", "KubernetesPodOperator", "name", "TEST_NAME", "task_id", "do_xcom_push", "True", "deferrable", "True"], ["mocked_hook", "return_value", "get_pod", "return_value", "k8s", "V1Pod", "metadata", "k8s", "V1ObjectMeta", "name", "TEST_NAME", "namespace", "TEST_NAMESPACE"], ["k", "execute_complete", "context", "context", "event", "TEST_SUCCESS_MESSAGE", "TEST_NAME", "TEST_NAMESPACE"], ["mocked_hook", "return_value", "get_pod", "return_value", "k8s", "V1Pod", "metadata", "k8s", "V1ObjectMeta", "name", "TEST_NAME", "namespace", "TEST_NAMESPACE"]], "TEST_NAMESPACE": [["remote_pod_mock", "metadata", "namespace", "TEST_NAMESPACE"], ["operator", "execute_complete", "context", "context", "event", "TEST_SUCCESS_MESSAGE", "TEST_NAME", "TEST_NAMESPACE"], ["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True"], ["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True"], ["k", "execute_complete", "context", "None", "event", "TEST_NAME", "TEST_NAMESPACE"], ["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True", "extra_kwargs", "extra_kwargs"], ["event", "event_status", "TEST_NAME", "TEST_NAMESPACE"], ["k", "execute_complete", "context", "context", "event", "TEST_SUCCESS_MESSAGE", "TEST_NAME", "TEST_NAMESPACE"], ["mocked_hook", "return_value", "get_pod", "return_value", "k8s", "V1Pod", "metadata", "k8s", "V1ObjectMeta", "name", "TEST_NAME", "namespace", "TEST_NAMESPACE"], ["k", "execute_complete", "context", "context", "event", "TEST_SUCCESS_MESSAGE", "TEST_NAME", "TEST_NAMESPACE"], ["mocked_hook", "return_value", "get_pod", "return_value", "k8s", "V1Pod", "metadata", "k8s", "V1ObjectMeta", "name", "TEST_NAME", "namespace", "TEST_NAMESPACE"]], "TEST_SUCCESS_MESSAGE": [["operator", "execute_complete", "context", "context", "event", "TEST_SUCCESS_MESSAGE", "TEST_NAME", "TEST_NAMESPACE"], ["k", "execute_complete", "context", "context", "event", "TEST_SUCCESS_MESSAGE", "TEST_NAME", "TEST_NAMESPACE"], ["k", "execute_complete", "context", "context", "event", "TEST_SUCCESS_MESSAGE", "TEST_NAME", "TEST_NAMESPACE"]], "TEST_TASK_ID": [["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True"], ["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True"], ["k", "KubernetesPodOperator", "task_id", "TEST_TASK_ID", "namespace", "TEST_NAMESPACE", "image", "TEST_IMAGE", "cmds", "TEST_CMDS", "arguments", "TEST_ARGS", "labels", "TEST_LABELS", "name", "TEST_NAME", "on_finish_action", "in_cluster", "True", "get_logs", "True", "deferrable", "True", "extra_kwargs", "extra_kwargs"]]}, "no_types_annot": {"D": 3, "I": 0, "U": 396}, "session_id": "uEa6lcOyvlwE5CC09uheaztzAX1IOR4JE9n03xFrSTw", "set": null, "tc": [false, null], "type_annot_cove": 0.01, "typed_seq": "", "untyped_seq": "", "variables": {"DEFAULT_DATE": "", "HOOK_CLASS": "", "KPO_MODULE": "", "KUB_OP_PATH": "", "POD_MANAGER_CLASS": "", "POD_MANAGER_MODULE": "", "TEST_ARGS": "", "TEST_CMDS": "", "TEST_IMAGE": "", "TEST_LABELS": "", "TEST_NAME": "", "TEST_NAMESPACE": "", "TEST_SUCCESS_MESSAGE": "", "TEST_TASK_ID": ""}, "variables_p": {"DEFAULT_DATE": [["str", 0.3159776169982567], ["Tuple[Literal, Literal]", 0.2994784730813368], ["Type[projecbetting.models.Odd]", 0.0922086596226196]], "HOOK_CLASS": [["str", 0.9999999999999999]], "KPO_MODULE": [["str", 0.39999999999999997], ["Dict[str, str]", 0.3], ["int", 0.09999999999999999], ["bool", 0.09999999999999999], ["List[str]", 0.09999999999999999]], "KUB_OP_PATH": [["str", 0.7099528542385601], ["list", 0.14520794452344116], ["List[str]", 0.07886823347566083]], "POD_MANAGER_CLASS": [["List[str]", 0.10347043900082567], ["Union[Literal, str]", 0.0990865705637016], ["str", 0.09504755882954932]], "POD_MANAGER_MODULE": [["List[str]", 0.39999999999999997], ["list", 0.39999999999999997], ["tuple", 0.09999999999999999], ["bool", 0.09999999999999999]], "TEST_ARGS": [["int", 0.4006825667802867], ["Dict[str, Union[int, str]]", 0.1916109069741012], ["bytes", 0.10477025897015421], ["Dict[str, Tuple[Any, Any]]", 0.10415932583602233], ["str", 0.09942229516425878]], "TEST_CMDS": [["str", 0.20075450293133482], ["int", 0.1721367968998248], ["Dict[str, Any]", 0.114320801147998], ["Dict[str, Union[int, str]]", 0.09759867475637202], ["Dict[str, Union[Any, Any]]", 0.09015096713753806], ["Dict[str, Tuple[str, str]]", 0.08732499594827435]], "TEST_IMAGE": [["str", 0.5972886554855764], ["Optional[str]", 0.18584678622014716], ["Dict[str, str]", 0.09695055897026193]], "TEST_LABELS": [["str", 0.30038280114890636], ["Dict[str, str]", 0.11703073609627608], ["bool", 0.10482710215976293], ["int", 0.09899257928143462], ["Tuple[int]", 0.08933739517871532]], "TEST_NAME": [["str", 1.0]], "TEST_NAMESPACE": [], "TEST_SUCCESS_MESSAGE": [["Dict[str, Union[dict, Any]]", 0.11911630770958789], ["list", 0.10703951419413034], ["int", 0.10524180763913354], ["Dict[str, int]", 0.09472417333017227], ["Dict[str, Dict[str, str]]", 0.0937320320302419], ["Dict[str, Dict[str, Any]]", 0.09062801374771871]], "TEST_TASK_ID": [["str", 0.679697512129138], ["raiden.utils.List[EventID]", 0.11608220238149845], ["int", 0.10634532794154238], ["Union[int, str]", 0.09787495754782127]]}}}