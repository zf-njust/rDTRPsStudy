{"error": null, "response": {"classes": [{"cls_lc": [[90, 0], [156, 106]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": "Test: Operator links should exist for serialized DAG.", "long_descr": null, "ret": null}, "fn_lc": [[92, 4], [100, 59]], "fn_var_ln": {"serialized_dag": [[97, 8], [97, 22]]}, "fn_var_occur": {"serialized_dag": [["serialized_dag", "dag_maker", "get_serialized_data"], ["serialized_dag", "_full_qualname", "extra_link_class"]]}, "name": "test_link_serialize", "params": {"create_task_and_ti_of_op_with_extra_link": "", "dag_maker": "", "extra_link_class": "", "self": ""}, "params_descr": {"create_task_and_ti_of_op_with_extra_link": "", "dag_maker": "", "extra_link_class": "", "self": ""}, "params_occur": {"create_task_and_ti_of_op_with_extra_link": [["create_task_and_ti_of_op_with_extra_link", "extra_link_class", "dag_id", "task_id", "TASK_ID"]], "dag_maker": [["serialized_dag", "dag_maker", "get_serialized_data"]], "extra_link_class": [["create_task_and_ti_of_op_with_extra_link", "extra_link_class", "dag_id", "task_id", "TASK_ID"], ["serialized_dag", "_full_qualname", "extra_link_class"]], "self": []}, "params_p": {"args": [], "create_task_and_ti_of_op_with_extra_link": [["str", 0.18824777605527593]], "dag_maker": [["dict", 0.09056383765894145], ["str", 0.08801870036859458], ["Optional[List[str]]", 0.08573577449006911]], "extra_link_class": [], "kwargs": [], "self": []}, "q_name": "TestAwsLinks.test_link_serialize", "ret_exprs": [], "ret_type": "", "variables": {"serialized_dag": ""}, "variables_p": {"serialized_dag": [["dict", 0.10582379298680254]]}}, {"docstring": {"func": "Test: Operator links should return empty string if no XCom value.", "long_descr": null, "ret": null}, "fn_lc": [[103, 4], [119, 82]], "fn_var_ln": {"_": [[105, 8], [105, 9]], "deserialized_dag": [[110, 8], [110, 24]], "deserialized_task": [[111, 8], [111, 25]], "serialized_dag": [[109, 8], [109, 22]], "ti": [[105, 11], [105, 13]]}, "fn_var_occur": {"_": [["_", "ti", "create_task_and_ti_of_op_with_extra_link", "extra_link_class", "dag_id", "task_id", "TASK_ID"]], "deserialized_dag": [["deserialized_dag", "SerializedDAG", "from_dict", "serialized_dag"], ["deserialized_task", "deserialized_dag", "task_dict", "TASK_ID"]], "deserialized_task": [["deserialized_task", "deserialized_dag", "task_dict", "TASK_ID"], ["deserialized_task", "get_extra_links", "ti", "extra_link_class", "name"]], "serialized_dag": [["serialized_dag", "dag_maker", "get_serialized_data"], ["deserialized_dag", "SerializedDAG", "from_dict", "serialized_dag"]], "ti": [["_", "ti", "create_task_and_ti_of_op_with_extra_link", "extra_link_class", "dag_id", "task_id", "TASK_ID"], ["ti", "task", "get_extra_links", "ti", "extra_link_class", "name"], ["deserialized_task", "get_extra_links", "ti", "extra_link_class", "name"]]}, "name": "test_empty_xcom", "params": {"create_task_and_ti_of_op_with_extra_link": "", "dag_maker": "", "extra_link_class": "", "self": ""}, "params_descr": {"create_task_and_ti_of_op_with_extra_link": "", "dag_maker": "", "extra_link_class": "", "self": ""}, "params_occur": {"create_task_and_ti_of_op_with_extra_link": [["_", "ti", "create_task_and_ti_of_op_with_extra_link", "extra_link_class", "dag_id", "task_id", "TASK_ID"]], "dag_maker": [["serialized_dag", "dag_maker", "get_serialized_data"]], "extra_link_class": [["_", "ti", "create_task_and_ti_of_op_with_extra_link", "extra_link_class", "dag_id", "task_id", "TASK_ID"], ["ti", "task", "get_extra_links", "ti", "extra_link_class", "name"], ["deserialized_task", "get_extra_links", "ti", "extra_link_class", "name"]], "self": []}, "params_p": {"args": [], "create_task_and_ti_of_op_with_extra_link": [["List[str]", 0.11628032698571313], ["Callable", 0.112354688135404], ["int", 0.10571033706461282]], "dag_maker": [], "extra_link_class": [["Callable", 0.3144260754697088], ["Set[str]", 0.10855279133066166], ["int", 0.09429848776241997], ["List[str]", 0.09285528225597306], ["list", 0.09012878697147005]], "kwargs": [], "self": []}, "q_name": "TestAwsLinks.test_empty_xcom", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "deserialized_dag": "", "deserialized_task": "", "serialized_dag": "", "ti": ""}, "variables_p": {"_": [["str", 0.44258119659708506], ["int", 0.1783415410689669], ["Tuple[str, str, str, str, str, str, str]", 0.08852634975078723]], "deserialized_dag": [["str", 0.46698199486852654], ["int", 0.223319192727728], ["List[Tuple[Any, Any]]", 0.12297963681532248]], "deserialized_task": [], "serialized_dag": [], "ti": [["str", 0.38889694676020414], ["List[Dict[str, Any]]", 0.21732287240276632], ["int", 0.189412794473069], ["list", 0.10819446513700334], ["Dict[str, Any]", 0.09617292122695707]]}}, {"docstring": {"func": "Test: Expected URL Link.", "long_descr": null, "ret": null}, "fn_lc": [[122, 4], [156, 106]], "fn_var_ln": {"deserialized_dag": [[151, 8], [151, 24]], "deserialized_task": [[152, 8], [152, 25]], "mock_context": [[135, 8], [135, 20]], "serialized_dag": [[150, 8], [150, 22]], "task": [[131, 8], [131, 12]], "ti": [[131, 14], [131, 16]]}, "fn_var_occur": {"deserialized_dag": [["deserialized_dag", "SerializedDAG", "from_dict", "serialized_dag"], ["deserialized_task", "deserialized_dag", "task_dict", "TASK_ID"]], "deserialized_task": [["deserialized_task", "deserialized_dag", "task_dict", "TASK_ID"], ["deserialized_task", "get_extra_links", "ti", "extra_link_class", "name", "extra_link_expected_url", "_full_qualname", "extra_link_class"]], "mock_context": [["mock_context", "MagicMock"], ["mock_context", "__getitem__", "side_effect", "ti", "__getitem__"], ["extra_link_class", "persist", "context", "mock_context", "operator", "task", "region_name", "REGION_NAME", "aws_partition", "AWS_PARTITION", "extra_link_kwargs"]], "serialized_dag": [["serialized_dag", "dag_maker", "get_serialized_data"], ["deserialized_dag", "SerializedDAG", "from_dict", "serialized_dag"]], "task": [["task", "ti", "create_task_and_ti_of_op_with_extra_link", "extra_link_class", "dag_id", "task_id", "TASK_ID"], ["extra_link_class", "persist", "context", "mock_context", "operator", "task", "region_name", "REGION_NAME", "aws_partition", "AWS_PARTITION", "extra_link_kwargs"], ["ti", "task", "get_extra_links", "ti", "extra_link_class", "name", "extra_link_expected_url", "_full_qualname", "extra_link_class"]], "ti": [["task", "ti", "create_task_and_ti_of_op_with_extra_link", "extra_link_class", "dag_id", "task_id", "TASK_ID"], ["mock_context", "__getitem__", "side_effect", "ti", "__getitem__"], ["ti", "task", "get_extra_links", "ti", "extra_link_class", "name", "extra_link_expected_url", "_full_qualname", "extra_link_class"], ["deserialized_task", "get_extra_links", "ti", "extra_link_class", "name", "extra_link_expected_url", "_full_qualname", "extra_link_class"]]}, "name": "test_extra_link", "params": {"create_task_and_ti_of_op_with_extra_link": "", "dag_maker": "", "extra_link_class": "", "extra_link_expected_url": "", "extra_link_kwargs": "", "self": ""}, "params_descr": {"create_task_and_ti_of_op_with_extra_link": "", "dag_maker": "", "extra_link_class": "", "extra_link_expected_url": "", "extra_link_kwargs": "", "self": ""}, "params_occur": {"create_task_and_ti_of_op_with_extra_link": [["task", "ti", "create_task_and_ti_of_op_with_extra_link", "extra_link_class", "dag_id", "task_id", "TASK_ID"]], "dag_maker": [["serialized_dag", "dag_maker", "get_serialized_data"]], "extra_link_class": [["task", "ti", "create_task_and_ti_of_op_with_extra_link", "extra_link_class", "dag_id", "task_id", "TASK_ID"], ["extra_link_class", "persist", "context", "mock_context", "operator", "task", "region_name", "REGION_NAME", "aws_partition", "AWS_PARTITION", "extra_link_kwargs"], ["ti", "task", "get_extra_links", "ti", "extra_link_class", "name", "extra_link_expected_url", "_full_qualname", "extra_link_class"], ["deserialized_task", "get_extra_links", "ti", "extra_link_class", "name", "extra_link_expected_url", "_full_qualname", "extra_link_class"]], "extra_link_expected_url": [["ti", "task", "get_extra_links", "ti", "extra_link_class", "name", "extra_link_expected_url", "_full_qualname", "extra_link_class"], ["deserialized_task", "get_extra_links", "ti", "extra_link_class", "name", "extra_link_expected_url", "_full_qualname", "extra_link_class"]], "extra_link_kwargs": [["extra_link_class", "persist", "context", "mock_context", "operator", "task", "region_name", "REGION_NAME", "aws_partition", "AWS_PARTITION", "extra_link_kwargs"]], "self": []}, "params_p": {"args": [], "create_task_and_ti_of_op_with_extra_link": [["Callable", 0.1868920995383083], ["Optional[str]", 0.10742843942542363], ["Optional[\"libkol.Item\"]", 0.10099646288952738]], "dag_maker": [["Callable", 0.22209811700012883]], "extra_link_class": [["dict", 0.09832447113268084], ["List[str]", 0.09453946216712562], ["Callable", 0.09437586044416177]], "extra_link_expected_url": [["str", 0.2016961914413712], ["List[str]", 0.08987056005795996]], "extra_link_kwargs": [["Callable", 0.4582101851138989]], "kwargs": [], "self": []}, "q_name": "TestAwsLinks.test_extra_link", "ret_exprs": [], "ret_type": "", "variables": {"deserialized_dag": "", "deserialized_task": "", "mock_context": "", "serialized_dag": "", "task": "", "ti": ""}, "variables_p": {"deserialized_dag": [["str", 0.46698199486852654], ["int", 0.223319192727728], ["List[Tuple[Any, Any]]", 0.12297963681532248]], "deserialized_task": [], "mock_context": [["jj.mock._mock.Mock", 0.5966723097097283], ["mock.MagicMock", 0.2973279917460354]], "serialized_dag": [], "task": [["str", 0.28451911143063147], ["bool", 0.17975024340355839], ["Dict[str, Any]", 0.11920953660768206], ["Final", 0.08432338821264698]], "ti": [["str", 0.3761154875467259], ["list", 0.3144006268494245], ["int", 0.12590361362481292], ["Dict[str, str]", 0.09206054595312028], ["bool", 0.09151972602591649]]}}], "name": "TestAwsLinks", "q_name": "TestAwsLinks", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[40, 0], [41, 49]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_full_qualname", "params": {"cls": ""}, "params_descr": {"cls": ""}, "params_occur": {"cls": [["cls", "__module__", "cls", "__qualname__"]]}, "params_p": {"args": [], "cls": [["type", 0.6085766621820106], ["Type", 0.0526834948120591], ["Callable", 0.047468686716303506], ["bool", 0.043879894289533594], ["Dict[str, Any]", 0.043879894289533594]], "kwargs": []}, "q_name": "_full_qualname", "ret_exprs": ["return f\"{cls.__module__}.{cls.__qualname__}\""], "ret_type": "builtins.str", "ret_type_p": [["str", 0.9235627668351503], ["bool", 0.07643723316484975]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[163, 0], [166, 107]], "fn_var_ln": {"emr_client": [[164, 4], [164, 14]]}, "fn_var_occur": {"emr_client": [["emr_client", "MagicMock"], ["emr_client", "describe_cluster", "return_value", "cluster_info"], ["get_log_uri", "cluster", "None", "emr_client", "emr_client", "job_flow_id", "expected_uri"]]}, "name": "test_get_log_uri", "params": {"cluster_info": "", "expected_uri": ""}, "params_descr": {"cluster_info": "", "expected_uri": ""}, "params_occur": {"cluster_info": [["emr_client", "describe_cluster", "return_value", "cluster_info"]], "expected_uri": [["get_log_uri", "cluster", "None", "emr_client", "emr_client", "job_flow_id", "expected_uri"]]}, "params_p": {"args": [], "cluster_info": [["str", 0.39488284878298086], ["List[str]", 0.11134241702576707]], "expected_uri": [["Dict[str, str]", 0.11116425473301274], ["bool", 0.08995264736826189]], "kwargs": []}, "q_name": "test_get_log_uri", "ret_exprs": [], "ret_type": "", "variables": {"emr_client": ""}, "variables_p": {"emr_client": []}}], "imports": ["__future__", "annotations", "operator", "itemgetter", "unittest", "mock", "MagicMock", "pytest", "airflow", "providers", "amazon", "aws", "links", "batch", "BatchJobDefinitionLink", "BatchJobDetailsLink", "BatchJobQueueLink", "airflow", "providers", "amazon", "aws", "links", "emr", "EmrClusterLink", "get_log_uri", "airflow", "providers", "amazon", "aws", "links", "glue", "GlueJobRunDetailsLink", "airflow", "providers", "amazon", "aws", "links", "logs", "CloudWatchEventsLink", "airflow", "serialization", "serialized_objects", "SerializedDAG"], "mod_var_ln": {"AWS_DOMAIN": [[37, 0], [37, 10]], "AWS_LINKS": [[46, 0], [46, 9]], "AWS_PARTITION": [[36, 0], [36, 13]], "REGION_NAME": [[35, 0], [35, 11]], "TASK_ID": [[34, 0], [34, 7]]}, "mod_var_occur": {"AWS_DOMAIN": [["AWS_LINKS", "BatchJobDefinitionLink", "AWS_DOMAIN", "REGION_NAME", "BatchJobDetailsLink", "AWS_DOMAIN", "REGION_NAME", "BatchJobQueueLink", "AWS_DOMAIN", "REGION_NAME", "EmrClusterLink", "AWS_DOMAIN", "REGION_NAME", "CloudWatchEventsLink", "AWS_DOMAIN", "GlueJobRunDetailsLink", "AWS_DOMAIN", "REGION_NAME"]], "AWS_LINKS": [], "AWS_PARTITION": [["extra_link_class", "persist", "context", "mock_context", "operator", "task", "region_name", "REGION_NAME", "aws_partition", "AWS_PARTITION", "extra_link_kwargs"]], "REGION_NAME": [["AWS_LINKS", "BatchJobDefinitionLink", "AWS_DOMAIN", "REGION_NAME", "BatchJobDetailsLink", "AWS_DOMAIN", "REGION_NAME", "BatchJobQueueLink", "AWS_DOMAIN", "REGION_NAME", "EmrClusterLink", "AWS_DOMAIN", "REGION_NAME", "CloudWatchEventsLink", "AWS_DOMAIN", "GlueJobRunDetailsLink", "AWS_DOMAIN", "REGION_NAME"], ["extra_link_class", "persist", "context", "mock_context", "operator", "task", "region_name", "REGION_NAME", "aws_partition", "AWS_PARTITION", "extra_link_kwargs"]], "TASK_ID": [["create_task_and_ti_of_op_with_extra_link", "extra_link_class", "dag_id", "task_id", "TASK_ID"], ["_", "ti", "create_task_and_ti_of_op_with_extra_link", "extra_link_class", "dag_id", "task_id", "TASK_ID"], ["deserialized_task", "deserialized_dag", "task_dict", "TASK_ID"], ["task", "ti", "create_task_and_ti_of_op_with_extra_link", "extra_link_class", "dag_id", "task_id", "TASK_ID"], ["deserialized_task", "deserialized_dag", "task_dict", "TASK_ID"]]}, "no_types_annot": {"D": 1, "I": 0, "U": 36}, "session_id": "6ju6nMY4OX33kwEjf6yWr8695iuKLVaSxUYfMbexYEE", "set": null, "tc": [false, null], "type_annot_cove": 0.03, "typed_seq": "", "untyped_seq": "", "variables": {"AWS_DOMAIN": "", "AWS_LINKS": "", "AWS_PARTITION": "", "REGION_NAME": "", "TASK_ID": ""}, "variables_p": {"AWS_DOMAIN": [["mock.MagicMock", 0.11881289319761297], ["List[Tuple[str, int, int]]", 0.0961436219127067], ["defaultdict", 0.08940998513438332]], "AWS_LINKS": [["float", 0.2207916759017844], ["Optional[Dict[str, Any]]", 0.11278321874674449], ["Type[Dict[str, Any]]", 0.11278321874674449]], "AWS_PARTITION": [["List[List[int]]", 0.26582898997183185], ["Dict[str, Union[Any, Any, str]]", 0.19102495377060916], ["List[str]", 0.10822330932945792], ["str", 0.09300231535036053]], "REGION_NAME": [["str", 0.9304375141170613], ["List[str]", 0.06956248588293872]], "TASK_ID": [["str", 0.19898677489056332], ["Dict[str, int]", 0.10613516169093477], ["Dict[int, str]", 0.10033650928599482], ["int", 0.09928752176192038], ["Pattern[str]", 0.09195188428523797]]}}}