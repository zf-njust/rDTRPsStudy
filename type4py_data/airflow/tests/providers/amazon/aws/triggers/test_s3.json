{"error": null, "response": {"classes": [{"cls_lc": [[29, 0], [77, 39]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": "Asserts that the TaskStateTrigger correctly serializes its arguments", "long_descr": "and classpath.", "ret": null}, "fn_lc": [[30, 4], [48, 9]], "fn_var_ln": {"classpath": [[38, 8], [38, 17]], "kwargs": [[38, 19], [38, 25]], "trigger": [[35, 8], [35, 15]]}, "fn_var_occur": {"classpath": [["classpath", "kwargs", "trigger", "serialize"]], "kwargs": [["classpath", "kwargs", "trigger", "serialize"], ["kwargs", "True", "False"]], "trigger": [["trigger", "S3KeyTrigger", "bucket_key", "bucket_name", "wildcard_match", "True"], ["classpath", "kwargs", "trigger", "serialize"]]}, "name": "test_serialization", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestS3KeyTrigger.test_serialization", "ret_exprs": [], "ret_type": "", "variables": {"classpath": "", "kwargs": "", "trigger": ""}, "variables_p": {"classpath": [["Set[str]", 0.4999999999750701], ["int", 0.49999999996228883], ["Dict[str, Union[int, str]]", 1.582796261262258e-11], ["List[str]", 1.3730011143514454e-11], ["str", 1.0971499556494418e-11], ["bool", 1.0865339793385232e-11]], "kwargs": [["str", 0.32252598361883505], ["List[Tuple[float, float]]", 0.1953022269777374], ["deque[Any]", 0.0976511134888687]], "trigger": [["bool", 0.2083638151649731], ["dict", 0.20732121046668062], ["List[str]", 0.19010534509378613], ["Dict[str, Union[Any, Any, Any]]", 0.10222562048392729], ["Dict[str, Any]", 0.10201533378906218], ["Tuple[Any, Literal]", 0.09560174201046395]]}}, {"docstring": {"func": "Test if the task is run is in triggerr successfully.", "long_descr": null, "ret": null}, "fn_lc": [[52, 4], [62, 39]], "fn_var_ln": {"task": [[58, 8], [58, 12]], "trigger": [[57, 8], [57, 15]]}, "fn_var_occur": {"task": [["task", "asyncio", "create_task", "trigger", "run", "__anext__"], ["task", "done", "True"]], "trigger": [["trigger", "S3KeyTrigger", "bucket_key", "bucket_name"], ["task", "asyncio", "create_task", "trigger", "run", "__anext__"]]}, "name": "test_run_success", "params": {"mock_client": "", "self": ""}, "params_descr": {"mock_client": "", "self": ""}, "params_occur": {"mock_client": [["mock_client", "return_value", "check_key", "return_value", "True"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_client": [], "self": []}, "q_name": "TestS3KeyTrigger.test_run_success", "ret_exprs": [], "ret_type": "", "variables": {"task": "", "trigger": ""}, "variables_p": {"task": [["RuntimeError", 0.09683070525385769]], "trigger": [["dict", 0.5109437015569903], ["int", 0.1021639188066673], ["set", 0.0956248462893094], ["Type[List[Any]]", 0.0893205416768102]]}}, {"docstring": {"func": "Test if the task is run is in trigger successfully and set check_key to return false.", "long_descr": null, "ret": null}, "fn_lc": [[67, 4], [77, 39]], "fn_var_ln": {"return_value": [[71, 8], [71, 41]], "task": [[73, 8], [73, 12]], "trigger": [[72, 8], [72, 15]]}, "fn_var_occur": {"return_value": [["mock_check_key_async", "return_value", "False"]], "task": [["task", "asyncio", "create_task", "trigger", "run", "__anext__"], ["task", "done", "False"]], "trigger": [["trigger", "S3KeyTrigger", "bucket_key", "bucket_name"], ["task", "asyncio", "create_task", "trigger", "run", "__anext__"]]}, "name": "test_run_pending", "params": {"mock_check_key_async": "", "mock_client": "", "self": ""}, "params_descr": {"mock_check_key_async": "", "mock_client": "", "self": ""}, "params_occur": {"mock_check_key_async": [["mock_check_key_async", "return_value", "False"]], "mock_client": [], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_check_key_async": [], "mock_client": [["mock.Mock", 0.44488789191787337], ["List[T]", 0.06566299022713078]], "self": []}, "q_name": "TestS3KeyTrigger.test_run_pending", "ret_exprs": [], "ret_type": "", "variables": {"return_value": "", "task": "", "trigger": ""}, "variables_p": {"return_value": [["list", 0.19114465828570787], ["List[str]", 0.11851637653036558], ["Optional[bytes]", 0.11241319843435624], ["int", 0.1040944372278519], ["str", 0.0853491305186248], ["Tuple[int, int]", 0.08213081058644273]], "task": [["asyncio.tasks.Task[None]", 0.19643276539820578], ["List[str]", 0.11367958078351113], ["Dict[str, int]", 0.09946648513600341], ["asyncio.tasks.Task[Any]", 0.0829218957480618]], "trigger": [["dict", 0.5109437015569903], ["int", 0.1021639188066673], ["set", 0.0956248462893094], ["Type[List[Any]]", 0.0893205416768102]]}}], "name": "TestS3KeyTrigger", "q_name": "TestS3KeyTrigger", "variables": {}, "variables_p": {}}, {"cls_lc": [[80, 0], [156, 39]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": "Asserts that the S3KeysUnchangedTrigger correctly serializes its arguments", "long_descr": "and classpath.", "ret": null}, "fn_lc": [[81, 4], [109, 9]], "fn_var_ln": {"classpath": [[94, 8], [94, 17]], "kwargs": [[94, 19], [94, 25]], "trigger": [[86, 8], [86, 15]]}, "fn_var_occur": {"classpath": [["classpath", "kwargs", "trigger", "serialize"]], "kwargs": [["classpath", "kwargs", "trigger", "serialize"], ["kwargs", "set", "True", "None", "None"]], "trigger": [["trigger", "S3KeysUnchangedTrigger", "bucket_name", "prefix", "inactivity_period", "min_objects", "inactivity_seconds", "previous_objects", "None"], ["classpath", "kwargs", "trigger", "serialize"]]}, "name": "test_serialization", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestS3KeysUnchangedTrigger.test_serialization", "ret_exprs": [], "ret_type": "", "variables": {"classpath": "", "kwargs": "", "trigger": ""}, "variables_p": {"classpath": [["Set[str]", 0.4999999999750701], ["int", 0.49999999996228883], ["Dict[str, Union[int, str]]", 1.582796261262258e-11], ["List[str]", 1.3730011143514454e-11], ["str", 1.0971499556494418e-11], ["bool", 1.0865339793385232e-11]], "kwargs": [["List[str]", 0.12358689361828123], ["str", 0.11302186775622278], ["list", 0.0938148331489625], ["List[Union[Any, Any]]", 0.08975168525001923], ["Dict[str, List[Any]]", 0.0881596958091459]], "trigger": [["Dict[str, Any]", 0.1972436659714946], ["list", 0.10350156951653236], ["Dict[str, str]", 0.10193545298978868], ["\"OrderedDict[str, float]\"", 0.09788596037640172]]}}, {"docstring": {"func": "Test if the task is run in trigger successfully.", "long_descr": null, "ret": null}, "fn_lc": [[113, 4], [122, 43]], "fn_var_ln": {"task": [[118, 12], [118, 16]], "trigger": [[116, 8], [116, 15]]}, "fn_var_occur": {"task": [["task", "asyncio", "create_task", "trigger", "run", "__anext__"], ["task", "done", "True"]], "trigger": [["trigger", "S3KeysUnchangedTrigger", "bucket_name", "prefix"], ["task", "asyncio", "create_task", "trigger", "run", "__anext__"]]}, "name": "test_run_wait", "params": {"mock_client": "", "self": ""}, "params_descr": {"mock_client": "", "self": ""}, "params_occur": {"mock_client": [["mock_client", "return_value", "check_key", "return_value", "True"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_client": [], "self": []}, "q_name": "TestS3KeysUnchangedTrigger.test_run_wait", "ret_exprs": [], "ret_type": "", "variables": {"task": "", "trigger": ""}, "variables_p": {"task": [["RuntimeError", 0.09683070525385769]], "trigger": [["bytes", 0.1839065018060036], ["cmk.base.api.agent_based.type_defs.SNMPSectionPlugin", 0.10379395717978349]]}}, {"docstring": {"func": "Test if the S3KeysUnchangedTrigger raises Value error for negative inactivity_period.", "long_descr": null, "ret": null}, "fn_lc": [[124, 4], [129, 100]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_run_raise_value_error", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestS3KeysUnchangedTrigger.test_run_raise_value_error", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Test if the task is run in triggerer successfully.", "long_descr": null, "ret": null}, "fn_lc": [[134, 4], [142, 60]], "fn_var_ln": {"actual": [[141, 8], [141, 14]], "generator": [[140, 8], [140, 17]], "return_value": [[138, 8], [138, 43]], "trigger": [[139, 8], [139, 15]]}, "fn_var_occur": {"actual": [["actual", "generator", "asend", "None"], ["TriggerEvent", "actual"]], "generator": [["generator", "trigger", "run"], ["actual", "generator", "asend", "None"]], "return_value": [["mock_is_keys_unchanged", "return_value"]], "trigger": [["trigger", "S3KeysUnchangedTrigger", "bucket_name", "prefix"], ["generator", "trigger", "run"]]}, "name": "test_run_success", "params": {"mock_client": "", "mock_is_keys_unchanged": "", "self": ""}, "params_descr": {"mock_client": "", "mock_is_keys_unchanged": "", "self": ""}, "params_occur": {"mock_client": [], "mock_is_keys_unchanged": [["mock_is_keys_unchanged", "return_value"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_client": [["str", 0.08184017459215473], ["mock.Mock", 0.07505612009733557]], "mock_is_keys_unchanged": [["bool", 0.09461210342820434]], "self": []}, "q_name": "TestS3KeysUnchangedTrigger.test_run_success", "ret_exprs": [], "ret_type": "", "variables": {"actual": "", "generator": "", "return_value": "", "trigger": ""}, "variables_p": {"actual": [["int", 0.19412407945911686], ["Tuple[Any, Any, Any, Any, Any, Any, Any]", 0.09850073403783119], ["Dict[str, float]", 0.08348205718629689], ["List[int]", 0.08277127376192583], ["Optional[str]", 0.07748136730496737]], "generator": [["kornia.augmentation.base._BasicAugmentationBase", 0.16174662751959534], ["Union[Literal, Literal]", 0.12016314415089882]], "return_value": [["Set[str]", 0.30366912690229053], ["str", 0.21302713659203265], ["Dict[str, Union[Any, Any, Any, Any, Any, Any, Any, Any, Any, Any, Any, Any]]", 0.1210933983189645], ["dict", 0.09646199141460683], ["Dict[str, int]", 0.09070842868161327], ["List[str]", 0.08824361987569977], ["List[Tuple[Any, Any, Any]]", 0.08679629821479243]], "trigger": [["str", 0.5040799770841506], ["Pattern[Any]", 0.20163199083366026], ["List[str]", 0.20163199083366026]]}}, {"docstring": {"func": "Test if the task is run in triggerer successfully.", "long_descr": null, "ret": null}, "fn_lc": [[147, 4], [156, 39]], "fn_var_ln": {"return_value": [[149, 8], [149, 43]], "task": [[151, 8], [151, 12]], "trigger": [[150, 8], [150, 15]]}, "fn_var_occur": {"return_value": [["mock_is_keys_unchanged", "return_value", "datetime", "now"]], "task": [["task", "asyncio", "create_task", "trigger", "run", "__anext__"], ["task", "done", "False"]], "trigger": [["trigger", "S3KeysUnchangedTrigger", "bucket_name", "prefix"], ["task", "asyncio", "create_task", "trigger", "run", "__anext__"]]}, "name": "test_run_pending", "params": {"mock_client": "", "mock_is_keys_unchanged": "", "self": ""}, "params_descr": {"mock_client": "", "mock_is_keys_unchanged": "", "self": ""}, "params_occur": {"mock_client": [], "mock_is_keys_unchanged": [["mock_is_keys_unchanged", "return_value", "datetime", "now"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_client": [["str", 0.08184017459215473], ["mock.Mock", 0.07505612009733557]], "mock_is_keys_unchanged": [], "self": []}, "q_name": "TestS3KeysUnchangedTrigger.test_run_pending", "ret_exprs": [], "ret_type": "", "variables": {"return_value": "", "task": "", "trigger": ""}, "variables_p": {"return_value": [["datetime.timedelta", 0.10306030565543346], ["dict", 0.10261755877142884], ["Iterator[Any]", 0.09734459522191224], ["Type[int]", 0.0967952935027879], ["Dict[str, Union[None, int, str]]", 0.09217064801463809]], "task": [["asyncio.tasks.Task[None]", 0.19643276539820578], ["List[str]", 0.11367958078351113], ["Dict[str, int]", 0.09946648513600341], ["asyncio.tasks.Task[Any]", 0.0829218957480618]], "trigger": [["bytes", 0.1839065018060036], ["cmk.base.api.agent_based.type_defs.SNMPSectionPlugin", 0.10379395717978349]]}}], "name": "TestS3KeysUnchangedTrigger", "q_name": "TestS3KeysUnchangedTrigger", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "asyncio", "datetime", "datetime", "unittest", "mock", "async_mock", "pytest", "airflow", "providers", "amazon", "aws", "triggers", "s3", "S3KeysUnchangedTrigger", "S3KeyTrigger", "airflow", "triggers", "base", "TriggerEvent"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 36}, "session_id": "ktIVcGFt23sLUprWDjEeyUX-6EAJnVdiXoSheIjUJA4", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}