{"error": null, "response": {"classes": [{"cls_lc": [[52, 0], [222, 53]], "cls_var_ln": {"_config": [[54, 4], [54, 11]]}, "cls_var_occur": {"_config": []}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[69, 4], [86, 39]], "fn_var_ln": {"args": [[70, 8], [70, 12]], "emr_client_mock": [[73, 8], [73, 28]], "mock_context": [[86, 8], [86, 25]], "operator": [[74, 8], [74, 21]]}, "fn_var_occur": {"args": [["args", "DEFAULT_DATE"], ["self", "operator", "EmrCreateJobFlowOperator", "task_id", "TASK_ID", "aws_conn_id", "emr_conn_id", "region_name", "dag", "DAG", "TEST_DAG_ID", "default_args", "args", "template_searchpath", "TEMPLATE_SEARCHPATH", "template_undefined", "StrictUndefined"]], "emr_client_mock": [["self", "emr_client_mock", "MagicMock"]], "mock_context": [["self", "mock_context", "MagicMock"]], "operator": [["self", "operator", "EmrCreateJobFlowOperator", "task_id", "TASK_ID", "aws_conn_id", "emr_conn_id", "region_name", "dag", "DAG", "TEST_DAG_ID", "default_args", "args", "template_searchpath", "TEMPLATE_SEARCHPATH", "template_undefined", "StrictUndefined"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "emr_client_mock", "MagicMock"], ["self", "operator", "EmrCreateJobFlowOperator", "task_id", "TASK_ID", "aws_conn_id", "emr_conn_id", "region_name", "dag", "DAG", "TEST_DAG_ID", "default_args", "args", "template_searchpath", "TEMPLATE_SEARCHPATH", "template_undefined", "StrictUndefined"], ["self", "mock_context", "MagicMock"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestEmrCreateJobFlowOperator.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"args": "", "emr_client_mock": "", "mock_context": "", "operator": ""}, "variables_p": {"args": [["raiden.utils.Any", 0.3112520522575083], ["dict", 0.12499801057594552], ["Dict[str, Any]", 0.09655046205769079], ["khetha.models.Task", 0.09636517590695796], ["List[Dict[str, Any]]", 0.09465103330426826]], "emr_client_mock": [["unittesmock.MagicMock", 0.4862237851862007], ["mock.MagicMock", 0.2052601952937343]], "mock_context": [["tests.components.vera.common.ComponentData", 0.11099880987101933], ["Dict[str, int]", 0.10827742468965228], ["Dict[str, Type[Any]]", 0.092502009924624], ["set", 0.09222767770824636], ["Optional[bytes]", 0.09007199865408189], ["list", 0.0893498879151881]], "operator": [["str", 0.6637015942910709], ["dict", 0.13591363786414765], ["datetime.datetime.timedelta", 0.10019238392239063], ["datetime.datetime.datetime", 0.10019238392239063]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[88, 4], [91, 60]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_init", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "operator", "aws_conn_id"], ["self", "operator", "emr_conn_id"], ["self", "operator", "region_name"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestEmrCreateJobFlowOperator.test_init", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[93, 4], [119, 64]], "fn_var_ln": {"dag_run": [[97, 8], [97, 18]], "expected_args": [[100, 8], [100, 21]], "ti": [[96, 8], [96, 10]]}, "fn_var_occur": {"dag_run": [["dag_run", "DagRun", "dag_id", "self", "operator", "dag_id", "execution_date", "DEFAULT_DATE", "run_id"], ["ti", "dag_run", "dag_run"]], "expected_args": [["expected_args", "DEFAULT_DATE", "timedelta", "days", "strftime", "DEFAULT_DATE", "strftime"], ["self", "operator", "job_flow_overrides", "expected_args"]], "ti": [["ti", "TaskInstance", "task", "self", "operator"], ["ti", "dag_run", "dag_run"], ["ti", "render_templates"]]}, "name": "test_render_template", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "operator", "job_flow_overrides", "self", "_config"], ["dag_run", "DagRun", "dag_id", "self", "operator", "dag_id", "execution_date", "DEFAULT_DATE", "run_id"], ["ti", "TaskInstance", "task", "self", "operator"], ["self", "operator", "job_flow_overrides", "expected_args"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestEmrCreateJobFlowOperator.test_render_template", "ret_exprs": [], "ret_type": "", "variables": {"dag_run": "", "expected_args": "", "ti": ""}, "variables_p": {"dag_run": [["list", 0.11391641750737683], ["magic.models.card.Card", 0.09633586064890037], ["int", 0.09600538718347126], ["deque[Any]", 0.08932516801490888]], "expected_args": [["datetime.timedelta", 0.4776290549987753], ["float", 0.11543186001610545], ["int", 0.10511697035409728], ["defaultdict", 0.0954110533110159]], "ti": [["list", 0.31982448811970576], ["Dict[str, str]", 0.19137430990242937], ["dict", 0.18091329480444132], ["List[str]", 0.11274299789131012], ["Tuple[Literal, Literal, Literal, Literal]", 0.08893550675245214]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[122, 4], [162, 64]], "fn_var_ln": {"boto3_session_mock": [[134, 8], [134, 26]], "dag_run": [[128, 8], [128, 18]], "emr_session_mock": [[132, 8], [132, 24]], "expected_args": [[143, 8], [143, 21]], "return_value": [[140, 12], [140, 40]], "ti": [[127, 8], [127, 10]]}, "fn_var_occur": {"boto3_session_mock": [["boto3_session_mock", "MagicMock", "return_value", "emr_session_mock"], ["patch", "boto3_session_mock"]], "dag_run": [["dag_run", "DagRun", "dag_id", "self", "operator", "dag_id", "execution_date", "DEFAULT_DATE", "run_id"], ["ti", "dag_run", "dag_run"]], "emr_session_mock": [["emr_session_mock", "MagicMock"], ["emr_session_mock", "client", "return_value", "self", "emr_client_mock"], ["boto3_session_mock", "MagicMock", "return_value", "emr_session_mock"]], "expected_args": [["self", "operator", "job_flow_overrides", "expected_args"]], "return_value": [["self", "emr_client_mock", "run_job_flow", "return_value", "RUN_JOB_FLOW_SUCCESS_RETURN"], ["emr_session_mock", "client", "return_value", "self", "emr_client_mock"], ["boto3_session_mock", "MagicMock", "return_value", "emr_session_mock"], ["mock_isinstance", "return_value", "True"]], "ti": [["ti", "TaskInstance", "task", "self", "operator"], ["ti", "dag_run", "dag_run"], ["ti", "render_templates"]]}, "name": "test_render_template_from_file", "params": {"_": "", "self": ""}, "params_descr": {"_": "", "self": ""}, "params_occur": {"_": [], "self": [["self", "operator", "job_flow_overrides"], ["self", "operator", "params"], ["dag_run", "DagRun", "dag_id", "self", "operator", "dag_id", "execution_date", "DEFAULT_DATE", "run_id"], ["ti", "TaskInstance", "task", "self", "operator"], ["self", "emr_client_mock", "run_job_flow", "return_value", "RUN_JOB_FLOW_SUCCESS_RETURN"], ["emr_session_mock", "client", "return_value", "self", "emr_client_mock"], ["self", "operator", "execute", "self", "mock_context"], ["self", "operator", "job_flow_overrides", "expected_args"]]}, "params_p": {"_": [["Generator", 0.17083286590983648]], "args": [], "kwargs": [], "self": []}, "q_name": "TestEmrCreateJobFlowOperator.test_render_template_from_file", "ret_exprs": [], "ret_type": "", "variables": {"boto3_session_mock": "", "dag_run": "", "emr_session_mock": "", "expected_args": "", "return_value": "", "ti": ""}, "variables_p": {"boto3_session_mock": [["mock.Mock", 0.3182662530929859], ["unittesmock.MagicMock", 0.20139692413462165]], "dag_run": [["list", 0.11391641750737683], ["magic.models.card.Card", 0.09633586064890037], ["int", 0.09600538718347126], ["deque[Any]", 0.08932516801490888]], "emr_session_mock": [["unittesmock.MagicMock", 0.6487409956874789]], "expected_args": [["int", 0.7301056946442006], ["bytes", 0.0868803373984392], ["Tuple[Any, Any]", 0.08311590529191404]], "return_value": [["List[Union[Any, Any]]", 0.5003755024348164], ["str", 0.23168816465833952], ["dict", 0.09784381830089656], ["Dict[str, Dict[str, Any]]", 0.08858669146280562], ["float", 0.08150582314314195]], "ti": [["list", 0.31982448811970576], ["Dict[str, str]", 0.19137430990242937], ["dict", 0.18091329480444132], ["List[str]", 0.11274299789131012], ["Tuple[Literal, Literal, Literal, Literal]", 0.08893550675245214]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[165, 4], [177, 74]], "fn_var_ln": {"boto3_session_mock": [[171, 8], [171, 26]], "emr_session_mock": [[169, 8], [169, 24]], "return_value": [[176, 12], [176, 40]]}, "fn_var_occur": {"boto3_session_mock": [["boto3_session_mock", "MagicMock", "return_value", "emr_session_mock"], ["patch", "boto3_session_mock"]], "emr_session_mock": [["emr_session_mock", "MagicMock"], ["emr_session_mock", "client", "return_value", "self", "emr_client_mock"], ["boto3_session_mock", "MagicMock", "return_value", "emr_session_mock"]], "return_value": [["self", "emr_client_mock", "run_job_flow", "return_value", "RUN_JOB_FLOW_SUCCESS_RETURN"], ["emr_session_mock", "client", "return_value", "self", "emr_client_mock"], ["boto3_session_mock", "MagicMock", "return_value", "emr_session_mock"], ["mock_isinstance", "return_value", "True"]]}, "name": "test_execute_returns_job_id", "params": {"_": "", "self": ""}, "params_descr": {"_": "", "self": ""}, "params_occur": {"_": [], "self": [["self", "emr_client_mock", "run_job_flow", "return_value", "RUN_JOB_FLOW_SUCCESS_RETURN"], ["emr_session_mock", "client", "return_value", "self", "emr_client_mock"], ["self", "operator", "execute", "self", "mock_context", "JOB_FLOW_ID"]]}, "params_p": {"_": [["tests.basilisp.helpers.CompileFn", 0.5280730099808789], ["tests.setup.SetupTest", 0.061958796902335356]], "args": [], "kwargs": [], "self": []}, "q_name": "TestEmrCreateJobFlowOperator.test_execute_returns_job_id", "ret_exprs": [], "ret_type": "", "variables": {"boto3_session_mock": "", "emr_session_mock": "", "return_value": ""}, "variables_p": {"boto3_session_mock": [["mock.Mock", 0.3182662530929859], ["unittesmock.MagicMock", 0.20139692413462165]], "emr_session_mock": [["unittesmock.MagicMock", 0.6487409956874789]], "return_value": [["List[Union[Any, Any]]", 0.5003755024348164], ["str", 0.23168816465833952], ["dict", 0.09784381830089656], ["Dict[str, Dict[str, Any]]", 0.08858669146280562], ["float", 0.08150582314314195]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[182, 4], [197, 72]], "fn_var_ln": {"boto3_session_mock": [[188, 8], [188, 26]], "emr_session_mock": [[186, 8], [186, 24]], "return_value": [[194, 12], [194, 40]]}, "fn_var_occur": {"boto3_session_mock": [["boto3_session_mock", "MagicMock", "return_value", "emr_session_mock"], ["patch", "boto3_session_mock"]], "emr_session_mock": [["emr_session_mock", "MagicMock"], ["emr_session_mock", "client", "return_value", "self", "emr_client_mock"], ["boto3_session_mock", "MagicMock", "return_value", "emr_session_mock"]], "return_value": [["self", "emr_client_mock", "run_job_flow", "return_value", "RUN_JOB_FLOW_SUCCESS_RETURN"], ["emr_session_mock", "client", "return_value", "self", "emr_client_mock"], ["boto3_session_mock", "MagicMock", "return_value", "emr_session_mock"], ["mock_isinstance", "return_value", "True"]]}, "name": "test_execute_with_wait", "params": {"_": "", "mock_waiter": "", "self": ""}, "params_descr": {"_": "", "mock_waiter": "", "self": ""}, "params_occur": {"_": [], "mock_waiter": [["mock_waiter", "assert_called_once_with", "mock", "ANY", "ClusterId", "JOB_FLOW_ID", "WaiterConfig", "mock", "ANY"], ["assert_expected_waiter_type", "mock_waiter"]], "self": [["self", "emr_client_mock", "run_job_flow", "return_value", "RUN_JOB_FLOW_SUCCESS_RETURN"], ["emr_session_mock", "client", "return_value", "self", "emr_client_mock"], ["self", "operator", "wait_for_completion", "True"], ["self", "operator", "execute", "self", "mock_context", "JOB_FLOW_ID"]]}, "params_p": {"_": [["mock.Mock", 0.7777777782457801]], "args": [], "kwargs": [], "mock_waiter": [["unittesmock.MagicMock", 0.825783124139775]], "self": []}, "q_name": "TestEmrCreateJobFlowOperator.test_execute_with_wait", "ret_exprs": [], "ret_type": "", "variables": {"boto3_session_mock": "", "emr_session_mock": "", "return_value": ""}, "variables_p": {"boto3_session_mock": [["mock.Mock", 0.3182662530929859], ["unittesmock.MagicMock", 0.20139692413462165]], "emr_session_mock": [["unittesmock.MagicMock", 0.6487409956874789]], "return_value": [["List[Union[Any, Any]]", 0.5003755024348164], ["str", 0.23168816465833952], ["dict", 0.09784381830089656], ["Dict[str, Dict[str, Any]]", 0.08858669146280562], ["float", 0.08150582314314195]]}}, {"docstring": {"func": "Test to make sure that the operator raises a TaskDeferred exception", "long_descr": "if run in deferrable mode.", "ret": null}, "fn_lc": [[200, 4], [222, 53]], "fn_var_ln": {"boto3_session_mock": [[210, 8], [210, 26]], "emr_session_mock": [[208, 8], [208, 24]], "return_value": [[216, 12], [216, 40]]}, "fn_var_occur": {"boto3_session_mock": [["boto3_session_mock", "MagicMock", "return_value", "emr_session_mock"], ["patch", "boto3_session_mock"]], "emr_session_mock": [["emr_session_mock", "MagicMock"], ["emr_session_mock", "client", "return_value", "self", "emr_client_mock"], ["boto3_session_mock", "MagicMock", "return_value", "emr_session_mock"]], "return_value": [["self", "emr_client_mock", "run_job_flow", "return_value", "RUN_JOB_FLOW_SUCCESS_RETURN"], ["emr_session_mock", "client", "return_value", "self", "emr_client_mock"], ["boto3_session_mock", "MagicMock", "return_value", "emr_session_mock"], ["mock_isinstance", "return_value", "True"]]}, "name": "test_create_job_flow_deferrable", "params": {"_": "", "self": ""}, "params_descr": {"_": "", "self": ""}, "params_occur": {"_": [], "self": [["self", "emr_client_mock", "run_job_flow", "return_value", "RUN_JOB_FLOW_SUCCESS_RETURN"], ["emr_session_mock", "client", "return_value", "self", "emr_client_mock"], ["self", "operator", "deferrable", "True"], ["self", "operator", "execute", "self", "mock_context"]]}, "params_p": {"_": [["tests.basilisp.helpers.CompileFn", 0.8828618993639907], ["tests.setup.SetupTest", 0.035140799606531055]], "args": [], "kwargs": [], "self": []}, "q_name": "TestEmrCreateJobFlowOperator.test_create_job_flow_deferrable", "ret_exprs": [], "ret_type": "", "variables": {"boto3_session_mock": "", "emr_session_mock": "", "return_value": ""}, "variables_p": {"boto3_session_mock": [["mock.Mock", 0.3182662530929859], ["unittesmock.MagicMock", 0.20139692413462165]], "emr_session_mock": [["unittesmock.MagicMock", 0.6487409956874789]], "return_value": [["List[Union[Any, Any]]", 0.5003755024348164], ["str", 0.23168816465833952], ["dict", 0.09784381830089656], ["Dict[str, Dict[str, Any]]", 0.08858669146280562], ["float", 0.08150582314314195]]}}], "name": "TestEmrCreateJobFlowOperator", "q_name": "TestEmrCreateJobFlowOperator", "variables": {"_config": ""}, "variables_p": {"_config": [["str", 0.4], ["Tuple[str]", 0.2], ["Optional[Dict[str, Any]]", 0.1], ["Tuple[str, str]", 0.1], ["dict", 0.1]]}}], "funcs": [], "imports": ["__future__", "annotations", "os", "datetime", "timedelta", "unittest", "mock", "unittest", "mock", "MagicMock", "patch", "pytest", "botocore", "waiter", "Waiter", "jinja2", "StrictUndefined", "airflow", "exceptions", "TaskDeferred", "airflow", "models", "DAG", "DagRun", "TaskInstance", "airflow", "providers", "amazon", "aws", "hooks", "s3", "S3Hook", "airflow", "providers", "amazon", "aws", "operators", "emr", "EmrCreateJobFlowOperator", "airflow", "providers", "amazon", "aws", "triggers", "emr", "EmrCreateJobFlowTrigger", "airflow", "utils", "timezone", "tests", "providers", "amazon", "aws", "utils", "test_waiter", "assert_expected_waiter_type", "tests", "test_utils", "AIRFLOW_MAIN_FOLDER"], "mod_var_ln": {"DEFAULT_DATE": [[42, 0], [42, 12]], "JOB_FLOW_ID": [[44, 0], [44, 11]], "RUN_JOB_FLOW_SUCCESS_RETURN": [[45, 0], [45, 27]], "TASK_ID": [[38, 0], [38, 7]], "TEMPLATE_SEARCHPATH": [[47, 0], [47, 19]], "TEST_DAG_ID": [[40, 0], [40, 11]]}, "mod_var_occur": {"DEFAULT_DATE": [["args", "DEFAULT_DATE"], ["dag_run", "DagRun", "dag_id", "self", "operator", "dag_id", "execution_date", "DEFAULT_DATE", "run_id"], ["expected_args", "DEFAULT_DATE", "timedelta", "days", "strftime", "DEFAULT_DATE", "strftime"], ["dag_run", "DagRun", "dag_id", "self", "operator", "dag_id", "execution_date", "DEFAULT_DATE", "run_id"]], "JOB_FLOW_ID": [["RUN_JOB_FLOW_SUCCESS_RETURN", "JOB_FLOW_ID"], ["self", "operator", "execute", "self", "mock_context", "JOB_FLOW_ID"], ["self", "operator", "execute", "self", "mock_context", "JOB_FLOW_ID"], ["mock_waiter", "assert_called_once_with", "mock", "ANY", "ClusterId", "JOB_FLOW_ID", "WaiterConfig", "mock", "ANY"]], "RUN_JOB_FLOW_SUCCESS_RETURN": [["self", "emr_client_mock", "run_job_flow", "return_value", "RUN_JOB_FLOW_SUCCESS_RETURN"], ["self", "emr_client_mock", "run_job_flow", "return_value", "RUN_JOB_FLOW_SUCCESS_RETURN"], ["self", "emr_client_mock", "run_job_flow", "return_value", "RUN_JOB_FLOW_SUCCESS_RETURN"], ["self", "emr_client_mock", "run_job_flow", "return_value", "RUN_JOB_FLOW_SUCCESS_RETURN"]], "TASK_ID": [["self", "operator", "EmrCreateJobFlowOperator", "task_id", "TASK_ID", "aws_conn_id", "emr_conn_id", "region_name", "dag", "DAG", "TEST_DAG_ID", "default_args", "args", "template_searchpath", "TEMPLATE_SEARCHPATH", "template_undefined", "StrictUndefined"]], "TEMPLATE_SEARCHPATH": [["self", "operator", "EmrCreateJobFlowOperator", "task_id", "TASK_ID", "aws_conn_id", "emr_conn_id", "region_name", "dag", "DAG", "TEST_DAG_ID", "default_args", "args", "template_searchpath", "TEMPLATE_SEARCHPATH", "template_undefined", "StrictUndefined"]], "TEST_DAG_ID": [["self", "operator", "EmrCreateJobFlowOperator", "task_id", "TASK_ID", "aws_conn_id", "emr_conn_id", "region_name", "dag", "DAG", "TEST_DAG_ID", "default_args", "args", "template_searchpath", "TEMPLATE_SEARCHPATH", "template_undefined", "StrictUndefined"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 41}, "session_id": "RjDYCNCcBVE2sLVn7nEJPtVY7MTtb1urJ8PBbWrI6GE", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"DEFAULT_DATE": "", "JOB_FLOW_ID": "", "RUN_JOB_FLOW_SUCCESS_RETURN": "", "TASK_ID": "", "TEMPLATE_SEARCHPATH": "", "TEST_DAG_ID": ""}, "variables_p": {"DEFAULT_DATE": [["datetime.date.time.timedelta", 0.3110082663172021], ["datetime.datetime", 0.19483058588090252], ["str", 0.19363578309282814], ["byceps.services.board.models.posting.Posting", 0.09189779719987676]], "JOB_FLOW_ID": [["str", 0.17216035962299447], ["set", 0.12033764921711022], ["int", 0.11004806522471985], ["dict", 0.10593861057734494], ["deeplearning.ml4pl.models.checkpoints.CheckpointReference", 0.08897421635500186]], "RUN_JOB_FLOW_SUCCESS_RETURN": [["int", 0.3608011429361419], ["Type[tuple]", 0.2599065586882465], ["bool", 0.152060691656344], ["float", 0.09949230409551224]], "TASK_ID": [["str", 0.8157403473908793], ["int", 0.18425965260912086]], "TEMPLATE_SEARCHPATH": [["str", 0.8969803497337702], ["List[float]", 0.10301965026622999]], "TEST_DAG_ID": [["str", 0.6886732808462518], ["int", 0.0977126975545843]]}}}