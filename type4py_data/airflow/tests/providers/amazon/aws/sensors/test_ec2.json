{"error": null, "response": {"classes": [{"cls_lc": [[28, 0], [147, 51]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[29, 4], [41, 56]], "fn_var_ln": {"ec2_operator": [[30, 8], [30, 20]]}, "fn_var_occur": {"ec2_operator": [["ec2_operator", "EC2InstanceStateSensor", "task_id", "target_state", "instance_id", "aws_conn_id", "region_name"], ["ec2_operator", "task_id"], ["ec2_operator", "target_state"], ["ec2_operator", "instance_id"], ["ec2_operator", "aws_conn_id"], ["ec2_operator", "region_name"]]}, "name": "test_init", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestEC2InstanceStateSensor.test_init", "ret_exprs": [], "ret_type": "", "variables": {"ec2_operator": ""}, "variables_p": {"ec2_operator": [["str", 0.26758722143076996]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[43, 4], [52, 36]], "fn_var_ln": {"invalid_target_state": [[44, 8], [44, 28]], "msg": [[51, 8], [51, 11]]}, "fn_var_occur": {"invalid_target_state": [["EC2InstanceStateSensor", "task_id", "target_state", "invalid_target_state", "instance_id"], ["msg", "invalid_target_state"]], "msg": [["msg", "invalid_target_state"], ["str", "ctx", "value", "msg"]]}, "name": "test_init_invalid_target_state", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestEC2InstanceStateSensor.test_init_invalid_target_state", "ret_exprs": [], "ret_type": "", "variables": {"invalid_target_state": "", "msg": ""}, "variables_p": {"invalid_target_state": [["int", 0.3504408223632355], ["Dict[str, object]", 0.10071903308226657], ["list", 0.0762291562947768]], "msg": [["Pattern[str]", 0.7369384895939947], ["Set[str]", 0.1739364872639776], ["Dict[str, Dict[str, str]]", 0.0891250231420279]]}}, {"docstring": {"func": "Create Instance and return instance id.", "long_descr": null, "ret": null}, "fn_lc": [[55, 4], [66, 53]], "fn_var_ln": {"conn": [[57, 8], [57, 12]], "ec2_client": [[61, 12], [61, 22]], "images": [[64, 8], [64, 14]], "response": [[65, 8], [65, 16]]}, "fn_var_occur": {"conn": [["conn", "hook", "get_conn"], ["ec2_client", "conn", "meta", "client"], ["ec2_client", "conn"]], "ec2_client": [["ec2_client", "conn", "meta", "client"], ["ec2_client", "conn"], ["images", "ec2_client", "describe_images"], ["response", "ec2_client", "run_instances", "MaxCount", "MinCount", "ImageId", "images"]], "images": [["images", "ec2_client", "describe_images"], ["response", "ec2_client", "run_instances", "MaxCount", "MinCount", "ImageId", "images"]], "response": [["response", "ec2_client", "run_instances", "MaxCount", "MinCount", "ImageId", "images"]]}, "name": "_create_instance", "params": {"cls": "", "hook": "airflow.providers.amazon.aws.hooks.ec2.EC2Hook"}, "params_descr": {"cls": "", "hook": ""}, "params_occur": {"cls": [], "hook": [["conn", "hook", "get_conn"]]}, "params_p": {"args": [], "cls": [["Type[T]", 0.49999999986383403], ["Type[tuple]", 0.24999999990047805], ["int", 1.2575586883032127e-10], ["Dict[str, str]", 7.690825122560896e-11], ["Dict[str, bool]", 6.966782563674139e-11], ["str", 6.287793441516063e-11]], "hook": [["str", 0.3330220073464122], ["Optional[str]", 0.205602252708925], ["Optional[bool]", 0.11020984213348883]], "kwargs": [], "self": []}, "q_name": "TestEC2InstanceStateSensor._create_instance", "ret_exprs": ["return response[\"Instances\"][0][\"InstanceId\"]"], "ret_type": "", "ret_type_p": [["bool", 0.3061626860428882], ["str", 0.2047502206589803], ["Dict[str, str]", 0.1145719456642888], ["dict", 0.09207901479543591]], "variables": {"conn": "", "ec2_client": "", "images": "", "response": ""}, "variables_p": {"conn": [["int", 0.0898761833115854]], "ec2_client": [], "images": [["int", 0.5898522682595357], ["str", 0.13724825266515672], ["bytes", 0.09070899496623587], ["List[str]", 0.08955645169372134]], "response": [["int", 0.29058606058009384], ["List[List[int]]", 0.21350085096416807]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[69, 4], [87, 38]], "fn_var_ln": {"ec2_hook": [[71, 8], [71, 16]], "instance_id": [[72, 8], [72, 19]], "start_sensor": [[77, 8], [77, 20]]}, "fn_var_occur": {"ec2_hook": [["ec2_hook", "EC2Hook"], ["instance_id", "self", "_create_instance", "ec2_hook"], ["ec2_hook", "get_instance", "instance_id", "instance_id", "stop"], ["ec2_hook", "get_instance", "instance_id", "instance_id", "start"]], "instance_id": [["instance_id", "self", "_create_instance", "ec2_hook"], ["ec2_hook", "get_instance", "instance_id", "instance_id", "stop"], ["start_sensor", "EC2InstanceStateSensor", "task_id", "target_state", "instance_id", "instance_id"], ["ec2_hook", "get_instance", "instance_id", "instance_id", "start"]], "start_sensor": [["start_sensor", "EC2InstanceStateSensor", "task_id", "target_state", "instance_id", "instance_id"], ["start_sensor", "poke", "None"], ["start_sensor", "poke", "None"]]}, "name": "test_running", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["instance_id", "self", "_create_instance", "ec2_hook"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestEC2InstanceStateSensor.test_running", "ret_exprs": [], "ret_type": "", "variables": {"ec2_hook": "", "instance_id": "", "start_sensor": ""}, "variables_p": {"ec2_hook": [], "instance_id": [["int", 0.21212128749675432], ["list", 0.06755741599116569], ["List[int]", 0.0651156509818604]], "start_sensor": [["int", 0.19277931719652328], ["Optional[str]", 0.1899631645458741], ["List[str]", 0.12112370433485065], ["str", 0.09498158227293706], ["Optional[List[int]]", 0.09498158227293706]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[90, 4], [108, 37]], "fn_var_ln": {"ec2_hook": [[92, 8], [92, 16]], "instance_id": [[93, 8], [93, 19]], "stop_sensor": [[98, 8], [98, 19]]}, "fn_var_occur": {"ec2_hook": [["ec2_hook", "EC2Hook"], ["instance_id", "self", "_create_instance", "ec2_hook"], ["ec2_hook", "get_instance", "instance_id", "instance_id", "start"], ["ec2_hook", "get_instance", "instance_id", "instance_id", "stop"]], "instance_id": [["instance_id", "self", "_create_instance", "ec2_hook"], ["ec2_hook", "get_instance", "instance_id", "instance_id", "start"], ["stop_sensor", "EC2InstanceStateSensor", "task_id", "target_state", "instance_id", "instance_id"], ["ec2_hook", "get_instance", "instance_id", "instance_id", "stop"]], "stop_sensor": [["stop_sensor", "EC2InstanceStateSensor", "task_id", "target_state", "instance_id", "instance_id"], ["stop_sensor", "poke", "None"], ["stop_sensor", "poke", "None"]]}, "name": "test_stopped", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["instance_id", "self", "_create_instance", "ec2_hook"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestEC2InstanceStateSensor.test_stopped", "ret_exprs": [], "ret_type": "", "variables": {"ec2_hook": "", "instance_id": "", "stop_sensor": ""}, "variables_p": {"ec2_hook": [["str", 0.2926800434474512]], "instance_id": [["int", 0.26801629033647933], ["List[int]", 0.10595438243913793], ["list", 0.08417336758765848]], "stop_sensor": [["str", 0.3609257422586971], ["List[dict]", 0.16455549083216975], ["dict", 0.09243436603423189], ["int", 0.08827356786175544]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[111, 4], [129, 37]], "fn_var_ln": {"ec2_hook": [[113, 8], [113, 16]], "instance_id": [[114, 8], [114, 19]], "stop_sensor": [[119, 8], [119, 19]]}, "fn_var_occur": {"ec2_hook": [["ec2_hook", "EC2Hook"], ["instance_id", "self", "_create_instance", "ec2_hook"], ["ec2_hook", "get_instance", "instance_id", "instance_id", "start"], ["ec2_hook", "get_instance", "instance_id", "instance_id", "terminate"]], "instance_id": [["instance_id", "self", "_create_instance", "ec2_hook"], ["ec2_hook", "get_instance", "instance_id", "instance_id", "start"], ["stop_sensor", "EC2InstanceStateSensor", "task_id", "target_state", "instance_id", "instance_id"], ["ec2_hook", "get_instance", "instance_id", "instance_id", "terminate"]], "stop_sensor": [["stop_sensor", "EC2InstanceStateSensor", "task_id", "target_state", "instance_id", "instance_id"], ["stop_sensor", "poke", "None"], ["stop_sensor", "poke", "None"]]}, "name": "test_terminated", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["instance_id", "self", "_create_instance", "ec2_hook"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestEC2InstanceStateSensor.test_terminated", "ret_exprs": [], "ret_type": "", "variables": {"ec2_hook": "", "instance_id": "", "stop_sensor": ""}, "variables_p": {"ec2_hook": [["str", 0.2926800434474512]], "instance_id": [["int", 0.26801629033647933], ["List[int]", 0.10595438243913793], ["list", 0.08417336758765848]], "stop_sensor": [["str", 0.3609257422586971], ["List[dict]", 0.16455549083216975], ["dict", 0.09243436603423189], ["int", 0.08827356786175544]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[132, 4], [147, 51]], "fn_var_ln": {"deferrable_sensor": [[140, 8], [140, 25]], "ec2_hook": [[134, 8], [134, 16]], "instance_id": [[135, 8], [135, 19]]}, "fn_var_occur": {"deferrable_sensor": [["deferrable_sensor", "EC2InstanceStateSensor", "task_id", "target_state", "instance_id", "instance_id", "deferrable", "True"], ["deferrable_sensor", "execute", "context", "None"]], "ec2_hook": [["ec2_hook", "EC2Hook"], ["instance_id", "self", "_create_instance", "ec2_hook"], ["ec2_hook", "get_instance", "instance_id", "instance_id", "start"]], "instance_id": [["instance_id", "self", "_create_instance", "ec2_hook"], ["ec2_hook", "get_instance", "instance_id", "instance_id", "start"], ["deferrable_sensor", "EC2InstanceStateSensor", "task_id", "target_state", "instance_id", "instance_id", "deferrable", "True"]]}, "name": "test_deferrable", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["instance_id", "self", "_create_instance", "ec2_hook"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestEC2InstanceStateSensor.test_deferrable", "ret_exprs": [], "ret_type": "", "variables": {"deferrable_sensor": "", "ec2_hook": "", "instance_id": ""}, "variables_p": {"deferrable_sensor": [["str", 0.3192994448033842], ["Dict[str, str]", 0.13875229934136593], ["List[dict]", 0.11754334756800806]], "ec2_hook": [["str", 0.10656400213810309]], "instance_id": [["int", 0.26801629033647933], ["List[int]", 0.10595438243913793], ["list", 0.08417336758765848]]}}], "name": "TestEC2InstanceStateSensor", "q_name": "TestEC2InstanceStateSensor", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "pytest", "moto", "mock_ec2", "airflow", "exceptions", "TaskDeferred", "airflow", "providers", "amazon", "aws", "hooks", "ec2", "EC2Hook", "airflow", "providers", "amazon", "aws", "sensors", "ec2", "EC2InstanceStateSensor"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 1, "I": 0, "U": 27}, "session_id": "T0EMhdELFdp9CZlYC3_anmxUUpuWelsLmb1OoQdIcQI", "set": null, "tc": [false, null], "type_annot_cove": 0.04, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}