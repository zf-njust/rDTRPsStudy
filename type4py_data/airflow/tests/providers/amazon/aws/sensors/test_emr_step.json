{"error": null, "response": {"classes": [{"cls_lc": [[148, 0], [250, 107]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[149, 4], [163, 74]], "fn_var_ln": {"boto3_session_mock": [[163, 8], [163, 31]], "emr_client_mock": [[150, 8], [150, 28]], "mock_emr_session": [[159, 8], [159, 24]], "sensor": [[151, 8], [151, 19]]}, "fn_var_occur": {"boto3_session_mock": [["self", "boto3_session_mock", "MagicMock", "return_value", "mock_emr_session"]], "emr_client_mock": [["self", "emr_client_mock", "MagicMock"], ["mock_emr_session", "client", "return_value", "self", "emr_client_mock"]], "mock_emr_session": [["mock_emr_session", "MagicMock"], ["mock_emr_session", "client", "return_value", "self", "emr_client_mock"], ["self", "boto3_session_mock", "MagicMock", "return_value", "mock_emr_session"]], "sensor": [["self", "sensor", "EmrStepSensor", "task_id", "poke_interval", "job_flow_id", "step_id", "aws_conn_id"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "emr_client_mock", "MagicMock"], ["self", "sensor", "EmrStepSensor", "task_id", "poke_interval", "job_flow_id", "step_id", "aws_conn_id"], ["mock_emr_session", "client", "return_value", "self", "emr_client_mock"], ["self", "boto3_session_mock", "MagicMock", "return_value", "mock_emr_session"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestEmrStepSensor.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"boto3_session_mock": "", "emr_client_mock": "", "mock_emr_session": "", "sensor": ""}, "variables_p": {"boto3_session_mock": [["str", 0.15915028324519295], ["bool", 0.09194765875208107]], "emr_client_mock": [["unittesmock.MagicMock", 1.0000000000000002]], "mock_emr_session": [["unittesmock.MagicMock", 0.103556387728349]], "sensor": [["str", 0.5570795170899158], ["bool", 0.1400306826717414], ["Dict[str, Any]", 0.08076076708204706], ["int", 0.06676910485981248]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[168, 4], [185, 70]], "fn_var_ln": {"calls": [[181, 12], [181, 17]], "return_value": [[177, 12], [177, 40]]}, "fn_var_occur": {"calls": [["calls", "mock", "call", "ClusterId", "StepId", "mock", "call", "ClusterId", "StepId"], ["self", "emr_client_mock", "describe_step", "assert_has_calls", "calls"]], "return_value": [["mock_isinstance", "return_value", "True"]]}, "name": "test_step_completed", "params": {"_": "", "self": ""}, "params_descr": {"_": "", "self": ""}, "params_occur": {"_": [], "self": [["self", "emr_client_mock", "describe_step", "side_effect", "DESCRIBE_JOB_STEP_RUNNING_RETURN", "DESCRIBE_JOB_STEP_COMPLETED_RETURN"], ["patch", "self", "boto3_session_mock"], ["self", "sensor", "execute", "None"], ["self", "emr_client_mock", "describe_step", "call_count"], ["self", "emr_client_mock", "describe_step", "assert_has_calls", "calls"]]}, "params_p": {"_": [["str", 0.2], ["tests.async_mock.MagicMock", 0.1], ["Mapping[str, Any]", 0.1]], "args": [], "kwargs": [], "self": []}, "q_name": "TestEmrStepSensor.test_step_completed", "ret_exprs": [], "ret_type": "", "variables": {"calls": "", "return_value": ""}, "variables_p": {"calls": [["list", 0.37653083787717245], ["Dict[str, Union[Any, Any, Any]]", 0.1983328632540581], ["int", 0.1452825204078458], ["Dict[str, Union[Any, bool, str]]", 0.09916643162702905], ["dict", 0.08929721058731595]], "return_value": [["Dict[str, Dict[str, Any]]", 0.26291225653730227], ["List[str]", 0.16013167465611008], ["list", 0.1348388570268133], ["Tuple[int, int]", 0.10470838098064467], ["List[Tuple[str, str]]", 0.09792751046162841], ["int", 0.08392310784632474], ["tests.mock.zwave.MockNode", 0.08071803112473593], ["mock._Call", 0.0748401813664404]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[190, 4], [201, 41]], "fn_var_ln": {"return_value": [[199, 12], [199, 40]]}, "fn_var_occur": {"return_value": [["mock_isinstance", "return_value", "True"]]}, "name": "test_step_cancelled", "params": {"_": "", "self": ""}, "params_descr": {"_": "", "self": ""}, "params_occur": {"_": [], "self": [["self", "emr_client_mock", "describe_step", "side_effect", "DESCRIBE_JOB_STEP_RUNNING_RETURN", "DESCRIBE_JOB_STEP_CANCELLED_RETURN"], ["patch", "self", "boto3_session_mock"], ["self", "sensor", "execute", "None"]]}, "params_p": {"_": [["str", 0.2], ["tests.async_mock.MagicMock", 0.1], ["Mapping[str, Any]", 0.1]], "args": [], "kwargs": [], "self": []}, "q_name": "TestEmrStepSensor.test_step_cancelled", "ret_exprs": [], "ret_type": "", "variables": {"return_value": ""}, "variables_p": {"return_value": [["Dict[str, Dict[str, Any]]", 0.26291225653730227], ["List[str]", 0.16013167465611008], ["list", 0.1348388570268133], ["Tuple[int, int]", 0.10470838098064467], ["List[Tuple[str, str]]", 0.09792751046162841], ["int", 0.08392310784632474], ["tests.mock.zwave.MockNode", 0.08071803112473593], ["mock._Call", 0.0748401813664404]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[206, 4], [217, 41]], "fn_var_ln": {"return_value": [[215, 12], [215, 40]]}, "fn_var_occur": {"return_value": [["mock_isinstance", "return_value", "True"]]}, "name": "test_step_failed", "params": {"_": "", "self": ""}, "params_descr": {"_": "", "self": ""}, "params_occur": {"_": [], "self": [["self", "emr_client_mock", "describe_step", "side_effect", "DESCRIBE_JOB_STEP_RUNNING_RETURN", "DESCRIBE_JOB_STEP_FAILED_RETURN"], ["patch", "self", "boto3_session_mock"], ["self", "sensor", "execute", "None"]]}, "params_p": {"_": [["str", 0.2], ["tests.async_mock.MagicMock", 0.1], ["Mapping[str, Any]", 0.1]], "args": [], "kwargs": [], "self": []}, "q_name": "TestEmrStepSensor.test_step_failed", "ret_exprs": [], "ret_type": "", "variables": {"return_value": ""}, "variables_p": {"return_value": [["Dict[str, Dict[str, Any]]", 0.26291225653730227], ["List[str]", 0.16013167465611008], ["list", 0.1348388570268133], ["Tuple[int, int]", 0.10470838098064467], ["List[Tuple[str, str]]", 0.09792751046162841], ["int", 0.08392310784632474], ["tests.mock.zwave.MockNode", 0.08071803112473593], ["mock._Call", 0.0748401813664404]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[222, 4], [233, 41]], "fn_var_ln": {"return_value": [[231, 12], [231, 40]]}, "fn_var_occur": {"return_value": [["mock_isinstance", "return_value", "True"]]}, "name": "test_step_interrupted", "params": {"_": "", "self": ""}, "params_descr": {"_": "", "self": ""}, "params_occur": {"_": [], "self": [["self", "emr_client_mock", "describe_step", "side_effect", "DESCRIBE_JOB_STEP_RUNNING_RETURN", "DESCRIBE_JOB_STEP_INTERRUPTED_RETURN"], ["patch", "self", "boto3_session_mock"], ["self", "sensor", "execute", "None"]]}, "params_p": {"_": [["str", 0.2], ["tests.async_mock.MagicMock", 0.1], ["Mapping[str, Any]", 0.1]], "args": [], "kwargs": [], "self": []}, "q_name": "TestEmrStepSensor.test_step_interrupted", "ret_exprs": [], "ret_type": "", "variables": {"return_value": ""}, "variables_p": {"return_value": [["Dict[str, Dict[str, Any]]", 0.26291225653730227], ["List[str]", 0.16013167465611008], ["list", 0.1348388570268133], ["Tuple[int, int]", 0.10470838098064467], ["List[Tuple[str, str]]", 0.09792751046162841], ["int", 0.08392310784632474], ["tests.mock.zwave.MockNode", 0.08071803112473593], ["mock._Call", 0.0748401813664404]]}}, {"docstring": {"func": "Test the execute method raise TaskDeferred if running sensor in deferrable mode", "long_descr": null, "ret": null}, "fn_lc": [[236, 4], [250, 107]], "fn_var_ln": {"return_value": [[247, 8], [247, 30]], "sensor": [[238, 8], [238, 14]]}, "fn_var_occur": {"return_value": [["mock_poke", "return_value", "False"]], "sensor": [["sensor", "EmrStepSensor", "task_id", "poke_interval", "job_flow_id", "step_id", "aws_conn_id", "deferrable", "True"], ["sensor", "execute", "context", "None"]]}, "name": "test_sensor_defer", "params": {"mock_poke": "", "self": ""}, "params_descr": {"mock_poke": "", "self": ""}, "params_occur": {"mock_poke": [["mock_poke", "return_value", "False"]], "self": []}, "params_p": {"args": [], "kwargs": [], "mock_poke": [["unittesmock.MagicMock", 0.84571916051871], ["mock.MagicMock", 0.07068703030549116]], "self": []}, "q_name": "TestEmrStepSensor.test_sensor_defer", "ret_exprs": [], "ret_type": "", "variables": {"return_value": "", "sensor": ""}, "variables_p": {"return_value": [["str", 0.2225382802760053], ["list", 0.1008211942678676], ["Optional[bytes]", 0.09096854169668826], ["List[Dict[str, Any]]", 0.0665638715400458], ["int", 0.06631782572657322], ["Dict[str, Any]", 0.06357500762424668]], "sensor": [["str", 0.49426628305483356], ["List[str]", 0.13044261063330148], ["List[int]", 0.09440854316507032]]}}], "name": "TestEmrStepSensor", "q_name": "TestEmrStepSensor", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "datetime", "datetime", "unittest", "mock", "unittest", "mock", "MagicMock", "patch", "pytest", "dateutil", "tz", "tzlocal", "airflow", "exceptions", "AirflowException", "TaskDeferred", "airflow", "providers", "amazon", "aws", "hooks", "s3", "S3Hook", "airflow", "providers", "amazon", "aws", "links", "emr", "EmrClusterLink", "EmrLogsLink", "airflow", "providers", "amazon", "aws", "sensors", "emr", "EmrStepSensor", "airflow", "providers", "amazon", "aws", "triggers", "emr", "EmrStepSensorTrigger"], "mod_var_ln": {"DESCRIBE_JOB_STEP_CANCELLED_RETURN": [[55, 0], [55, 34]], "DESCRIBE_JOB_STEP_COMPLETED_RETURN": [[125, 0], [125, 34]], "DESCRIBE_JOB_STEP_FAILED_RETURN": [[77, 0], [77, 31]], "DESCRIBE_JOB_STEP_INTERRUPTED_RETURN": [[103, 0], [103, 36]], "DESCRIBE_JOB_STEP_RUNNING_RETURN": [[33, 0], [33, 32]]}, "mod_var_occur": {"DESCRIBE_JOB_STEP_CANCELLED_RETURN": [["self", "emr_client_mock", "describe_step", "side_effect", "DESCRIBE_JOB_STEP_RUNNING_RETURN", "DESCRIBE_JOB_STEP_CANCELLED_RETURN"]], "DESCRIBE_JOB_STEP_COMPLETED_RETURN": [["self", "emr_client_mock", "describe_step", "side_effect", "DESCRIBE_JOB_STEP_RUNNING_RETURN", "DESCRIBE_JOB_STEP_COMPLETED_RETURN"]], "DESCRIBE_JOB_STEP_FAILED_RETURN": [["self", "emr_client_mock", "describe_step", "side_effect", "DESCRIBE_JOB_STEP_RUNNING_RETURN", "DESCRIBE_JOB_STEP_FAILED_RETURN"]], "DESCRIBE_JOB_STEP_INTERRUPTED_RETURN": [["self", "emr_client_mock", "describe_step", "side_effect", "DESCRIBE_JOB_STEP_RUNNING_RETURN", "DESCRIBE_JOB_STEP_INTERRUPTED_RETURN"]], "DESCRIBE_JOB_STEP_RUNNING_RETURN": [["self", "emr_client_mock", "describe_step", "side_effect", "DESCRIBE_JOB_STEP_RUNNING_RETURN", "DESCRIBE_JOB_STEP_COMPLETED_RETURN"], ["self", "emr_client_mock", "describe_step", "side_effect", "DESCRIBE_JOB_STEP_RUNNING_RETURN", "DESCRIBE_JOB_STEP_CANCELLED_RETURN"], ["self", "emr_client_mock", "describe_step", "side_effect", "DESCRIBE_JOB_STEP_RUNNING_RETURN", "DESCRIBE_JOB_STEP_FAILED_RETURN"], ["self", "emr_client_mock", "describe_step", "side_effect", "DESCRIBE_JOB_STEP_RUNNING_RETURN", "DESCRIBE_JOB_STEP_INTERRUPTED_RETURN"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 27}, "session_id": "at4gG62M1r9UCX7q5mEEUToTwX9PL83ZTihTcUmipAc", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"DESCRIBE_JOB_STEP_CANCELLED_RETURN": "", "DESCRIBE_JOB_STEP_COMPLETED_RETURN": "", "DESCRIBE_JOB_STEP_FAILED_RETURN": "", "DESCRIBE_JOB_STEP_INTERRUPTED_RETURN": "", "DESCRIBE_JOB_STEP_RUNNING_RETURN": ""}, "variables_p": {"DESCRIBE_JOB_STEP_CANCELLED_RETURN": [["int", 1.0]], "DESCRIBE_JOB_STEP_COMPLETED_RETURN": [["int", 1.0]], "DESCRIBE_JOB_STEP_FAILED_RETURN": [["int", 1.0]], "DESCRIBE_JOB_STEP_INTERRUPTED_RETURN": [["int", 1.0]], "DESCRIBE_JOB_STEP_RUNNING_RETURN": [["int", 0.6711010539405855], ["List[str]", 0.1373344400217913], ["float", 0.0994546449339898], ["bool", 0.09210986110363353]]}}}