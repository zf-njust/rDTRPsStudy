{"error": null, "response": {"classes": [{"cls_lc": [[42, 0], [140, 9]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[43, 4], [58, 9]], "fn_var_ln": {"args": [[44, 8], [44, 12]], "dag": [[46, 8], [46, 16]], "mock_operator": [[48, 8], [48, 26]]}, "fn_var_occur": {"args": [["args", "DEFAULT_DATE"], ["self", "dag", "DAG", "default_args", "args"]], "dag": [["self", "dag", "DAG", "default_args", "args"], ["self", "mock_operator", "MongoToS3Operator", "task_id", "TASK_ID", "mongo_conn_id", "MONGO_CONN_ID", "aws_conn_id", "AWS_CONN_ID", "mongo_collection", "MONGO_COLLECTION", "mongo_query", "MONGO_QUERY", "s3_bucket", "S3_BUCKET", "s3_key", "S3_KEY", "dag", "self", "dag", "compression", "COMPRESSION"]], "mock_operator": [["self", "mock_operator", "MongoToS3Operator", "task_id", "TASK_ID", "mongo_conn_id", "MONGO_CONN_ID", "aws_conn_id", "AWS_CONN_ID", "mongo_collection", "MONGO_COLLECTION", "mongo_query", "MONGO_QUERY", "s3_bucket", "S3_BUCKET", "s3_key", "S3_KEY", "dag", "self", "dag", "compression", "COMPRESSION"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "dag", "DAG", "default_args", "args"], ["self", "mock_operator", "MongoToS3Operator", "task_id", "TASK_ID", "mongo_conn_id", "MONGO_CONN_ID", "aws_conn_id", "AWS_CONN_ID", "mongo_collection", "MONGO_COLLECTION", "mongo_query", "MONGO_QUERY", "s3_bucket", "S3_BUCKET", "s3_key", "S3_KEY", "dag", "self", "dag", "compression", "COMPRESSION"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMongoToS3Operator.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"args": "", "dag": "", "mock_operator": ""}, "variables_p": {"args": [["dict", 0.23158237319952885], ["Tuple[Any, Any]", 0.09138477310665434]], "dag": [["int", 0.2757432370878334], ["float", 0.1778009933801881], ["Dict[str, Any]", 0.1134895418670714], ["dict", 0.0862090032946935], ["list", 0.08508176229399832]], "mock_operator": [["str", 0.7986400756569827], ["Dict[str, str]", 0.11842542531821254]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[60, 4], [68, 60]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_init", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "mock_operator", "task_id", "TASK_ID"], ["self", "mock_operator", "mongo_conn_id", "MONGO_CONN_ID"], ["self", "mock_operator", "aws_conn_id", "AWS_CONN_ID"], ["self", "mock_operator", "mongo_collection", "MONGO_COLLECTION"], ["self", "mock_operator", "mongo_query", "MONGO_QUERY"], ["self", "mock_operator", "s3_bucket", "S3_BUCKET"], ["self", "mock_operator", "s3_key", "S3_KEY"], ["self", "mock_operator", "compression", "COMPRESSION"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMongoToS3Operator.test_init", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[70, 4], [76, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_template_field_overrides", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "mock_operator", "template_fields"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMongoToS3Operator.test_template_field_overrides", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[78, 4], [86, 87]], "fn_var_ln": {"dag_run": [[81, 8], [81, 18]], "expected_rendered_template": [[84, 8], [84, 34]], "ti": [[80, 8], [80, 10]]}, "fn_var_occur": {"dag_run": [["dag_run", "DagRun", "dag_id", "self", "mock_operator", "dag_id", "execution_date", "DEFAULT_DATE", "run_id"], ["ti", "dag_run", "dag_run"]], "expected_rendered_template": [["expected_rendered_template", "getattr", "self", "mock_operator"]], "ti": [["ti", "TaskInstance", "task", "self", "mock_operator"], ["ti", "dag_run", "dag_run"], ["ti", "render_templates"]]}, "name": "test_render_template", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["dag_run", "DagRun", "dag_id", "self", "mock_operator", "dag_id", "execution_date", "DEFAULT_DATE", "run_id"], ["ti", "TaskInstance", "task", "self", "mock_operator"], ["expected_rendered_template", "getattr", "self", "mock_operator"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestMongoToS3Operator.test_render_template", "ret_exprs": [], "ret_type": "", "variables": {"dag_run": "", "expected_rendered_template": "", "ti": ""}, "variables_p": {"dag_run": [["list", 0.14537233551118012], ["List[str]", 0.1070798594373678], ["int", 0.10410825440869804]], "expected_rendered_template": [["str", 0.7167346580798694], ["List[str]", 0.08567275052863924]], "ti": [["int", 0.545044864068549], ["float", 0.09305893280864065], ["lists.models.Todo", 0.09247350141389529]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[90, 4], [113, 9]], "fn_var_ln": {"op_stringify": [[106, 8], [106, 20]], "op_transform": [[107, 8], [107, 20]], "operator": [[91, 8], [91, 16]], "s3_doc_str": [[109, 8], [109, 18]]}, "fn_var_occur": {"op_stringify": [["op_stringify", "self", "mock_operator", "_stringify"], ["s3_doc_str", "op_stringify", "op_transform", "MOCK_MONGO_RETURN"]], "op_transform": [["op_transform", "self", "mock_operator", "transform"], ["s3_doc_str", "op_stringify", "op_transform", "MOCK_MONGO_RETURN"]], "operator": [["operator", "self", "mock_operator"], ["operator", "execute", "None"]], "s3_doc_str": [["s3_doc_str", "op_stringify", "op_transform", "MOCK_MONGO_RETURN"], ["mock_s3_hook", "return_value", "load_string", "assert_called_once_with", "string_data", "s3_doc_str", "key", "S3_KEY", "bucket_name", "S3_BUCKET", "replace", "False", "compression", "COMPRESSION"]]}, "name": "test_execute", "params": {"mock_mongo_hook": "", "mock_s3_hook": "", "self": ""}, "params_descr": {"mock_mongo_hook": "", "mock_s3_hook": "", "self": ""}, "params_occur": {"mock_mongo_hook": [["mock_mongo_hook", "return_value", "find", "return_value", "iter", "MOCK_MONGO_RETURN"], ["mock_mongo_hook", "return_value", "find", "assert_called_once_with", "mongo_collection", "MONGO_COLLECTION", "query", "MONGO_QUERY", "find_one", "False", "mongo_db", "None", "projection", "None"]], "mock_s3_hook": [["mock_s3_hook", "return_value", "load_string", "return_value", "True"], ["mock_s3_hook", "return_value", "load_string", "assert_called_once_with", "string_data", "s3_doc_str", "key", "S3_KEY", "bucket_name", "S3_BUCKET", "replace", "False", "compression", "COMPRESSION"]], "self": [["operator", "self", "mock_operator"], ["op_stringify", "self", "mock_operator", "_stringify"], ["op_transform", "self", "mock_operator", "transform"]]}, "params_p": {"args": [], "kwargs": [], "mock_mongo_hook": [["mock.MagicMock", 0.08368569232253284]], "mock_s3_hook": [["mock.MagicMock", 0.09570006215410592]], "self": []}, "q_name": "TestMongoToS3Operator.test_execute", "ret_exprs": [], "ret_type": "", "variables": {"op_stringify": "", "op_transform": "", "operator": "", "s3_doc_str": ""}, "variables_p": {"op_stringify": [["int", 0.4120899682239928], ["Dict[str, Union[float, str]]", 0.23633818989816577], ["pytch.utils.Position", 0.1096699262605525], ["Dict[str, Tuple[str, str]]", 0.08330152584244532]], "op_transform": [["int", 0.4120899682239928], ["Dict[str, Union[float, str]]", 0.23633818989816577], ["pytch.utils.Position", 0.1096699262605525], ["Dict[str, Tuple[str, str]]", 0.08330152584244532]], "operator": [["bool", 0.12803125178216324], ["list", 0.11514899017442026], ["int", 0.0898715394178872], ["Type[Dict[Any, Any]]", 0.08738726663517336]], "s3_doc_str": [["Generator[Any, None, None]", 0.1893690238820042], ["Dict[Any, str]", 0.10152649842555067], ["circle_core.models.cc_info.CcInfo", 0.09717369839349024]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[117, 4], [140, 9]], "fn_var_ln": {"op_stringify": [[133, 8], [133, 20]], "op_transform": [[134, 8], [134, 20]], "operator": [[118, 8], [118, 16]], "s3_doc_str": [[136, 8], [136, 18]]}, "fn_var_occur": {"op_stringify": [["op_stringify", "self", "mock_operator", "_stringify"], ["s3_doc_str", "op_stringify", "op_transform", "MOCK_MONGO_RETURN"]], "op_transform": [["op_transform", "self", "mock_operator", "transform"], ["s3_doc_str", "op_stringify", "op_transform", "MOCK_MONGO_RETURN"]], "operator": [["operator", "self", "mock_operator"], ["operator", "execute", "None"]], "s3_doc_str": [["s3_doc_str", "op_stringify", "op_transform", "MOCK_MONGO_RETURN"], ["mock_s3_hook", "return_value", "load_string", "assert_called_once_with", "string_data", "s3_doc_str", "key", "S3_KEY", "bucket_name", "S3_BUCKET", "replace", "False", "compression"]]}, "name": "test_execute_compress", "params": {"mock_mongo_hook": "", "mock_s3_hook": "", "self": ""}, "params_descr": {"mock_mongo_hook": "", "mock_s3_hook": "", "self": ""}, "params_occur": {"mock_mongo_hook": [["mock_mongo_hook", "return_value", "find", "return_value", "iter", "MOCK_MONGO_RETURN"], ["mock_mongo_hook", "return_value", "find", "assert_called_once_with", "mongo_collection", "MONGO_COLLECTION", "query", "MONGO_QUERY", "find_one", "False", "mongo_db", "None", "projection", "None"]], "mock_s3_hook": [["mock_s3_hook", "return_value", "load_string", "return_value", "True"], ["mock_s3_hook", "return_value", "load_string", "assert_called_once_with", "string_data", "s3_doc_str", "key", "S3_KEY", "bucket_name", "S3_BUCKET", "replace", "False", "compression"]], "self": [["operator", "self", "mock_operator"], ["self", "mock_operator", "compression"], ["op_stringify", "self", "mock_operator", "_stringify"], ["op_transform", "self", "mock_operator", "transform"]]}, "params_p": {"args": [], "kwargs": [], "mock_mongo_hook": [["mock.MagicMock", 0.08368569232253284]], "mock_s3_hook": [["mock.MagicMock", 0.09570006215410592]], "self": []}, "q_name": "TestMongoToS3Operator.test_execute_compress", "ret_exprs": [], "ret_type": "", "variables": {"op_stringify": "", "op_transform": "", "operator": "", "s3_doc_str": ""}, "variables_p": {"op_stringify": [["int", 0.4120899682239928], ["Dict[str, Union[float, str]]", 0.23633818989816577], ["pytch.utils.Position", 0.1096699262605525], ["Dict[str, Tuple[str, str]]", 0.08330152584244532]], "op_transform": [["int", 0.4120899682239928], ["Dict[str, Union[float, str]]", 0.23633818989816577], ["pytch.utils.Position", 0.1096699262605525], ["Dict[str, Tuple[str, str]]", 0.08330152584244532]], "operator": [["bool", 0.12803125178216324], ["list", 0.11514899017442026], ["int", 0.0898715394178872], ["Type[Dict[Any, Any]]", 0.08738726663517336]], "s3_doc_str": [["Generator[Any, None, None]", 0.1893690238820042], ["Dict[Any, str]", 0.10152649842555067], ["circle_core.models.cc_info.CcInfo", 0.09717369839349024]]}}], "name": "TestMongoToS3Operator", "q_name": "TestMongoToS3Operator", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "unittest", "mock", "airflow", "models", "DAG", "DagRun", "TaskInstance", "airflow", "providers", "amazon", "aws", "transfers", "mongo_to_s3", "MongoToS3Operator", "airflow", "utils", "timezone"], "mod_var_ln": {"AWS_CONN_ID": [[28, 0], [28, 11]], "COMPRESSION": [[33, 0], [33, 11]], "DEFAULT_DATE": [[35, 0], [35, 12]], "MOCK_MONGO_RETURN": [[36, 0], [36, 17]], "MONGO_COLLECTION": [[29, 0], [29, 16]], "MONGO_CONN_ID": [[27, 0], [27, 13]], "MONGO_QUERY": [[30, 0], [30, 11]], "S3_BUCKET": [[31, 0], [31, 9]], "S3_KEY": [[32, 0], [32, 6]], "TASK_ID": [[26, 0], [26, 7]]}, "mod_var_occur": {"AWS_CONN_ID": [["self", "mock_operator", "MongoToS3Operator", "task_id", "TASK_ID", "mongo_conn_id", "MONGO_CONN_ID", "aws_conn_id", "AWS_CONN_ID", "mongo_collection", "MONGO_COLLECTION", "mongo_query", "MONGO_QUERY", "s3_bucket", "S3_BUCKET", "s3_key", "S3_KEY", "dag", "self", "dag", "compression", "COMPRESSION"], ["self", "mock_operator", "aws_conn_id", "AWS_CONN_ID"]], "COMPRESSION": [["self", "mock_operator", "MongoToS3Operator", "task_id", "TASK_ID", "mongo_conn_id", "MONGO_CONN_ID", "aws_conn_id", "AWS_CONN_ID", "mongo_collection", "MONGO_COLLECTION", "mongo_query", "MONGO_QUERY", "s3_bucket", "S3_BUCKET", "s3_key", "S3_KEY", "dag", "self", "dag", "compression", "COMPRESSION"], ["self", "mock_operator", "compression", "COMPRESSION"], ["mock_s3_hook", "return_value", "load_string", "assert_called_once_with", "string_data", "s3_doc_str", "key", "S3_KEY", "bucket_name", "S3_BUCKET", "replace", "False", "compression", "COMPRESSION"]], "DEFAULT_DATE": [["args", "DEFAULT_DATE"], ["dag_run", "DagRun", "dag_id", "self", "mock_operator", "dag_id", "execution_date", "DEFAULT_DATE", "run_id"]], "MOCK_MONGO_RETURN": [["mock_mongo_hook", "return_value", "find", "return_value", "iter", "MOCK_MONGO_RETURN"], ["s3_doc_str", "op_stringify", "op_transform", "MOCK_MONGO_RETURN"], ["mock_mongo_hook", "return_value", "find", "return_value", "iter", "MOCK_MONGO_RETURN"], ["s3_doc_str", "op_stringify", "op_transform", "MOCK_MONGO_RETURN"]], "MONGO_COLLECTION": [["self", "mock_operator", "MongoToS3Operator", "task_id", "TASK_ID", "mongo_conn_id", "MONGO_CONN_ID", "aws_conn_id", "AWS_CONN_ID", "mongo_collection", "MONGO_COLLECTION", "mongo_query", "MONGO_QUERY", "s3_bucket", "S3_BUCKET", "s3_key", "S3_KEY", "dag", "self", "dag", "compression", "COMPRESSION"], ["self", "mock_operator", "mongo_collection", "MONGO_COLLECTION"], ["mock_mongo_hook", "return_value", "find", "assert_called_once_with", "mongo_collection", "MONGO_COLLECTION", "query", "MONGO_QUERY", "find_one", "False", "mongo_db", "None", "projection", "None"], ["mock_mongo_hook", "return_value", "find", "assert_called_once_with", "mongo_collection", "MONGO_COLLECTION", "query", "MONGO_QUERY", "find_one", "False", "mongo_db", "None", "projection", "None"]], "MONGO_CONN_ID": [["self", "mock_operator", "MongoToS3Operator", "task_id", "TASK_ID", "mongo_conn_id", "MONGO_CONN_ID", "aws_conn_id", "AWS_CONN_ID", "mongo_collection", "MONGO_COLLECTION", "mongo_query", "MONGO_QUERY", "s3_bucket", "S3_BUCKET", "s3_key", "S3_KEY", "dag", "self", "dag", "compression", "COMPRESSION"], ["self", "mock_operator", "mongo_conn_id", "MONGO_CONN_ID"]], "MONGO_QUERY": [["self", "mock_operator", "MongoToS3Operator", "task_id", "TASK_ID", "mongo_conn_id", "MONGO_CONN_ID", "aws_conn_id", "AWS_CONN_ID", "mongo_collection", "MONGO_COLLECTION", "mongo_query", "MONGO_QUERY", "s3_bucket", "S3_BUCKET", "s3_key", "S3_KEY", "dag", "self", "dag", "compression", "COMPRESSION"], ["self", "mock_operator", "mongo_query", "MONGO_QUERY"], ["mock_mongo_hook", "return_value", "find", "assert_called_once_with", "mongo_collection", "MONGO_COLLECTION", "query", "MONGO_QUERY", "find_one", "False", "mongo_db", "None", "projection", "None"], ["mock_mongo_hook", "return_value", "find", "assert_called_once_with", "mongo_collection", "MONGO_COLLECTION", "query", "MONGO_QUERY", "find_one", "False", "mongo_db", "None", "projection", "None"]], "S3_BUCKET": [["self", "mock_operator", "MongoToS3Operator", "task_id", "TASK_ID", "mongo_conn_id", "MONGO_CONN_ID", "aws_conn_id", "AWS_CONN_ID", "mongo_collection", "MONGO_COLLECTION", "mongo_query", "MONGO_QUERY", "s3_bucket", "S3_BUCKET", "s3_key", "S3_KEY", "dag", "self", "dag", "compression", "COMPRESSION"], ["self", "mock_operator", "s3_bucket", "S3_BUCKET"], ["mock_s3_hook", "return_value", "load_string", "assert_called_once_with", "string_data", "s3_doc_str", "key", "S3_KEY", "bucket_name", "S3_BUCKET", "replace", "False", "compression", "COMPRESSION"], ["mock_s3_hook", "return_value", "load_string", "assert_called_once_with", "string_data", "s3_doc_str", "key", "S3_KEY", "bucket_name", "S3_BUCKET", "replace", "False", "compression"]], "S3_KEY": [["self", "mock_operator", "MongoToS3Operator", "task_id", "TASK_ID", "mongo_conn_id", "MONGO_CONN_ID", "aws_conn_id", "AWS_CONN_ID", "mongo_collection", "MONGO_COLLECTION", "mongo_query", "MONGO_QUERY", "s3_bucket", "S3_BUCKET", "s3_key", "S3_KEY", "dag", "self", "dag", "compression", "COMPRESSION"], ["self", "mock_operator", "s3_key", "S3_KEY"], ["mock_s3_hook", "return_value", "load_string", "assert_called_once_with", "string_data", "s3_doc_str", "key", "S3_KEY", "bucket_name", "S3_BUCKET", "replace", "False", "compression", "COMPRESSION"], ["mock_s3_hook", "return_value", "load_string", "assert_called_once_with", "string_data", "s3_doc_str", "key", "S3_KEY", "bucket_name", "S3_BUCKET", "replace", "False", "compression"]], "TASK_ID": [["self", "mock_operator", "MongoToS3Operator", "task_id", "TASK_ID", "mongo_conn_id", "MONGO_CONN_ID", "aws_conn_id", "AWS_CONN_ID", "mongo_collection", "MONGO_COLLECTION", "mongo_query", "MONGO_QUERY", "s3_bucket", "S3_BUCKET", "s3_key", "S3_KEY", "dag", "self", "dag", "compression", "COMPRESSION"], ["self", "mock_operator", "task_id", "TASK_ID"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 34}, "session_id": "Rz-AmucBeBR30sWTkJOsJsQumNh-xn-u6HsPJBNxc2I", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"AWS_CONN_ID": "", "COMPRESSION": "", "DEFAULT_DATE": "", "MOCK_MONGO_RETURN": "", "MONGO_COLLECTION": "", "MONGO_CONN_ID": "", "MONGO_QUERY": "", "S3_BUCKET": "", "S3_KEY": "", "TASK_ID": ""}, "variables_p": {"AWS_CONN_ID": [["str", 0.41968112441146077], ["int", 0.30748407166593894], ["Set[str]", 0.09265637005036485], ["transfer.models.TopicID", 0.08616662426951675]], "COMPRESSION": [["str", 0.24705484437142178], ["int", 0.19889775777091548], ["Tuple[str, str, str, str, str, str, str]", 0.10976768653585585], ["Dict[Any, str]", 0.09117060932480507], ["List[Dict[str, Any]]", 0.0813587038513138]], "DEFAULT_DATE": [["byceps.services.board.models.posting.Posting", 0.1759352226030394], ["byceps.services.user.transfer.models.User", 0.09165289522676413], ["ultron8.api.models.user.UserCreate", 0.08865817342273374], ["tweeter.models.Tweet", 0.08787690047900193]], "MOCK_MONGO_RETURN": [["int", 0.23487655880468392], ["Dict[str, Union[Any, Any, Any]]", 0.16731900403016448], ["List[Dict[str, Any]]", 0.08286928789504706], ["Dict[str, int]", 0.07595938112804947], ["Dict[str, Dict[str, str]]", 0.0681786414577008], ["List[str]", 0.06587952461863808], ["list", 0.06503893616583113]], "MONGO_COLLECTION": [["str", 0.24705484437142178], ["int", 0.19889775777091548], ["Tuple[str, str, str, str, str, str, str]", 0.10976768653585585], ["Dict[Any, str]", 0.09117060932480507], ["List[Dict[str, Any]]", 0.0813587038513138]], "MONGO_CONN_ID": [["str", 0.18716776711612876]], "MONGO_QUERY": [["str", 0.6031449700161895], ["int", 0.2993815648173219]], "S3_BUCKET": [["str", 0.7912478167522385], ["Optional[str]", 0.11812626604470718], ["Union[Literal, str]", 0.09062591720305431]], "S3_KEY": [["str", 0.8096176697795979], ["int", 0.1903823302204019]], "TASK_ID": [["str", 0.3747426154096954]]}}}