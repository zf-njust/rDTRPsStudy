{"error": null, "response": {"classes": [{"cls_lc": [[41, 0], [67, 58]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": "Simple compatibility test with `airflow.models.connection.Connection`.", "long_descr": null, "ret": null}, "fn_lc": [[43, 4], [67, 58]], "fn_var_ln": {"conn": [[56, 8], [56, 12]], "conn_kwargs": [[45, 8], [45, 19]], "conn_meta": [[57, 8], [57, 17]]}, "fn_var_occur": {"conn": [["conn", "Connection", "conn_kwargs"], ["conn", "conn_id", "conn_meta", "conn_id"], ["conn", "conn_type", "conn_meta", "conn_type"], ["conn", "login", "conn_meta", "login"], ["conn", "password", "conn_meta", "password"], ["conn", "host", "conn_meta", "host"], ["conn", "schema", "conn_meta", "schema"], ["conn", "port", "conn_meta", "port"], ["conn", "extra_dejson", "conn_meta", "extra_dejson"]], "conn_kwargs": [["conn_kwargs", "MOCK_AWS_CONN_ID", "extra"], ["conn", "Connection", "conn_kwargs"], ["conn_meta", "_ConnectionMetadata", "conn_kwargs"]], "conn_meta": [["conn_meta", "_ConnectionMetadata", "conn_kwargs"], ["conn", "conn_id", "conn_meta", "conn_id"], ["conn", "conn_type", "conn_meta", "conn_type"], ["conn", "login", "conn_meta", "login"], ["conn", "password", "conn_meta", "password"], ["conn", "host", "conn_meta", "host"], ["conn", "schema", "conn_meta", "schema"], ["conn", "port", "conn_meta", "port"], ["conn", "extra_dejson", "conn_meta", "extra_dejson"]]}, "name": "test_compat_with_connection", "params": {"extra": "", "self": ""}, "params_descr": {"extra": "", "self": ""}, "params_occur": {"extra": [["conn_kwargs", "MOCK_AWS_CONN_ID", "extra"]], "self": []}, "params_p": {"args": [], "extra": [], "kwargs": [], "self": []}, "q_name": "TestsConnectionMetadata.test_compat_with_connection", "ret_exprs": [], "ret_type": "", "variables": {"conn": "", "conn_kwargs": "", "conn_meta": ""}, "variables_p": {"conn": [["str", 0.41951950624646484], ["List[int]", 0.09470344168735699], ["int", 0.08593288139215907], ["geode.models.common.Address", 0.0859302058117641]], "conn_kwargs": [["str", 0.2986153965140483], ["Dict[str, str]", 0.19031782463101904], ["List[Dict[str, str]]", 0.11437868745739116], ["Dict[str, Any]", 0.10883949186116486], ["Dict[str, Union[Any, Any, Any]]", 0.10636744945246702], ["Dict[Any, str]", 0.09328062979336724]], "conn_meta": [["str", 0.4733791644417393], ["list", 0.08413566461601724]]}}], "name": "TestsConnectionMetadata", "q_name": "TestsConnectionMetadata", "variables": {}, "variables_p": {}}, {"cls_lc": [[70, 0], [531, 53]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[72, 4], [101, 24]], "fn_var_ln": {"mock_conn": [[73, 8], [73, 17]], "wrap_conn": [[82, 8], [82, 17]]}, "fn_var_occur": {"mock_conn": [["mock_conn", "mock_connection_factory", "login", "password", "extra", "extra", "host", "None", "schema", "port"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["wrap_conn", "conn_id", "mock_conn", "conn_id"], ["wrap_conn", "conn_type", "mock_conn", "conn_type"], ["wrap_conn", "login", "mock_conn", "login"], ["wrap_conn", "password", "mock_conn", "password"], ["wrap_conn", "extra_config", "mock_conn", "extra_dejson"], ["wrap_conn", "extra_config", "mock_conn", "extra_dejson"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["wrap_conn", "conn_id", "mock_conn", "conn_id"], ["wrap_conn", "conn_type", "mock_conn", "conn_type"], ["wrap_conn", "login", "mock_conn", "login"], ["wrap_conn", "password", "mock_conn", "password"], ["wrap_conn", "extra_config", "mock_conn", "extra_dejson"], ["wrap_conn", "extra_config", "mock_conn", "extra_dejson"], ["wrap_conn", "extra_config", "wrap_conn", "extra_dejson"], ["wrap_conn", "schema"], ["hasattr", "wrap_conn"], ["hasattr", "wrap_conn"]]}, "name": "test_values_from_connection", "params": {"extra": "", "self": ""}, "params_descr": {"extra": "", "self": ""}, "params_occur": {"extra": [["mock_conn", "mock_connection_factory", "login", "password", "extra", "extra", "host", "None", "schema", "port"]], "self": []}, "params_p": {"args": [], "extra": [], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_values_from_connection", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn": "", "wrap_conn": ""}, "variables_p": {"mock_conn": [["str", 0.38260467407139753], ["int", 0.19615539874486593], ["Dict[str, Union[Any, Any]]", 0.10018374994131446], ["Dict[str, int]", 0.09237714815858117]], "wrap_conn": [["List[str]", 0.11871107246209067], ["int", 0.09591391942114967], ["list", 0.09488370777314334]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[103, 4], [104, 50]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_no_connection", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_no_connection", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[107, 4], [109, 43]], "fn_var_ln": {"wrap_conn": [[108, 8], [108, 17]]}, "fn_var_occur": {"wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_connection_factory", "conn_type", "conn_type"], ["wrap_conn", "conn_type"]]}, "name": "test_expected_aws_connection_type", "params": {"conn_type": "", "self": ""}, "params_descr": {"conn_type": "", "self": ""}, "params_occur": {"conn_type": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_connection_factory", "conn_type", "conn_type"], ["wrap_conn", "conn_type"]], "self": []}, "params_p": {"args": [], "conn_type": [["str", 0.3878724769682238], ["Mapping[str, Any]", 0.09640257619554357], ["dss.config.Replica", 0.09553546097304311]], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_expected_aws_connection_type", "ret_exprs": [], "ret_type": "", "variables": {"wrap_conn": ""}, "variables_p": {"wrap_conn": [["str", 0.36578549718498654], ["List[Dict[str, Any]]", 0.2828357744787796], ["int", 0.1782169737684388], ["dict", 0.08392131607439242]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[112, 4], [116, 51]], "fn_var_ln": {"warning_message": [[113, 8], [113, 23]], "wrap_conn": [[115, 12], [115, 21]]}, "fn_var_occur": {"warning_message": [["warning_message", "conn_type"], ["pytest", "warns", "UserWarning", "match", "warning_message"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_connection_factory", "conn_type", "conn_type"], ["wrap_conn", "conn_type", "conn_type"]]}, "name": "test_unexpected_aws_connection_type", "params": {"conn_type": "", "self": ""}, "params_descr": {"conn_type": "", "self": ""}, "params_occur": {"conn_type": [["warning_message", "conn_type"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_connection_factory", "conn_type", "conn_type"], ["wrap_conn", "conn_type", "conn_type"]], "self": []}, "params_p": {"args": [], "conn_type": [], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_unexpected_aws_connection_type", "ret_exprs": [], "ret_type": "", "variables": {"warning_message": "", "wrap_conn": ""}, "variables_p": {"warning_message": [["Pattern[str]", 0.8939088384880738], ["Pattern[bytes]", 0.1060911615119263]], "wrap_conn": [["str", 0.28797352461762843], ["List[Dict[str, Any]]", 0.25569024516004357], ["bool", 0.20706639032818758], ["dict", 0.0800085546621049]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[119, 4], [126, 51]], "fn_var_ln": {"warning_message": [[120, 8], [120, 23]], "wrap_conn": [[125, 12], [125, 21]]}, "fn_var_occur": {"warning_message": [["pytest", "warns", "AirflowProviderDeprecationWarning", "match", "warning_message"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_connection_factory", "conn_type", "conn_type"], ["wrap_conn", "conn_type", "conn_type"]]}, "name": "test_deprecated_s3_connection_type", "params": {"conn_type": "", "self": ""}, "params_descr": {"conn_type": "", "self": ""}, "params_occur": {"conn_type": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_connection_factory", "conn_type", "conn_type"], ["wrap_conn", "conn_type", "conn_type"]], "self": []}, "params_p": {"args": [], "conn_type": [["dss.config.Replica", 0.29583856835651284], ["str", 0.10172643548993486]], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_deprecated_s3_connection_type", "ret_exprs": [], "ret_type": "", "variables": {"warning_message": "", "wrap_conn": ""}, "variables_p": {"warning_message": [["Pattern[str]", 1.0000000000000002]], "wrap_conn": [["str", 0.28797352461762843], ["List[Dict[str, Any]]", 0.25569024516004357], ["bool", 0.20706639032818758], ["dict", 0.0800085546621049]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[131, 4], [141, 63]], "fn_var_ln": {"mock_conn": [[132, 8], [132, 17]], "wrap_conn": [[138, 8], [138, 17]]}, "fn_var_occur": {"mock_conn": [["mock_conn", "mock_connection_factory", "login", "aws_access_key_id", "password", "aws_secret_access_key", "extra", "aws_session_token", "aws_session_token", "None"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["wrap_conn", "aws_access_key_id", "aws_access_key_id"], ["wrap_conn", "aws_secret_access_key", "aws_secret_access_key"], ["wrap_conn", "aws_session_token", "aws_session_token"]]}, "name": "test_get_credentials_from_login", "params": {"aws_access_key_id": "", "aws_secret_access_key": "", "aws_session_token": "", "self": ""}, "params_descr": {"aws_access_key_id": "", "aws_secret_access_key": "", "aws_session_token": "", "self": ""}, "params_occur": {"aws_access_key_id": [["mock_conn", "mock_connection_factory", "login", "aws_access_key_id", "password", "aws_secret_access_key", "extra", "aws_session_token", "aws_session_token", "None"], ["wrap_conn", "aws_access_key_id", "aws_access_key_id"]], "aws_secret_access_key": [["mock_conn", "mock_connection_factory", "login", "aws_access_key_id", "password", "aws_secret_access_key", "extra", "aws_session_token", "aws_session_token", "None"], ["wrap_conn", "aws_secret_access_key", "aws_secret_access_key"]], "aws_session_token": [["mock_conn", "mock_connection_factory", "login", "aws_access_key_id", "password", "aws_secret_access_key", "extra", "aws_session_token", "aws_session_token", "None"], ["wrap_conn", "aws_session_token", "aws_session_token"]], "self": []}, "params_p": {"args": [], "aws_access_key_id": [["str", 0.9999999999999999]], "aws_secret_access_key": [["str", 0.9999999999999999]], "aws_session_token": [["str", 0.9999999999999999]], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_get_credentials_from_login", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn": "", "wrap_conn": ""}, "variables_p": {"mock_conn": [["str", 0.32598760779802927], ["Dict[str, str]", 0.17723784630601055], ["int", 0.11293514080188137], ["Dict[str, Union[int, str]]", 0.11192262005845506], ["Dict[str, Union[Any, Any]]", 0.09726123393104372], ["Dict[str, Dict[str, str]]", 0.094934229669627], ["Tuple[str]", 0.07972132143495302]], "wrap_conn": [["str", 0.18420602071995157], ["Dict[str, str]", 0.13858678082234965], ["List[str]", 0.12239700540918431], ["float", 0.11680016213173532], ["List[bytes]", 0.0830192929972733]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[146, 4], [158, 63]], "fn_var_ln": {"mock_conn": [[153, 8], [153, 17]], "mock_conn_extra": [[147, 8], [147, 23]], "wrap_conn": [[155, 8], [155, 17]]}, "fn_var_occur": {"mock_conn": [["mock_conn", "mock_connection_factory", "login", "None", "password", "None", "extra", "mock_conn_extra"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"]], "mock_conn_extra": [["mock_conn_extra", "aws_access_key_id", "aws_secret_access_key"], ["mock_conn_extra", "aws_session_token"], ["mock_conn", "mock_connection_factory", "login", "None", "password", "None", "extra", "mock_conn_extra"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["wrap_conn", "aws_access_key_id", "aws_access_key_id"], ["wrap_conn", "aws_secret_access_key", "aws_secret_access_key"], ["wrap_conn", "aws_session_token", "aws_session_token"]]}, "name": "test_get_credentials_from_extra", "params": {"aws_access_key_id": "", "aws_secret_access_key": "", "aws_session_token": "", "self": ""}, "params_descr": {"aws_access_key_id": "", "aws_secret_access_key": "", "aws_session_token": "", "self": ""}, "params_occur": {"aws_access_key_id": [["mock_conn_extra", "aws_access_key_id", "aws_secret_access_key"], ["wrap_conn", "aws_access_key_id", "aws_access_key_id"]], "aws_secret_access_key": [["mock_conn_extra", "aws_access_key_id", "aws_secret_access_key"], ["wrap_conn", "aws_secret_access_key", "aws_secret_access_key"]], "aws_session_token": [["mock_conn_extra", "aws_session_token"], ["wrap_conn", "aws_session_token", "aws_session_token"]], "self": []}, "params_p": {"args": [], "aws_access_key_id": [["str", 0.8027692500439204], ["Dict[str, str]", 0.19723074995607953]], "aws_secret_access_key": [["str", 0.7077289150728266], ["Dict[str, str]", 0.19661090344377927], ["List[Dict[str, str]]", 0.09566018148339421]], "aws_session_token": [["str", 0.8990566101250778], ["Dict[str, str]", 0.10094338987492223]], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_get_credentials_from_extra", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn": "", "mock_conn_extra": "", "wrap_conn": ""}, "variables_p": {"mock_conn": [["str", 0.5820870982278703], ["Dict[str, Union[Any, Any]]", 0.17574381787029172], ["int", 0.10401117145973168]], "mock_conn_extra": [["rotkehlchen.tests.utils.mock.MockResponse", 0.2628559835026949], ["Dict[str, Union[Any, Any]]", 0.253213474555078], ["Dict[str, Dict[str, Any]]", 0.21090399197269313], ["str", 0.1811658804231434], ["Dict[str, List[Any]]", 0.09186066954639062]], "wrap_conn": [["str", 0.18420602071995157], ["Dict[str, str]", 0.13858678082234965], ["List[str]", 0.12239700540918431], ["float", 0.11680016213173532], ["List[bytes]", 0.0830192929972733]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[163, 4], [181, 63]], "fn_var_ln": {"mock_conn": [[173, 8], [173, 17]], "mock_conn_extra": [[166, 8], [166, 23]], "wrap_conn": [[178, 12], [178, 21]]}, "fn_var_occur": {"mock_conn": [["mock_conn", "mock_connection_factory", "login", "None", "password", "None", "extra", "mock_conn_extra"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"]], "mock_conn_extra": [["mock_conn_extra", "aws_access_key_id", "aws_secret_access_key", "aws_session_token"], ["mock_conn", "mock_connection_factory", "login", "None", "password", "None", "extra", "mock_conn_extra"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["wrap_conn", "aws_access_key_id", "aws_access_key_id"], ["wrap_conn", "aws_secret_access_key", "aws_secret_access_key"], ["wrap_conn", "aws_session_token", "aws_session_token"]]}, "name": "test_get_credentials_from_session_kwargs", "params": {"aws_access_key_id": "", "aws_secret_access_key": "", "aws_session_token": "", "self": ""}, "params_descr": {"aws_access_key_id": "", "aws_secret_access_key": "", "aws_session_token": "", "self": ""}, "params_occur": {"aws_access_key_id": [["mock_conn_extra", "aws_access_key_id", "aws_secret_access_key", "aws_session_token"], ["wrap_conn", "aws_access_key_id", "aws_access_key_id"]], "aws_secret_access_key": [["mock_conn_extra", "aws_access_key_id", "aws_secret_access_key", "aws_session_token"], ["wrap_conn", "aws_secret_access_key", "aws_secret_access_key"]], "aws_session_token": [["mock_conn_extra", "aws_access_key_id", "aws_secret_access_key", "aws_session_token"], ["wrap_conn", "aws_session_token", "aws_session_token"]], "self": []}, "params_p": {"args": [], "aws_access_key_id": [["str", 0.7077748504731314], ["Dict[str, str]", 0.19917066770181568], ["requests.models.Response", 0.09305448182505284]], "aws_secret_access_key": [["str", 0.8034089924448788], ["Dict[str, str]", 0.19659100755512104]], "aws_session_token": [["str", 0.7099877530887087], ["Dict[str, str]", 0.19676618338875124], ["requests.models.Response", 0.09324606352253989]], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_get_credentials_from_session_kwargs", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn": "", "mock_conn_extra": "", "wrap_conn": ""}, "variables_p": {"mock_conn": [["str", 0.5820870982278703], ["Dict[str, Union[Any, Any]]", 0.17574381787029172], ["int", 0.10401117145973168]], "mock_conn_extra": [["Dict[str, str]", 0.3904114588497478], ["str", 0.24798079033823256], ["Dict[str, Union[Any, Any]]", 0.17595846164302759], ["List[Dict[str, Any]]", 0.09426416504987736]], "wrap_conn": [["str", 0.18420602071995157], ["Dict[str, str]", 0.13858678082234965], ["List[str]", 0.12239700540918431], ["float", 0.11680016213173532], ["List[bytes]", 0.0830192929972733]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[188, 4], [205, 63]], "fn_var_ln": {"mock_conn": [[199, 8], [199, 17]], "mock_conn_extra": [[192, 8], [192, 23]], "return_value": [[191, 8], [191, 41]], "wrap_conn": [[201, 8], [201, 17]]}, "fn_var_occur": {"mock_conn": [["mock_conn", "mock_connection_factory", "login", "None", "password", "None", "extra", "mock_conn_extra"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"]], "mock_conn_extra": [["mock_conn_extra", "aws_session_token"], ["mock_conn", "mock_connection_factory", "login", "None", "password", "None", "extra", "mock_conn_extra"]], "return_value": [["mock_parse_s3_config", "return_value", "aws_access_key_id", "aws_secret_access_key"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["wrap_conn", "aws_access_key_id", "aws_access_key_id"], ["wrap_conn", "aws_secret_access_key", "aws_secret_access_key"], ["wrap_conn", "aws_session_token", "aws_session_token"]]}, "name": "test_get_credentials_from_s3_config", "params": {"aws_access_key_id": "", "aws_secret_access_key": "", "aws_session_token": "", "mock_parse_s3_config": "", "self": ""}, "params_descr": {"aws_access_key_id": "", "aws_secret_access_key": "", "aws_session_token": "", "mock_parse_s3_config": "", "self": ""}, "params_occur": {"aws_access_key_id": [["mock_parse_s3_config", "return_value", "aws_access_key_id", "aws_secret_access_key"], ["wrap_conn", "aws_access_key_id", "aws_access_key_id"]], "aws_secret_access_key": [["mock_parse_s3_config", "return_value", "aws_access_key_id", "aws_secret_access_key"], ["wrap_conn", "aws_secret_access_key", "aws_secret_access_key"]], "aws_session_token": [["mock_conn_extra", "aws_session_token"], ["wrap_conn", "aws_session_token", "aws_session_token"]], "mock_parse_s3_config": [["mock_parse_s3_config", "return_value", "aws_access_key_id", "aws_secret_access_key"], ["mock_parse_s3_config", "assert_called_once_with"]], "self": []}, "params_p": {"args": [], "aws_access_key_id": [["str", 1.0]], "aws_secret_access_key": [["str", 1.0000000000000002]], "aws_session_token": [["str", 0.5947247190829016], ["bool", 0.11755641399799305]], "kwargs": [], "mock_parse_s3_config": [["str", 1.0000000000000002]], "self": []}, "q_name": "TestAwsConnectionWrapper.test_get_credentials_from_s3_config", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn": "", "mock_conn_extra": "", "return_value": "", "wrap_conn": ""}, "variables_p": {"mock_conn": [["str", 0.5820870982278703], ["Dict[str, Union[Any, Any]]", 0.17574381787029172], ["int", 0.10401117145973168]], "mock_conn_extra": [["str", 0.37201150202914357], ["Dict[str, Union[Any, Any]]", 0.1950071074981417], ["Dict[str, Any]", 0.07783114626884685], ["Dict[str, str]", 0.07751862308039947]], "return_value": [["str", 0.6027327725643324], ["Dict[str, str]", 0.10968090634782668], ["Dict[Any, str]", 0.10057360827855101], ["List[str]", 0.09420607276861846], ["Dict[str, List[Any]]", 0.09280664004067132]], "wrap_conn": [["str", 0.18420602071995157], ["Dict[str, str]", 0.13858678082234965], ["List[str]", 0.12239700540918431], ["float", 0.11680016213173532], ["List[bytes]", 0.0830192929972733]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[212, 4], [242, 57]], "fn_var_ln": {"expected": [[223, 8], [223, 16]], "mock_conn": [[222, 8], [222, 17]], "mock_conn_extra": [[215, 8], [215, 23]], "session_kwargs": [[236, 8], [236, 22]], "wrap_conn": [[235, 12], [235, 21]]}, "fn_var_occur": {"expected": [["expected", "aws_access_key_id"], ["expected", "aws_secret_access_key"], ["expected", "aws_session_token"], ["expected", "profile_name"], ["expected", "region_name"], ["session_kwargs", "expected"], ["wrap_conn", "session_kwargs", "expected"]], "mock_conn": [["mock_conn", "mock_connection_factory", "extra", "mock_conn_extra"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"]], "mock_conn_extra": [["mock_conn_extra", "aws_access_key_id", "aws_secret_access_key", "aws_session_token", "profile_name", "region_name"], ["mock_conn", "mock_connection_factory", "extra", "mock_conn_extra"]], "session_kwargs": [["session_kwargs", "wrap_conn", "session_kwargs"], ["session_kwargs", "expected"], ["wrap_conn", "session_kwargs", "expected"], ["wrap_conn", "session_kwargs", "session_kwargs"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["session_kwargs", "wrap_conn", "session_kwargs"], ["wrap_conn", "session_kwargs", "expected"], ["wrap_conn", "session_kwargs", "session_kwargs"]]}, "name": "test_get_session_kwargs_from_wrapper", "params": {"aws_access_key_id": "", "aws_secret_access_key": "", "aws_session_token": "", "profile_name": "", "region_name": "", "self": ""}, "params_descr": {"aws_access_key_id": "", "aws_secret_access_key": "", "aws_session_token": "", "profile_name": "", "region_name": "", "self": ""}, "params_occur": {"aws_access_key_id": [["mock_conn_extra", "aws_access_key_id", "aws_secret_access_key", "aws_session_token", "profile_name", "region_name"], ["expected", "aws_access_key_id"]], "aws_secret_access_key": [["mock_conn_extra", "aws_access_key_id", "aws_secret_access_key", "aws_session_token", "profile_name", "region_name"], ["expected", "aws_secret_access_key"]], "aws_session_token": [["mock_conn_extra", "aws_access_key_id", "aws_secret_access_key", "aws_session_token", "profile_name", "region_name"], ["expected", "aws_session_token"]], "profile_name": [["mock_conn_extra", "aws_access_key_id", "aws_secret_access_key", "aws_session_token", "profile_name", "region_name"], ["expected", "profile_name"]], "region_name": [["mock_conn_extra", "aws_access_key_id", "aws_secret_access_key", "aws_session_token", "profile_name", "region_name"], ["expected", "region_name"]], "self": []}, "params_p": {"args": [], "aws_access_key_id": [["str", 0.7999843191702305], ["Dict[str, str]", 0.2000156808297695]], "aws_secret_access_key": [["str", 0.7999755936712967], ["Dict[str, str]", 0.20002440632870302]], "aws_session_token": [["str", 0.8003247579426409], ["Dict[str, str]", 0.19967524205735904]], "kwargs": [], "profile_name": [["str", 0.7996950375040879], ["Dict[str, str]", 0.20030496249591215]], "region_name": [["str", 0.7996950375040879], ["Dict[str, str]", 0.20030496249591215]], "self": []}, "q_name": "TestAwsConnectionWrapper.test_get_session_kwargs_from_wrapper", "ret_exprs": [], "ret_type": "", "variables": {"expected": "", "mock_conn": "", "mock_conn_extra": "", "session_kwargs": "", "wrap_conn": ""}, "variables_p": {"expected": [["str", 0.19918124588352415], ["List[Tuple[Any, Any, None]]", 0.17820042636177374], ["bytes", 0.12399264025874308], ["Dict[str, Union[None, int, str]]", 0.1095893886413787], ["Final[Dict[str, Any]]", 0.10886141939830254], ["dict", 0.09720741524054467], ["int", 0.09261793244670283], ["list", 0.09034953176903027]], "mock_conn": [["str", 0.6441354304183228], ["Dict[str, Union[Any, Any]]", 0.16760533848807452]], "mock_conn_extra": [["Dict[str, str]", 0.4345097010591959], ["str", 0.21096563211349145], ["Dict[str, List[Any]]", 0.16421141436144426], ["Dict[Any, str]", 0.11198300161666447]], "session_kwargs": [["int", 0.4435785240579858], ["List[str]", 0.10832538864373084], ["str", 0.0821097628660634]], "wrap_conn": [["dict", 0.0857886383695407], ["List[Dict[str, Any]]", 0.08389843620896142], ["str", 0.08193408844760226]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[249, 4], [278, 41]], "fn_var_ln": {"expected": [[260, 8], [260, 16]], "mock_conn": [[259, 8], [259, 17]], "mock_conn_extra_session_kwargs": [[252, 8], [252, 38]], "session_kwargs": [[277, 8], [277, 22]], "warning_message": [[271, 8], [271, 23]], "wrap_conn": [[276, 12], [276, 21]]}, "fn_var_occur": {"expected": [["expected", "aws_access_key_id"], ["expected", "aws_secret_access_key"], ["expected", "aws_session_token"], ["expected", "profile_name"], ["expected", "region_name"], ["session_kwargs", "expected"]], "mock_conn": [["mock_conn", "mock_connection_factory", "extra", "mock_conn_extra_session_kwargs"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"]], "mock_conn_extra_session_kwargs": [["mock_conn_extra_session_kwargs", "aws_access_key_id", "aws_secret_access_key", "aws_session_token", "profile_name", "region_name"], ["mock_conn", "mock_connection_factory", "extra", "mock_conn_extra_session_kwargs"]], "session_kwargs": [["session_kwargs", "wrap_conn", "session_kwargs"], ["session_kwargs", "expected"]], "warning_message": [["pytest", "warns", "AirflowProviderDeprecationWarning", "match", "warning_message"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["session_kwargs", "wrap_conn", "session_kwargs"]]}, "name": "test_get_session_kwargs_deprecation", "params": {"aws_access_key_id": "", "aws_secret_access_key": "", "aws_session_token": "", "profile_name": "", "region_name": "", "self": ""}, "params_descr": {"aws_access_key_id": "", "aws_secret_access_key": "", "aws_session_token": "", "profile_name": "", "region_name": "", "self": ""}, "params_occur": {"aws_access_key_id": [["mock_conn_extra_session_kwargs", "aws_access_key_id", "aws_secret_access_key", "aws_session_token", "profile_name", "region_name"], ["aws_access_key_id", "aws_secret_access_key"], ["expected", "aws_access_key_id"]], "aws_secret_access_key": [["mock_conn_extra_session_kwargs", "aws_access_key_id", "aws_secret_access_key", "aws_session_token", "profile_name", "region_name"], ["aws_access_key_id", "aws_secret_access_key"], ["expected", "aws_secret_access_key"]], "aws_session_token": [["mock_conn_extra_session_kwargs", "aws_access_key_id", "aws_secret_access_key", "aws_session_token", "profile_name", "region_name"], ["expected", "aws_session_token"]], "profile_name": [["mock_conn_extra_session_kwargs", "aws_access_key_id", "aws_secret_access_key", "aws_session_token", "profile_name", "region_name"], ["expected", "profile_name"]], "region_name": [["mock_conn_extra_session_kwargs", "aws_access_key_id", "aws_secret_access_key", "aws_session_token", "profile_name", "region_name"], ["expected", "region_name"]], "self": []}, "params_p": {"args": [], "aws_access_key_id": [["str", 0.7030089995321552], ["Dict[str, str]", 0.2969910004678448]], "aws_secret_access_key": [["str", 0.7030089995321552], ["Dict[str, str]", 0.2969910004678448]], "aws_session_token": [["str", 0.7110213453069683], ["Dict[str, str]", 0.19831635385548615], ["requests.models.Response", 0.09066230083754576]], "kwargs": [], "profile_name": [["str", 0.7110213453069683], ["Dict[str, str]", 0.19831635385548615], ["requests.models.Response", 0.09066230083754576]], "region_name": [["str", 0.7110213453069683], ["Dict[str, str]", 0.19831635385548615], ["requests.models.Response", 0.09066230083754576]], "self": []}, "q_name": "TestAwsConnectionWrapper.test_get_session_kwargs_deprecation", "ret_exprs": [], "ret_type": "", "variables": {"expected": "", "mock_conn": "", "mock_conn_extra_session_kwargs": "", "session_kwargs": "", "warning_message": "", "wrap_conn": ""}, "variables_p": {"expected": [["str", 0.19918124588352415], ["List[Tuple[Any, Any, None]]", 0.17820042636177374], ["bytes", 0.12399264025874308], ["Dict[str, Union[None, int, str]]", 0.1095893886413787], ["Final[Dict[str, Any]]", 0.10886141939830254], ["dict", 0.09720741524054467], ["int", 0.09261793244670283], ["list", 0.09034953176903027]], "mock_conn": [["str", 0.5719730016626353], ["Dict[str, Union[Any, Any]]", 0.17354655278528683], ["int", 0.07514398107049183]], "mock_conn_extra_session_kwargs": [["str", 0.31769010866059333], ["Dict[str, Any]", 0.2804832943041513], ["Dict[str, str]", 0.11328450230958197], ["Dict[str, bool]", 0.09948489638371877], ["Dict[str, Union[str, Any]]", 0.0934944314347171]], "session_kwargs": [["bool", 0.11124225835393801], ["dict", 0.10673629662557767], ["Type[Dict[str, Any]]", 0.10593028514701366], ["str", 0.0906557862003366]], "warning_message": [["Pattern[str]", 1.0000000000000002]], "wrap_conn": [["str", 0.10261257295937153], ["List[Dict[str, Any]]", 0.0900167067788266]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[289, 4], [297, 95]], "fn_var_ln": {"mock_conn": [[290, 8], [290, 17]], "wrap_conn": [[293, 8], [293, 17]]}, "fn_var_occur": {"mock_conn": [["mock_conn", "mock_connection_factory", "extra", "conn_region_name", "conn_region_name", "None"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn", "region_name", "region_name"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn", "region_name", "region_name"], ["wrap_conn", "region_name", "region_name"], ["wrap_conn", "region_name", "conn_region_name"]]}, "name": "test_get_region_name", "params": {"conn_region_name": "", "region_name": "", "self": ""}, "params_descr": {"conn_region_name": "", "region_name": "", "self": ""}, "params_occur": {"conn_region_name": [["mock_conn", "mock_connection_factory", "extra", "conn_region_name", "conn_region_name", "None"], ["wrap_conn", "region_name", "conn_region_name"]], "region_name": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn", "region_name", "region_name"], ["wrap_conn", "region_name", "region_name"], ["wrap_conn", "region_name", "conn_region_name"]], "self": []}, "params_p": {"args": [], "conn_region_name": [["str", 0.604428807746437]], "kwargs": [], "region_name": [["str", 0.9022352826712451]], "self": []}, "q_name": "TestAwsConnectionWrapper.test_get_region_name", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn": "", "wrap_conn": ""}, "variables_p": {"mock_conn": [["str", 0.7696600136274928], ["int", 0.11610334082622971], ["Dict[str, Union[int, str]]", 0.11423664554627748]], "wrap_conn": [["str", 0.8219957786022729]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[299, 4], [304, 61]], "fn_var_ln": {"mock_conn": [[300, 8], [300, 17]], "warning_message": [[301, 8], [301, 23]], "wrap_conn": [[303, 12], [303, 21]]}, "fn_var_occur": {"mock_conn": [["mock_conn", "mock_connection_factory", "extra"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"]], "warning_message": [["pytest", "warns", "UserWarning", "match", "warning_message"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["wrap_conn", "session_kwargs"]]}, "name": "test_warn_wrong_profile_param_used", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_warn_wrong_profile_param_used", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn": "", "warning_message": "", "wrap_conn": ""}, "variables_p": {"mock_conn": [["str", 0.6522797931463282], ["Dict[str, Union[Any, Any]]", 0.12630492320494743]], "warning_message": [["str", 0.454658800522061], ["List[str]", 0.2788456985013123], ["int", 0.08710269649984069]], "wrap_conn": [["str", 0.2597581724187221], ["List[Dict[str, Any]]", 0.12825415299496776], ["dict", 0.08833108015295299], ["int", 0.08658605747290737]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[317, 4], [333, 89]], "fn_var_ln": {"mock_conn": [[318, 8], [318, 17]], "wrap_conn": [[321, 8], [321, 17]]}, "fn_var_occur": {"mock_conn": [["mock_conn", "mock_connection_factory", "extra", "botocore_config_kwargs", "botocore_config_kwargs", "None"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn", "botocore_config", "botocore_config"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn", "botocore_config", "botocore_config"], ["wrap_conn", "botocore_config", "botocore_config"], ["wrap_conn", "botocore_config", "None"]]}, "name": "test_get_botocore_config", "params": {"botocore_config": "", "botocore_config_kwargs": "", "mock_botocore_config": "", "self": ""}, "params_descr": {"botocore_config": "", "botocore_config_kwargs": "", "mock_botocore_config": "", "self": ""}, "params_occur": {"botocore_config": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn", "botocore_config", "botocore_config"], ["wrap_conn", "botocore_config", "botocore_config"], ["wrap_conn", "botocore_config", "None"]], "botocore_config_kwargs": [["mock_conn", "mock_connection_factory", "extra", "botocore_config_kwargs", "botocore_config_kwargs", "None"], ["botocore_config_kwargs", "get"], ["botocore_config_kwargs", "UNSIGNED"], ["mock", "call", "botocore_config_kwargs", "mock_botocore_config", "mock_calls"]], "mock_botocore_config": [["mock_botocore_config", "assert_not_called"], ["mock_botocore_config", "assert_not_called"], ["mock_botocore_config", "assert_called_once"], ["mock", "call", "botocore_config_kwargs", "mock_botocore_config", "mock_calls"]], "self": []}, "params_p": {"args": [], "botocore_config": [["core.models.MyUser", 0.1800485251123264], ["app.models.dto.ClientInfo", 0.09388489253015478]], "botocore_config_kwargs": [], "kwargs": [], "mock_botocore_config": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_get_botocore_config", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn": "", "wrap_conn": ""}, "variables_p": {"mock_conn": [["str", 0.6498973547130189], ["int", 0.1417763045325582], ["Dict[str, int]", 0.09028678416196259]], "wrap_conn": [["str", 0.1712291179032256]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[344, 4], [358, 49]], "fn_var_ln": {"expected_deprecation_message": [[346, 8], [346, 36]], "mock_conn": [[345, 8], [345, 17]], "wrap_conn": [[352, 12], [352, 21]]}, "fn_var_occur": {"expected_deprecation_message": [["str", "records", "message", "expected_deprecation_message"]], "mock_conn": [["mock_conn", "mock_connection_factory", "extra", "extra"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["wrap_conn", "endpoint_url", "expected"]]}, "name": "test_get_endpoint_url_from_extra", "params": {"expected": "", "extra": "", "self": ""}, "params_descr": {"expected": "", "extra": "", "self": ""}, "params_occur": {"expected": [["wrap_conn", "endpoint_url", "expected"]], "extra": [["mock_conn", "mock_connection_factory", "extra", "extra"], ["extra", "get"]], "self": []}, "params_p": {"args": [], "expected": [["str", 1.0]], "extra": [["str", 0.9999999999999998]], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_get_endpoint_url_from_extra", "ret_exprs": [], "ret_type": "", "variables": {"expected_deprecation_message": "", "mock_conn": "", "wrap_conn": ""}, "variables_p": {"expected_deprecation_message": [["Dict[str, Dict[str, Any]]", 0.22635140650304267], ["List[Tuple[Any, Any, None]]", 0.1920328917312129], ["str", 0.1117781400610894], ["Dict[str, Any]", 0.10322254391315215]], "mock_conn": [["str", 0.5949489077228624], ["Dict[str, Union[Any, Any]]", 0.1452958773751305]], "wrap_conn": [["str", 0.12057153543573491], ["Dict[str, Union[Any, str]]", 0.12057153543573491]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[361, 4], [370, 50]], "fn_var_ln": {"mock_conn": [[362, 8], [362, 17]], "wrap_conn": [[369, 8], [369, 17]]}, "fn_var_occur": {"mock_conn": [["mock_conn", "mock_connection_factory", "extra", "MOCK_ROLE_ARN", "aws_account_id", "aws_iam_role"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["wrap_conn", "role_arn", "MOCK_ROLE_ARN"]]}, "name": "test_get_role_arn", "params": {"aws_account_id": "", "aws_iam_role": "", "self": ""}, "params_descr": {"aws_account_id": "", "aws_iam_role": "", "self": ""}, "params_occur": {"aws_account_id": [["mock_conn", "mock_connection_factory", "extra", "MOCK_ROLE_ARN", "aws_account_id", "aws_iam_role"]], "aws_iam_role": [["mock_conn", "mock_connection_factory", "extra", "MOCK_ROLE_ARN", "aws_account_id", "aws_iam_role"]], "self": []}, "params_p": {"args": [], "aws_account_id": [["str", 1.0000000000000002]], "aws_iam_role": [["str", 1.0000000000000002]], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_get_role_arn", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn": "", "wrap_conn": ""}, "variables_p": {"mock_conn": [["str", 0.7593030893754754], ["int", 0.15439131952281068], ["Dict[str, Union[int, str]]", 0.08630559110171379]], "wrap_conn": [["str", 0.19765251689131624], ["Dict[int, Dict[str, Any]]", 0.16669473074570965], ["List[str]", 0.10053128109337153], ["raiden.tests.utils.mocks.MockRaidenService", 0.08033110497188793]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[379, 4], [388, 45]], "fn_var_ln": {"mock_conn": [[380, 8], [380, 17]], "wrap_conn": [[387, 12], [387, 21]]}, "fn_var_occur": {"mock_conn": [["mock_conn", "mock_connection_factory", "extra", "aws_account_id", "aws_iam_role"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["wrap_conn", "role_arn", "expected"]]}, "name": "test_constructing_role_arn", "params": {"aws_account_id": "", "aws_iam_role": "", "expected": "", "self": ""}, "params_descr": {"aws_account_id": "", "aws_iam_role": "", "expected": "", "self": ""}, "params_occur": {"aws_account_id": [["mock_conn", "mock_connection_factory", "extra", "aws_account_id", "aws_iam_role"]], "aws_iam_role": [["mock_conn", "mock_connection_factory", "extra", "aws_account_id", "aws_iam_role"]], "expected": [["wrap_conn", "role_arn", "expected"]], "self": []}, "params_p": {"args": [], "aws_account_id": [["str", 0.7187041956362081], ["int", 0.09330114170328375], ["Optional[int]", 0.09181614892581946]], "aws_iam_role": [["str", 0.7187041956362081], ["int", 0.09330114170328375], ["Optional[int]", 0.09181614892581946]], "expected": [["int", 0.1744536495346787], ["str", 0.1744536495346787], ["Iterable[models.Course]", 0.16859984591354632], ["List[int]", 0.0987808939073767], ["Set[str]", 0.08065600081894353]], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_constructing_role_arn", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn": "", "wrap_conn": ""}, "variables_p": {"mock_conn": [["str", 0.8345401220804873], ["int", 0.16545987791951286]], "wrap_conn": [["str", 0.2597581724187221], ["List[Dict[str, Any]]", 0.12825415299496776], ["dict", 0.08833108015295299], ["int", 0.08658605747290737]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[390, 4], [394, 49]], "fn_var_ln": {"wrap_conn": [[391, 8], [391, 17]]}, "fn_var_occur": {"wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_connection_factory"], ["wrap_conn", "role_arn", "None"], ["wrap_conn", "assume_role_method", "None"], ["wrap_conn", "assume_role_kwargs"]]}, "name": "test_empty_role_arn", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_empty_role_arn", "ret_exprs": [], "ret_type": "", "variables": {"wrap_conn": ""}, "variables_p": {"wrap_conn": [["int", 0.29896931321261033]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[399, 4], [404, 65]], "fn_var_ln": {"mock_conn": [[400, 8], [400, 17]], "wrap_conn": [[403, 8], [403, 17]]}, "fn_var_occur": {"mock_conn": [["mock_conn", "mock_connection_factory", "extra", "MOCK_ROLE_ARN", "assume_role_method"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["wrap_conn", "assume_role_method", "assume_role_method"]]}, "name": "test_get_assume_role_method", "params": {"assume_role_method": "", "self": ""}, "params_descr": {"assume_role_method": "", "self": ""}, "params_occur": {"assume_role_method": [["mock_conn", "mock_connection_factory", "extra", "MOCK_ROLE_ARN", "assume_role_method"], ["wrap_conn", "assume_role_method", "assume_role_method"]], "self": []}, "params_p": {"args": [], "assume_role_method": [["str", 0.10008415610041509], ["List[str]", 0.0977247873838242]], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_get_assume_role_method", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn": "", "wrap_conn": ""}, "variables_p": {"mock_conn": [["str", 0.22865931794021171], ["tests.utils.MockProvider", 0.22850874025439347]], "wrap_conn": [["str", 0.2597581724187221], ["List[Dict[str, Any]]", 0.12825415299496776], ["dict", 0.08833108015295299], ["int", 0.08658605747290737]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[406, 4], [413, 60]], "fn_var_ln": {"mock_conn": [[407, 8], [407, 17]], "wrap_conn": [[412, 8], [412, 17]]}, "fn_var_occur": {"mock_conn": [["mock_conn", "mock_connection_factory", "extra", "MOCK_ROLE_ARN"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["wrap_conn", "assume_role_method"]]}, "name": "test_default_assume_role_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_default_assume_role_method", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn": "", "wrap_conn": ""}, "variables_p": {"mock_conn": [["str", 0.6441354304183228], ["Dict[str, Union[Any, Any]]", 0.16760533848807452]], "wrap_conn": [["str", 0.2597581724187221], ["List[Dict[str, Any]]", 0.12825415299496776], ["dict", 0.08833108015295299], ["int", 0.08658605747290737]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[415, 4], [420, 48]], "fn_var_ln": {"mock_conn": [[416, 8], [416, 17]]}, "fn_var_occur": {"mock_conn": [["mock_conn", "mock_connection_factory", "extra", "MOCK_ROLE_ARN"], ["AwsConnectionWrapper", "conn", "mock_conn"]]}, "name": "test_unsupported_assume_role_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_unsupported_assume_role_method", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn": ""}, "variables_p": {"mock_conn": [["str", 0.5674741047612828], ["Dict[str, Union[Any, Any]]", 0.16851514432419423], ["int", 0.060739817273791796]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[423, 4], [431, 55]], "fn_var_ln": {"expected": [[430, 8], [430, 16]], "mock_conn": [[427, 8], [427, 17]], "mock_conn_extra": [[424, 8], [424, 23]], "wrap_conn": [[429, 8], [429, 17]]}, "fn_var_occur": {"expected": [["expected", "assume_role_kwargs"], ["wrap_conn", "assume_role_kwargs", "expected"]], "mock_conn": [["mock_conn", "mock_connection_factory", "extra", "mock_conn_extra"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"]], "mock_conn_extra": [["mock_conn_extra", "MOCK_ROLE_ARN"], ["mock_conn_extra", "assume_role_kwargs"], ["mock_conn", "mock_connection_factory", "extra", "mock_conn_extra"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["wrap_conn", "assume_role_kwargs", "expected"]]}, "name": "test_get_assume_role_kwargs", "params": {"assume_role_kwargs": "", "self": ""}, "params_descr": {"assume_role_kwargs": "", "self": ""}, "params_occur": {"assume_role_kwargs": [["mock_conn_extra", "assume_role_kwargs"], ["expected", "assume_role_kwargs"], ["wrap_conn", "assume_role_kwargs", "expected"]], "self": []}, "params_p": {"args": [], "assume_role_kwargs": [["deeplearning.ml4pl.models.logger.Logger", 0.16784756306493387], ["str", 0.10867402319439852], ["int", 0.10867402319439852]], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_get_assume_role_kwargs", "ret_exprs": [], "ret_type": "", "variables": {"expected": "", "mock_conn": "", "mock_conn_extra": "", "wrap_conn": ""}, "variables_p": {"expected": [["str", 0.38719417642088794], ["bytes", 0.1563756595638235]], "mock_conn": [["str", 0.6441354304183228], ["Dict[str, Union[Any, Any]]", 0.16760533848807452]], "mock_conn_extra": [["Dict[str, str]", 0.11236131676322275]], "wrap_conn": [["str", 0.2597581724187221], ["List[Dict[str, Any]]", 0.12825415299496776], ["dict", 0.08833108015295299], ["int", 0.08658605747290737]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[434, 4], [447, 81]], "fn_var_ln": {"mock_conn": [[442, 8], [442, 17]], "mock_conn_extra": [[436, 8], [436, 23]], "mock_external_id_in_kwargs": [[435, 8], [435, 34]], "wrap_conn": [[444, 8], [444, 17]]}, "fn_var_occur": {"mock_conn": [["mock_conn", "mock_connection_factory", "extra", "mock_conn_extra"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"]], "mock_conn_extra": [["mock_conn_extra", "MOCK_ROLE_ARN", "mock_external_id_in_kwargs"], ["mock_conn_extra", "external_id_in_extra"], ["mock_conn", "mock_connection_factory", "extra", "mock_conn_extra"]], "mock_external_id_in_kwargs": [["mock_conn_extra", "MOCK_ROLE_ARN", "mock_external_id_in_kwargs"], ["wrap_conn", "assume_role_kwargs", "mock_external_id_in_kwargs"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["wrap_conn", "assume_role_kwargs"], ["wrap_conn", "assume_role_kwargs", "mock_external_id_in_kwargs"], ["wrap_conn", "assume_role_kwargs", "external_id_in_extra"]]}, "name": "test_get_assume_role_kwargs_external_id_in_kwargs", "params": {"external_id_in_extra": "", "self": ""}, "params_descr": {"external_id_in_extra": "", "self": ""}, "params_occur": {"external_id_in_extra": [["mock_conn_extra", "external_id_in_extra"], ["wrap_conn", "assume_role_kwargs", "external_id_in_extra"]], "self": []}, "params_p": {"args": [], "external_id_in_extra": [["str", 0.486080017204488], ["Dict[str, Any]", 0.18523081738977387], ["int", 0.1230123131273602], ["contests.models.User", 0.10733925849121759], ["Optional[str]", 0.09833759378716009]], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_get_assume_role_kwargs_external_id_in_kwargs", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn": "", "mock_conn_extra": "", "mock_external_id_in_kwargs": "", "wrap_conn": ""}, "variables_p": {"mock_conn": [["str", 0.6441354304183228], ["Dict[str, Union[Any, Any]]", 0.16760533848807452]], "mock_conn_extra": [["Dict[str, str]", 0.11373356520241944], ["Dict[str, Dict[str, str]]", 0.0728203108329904]], "mock_external_id_in_kwargs": [["str", 0.7320052741695555], ["tests.utils.MockCoroutine", 0.1208224177979295], ["List[Dict[str, str]]", 0.07722287990677128], ["int", 0.06994942812574366]], "wrap_conn": [["List[str]", 0.10416888124772448], ["List[Dict[str, Any]]", 0.0976658247105979], ["Dict[str, Any]", 0.09021368738060435]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[449, 4], [458, 86]], "fn_var_ln": {"mock_conn": [[452, 8], [452, 17]], "mock_conn_extra": [[451, 8], [451, 23]], "mock_external_id_in_extra": [[450, 8], [450, 33]], "warning_message": [[454, 8], [454, 23]], "wrap_conn": [[456, 12], [456, 21]]}, "fn_var_occur": {"mock_conn": [["mock_conn", "mock_connection_factory", "extra", "mock_conn_extra"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"]], "mock_conn_extra": [["mock_conn_extra", "MOCK_ROLE_ARN", "mock_external_id_in_extra"], ["mock_conn", "mock_connection_factory", "extra", "mock_conn_extra"]], "mock_external_id_in_extra": [["mock_conn_extra", "MOCK_ROLE_ARN", "mock_external_id_in_extra"], ["wrap_conn", "assume_role_kwargs", "mock_external_id_in_extra"]], "warning_message": [["pytest", "warns", "AirflowProviderDeprecationWarning", "match", "warning_message"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["wrap_conn", "assume_role_kwargs"], ["wrap_conn", "assume_role_kwargs", "mock_external_id_in_extra"]]}, "name": "test_get_assume_role_kwargs_external_id_in_extra", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_get_assume_role_kwargs_external_id_in_extra", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn": "", "mock_conn_extra": "", "mock_external_id_in_extra": "", "warning_message": "", "wrap_conn": ""}, "variables_p": {"mock_conn": [["str", 0.6441354304183228], ["Dict[str, Union[Any, Any]]", 0.16760533848807452]], "mock_conn_extra": [["Dict[str, str]", 0.08361286111052643]], "mock_external_id_in_extra": [["str", 0.671678800396782], ["tests.utils.MockCoroutine", 0.09825707121310107], ["List[Tuple[str, str]]", 0.08038609180013671], ["Dict[Any, Union[int, str]]", 0.07689199106459574], ["List[Dict[str, str]]", 0.07278604552538469]], "warning_message": [["Pattern[str]", 1.0000000000000002]], "wrap_conn": [["List[str]", 0.10416888124772448], ["List[Dict[str, Any]]", 0.0976658247105979], ["Dict[str, Any]", 0.09021368738060435]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[486, 4], [503, 93]], "fn_var_ln": {"wrap_conn": [[492, 8], [492, 17]], "wrap_kwargs": [[487, 8], [487, 19]], "wrap_non_init_fields": [[495, 8], [495, 28]]}, "fn_var_occur": {"wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "orig_wrapper", "wrap_kwargs"], ["wrap_non_init_fields", "f", "name", "f", "fields", "wrap_conn", "f", "init"], ["getattr", "wrap_conn", "field", "getattr", "orig_wrapper", "field"], ["wrap_conn", "region_name", "region_name", "orig_wrapper", "region_name"], ["wrap_conn", "botocore_config", "botocore_config", "orig_wrapper", "botocore_config"]], "wrap_kwargs": [["wrap_kwargs", "region_name"], ["wrap_kwargs", "botocore_config"], ["wrap_conn", "AwsConnectionWrapper", "conn", "orig_wrapper", "wrap_kwargs"]], "wrap_non_init_fields": [["wrap_non_init_fields", "f", "name", "f", "fields", "wrap_conn", "f", "init"]]}, "name": "test_wrap_wrapper", "params": {"botocore_config": "", "orig_wrapper": "", "region_name": "", "self": ""}, "params_descr": {"botocore_config": "", "orig_wrapper": "", "region_name": "", "self": ""}, "params_occur": {"botocore_config": [["wrap_kwargs", "botocore_config"], ["wrap_conn", "botocore_config", "botocore_config", "orig_wrapper", "botocore_config"]], "orig_wrapper": [["wrap_conn", "AwsConnectionWrapper", "conn", "orig_wrapper", "wrap_kwargs"], ["getattr", "wrap_conn", "field", "getattr", "orig_wrapper", "field"], ["wrap_conn", "region_name", "region_name", "orig_wrapper", "region_name"], ["wrap_conn", "botocore_config", "botocore_config", "orig_wrapper", "botocore_config"]], "region_name": [["wrap_kwargs", "region_name"], ["wrap_conn", "region_name", "region_name", "orig_wrapper", "region_name"]], "self": []}, "params_p": {"args": [], "botocore_config": [], "kwargs": [], "orig_wrapper": [["Dict[str, Any]", 0.21698152877403373], ["Callable", 0.1007545562709898], ["Optional[str]", 0.09294563194823346]], "region_name": [["str", 0.4055790404032762], ["Dict[str, Any]", 0.10008064047075377], ["neuromation.api.config._AuthConfig", 0.0993332491426318]], "self": []}, "q_name": "TestAwsConnectionWrapper.test_wrap_wrapper", "ret_exprs": [], "ret_type": "", "variables": {"wrap_conn": "", "wrap_kwargs": "", "wrap_non_init_fields": ""}, "variables_p": {"wrap_conn": [], "wrap_kwargs": [["tsrc.workspace.config.WorkspaceConfig", 0.21265211277856066], ["Dict[str, str]", 0.12083720703799615], ["cmk.base.config.HostConfig", 0.10993613428760127], ["Dict[Any, Union[Any, Any, Any, Any]]", 0.09810161632082416], ["Dict[Any, Union[Any, Any, Any]]", 0.09810161632082416], ["Dict[str, Dict[Any, Any]]", 0.09761026575127732], ["nucypher.config.characters.UrsulaConfiguration", 0.08810285972256349]], "wrap_non_init_fields": [["list", 0.29490356158176056], ["Type[Pattern[str]]", 0.2713930149046682], ["Dict[str, List[Any]]", 0.21019853871546798], ["Tuple[Literal, Literal, Literal, Literal, Literal]", 0.1253766790433856], ["List[List[str]]", 0.09812820575471766]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[505, 4], [514, 73]], "fn_var_ln": {"expected_deprecation_message": [[507, 8], [507, 36]], "mock_conn": [[506, 8], [506, 17]]}, "fn_var_occur": {"expected_deprecation_message": [["expected_deprecation_message", "mock_conn", "host"], ["str", "record", "message", "expected_deprecation_message"]], "mock_conn": [["mock_conn", "mock_connection_factory", "host"], ["expected_deprecation_message", "mock_conn", "host"], ["AwsConnectionWrapper", "conn", "mock_conn"]]}, "name": "test_connection_host_raises_deprecation", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestAwsConnectionWrapper.test_connection_host_raises_deprecation", "ret_exprs": [], "ret_type": "", "variables": {"expected_deprecation_message": "", "mock_conn": ""}, "variables_p": {"expected_deprecation_message": [["Dict[str, Any]", 0.22269285392374297], ["bytes", 0.1519138559294323]], "mock_conn": [["str", 0.6610167075427056], ["Dict[str, Union[Any, Any]]", 0.08443776561244781], ["Dict[str, Union[int, str]]", 0.055475243653158396]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[519, 4], [531, 53]], "fn_var_ln": {"mock_conn": [[520, 8], [520, 17]], "wrap_conn": [[527, 8], [527, 17]]}, "fn_var_occur": {"mock_conn": [["mock_conn", "mock_connection_factory", "conn_id", "conn_id", "extra", "role_arn", "profile_name"], ["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"]], "wrap_conn": [["wrap_conn", "AwsConnectionWrapper", "conn", "mock_conn"], ["wrap_conn", "conn_id", "conn_id"], ["wrap_conn", "role_arn", "role_arn"], ["wrap_conn", "profile_name", "profile_name"]]}, "name": "test_get_wrapper_from_metadata", "params": {"conn_id": "", "profile_name": "", "role_arn": "", "self": ""}, "params_descr": {"conn_id": "", "profile_name": "", "role_arn": "", "self": ""}, "params_occur": {"conn_id": [["mock_conn", "mock_connection_factory", "conn_id", "conn_id", "extra", "role_arn", "profile_name"], ["wrap_conn", "conn_id", "conn_id"]], "profile_name": [["mock_conn", "mock_connection_factory", "conn_id", "conn_id", "extra", "role_arn", "profile_name"], ["wrap_conn", "profile_name", "profile_name"]], "role_arn": [["mock_conn", "mock_connection_factory", "conn_id", "conn_id", "extra", "role_arn", "profile_name"], ["wrap_conn", "role_arn", "role_arn"]], "self": []}, "params_p": {"args": [], "conn_id": [["str", 0.6355168250699225], ["int", 0.1224122377781621], ["Optional[int]", 0.11965869937375317]], "kwargs": [], "profile_name": [["str", 0.6619095012679901], ["int", 0.127509487190032], ["Optional[int]", 0.11941781504718749]], "role_arn": [["str", 0.6457208939527067], ["int", 0.11844801296504012], ["Optional[int]", 0.11738308011721327]], "self": []}, "q_name": "TestAwsConnectionWrapper.test_get_wrapper_from_metadata", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn": "", "wrap_conn": ""}, "variables_p": {"mock_conn": [["str", 0.4105498184154356], ["Set[str]", 0.09884038805289219], ["Counter[str]", 0.0948481455777476], ["list", 0.09448251359755347]], "wrap_conn": [["int", 0.37580833519040774], ["str", 0.10118707907333926]]}}], "name": "TestAwsConnectionWrapper", "q_name": "TestAwsConnectionWrapper", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[35, 0], [38, 69]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "mock_connection_factory", "params": {"conn_id": "str | None", "conn_type": "str | None", "kwargs": ""}, "params_descr": {"conn_id": "", "conn_type": "", "kwargs": ""}, "params_occur": {"conn_id": [["Connection", "conn_id", "conn_id", "conn_type", "conn_type", "kwargs"]], "conn_type": [["Connection", "conn_id", "conn_id", "conn_type", "conn_type", "kwargs"]], "kwargs": [["Connection", "conn_id", "conn_id", "conn_type", "conn_type", "kwargs"]]}, "params_p": {"args": [], "conn_id": [["str", 0.6528969482312624], ["int", 0.09742889048858355]], "conn_type": [["str", 0.6528969482312624], ["int", 0.09742889048858355]], "kwargs": []}, "q_name": "mock_connection_factory", "ret_exprs": ["return Connection(conn_id=conn_id, conn_type=conn_type, **kwargs)"], "ret_type": "airflow.models.Connection", "ret_type_p": [["Dict[str, Any]", 0.3433258812287398], ["cmk.utils.type_defs.UserId", 0.15417428967839206], ["models.Payment", 0.10112515838323821], ["zerver.models.Realm", 0.09657261400856776], ["str", 0.09448879010036569], ["Optional[int]", 0.08582028696471138]], "variables": {}, "variables_p": {}}], "imports": ["__future__", "annotations", "dataclasses", "fields", "unittest", "mock", "pytest", "botocore", "UNSIGNED", "botocore", "config", "Config", "airflow", "exceptions", "AirflowProviderDeprecationWarning", "airflow", "models", "Connection", "airflow", "providers", "amazon", "aws", "utils", "connection_wrapper", "AwsConnectionWrapper", "_ConnectionMetadata"], "mod_var_ln": {"MOCK_AWS_CONN_ID": [[30, 0], [30, 16]], "MOCK_CONN_TYPE": [[31, 0], [31, 14]], "MOCK_ROLE_ARN": [[32, 0], [32, 13]]}, "mod_var_occur": {"MOCK_AWS_CONN_ID": [["conn_kwargs", "MOCK_AWS_CONN_ID", "extra"]], "MOCK_CONN_TYPE": [], "MOCK_ROLE_ARN": [["mock_conn", "mock_connection_factory", "extra", "MOCK_ROLE_ARN", "aws_account_id", "aws_iam_role"], ["wrap_conn", "role_arn", "MOCK_ROLE_ARN"], ["mock_conn", "mock_connection_factory", "extra", "MOCK_ROLE_ARN", "assume_role_method"], ["mock_conn", "mock_connection_factory", "extra", "MOCK_ROLE_ARN"], ["mock_conn", "mock_connection_factory", "extra", "MOCK_ROLE_ARN"], ["mock_conn_extra", "MOCK_ROLE_ARN"], ["mock_conn_extra", "MOCK_ROLE_ARN", "mock_external_id_in_kwargs"], ["mock_conn_extra", "MOCK_ROLE_ARN", "mock_external_id_in_extra"]]}, "no_types_annot": {"D": 3, "I": 0, "U": 154}, "session_id": "a1oERJnABgoS18kgYdzpgH8hwHKZHdH554X7WCHmV7M", "set": null, "tc": [false, null], "type_annot_cove": 0.02, "typed_seq": "", "untyped_seq": "", "variables": {"MOCK_AWS_CONN_ID": "", "MOCK_CONN_TYPE": "", "MOCK_ROLE_ARN": ""}, "variables_p": {"MOCK_AWS_CONN_ID": [["str", 0.9120396302445212], ["int", 0.08796036975547865]], "MOCK_CONN_TYPE": [["Dict[str, Dict[str, str]]", 0.9999999971634811], ["List[str]", 1.2077410149703022e-09], ["str", 8.331330605031287e-10], ["ClassVar[Set[str]]", 3.0193525374257556e-10], ["Set[str]", 3.0193525374257556e-10]], "MOCK_ROLE_ARN": [["str", 0.7721655177788601], ["int", 0.1425794121400801], ["Dict[str, Union[int, str]]", 0.08525507008105974]]}}}