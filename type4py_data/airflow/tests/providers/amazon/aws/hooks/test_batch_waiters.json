{"error": null, "response": {"classes": [{"cls_lc": [[63, 0], [220, 51]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[65, 4], [77, 74]], "fn_var_ln": {"batch_waiters": [[69, 8], [69, 26]], "job_id": [[66, 8], [66, 19]], "mock_delay": [[74, 8], [74, 23]], "mock_exponential_delay": [[76, 8], [76, 35]], "region_name": [[67, 8], [67, 24]]}, "fn_var_occur": {"batch_waiters": [["self", "batch_waiters", "BatchWaitersHook", "region_name", "self", "region_name"], ["self", "batch_waiters", "aws_conn_id"], ["self", "batch_waiters", "region_name", "self", "region_name"], ["self", "batch_waiters", "delay", "self", "mock_delay"], ["self", "batch_waiters", "exponential_delay", "self", "mock_exponential_delay"]], "job_id": [["self", "job_id"]], "mock_delay": [["self", "mock_delay", "mock", "Mock", "return_value", "None"], ["self", "batch_waiters", "delay", "self", "mock_delay"]], "mock_exponential_delay": [["self", "mock_exponential_delay", "mock", "Mock", "return_value"], ["self", "batch_waiters", "exponential_delay", "self", "mock_exponential_delay"]], "region_name": [["self", "region_name", "AWS_REGION"], ["self", "batch_waiters", "BatchWaitersHook", "region_name", "self", "region_name"], ["self", "batch_waiters", "region_name", "self", "region_name"]]}, "name": "setup_tests", "params": {"patch_hook": "", "self": ""}, "params_descr": {"patch_hook": "", "self": ""}, "params_occur": {"patch_hook": [], "self": [["self", "job_id"], ["self", "region_name", "AWS_REGION"], ["self", "batch_waiters", "BatchWaitersHook", "region_name", "self", "region_name"], ["self", "batch_waiters", "aws_conn_id"], ["self", "batch_waiters", "region_name", "self", "region_name"], ["self", "mock_delay", "mock", "Mock", "return_value", "None"], ["self", "batch_waiters", "delay", "self", "mock_delay"], ["self", "mock_exponential_delay", "mock", "Mock", "return_value"], ["self", "batch_waiters", "exponential_delay", "self", "mock_exponential_delay"]]}, "params_p": {"args": [], "kwargs": [], "patch_hook": [["bool", 0.1666666668617039], ["Callable[[], bytes]", 0.16666666659551083], ["BaseException", 0.16666666659551083]], "self": []}, "q_name": "TestBatchWaiters.setup_tests", "ret_exprs": [], "ret_type": "", "variables": {"batch_waiters": "", "job_id": "", "mock_delay": "", "mock_exponential_delay": "", "region_name": ""}, "variables_p": {"batch_waiters": [["list", 0.10140666899245065], ["Dict[str, Any]", 0.09508726607413817], ["int", 0.08871715098487376], ["str", 0.08846714069625243]], "job_id": [["int", 0.3006311295473851], ["str", 0.2685205429344265], ["bool", 0.10713693850461485], ["bytes", 0.096800579044915]], "mock_delay": [["mock.Mock", 0.28424571255662556], ["mock.MagicMock", 0.18559272817249017]], "mock_exponential_delay": [["Dict[str, Any]", 0.1186075382532848], ["mock.Mock", 0.1069941947865636], ["List[int]", 0.08238165901887001], ["Dict[str, str]", 0.07190703702193788]], "region_name": [["str", 0.9093794801329159], ["Optional[str]", 0.090620519867084]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[79, 4], [89, 68]], "fn_var_ln": {"config": [[81, 8], [81, 14]], "waiters": [[88, 8], [88, 15]]}, "fn_var_occur": {"config": [["config", "self", "batch_waiters", "default_config"], ["config", "self", "batch_waiters", "waiter_config"], ["isinstance", "config", "dict"], ["isinstance", "config", "dict"], ["waiters", "list", "sorted", "config", "keys"]], "waiters": [["waiters", "list", "sorted", "config", "keys"]]}, "name": "test_default_config", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["config", "self", "batch_waiters", "default_config"], ["config", "self", "batch_waiters", "waiter_config"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBatchWaiters.test_default_config", "ret_exprs": [], "ret_type": "", "variables": {"config": "", "waiters": ""}, "variables_p": {"config": [["Dict[str, Any]", 0.32007745330348036], ["dict", 0.1847210792529081], ["Dict[str, Union[Any, str]]", 0.11263961344283553], ["utils.config_generator.Configurations", 0.10386043291153392]], "waiters": [["Dict[str, Any]", 0.39694514536001096], ["Dict[str, str]", 0.32304830696390013], ["Tuple[Any, Any, Any]", 0.11193256476964455], ["list", 0.08556304627594039], ["dict", 0.0825109366305041]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[91, 4], [98, 59]], "fn_var_ln": {"config": [[93, 8], [93, 14]], "waiters": [[96, 8], [96, 15]]}, "fn_var_occur": {"config": [["config", "self", "batch_waiters", "waiter_config"], ["isinstance", "config", "dict"], ["waiters", "list", "sorted", "config", "keys"]], "waiters": [["waiters", "list", "sorted", "config", "keys"], ["waiters", "self", "batch_waiters", "list_waiters"]]}, "name": "test_list_waiters", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["config", "self", "batch_waiters", "waiter_config"], ["waiters", "self", "batch_waiters", "list_waiters"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBatchWaiters.test_list_waiters", "ret_exprs": [], "ret_type": "", "variables": {"config": "", "waiters": ""}, "variables_p": {"config": [["dict", 0.2622766775636443], ["Dict[str, Any]", 0.15438624070310497], ["ChainMap[Any, Any]", 0.09860689413487185], ["MutableMapping[str, Any]", 0.09194569955784986], ["Dict[str, Tuple[str, str]]", 0.08795224173436052]], "waiters": [["Dict[str, str]", 0.4296124529764769], ["list", 0.38025836468234875], ["Dict[str, Any]", 0.09506459117058719], ["Dict[Tuple[str, str], str]", 0.09506459117058719]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[100, 4], [123, 49]], "fn_var_ln": {"delay": [[121, 8], [121, 20]], "max_attempts": [[118, 8], [118, 27]], "model": [[101, 8], [101, 13]], "waiter": [[115, 8], [115, 14]], "waiters": [[106, 8], [106, 15]]}, "fn_var_occur": {"delay": [["waiter", "delay"], ["waiter", "delay"], ["waiter", "delay"]], "max_attempts": [["waiter", "max_attempts"], ["waiter", "max_attempts"], ["waiter", "max_attempts"]], "model": [["model", "self", "batch_waiters", "waiter_model"], ["isinstance", "model", "WaiterModel"], ["model", "version"], ["waiters", "sorted", "model", "waiter_names"], ["model", "get_waiter"], ["waiter", "model", "get_waiter"]], "waiter": [["waiter", "model", "get_waiter"], ["isinstance", "waiter", "SingleWaiterConfig"], ["waiter", "max_attempts"], ["waiter", "max_attempts"], ["waiter", "max_attempts"], ["waiter", "delay"], ["waiter", "delay"], ["waiter", "delay"], ["waiter", "operation"]], "waiters": [["waiters", "sorted", "model", "waiter_names"]]}, "name": "test_waiter_model", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["model", "self", "batch_waiters", "waiter_model"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBatchWaiters.test_waiter_model", "ret_exprs": [], "ret_type": "", "variables": {"delay": "", "max_attempts": "", "model": "", "waiter": "", "waiters": ""}, "variables_p": {"delay": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]], "max_attempts": [["int", 0.5622370490098356], ["float", 0.43776295099016443]], "model": [["Dict[str, Tuple[Any, bool]]", 0.11907327545160004]], "waiter": [["str", 0.19126624417070084], ["int", 0.10223805480739981]], "waiters": [["str", 0.11017194886542761], ["cmk.gui.plugins.views.utils.Command", 0.10360718588900356]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[125, 4], [148, 58]], "fn_var_ln": {"mock_config": [[146, 12], [146, 23]], "mock_jitter": [[129, 8], [129, 19]], "mock_waiter": [[142, 12], [142, 23]]}, "fn_var_occur": {"mock_config": [["mock_config", "mock_waiter", "config"], ["mock_config", "delay"], ["mock_config", "max_attempts", "sys", "maxsize"]], "mock_jitter": [["mock_jitter", "mock", "Mock", "return_value"], ["self", "batch_waiters", "add_jitter", "mock_jitter"]], "mock_waiter": [["mock_waiter", "get_waiter", "return_value"], ["mock_waiter", "wait", "assert_called_with", "jobs", "self", "job_id"], ["mock_waiter", "wait", "call_count"], ["mock_config", "mock_waiter", "config"]]}, "name": "test_wait_for_job", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "batch_waiters", "add_jitter", "mock_jitter"], ["mock", "patch", "object", "self", "batch_waiters", "get_waiter"], ["self", "batch_waiters", "wait_for_job", "self", "job_id"], ["mock_waiter", "wait", "assert_called_with", "jobs", "self", "job_id"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBatchWaiters.test_wait_for_job", "ret_exprs": [], "ret_type": "", "variables": {"mock_config": "", "mock_jitter": "", "mock_waiter": ""}, "variables_p": {"mock_config": [["Dict[str, Dict[Any, Any]]", 0.2640462286460966], ["Dict[str, str]", 0.17845566102709035], ["Dict[str, Dict[str, Any]]", 0.15310525994214216], ["Dict[str, Union[Any, int, str]]", 0.13108769082961527], ["Dict[str, Dict[Any, str]]", 0.1138463178143394], ["Dict[Any, Union[Any, Any]]", 0.08111996506908953], ["Dict[str, Union[Any, Any]]", 0.07833887667162662]], "mock_jitter": [["mock.Mock", 0.09788040117300892], ["mock.MagicMock", 0.09148641583042952]], "mock_waiter": [["str", 0.2747636696307132], ["Dict[str, Union[Any, Any]]", 0.16231699806078284], ["Dict[str, List[str]]", 0.10026902474731697], ["Dict[str, List[Any]]", 0.09813077947585151], ["Dict[str, Any]", 0.09310159959986185], ["rotkehlchen.tests.utils.mock.MockResponse", 0.08018629611396515], ["Dict[Any, Union[Any, Any]]", 0.07786172293804555]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[150, 4], [185, 50]], "fn_var_ln": {"batch_log_fetcher": [[156, 8], [156, 25]], "mock_get_batch_log_fetcher": [[157, 8], [157, 34]], "mock_jitter": [[153, 8], [153, 19]], "thread_join": [[161, 8], [161, 19]], "thread_start": [[159, 8], [159, 20]], "thread_stop": [[160, 8], [160, 19]]}, "fn_var_occur": {"batch_log_fetcher": [["batch_log_fetcher", "mock", "Mock", "spec", "AwsTaskLogFetcher"], ["mock_get_batch_log_fetcher", "mock", "Mock", "return_value", "batch_log_fetcher"]], "mock_get_batch_log_fetcher": [["mock_get_batch_log_fetcher", "mock", "Mock", "return_value", "batch_log_fetcher"], ["self", "batch_waiters", "wait_for_job", "self", "job_id", "get_batch_log_fetcher", "mock_get_batch_log_fetcher"], ["mock_get_batch_log_fetcher", "assert_called_with", "self", "job_id"]], "mock_jitter": [["mock_jitter", "mock", "Mock", "return_value"], ["self", "batch_waiters", "add_jitter", "mock_jitter"]], "thread_join": [["thread_join", "mock", "Mock", "side_effect", "time", "sleep"]], "thread_start": [["thread_start", "mock", "Mock", "side_effect", "time", "sleep"]], "thread_stop": [["thread_stop", "mock", "Mock", "side_effect", "time", "sleep"]]}, "name": "test_wait_for_job_with_cloudwatch_logs", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "batch_waiters", "add_jitter", "mock_jitter"], ["mock", "patch", "object", "self", "batch_waiters", "mock_get_waiter"], ["self", "batch_waiters", "wait_for_job", "self", "job_id", "get_batch_log_fetcher", "mock_get_batch_log_fetcher"], ["mock_get_waiter", "return_value", "wait", "assert_called_with", "jobs", "self", "job_id"], ["mock_get_batch_log_fetcher", "assert_called_with", "self", "job_id"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBatchWaiters.test_wait_for_job_with_cloudwatch_logs", "ret_exprs": [], "ret_type": "", "variables": {"batch_log_fetcher": "", "mock_get_batch_log_fetcher": "", "mock_jitter": "", "thread_join": "", "thread_start": "", "thread_stop": ""}, "variables_p": {"batch_log_fetcher": [["str", 0.20705623861232025], ["List[Union[Any, Any]]", 0.1809040685539138], ["mode.utils.mocks.Mock", 0.0935223504996823]], "mock_get_batch_log_fetcher": [], "mock_jitter": [["mock.Mock", 0.09788040117300892], ["mock.MagicMock", 0.09148641583042952]], "thread_join": [["mock.Mock", 0.8343764326376356]], "thread_start": [], "thread_stop": [["mock.Mock", 0.8343764326376356]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[187, 4], [203, 51]], "fn_var_ln": {"mock_jitter": [[189, 8], [189, 19]], "mock_waiter": [[193, 12], [193, 23]]}, "fn_var_occur": {"mock_jitter": [["mock_jitter", "mock", "Mock", "return_value"], ["self", "batch_waiters", "add_jitter", "mock_jitter"]], "mock_waiter": [["mock_waiter", "get_waiter", "return_value"], ["mock_waiter", "wait", "side_effect", "ClientError", "error_response", "operation_name"], ["mock_waiter", "wait", "assert_called_with", "jobs", "self", "job_id"], ["mock_waiter", "wait", "call_count"]]}, "name": "test_wait_for_job_raises_for_client_error", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "batch_waiters", "add_jitter", "mock_jitter"], ["mock", "patch", "object", "self", "batch_waiters", "get_waiter"], ["self", "batch_waiters", "wait_for_job", "self", "job_id"], ["mock_waiter", "wait", "assert_called_with", "jobs", "self", "job_id"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBatchWaiters.test_wait_for_job_raises_for_client_error", "ret_exprs": [], "ret_type": "", "variables": {"mock_jitter": "", "mock_waiter": ""}, "variables_p": {"mock_jitter": [["mock.Mock", 0.09788040117300892], ["mock.MagicMock", 0.09148641583042952]], "mock_waiter": [["Dict[str, Union[Any, Any]]", 0.33270126629044683], ["str", 0.2739015967477588], ["Dict[str, str]", 0.10866526790428613], ["Dict[str, Any]", 0.08878787874251368]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[205, 4], [220, 51]], "fn_var_ln": {"mock_jitter": [[207, 8], [207, 19]], "mock_waiter": [[211, 12], [211, 23]]}, "fn_var_occur": {"mock_jitter": [["mock_jitter", "mock", "Mock", "return_value"], ["self", "batch_waiters", "add_jitter", "mock_jitter"]], "mock_waiter": [["mock_waiter", "get_waiter", "return_value"], ["mock_waiter", "wait", "side_effect", "WaiterError", "name", "reason", "last_response"], ["mock_waiter", "wait", "assert_called_with", "jobs", "self", "job_id"], ["mock_waiter", "wait", "call_count"]]}, "name": "test_wait_for_job_raises_for_waiter_error", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "batch_waiters", "add_jitter", "mock_jitter"], ["mock", "patch", "object", "self", "batch_waiters", "get_waiter"], ["self", "batch_waiters", "wait_for_job", "self", "job_id"], ["mock_waiter", "wait", "assert_called_with", "jobs", "self", "job_id"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBatchWaiters.test_wait_for_job_raises_for_waiter_error", "ret_exprs": [], "ret_type": "", "variables": {"mock_jitter": "", "mock_waiter": ""}, "variables_p": {"mock_jitter": [["mock.Mock", 0.09788040117300892], ["mock.MagicMock", 0.09148641583042952]], "mock_waiter": [["str", 0.2217886028221194], ["Dict[str, Union[Any, Any]]", 0.18301026165311668], ["Dict[str, str]", 0.1042267525832499], ["list", 0.10091240387358295], ["Dict[str, List[Any]]", 0.09158871715418199], ["mock.Mock", 0.08892923240194392]]}}], "name": "TestBatchWaiters", "q_name": "TestBatchWaiters", "variables": {}, "variables_p": {}}, {"cls_lc": [[223, 0], [352, 45]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": "Mock `describe_jobs` method before each test run.", "long_descr": null, "ret": null}, "fn_lc": [[227, 4], [234, 17]], "fn_var_ln": {"batch_waiters": [[229, 8], [229, 26]], "client": [[230, 8], [230, 19]], "mock_describe_jobs": [[233, 12], [233, 35]]}, "fn_var_occur": {"batch_waiters": [["self", "batch_waiters", "BatchWaitersHook", "region_name", "AWS_REGION"], ["self", "client", "self", "batch_waiters", "client"]], "client": [["self", "client", "self", "batch_waiters", "client"], ["mock", "patch", "object", "self", "client", "m"]], "mock_describe_jobs": [["self", "mock_describe_jobs", "m"]]}, "name": "setup_tests", "params": {"patch_hook": "", "self": ""}, "params_descr": {"patch_hook": "", "self": ""}, "params_occur": {"patch_hook": [], "self": [["self", "batch_waiters", "BatchWaitersHook", "region_name", "AWS_REGION"], ["self", "client", "self", "batch_waiters", "client"], ["mock", "patch", "object", "self", "client", "m"], ["self", "mock_describe_jobs", "m"]]}, "params_p": {"args": [], "kwargs": [], "patch_hook": [["bool", 0.1666666668617039], ["Callable[[], bytes]", 0.16666666659551083], ["BaseException", 0.16666666659551083]], "self": []}, "q_name": "TestBatchJobWaiters.setup_tests", "ret_exprs": [], "ret_type": "", "variables": {"batch_waiters": "", "client": "", "mock_describe_jobs": ""}, "variables_p": {"batch_waiters": [["dict", 0.2835905798573656], ["Dict[str, Any]", 0.10355043610206101], ["Dict[str, str]", 0.08885627065582372]], "client": [["raiden.utils.Any", 0.09369988521578967]], "mock_describe_jobs": [["str", 0.36808550323683337], ["float", 0.10814417183045742], ["Mapping[str, List[Any]]", 0.10620661040647282], ["List[List[Any]]", 0.101959313234561], ["Dict[str, Dict[str, str]]", 0.0966155688733014]]}}, {"docstring": {"func": "Helper function for generate minimal DescribeJobs response for single job.", "long_descr": "https://docs.aws.amazon.com/batch/latest/APIReference/API_DescribeJobs.html", "ret": null}, "fn_lc": [[237, 4], [245, 62]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "describe_jobs_response", "params": {"job_id": "builtins.str", "status": "builtins.str"}, "params_descr": {"job_id": "", "status": ""}, "params_occur": {"job_id": [["job_id", "status"]], "status": [["status", "ALL_STATES"], ["job_id", "status"]]}, "params_p": {"args": [], "job_id": [["int", 0.4508876884873948], ["str", 0.26833324842878903], ["Optional[str]", 0.13416662421439451], ["bool", 0.0816064417956674]], "kwargs": [], "self": [], "status": [["str", 0.3038790534463948], ["int", 0.20112981055175594], ["Dict[str, Any]", 0.09356849491742153]]}, "q_name": "TestBatchJobWaiters.describe_jobs_response", "ret_exprs": ["return {\"jobs\": [{\"jobId\": job_id, \"status\": status}]}"], "ret_type": "", "ret_type_p": [["bool", 0.08453388683741156]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Test `JobExists` when response return dictionary regardless state.", "long_descr": null, "ret": null}, "fn_lc": [[248, 4], [257, 45]], "fn_var_ln": {"job_exists_waiter": [[253, 8], [253, 25]]}, "fn_var_occur": {"job_exists_waiter": [["job_exists_waiter", "self", "batch_waiters", "get_waiter"], ["job_exists_waiter", "config", "delay"], ["job_exists_waiter", "config", "max_attempts"], ["job_exists_waiter", "wait", "jobs"]]}, "name": "test_job_exists_waiter_exists", "params": {"self": "", "status": "builtins.str"}, "params_descr": {"self": "", "status": ""}, "params_occur": {"self": [["self", "mock_describe_jobs", "return_value", "self", "describe_jobs_response", "job_id", "status", "status"], ["job_exists_waiter", "self", "batch_waiters", "get_waiter"], ["self", "mock_describe_jobs", "called"]], "status": [["self", "mock_describe_jobs", "return_value", "self", "describe_jobs_response", "job_id", "status", "status"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "status": [["str", 0.607097118782939], ["Dict[str, Any]", 0.09897055236316654]]}, "q_name": "TestBatchJobWaiters.test_job_exists_waiter_exists", "ret_exprs": [], "ret_type": "", "variables": {"job_exists_waiter": ""}, "variables_p": {"job_exists_waiter": [["Dict[str, Any]", 0.2056975131541432], ["dict", 0.1368915309207554]]}}, {"docstring": {"func": "Test `JobExists` waiter when response return empty dictionary.", "long_descr": null, "ret": null}, "fn_lc": [[259, 4], [268, 45]], "fn_var_ln": {"job_exists_waiter": [[263, 8], [263, 25]]}, "fn_var_occur": {"job_exists_waiter": [["job_exists_waiter", "self", "batch_waiters", "get_waiter"], ["job_exists_waiter", "config", "delay"], ["job_exists_waiter", "config", "max_attempts"], ["job_exists_waiter", "wait", "jobs"]]}, "name": "test_job_exists_waiter_missing", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "mock_describe_jobs", "return_value"], ["job_exists_waiter", "self", "batch_waiters", "get_waiter"], ["self", "mock_describe_jobs", "called"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBatchJobWaiters.test_job_exists_waiter_missing", "ret_exprs": [], "ret_type": "", "variables": {"job_exists_waiter": ""}, "variables_p": {"job_exists_waiter": [["Dict[str, Any]", 0.2056975131541432], ["dict", 0.1368915309207554]]}}, {"docstring": {"func": "Test `JobRunning` waiter reach expected state.", "long_descr": null, "ret": null}, "fn_lc": [[271, 4], [292, 45]], "fn_var_ln": {"job_id": [[273, 8], [273, 14]], "job_running_waiter": [[288, 8], [288, 26]]}, "fn_var_occur": {"job_id": [["self", "mock_describe_jobs", "side_effect", "itertools", "chain", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "inter_status", "inter_status", "INTERMEDIATE_STATES", "self", "describe_jobs_response", "job_id", "job_id", "status", "status", "RuntimeError"], ["job_running_waiter", "wait", "jobs", "job_id"]], "job_running_waiter": [["job_running_waiter", "self", "batch_waiters", "get_waiter"], ["job_running_waiter", "config", "delay"], ["job_running_waiter", "config", "max_attempts"], ["job_running_waiter", "wait", "jobs", "job_id"]]}, "name": "test_job_running_waiter_change_to_waited_state", "params": {"self": "", "status": ""}, "params_descr": {"self": "", "status": ""}, "params_occur": {"self": [["self", "mock_describe_jobs", "side_effect", "itertools", "chain", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "inter_status", "inter_status", "INTERMEDIATE_STATES", "self", "describe_jobs_response", "job_id", "job_id", "status", "status", "RuntimeError"], ["job_running_waiter", "self", "batch_waiters", "get_waiter"], ["self", "mock_describe_jobs", "called"]], "status": [["self", "mock_describe_jobs", "side_effect", "itertools", "chain", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "inter_status", "inter_status", "INTERMEDIATE_STATES", "self", "describe_jobs_response", "job_id", "job_id", "status", "status", "RuntimeError"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "status": [["bool", 0.4111686644153253], ["str", 0.10794347429940283], ["List[str]", 0.09199643786494957]]}, "q_name": "TestBatchJobWaiters.test_job_running_waiter_change_to_waited_state", "ret_exprs": [], "ret_type": "", "variables": {"job_id": "", "job_running_waiter": ""}, "variables_p": {"job_id": [["int", 0.4060898836591177], ["str", 0.31095892560830357], ["cmk.gui.utils.html.HTML", 0.09487119657542749], ["bool", 0.09180312225185162]], "job_running_waiter": [["ariadne.exceptions.HttpBadRequestError", 0.09348972207095818]]}}, {"docstring": {"func": "Test `JobRunning` waiter run out of attempts.", "long_descr": null, "ret": null}, "fn_lc": [[295, 4], [306, 45]], "fn_var_ln": {"job_id": [[297, 8], [297, 14]], "job_running_waiter": [[301, 8], [301, 26]]}, "fn_var_occur": {"job_id": [["self", "mock_describe_jobs", "side_effect", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "status"], ["job_running_waiter", "wait", "jobs", "job_id"]], "job_running_waiter": [["job_running_waiter", "self", "batch_waiters", "get_waiter"], ["job_running_waiter", "config", "delay"], ["job_running_waiter", "config", "max_attempts"], ["job_running_waiter", "wait", "jobs", "job_id"]]}, "name": "test_job_running_waiter_max_attempt_exceeded", "params": {"self": "", "status": ""}, "params_descr": {"self": "", "status": ""}, "params_occur": {"self": [["self", "mock_describe_jobs", "side_effect", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "status"], ["job_running_waiter", "self", "batch_waiters", "get_waiter"], ["self", "mock_describe_jobs", "called"]], "status": [["self", "mock_describe_jobs", "side_effect", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "status"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "status": [["str", 0.3741684521237836]]}, "q_name": "TestBatchJobWaiters.test_job_running_waiter_max_attempt_exceeded", "ret_exprs": [], "ret_type": "", "variables": {"job_id": "", "job_running_waiter": ""}, "variables_p": {"job_id": [["int", 0.28922888212524295], ["str", 0.18614495811000276], ["Union[Literal, Literal]", 0.1205446471025742]], "job_running_waiter": [["ariadne.exceptions.HttpBadRequestError", 0.09348972207095818]]}}, {"docstring": {"func": "Test `JobComplete` waiter reach `SUCCEEDED` status.", "long_descr": null, "ret": null}, "fn_lc": [[308, 4], [321, 45]], "fn_var_ln": {"job_complete_waiter": [[317, 8], [317, 27]], "job_id": [[310, 8], [310, 14]]}, "fn_var_occur": {"job_complete_waiter": [["job_complete_waiter", "self", "batch_waiters", "get_waiter"], ["job_complete_waiter", "config", "delay"], ["job_complete_waiter", "config", "max_attempts"], ["job_complete_waiter", "wait", "jobs", "job_id"]], "job_id": [["self", "mock_describe_jobs", "side_effect", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "RUNNING_STATE", "self", "describe_jobs_response", "job_id", "job_id", "status", "SUCCESS_STATE", "RuntimeError"], ["job_complete_waiter", "wait", "jobs", "job_id"]]}, "name": "test_job_complete_waiter_succeeded", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "mock_describe_jobs", "side_effect", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "RUNNING_STATE", "self", "describe_jobs_response", "job_id", "job_id", "status", "SUCCESS_STATE", "RuntimeError"], ["job_complete_waiter", "self", "batch_waiters", "get_waiter"], ["self", "mock_describe_jobs", "called"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBatchJobWaiters.test_job_complete_waiter_succeeded", "ret_exprs": [], "ret_type": "", "variables": {"job_complete_waiter": "", "job_id": ""}, "variables_p": {"job_complete_waiter": [["Dict[str, Any]", 0.2056975131541432], ["dict", 0.1368915309207554]], "job_id": [["int", 0.5051494191728568], ["str", 0.19001004002079958], ["Union[Literal, Literal]", 0.11242640980896768], ["list", 0.09715113324607845], ["Pattern[Any]", 0.09526299775129755]]}}, {"docstring": {"func": "Test `JobComplete` waiter reach `FAILED` status.", "long_descr": null, "ret": null}, "fn_lc": [[323, 4], [339, 45]], "fn_var_ln": {"job_complete_waiter": [[332, 8], [332, 27]], "job_id": [[325, 8], [325, 14]]}, "fn_var_occur": {"job_complete_waiter": [["job_complete_waiter", "self", "batch_waiters", "get_waiter"], ["job_complete_waiter", "config", "delay"], ["job_complete_waiter", "config", "max_attempts"], ["job_complete_waiter", "wait", "jobs", "job_id"]], "job_id": [["self", "mock_describe_jobs", "side_effect", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "RUNNING_STATE", "self", "describe_jobs_response", "job_id", "job_id", "status", "FAILED_STATE", "RuntimeError"], ["job_complete_waiter", "wait", "jobs", "job_id"]]}, "name": "test_job_complete_waiter_failed", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "mock_describe_jobs", "side_effect", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "RUNNING_STATE", "self", "describe_jobs_response", "job_id", "job_id", "status", "FAILED_STATE", "RuntimeError"], ["job_complete_waiter", "self", "batch_waiters", "get_waiter"], ["self", "mock_describe_jobs", "called"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBatchJobWaiters.test_job_complete_waiter_failed", "ret_exprs": [], "ret_type": "", "variables": {"job_complete_waiter": "", "job_id": ""}, "variables_p": {"job_complete_waiter": [["Dict[str, Any]", 0.2056975131541432], ["dict", 0.1368915309207554]], "job_id": [["int", 0.5051494191728568], ["str", 0.19001004002079958], ["Union[Literal, Literal]", 0.11242640980896768], ["list", 0.09715113324607845], ["Pattern[Any]", 0.09526299775129755]]}}, {"docstring": {"func": "Test `JobComplete` waiter run out of attempts.", "long_descr": null, "ret": null}, "fn_lc": [[341, 4], [352, 45]], "fn_var_ln": {"job_id": [[343, 8], [343, 14]], "job_running_waiter": [[347, 8], [347, 26]]}, "fn_var_occur": {"job_id": [["self", "mock_describe_jobs", "side_effect", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "RUNNING_STATE"], ["job_running_waiter", "wait", "jobs", "job_id"]], "job_running_waiter": [["job_running_waiter", "self", "batch_waiters", "get_waiter"], ["job_running_waiter", "config", "delay"], ["job_running_waiter", "config", "max_attempts"], ["job_running_waiter", "wait", "jobs", "job_id"]]}, "name": "test_job_complete_waiter_max_attempt_exceeded", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "mock_describe_jobs", "side_effect", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "RUNNING_STATE"], ["job_running_waiter", "self", "batch_waiters", "get_waiter"], ["self", "mock_describe_jobs", "called"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestBatchJobWaiters.test_job_complete_waiter_max_attempt_exceeded", "ret_exprs": [], "ret_type": "", "variables": {"job_id": "", "job_running_waiter": ""}, "variables_p": {"job_id": [["int", 0.20461484893939658], ["str", 0.18842013429872348], ["Union[Literal, Literal]", 0.10352914915638496]], "job_running_waiter": [["ariadne.exceptions.HttpBadRequestError", 0.09348972207095818]]}}], "name": "TestBatchJobWaiters", "q_name": "TestBatchJobWaiters", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[44, 0], [45, 21]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "aws_region", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "aws_region", "ret_exprs": ["return AWS_REGION"], "ret_type": "", "ret_type_p": [["str", 0.480995419307011], ["dict", 0.1294175018351456], ["Dict[str, str]", 0.0982292453643915]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Patch hook object by dummy boto3 Batch client.", "long_descr": null, "ret": null}, "fn_lc": [[50, 0], [54, 9]], "fn_var_ln": {"batch_client": [[52, 4], [52, 16]]}, "fn_var_occur": {"batch_client": [["batch_client", "boto3", "client", "region_name", "aws_region"], ["monkeypatch", "setattr", "BatchWaitersHook", "batch_client"]]}, "name": "patch_hook", "params": {"aws_region": "", "monkeypatch": ""}, "params_descr": {"aws_region": "", "monkeypatch": ""}, "params_occur": {"aws_region": [["batch_client", "boto3", "client", "region_name", "aws_region"]], "monkeypatch": [["monkeypatch", "setattr", "BatchWaitersHook", "batch_client"]]}, "params_p": {"args": [], "aws_region": [["str", 0.6783112947161206], ["int", 0.07853643005835394], ["Optional[str]", 0.07635905756510866]], "kwargs": [], "monkeypatch": [["bytes", 0.408462161775907], ["str", 0.19440573036022613], ["int", 0.12588696919185255], ["Optional[Callable]", 0.09551383273159077], ["bool", 0.08720781678304473]]}, "q_name": "patch_hook", "ret_exprs": [], "ret_type": "", "variables": {"batch_client": ""}, "variables_p": {"batch_client": [["str", 0.7550962993238165], ["botocore.client", 0.09263422979979123], ["Dict[str, str]", 0.05135575198511084]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[57, 0], [60, 54]], "fn_var_ln": {"batch_waiters": [[59, 4], [59, 17]]}, "fn_var_occur": {"batch_waiters": [["batch_waiters", "BatchWaitersHook", "region_name", "aws_region"], ["isinstance", "batch_waiters", "BatchWaitersHook"]]}, "name": "test_batch_waiters", "params": {"aws_region": ""}, "params_descr": {"aws_region": ""}, "params_occur": {"aws_region": [["batch_waiters", "BatchWaitersHook", "region_name", "aws_region"]]}, "params_p": {"args": [], "aws_region": [["bytes", 0.2094788213140901], ["str", 0.17530185061437423], ["BinaryIO", 0.10112576817922057]], "kwargs": []}, "q_name": "test_batch_waiters", "ret_exprs": [], "ret_type": "", "variables": {"batch_waiters": ""}, "variables_p": {"batch_waiters": [["str", 0.48158733281490695], ["dict", 0.10391804988245462]]}}], "imports": ["__future__", "annotations", "inspect", "itertools", "time", "unittest", "mock", "boto3", "pytest", "botocore", "exceptions", "ClientError", "WaiterError", "botocore", "waiter", "SingleWaiterConfig", "WaiterModel", "moto", "mock_batch", "airflow", "exceptions", "AirflowException", "airflow", "providers", "amazon", "aws", "hooks", "batch_waiters", "BatchWaitersHook", "airflow", "providers", "amazon", "aws", "utils", "task_log_fetcher", "AwsTaskLogFetcher", "sys"], "mod_var_ln": {"ALL_STATES": [[39, 0], [39, 10]], "AWS_REGION": [[40, 0], [40, 10]], "FAILED_STATE": [[38, 0], [38, 12]], "INTERMEDIATE_STATES": [[35, 0], [35, 19]], "RUNNING_STATE": [[36, 0], [36, 13]], "SUCCESS_STATE": [[37, 0], [37, 13]]}, "mod_var_occur": {"ALL_STATES": [["status", "ALL_STATES"]], "AWS_REGION": [["AWS_REGION"], ["self", "region_name", "AWS_REGION"], ["self", "batch_waiters", "BatchWaitersHook", "region_name", "AWS_REGION"]], "FAILED_STATE": [["ALL_STATES", "INTERMEDIATE_STATES", "RUNNING_STATE", "SUCCESS_STATE", "FAILED_STATE"], ["self", "mock_describe_jobs", "side_effect", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "RUNNING_STATE", "self", "describe_jobs_response", "job_id", "job_id", "status", "FAILED_STATE", "RuntimeError"]], "INTERMEDIATE_STATES": [["ALL_STATES", "INTERMEDIATE_STATES", "RUNNING_STATE", "SUCCESS_STATE", "FAILED_STATE"], ["self", "mock_describe_jobs", "side_effect", "itertools", "chain", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "inter_status", "inter_status", "INTERMEDIATE_STATES", "self", "describe_jobs_response", "job_id", "job_id", "status", "status", "RuntimeError"]], "RUNNING_STATE": [["ALL_STATES", "INTERMEDIATE_STATES", "RUNNING_STATE", "SUCCESS_STATE", "FAILED_STATE"], ["self", "mock_describe_jobs", "side_effect", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "RUNNING_STATE", "self", "describe_jobs_response", "job_id", "job_id", "status", "SUCCESS_STATE", "RuntimeError"], ["self", "mock_describe_jobs", "side_effect", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "RUNNING_STATE", "self", "describe_jobs_response", "job_id", "job_id", "status", "FAILED_STATE", "RuntimeError"], ["self", "mock_describe_jobs", "side_effect", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "RUNNING_STATE"]], "SUCCESS_STATE": [["ALL_STATES", "INTERMEDIATE_STATES", "RUNNING_STATE", "SUCCESS_STATE", "FAILED_STATE"], ["self", "mock_describe_jobs", "side_effect", "itertools", "repeat", "self", "describe_jobs_response", "job_id", "job_id", "status", "RUNNING_STATE", "self", "describe_jobs_response", "job_id", "job_id", "status", "SUCCESS_STATE", "RuntimeError"]]}, "no_types_annot": {"D": 3, "I": 0, "U": 77}, "session_id": "ocXEooQQgnP3bxIHD_izsWzQx3-Qb7T3AKIpSsAijSU", "set": null, "tc": [false, null], "type_annot_cove": 0.04, "typed_seq": "", "untyped_seq": "", "variables": {"ALL_STATES": "", "AWS_REGION": "", "FAILED_STATE": "", "INTERMEDIATE_STATES": "", "RUNNING_STATE": "", "SUCCESS_STATE": ""}, "variables_p": {"ALL_STATES": [["list", 0.5146607936918521], ["Dict[str, Any]", 0.30792171042699573], ["str", 0.05363052743381438], ["Tuple[str, str, str, str, str, str, str, str, str]", 0.031337324398292225], ["int", 0.02681526371690719]], "AWS_REGION": [["str", 0.45688687980069165], ["int", 0.1292103232086169], ["Dict[str, str]", 0.1253871967324633], ["Optional[str]", 0.10701239300021335], ["Dict[str, Union[Any, Any]]", 0.08695167744002481]], "FAILED_STATE": [["tests.utils.MetricsRelativeState", 0.4099769816388257], ["raiden.tests.utils.factories.ChannelSet", 0.09881071082990481], ["bytearray", 0.09700551501946304], ["list", 0.08984537298639463]], "INTERMEDIATE_STATES": [["tests.utils.MetricsRelativeState", 0.5142730663974316], ["bytearray", 0.09740204402535126], ["raiden.tests.utils.factories.ChannelSet", 0.09677571828217003]], "RUNNING_STATE": [["str", 0.2200200670404278]], "SUCCESS_STATE": [["tests.utils.MetricsRelativeState", 0.4099769816388257], ["raiden.tests.utils.factories.ChannelSet", 0.09881071082990481], ["bytearray", 0.09700551501946304], ["list", 0.08984537298639463]]}}}