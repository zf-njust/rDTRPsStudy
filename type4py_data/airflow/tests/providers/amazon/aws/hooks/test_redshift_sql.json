{"error": null, "response": {"classes": [{"cls_lc": [[36, 0], [197, 13]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[37, 4], [49, 66]], "fn_var_ln": {"connection": [[38, 8], [38, 23]], "db_hook": [[47, 8], [47, 20]]}, "fn_var_occur": {"connection": [["self", "connection", "Connection", "conn_type", "login", "LOGIN_USER", "password", "LOGIN_PASSWORD", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "schema", "LOGIN_SCHEMA"], ["self", "db_hook", "get_connection", "return_value", "self", "connection"]], "db_hook": [["self", "db_hook", "RedshiftSQLHook"], ["self", "db_hook", "get_connection", "mock", "Mock"], ["self", "db_hook", "get_connection", "return_value", "self", "connection"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "connection", "Connection", "conn_type", "login", "LOGIN_USER", "password", "LOGIN_PASSWORD", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "schema", "LOGIN_SCHEMA"], ["self", "db_hook", "RedshiftSQLHook"], ["self", "db_hook", "get_connection", "mock", "Mock"], ["self", "db_hook", "get_connection", "return_value", "self", "connection"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestRedshiftSQLHookConn.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"connection": "", "db_hook": ""}, "variables_p": {"connection": [["str", 0.29544475054226055], ["raiden.utils.MessageID", 0.219578830596665], ["models.Model", 0.09517951779621052], ["bool", 0.09340759402044675], ["dict", 0.09142849852318259]], "db_hook": [["pymysql.connections.Connection", 0.09987007506841326]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[51, 4], [54, 28]], "fn_var_ln": {"expected": [[52, 8], [52, 16]], "x": [[53, 8], [53, 9]]}, "fn_var_occur": {"expected": [["x", "expected"]], "x": [["x", "self", "db_hook", "get_uri"], ["x", "expected"]]}, "name": "test_get_uri", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["x", "self", "db_hook", "get_uri"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestRedshiftSQLHookConn.test_get_uri", "ret_exprs": [], "ret_type": "", "variables": {"expected": "", "x": ""}, "variables_p": {"expected": [["str", 0.4], ["Dict[int, List[Any]]", 0.1], ["List[Union[int, str]]", 0.1], ["List[str]", 0.1]], "x": [["int", 0.40721932373898473], ["Tuple[Tuple[int, str], Tuple[int, str, int]]", 0.18116294380891276], ["float", 0.0957209835185272], ["dict", 0.09425913862820495], ["Tuple[Tuple[Literal, Literal], Tuple[Literal, Literal, Literal]]", 0.09058147190445638]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[57, 4], [61, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_get_conn", "params": {"mock_connect": "", "self": ""}, "params_descr": {"mock_connect": "", "self": ""}, "params_occur": {"mock_connect": [["mock_connect", "assert_called_once_with", "user", "password", "host", "port", "database"]], "self": [["self", "db_hook", "get_conn"]]}, "params_p": {"args": [], "kwargs": [], "mock_connect": [], "self": []}, "q_name": "TestRedshiftSQLHookConn.test_get_conn", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[64, 4], [82, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_get_conn_extra", "params": {"mock_connect": "", "self": ""}, "params_descr": {"mock_connect": "", "self": ""}, "params_occur": {"mock_connect": [["mock_connect", "assert_called_once_with", "user", "LOGIN_USER", "password", "LOGIN_PASSWORD", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "cluster_identifier", "profile", "database", "LOGIN_SCHEMA", "iam", "False"]], "self": [["self", "connection", "extra", "json", "dumps", "False"], ["self", "db_hook", "get_conn"]]}, "params_p": {"args": [], "kwargs": [], "mock_connect": [], "self": []}, "q_name": "TestRedshiftSQLHookConn.test_get_conn_extra", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[87, 4], [121, 9]], "fn_var_ln": {"mock_conn_extra": [[88, 8], [88, 23]], "mock_db_pass": [[94, 8], [94, 20]], "mock_db_user": [[93, 8], [93, 20]]}, "fn_var_occur": {"mock_conn_extra": [["mock_conn_extra", "True"], ["self", "connection", "extra", "json", "dumps", "mock_conn_extra"]], "mock_db_pass": [["mock_aws_hook_conn", "get_cluster_credentials", "return_value", "mock_db_pass", "mock_db_user"], ["mock_connect", "assert_called_once_with", "user", "mock_db_user", "password", "mock_db_pass", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "cluster_identifier", "profile", "database", "LOGIN_SCHEMA", "iam", "True"]], "mock_db_user": [["mock_db_user", "self", "connection", "login"], ["mock_aws_hook_conn", "get_cluster_credentials", "return_value", "mock_db_pass", "mock_db_user"], ["mock_connect", "assert_called_once_with", "user", "mock_db_user", "password", "mock_db_pass", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "cluster_identifier", "profile", "database", "LOGIN_SCHEMA", "iam", "True"]]}, "name": "test_get_conn_iam", "params": {"aws_conn_id": "", "mock_aws_hook_conn": "", "mock_connect": "", "self": ""}, "params_descr": {"aws_conn_id": "", "mock_aws_hook_conn": "", "mock_connect": "", "self": ""}, "params_occur": {"aws_conn_id": [["aws_conn_id", "NOTSET"], ["self", "db_hook", "aws_conn_id", "aws_conn_id"]], "mock_aws_hook_conn": [["mock_aws_hook_conn", "get_cluster_credentials", "return_value", "mock_db_pass", "mock_db_user"], ["mock_aws_hook_conn", "get_cluster_credentials", "assert_called_once_with", "DbUser", "LOGIN_USER", "DbName", "LOGIN_SCHEMA", "ClusterIdentifier", "AutoCreate", "False"]], "mock_connect": [["mock_connect", "assert_called_once_with", "user", "mock_db_user", "password", "mock_db_pass", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "cluster_identifier", "profile", "database", "LOGIN_SCHEMA", "iam", "True"]], "self": [["self", "db_hook", "aws_conn_id", "aws_conn_id"], ["self", "connection", "extra", "json", "dumps", "mock_conn_extra"], ["mock_db_user", "self", "connection", "login"], ["self", "db_hook", "get_conn"]]}, "params_p": {"args": [], "aws_conn_id": [["str", 0.37689156822204484], ["Union[int, None]", 0.10191482072626849], ["Optional[str]", 0.09200448090655464]], "kwargs": [], "mock_aws_hook_conn": [], "mock_connect": [["str", 0.4880149035098129]], "self": []}, "q_name": "TestRedshiftSQLHookConn.test_get_conn_iam", "ret_exprs": [], "ret_type": "", "variables": {"mock_conn_extra": "", "mock_db_pass": "", "mock_db_user": ""}, "variables_p": {"mock_conn_extra": [], "mock_db_pass": [["Dict[str, str]", 0.31499437573124744], ["Dict[Any, Dict[str, str]]", 0.30422832133105937], ["str", 0.10278271439082329], ["tests.utils.MockCoroutine", 0.08686680243162899], ["Dict[str, Union[int, str]]", 0.07728987335043022]], "mock_db_user": [["str", 0.6137131048877451], ["Dict[str, str]", 0.10142213192220377], ["dict", 0.10072507065429784], ["Dict[Any, str]", 0.09214399478741425], ["Dict[str, Union[Any, str]]", 0.09199569774833906]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[134, 4], [140, 70]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_get_conn_overrides_correctly", "params": {"conn_extra": "", "conn_params": "", "expected_call_args": "", "mock_connect": "", "self": ""}, "params_descr": {"conn_extra": "", "conn_params": "", "expected_call_args": "", "mock_connect": "", "self": ""}, "params_occur": {"conn_extra": [["mock", "patch", "Connection", "conn_type", "extra", "conn_extra", "conn_params"]], "conn_params": [["mock", "patch", "Connection", "conn_type", "extra", "conn_extra", "conn_params"]], "expected_call_args": [["mock_connect", "assert_called_once_with", "expected_call_args"]], "mock_connect": [["mock_connect", "assert_called_once_with", "expected_call_args"]], "self": [["self", "db_hook", "get_conn"]]}, "params_p": {"args": [], "conn_extra": [["Dict[Any, int]", 0.11916319620684383], ["str", 0.09601528532274918], ["dict", 0.09397737690907672]], "conn_params": [["Dict[Any, int]", 0.11916319620684383], ["str", 0.09601528532274918], ["dict", 0.09397737690907672]], "expected_call_args": [["str", 0.18929400794426743], ["core.models.Recipe", 0.11002992290468713]], "kwargs": [], "mock_connect": [["str", 0.18929400794426743], ["core.models.Recipe", 0.11002992290468713]], "self": []}, "q_name": "TestRedshiftSQLHookConn.test_get_conn_overrides_correctly", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[167, 4], [197, 13]], "fn_var_ln": {"mock_db_pass": [[180, 8], [180, 20]], "mock_db_user": [[179, 8], [179, 20]]}, "fn_var_occur": {"mock_db_pass": [["mock_aws_hook_conn", "get_cluster_credentials", "return_value", "mock_db_pass", "mock_db_user"]], "mock_db_user": [["mock_db_user", "self", "connection", "login"], ["mock_aws_hook_conn", "get_cluster_credentials", "return_value", "mock_db_pass", "mock_db_user"]]}, "name": "test_get_iam_token", "params": {"connection_extra": "", "connection_host": "", "expected_cluster_identifier": "", "expected_exception_msg": "", "mock_aws_hook_conn": "", "mock_connect": "", "self": ""}, "params_descr": {"connection_extra": "", "connection_host": "", "expected_cluster_identifier": "", "expected_exception_msg": "", "mock_aws_hook_conn": "", "mock_connect": "", "self": ""}, "params_occur": {"connection_extra": [["self", "connection", "extra", "json", "dumps", "connection_extra"]], "connection_host": [["self", "connection", "host", "connection_host"]], "expected_cluster_identifier": [["mock_aws_hook_conn", "get_cluster_credentials", "assert_called_once_with", "DbUser", "LOGIN_USER", "DbName", "LOGIN_SCHEMA", "ClusterIdentifier", "expected_cluster_identifier", "AutoCreate", "False"]], "expected_exception_msg": [["expected_exception_msg", "None"], ["pytest", "raises", "AirflowException", "match", "expected_exception_msg"]], "mock_aws_hook_conn": [["mock_aws_hook_conn", "get_cluster_credentials", "return_value", "mock_db_pass", "mock_db_user"], ["mock_aws_hook_conn", "get_cluster_credentials", "assert_called_once_with", "DbUser", "LOGIN_USER", "DbName", "LOGIN_SCHEMA", "ClusterIdentifier", "expected_cluster_identifier", "AutoCreate", "False"]], "mock_connect": [], "self": [["self", "connection", "host", "connection_host"], ["self", "connection", "extra", "json", "dumps", "connection_extra"], ["mock_db_user", "self", "connection", "login"], ["self", "db_hook", "get_conn"], ["self", "db_hook", "get_conn"]]}, "params_p": {"args": [], "connection_extra": [["str", 0.2664033909204132], ["bool", 0.08107875395744096], ["Optional[str]", 0.07586111336314483]], "connection_host": [], "expected_cluster_identifier": [["mock.Mock", 0.13119580578959955]], "expected_exception_msg": [["str", 0.3835735552700229], ["core.models.MyUser", 0.20519838866612555]], "kwargs": [], "mock_aws_hook_conn": [], "mock_connect": [["mock.Mock", 0.24429448695623224]], "self": []}, "q_name": "TestRedshiftSQLHookConn.test_get_iam_token", "ret_exprs": [], "ret_type": "", "variables": {"mock_db_pass": "", "mock_db_user": ""}, "variables_p": {"mock_db_pass": [["Dict[str, List[Any]]", 0.22896653464526018], ["List[str]", 0.18887970753472144], ["Dict[Any, Union[Any, Any]]", 0.12092007669653516], ["List[Tuple[str, Any]]", 0.11397228158526312], ["tests.utils.MockCoroutine", 0.09013163027972167], ["Dict[str, int]", 0.08824207797637869], ["Dict[str, str]", 0.0854740671981605], ["Dict[str, Union[Any, Any, Any]]", 0.08341362408395908]], "mock_db_user": [["str", 0.6193298555334857], ["Dict[str, str]", 0.09889971200513617], ["Dict[str, Union[Any, str]]", 0.09674725718071675], ["dict", 0.09491867569836211], ["Dict[Any, str]", 0.09010449958229931]]}}], "name": "TestRedshiftSQLHookConn", "q_name": "TestRedshiftSQLHookConn", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "json", "unittest", "mock", "pytest", "airflow", "AirflowException", "airflow", "models", "Connection", "airflow", "providers", "amazon", "aws", "hooks", "redshift_sql", "RedshiftSQLHook", "airflow", "utils", "types", "NOTSET"], "mod_var_ln": {"LOGIN_HOST": [[31, 0], [31, 10]], "LOGIN_PASSWORD": [[30, 0], [30, 14]], "LOGIN_PORT": [[32, 0], [32, 10]], "LOGIN_SCHEMA": [[33, 0], [33, 12]], "LOGIN_USER": [[29, 0], [29, 10]]}, "mod_var_occur": {"LOGIN_HOST": [["self", "connection", "Connection", "conn_type", "login", "LOGIN_USER", "password", "LOGIN_PASSWORD", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "schema", "LOGIN_SCHEMA"], ["mock_connect", "assert_called_once_with", "user", "LOGIN_USER", "password", "LOGIN_PASSWORD", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "cluster_identifier", "profile", "database", "LOGIN_SCHEMA", "iam", "False"], ["mock_connect", "assert_called_once_with", "user", "mock_db_user", "password", "mock_db_pass", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "cluster_identifier", "profile", "database", "LOGIN_SCHEMA", "iam", "True"]], "LOGIN_PASSWORD": [["self", "connection", "Connection", "conn_type", "login", "LOGIN_USER", "password", "LOGIN_PASSWORD", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "schema", "LOGIN_SCHEMA"], ["mock_connect", "assert_called_once_with", "user", "LOGIN_USER", "password", "LOGIN_PASSWORD", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "cluster_identifier", "profile", "database", "LOGIN_SCHEMA", "iam", "False"]], "LOGIN_PORT": [["self", "connection", "Connection", "conn_type", "login", "LOGIN_USER", "password", "LOGIN_PASSWORD", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "schema", "LOGIN_SCHEMA"], ["mock_connect", "assert_called_once_with", "user", "LOGIN_USER", "password", "LOGIN_PASSWORD", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "cluster_identifier", "profile", "database", "LOGIN_SCHEMA", "iam", "False"], ["mock_connect", "assert_called_once_with", "user", "mock_db_user", "password", "mock_db_pass", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "cluster_identifier", "profile", "database", "LOGIN_SCHEMA", "iam", "True"]], "LOGIN_SCHEMA": [["self", "connection", "Connection", "conn_type", "login", "LOGIN_USER", "password", "LOGIN_PASSWORD", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "schema", "LOGIN_SCHEMA"], ["mock_connect", "assert_called_once_with", "user", "LOGIN_USER", "password", "LOGIN_PASSWORD", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "cluster_identifier", "profile", "database", "LOGIN_SCHEMA", "iam", "False"], ["mock_aws_hook_conn", "get_cluster_credentials", "assert_called_once_with", "DbUser", "LOGIN_USER", "DbName", "LOGIN_SCHEMA", "ClusterIdentifier", "AutoCreate", "False"], ["mock_connect", "assert_called_once_with", "user", "mock_db_user", "password", "mock_db_pass", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "cluster_identifier", "profile", "database", "LOGIN_SCHEMA", "iam", "True"], ["mock_aws_hook_conn", "get_cluster_credentials", "assert_called_once_with", "DbUser", "LOGIN_USER", "DbName", "LOGIN_SCHEMA", "ClusterIdentifier", "expected_cluster_identifier", "AutoCreate", "False"]], "LOGIN_USER": [["self", "connection", "Connection", "conn_type", "login", "LOGIN_USER", "password", "LOGIN_PASSWORD", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "schema", "LOGIN_SCHEMA"], ["mock_connect", "assert_called_once_with", "user", "LOGIN_USER", "password", "LOGIN_PASSWORD", "host", "LOGIN_HOST", "port", "LOGIN_PORT", "cluster_identifier", "profile", "database", "LOGIN_SCHEMA", "iam", "False"], ["mock_aws_hook_conn", "get_cluster_credentials", "assert_called_once_with", "DbUser", "LOGIN_USER", "DbName", "LOGIN_SCHEMA", "ClusterIdentifier", "AutoCreate", "False"], ["mock_aws_hook_conn", "get_cluster_credentials", "assert_called_once_with", "DbUser", "LOGIN_USER", "DbName", "LOGIN_SCHEMA", "ClusterIdentifier", "expected_cluster_identifier", "AutoCreate", "False"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 36}, "session_id": "0flvdmNQf1mLmLTcDdkEYTzak_lm-IY2ySGbQsQI7hY", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"LOGIN_HOST": "", "LOGIN_PASSWORD": "", "LOGIN_PORT": "", "LOGIN_SCHEMA": "", "LOGIN_USER": ""}, "variables_p": {"LOGIN_HOST": [["str", 0.3088440271847715], ["bool", 0.10689832704001075], ["models.Model", 0.09860401688124042], ["raiden.utils.MessageID", 0.09737317179551716], ["models.characters.states.AttributeType", 0.09269508218269604]], "LOGIN_PASSWORD": [["str", 0.3055690870017992], ["Optional[str]", 0.10104461565184858], ["pytch.typesystem.types.BaseTy", 0.10097543495020034], ["Type[str]", 0.09886981434095933], ["Iterable[int]", 0.09468233419622617]], "LOGIN_PORT": [["str", 0.3088440271847715], ["bool", 0.10689832704001075], ["models.Model", 0.09860401688124042], ["raiden.utils.MessageID", 0.09737317179551716], ["models.characters.states.AttributeType", 0.09269508218269604]], "LOGIN_SCHEMA": [["str", 0.3088440271847715], ["bool", 0.10689832704001075], ["models.Model", 0.09860401688124042], ["raiden.utils.MessageID", 0.09737317179551716], ["models.characters.states.AttributeType", 0.09269508218269604]], "LOGIN_USER": [["str", 0.48614826432150937], ["Type[str]", 0.09429793419414836]]}}}