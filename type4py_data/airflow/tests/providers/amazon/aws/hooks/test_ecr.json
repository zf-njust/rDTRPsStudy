{"error": null, "response": {"classes": [{"cls_lc": [[39, 0], [103, 86]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": "Test expected boto3 client type.", "long_descr": null, "ret": null}, "fn_lc": [[40, 4], [42, 45]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_service_type", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestEcrHook.test_service_type", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Test different types of empty account/registry ids.", "long_descr": null, "ret": null}, "fn_lc": [[52, 4], [58, 71]], "fn_var_ln": {"result": [[54, 8], [54, 14]]}, "fn_var_occur": {"result": [["result", "EcrHook", "get_temporary_credentials", "registry_ids", "accounts_ids"], ["len", "result"], ["result", "username"], ["result", "registry", "startswith", "DEFAULT_ACCOUNT_ID"], ["result", "password", "DEFAULT_ACCOUNT_ID"]]}, "name": "test_get_temporary_credentials_default_account_id", "params": {"accounts_ids": "", "patch_hook": "", "self": ""}, "params_descr": {"accounts_ids": "", "patch_hook": "", "self": ""}, "params_occur": {"accounts_ids": [["result", "EcrHook", "get_temporary_credentials", "registry_ids", "accounts_ids"]], "patch_hook": [], "self": []}, "params_p": {"accounts_ids": [["str", 0.37723813386363586], ["int", 0.21643681727700637], ["Optional[int]", 0.10025194409695332]], "args": [], "kwargs": [], "patch_hook": [["bool", 0.5013492622633218], ["str", 0.20023039662081574], ["int", 0.10115681167031963]], "self": []}, "q_name": "TestEcrHook.test_get_temporary_credentials_default_account_id", "ret_exprs": [], "ret_type": "", "variables": {"result": ""}, "variables_p": {"result": [["preacher.core.status.StatusedList[preacher.core.scenario.case.CaseResult]", 0.209580171527684], ["Dict[str, str]", 0.19181352878981256], ["Dict[str, int]", 0.19181352878981256], ["str", 0.10642656939940182], ["bytearray", 0.10007410037237037]]}}, {"docstring": {"func": "Test different types of single account/registry ids.", "long_descr": null, "ret": null}, "fn_lc": [[68, 4], [74, 70]], "fn_var_ln": {"result": [[70, 8], [70, 14]]}, "fn_var_occur": {"result": [["result", "EcrHook", "get_temporary_credentials", "registry_ids", "accounts_id"], ["len", "result"], ["result", "username"], ["result", "registry", "startswith", "expected_registry"], ["result", "password", "expected_registry"]]}, "name": "test_get_temporary_credentials_single_account_id", "params": {"accounts_id": "", "expected_registry": "", "patch_hook": "", "self": ""}, "params_descr": {"accounts_id": "", "expected_registry": "", "patch_hook": "", "self": ""}, "params_occur": {"accounts_id": [["result", "EcrHook", "get_temporary_credentials", "registry_ids", "accounts_id"]], "expected_registry": [["result", "registry", "startswith", "expected_registry"], ["result", "password", "expected_registry"]], "patch_hook": [], "self": []}, "params_p": {"accounts_id": [["str", 0.4630787152939835], ["int", 0.31945171859365507], ["Optional[int]", 0.11423284208078069]], "args": [], "expected_registry": [["str", 0.3239919703548879], ["List[int]", 0.18917806280911098], ["bool", 0.18775036281947072]], "kwargs": [], "patch_hook": [["str", 0.3208548722675821], ["int", 0.1621096183159387], ["bool", 0.155099828424072], ["Sequence[str]", 0.1029933010322723], ["dict", 0.08378367126450244]], "self": []}, "q_name": "TestEcrHook.test_get_temporary_credentials_single_account_id", "ret_exprs": [], "ret_type": "", "variables": {"result": ""}, "variables_p": {"result": [["Dict[str, int]", 0.28414146880867425], ["preacher.core.status.StatusedList[preacher.core.scenario.case.CaseResult]", 0.19702955197943814], ["Dict[str, str]", 0.1894276458724495], ["str", 0.10931155329541675], ["bytearray", 0.09804726643788941]]}}, {"docstring": {"func": "Test multiple account ids in the single method call.", "long_descr": null, "ret": null}, "fn_lc": [[83, 4], [89, 92]], "fn_var_ln": {"expected_creds": [[85, 8], [85, 22]], "result": [[86, 8], [86, 14]]}, "fn_var_occur": {"expected_creds": [["expected_creds", "len", "accounts_ids"], ["len", "result", "expected_creds"], ["cr", "username", "cr", "result", "expected_creds"]], "result": [["result", "EcrHook", "get_temporary_credentials", "registry_ids", "accounts_ids"], ["len", "result", "expected_creds"], ["cr", "username", "cr", "result", "expected_creds"], ["all", "cr", "registry", "startswith", "accounts_ids", "ix", "ix", "cr", "enumerate", "result"]]}, "name": "test_get_temporary_credentials_multiple_account_ids", "params": {"accounts_ids": "", "patch_hook": "", "self": ""}, "params_descr": {"accounts_ids": "", "patch_hook": "", "self": ""}, "params_occur": {"accounts_ids": [["expected_creds", "len", "accounts_ids"], ["result", "EcrHook", "get_temporary_credentials", "registry_ids", "accounts_ids"], ["all", "cr", "registry", "startswith", "accounts_ids", "ix", "ix", "cr", "enumerate", "result"]], "patch_hook": [], "self": []}, "params_p": {"accounts_ids": [["int", 0.36934601397086614], ["str", 0.19800870857483233], ["bytearray", 0.134976894962731], ["Collection", 0.1022006622835189]], "args": [], "kwargs": [], "patch_hook": [["str", 0.3056990963945172], ["bool", 0.295636486403101], ["int", 0.19518799873044843], ["Sequence[str]", 0.094856136919596]], "self": []}, "q_name": "TestEcrHook.test_get_temporary_credentials_multiple_account_ids", "ret_exprs": [], "ret_type": "", "variables": {"expected_creds": "", "result": ""}, "variables_p": {"expected_creds": [["List[int]", 0.20356191598707185], ["list", 0.14504873156166728], ["List[str]", 0.10793986512489051], ["bytes", 0.09829978260238662], ["Pattern[str]", 0.08470170055209678]], "result": [["preacher.core.status.StatusedList[preacher.core.scenario.case.CaseResult]", 0.17870791518565735], ["bytearray", 0.12109289772796074], ["str", 0.11467795059057159]]}}, {"docstring": {"func": "Test masking passwords.", "long_descr": null, "ret": null}, "fn_lc": [[100, 4], [103, 86]], "fn_var_ln": {"result": [[102, 8], [102, 14]]}, "fn_var_occur": {"result": [["result", "EcrHook", "get_temporary_credentials", "registry_ids", "accounts_ids"], ["mock_masker", "call_args_list", "mock", "call", "cr", "password", "cr", "result"]]}, "name": "test_get_temporary_credentials_mask_secrets", "params": {"accounts_ids": "", "mock_masker": "", "patch_hook": "", "self": ""}, "params_descr": {"accounts_ids": "", "mock_masker": "", "patch_hook": "", "self": ""}, "params_occur": {"accounts_ids": [["result", "EcrHook", "get_temporary_credentials", "registry_ids", "accounts_ids"]], "mock_masker": [["mock_masker", "call_args_list", "mock", "call", "cr", "password", "cr", "result"]], "patch_hook": [], "self": []}, "params_p": {"accounts_ids": [["int", 0.38560959921019944], ["str", 0.2973231484366532], ["Optional[str]", 0.22016077999606842]], "args": [], "kwargs": [], "mock_masker": [], "patch_hook": [["str", 0.18682018015223206], ["bool", 0.17327444311028659], ["int", 0.12677566497456316], ["Sequence[str]", 0.07974488714267403]], "self": []}, "q_name": "TestEcrHook.test_get_temporary_credentials_mask_secrets", "ret_exprs": [], "ret_type": "", "variables": {"result": ""}, "variables_p": {"result": [["str", 0.13048859997429277], ["list", 0.09831969338308626]]}}], "name": "TestEcrHook", "q_name": "TestEcrHook", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": "Patch hook object by dummy boto3 ECR client.", "long_descr": null, "ret": null}, "fn_lc": [[31, 0], [35, 9]], "fn_var_ln": {"ecr_client": [[33, 4], [33, 14]]}, "fn_var_occur": {"ecr_client": [["ecr_client", "boto3", "client"], ["monkeypatch", "setattr", "EcrHook", "ecr_client"]]}, "name": "patch_hook", "params": {"monkeypatch": ""}, "params_descr": {"monkeypatch": ""}, "params_occur": {"monkeypatch": [["monkeypatch", "setattr", "EcrHook", "ecr_client"]]}, "params_p": {"args": [], "kwargs": [], "monkeypatch": [["bool", 0.30320799152945677], ["str", 0.20750945093824114], ["Iterable[T]", 0.11726024393088409], ["int", 0.10106933050981892]]}, "q_name": "patch_hook", "ret_exprs": [], "ret_type": "", "variables": {"ecr_client": ""}, "variables_p": {"ecr_client": []}}], "imports": ["__future__", "annotations", "unittest", "mock", "boto3", "pytest", "moto", "mock_ecr", "moto", "core", "DEFAULT_ACCOUNT_ID", "airflow", "providers", "amazon", "aws", "hooks", "ecr", "EcrHook"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 23}, "session_id": "1rIHGjFibyVuq1qKakEpE7dZQFrPXI56n9rHEK4_sHc", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}