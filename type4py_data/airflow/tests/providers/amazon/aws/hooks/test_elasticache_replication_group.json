{"error": null, "response": {"classes": [{"cls_lc": [[28, 0], [212, 13]], "cls_var_ln": {"REPLICATION_GROUP_CONFIG": [[31, 4], [31, 28]], "REPLICATION_GROUP_ID": [[29, 4], [29, 24]], "VALID_STATES": [[42, 4], [42, 16]]}, "cls_var_occur": {"REPLICATION_GROUP_CONFIG": [], "REPLICATION_GROUP_ID": [], "VALID_STATES": []}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[46, 4], [54, 9]], "fn_var_ln": {"hook": [[47, 8], [47, 17]]}, "fn_var_occur": {"hook": [["self", "hook", "ElastiCacheReplicationGroupHook"], ["self", "hook", "conn", "Mock"], ["self", "hook", "conn", "create_replication_group", "return_value", "self", "REPLICATION_GROUP_ID"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "hook", "ElastiCacheReplicationGroupHook"], ["self", "hook", "conn", "Mock"], ["self", "hook", "conn", "create_replication_group", "return_value", "self", "REPLICATION_GROUP_ID"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElastiCacheReplicationGroupHook.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"hook": ""}, "variables_p": {"hook": [["List[str]", 0.08944187920261591], ["Dict[str, int]", 0.08944187920261591]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[56, 4], [57, 87]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_create_replication_group", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "hook", "create_replication_group", "config", "self", "REPLICATION_GROUP_CONFIG"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElastiCacheReplicationGroupHook._create_replication_group", "ret_exprs": ["return self.hook.create_replication_group(config=self.REPLICATION_GROUP_CONFIG)"], "ret_type": "", "ret_type_p": [["Union[str, IO]", 0.41883675949297583], ["IO[str]", 0.19778936425178856], ["int", 0.1846588316090129], ["Callable", 0.10638562884171629]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[59, 4], [60, 41]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_conn_not_none", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "hook", "conn", "None"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElastiCacheReplicationGroupHook.test_conn_not_none", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[62, 4], [65, 67]], "fn_var_ln": {"response": [[63, 8], [63, 16]]}, "fn_var_occur": {"response": [["response", "self", "_create_replication_group"], ["response", "self", "REPLICATION_GROUP_ID"]]}, "name": "test_create_replication_group", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["response", "self", "_create_replication_group"], ["response", "self", "REPLICATION_GROUP_ID"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElastiCacheReplicationGroupHook.test_create_replication_group", "ret_exprs": [], "ret_type": "", "variables": {"response": ""}, "variables_p": {"response": [["dict", 0.2809849882005355], ["bytes", 0.2597728037553826], ["Dict[str, str]", 0.19354970965216134], ["Dict[Any, str]", 0.17712833226128044], ["Dict[str, Any]", 0.08856416613064022]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[67, 4], [75, 98]], "fn_var_ln": {"response": [[74, 8], [74, 16]]}, "fn_var_occur": {"response": [["response", "self", "hook", "describe_replication_group", "replication_group_id", "self", "REPLICATION_GROUP_ID"], ["response", "self", "REPLICATION_GROUP_ID"]]}, "name": "test_describe_replication_group", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "_create_replication_group"], ["self", "hook", "conn", "describe_replication_groups", "return_value", "self", "REPLICATION_GROUP_ID"], ["response", "self", "hook", "describe_replication_group", "replication_group_id", "self", "REPLICATION_GROUP_ID"], ["response", "self", "REPLICATION_GROUP_ID"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElastiCacheReplicationGroupHook.test_describe_replication_group", "ret_exprs": [], "ret_type": "", "variables": {"response": ""}, "variables_p": {"response": [["Tuple[Any, Any, Any]", 0.2968575547473675], ["DefaultDict[Any, List[Any]]", 0.1449038564251222], ["dict", 0.09693353453031968], ["Dict[str, str]", 0.09625548257474326], ["Dict[int, Any]", 0.0910816840902226], ["Dict[str, Union[Any, Any, Any, Any, Any, Any, Any]]", 0.09043124524246327], ["Dict[str, Any]", 0.09043124524246327]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[77, 4], [85, 44]], "fn_var_ln": {"response": [[84, 8], [84, 16]]}, "fn_var_occur": {"response": [["response", "self", "hook", "get_replication_group_status", "replication_group_id", "self", "REPLICATION_GROUP_ID"], ["response", "self", "VALID_STATES"]]}, "name": "test_get_replication_group_status", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "_create_replication_group"], ["self", "hook", "conn", "describe_replication_groups", "return_value", "self", "REPLICATION_GROUP_ID"], ["response", "self", "hook", "get_replication_group_status", "replication_group_id", "self", "REPLICATION_GROUP_ID"], ["response", "self", "VALID_STATES"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElastiCacheReplicationGroupHook.test_get_replication_group_status", "ret_exprs": [], "ret_type": "", "variables": {"response": ""}, "variables_p": {"response": [["Dict[str, str]", 0.22053032376269166], ["dict", 0.20607248377340925], ["str", 0.20364182347089738], ["Dict[str, Any]", 0.0910589654596432], ["Generator[Any, None, None]", 0.08593512112308173], ["Dict[int, Any]", 0.08482257100391159]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[87, 4], [95, 40]], "fn_var_ln": {"response": [[94, 8], [94, 16]]}, "fn_var_occur": {"response": [["response", "self", "hook", "is_replication_group_available", "replication_group_id", "self", "REPLICATION_GROUP_ID"], ["response", "True", "False"]]}, "name": "test_is_replication_group_available", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "_create_replication_group"], ["self", "hook", "conn", "describe_replication_groups", "return_value", "self", "REPLICATION_GROUP_ID"], ["response", "self", "hook", "is_replication_group_available", "replication_group_id", "self", "REPLICATION_GROUP_ID"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElastiCacheReplicationGroupHook.test_is_replication_group_available", "ret_exprs": [], "ret_type": "", "variables": {"response": ""}, "variables_p": {"response": [["Tuple[Any, Any, Any]", 0.3244946268863437], ["Dict[str, Union[float, str]]", 0.19508908153484203], ["Dict[str, str]", 0.18891092683567834], ["DefaultDict[Any, List[Any]]", 0.10497596048713276], ["DefaultDict[Any, int]", 0.09110622789576238]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[97, 4], [122, 31]], "fn_var_ln": {"response": [[117, 8], [117, 16]]}, "fn_var_occur": {"response": [["response", "self", "hook", "wait_for_availability", "replication_group_id", "self", "REPLICATION_GROUP_ID", "max_retries", "initial_sleep_time"], ["response", "False"], ["response", "self", "hook", "wait_for_availability", "replication_group_id", "self", "REPLICATION_GROUP_ID", "max_retries", "initial_sleep_time"], ["response", "True"]]}, "name": "test_wait_for_availability", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "_create_replication_group"], ["self", "hook", "conn", "describe_replication_groups", "return_value", "self", "REPLICATION_GROUP_ID"], ["response", "self", "hook", "wait_for_availability", "replication_group_id", "self", "REPLICATION_GROUP_ID", "max_retries", "initial_sleep_time"], ["self", "hook", "conn", "describe_replication_groups", "return_value", "self", "REPLICATION_GROUP_ID"], ["response", "self", "hook", "wait_for_availability", "replication_group_id", "self", "REPLICATION_GROUP_ID", "max_retries", "initial_sleep_time"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElastiCacheReplicationGroupHook.test_wait_for_availability", "ret_exprs": [], "ret_type": "", "variables": {"response": ""}, "variables_p": {"response": [["int", 0.6993172487127066], ["Dict[str, str]", 0.10080338292604629]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[124, 4], [145, 67]], "fn_var_ln": {"response": [[143, 8], [143, 16]]}, "fn_var_occur": {"response": [["response", "self", "hook", "wait_for_availability", "replication_group_id", "self", "REPLICATION_GROUP_ID", "max_retries", "initial_sleep_time"], ["response", "True"], ["response", "self", "hook", "delete_replication_group", "replication_group_id", "self", "REPLICATION_GROUP_ID"], ["response", "self", "REPLICATION_GROUP_ID"]]}, "name": "test_delete_replication_group", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "_create_replication_group"], ["self", "hook", "conn", "delete_replication_group", "return_value", "self", "REPLICATION_GROUP_ID"], ["self", "hook", "conn", "describe_replication_groups", "return_value", "self", "REPLICATION_GROUP_ID"], ["response", "self", "hook", "wait_for_availability", "replication_group_id", "self", "REPLICATION_GROUP_ID", "max_retries", "initial_sleep_time"], ["response", "self", "hook", "delete_replication_group", "replication_group_id", "self", "REPLICATION_GROUP_ID"], ["response", "self", "REPLICATION_GROUP_ID"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElastiCacheReplicationGroupHook.test_delete_replication_group", "ret_exprs": [], "ret_type": "", "variables": {"response": ""}, "variables_p": {"response": [["int", 0.5919569125653861]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[147, 4], [149, 70]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_raise_replication_group_not_found_exp", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "hook", "conn", "exceptions", "ReplicationGroupNotFoundFault", "BaseException"], ["self", "hook", "conn", "exceptions", "ReplicationGroupNotFoundFault"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElastiCacheReplicationGroupHook._raise_replication_group_not_found_exp", "ret_exprs": ["return self.hook.conn.exceptions.ReplicationGroupNotFoundFault"], "ret_type": "", "ret_type_p": [["str", 0.18670135344115185], ["Tuple[float, float]", 0.09750837319692164], ["int", 0.0751567335653802]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[152, 4], [161, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_mock_describe_side_effect", "params": {"args": "", "kwargs": "", "self": ""}, "params_descr": {"args": "", "kwargs": "", "self": ""}, "params_occur": {"args": [], "kwargs": [], "self": [["self", "REPLICATION_GROUP_ID", "self", "REPLICATION_GROUP_ID", "self", "_raise_replication_group_not_found_exp"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElastiCacheReplicationGroupHook._mock_describe_side_effect", "ret_exprs": ["return [ # On first call replication group is in available state, this will allow to initiate a delete # A replication group can only be deleted when it is in `available` state {\"ReplicationGroups\": [{\"ReplicationGroupId\": self.REPLICATION_GROUP_ID, \"Status\": \"available\"}]}, # On second call replication group is in deleting state {\"ReplicationGroups\": [{\"ReplicationGroupId\": self.REPLICATION_GROUP_ID, \"Status\": \"deleting\"}]}, # On further calls we will assume the replication group is deleted self._raise_replication_group_not_found_exp(),]"], "ret_type": "", "ret_type_p": [["bool", 0.16330490308627146], ["str", 0.1525828531950338], ["Optional[int]", 0.09633812298050923]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[163, 4], [181, 30]], "fn_var_ln": {"deleted": [[172, 18], [172, 25]], "response": [[172, 8], [172, 16]]}, "fn_var_occur": {"deleted": [["response", "deleted", "self", "hook", "wait_for_deletion", "replication_group_id", "self", "REPLICATION_GROUP_ID", "max_retries", "initial_sleep_time"], ["deleted", "True"]], "response": [["response", "deleted", "self", "hook", "wait_for_deletion", "replication_group_id", "self", "REPLICATION_GROUP_ID", "max_retries", "initial_sleep_time"], ["response", "self", "REPLICATION_GROUP_ID"]]}, "name": "test_wait_for_deletion", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "_create_replication_group"], ["self", "hook", "conn", "describe_replication_groups", "side_effect", "self", "_mock_describe_side_effect"], ["self", "hook", "conn", "delete_replication_group", "return_value", "self", "REPLICATION_GROUP_ID"], ["response", "deleted", "self", "hook", "wait_for_deletion", "replication_group_id", "self", "REPLICATION_GROUP_ID", "max_retries", "initial_sleep_time"], ["response", "self", "REPLICATION_GROUP_ID"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElastiCacheReplicationGroupHook.test_wait_for_deletion", "ret_exprs": [], "ret_type": "", "variables": {"deleted": "", "response": ""}, "variables_p": {"deleted": [["int", 0.8000937282872683], ["Set[Optional[int]]", 0.10428859673849339], ["float", 0.09561767497423833]], "response": [["int", 0.798271275736853], ["Dict[str, str]", 0.09687558745745777]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[183, 4], [196, 94]], "fn_var_ln": {"response": [[192, 8], [192, 16]]}, "fn_var_occur": {"response": [["response", "self", "hook", "ensure_delete_replication_group", "replication_group_id", "self", "REPLICATION_GROUP_ID", "initial_sleep_time", "max_retries"], ["response", "self", "REPLICATION_GROUP_ID"]]}, "name": "test_ensure_delete_replication_group_success", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "_create_replication_group"], ["self", "hook", "conn", "describe_replication_groups", "side_effect", "self", "_mock_describe_side_effect"], ["self", "hook", "conn", "delete_replication_group", "return_value", "self", "REPLICATION_GROUP_ID"], ["response", "self", "hook", "ensure_delete_replication_group", "replication_group_id", "self", "REPLICATION_GROUP_ID", "initial_sleep_time", "max_retries"], ["response", "self", "REPLICATION_GROUP_ID"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElastiCacheReplicationGroupHook.test_ensure_delete_replication_group_success", "ret_exprs": [], "ret_type": "", "variables": {"response": ""}, "variables_p": {"response": [["Dict[str, Union[Any, bool, str]]", 0.21628874541151938], ["List[List[int]]", 0.16636583466979757], ["dict", 0.09797555205176668], ["int", 0.09328499309175535]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[198, 4], [212, 13]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_ensure_delete_replication_group_failure", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "_create_replication_group"], ["self", "hook", "conn", "describe_replication_groups", "side_effect", "self", "_mock_describe_side_effect"], ["self", "hook", "conn", "delete_replication_group", "return_value", "self", "REPLICATION_GROUP_ID"], ["self", "hook", "ensure_delete_replication_group", "replication_group_id", "self", "REPLICATION_GROUP_ID", "initial_sleep_time", "max_retries"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElastiCacheReplicationGroupHook.test_ensure_delete_replication_group_failure", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "TestElastiCacheReplicationGroupHook", "q_name": "TestElastiCacheReplicationGroupHook", "variables": {"REPLICATION_GROUP_CONFIG": "", "REPLICATION_GROUP_ID": "", "VALID_STATES": ""}, "variables_p": {"REPLICATION_GROUP_CONFIG": [["str", 0.5000000000000001], ["Dict[str, Union[int, str]]", 0.20000000000000004], ["bool", 0.10000000000000002], ["Dict[str, int]", 0.10000000000000002], ["Dict[Any, Union[int, str]]", 0.10000000000000002]], "REPLICATION_GROUP_ID": [["Optional[str]", 0.3], ["int", 0.3], ["str", 0.19999999999999998], ["Optional[int]", 0.09999999999999999]], "VALID_STATES": [["str", 0.7406318716718686], ["int", 0.1697452332016761]]}}], "funcs": [], "imports": ["__future__", "annotations", "unittest", "mock", "Mock", "pytest", "airflow", "exceptions", "AirflowException", "airflow", "providers", "amazon", "aws", "hooks", "elasticache_replication_group", "ElastiCacheReplicationGroupHook"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 29}, "session_id": "LdyFDlJXbW5OOshJch0sZWHF34MrmR1fFjkJJD68GT0", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}