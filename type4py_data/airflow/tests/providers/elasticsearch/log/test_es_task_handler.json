{"error": null, "response": {"classes": [{"cls_lc": [[57, 0], [592, 77]], "cls_var_ln": {"DAG_ID": [[58, 4], [58, 10]], "EXECUTION_DATE": [[60, 4], [60, 18]], "FILENAME_TEMPLATE": [[63, 4], [63, 21]], "JSON_LOG_ID": [[62, 4], [62, 15]], "LOG_ID": [[61, 4], [61, 10]], "TASK_ID": [[59, 4], [59, 11]]}, "cls_var_occur": {"DAG_ID": [["similar_log_id", "TestElasticsearchTaskHandler", "TASK_ID", "TestElasticsearchTaskHandler", "DAG_ID"]], "EXECUTION_DATE": [], "FILENAME_TEMPLATE": [], "JSON_LOG_ID": [], "LOG_ID": [], "TASK_ID": [["similar_log_id", "TestElasticsearchTaskHandler", "TASK_ID", "TestElasticsearchTaskHandler", "DAG_ID"]]}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[66, 4], [75, 23]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "ti", "params": {"create_log_template": "", "create_task_instance": "", "self": ""}, "params_descr": {"create_log_template": "", "create_task_instance": "", "self": ""}, "params_occur": {"create_log_template": [["create_log_template", "self", "FILENAME_TEMPLATE"]], "create_task_instance": [["get_ti", "dag_id", "self", "DAG_ID", "task_id", "self", "TASK_ID", "execution_date", "self", "EXECUTION_DATE", "create_task_instance", "create_task_instance"]], "self": [["create_log_template", "self", "FILENAME_TEMPLATE"], ["get_ti", "dag_id", "self", "DAG_ID", "task_id", "self", "TASK_ID", "execution_date", "self", "EXECUTION_DATE", "create_task_instance", "create_task_instance"]]}, "params_p": {"args": [], "create_log_template": [["int", 0.10804841842573662], ["bool", 0.10077975662910636]], "create_task_instance": [["int", 0.19952601823981142], ["str", 0.19531256369570488], ["bool", 0.18265465931832056], ["Union[str, int, None]", 0.11007731323612838], ["Optional[str]", 0.11007731323612838], ["raiden.utils.List[raiden.utils.Tuple[str, raiden.utils.Any]]", 0.09227481903777801]], "kwargs": [], "self": []}, "q_name": "TestElasticsearchTaskHandler.ti", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[78, 4], [101, 90]], "fn_var_ln": {"body": [[100, 8], [100, 17]], "doc_type": [[98, 8], [98, 21]], "end_of_log_mark": [[80, 8], [80, 28]], "es": [[96, 8], [96, 15]], "es_task_handler": [[86, 8], [86, 28]], "host_field": [[84, 8], [84, 23]], "index_name": [[97, 8], [97, 23]], "json_fields": [[83, 8], [83, 24]], "json_format": [[82, 8], [82, 24]], "local_log_location": [[79, 8], [79, 31]], "offset_field": [[85, 8], [85, 25]], "test_message": [[99, 8], [99, 25]], "write_stdout": [[81, 8], [81, 25]]}, "fn_var_occur": {"body": [["self", "body", "self", "test_message", "self", "LOG_ID"], ["self", "es", "index", "index", "self", "index_name", "doc_type", "self", "doc_type", "body", "self", "body", "id"]], "doc_type": [["self", "doc_type"], ["self", "es", "index", "index", "self", "index_name", "doc_type", "self", "doc_type", "body", "self", "body", "id"]], "end_of_log_mark": [["self", "end_of_log_mark"], ["self", "es_task_handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "self", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field"]], "es": [["self", "es", "elasticsearch", "Elasticsearch", "hosts"], ["self", "es", "index", "index", "self", "index_name", "doc_type", "self", "doc_type", "body", "self", "body", "id"]], "es_task_handler": [["self", "es_task_handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "self", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field"]], "host_field": [["self", "host_field"], ["self", "es_task_handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "self", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field"]], "index_name": [["self", "index_name"], ["self", "es", "index", "index", "self", "index_name", "doc_type", "self", "doc_type", "body", "self", "body", "id"]], "json_fields": [["self", "json_fields"], ["self", "es_task_handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "self", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field"]], "json_format": [["self", "json_format", "False"], ["self", "es_task_handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "self", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field"]], "local_log_location": [["self", "local_log_location"], ["self", "es_task_handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "self", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field"]], "offset_field": [["self", "offset_field"], ["self", "es_task_handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "self", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field"]], "test_message": [["self", "test_message"], ["self", "body", "self", "test_message", "self", "LOG_ID"]], "write_stdout": [["self", "write_stdout", "False"], ["self", "es_task_handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "self", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field"]]}, "name": "setup_method", "params": {"method": "", "self": ""}, "params_descr": {"method": "", "self": ""}, "params_occur": {"method": [], "self": [["self", "local_log_location"], ["self", "end_of_log_mark"], ["self", "write_stdout", "False"], ["self", "json_format", "False"], ["self", "json_fields"], ["self", "host_field"], ["self", "offset_field"], ["self", "es_task_handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "self", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field"], ["self", "es", "elasticsearch", "Elasticsearch", "hosts"], ["self", "index_name"], ["self", "doc_type"], ["self", "test_message"], ["self", "body", "self", "test_message", "self", "LOG_ID"], ["self", "es", "index", "index", "self", "index_name", "doc_type", "self", "doc_type", "body", "self", "body", "id"]]}, "params_p": {"args": [], "kwargs": [], "method": [["str", 0.43170161069000196], ["dict", 0.19965377379201232], ["Iterable[str]", 0.16899084172597337], ["tuple", 0.08464006255844603]], "self": []}, "q_name": "TestElasticsearchTaskHandler.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"body": "", "doc_type": "", "end_of_log_mark": "", "es": "", "es_task_handler": "", "host_field": "", "index_name": "", "json_fields": "", "json_format": "", "local_log_location": "", "offset_field": "", "test_message": "", "write_stdout": ""}, "variables_p": {"body": [["str", 0.30422372727507513], ["Type[str]", 0.2040352976336479], ["List[str]", 0.19970413179853053], ["Type[MutableMapping[str, Any]]", 0.10464963308048432], ["int", 0.0942979894144199], ["Type[Callable[Any, Any]]", 0.09308922079784222]], "doc_type": [["Type[int]", 0.29683637741442226], ["Tuple[Type[int], Any]", 0.29683637741442226], ["Dict[str, Union[Any, Any]]", 0.10949086775673324], ["Type[Pattern[str]]", 0.09894545913814075]], "end_of_log_mark": [["int", 0.46726745446042933], ["Final", 0.23427562239133348], ["Counter[str]", 0.1099991111629571], ["Tuple[str, str, str, str, str, str, str, str, str, str, str, str]", 0.10221114588062376]], "es": [["int", 0.3121584457837454], ["Dict[str, int]", 0.2127754688127305], ["str", 0.10812618769076289], ["Dict[Any, str]", 0.08572937884528972]], "es_task_handler": [["logging.handlers.TimedRotatingFileHandler", 0.11829893365210022], ["int", 0.09775640148654618], ["Optional[Dict]", 0.09303067099661023]], "host_field": [["property", 0.4875978593240714], ["Union[bytes, str]", 0.12595883759646298], ["int", 0.10093278694211848], ["Tuple[str, str, str]", 0.09997241939455352], ["List[str]", 0.09405905480308087], ["str", 0.0914790419397127]], "index_name": [["str", 0.581288320246035], ["Dict[str, str]", 0.30377302278071366], ["List[str]", 0.11493865697325138]], "json_fields": [["property", 0.4875978593240714], ["Union[bytes, str]", 0.12595883759646298], ["int", 0.10093278694211848], ["Tuple[str, str, str]", 0.09997241939455352], ["List[str]", 0.09405905480308087], ["str", 0.0914790419397127]], "json_format": [["str", 0.4192207889388362], ["bool", 0.1804145822187648], ["List[Dict[str, Any]]", 0.10861511497845666], ["Dict[str, int]", 0.1017278590116974], ["List[str]", 0.09865435884490514]], "local_log_location": [["int", 0.4186676277802038], ["dict", 0.09403912585167691]], "offset_field": [["property", 0.4875978593240714], ["Union[bytes, str]", 0.12595883759646298], ["int", 0.10093278694211848], ["Tuple[str, str, str]", 0.09997241939455352], ["List[str]", 0.09405905480308087], ["str", 0.0914790419397127]], "test_message": [["str", 0.4921034561136238], ["os.stat_result", 0.12759100069166987], ["Pattern[str]", 0.098403171219631], ["myia.utils.env.SymbolicKeyInstance", 0.09614992344492118], ["int", 0.09570474113225276], ["Dict[str, Any]", 0.09004770739790148]], "write_stdout": [["str", 0.5007990884549443], ["int", 0.21269477141300186], ["bool", 0.10429383023155872], ["float", 0.09301218633062944]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[103, 4], [104, 88]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "teardown_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["shutil", "rmtree", "self", "local_log_location", "split", "os", "path", "sep", "ignore_errors", "True"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElasticsearchTaskHandler.teardown_method", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[106, 4], [108, 60]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_client", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["isinstance", "self", "es_task_handler", "client", "elasticsearch", "Elasticsearch"], ["self", "es_task_handler", "index_patterns"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElasticsearchTaskHandler.test_client", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[110, 4], [127, 9]], "fn_var_ln": {"es_conf": [[111, 8], [111, 15]], "expected_dict": [[112, 8], [112, 21]]}, "fn_var_occur": {"es_conf": [["es_conf", "dict", "conf", "getsection"], ["es_conf", "expected_dict"], ["ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "self", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field", "es_kwargs", "es_conf"]], "expected_dict": [["expected_dict", "False", "True"], ["es_conf", "expected_dict"]]}, "name": "test_client_with_config", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "self", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field", "es_kwargs", "es_conf"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElasticsearchTaskHandler.test_client_with_config", "ret_exprs": [], "ret_type": "", "variables": {"es_conf": "", "expected_dict": ""}, "variables_p": {"es_conf": [["dict", 0.24615132312724528], ["Dict[str, object]", 0.09375148655207378]], "expected_dict": [["dict", 0.30515701908527443], ["Dict[str, List[Any]]", 0.2011381324391263], ["OrderedDict[Any, Dict[str, Any]]", 0.11686181710295918], ["list", 0.09446149547594082], ["OrderedDict", 0.09303023850409659]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[129, 4], [142, 49]], "fn_var_ln": {"handler": [[132, 8], [132, 15]], "patterns": [[131, 8], [131, 16]]}, "fn_var_occur": {"handler": [["handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "self", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field", "index_patterns", "patterns"], ["handler", "index_patterns", "patterns"]], "patterns": [["handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "self", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field", "index_patterns", "patterns"], ["handler", "index_patterns", "patterns"]]}, "name": "test_client_with_patterns", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "self", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field", "index_patterns", "patterns"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElasticsearchTaskHandler.test_client_with_patterns", "ret_exprs": [], "ret_type": "", "variables": {"handler": "", "patterns": ""}, "variables_p": {"handler": [["bytes", 0.20836291352144418], ["dict", 0.10254139400758874], ["Anaconda3.Lib.site-packages.conda.gateways.logging.StdStreamHandler", 0.10198488821410363]], "patterns": [["bytes", 0.20836291352144418], ["dict", 0.10254139400758874], ["Anaconda3.Lib.site-packages.conda.gateways.logging.StdStreamHandler", 0.10198488821410363]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[144, 4], [156, 70]], "fn_var_ln": {"logs": [[146, 8], [146, 12]], "metadatas": [[146, 14], [146, 23]], "ts": [[145, 8], [145, 10]]}, "fn_var_occur": {"logs": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["len", "logs"], ["len", "logs", "len", "metadatas"], ["len", "logs"], ["self", "test_message", "logs"]], "metadatas": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["len", "logs", "len", "metadatas"], ["timezone", "parse", "metadatas", "ts"]], "ts": [["ts", "pendulum", "now"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["timezone", "parse", "metadatas", "ts"]]}, "name": "test_read", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["self", "test_message", "logs"]], "ti": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": [["tests.basilisp.helpers.CompileFn", 0.3916086121693707]]}, "q_name": "TestElasticsearchTaskHandler.test_read", "ret_exprs": [], "ret_type": "", "variables": {"logs": "", "metadatas": "", "ts": ""}, "variables_p": {"logs": [["logging.Logger", 0.7294258122826885], ["List[Tuple[Any, int]]", 0.2705741877173115]], "metadatas": [["str", 0.9999999999999999]], "ts": [["str", 0.17858585644926606], ["Type[str]", 0.11705355057735072], ["List[int]", 0.09728679750031763], ["Optional[List[Any]]", 0.0932922400973402], ["Dict[str, Union[str, Any]]", 0.0921295408741632]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[158, 4], [171, 70]], "fn_var_ln": {"logs": [[161, 12], [161, 16]], "metadatas": [[161, 18], [161, 27]], "ts": [[159, 8], [159, 10]]}, "fn_var_occur": {"logs": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["len", "logs"], ["len", "logs", "len", "metadatas"], ["len", "logs"], ["self", "test_message", "logs"]], "metadatas": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["len", "logs", "len", "metadatas"], ["timezone", "parse", "metadatas", "ts"]], "ts": [["ts", "pendulum", "now"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["timezone", "parse", "metadatas", "ts"]]}, "name": "test_read_with_patterns", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["mock", "patch", "object", "self", "es_task_handler", "new"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["self", "test_message", "logs"]], "ti": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": [["tests.basilisp.helpers.CompileFn", 0.3916086121693707]]}, "q_name": "TestElasticsearchTaskHandler.test_read_with_patterns", "ret_exprs": [], "ret_type": "", "variables": {"logs": "", "metadatas": "", "ts": ""}, "variables_p": {"logs": [["logging.Logger", 0.7294258122826885], ["List[Tuple[Any, int]]", 0.2705741877173115]], "metadatas": [["str", 0.9999999999999999]], "ts": [["str", 0.17858585644926606], ["Type[str]", 0.11705355057735072], ["List[int]", 0.09728679750031763], ["Optional[List[Any]]", 0.0932922400973402], ["Dict[str, Union[str, Any]]", 0.0921295408741632]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[173, 4], [186, 71]], "fn_var_ln": {"logs": [[176, 12], [176, 16]], "metadatas": [[176, 18], [176, 27]], "ts": [[174, 8], [174, 10]]}, "fn_var_occur": {"logs": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["len", "logs"], ["len", "logs", "len", "metadatas"]], "metadatas": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["len", "logs", "len", "metadatas"], ["timezone", "parse", "metadatas", "ts"]], "ts": [["ts", "pendulum", "now"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["timezone", "parse", "metadatas", "ts"]]}, "name": "test_read_with_patterns_no_match", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["mock", "patch", "object", "self", "es_task_handler", "new"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]], "ti": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": [["tests.basilisp.helpers.CompileFn", 0.18237019539138394]]}, "q_name": "TestElasticsearchTaskHandler.test_read_with_patterns_no_match", "ret_exprs": [], "ret_type": "", "variables": {"logs": "", "metadatas": "", "ts": ""}, "variables_p": {"logs": [["str", 0.7401770297305282], ["bool", 0.11249777496783374], ["logging.Logger", 0.08143235157744727], ["deque", 0.0658928437241906]], "metadatas": [["str", 0.9999999999999999]], "ts": [["str", 0.17858585644926606], ["Type[str]", 0.11705355057735072], ["List[int]", 0.09728679750031763], ["Optional[List[Any]]", 0.0932922400973402], ["Dict[str, Union[str, Any]]", 0.0921295408741632]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[188, 4], [194, 17]], "fn_var_ln": {"ts": [[189, 8], [189, 10]]}, "fn_var_occur": {"ts": [["ts", "pendulum", "now"], ["self", "es_task_handler", "read", "ti", "str", "ts", "False"]]}, "name": "test_read_with_missing_index", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["mock", "patch", "object", "self", "es_task_handler", "new"], ["self", "es_task_handler", "read", "ti", "str", "ts", "False"]], "ti": [["self", "es_task_handler", "read", "ti", "str", "ts", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": [["str", 0.17759749460774488], ["Dict[str, Any]", 0.09414560944426266], ["int", 0.09055782890948111]]}, "q_name": "TestElasticsearchTaskHandler.test_read_with_missing_index", "ret_exprs": [], "ret_type": "", "variables": {"ts": ""}, "variables_p": {"ts": [["io.StringIO", 0.10087416548613065], ["str", 0.09754687317380334], ["Dict[str, Union[str, int, bool]]", 0.09754687317380334], ["List[float]", 0.09235681024865262]]}}, {"docstring": {"func": "When the log actually isn't there to be found, we only want to wait for 5 seconds.", "long_descr": "In this case we expect to receive a message of the form 'Log {log_id} not found in elasticsearch ...'", "ret": null}, "fn_lc": [[197, 4], [226, 71]], "fn_var_ln": {"actual_message": [[215, 12], [215, 26]], "expected_pattern": [[216, 12], [216, 28]], "logs": [[209, 8], [209, 12]], "metadatas": [[209, 14], [209, 23]], "ti": [[202, 8], [202, 10]], "ts": [[208, 8], [208, 10]]}, "fn_var_occur": {"actual_message": [["actual_message", "logs"], ["re", "match", "expected_pattern", "actual_message", "None"]], "expected_pattern": [["re", "match", "expected_pattern", "actual_message", "None"]], "logs": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts"], ["len", "logs"], ["len", "logs"], ["actual_message", "logs"], ["len", "logs"], ["len", "logs", "len", "metadatas"]], "metadatas": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts"], ["metadatas", "True"], ["metadatas", "False"], ["len", "logs", "len", "metadatas"], ["timezone", "parse", "metadatas", "ts"]], "ti": [["ti", "get_ti", "self", "DAG_ID", "self", "TASK_ID", "pendulum", "instance", "self", "EXECUTION_DATE", "add", "days", "create_task_instance", "create_task_instance"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts"]], "ts": [["ts", "pendulum", "now", "add", "seconds", "seconds"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts"], ["timezone", "parse", "metadatas", "ts"]]}, "name": "test_read_missing_logs", "params": {"create_task_instance": "", "seconds": "", "self": ""}, "params_descr": {"create_task_instance": "", "seconds": "", "self": ""}, "params_occur": {"create_task_instance": [["ti", "get_ti", "self", "DAG_ID", "self", "TASK_ID", "pendulum", "instance", "self", "EXECUTION_DATE", "add", "days", "create_task_instance", "create_task_instance"]], "seconds": [["ts", "pendulum", "now", "add", "seconds", "seconds"]], "self": [["ti", "get_ti", "self", "DAG_ID", "self", "TASK_ID", "pendulum", "instance", "self", "EXECUTION_DATE", "add", "days", "create_task_instance", "create_task_instance"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts"]]}, "params_p": {"args": [], "create_task_instance": [["taskiinfrastructure.data.json.repositories.task_repository.JsonTaskRepository", 0.3085923700179074]], "kwargs": [], "seconds": [["Callable", 0.18557649772631357], ["str", 0.11136111320893545], ["dict", 0.10454288050744388]], "self": []}, "q_name": "TestElasticsearchTaskHandler.test_read_missing_logs", "ret_exprs": [], "ret_type": "", "variables": {"actual_message": "", "expected_pattern": "", "logs": "", "metadatas": "", "ti": "", "ts": ""}, "variables_p": {"actual_message": [["Pattern[str]", 0.5968864285459351], ["str", 0.4031135714540648]], "expected_pattern": [["str", 1.0]], "logs": [["logging.Logger", 0.7454330652216112], ["int", 0.14177587543090872], ["starfish.core.util.logging.Log", 0.11279105934748011]], "metadatas": [["str", 1.0000000000000002]], "ti": [["bool", 0.2828466256360117], ["int", 0.21104440436743996], ["datetime.datetime.timedelta", 0.11948114280102133], ["str", 0.09520033466134603], ["Dict[Any, str]", 0.09454186840024348]], "ts": [["str", 0.9999999999999999]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[228, 4], [249, 70]], "fn_var_ln": {"another_body": [[235, 8], [235, 20]], "another_test_message": [[233, 8], [233, 28]], "logs": [[239, 8], [239, 12]], "metadatas": [[239, 14], [239, 23]], "similar_log_id": [[229, 8], [229, 22]], "ts": [[238, 8], [238, 10]]}, "fn_var_occur": {"another_body": [["another_body", "another_test_message", "similar_log_id"], ["self", "es", "index", "index", "self", "index_name", "doc_type", "self", "doc_type", "body", "another_body", "id"]], "another_test_message": [["another_body", "another_test_message", "similar_log_id"], ["another_test_message", "logs"]], "logs": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["len", "logs"], ["len", "logs", "len", "metadatas"], ["self", "test_message", "logs"], ["another_test_message", "logs"]], "metadatas": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["len", "logs", "len", "metadatas"], ["timezone", "parse", "metadatas", "ts"]], "similar_log_id": [["similar_log_id", "TestElasticsearchTaskHandler", "TASK_ID", "TestElasticsearchTaskHandler", "DAG_ID"], ["another_body", "another_test_message", "similar_log_id"]], "ts": [["ts", "pendulum", "now"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["timezone", "parse", "metadatas", "ts"]]}, "name": "test_read_with_match_phrase_query", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["self", "es", "index", "index", "self", "index_name", "doc_type", "self", "doc_type", "body", "another_body", "id"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["self", "test_message", "logs"]], "ti": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": [["tests.basilisp.helpers.CompileFn", 0.18379611497679077]]}, "q_name": "TestElasticsearchTaskHandler.test_read_with_match_phrase_query", "ret_exprs": [], "ret_type": "", "variables": {"another_body": "", "another_test_message": "", "logs": "", "metadatas": "", "similar_log_id": "", "ts": ""}, "variables_p": {"another_body": [["str", 0.40330923399401386], ["List[str]", 0.10885411591289468], ["Optional[str]", 0.10614837356192856], ["dict", 0.10247317933738068], ["Dict[str, bool]", 0.093240423016357]], "another_test_message": [["int", 0.40036628812064223], ["str", 0.2710964414436413], ["Dict[str, Set[str]]", 0.08220756084199835], ["Dict[str, bool]", 0.07987764211574573], ["List[int]", 0.07817125888737231]], "logs": [["logging.Logger", 0.6524994483034315], ["str", 0.17579136212174806], ["Dict[str, Union[Any, int]]", 0.08826442418584916], ["List[Tuple[Any, int]]", 0.08344476538897114]], "metadatas": [["str", 0.9999999999999999]], "similar_log_id": [["str", 0.5851692927805376], ["Dict[str, str]", 0.18208278438942702], ["int", 0.10348447822388819]], "ts": [["str", 0.17858585644926606], ["Type[str]", 0.11705355057735072], ["List[int]", 0.09728679750031763], ["Optional[List[Any]]", 0.0932922400973402], ["Dict[str, Union[str, Any]]", 0.0921295408741632]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[251, 4], [258, 82]], "fn_var_ln": {"logs": [[252, 8], [252, 12]], "metadatas": [[252, 14], [252, 23]]}, "fn_var_occur": {"logs": [["logs", "metadatas", "self", "es_task_handler", "read", "ti"], ["len", "logs"], ["len", "logs", "len", "metadatas"], ["self", "test_message", "logs"]], "metadatas": [["logs", "metadatas", "self", "es_task_handler", "read", "ti"], ["len", "logs", "len", "metadatas"], ["timezone", "parse", "metadatas", "pendulum", "now"]]}, "name": "test_read_with_none_metadata", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["logs", "metadatas", "self", "es_task_handler", "read", "ti"], ["self", "test_message", "logs"]], "ti": [["logs", "metadatas", "self", "es_task_handler", "read", "ti"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": []}, "q_name": "TestElasticsearchTaskHandler.test_read_with_none_metadata", "ret_exprs": [], "ret_type": "", "variables": {"logs": "", "metadatas": ""}, "variables_p": {"logs": [["logging.Logger", 0.7287380186138932], ["Dict[str, Union[Any, Any, Any]]", 0.0912103506039661], ["str", 0.08790542831842957]], "metadatas": [["str", 1.0000000000000002]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[260, 4], [275, 71]], "fn_var_ln": {"logs": [[266, 8], [266, 12]], "metadatas": [[266, 14], [266, 23]], "ts": [[261, 8], [261, 10]]}, "fn_var_occur": {"logs": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["len", "logs"], ["len", "logs", "len", "metadatas"]], "metadatas": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["len", "logs", "len", "metadatas"], ["timezone", "parse", "metadatas", "ts"]], "ts": [["ts", "pendulum", "now"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["timezone", "parse", "metadatas", "ts"]]}, "name": "test_read_nonexistent_log", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["self", "es", "delete", "index", "self", "index_name", "doc_type", "self", "doc_type", "id"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]], "ti": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": [["tests.basilisp.helpers.CompileFn", 0.19211002416831735]]}, "q_name": "TestElasticsearchTaskHandler.test_read_nonexistent_log", "ret_exprs": [], "ret_type": "", "variables": {"logs": "", "metadatas": "", "ts": ""}, "variables_p": {"logs": [["str", 0.7401770297305282], ["bool", 0.11249777496783374], ["logging.Logger", 0.08143235157744727], ["deque", 0.0658928437241906]], "metadatas": [["str", 0.9999999999999999]], "ts": [["str", 0.17858585644926606], ["Type[str]", 0.11705355057735072], ["List[int]", 0.09728679750031763], ["Optional[List[Any]]", 0.0932922400973402], ["Dict[str, Union[str, Any]]", 0.0921295408741632]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[277, 4], [301, 70]], "fn_var_ln": {"logs": [[292, 8], [292, 12]], "metadatas": [[292, 14], [292, 23]], "ts": [[278, 8], [278, 10]]}, "fn_var_occur": {"logs": [["logs", "metadatas", "self", "es_task_handler", "read", "ti"], ["len", "logs"], ["len", "logs", "len", "metadatas"], ["self", "test_message", "logs"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "False"], ["len", "logs"], ["len", "logs", "len", "metadatas"]], "metadatas": [["logs", "metadatas", "self", "es_task_handler", "read", "ti"], ["len", "logs", "len", "metadatas"], ["timezone", "parse", "metadatas", "ts"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "False"], ["len", "logs", "len", "metadatas"], ["timezone", "parse", "metadatas", "ts"]], "ts": [["ts", "pendulum", "now"], ["timezone", "parse", "metadatas", "ts"], ["timezone", "parse", "metadatas", "ts"]]}, "name": "test_read_with_empty_metadata", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["logs", "metadatas", "self", "es_task_handler", "read", "ti"], ["self", "test_message", "logs"], ["self", "es", "delete", "index", "self", "index_name", "doc_type", "self", "doc_type", "id"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "False"]], "ti": [["logs", "metadatas", "self", "es_task_handler", "read", "ti"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": []}, "q_name": "TestElasticsearchTaskHandler.test_read_with_empty_metadata", "ret_exprs": [], "ret_type": "", "variables": {"logs": "", "metadatas": "", "ts": ""}, "variables_p": {"logs": [["logging.Logger", 1.0000000000000002]], "metadatas": [["str", 0.9999999999999999]], "ts": [["str", 0.09719197356298293], ["aioc.state.Suspect", 0.09012151208733059]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[303, 4], [325, 71]], "fn_var_ln": {"logs": [[311, 8], [311, 12]], "metadatas": [[311, 14], [311, 23]], "offset": [[310, 8], [310, 14]], "ts": [[304, 8], [304, 10]]}, "fn_var_occur": {"logs": [["logs", "metadatas", "self", "es_task_handler", "read", "task_instance", "ti", "try_number", "metadata", "offset", "str", "ts", "False"], ["len", "logs"], ["len", "logs", "len", "metadatas"]], "metadatas": [["logs", "metadatas", "self", "es_task_handler", "read", "task_instance", "ti", "try_number", "metadata", "offset", "str", "ts", "False"], ["len", "logs", "len", "metadatas"], ["str", "offset", "metadatas"], ["timezone", "parse", "metadatas", "ts"]], "offset": [["logs", "metadatas", "self", "es_task_handler", "read", "task_instance", "ti", "try_number", "metadata", "offset", "str", "ts", "False"], ["str", "offset", "metadatas"]], "ts": [["ts", "pendulum", "now", "subtract", "minutes"], ["logs", "metadatas", "self", "es_task_handler", "read", "task_instance", "ti", "try_number", "metadata", "offset", "str", "ts", "False"], ["timezone", "parse", "metadatas", "ts"]]}, "name": "test_read_timeout", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["self", "es", "delete", "index", "self", "index_name", "doc_type", "self", "doc_type", "id"], ["logs", "metadatas", "self", "es_task_handler", "read", "task_instance", "ti", "try_number", "metadata", "offset", "str", "ts", "False"]], "ti": [["logs", "metadatas", "self", "es_task_handler", "read", "task_instance", "ti", "try_number", "metadata", "offset", "str", "ts", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": [["str", 0.13394500476399535]]}, "q_name": "TestElasticsearchTaskHandler.test_read_timeout", "ret_exprs": [], "ret_type": "", "variables": {"logs": "", "metadatas": "", "offset": "", "ts": ""}, "variables_p": {"logs": [["logging.Logger", 0.6729644841334125], ["str", 0.2345368628239229], ["Union[Literal, str]", 0.09249865304266448]], "metadatas": [["str", 0.49136516078974857], ["int", 0.13986090724165967], ["Dict[str, Union[Any, Any, Any, Any]]", 0.0943664720792082], ["logging.Logger", 0.09312965717851411], ["Dict[str, str]", 0.0908788483472252], ["bytes", 0.09039895436364435]], "offset": [["str", 0.6785493861479179], ["float", 0.11604111657449578], ["Dict[str, str]", 0.10464704437137531]], "ts": [["str", 0.6546123761460667], ["datetime.datetime", 0.14418325201011598], ["int", 0.11208410994275853], ["float", 0.08912026190105879]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[327, 4], [341, 70]], "fn_var_ln": {"logs": [[329, 8], [329, 12]], "metadatas": [[329, 14], [329, 23]], "ts": [[328, 8], [328, 10]]}, "fn_var_occur": {"logs": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "True", "False"], ["len", "logs"], ["len", "logs", "len", "metadatas"], ["len", "logs"], ["self", "test_message", "logs"]], "metadatas": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "True", "False"], ["len", "logs", "len", "metadatas"], ["timezone", "parse", "metadatas", "ts"]], "ts": [["ts", "pendulum", "now"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "True", "False"], ["timezone", "parse", "metadatas", "ts"]]}, "name": "test_read_as_download_logs", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "True", "False"], ["self", "test_message", "logs"]], "ti": [["logs", "metadatas", "self", "es_task_handler", "read", "ti", "str", "ts", "True", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": [["tests.basilisp.helpers.CompileFn", 0.8117745744104099]]}, "q_name": "TestElasticsearchTaskHandler.test_read_as_download_logs", "ret_exprs": [], "ret_type": "", "variables": {"logs": "", "metadatas": "", "ts": ""}, "variables_p": {"logs": [["logging.Logger", 1.0]], "metadatas": [["str", 0.9064335740499609], ["Pattern[str]", 0.09356642595003917]], "ts": [["Type[str]", 0.11097900560341536], ["List[int]", 0.10131204384546], ["Optional[List[Any]]", 0.09812884523412432], ["Dict[str, Union[str, Any]]", 0.08976043711541111]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[343, 4], [355, 44]], "fn_var_ln": {"args": [[349, 12], [349, 16]], "kwargs": [[349, 18], [349, 24]], "logs": [[347, 16], [347, 20]], "metadatas": [[347, 22], [347, 31]], "side_effect": [[346, 16], [346, 40]]}, "fn_var_occur": {"args": [["args", "kwargs", "mock_exception", "call_args"]], "kwargs": [["args", "kwargs", "mock_exception", "call_args"]], "logs": [["logs", "metadatas", "self", "es_task_handler", "read", "ti"], ["len", "logs"], ["len", "logs", "len", "metadatas"]], "metadatas": [["logs", "metadatas", "self", "es_task_handler", "read", "ti"], ["len", "logs", "len", "metadatas"]], "side_effect": [["mock_execute", "side_effect", "ElasticsearchException"]]}, "name": "test_read_raises", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["mock", "patch", "object", "self", "es_task_handler", "log", "mock_exception"], ["mock", "patch", "object", "self", "es_task_handler", "client", "mock_execute"], ["logs", "metadatas", "self", "es_task_handler", "read", "ti"]], "ti": [["logs", "metadatas", "self", "es_task_handler", "read", "ti"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": []}, "q_name": "TestElasticsearchTaskHandler.test_read_raises", "ret_exprs": [], "ret_type": "", "variables": {"args": "", "kwargs": "", "logs": "", "metadatas": "", "side_effect": ""}, "variables_p": {"args": [["Dict[str, str]", 0.0921530597645619], ["Type[Dict[str, Any]]", 0.08531091980399517], ["list", 0.08416151703949999]], "kwargs": [["list", 0.464687584576436], ["tests.mock.zwave.MockValue", 0.08993882830956859]], "logs": [["str", 0.8720657453056102], ["bool", 0.12793425469438974]], "metadatas": [["str", 0.9999999999999999]], "side_effect": [["str", 0.46146968833119484], ["List[Dict[str, float]]", 0.10543346334745063], ["Dict[str, Dict[str, str]]", 0.0831681400737581]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[357, 4], [359, 53]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_set_context", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["self", "es_task_handler", "set_context", "ti"], ["self", "es_task_handler", "mark_end_on_close"]], "ti": [["self", "es_task_handler", "set_context", "ti"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": [["bool", 0.08703183136330472]]}, "q_name": "TestElasticsearchTaskHandler.test_set_context", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[361, 4], [366, 44]], "fn_var_ln": {"formatter": [[362, 8], [362, 17]]}, "fn_var_occur": {"formatter": [["formatter", "logging", "Formatter"], ["self", "es_task_handler", "formatter", "formatter"]]}, "name": "test_set_context_w_json_format_and_write_stdout", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["self", "es_task_handler", "formatter", "formatter"], ["self", "es_task_handler", "write_stdout", "True"], ["self", "es_task_handler", "json_format", "True"], ["self", "es_task_handler", "set_context", "ti"]], "ti": [["self", "es_task_handler", "set_context", "ti"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": [["bool", 0.09340460610717236]]}, "q_name": "TestElasticsearchTaskHandler.test_set_context_w_json_format_and_write_stdout", "ret_exprs": [], "ret_type": "", "variables": {"formatter": ""}, "variables_p": {"formatter": [["logging.Formatter", 0.7282009030922629], ["logging.Handler", 0.14360503586574358], ["logging.StreamHandler", 0.12819406104199355]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[368, 4], [391, 109]], "fn_var_ln": {"_": [[388, 14], [388, 15]], "body": [[376, 8], [376, 17]], "formatter": [[370, 8], [370, 17]], "logs": [[388, 8], [388, 12]], "ts": [[369, 8], [369, 10]]}, "fn_var_occur": {"_": [["logs", "_", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]], "body": [["self", "body", "self", "test_message", "self", "DAG_ID", "self", "TASK_ID"], ["self", "es", "index", "index", "self", "index_name", "doc_type", "self", "doc_type", "body", "self", "body", "id", "id"]], "formatter": [["formatter", "logging", "Formatter"], ["self", "es_task_handler", "formatter", "formatter"]], "logs": [["logs", "_", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]], "ts": [["ts", "pendulum", "now"], ["logs", "_", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]]}, "name": "test_read_with_json_format", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["self", "es_task_handler", "formatter", "formatter"], ["self", "es_task_handler", "json_format", "True"], ["self", "body", "self", "test_message", "self", "DAG_ID", "self", "TASK_ID"], ["self", "es_task_handler", "set_context", "ti"], ["self", "es", "index", "index", "self", "index_name", "doc_type", "self", "doc_type", "body", "self", "body", "id", "id"], ["logs", "_", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]], "ti": [["self", "es_task_handler", "set_context", "ti"], ["logs", "_", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": [["str", 0.200340867196438], ["Dict[str, Any]", 0.09446799425559678]]}, "q_name": "TestElasticsearchTaskHandler.test_read_with_json_format", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "body": "", "formatter": "", "logs": "", "ts": ""}, "variables_p": {"_": [["str", 0.35465125797844715], ["T", 0.12397050757662646], ["io.TextIOWrapper", 0.12061361335239608], ["Set[str]", 0.10183425555113763], ["Type[str]", 0.09958180633275653], ["Dict[str, str]", 0.09077758222377279]], "body": [["str", 0.8072705678934213], ["Tuple[str, str]", 0.10025403506892186]], "formatter": [["logging.Formatter", 0.7282009030922629], ["logging.Handler", 0.14360503586574358], ["logging.StreamHandler", 0.12819406104199355]], "logs": [["List[Tuple[Any, int]]", 0.2953721306133916], ["dict", 0.18543189483400363], ["logging.Logger", 0.13004686385910758], ["synotools.common.logging.PasswordMaskingFilter", 0.12025624826605086], ["str", 0.08993363501517106], ["Union[Literal, str]", 0.08849789751741484]], "ts": [["str", 0.348628495612918], ["io.StringIO", 0.1306682108696047], ["Type[str]", 0.11529239761123262]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[393, 4], [419, 109]], "fn_var_ln": {"_": [[416, 14], [416, 15]], "body": [[403, 8], [403, 17]], "formatter": [[395, 8], [395, 17]], "logs": [[416, 8], [416, 12]], "ts": [[394, 8], [394, 10]]}, "fn_var_occur": {"_": [["logs", "_", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]], "body": [["self", "body", "self", "test_message", "self", "DAG_ID", "self", "TASK_ID"], ["self", "es", "index", "index", "self", "index_name", "doc_type", "self", "doc_type", "body", "self", "body", "id", "id"]], "formatter": [["formatter", "logging", "Formatter"], ["self", "es_task_handler", "formatter", "formatter"]], "logs": [["logs", "_", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]], "ts": [["ts", "pendulum", "now"], ["logs", "_", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]]}, "name": "test_read_with_json_format_with_custom_offset_and_host_fields", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["self", "es_task_handler", "formatter", "formatter"], ["self", "es_task_handler", "json_format", "True"], ["self", "es_task_handler", "host_field"], ["self", "es_task_handler", "offset_field"], ["self", "body", "self", "test_message", "self", "DAG_ID", "self", "TASK_ID"], ["self", "es_task_handler", "set_context", "ti"], ["self", "es", "index", "index", "self", "index_name", "doc_type", "self", "doc_type", "body", "self", "body", "id", "id"], ["logs", "_", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]], "ti": [["self", "es_task_handler", "set_context", "ti"], ["logs", "_", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": [["str", 0.200340867196438], ["Dict[str, Any]", 0.09446799425559678]]}, "q_name": "TestElasticsearchTaskHandler.test_read_with_json_format_with_custom_offset_and_host_fields", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "body": "", "formatter": "", "logs": "", "ts": ""}, "variables_p": {"_": [["str", 0.35465125797844715], ["T", 0.12397050757662646], ["io.TextIOWrapper", 0.12061361335239608], ["Set[str]", 0.10183425555113763], ["Type[str]", 0.09958180633275653], ["Dict[str, str]", 0.09077758222377279]], "body": [["str", 0.8072705678934213], ["Tuple[str, str]", 0.10025403506892186]], "formatter": [["logging.Formatter", 0.7282009030922629], ["logging.Handler", 0.14360503586574358], ["logging.StreamHandler", 0.12819406104199355]], "logs": [["List[Tuple[Any, int]]", 0.2953721306133916], ["dict", 0.18543189483400363], ["logging.Logger", 0.13004686385910758], ["synotools.common.logging.PasswordMaskingFilter", 0.12025624826605086], ["str", 0.08993363501517106], ["Union[Literal, str]", 0.08849789751741484]], "ts": [["str", 0.348628495612918], ["io.StringIO", 0.1306682108696047], ["Type[str]", 0.11529239761123262]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[421, 4], [440, 49]], "fn_var_ln": {"_": [[437, 14], [437, 15]], "body": [[429, 8], [429, 17]], "logs": [[437, 8], [437, 12]], "ts": [[422, 8], [422, 10]]}, "fn_var_occur": {"_": [["logs", "_", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]], "body": [["self", "body", "self", "test_message", "self", "LOG_ID"], ["self", "es", "index", "index", "self", "index_name", "doc_type", "self", "doc_type", "body", "self", "body", "id", "id"]], "logs": [["logs", "_", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["self", "test_message", "logs"]], "ts": [["ts", "pendulum", "now"], ["logs", "_", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]]}, "name": "test_read_with_custom_offset_and_host_fields", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["self", "es", "delete", "index", "self", "index_name", "doc_type", "self", "doc_type", "id"], ["self", "es_task_handler", "host_field"], ["self", "es_task_handler", "offset_field"], ["self", "body", "self", "test_message", "self", "LOG_ID"], ["self", "es", "index", "index", "self", "index_name", "doc_type", "self", "doc_type", "body", "self", "body", "id", "id"], ["logs", "_", "self", "es_task_handler", "read", "ti", "str", "ts", "False"], ["self", "test_message", "logs"]], "ti": [["logs", "_", "self", "es_task_handler", "read", "ti", "str", "ts", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": []}, "q_name": "TestElasticsearchTaskHandler.test_read_with_custom_offset_and_host_fields", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "body": "", "logs": "", "ts": ""}, "variables_p": {"_": [["str", 0.35465125797844715], ["T", 0.12397050757662646], ["io.TextIOWrapper", 0.12061361335239608], ["Set[str]", 0.10183425555113763], ["Type[str]", 0.09958180633275653], ["Dict[str, str]", 0.09077758222377279]], "body": [["str", 0.30422372727507513], ["Type[str]", 0.2040352976336479], ["List[str]", 0.19970413179853053], ["Type[MutableMapping[str, Any]]", 0.10464963308048432], ["int", 0.0942979894144199], ["Type[Callable[Any, Any]]", 0.09308922079784222]], "logs": [["logging.Logger", 0.5587806293600764], ["List[Tuple[Any, int]]", 0.16082251717475435], ["Set[str]", 0.10852734395267714], ["str", 0.0906859360862569]], "ts": [["str", 0.348628495612918], ["io.StringIO", 0.1306682108696047], ["Type[str]", 0.11529239761123262]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[442, 4], [456, 42]], "fn_var_ln": {"formatter": [[443, 8], [443, 17]], "log_line": [[454, 12], [454, 20]]}, "fn_var_occur": {"formatter": [["formatter", "logging", "Formatter"], ["self", "es_task_handler", "formatter", "formatter"]], "log_line": [["log_line", "log_file", "read", "strip"], ["log_line", "endswith", "self", "end_of_log_mark", "strip"]]}, "name": "test_close", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["self", "es_task_handler", "formatter", "formatter"], ["self", "es_task_handler", "set_context", "ti"], ["self", "es_task_handler", "close"], ["open", "os", "path", "join", "self", "local_log_location", "self", "FILENAME_TEMPLATE", "format", "try_number", "log_file"], ["log_line", "endswith", "self", "end_of_log_mark", "strip"], ["self", "es_task_handler", "closed"]], "ti": [["self", "es_task_handler", "set_context", "ti"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": []}, "q_name": "TestElasticsearchTaskHandler.test_close", "ret_exprs": [], "ret_type": "", "variables": {"formatter": "", "log_line": ""}, "variables_p": {"formatter": [["logging.Formatter", 0.7282009030922629], ["logging.Handler", 0.14360503586574358], ["logging.StreamHandler", 0.12819406104199355]], "log_line": [["str", 0.33089999335773923], ["bytes", 0.2721835988506822], ["Counter[str]", 0.12831742398232235], ["Tuple[Any, int]", 0.09000808312970734], ["Tuple[int]", 0.08929545033977446], ["Tuple[int, int, int, int]", 0.08929545033977446]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[458, 4], [466, 42]], "fn_var_ln": {"raw": [[459, 8], [459, 14]]}, "fn_var_occur": {"raw": [["ti", "raw", "True"]]}, "name": "test_close_no_mark_end", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["self", "es_task_handler", "set_context", "ti"], ["self", "es_task_handler", "close"], ["open", "os", "path", "join", "self", "local_log_location", "self", "FILENAME_TEMPLATE", "format", "try_number", "log_file"], ["self", "end_of_log_mark", "log_file", "read"], ["self", "es_task_handler", "closed"]], "ti": [["ti", "raw", "True"], ["self", "es_task_handler", "set_context", "ti"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": []}, "q_name": "TestElasticsearchTaskHandler.test_close_no_mark_end", "ret_exprs": [], "ret_type": "", "variables": {"raw": ""}, "variables_p": {"raw": [["bool", 0.7999999999999999], ["str", 0.1], ["io.BytesIO", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[468, 4], [475, 44]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_close_closed", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["self", "es_task_handler", "closed", "True"], ["self", "es_task_handler", "set_context", "ti"], ["self", "es_task_handler", "close"], ["open", "os", "path", "join", "self", "local_log_location", "self", "FILENAME_TEMPLATE", "format", "try_number", "log_file"]], "ti": [["self", "es_task_handler", "set_context", "ti"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": []}, "q_name": "TestElasticsearchTaskHandler.test_close_closed", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[477, 4], [485, 42]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_close_with_no_handler", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["self", "es_task_handler", "set_context", "ti"], ["self", "es_task_handler", "handler", "None"], ["self", "es_task_handler", "close"], ["open", "os", "path", "join", "self", "local_log_location", "self", "FILENAME_TEMPLATE", "format", "try_number", "log_file"], ["self", "es_task_handler", "closed"]], "ti": [["self", "es_task_handler", "set_context", "ti"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": []}, "q_name": "TestElasticsearchTaskHandler.test_close_with_no_handler", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[487, 4], [504, 42]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_close_with_no_stream", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["self", "es_task_handler", "set_context", "ti"], ["self", "es_task_handler", "handler", "stream", "None"], ["self", "es_task_handler", "close"], ["open", "os", "path", "join", "self", "local_log_location", "self", "FILENAME_TEMPLATE", "format", "try_number", "log_file"], ["self", "end_of_log_mark", "log_file", "read"], ["self", "es_task_handler", "closed"], ["self", "es_task_handler", "set_context", "ti"], ["self", "es_task_handler", "handler", "stream", "close"], ["self", "es_task_handler", "close"], ["open", "os", "path", "join", "self", "local_log_location", "self", "FILENAME_TEMPLATE", "format", "try_number", "log_file"], ["self", "end_of_log_mark", "log_file", "read"], ["self", "es_task_handler", "closed"]], "ti": [["self", "es_task_handler", "set_context", "ti"], ["self", "es_task_handler", "set_context", "ti"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": []}, "q_name": "TestElasticsearchTaskHandler.test_close_with_no_stream", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[506, 4], [510, 77]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_render_log_id", "params": {"self": "", "ti": ""}, "params_descr": {"self": "", "ti": ""}, "params_occur": {"self": [["self", "LOG_ID", "self", "es_task_handler", "_render_log_id", "ti"], ["self", "es_task_handler", "json_format", "True"], ["self", "JSON_LOG_ID", "self", "es_task_handler", "_render_log_id", "ti"]], "ti": [["self", "LOG_ID", "self", "es_task_handler", "_render_log_id", "ti"], ["self", "JSON_LOG_ID", "self", "es_task_handler", "_render_log_id", "ti"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": [["str", 0.18253468875443776], ["tests.async_mock.Mock", 0.11256055830645481]]}, "q_name": "TestElasticsearchTaskHandler.test_render_log_id", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[512, 4], [514, 67]], "fn_var_ln": {"clean_execution_date": [[513, 8], [513, 28]]}, "fn_var_occur": {"clean_execution_date": [["clean_execution_date", "self", "es_task_handler", "_clean_date", "datetime"]]}, "name": "test_clean_date", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["clean_execution_date", "self", "es_task_handler", "_clean_date", "datetime"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElasticsearchTaskHandler.test_clean_date", "ret_exprs": [], "ret_type": "", "variables": {"clean_execution_date": ""}, "variables_p": {"clean_execution_date": [["str", 0.3149384561438437], ["datetime.timedelta", 0.30829486885900903], ["datetime.datetime", 0.1962545427479426], ["int", 0.08734139293777961]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[530, 4], [542, 34]], "fn_var_ln": {"es_task_handler": [[531, 8], [531, 23]], "url": [[541, 8], [541, 11]]}, "fn_var_occur": {"es_task_handler": [["es_task_handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field", "frontend", "es_frontend"], ["url", "es_task_handler", "get_external_log_url", "ti", "ti", "try_number"]], "url": [["url", "es_task_handler", "get_external_log_url", "ti", "ti", "try_number"], ["expected_url", "url"]]}, "name": "test_get_external_log_url", "params": {"es_frontend": "", "expected_url": "", "json_format": "", "self": "", "ti": ""}, "params_descr": {"es_frontend": "", "expected_url": "", "json_format": "", "self": "", "ti": ""}, "params_occur": {"es_frontend": [["es_task_handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field", "frontend", "es_frontend"]], "expected_url": [["expected_url", "url"]], "json_format": [["es_task_handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field", "frontend", "es_frontend"]], "self": [["es_task_handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "self", "write_stdout", "json_format", "json_format", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field", "frontend", "es_frontend"]], "ti": [["url", "es_task_handler", "get_external_log_url", "ti", "ti", "try_number"]]}, "params_p": {"args": [], "es_frontend": [], "expected_url": [["str", 0.08616064753610175]], "json_format": [], "kwargs": [], "self": [], "ti": [["tests.async_mock.MagicMock", 0.10082040817408786]]}, "q_name": "TestElasticsearchTaskHandler.test_get_external_log_url", "ret_exprs": [], "ret_type": "", "variables": {"es_task_handler": "", "url": ""}, "variables_p": {"es_task_handler": [["Dict[str, Dict[str, Any]]", 0.11670907175057095], ["Dict[str, float]", 0.11193128845769744], ["Dict[str, Any]", 0.08424467480100528], ["str", 0.07444821239922635], ["Dict[str, int]", 0.07434177187847968]], "url": [["Dict[Any, bool]", 0.11935854457982642], ["str", 0.09424561939419805], ["List[Dict[str, Any]]", 0.09424561939419805], ["Dict[str, Union[Any, int, str]]", 0.09002708331191632]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[551, 4], [553, 70]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_supports_external_link", "params": {"expected": "", "frontend": "", "self": ""}, "params_descr": {"expected": "", "frontend": "", "self": ""}, "params_occur": {"expected": [["self", "es_task_handler", "supports_external_link", "expected"]], "frontend": [["self", "es_task_handler", "frontend", "frontend"]], "self": [["self", "es_task_handler", "frontend", "frontend"], ["self", "es_task_handler", "supports_external_link", "expected"]]}, "params_p": {"args": [], "expected": [["str", 0.5008585484923137], ["dict", 0.24989194514584628]], "frontend": [["str", 0.4054787321653112], ["dict", 0.21241683046550705]], "kwargs": [], "self": []}, "q_name": "TestElasticsearchTaskHandler.test_supports_external_link", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[556, 4], [592, 77]], "fn_var_ln": {"_log": [[573, 8], [573, 15]], "first_log": [[588, 8], [588, 17]], "formatter": [[567, 8], [567, 25]], "handler": [[558, 8], [558, 15]], "handlers": [[570, 8], [570, 23]], "logger": [[569, 8], [569, 14]], "propagate": [[571, 8], [571, 24]], "second_log": [[588, 19], [588, 29]], "t1": [[576, 8], [576, 10]], "t2": [[577, 8], [577, 10]], "t3": [[577, 12], [577, 14]], "third_log": [[588, 31], [588, 40]]}, "fn_var_occur": {"_log": [["ti", "_log", "logger"]], "first_log": [["first_log", "second_log", "third_log", "map", "json", "loads", "stdout_mock", "getvalue", "strip", "split"], ["first_log", "second_log", "third_log"], ["first_log", "t1", "format"]], "formatter": [["handler", "formatter", "logging", "Formatter"]], "handler": [["handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "True", "json_format", "True", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field"], ["handler", "formatter", "logging", "Formatter"], ["logger", "handlers", "handler"], ["handler", "set_context", "ti"]], "handlers": [["logger", "handlers", "handler"]], "logger": [["logger", "logging", "getLogger", "__name__"], ["logger", "handlers", "handler"], ["logger", "propagate", "False"], ["ti", "_log", "logger"]], "propagate": [["logger", "propagate", "False"]], "second_log": [["first_log", "second_log", "third_log", "map", "json", "loads", "stdout_mock", "getvalue", "strip", "split"], ["first_log", "second_log", "third_log"], ["second_log", "t2", "format"]], "t1": [["t1", "pendulum", "local", "year", "month", "day", "hour", "minute", "second"], ["t2", "t3", "t1", "pendulum", "duration", "seconds", "t1", "pendulum", "duration", "seconds"], ["time_machine", "move_to", "t1", "tick", "False"], ["first_log", "t1", "format"]], "t2": [["t2", "t3", "t1", "pendulum", "duration", "seconds", "t1", "pendulum", "duration", "seconds"], ["time_machine", "move_to", "t2", "tick", "False"], ["second_log", "t2", "format"]], "t3": [["t2", "t3", "t1", "pendulum", "duration", "seconds", "t1", "pendulum", "duration", "seconds"], ["time_machine", "move_to", "t3", "tick", "False"], ["third_log", "t3", "format"]], "third_log": [["first_log", "second_log", "third_log", "map", "json", "loads", "stdout_mock", "getvalue", "strip", "split"], ["first_log", "second_log", "third_log"], ["third_log", "t3", "format"]]}, "name": "test_dynamic_offset", "params": {"self": "", "stdout_mock": "", "ti": "", "time_machine": ""}, "params_descr": {"self": "", "stdout_mock": "", "ti": "", "time_machine": ""}, "params_occur": {"self": [["handler", "ElasticsearchTaskHandler", "base_log_folder", "self", "local_log_location", "end_of_log_mark", "self", "end_of_log_mark", "write_stdout", "True", "json_format", "True", "json_fields", "self", "json_fields", "host_field", "self", "host_field", "offset_field", "self", "offset_field"]], "stdout_mock": [["first_log", "second_log", "third_log", "map", "json", "loads", "stdout_mock", "getvalue", "strip", "split"]], "ti": [["ti", "_log", "logger"], ["handler", "set_context", "ti"], ["ti", "log", "info"], ["ti", "log", "info"], ["ti", "log", "info"]], "time_machine": [["time_machine", "move_to", "t1", "tick", "False"], ["time_machine", "move_to", "t2", "tick", "False"], ["time_machine", "move_to", "t3", "tick", "False"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "stdout_mock": [], "ti": [["logging.Logger", 0.11981340048628655], ["str", 0.11495765860625869]], "time_machine": [["int", 0.102473586111527]]}, "q_name": "TestElasticsearchTaskHandler.test_dynamic_offset", "ret_exprs": [], "ret_type": "", "variables": {"_log": "", "first_log": "", "formatter": "", "handler": "", "handlers": "", "logger": "", "propagate": "", "second_log": "", "t1": "", "t2": "", "t3": "", "third_log": ""}, "variables_p": {"_log": [["logging.Logger", 0.9008379347774834], ["rotkehlchen.logging.RotkehlchenLogsAdapter", 0.09916206522251629]], "first_log": [["pytch.utils.FileInfo", 0.9078988301152949], ["List[str]", 0.0921011698847052]], "formatter": [["int", 0.28947881280815657], ["str", 0.1047551722012118], ["logging.Formatter", 0.10453960880045227], ["Tuple[int, int, int]", 0.10453960880045227]], "handler": [["Dict[int, Any]", 0.3026115063754405], ["raiden.transfer.mediated_transfer.state.LockedTransferUnsignedState", 0.1071468485766276], ["Type[str]", 0.10316613546426215]], "handlers": [["int", 0.2924905095314138], ["Set[str]", 0.2891605081059892], ["Dict[int, str]", 0.05744544956502186], ["str", 0.05593173670086771], ["list", 0.054645286844284456], ["Optional[str]", 0.051790515570837296]], "logger": [["logging.Logger", 1.0]], "propagate": [["Optional[str]", 0.3412751380128439], ["Optional[int]", 0.11375837933761465], ["str", 0.11375837933761465], ["Dict[int, str]", 0.1007961588766552], ["list", 0.09183400125557975], ["logging.Logger", 0.07384536631733819], ["List[str]", 0.07289857560677397]], "second_log": [["pytch.utils.FileInfo", 0.9078988301152949], ["List[str]", 0.0921011698847052]], "t1": [["datetime.timedelta", 0.24192116866343277], ["datetime.time", 0.23473933957670662], ["datetime.datetime", 0.08733009568399719], ["datetime.datetime.datetime", 0.08447536861854797]], "t2": [["float", 0.17384136643499723]], "t3": [["float", 0.17384136643499723]], "third_log": [["pytch.utils.FileInfo", 0.9078988301152949], ["List[str]", 0.0921011698847052]]}}], "name": "TestElasticsearchTaskHandler", "q_name": "TestElasticsearchTaskHandler", "variables": {"DAG_ID": "", "EXECUTION_DATE": "", "FILENAME_TEMPLATE": "", "JSON_LOG_ID": "", "LOG_ID": "", "TASK_ID": ""}, "variables_p": {"DAG_ID": [["str", 0.3794787262250451], ["Dict[str, Union[Any, Any]]", 0.12719104482678723], ["dict", 0.10381398691211069], ["Dict[int, str]", 0.09483377986971132], ["Dict[str, Dict[str, Any]]", 0.08377494290899429]], "EXECUTION_DATE": [["str", 0.5309981072561922], ["Dict[str, Dict[str, str]]", 0.14365386517434214], ["float", 0.13232945606051183], ["bytes", 0.10537212890330082], ["int", 0.08764644260565306]], "FILENAME_TEMPLATE": [["str", 0.9999999999999999]], "JSON_LOG_ID": [["str", 0.5433344589477218], ["int", 0.2799611218338943], ["Optional[str]", 0.12881022782072296]], "LOG_ID": [["str", 0.9999999880295452], ["List[str]", 2.7157237358988446e-09], ["Tuple[str, str, str]", 2.1174273417228794e-09], ["Tuple[str]", 2.1174273417228794e-09]], "TASK_ID": [["str", 0.5435618655395758], ["dict", 0.2030615906830535], ["List[Union[Any, Any, Any, Any]]", 0.08668240639613141], ["Dict[str, str]", 0.084098022377024], ["int", 0.08259611500421538]]}}, {"cls_lc": [[596, 4], [597, 11]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [], "name": "A", "q_name": "test_safe_attrgetter.<locals>.A", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[44, 0], [54, 13]], "fn_var_ln": {"raw": [[53, 4], [53, 10]], "ti": [[45, 4], [45, 6]], "try_number": [[52, 4], [52, 17]]}, "fn_var_occur": {"raw": [["ti", "raw", "False"]], "ti": [["ti", "create_task_instance", "dag_id", "dag_id", "task_id", "task_id", "execution_date", "execution_date", "dagrun_state", "DagRunState", "RUNNING", "state", "TaskInstanceState", "RUNNING"], ["ti", "try_number"], ["ti", "raw", "False"]], "try_number": [["ti", "try_number"]]}, "name": "get_ti", "params": {"create_task_instance": "", "dag_id": "", "execution_date": "", "task_id": ""}, "params_descr": {"create_task_instance": "", "dag_id": "", "execution_date": "", "task_id": ""}, "params_occur": {"create_task_instance": [["ti", "create_task_instance", "dag_id", "dag_id", "task_id", "task_id", "execution_date", "execution_date", "dagrun_state", "DagRunState", "RUNNING", "state", "TaskInstanceState", "RUNNING"]], "dag_id": [["ti", "create_task_instance", "dag_id", "dag_id", "task_id", "task_id", "execution_date", "execution_date", "dagrun_state", "DagRunState", "RUNNING", "state", "TaskInstanceState", "RUNNING"]], "execution_date": [["ti", "create_task_instance", "dag_id", "dag_id", "task_id", "task_id", "execution_date", "execution_date", "dagrun_state", "DagRunState", "RUNNING", "state", "TaskInstanceState", "RUNNING"]], "task_id": [["ti", "create_task_instance", "dag_id", "dag_id", "task_id", "task_id", "execution_date", "execution_date", "dagrun_state", "DagRunState", "RUNNING", "state", "TaskInstanceState", "RUNNING"]]}, "params_p": {"args": [], "create_task_instance": [["str", 0.9086109950752397], ["Optional[str]", 0.09138900492476033]], "dag_id": [["str", 0.9086109950752397], ["Optional[str]", 0.09138900492476033]], "execution_date": [["str", 0.9086109950752397], ["Optional[str]", 0.09138900492476033]], "kwargs": [], "task_id": [["str", 0.9086109950752397], ["Optional[str]", 0.09138900492476033]]}, "q_name": "get_ti", "ret_exprs": ["return ti"], "ret_type": "", "ret_type_p": [["str", 0.19999999999999998], ["bool", 0.09999999999999999]], "variables": {"raw": "", "ti": "", "try_number": ""}, "variables_p": {"raw": [["List[str]", 0.49999999997058747], ["str", 2.0149264789844944e-11], ["bool", 1.9339109735866804e-11], ["Dict[str, bool]", 9.880922464997032e-12], ["List[Tuple[Any, Any]]", 9.458187270869773e-12]], "ti": [["int", 0.32207589279511883], ["str", 0.15588416454798865], ["list", 0.10349237585318284], ["Optional[Match[str]]", 0.08271126697437295], ["Dict[Any, str]", 0.08186556443558032]], "try_number": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1], ["datetime.timedelta", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[595, 0], [608, 48]], "fn_var_ln": {"a": [[599, 4], [599, 5]], "b": [[600, 4], [600, 7]], "c": [[601, 4], [601, 7]], "x": [[602, 4], [602, 7]]}, "fn_var_occur": {"a": [["a", "A"], ["a", "b"], ["a", "c", "None"], ["a", "x", "a"], ["a", "x", "d"], ["getattr_nested", "a", "None"], ["getattr_nested", "a", "None"], ["getattr_nested", "a"], ["getattr_nested", "a", "None"], ["getattr_nested", "a", "None", "None"]], "b": [["a", "b"]], "c": [["a", "c", "None"]], "x": [["a", "x", "a"], ["a", "x", "d"]]}, "name": "test_safe_attrgetter", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "test_safe_attrgetter", "ret_exprs": [], "ret_type": "", "variables": {"a": "", "b": "", "c": "", "x": ""}, "variables_p": {"a": [["list", 0.205580837562436], ["int", 0.1033323045275389], ["Tuple[Tuple[Any, Any]]", 0.10130998675394544], ["List[float]", 0.09947360822618058], ["slice", 0.09257069426605058]], "b": [["int", 0.6666666666328667], ["List[int]", 0.33333333329703013]], "c": [["int", 0.28735988701069964], ["str", 0.27358951795676434], ["Set[str]", 0.0770585549457964]], "x": [["int", 0.4533255697862786], ["set", 0.16723417940240126], ["float", 0.13918248180716272], ["Dict[int, Dict[str, int]]", 0.10875423359210863], ["str", 0.0670567911397072]]}}], "imports": ["__future__", "annotations", "io", "json", "logging", "os", "re", "shutil", "unittest", "mock", "urllib", "parse", "quote", "elasticsearch", "pendulum", "pytest", "elasticsearch", "exceptions", "ElasticsearchException", "airflow", "configuration", "conf", "airflow", "providers", "elasticsearch", "log", "es_task_handler", "ElasticsearchTaskHandler", "getattr_nested", "airflow", "utils", "timezone", "airflow", "utils", "state", "DagRunState", "TaskInstanceState", "airflow", "utils", "timezone", "datetime", "tests", "test_utils", "db", "clear_db_dags", "clear_db_runs", "elasticmock", "elasticmock"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 180}, "session_id": "T6itKTEI5-xDjX-pk4CGMpYOI0aEpACnu7F7bz_oVBM", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}