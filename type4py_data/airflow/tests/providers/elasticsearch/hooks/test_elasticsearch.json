{"error": null, "response": {"classes": [{"cls_lc": [[44, 12], [48, 31]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[47, 16], [48, 31]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_conn", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cur", "mock", "MagicMock", "rowcount"], ["self", "conn", "mock", "MagicMock"], ["self", "conn", "cursor", "return_value", "self", "cur"], ["conn", "self", "conn"], ["self", "connection", "Connection", "host", "port", "schema"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElasticsearchHook.test_throws_warning.<locals>.UnitTestElasticsearchHook.get_conn", "ret_exprs": ["return conn"], "ret_type": "", "ret_type_p": [["str", 0.19999999999999998], ["bool", 0.09999999999999999]], "variables": {}, "variables_p": {}}], "name": "UnitTestElasticsearchHook", "q_name": "TestElasticsearchHook.test_throws_warning.<locals>.UnitTestElasticsearchHook", "variables": {}, "variables_p": {}}, {"cls_lc": [[34, 0], [50, 54]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[35, 4], [50, 54]], "fn_var_ln": {"conn": [[39, 8], [39, 12]], "conn_name_attr": [[45, 16], [45, 30]], "connection": [[40, 8], [40, 23]], "cur": [[36, 8], [36, 16]], "db_hook": [[50, 12], [50, 24]]}, "fn_var_occur": {"conn": [], "conn_name_attr": [], "connection": [], "cur": [], "db_hook": [["self", "db_hook", "UnitTestElasticsearchHook"]]}, "name": "test_throws_warning", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "db_hook", "UnitTestElasticsearchHook"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElasticsearchHook.test_throws_warning", "ret_exprs": [], "ret_type": "", "variables": {"conn": "", "conn_name_attr": "", "connection": "", "cur": "", "db_hook": ""}, "variables_p": {"conn": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "conn_name_attr": [["str", 0.9999999984412052], ["Tuple[str, str, bool, str, str, str, str]", 8.316126869679678e-10], ["List[str]", 1.331690806861904e-10], ["Tuple[Any, Any]", 1.331690806861904e-10], ["bool", 1.3275060008743415e-10]], "connection": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "cur": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "db_hook": [["int", 0.5250353812261196], ["Optional[Callable[..., Any]]", 0.09447207897187364], ["Dict[str, List[float]]", 0.08997898109868518], ["str", 0.08702347876209815]]}}], "name": "TestElasticsearchHook", "q_name": "TestElasticsearchHook", "variables": {}, "variables_p": {}}, {"cls_lc": [[57, 8], [58, 52]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [], "name": "UnitTestElasticsearchHook", "q_name": "TestElasticsearchSQLHookConn.setup_method.<locals>.UnitTestElasticsearchHook", "variables": {}, "variables_p": {}}, {"cls_lc": [[53, 0], [68, 109]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[54, 4], [62, 66]], "fn_var_ln": {"conn_name_attr": [[58, 12], [58, 26]], "connection": [[55, 8], [55, 23]], "db_hook": [[60, 8], [60, 20]]}, "fn_var_occur": {"conn_name_attr": [], "connection": [["self", "connection", "Connection", "host", "port", "schema"], ["self", "db_hook", "get_connection", "return_value", "self", "connection"]], "db_hook": [["self", "db_hook", "UnitTestElasticsearchHook"], ["self", "db_hook", "get_connection", "mock", "Mock"], ["self", "db_hook", "get_connection", "return_value", "self", "connection"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "connection", "Connection", "host", "port", "schema"], ["self", "db_hook", "UnitTestElasticsearchHook"], ["self", "db_hook", "get_connection", "mock", "Mock"], ["self", "db_hook", "get_connection", "return_value", "self", "connection"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElasticsearchSQLHookConn.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"conn_name_attr": "", "connection": "", "db_hook": ""}, "variables_p": {"conn_name_attr": [["str", 0.9999999984412052], ["Tuple[str, str, bool, str, str, str, str]", 8.316126869679678e-10], ["List[str]", 1.331690806861904e-10], ["Tuple[Any, Any]", 1.331690806861904e-10], ["bool", 1.3275060008743415e-10]], "connection": [["float", 0.4353243243993648], ["str", 0.16592929663078979], ["Tuple[Any, Any]", 0.13112395476451127], ["int", 0.08944145379541862]], "db_hook": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[65, 4], [68, 109]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_get_conn", "params": {"mock_connect": "", "self": ""}, "params_descr": {"mock_connect": "", "self": ""}, "params_occur": {"mock_connect": [["mock_connect", "assert_called_with", "host", "port", "scheme", "user", "None", "password", "None"]], "self": [["self", "db_hook", "test_conn_id"], ["self", "db_hook", "get_conn"]]}, "params_p": {"args": [], "kwargs": [], "mock_connect": [], "self": []}, "q_name": "TestElasticsearchSQLHookConn.test_get_conn", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "TestElasticsearchSQLHookConn", "q_name": "TestElasticsearchSQLHookConn", "variables": {}, "variables_p": {}}, {"cls_lc": [[78, 8], [82, 27]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[81, 12], [82, 27]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_conn", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cur", "mock", "MagicMock", "rowcount"], ["self", "conn", "mock", "MagicMock"], ["self", "conn", "cursor", "return_value", "self", "cur"], ["conn", "self", "conn"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElasticsearchSQLHook.setup_method.<locals>.UnitTestElasticsearchHook.get_conn", "ret_exprs": ["return conn"], "ret_type": "", "ret_type_p": [["str", 0.19999999999999998], ["bool", 0.09999999999999999]], "variables": {}, "variables_p": {}}], "name": "UnitTestElasticsearchHook", "q_name": "TestElasticsearchSQLHook.setup_method.<locals>.UnitTestElasticsearchHook", "variables": {}, "variables_p": {}}, {"cls_lc": [[71, 0], [119, 59]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[72, 4], [84, 50]], "fn_var_ln": {"conn": [[76, 8], [76, 12]], "conn_name_attr": [[79, 12], [79, 26]], "cur": [[73, 8], [73, 16]], "db_hook": [[84, 8], [84, 20]]}, "fn_var_occur": {"conn": [], "conn_name_attr": [], "cur": [], "db_hook": [["self", "db_hook", "UnitTestElasticsearchHook"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "db_hook", "UnitTestElasticsearchHook"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElasticsearchSQLHook.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"conn": "", "conn_name_attr": "", "cur": "", "db_hook": ""}, "variables_p": {"conn": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "conn_name_attr": [["str", 0.9999999984412052], ["Tuple[str, str, bool, str, str, str, str]", 8.316126869679678e-10], ["List[str]", 1.331690806861904e-10], ["Tuple[Any, Any]", 1.331690806861904e-10], ["bool", 1.3275060008743415e-10]], "cur": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "db_hook": [["int", 0.5250353812261196], ["Optional[Callable[..., Any]]", 0.09447207897187364], ["Dict[str, List[float]]", 0.08997898109868518], ["str", 0.08702347876209815]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[86, 4], [94, 59]], "fn_var_ln": {"result_sets": [[88, 8], [88, 19]], "statement": [[87, 8], [87, 17]]}, "fn_var_occur": {"result_sets": [["self", "cur", "fetchone", "return_value", "result_sets"], ["result_sets", "self", "db_hook", "get_first", "statement"]], "statement": [["result_sets", "self", "db_hook", "get_first", "statement"], ["self", "cur", "execute", "assert_called_once_with", "statement"]]}, "name": "test_get_first_record", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cur", "fetchone", "return_value", "result_sets"], ["result_sets", "self", "db_hook", "get_first", "statement"], ["self", "conn", "close", "assert_called_once_with"], ["self", "cur", "close", "assert_called_once_with"], ["self", "cur", "execute", "assert_called_once_with", "statement"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElasticsearchSQLHook.test_get_first_record", "ret_exprs": [], "ret_type": "", "variables": {"result_sets": "", "statement": ""}, "variables_p": {"result_sets": [["str", 0.18960111918134703], ["int", 0.12219592332814264], ["bytes", 0.09447596867033083], ["Tuple[str, str]", 0.08758768911810298]], "statement": [["list", 0.2772479655868859]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[96, 4], [104, 59]], "fn_var_ln": {"result_sets": [[98, 8], [98, 19]], "statement": [[97, 8], [97, 17]]}, "fn_var_occur": {"result_sets": [["self", "cur", "fetchall", "return_value", "result_sets"], ["result_sets", "self", "db_hook", "get_records", "statement"]], "statement": [["result_sets", "self", "db_hook", "get_records", "statement"], ["self", "cur", "execute", "assert_called_once_with", "statement"]]}, "name": "test_get_records", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cur", "fetchall", "return_value", "result_sets"], ["result_sets", "self", "db_hook", "get_records", "statement"], ["self", "conn", "close", "assert_called_once_with"], ["self", "cur", "close", "assert_called_once_with"], ["self", "cur", "execute", "assert_called_once_with", "statement"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElasticsearchSQLHook.test_get_records", "ret_exprs": [], "ret_type": "", "variables": {"result_sets": "", "statement": ""}, "variables_p": {"result_sets": [["str", 0.18960111918134703], ["int", 0.12219592332814264], ["bytes", 0.09447596867033083], ["Tuple[str, str]", 0.08758768911810298]], "statement": [["list", 0.2772479655868859]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[106, 4], [119, 59]], "fn_var_ln": {"column": [[108, 8], [108, 14]], "df": [[112, 8], [112, 10]], "result_sets": [[109, 8], [109, 19]], "statement": [[107, 8], [107, 17]]}, "fn_var_occur": {"column": [["self", "cur", "description", "column"], ["column", "df", "columns"]], "df": [["df", "self", "db_hook", "get_pandas_df", "statement"], ["column", "df", "columns"], ["result_sets", "df", "values", "tolist"], ["result_sets", "df", "values", "tolist"]], "result_sets": [["self", "cur", "fetchall", "return_value", "result_sets"], ["result_sets", "df", "values", "tolist"], ["result_sets", "df", "values", "tolist"]], "statement": [["df", "self", "db_hook", "get_pandas_df", "statement"], ["self", "cur", "execute", "assert_called_once_with", "statement"]]}, "name": "test_get_pandas_df", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cur", "description", "column"], ["self", "cur", "fetchall", "return_value", "result_sets"], ["df", "self", "db_hook", "get_pandas_df", "statement"], ["self", "cur", "execute", "assert_called_once_with", "statement"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElasticsearchSQLHook.test_get_pandas_df", "ret_exprs": [], "ret_type": "", "variables": {"column": "", "df": "", "result_sets": "", "statement": ""}, "variables_p": {"column": [["str", 0.2514383088298724], ["int", 0.1922766414040206], ["dict", 0.12681732062703294], ["Dict[str, int]", 0.12477955940011504], ["List[str]", 0.11673232158052399], ["Optional[str]", 0.10414307854847757], ["bool", 0.08381276960995745]], "df": [["int", 0.19689727283848246], ["Set[str]", 0.11313426110300921], ["str", 0.10481779496011173], ["list", 0.09151588730990809], ["tuple", 0.08946390544928084]], "result_sets": [["float", 0.3965372394866048], ["int", 0.2171873572768021], ["List[int]", 0.10468087134504546], ["List[float]", 0.09418728208456263], ["Dict[str, str]", 0.09389481344978012], ["List[str]", 0.09351243635720498]], "statement": [["list", 0.5119921421725822]]}}], "name": "TestElasticsearchSQLHook", "q_name": "TestElasticsearchSQLHook", "variables": {}, "variables_p": {}}, {"cls_lc": [[122, 0], [127, 24]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[123, 4], [124, 24]], "fn_var_ln": {"data": [[124, 8], [124, 17]]}, "fn_var_occur": {"data": [["self", "data", "data"]]}, "name": "__init__", "params": {"data": "builtins.dict", "self": ""}, "params_descr": {"data": "", "self": ""}, "params_occur": {"data": [["self", "data", "data"]], "self": [["self", "data", "data"]]}, "params_p": {"args": [], "data": [["Dict[str, Any]", 0.3832585774684925], ["bytes", 0.13577263899084185], ["Dict[str, str]", 0.08294349254913085], ["list", 0.08287611467321898], ["str", 0.08287611467321898], ["Optional[Dict[str, Any]]", 0.06502163228541603]], "kwargs": [], "self": []}, "q_name": "MockElasticsearch.__init__", "ret_exprs": [], "ret_type": "", "variables": {"data": ""}, "variables_p": {"data": [["str", 0.462250797883658], ["dict", 0.13768206853990242], ["List[Dict[str, Any]]", 0.1201689055326541], ["float", 0.09440845285040626], ["requests.models.Response", 0.09209882510280241]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[126, 4], [127, 24]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "search", "params": {"kwargs": "", "self": ""}, "params_descr": {"kwargs": "", "self": ""}, "params_occur": {"kwargs": [], "self": [["self", "data"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "MockElasticsearch.search", "ret_exprs": ["return self.data"], "ret_type": "", "ret_type_p": [["dict", 0.25522859784854734], ["Dict[str, Any]", 0.14156924717591374], ["str", 0.12150228389032805], ["Callable", 0.11496440589776832], ["Callable[[str], T]", 0.09025045878230988]], "variables": {}, "variables_p": {}}], "name": "MockElasticsearch", "q_name": "MockElasticsearch", "variables": {}, "variables_p": {}}, {"cls_lc": [[130, 0], [150, 40]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[131, 4], [132, 90]], "fn_var_ln": {"elasticsearch_hook": [[132, 8], [132, 31]]}, "fn_var_occur": {"elasticsearch_hook": [["self", "elasticsearch_hook", "ElasticsearchPythonHook", "hosts"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "elasticsearch_hook", "ElasticsearchPythonHook", "hosts"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElasticsearchPythonHook.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"elasticsearch_hook": ""}, "variables_p": {"elasticsearch_hook": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[134, 4], [136, 55]], "fn_var_ln": {"es_connection": [[135, 8], [135, 21]]}, "fn_var_occur": {"es_connection": [["es_connection", "self", "elasticsearch_hook", "get_conn"], ["isinstance", "es_connection", "Elasticsearch"]]}, "name": "test_client", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["es_connection", "self", "elasticsearch_hook", "get_conn"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestElasticsearchPythonHook.test_client", "ret_exprs": [], "ret_type": "", "variables": {"es_connection": ""}, "variables_p": {"es_connection": [["int", 0.8662851330119002]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[141, 4], [150, 40]], "fn_var_ln": {"es_client": [[143, 8], [143, 17]], "es_data": [[142, 8], [142, 15]], "query": [[146, 8], [146, 13]], "result": [[148, 8], [148, 14]], "return_value": [[144, 8], [144, 33]]}, "fn_var_occur": {"es_client": [["es_client", "MockElasticsearch", "es_data"], ["elastic_mock", "return_value", "es_client"]], "es_data": [["es_client", "MockElasticsearch", "es_data"], ["result", "es_data"]], "query": [["result", "self", "elasticsearch_hook", "search", "index", "query", "query"]], "result": [["result", "self", "elasticsearch_hook", "search", "index", "query", "query"], ["result", "es_data"]], "return_value": [["elastic_mock", "return_value", "es_client"]]}, "name": "test_search", "params": {"elastic_mock": "", "self": ""}, "params_descr": {"elastic_mock": "", "self": ""}, "params_occur": {"elastic_mock": [["elastic_mock", "return_value", "es_client"]], "self": [["result", "self", "elasticsearch_hook", "search", "index", "query", "query"]]}, "params_p": {"args": [], "elastic_mock": [["mock.MagicMock", 0.10588553193704556]], "kwargs": [], "self": []}, "q_name": "TestElasticsearchPythonHook.test_search", "ret_exprs": [], "ret_type": "", "variables": {"es_client": "", "es_data": "", "query": "", "result": "", "return_value": ""}, "variables_p": {"es_client": [], "es_data": [["List[Dict[str, Any]]", 0.35254835599479634], ["Dict[Any, str]", 0.12723962728464605], ["str", 0.11282090532249067], ["int", 0.09883064397234294]], "query": [["str", 0.13275213395064395], ["List[tuple]", 0.12260922290902919], ["set", 0.11182370664556712], ["bytes", 0.09219564384586328], ["Iterator[Any]", 0.0880155915937839], ["Tuple[float, Any]", 0.08795714363423512], ["Type[Sequence[Any]]", 0.08720220002370757], ["Tuple[object]", 0.08313402713985918]], "result": [["set", 1.0]], "return_value": [["str", 0.29201022471254606], ["Optional[bytes]", 0.1055771931838203], ["list", 0.10287382420931769], ["List[Dict[str, Any]]", 0.0924232824199706], ["int", 0.08876591617217294]]}}], "name": "TestElasticsearchPythonHook", "q_name": "TestElasticsearchPythonHook", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "unittest", "mock", "pytest", "elasticsearch", "Elasticsearch", "airflow", "exceptions", "AirflowProviderDeprecationWarning", "airflow", "models", "Connection", "airflow", "providers", "elasticsearch", "hooks", "elasticsearch", "ElasticsearchHook", "ElasticsearchPythonHook", "ElasticsearchSQLHook"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 0, "I": 0, "U": 43}, "session_id": "ceRu12qOFTurJpbS2f-1mfickCsZf9RqDz6zlLVp9tc", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}