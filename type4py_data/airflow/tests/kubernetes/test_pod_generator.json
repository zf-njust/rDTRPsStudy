{"error": null, "response": {"classes": [{"cls_lc": [[45, 0], [823, 98]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[46, 4], [163, 9]], "fn_var_ln": {"annotations": [[89, 8], [89, 24]], "dag_id": [[77, 8], [77, 19]], "deserialize_result": [[48, 8], [48, 31]], "envs": [[65, 8], [65, 17]], "execution_date": [[75, 8], [75, 27]], "execution_date_label": [[76, 8], [76, 33]], "expected": [[112, 8], [112, 21]], "k8s_client": [[111, 8], [111, 23]], "labels": [[80, 8], [80, 19]], "metadata": [[95, 8], [95, 21]], "rand_str": [[47, 8], [47, 21]], "resources": [[102, 8], [102, 22]], "secrets": [[66, 8], [66, 20]], "task_id": [[78, 8], [78, 20]], "try_number": [[79, 8], [79, 23]]}, "fn_var_occur": {"annotations": [["self", "annotations", "self", "dag_id", "self", "task_id", "self", "execution_date", "isoformat", "str", "self", "try_number"], ["self", "metadata", "self", "labels", "self", "rand_str", "self", "annotations"]], "dag_id": [["self", "dag_id"], ["self", "labels", "self", "dag_id", "self", "execution_date_label", "self", "task_id", "str", "self", "try_number", "__version__", "replace"], ["self", "annotations", "self", "dag_id", "self", "task_id", "self", "execution_date", "isoformat", "str", "self", "try_number"]], "deserialize_result": [["self", "deserialize_result"]], "envs": [["self", "envs"]], "execution_date": [["self", "execution_date", "parser", "parse"], ["self", "execution_date_label", "datetime_to_label_safe_datestring", "self", "execution_date"], ["self", "annotations", "self", "dag_id", "self", "task_id", "self", "execution_date", "isoformat", "str", "self", "try_number"]], "execution_date_label": [["self", "execution_date_label", "datetime_to_label_safe_datestring", "self", "execution_date"], ["self", "labels", "self", "dag_id", "self", "execution_date_label", "self", "task_id", "str", "self", "try_number", "__version__", "replace"]], "expected": [["self", "expected", "k8s", "V1Pod", "api_version", "kind", "metadata", "k8s", "V1ObjectMeta", "namespace", "name", "self", "rand_str", "labels", "spec", "k8s", "V1PodSpec", "containers", "k8s", "V1Container", "name", "image", "command", "env", "k8s", "V1EnvVar", "name", "value", "k8s", "V1EnvVar", "name", "value", "k8s", "V1EnvVar", "name", "value_from", "k8s", "V1EnvVarSource", "secret_key_ref", "k8s", "V1SecretKeySelector", "name", "key", "env_from", "k8s", "V1EnvFromSource", "config_map_ref", "k8s", "V1ConfigMapEnvSource", "name", "k8s", "V1EnvFromSource", "config_map_ref", "k8s", "V1ConfigMapEnvSource", "name", "k8s", "V1EnvFromSource", "secret_ref", "k8s", "V1SecretEnvSource", "name", "ports", "k8s", "V1ContainerPort", "name", "container_port", "resources", "k8s", "V1ResourceRequirements", "requests", "limits", "security_context", "k8s", "V1PodSecurityContext", "fs_group", "run_as_user", "host_network", "True", "image_pull_secrets", "k8s", "V1LocalObjectReference", "name", "k8s", "V1LocalObjectReference", "name"]], "k8s_client": [["self", "k8s_client", "ApiClient"]], "labels": [["self", "labels", "self", "dag_id", "self", "execution_date_label", "self", "task_id", "str", "self", "try_number", "__version__", "replace"], ["self", "metadata", "self", "labels", "self", "rand_str", "self", "annotations"], ["self", "expected", "k8s", "V1Pod", "api_version", "kind", "metadata", "k8s", "V1ObjectMeta", "namespace", "name", "self", "rand_str", "labels", "spec", "k8s", "V1PodSpec", "containers", "k8s", "V1Container", "name", "image", "command", "env", "k8s", "V1EnvVar", "name", "value", "k8s", "V1EnvVar", "name", "value", "k8s", "V1EnvVar", "name", "value_from", "k8s", "V1EnvVarSource", "secret_key_ref", "k8s", "V1SecretKeySelector", "name", "key", "env_from", "k8s", "V1EnvFromSource", "config_map_ref", "k8s", "V1ConfigMapEnvSource", "name", "k8s", "V1EnvFromSource", "config_map_ref", "k8s", "V1ConfigMapEnvSource", "name", "k8s", "V1EnvFromSource", "secret_ref", "k8s", "V1SecretEnvSource", "name", "ports", "k8s", "V1ContainerPort", "name", "container_port", "resources", "k8s", "V1ResourceRequirements", "requests", "limits", "security_context", "k8s", "V1PodSecurityContext", "fs_group", "run_as_user", "host_network", "True", "image_pull_secrets", "k8s", "V1LocalObjectReference", "name", "k8s", "V1LocalObjectReference", "name"]], "metadata": [["self", "metadata", "self", "labels", "self", "rand_str", "self", "annotations"], ["self", "expected", "k8s", "V1Pod", "api_version", "kind", "metadata", "k8s", "V1ObjectMeta", "namespace", "name", "self", "rand_str", "labels", "spec", "k8s", "V1PodSpec", "containers", "k8s", "V1Container", "name", "image", "command", "env", "k8s", "V1EnvVar", "name", "value", "k8s", "V1EnvVar", "name", "value", "k8s", "V1EnvVar", "name", "value_from", "k8s", "V1EnvVarSource", "secret_key_ref", "k8s", "V1SecretKeySelector", "name", "key", "env_from", "k8s", "V1EnvFromSource", "config_map_ref", "k8s", "V1ConfigMapEnvSource", "name", "k8s", "V1EnvFromSource", "config_map_ref", "k8s", "V1ConfigMapEnvSource", "name", "k8s", "V1EnvFromSource", "secret_ref", "k8s", "V1SecretEnvSource", "name", "ports", "k8s", "V1ContainerPort", "name", "container_port", "resources", "k8s", "V1ResourceRequirements", "requests", "limits", "security_context", "k8s", "V1PodSecurityContext", "fs_group", "run_as_user", "host_network", "True", "image_pull_secrets", "k8s", "V1LocalObjectReference", "name", "k8s", "V1LocalObjectReference", "name"]], "rand_str": [["self", "rand_str"], ["self", "metadata", "self", "labels", "self", "rand_str", "self", "annotations"], ["self", "expected", "k8s", "V1Pod", "api_version", "kind", "metadata", "k8s", "V1ObjectMeta", "namespace", "name", "self", "rand_str", "labels", "spec", "k8s", "V1PodSpec", "containers", "k8s", "V1Container", "name", "image", "command", "env", "k8s", "V1EnvVar", "name", "value", "k8s", "V1EnvVar", "name", "value", "k8s", "V1EnvVar", "name", "value_from", "k8s", "V1EnvVarSource", "secret_key_ref", "k8s", "V1SecretKeySelector", "name", "key", "env_from", "k8s", "V1EnvFromSource", "config_map_ref", "k8s", "V1ConfigMapEnvSource", "name", "k8s", "V1EnvFromSource", "config_map_ref", "k8s", "V1ConfigMapEnvSource", "name", "k8s", "V1EnvFromSource", "secret_ref", "k8s", "V1SecretEnvSource", "name", "ports", "k8s", "V1ContainerPort", "name", "container_port", "resources", "k8s", "V1ResourceRequirements", "requests", "limits", "security_context", "k8s", "V1PodSecurityContext", "fs_group", "run_as_user", "host_network", "True", "image_pull_secrets", "k8s", "V1LocalObjectReference", "name", "k8s", "V1LocalObjectReference", "name"]], "resources": [["self", "resources", "k8s", "V1ResourceRequirements", "requests", "limits"], ["self", "expected", "k8s", "V1Pod", "api_version", "kind", "metadata", "k8s", "V1ObjectMeta", "namespace", "name", "self", "rand_str", "labels", "spec", "k8s", "V1PodSpec", "containers", "k8s", "V1Container", "name", "image", "command", "env", "k8s", "V1EnvVar", "name", "value", "k8s", "V1EnvVar", "name", "value", "k8s", "V1EnvVar", "name", "value_from", "k8s", "V1EnvVarSource", "secret_key_ref", "k8s", "V1SecretKeySelector", "name", "key", "env_from", "k8s", "V1EnvFromSource", "config_map_ref", "k8s", "V1ConfigMapEnvSource", "name", "k8s", "V1EnvFromSource", "config_map_ref", "k8s", "V1ConfigMapEnvSource", "name", "k8s", "V1EnvFromSource", "secret_ref", "k8s", "V1SecretEnvSource", "name", "ports", "k8s", "V1ContainerPort", "name", "container_port", "resources", "k8s", "V1ResourceRequirements", "requests", "limits", "security_context", "k8s", "V1PodSecurityContext", "fs_group", "run_as_user", "host_network", "True", "image_pull_secrets", "k8s", "V1LocalObjectReference", "name", "k8s", "V1LocalObjectReference", "name"]], "secrets": [["self", "secrets", "Secret", "None", "Secret", "Secret"]], "task_id": [["self", "task_id"], ["self", "labels", "self", "dag_id", "self", "execution_date_label", "self", "task_id", "str", "self", "try_number", "__version__", "replace"], ["self", "annotations", "self", "dag_id", "self", "task_id", "self", "execution_date", "isoformat", "str", "self", "try_number"]], "try_number": [["self", "try_number"], ["self", "labels", "self", "dag_id", "self", "execution_date_label", "self", "task_id", "str", "self", "try_number", "__version__", "replace"], ["self", "annotations", "self", "dag_id", "self", "task_id", "self", "execution_date", "isoformat", "str", "self", "try_number"]]}, "name": "setup_method", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "rand_str"], ["self", "deserialize_result"], ["self", "envs"], ["self", "secrets", "Secret", "None", "Secret", "Secret"], ["self", "execution_date", "parser", "parse"], ["self", "execution_date_label", "datetime_to_label_safe_datestring", "self", "execution_date"], ["self", "dag_id"], ["self", "task_id"], ["self", "try_number"], ["self", "labels", "self", "dag_id", "self", "execution_date_label", "self", "task_id", "str", "self", "try_number", "__version__", "replace"], ["self", "annotations", "self", "dag_id", "self", "task_id", "self", "execution_date", "isoformat", "str", "self", "try_number"], ["self", "metadata", "self", "labels", "self", "rand_str", "self", "annotations"], ["self", "resources", "k8s", "V1ResourceRequirements", "requests", "limits"], ["self", "k8s_client", "ApiClient"], ["self", "expected", "k8s", "V1Pod", "api_version", "kind", "metadata", "k8s", "V1ObjectMeta", "namespace", "name", "self", "rand_str", "labels", "spec", "k8s", "V1PodSpec", "containers", "k8s", "V1Container", "name", "image", "command", "env", "k8s", "V1EnvVar", "name", "value", "k8s", "V1EnvVar", "name", "value", "k8s", "V1EnvVar", "name", "value_from", "k8s", "V1EnvVarSource", "secret_key_ref", "k8s", "V1SecretKeySelector", "name", "key", "env_from", "k8s", "V1EnvFromSource", "config_map_ref", "k8s", "V1ConfigMapEnvSource", "name", "k8s", "V1EnvFromSource", "config_map_ref", "k8s", "V1ConfigMapEnvSource", "name", "k8s", "V1EnvFromSource", "secret_ref", "k8s", "V1SecretEnvSource", "name", "ports", "k8s", "V1ContainerPort", "name", "container_port", "resources", "k8s", "V1ResourceRequirements", "requests", "limits", "security_context", "k8s", "V1PodSecurityContext", "fs_group", "run_as_user", "host_network", "True", "image_pull_secrets", "k8s", "V1LocalObjectReference", "name", "k8s", "V1LocalObjectReference", "name"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.setup_method", "ret_exprs": [], "ret_type": "", "variables": {"annotations": "", "dag_id": "", "deserialize_result": "", "envs": "", "execution_date": "", "execution_date_label": "", "expected": "", "k8s_client": "", "labels": "", "metadata": "", "rand_str": "", "resources": "", "secrets": "", "task_id": "", "try_number": ""}, "variables_p": {"annotations": [["str", 0.5749154288511342], ["int", 0.12614865128026295], ["Dict[str, Optional[str]]", 0.10780318877774282]], "dag_id": [["str", 0.41709562253212323], ["int", 0.1836412696062441], ["List[str]", 0.09016261231525503]], "deserialize_result": [["int", 0.43010208167165553], ["str", 0.3332695024255243], ["dict", 0.0976009030110298]], "envs": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]], "execution_date": [["str", 1.0]], "execution_date_label": [["str", 0.9030913742398856]], "expected": [["deque[Any]", 0.6164151367204694], ["str", 0.19805390758515964]], "k8s_client": [["int", 0.21593739210592802], ["dict", 0.19607397944127353], ["Type[Any]", 0.09716868016986192], ["Optional[str]", 0.09716868016986192], ["str", 0.09716868016986192], ["Optional[Any]", 0.09716868016986192]], "labels": [["str", 0.44342879346275305], ["int", 0.17631861737035726], ["Dict[str, str]", 0.09721206405882811], ["Final", 0.09595356678523156], ["List[Dict[str, str]]", 0.09072896869048316]], "metadata": [["float", 0.44620992790153374], ["Dict[str, str]", 0.18042193505661724], ["int", 0.1759882847867359], ["str", 0.10204513708857987], ["dict", 0.09533471516653333]], "rand_str": [["bytes", 0.5962763271260089], ["int", 0.14940777879379433], ["str", 0.061237133579279616]], "resources": [["int", 0.18429656189942273], ["List[Tuple[str, Any]]", 0.09967873354077429], ["float", 0.09165702815132887]], "secrets": [["int", 0.3844798804675117], ["str", 0.21905881594949375], ["List[str]", 0.11394581173737509], ["list", 0.09942095473941326], ["Optional[str]", 0.09225597008864059]], "task_id": [["str", 0.7057288228282654], ["int", 0.19656264161922546], ["Dict[str, Dict[str, str]]", 0.09770853555250898]], "try_number": [["str", 0.19966414957716927], ["int", 0.10252631080508355], ["Tuple[Literal, Literal, int]", 0.09905216670114698]]}}, {"docstring": {"func": "Method gen_pod is used nowhere in codebase and is deprecated.", "long_descr": "This test is only retained for backcompat.", "ret": null}, "fn_lc": [[166, 4], [197, 43]], "fn_var_ln": {"base_container": [[184, 8], [184, 22]], "container_two": [[176, 8], [176, 21]], "expected_dict": [[196, 8], [196, 21]], "path": [[172, 8], [172, 12]], "pod_generator": [[174, 8], [174, 21]], "result": [[175, 8], [175, 14]], "result_dict": [[195, 8], [195, 19]], "return_value": [[171, 8], [171, 34]], "volume_mounts": [[185, 8], [185, 36]]}, "fn_var_occur": {"base_container": [["base_container", "kubernetes", "client", "models", "V1Container", "self", "expected", "spec", "containers"], ["base_container", "volume_mounts", "base_container", "volume_mounts"], ["base_container", "volume_mounts", "append", "k8s", "V1VolumeMount", "name", "mount_path"], ["self", "expected", "spec", "containers", "base_container"]], "container_two": [["container_two", "PodDefaults", "XCOM_CMD"], ["self", "expected", "spec", "containers", "append", "container_two"]], "expected_dict": [["expected_dict", "self", "k8s_client", "sanitize_for_serialization", "self", "expected"], ["result_dict", "expected_dict"]], "path": [["path", "sys", "path"], ["pod_generator", "PodGenerator", "pod_template_file", "path", "extract_xcom", "True"]], "pod_generator": [["pod_generator", "PodGenerator", "pod_template_file", "path", "extract_xcom", "True"], ["result", "pod_generator", "gen_pod"]], "result": [["result", "pod_generator", "gen_pod"], ["result_dict", "self", "k8s_client", "sanitize_for_serialization", "result"]], "result_dict": [["result_dict", "self", "k8s_client", "sanitize_for_serialization", "result"], ["result_dict", "expected_dict"]], "return_value": [["mock_rand_str", "return_value", "self", "rand_str"]], "volume_mounts": [["base_container", "volume_mounts", "base_container", "volume_mounts"], ["base_container", "volume_mounts", "append", "k8s", "V1VolumeMount", "name", "mount_path"]]}, "name": "test_gen_pod_extract_xcom", "params": {"mock_rand_str": "", "self": ""}, "params_descr": {"mock_rand_str": "", "self": ""}, "params_occur": {"mock_rand_str": [["mock_rand_str", "return_value", "self", "rand_str"]], "self": [["mock_rand_str", "return_value", "self", "rand_str"], ["self", "expected", "spec", "containers", "append", "container_two"], ["base_container", "kubernetes", "client", "models", "V1Container", "self", "expected", "spec", "containers"], ["self", "expected", "spec", "containers", "base_container"], ["self", "expected", "spec", "volumes", "self", "expected", "spec", "volumes"], ["self", "expected", "spec", "volumes", "append", "k8s", "V1Volume", "name", "empty_dir"], ["result_dict", "self", "k8s_client", "sanitize_for_serialization", "result"], ["expected_dict", "self", "k8s_client", "sanitize_for_serialization", "self", "expected"]]}, "params_p": {"args": [], "kwargs": [], "mock_rand_str": [], "self": []}, "q_name": "TestPodGenerator.test_gen_pod_extract_xcom", "ret_exprs": [], "ret_type": "", "variables": {"base_container": "kubernetes.client.models.V1Container", "container_two": "", "expected_dict": "", "path": "", "pod_generator": "", "result": "", "result_dict": "", "return_value": "", "volume_mounts": ""}, "variables_p": {"base_container": [["str", 0.30647491794981413], ["float", 0.19640432113554054], ["Optional[str]", 0.11069448165727558]], "container_two": [["tartare.core.models.Contributor", 0.0925589016000163]], "expected_dict": [["Dict[str, str]", 0.29319678586295234], ["list", 0.1202490222123107], ["requests.models.Response", 0.09396368310338825], ["Dict[Any, str]", 0.09339341696891763]], "path": [["str", 0.08203470205901246]], "pod_generator": [], "result": [["OrderedDict", 0.09688054744575601]], "result_dict": [["dict", 0.4042318606334896], ["Dict[str, str]", 0.17359392753797706], ["Dict[int, str]", 0.10191214977485713], ["Dict[Any, dict]", 0.08896149268345882]], "return_value": [["Optional[bytes]", 0.1886099951668712], ["str", 0.1324094781702616], ["Tuple[int, int]", 0.0938039203177022], ["Type[Dict[Any, Any]]", 0.07997519515454746], ["mock._patch[Union[mock.AsyncMock, mock.MagicMock]]", 0.06699022674081216], ["list", 0.06595937891074073]], "volume_mounts": [["dict", 0.19417078483157302], ["str", 0.18916848870591813], ["Dict[str, Set[str]]", 0.11954843358664248], ["list", 0.09923031555080682], ["Dict[str, Dict[str, Any]]", 0.09015236936185875], ["Dict[str, str]", 0.08540549043443876]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[199, 4], [327, 19]], "fn_var_ln": {"expected_from_pod": [[289, 8], [289, 25]], "result": [[287, 8], [287, 14]], "result_from_pod": [[288, 8], [288, 23]]}, "fn_var_occur": {"expected_from_pod": [["result_from_pod", "expected_from_pod"]], "result": [["result", "PodGenerator", "from_obj", "k8s", "V1Pod", "api_version", "kind", "metadata", "k8s", "V1ObjectMeta", "name", "annotations", "spec", "k8s", "V1PodSpec", "containers", "k8s", "V1Container", "name", "volume_mounts", "k8s", "V1VolumeMount", "mount_path", "name", "volumes", "k8s", "V1Volume", "name", "host_path", "k8s", "V1HostPathVolumeSource", "path"], ["result", "self", "k8s_client", "sanitize_for_serialization", "result"], ["result", "PodGenerator", "from_obj"], ["result", "self", "k8s_client", "sanitize_for_serialization", "result"], ["False", "result"]], "result_from_pod": [["result_from_pod", "PodGenerator", "from_obj", "k8s", "V1Pod", "metadata", "k8s", "V1ObjectMeta", "annotations", "spec", "k8s", "V1PodSpec", "containers", "k8s", "V1Container", "name", "volume_mounts", "k8s", "V1VolumeMount", "name", "mount_path", "volumes", "k8s", "V1Volume", "name", "host_path"], ["result_from_pod", "self", "k8s_client", "sanitize_for_serialization", "result_from_pod"], ["result_from_pod", "expected_from_pod"]]}, "name": "test_from_obj", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["result", "self", "k8s_client", "sanitize_for_serialization", "result"], ["result", "self", "k8s_client", "sanitize_for_serialization", "result"], ["result_from_pod", "self", "k8s_client", "sanitize_for_serialization", "result_from_pod"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_from_obj", "ret_exprs": [], "ret_type": "", "variables": {"expected_from_pod": "", "result": "", "result_from_pod": ""}, "variables_p": {"expected_from_pod": [["List[Dict[str, str]]", 0.16909573241551473], ["List[str]", 0.16909573241551473], ["Dict[str, Any]", 0.12020619825647336], ["requests.models.Response", 0.08662424060984869], ["list", 0.07504918656694871], ["dict", 0.06920179256916087]], "result": [["Tuple[Any, Any]", 0.2593463313811354]], "result_from_pod": [["int", 0.10400995822840178], ["Dict[int, int]", 0.08925754019669027], ["Dict[str, int]", 0.08782687219846708]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[329, 4], [339, 33]], "fn_var_ln": {"base_pod": [[332, 8], [332, 16]], "mutator_pod": [[337, 8], [337, 19]], "path": [[330, 8], [330, 12]], "pod_generator": [[331, 8], [331, 21]], "result": [[338, 8], [338, 14]]}, "fn_var_occur": {"base_pod": [["base_pod", "pod_generator", "ud_pod"], ["result", "PodGenerator", "reconcile_pods", "base_pod", "mutator_pod"], ["base_pod", "result"], ["result", "PodGenerator", "reconcile_pods", "base_pod", "mutator_pod"], ["base_pod", "result"]], "mutator_pod": [["mutator_pod", "None"], ["result", "PodGenerator", "reconcile_pods", "base_pod", "mutator_pod"], ["mutator_pod", "k8s", "V1Pod"], ["result", "PodGenerator", "reconcile_pods", "base_pod", "mutator_pod"]], "path": [["path", "sys", "path"], ["pod_generator", "PodGenerator", "pod_template_file", "path", "extract_xcom", "True"]], "pod_generator": [["pod_generator", "PodGenerator", "pod_template_file", "path", "extract_xcom", "True"], ["base_pod", "pod_generator", "ud_pod"]], "result": [["result", "PodGenerator", "reconcile_pods", "base_pod", "mutator_pod"], ["base_pod", "result"], ["result", "PodGenerator", "reconcile_pods", "base_pod", "mutator_pod"], ["base_pod", "result"]]}, "name": "test_reconcile_pods_empty_mutator_pod", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_reconcile_pods_empty_mutator_pod", "ret_exprs": [], "ret_type": "", "variables": {"base_pod": "", "mutator_pod": "", "path": "", "pod_generator": "", "result": ""}, "variables_p": {"base_pod": [["int", 0.06783901704095713]], "mutator_pod": [["str", 0.29168626364595285], ["List[None]", 0.10779675261700136]], "path": [["str", 0.08203470205901246]], "pod_generator": [["str", 0.21301866938163677], ["list", 0.08495986101162488]], "result": [["dict", 0.12644880808783465], ["Union[Literal, Literal]", 0.09597303304739867], ["Tuple[Any, None]", 0.08587886390506752]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[342, 4], [395, 43]], "fn_var_ln": {"base_container": [[384, 8], [384, 22]], "base_pod": [[346, 8], [346, 16]], "command": [[385, 8], [385, 30]], "expected": [[374, 8], [374, 16]], "expected_dict": [[393, 8], [393, 21]], "mutator_pod": [[348, 8], [348, 19]], "name": [[389, 8], [389, 27]], "path": [[344, 8], [344, 12]], "result": [[373, 8], [373, 14]], "result_dict": [[392, 8], [392, 19]], "return_value": [[343, 8], [343, 34]], "volume_mounts": [[386, 8], [386, 36]]}, "fn_var_occur": {"base_container": [["base_container", "kubernetes", "client", "models", "V1Container", "expected", "spec", "containers"], ["base_container", "command"], ["base_container", "volume_mounts", "k8s", "V1VolumeMount", "mount_path", "name"], ["base_container", "name"], ["expected", "spec", "containers", "base_container"]], "base_pod": [["base_pod", "PodGenerator", "pod_template_file", "path", "extract_xcom", "False", "ud_pod"], ["result", "PodGenerator", "reconcile_pods", "base_pod", "mutator_pod"]], "command": [["mutator_pod", "k8s", "V1Pod", "metadata", "k8s", "V1ObjectMeta", "name", "labels", "spec", "k8s", "V1PodSpec", "containers", "k8s", "V1Container", "image", "name", "command", "volume_mounts", "k8s", "V1VolumeMount", "mount_path", "name", "volumes", "k8s", "V1Volume", "host_path", "k8s", "V1HostPathVolumeSource", "path", "name"], ["base_container", "command"]], "expected": [["expected", "kubernetes", "client", "models", "V1Pod", "self", "expected"], ["expected", "metadata", "name"], ["expected", "metadata", "labels"], ["expected", "spec", "volumes", "expected", "spec", "volumes"], ["expected", "spec", "volumes", "append", "k8s", "V1Volume", "host_path", "k8s", "V1HostPathVolumeSource", "path", "name"], ["base_container", "kubernetes", "client", "models", "V1Container", "expected", "spec", "containers"], ["expected", "spec", "containers", "base_container"], ["expected_dict", "self", "k8s_client", "sanitize_for_serialization", "expected"]], "expected_dict": [["expected_dict", "self", "k8s_client", "sanitize_for_serialization", "expected"], ["result_dict", "expected_dict"]], "mutator_pod": [["mutator_pod", "k8s", "V1Pod", "metadata", "k8s", "V1ObjectMeta", "name", "labels", "spec", "k8s", "V1PodSpec", "containers", "k8s", "V1Container", "image", "name", "command", "volume_mounts", "k8s", "V1VolumeMount", "mount_path", "name", "volumes", "k8s", "V1Volume", "host_path", "k8s", "V1HostPathVolumeSource", "path", "name"], ["result", "PodGenerator", "reconcile_pods", "base_pod", "mutator_pod"]], "name": [["mutator_pod", "k8s", "V1Pod", "metadata", "k8s", "V1ObjectMeta", "name", "labels", "spec", "k8s", "V1PodSpec", "containers", "k8s", "V1Container", "image", "name", "command", "volume_mounts", "k8s", "V1VolumeMount", "mount_path", "name", "volumes", "k8s", "V1Volume", "host_path", "k8s", "V1HostPathVolumeSource", "path", "name"], ["expected", "metadata", "name"], ["expected", "spec", "volumes", "append", "k8s", "V1Volume", "host_path", "k8s", "V1HostPathVolumeSource", "path", "name"], ["base_container", "volume_mounts", "k8s", "V1VolumeMount", "mount_path", "name"], ["base_container", "name"]], "path": [["path", "sys", "path"], ["base_pod", "PodGenerator", "pod_template_file", "path", "extract_xcom", "False", "ud_pod"], ["mutator_pod", "k8s", "V1Pod", "metadata", "k8s", "V1ObjectMeta", "name", "labels", "spec", "k8s", "V1PodSpec", "containers", "k8s", "V1Container", "image", "name", "command", "volume_mounts", "k8s", "V1VolumeMount", "mount_path", "name", "volumes", "k8s", "V1Volume", "host_path", "k8s", "V1HostPathVolumeSource", "path", "name"], ["expected", "spec", "volumes", "append", "k8s", "V1Volume", "host_path", "k8s", "V1HostPathVolumeSource", "path", "name"]], "result": [["result", "PodGenerator", "reconcile_pods", "base_pod", "mutator_pod"], ["result_dict", "self", "k8s_client", "sanitize_for_serialization", "result"]], "result_dict": [["result_dict", "self", "k8s_client", "sanitize_for_serialization", "result"], ["result_dict", "expected_dict"]], "return_value": [["mock_rand_str", "return_value", "self", "rand_str"]], "volume_mounts": [["mutator_pod", "k8s", "V1Pod", "metadata", "k8s", "V1ObjectMeta", "name", "labels", "spec", "k8s", "V1PodSpec", "containers", "k8s", "V1Container", "image", "name", "command", "volume_mounts", "k8s", "V1VolumeMount", "mount_path", "name", "volumes", "k8s", "V1Volume", "host_path", "k8s", "V1HostPathVolumeSource", "path", "name"], ["base_container", "volume_mounts", "k8s", "V1VolumeMount", "mount_path", "name"]]}, "name": "test_reconcile_pods", "params": {"mock_rand_str": "", "self": ""}, "params_descr": {"mock_rand_str": "", "self": ""}, "params_occur": {"mock_rand_str": [["mock_rand_str", "return_value", "self", "rand_str"]], "self": [["mock_rand_str", "return_value", "self", "rand_str"], ["expected", "kubernetes", "client", "models", "V1Pod", "self", "expected"], ["result_dict", "self", "k8s_client", "sanitize_for_serialization", "result"], ["expected_dict", "self", "k8s_client", "sanitize_for_serialization", "expected"]]}, "params_p": {"args": [], "kwargs": [], "mock_rand_str": [], "self": []}, "q_name": "TestPodGenerator.test_reconcile_pods", "ret_exprs": [], "ret_type": "", "variables": {"base_container": "kubernetes.client.models.V1Container", "base_pod": "", "command": "", "expected": "kubernetes.client.models.V1Pod", "expected_dict": "", "mutator_pod": "", "name": "", "path": "", "result": "", "result_dict": "", "return_value": "", "volume_mounts": ""}, "variables_p": {"base_container": [["Dict[str, Dict[str, Any]]", 0.19716943258752878], ["str", 0.1821224081313051], ["cleanslate.models.SourceRecord", 0.11519135254796767]], "base_pod": [["int", 0.1494568968733865], ["bytes", 0.10111953929751673], ["Optional[str]", 0.09146886980042582], ["str", 0.08540687941587019], ["Dict[str, str]", 0.08245391070168333], ["src.pip_shims.models.ShimmedPathCollection", 0.07888389772008379], ["Tuple[int, int]", 0.07876137328069666]], "command": [["Dict[str, str]", 0.2015805204050483], ["str", 0.09123622177764179]], "expected": [["str", 0.09023553738551389], ["pykechain.models.activity.Activity", 0.08336215605566429]], "expected_dict": [["Dict[Any, str]", 0.48123233858468195], ["Dict[str, str]", 0.11939815568988739], ["requests.models.Response", 0.09708158627808626], ["dict", 0.08432739038520698]], "mutator_pod": [["float", 0.10122444476619148], ["int", 0.1001594921874234]], "name": [["str", 0.9999999999999999]], "path": [["Union[None, str, bytes]", 0.09728066779628036]], "result": [], "result_dict": [["dict", 0.4042318606334896], ["Dict[str, str]", 0.17359392753797706], ["Dict[int, str]", 0.10191214977485713], ["Dict[Any, dict]", 0.08896149268345882]], "return_value": [["Optional[bytes]", 0.1886099951668712], ["str", 0.1324094781702616], ["Tuple[int, int]", 0.0938039203177022], ["Type[Dict[Any, Any]]", 0.07997519515454746], ["mock._patch[Union[mock.AsyncMock, mock.MagicMock]]", 0.06699022674081216], ["list", 0.06595937891074073]], "volume_mounts": [["float", 0.10122444476619148], ["int", 0.1001594921874234]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[404, 4], [448, 43]], "fn_var_ln": {"executor_config": [[407, 8], [407, 23]], "expected": [[430, 8], [430, 16]], "expected_dict": [[446, 8], [446, 21]], "result": [[417, 8], [417, 14]], "result_dict": [[445, 8], [445, 19]], "template_file": [[405, 8], [405, 21]], "worker_config": [[406, 8], [406, 21]]}, "fn_var_occur": {"executor_config": [["executor_config", "k8s", "V1Pod", "spec", "k8s", "V1PodSpec", "containers", "k8s", "V1Container", "name", "resources", "k8s", "V1ResourceRequirements", "limits"], ["result", "PodGenerator", "construct_pod", "dag_id", "self", "dag_id", "task_id", "self", "task_id", "pod_id", "kube_image", "config_image", "try_number", "self", "try_number", "date", "self", "execution_date", "args", "pod_override_object", "executor_config", "base_worker_pod", "worker_config", "namespace", "scheduler_job_id"]], "expected": [["expected", "self", "expected"], ["expected", "metadata", "labels", "self", "labels"], ["expected", "metadata", "labels"], ["expected", "metadata", "annotations", "self", "annotations"], ["expected", "metadata", "name"], ["expected", "metadata", "namespace"], ["expected", "spec", "containers", "args"], ["expected", "spec", "containers", "image", "expected_image"], ["expected", "spec", "containers", "resources"], ["expected", "spec", "containers", "env", "append", "k8s", "V1EnvVar", "name", "value"], ["expected_dict", "self", "k8s_client", "sanitize_for_serialization", "self", "expected"]], "expected_dict": [["expected_dict", "self", "k8s_client", "sanitize_for_serialization", "self", "expected"], ["expected_dict", "result_dict"]], "result": [["result", "PodGenerator", "construct_pod", "dag_id", "self", "dag_id", "task_id", "self", "task_id", "pod_id", "kube_image", "config_image", "try_number", "self", "try_number", "date", "self", "execution_date", "args", "pod_override_object", "executor_config", "base_worker_pod", "worker_config", "namespace", "scheduler_job_id"], ["result_dict", "self", "k8s_client", "sanitize_for_serialization", "result"]], "result_dict": [["result_dict", "self", "k8s_client", "sanitize_for_serialization", "result"], ["expected_dict", "result_dict"]], "template_file": [["template_file", "sys", "path"], ["worker_config", "PodGenerator", "deserialize_model_file", "template_file"]], "worker_config": [["worker_config", "PodGenerator", "deserialize_model_file", "template_file"], ["result", "PodGenerator", "construct_pod", "dag_id", "self", "dag_id", "task_id", "self", "task_id", "pod_id", "kube_image", "config_image", "try_number", "self", "try_number", "date", "self", "execution_date", "args", "pod_override_object", "executor_config", "base_worker_pod", "worker_config", "namespace", "scheduler_job_id"]]}, "name": "test_construct_pod", "params": {"config_image": "", "expected_image": "", "self": ""}, "params_descr": {"config_image": "", "expected_image": "", "self": ""}, "params_occur": {"config_image": [["result", "PodGenerator", "construct_pod", "dag_id", "self", "dag_id", "task_id", "self", "task_id", "pod_id", "kube_image", "config_image", "try_number", "self", "try_number", "date", "self", "execution_date", "args", "pod_override_object", "executor_config", "base_worker_pod", "worker_config", "namespace", "scheduler_job_id"]], "expected_image": [["expected", "spec", "containers", "image", "expected_image"]], "self": [["result", "PodGenerator", "construct_pod", "dag_id", "self", "dag_id", "task_id", "self", "task_id", "pod_id", "kube_image", "config_image", "try_number", "self", "try_number", "date", "self", "execution_date", "args", "pod_override_object", "executor_config", "base_worker_pod", "worker_config", "namespace", "scheduler_job_id"], ["expected", "self", "expected"], ["expected", "metadata", "labels", "self", "labels"], ["expected", "metadata", "annotations", "self", "annotations"], ["result_dict", "self", "k8s_client", "sanitize_for_serialization", "result"], ["expected_dict", "self", "k8s_client", "sanitize_for_serialization", "self", "expected"]]}, "params_p": {"args": [], "config_image": [], "expected_image": [["str", 0.3768003514463273], ["Union[str, List[str]]", 0.08294780993022675]], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_construct_pod", "ret_exprs": [], "ret_type": "", "variables": {"executor_config": "", "expected": "", "expected_dict": "", "result": "", "result_dict": "", "template_file": "", "worker_config": ""}, "variables_p": {"executor_config": [["Dict[str, Union[Any, Any, Any]]", 0.34583542689146574], ["str", 0.1517775791978464], ["Dict[str, Union[Any, str]]", 0.14603164458858248], ["Dict[str, Union[Any, Any, Any, Any]]", 0.12938474109635942], ["Dict[str, str]", 0.07631001981804597], ["Dict[str, Dict[str, str]]", 0.0760808803277139], ["Dict[str, Union[Any, Any, bool, int, str]]", 0.07457970807998596]], "expected": [["str", 0.19215459464177603], ["circle_core.models.module.Module", 0.09487410221062259]], "expected_dict": [["Dict[str, str]", 0.282274474531666], ["list", 0.12064346475433199], ["requests.models.Response", 0.09827884804693945], ["Dict[str, Any]", 0.09546755694470468]], "result": [], "result_dict": [["dict", 0.31373214216719586], ["Dict[str, str]", 0.12231789982024725], ["Dict[int, str]", 0.10179947398690535], ["Dict[Any, List[Any]]", 0.0903714237562267], ["Dict[str, Union[bytes, str]]", 0.0902669006396898], ["Dict[str, Any]", 0.09012763020243919], ["Dict[str, Dict[str, str]]", 0.08528319142610248]], "template_file": [["str", 0.8034869352807739]], "worker_config": [["Dict[str, bool]", 0.09399471065918978], ["Dict[str, Union[int, str]]", 0.08979570425163397]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[450, 4], [482, 43]], "fn_var_ln": {"expected": [[467, 8], [467, 16]], "expected_dict": [[480, 8], [480, 21]], "result": [[453, 8], [453, 14]], "result_dict": [[479, 8], [479, 19]], "template_file": [[451, 8], [451, 21]], "worker_config": [[452, 8], [452, 21]]}, "fn_var_occur": {"expected": [["expected", "self", "expected"], ["expected", "metadata", "labels", "self", "labels"], ["expected", "metadata", "labels"], ["expected", "metadata", "labels"], ["expected", "metadata", "annotations", "self", "annotations"], ["expected", "metadata", "annotations"], ["expected", "metadata", "name"], ["expected", "metadata", "namespace"], ["expected", "spec", "containers", "args"], ["expected", "spec", "containers", "env_from"], ["expected", "spec", "containers", "env"], ["expected", "spec", "containers", "env", "append", "k8s", "V1EnvVar", "name", "value"], ["expected_dict", "self", "k8s_client", "sanitize_for_serialization", "expected"]], "expected_dict": [["expected_dict", "self", "k8s_client", "sanitize_for_serialization", "expected"], ["result_dict", "expected_dict"]], "result": [["result", "PodGenerator", "construct_pod", "dag_id", "self", "dag_id", "task_id", "self", "task_id", "pod_id", "try_number", "self", "try_number", "kube_image", "map_index", "date", "self", "execution_date", "args", "pod_override_object", "None", "base_worker_pod", "worker_config", "namespace", "scheduler_job_id"], ["result_dict", "self", "k8s_client", "sanitize_for_serialization", "result"]], "result_dict": [["result_dict", "self", "k8s_client", "sanitize_for_serialization", "result"], ["result_dict", "expected_dict"]], "template_file": [["template_file", "sys", "path"], ["worker_config", "PodGenerator", "deserialize_model_file", "template_file"]], "worker_config": [["worker_config", "PodGenerator", "deserialize_model_file", "template_file"], ["result", "PodGenerator", "construct_pod", "dag_id", "self", "dag_id", "task_id", "self", "task_id", "pod_id", "try_number", "self", "try_number", "kube_image", "map_index", "date", "self", "execution_date", "args", "pod_override_object", "None", "base_worker_pod", "worker_config", "namespace", "scheduler_job_id"]]}, "name": "test_construct_pod_mapped_task", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["result", "PodGenerator", "construct_pod", "dag_id", "self", "dag_id", "task_id", "self", "task_id", "pod_id", "try_number", "self", "try_number", "kube_image", "map_index", "date", "self", "execution_date", "args", "pod_override_object", "None", "base_worker_pod", "worker_config", "namespace", "scheduler_job_id"], ["expected", "self", "expected"], ["expected", "metadata", "labels", "self", "labels"], ["expected", "metadata", "annotations", "self", "annotations"], ["result_dict", "self", "k8s_client", "sanitize_for_serialization", "result"], ["expected_dict", "self", "k8s_client", "sanitize_for_serialization", "expected"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_construct_pod_mapped_task", "ret_exprs": [], "ret_type": "", "variables": {"expected": "", "expected_dict": "", "result": "", "result_dict": "", "template_file": "", "worker_config": ""}, "variables_p": {"expected": [["str", 0.17848920401288762], ["Dict[str, Any]", 0.1187462300070255], ["Set[str]", 0.09136106332885569], ["int", 0.07755194987810686]], "expected_dict": [["Dict[Any, str]", 0.48123233858468195], ["Dict[str, str]", 0.11939815568988739], ["requests.models.Response", 0.09708158627808626], ["dict", 0.08432739038520698]], "result": [], "result_dict": [["dict", 0.4042318606334896], ["Dict[str, str]", 0.17359392753797706], ["Dict[int, str]", 0.10191214977485713], ["Dict[Any, dict]", 0.08896149268345882]], "template_file": [["str", 0.8034869352807739]], "worker_config": [["Dict[str, bool]", 0.09399471065918978], ["Dict[str, Union[int, str]]", 0.08979570425163397]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[484, 4], [514, 55]], "fn_var_ln": {"executor_config": [[487, 8], [487, 23]], "path": [[485, 8], [485, 12]], "result": [[489, 8], [489, 14]], "sanitized_result": [[502, 8], [502, 24]], "worker_config": [[486, 8], [486, 21]], "worker_config_result": [[513, 8], [513, 28]]}, "fn_var_occur": {"executor_config": [["executor_config", "None"], ["result", "PodGenerator", "construct_pod", "dag_id", "task_id", "pod_id", "kube_image", "try_number", "date", "self", "execution_date", "args", "pod_override_object", "executor_config", "base_worker_pod", "worker_config", "namespace", "scheduler_job_id"]], "path": [["path", "sys", "path"], ["worker_config", "PodGenerator", "deserialize_model_file", "path"]], "result": [["result", "PodGenerator", "construct_pod", "dag_id", "task_id", "pod_id", "kube_image", "try_number", "date", "self", "execution_date", "args", "pod_override_object", "executor_config", "base_worker_pod", "worker_config", "namespace", "scheduler_job_id"], ["sanitized_result", "self", "k8s_client", "sanitize_for_serialization", "result"]], "sanitized_result": [["sanitized_result", "self", "k8s_client", "sanitize_for_serialization", "result"], ["sanitized_result", "worker_config_result"]], "worker_config": [["worker_config", "PodGenerator", "deserialize_model_file", "path"], ["result", "PodGenerator", "construct_pod", "dag_id", "task_id", "pod_id", "kube_image", "try_number", "date", "self", "execution_date", "args", "pod_override_object", "executor_config", "base_worker_pod", "worker_config", "namespace", "scheduler_job_id"], ["worker_config", "spec", "containers", "image"], ["worker_config", "spec", "containers", "args"], ["worker_config", "metadata", "annotations", "self", "annotations"], ["worker_config", "metadata", "labels", "self", "labels"], ["worker_config", "metadata", "labels"], ["worker_config", "metadata", "name"], ["worker_config", "metadata", "namespace"], ["worker_config", "spec", "containers", "env", "append", "k8s", "V1EnvVar", "name", "value"], ["worker_config_result", "self", "k8s_client", "sanitize_for_serialization", "worker_config"]], "worker_config_result": [["worker_config_result", "self", "k8s_client", "sanitize_for_serialization", "worker_config"], ["sanitized_result", "worker_config_result"]]}, "name": "test_construct_pod_empty_executor_config", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["result", "PodGenerator", "construct_pod", "dag_id", "task_id", "pod_id", "kube_image", "try_number", "date", "self", "execution_date", "args", "pod_override_object", "executor_config", "base_worker_pod", "worker_config", "namespace", "scheduler_job_id"], ["sanitized_result", "self", "k8s_client", "sanitize_for_serialization", "result"], ["worker_config", "metadata", "annotations", "self", "annotations"], ["worker_config", "metadata", "labels", "self", "labels"], ["worker_config_result", "self", "k8s_client", "sanitize_for_serialization", "worker_config"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_construct_pod_empty_executor_config", "ret_exprs": [], "ret_type": "", "variables": {"executor_config": "", "path": "", "result": "", "sanitized_result": "", "worker_config": "", "worker_config_result": ""}, "variables_p": {"executor_config": [["Set[str]", 0.12032032989359638], ["Tuple[None, Tuple[None, None]]", 0.11145341752117394], ["List[None]", 0.0983154593221645]], "path": [["str", 0.30111184880545194], ["list", 0.0904944966516782]], "result": [["list", 0.19852044229126042], ["Dict[str, int]", 0.10500437986091916], ["float", 0.10103100463754905], ["int", 0.0845889197545279]], "sanitized_result": [["Dict[str, Union[int, str]]", 0.11424008236971368], ["List[Hashable]", 0.10834615722032108], ["str", 0.09106783118126532], ["dict", 0.09006714528394734], ["Counter[Any]", 0.08897667870623542]], "worker_config": [["str", 0.27003978100500164], ["Dict[str, int]", 0.11286653089913637], ["Dict[str, Dict[str, Any]]", 0.11126119378420259], ["Dict[str, str]", 0.10799505013687512], ["Dict[str, Union[int, str]]", 0.09623799997095711]], "worker_config_result": [["Dict[str, Any]", 0.10494879946700664]]}}, {"docstring": {"func": "After upgrading k8s library we might get attribute error.", "long_descr": "In this case it should raise PodReconciliationError", "ret": null}, "fn_lc": [[517, 4], [541, 13]], "fn_var_ln": {"executor_config": [[525, 8], [525, 23]], "path": [[522, 8], [522, 12]], "return_value": [[524, 8], [524, 34]], "side_effect": [[526, 8], [526, 35]], "worker_config": [[523, 8], [523, 21]]}, "fn_var_occur": {"executor_config": [["executor_config", "MagicMock"], ["executor_config", "side_effect", "AttributeError"], ["PodGenerator", "construct_pod", "dag_id", "task_id", "pod_id", "kube_image", "try_number", "date", "self", "execution_date", "args", "pod_override_object", "executor_config", "base_worker_pod", "worker_config", "namespace", "scheduler_job_id"]], "path": [["path", "sys", "path"], ["worker_config", "PodGenerator", "deserialize_model_file", "path"]], "return_value": [["mock_rand_str", "return_value", "self", "rand_str"]], "side_effect": [["executor_config", "side_effect", "AttributeError"]], "worker_config": [["worker_config", "PodGenerator", "deserialize_model_file", "path"], ["PodGenerator", "construct_pod", "dag_id", "task_id", "pod_id", "kube_image", "try_number", "date", "self", "execution_date", "args", "pod_override_object", "executor_config", "base_worker_pod", "worker_config", "namespace", "scheduler_job_id"]]}, "name": "test_construct_pod_attribute_error", "params": {"mock_rand_str": "", "self": ""}, "params_descr": {"mock_rand_str": "", "self": ""}, "params_occur": {"mock_rand_str": [["mock_rand_str", "return_value", "self", "rand_str"]], "self": [["mock_rand_str", "return_value", "self", "rand_str"], ["PodGenerator", "construct_pod", "dag_id", "task_id", "pod_id", "kube_image", "try_number", "date", "self", "execution_date", "args", "pod_override_object", "executor_config", "base_worker_pod", "worker_config", "namespace", "scheduler_job_id"]]}, "params_p": {"args": [], "kwargs": [], "mock_rand_str": [["unittesmock.MagicMock", 0.4971134835723209]], "self": []}, "q_name": "TestPodGenerator.test_construct_pod_attribute_error", "ret_exprs": [], "ret_type": "", "variables": {"executor_config": "", "path": "", "return_value": "", "side_effect": "", "worker_config": ""}, "variables_p": {"executor_config": [["mock.Mock", 0.508085993919924], ["unittesmock.MagicMock", 0.09308478074414357], ["str", 0.09289051146404916]], "path": [["str", 0.30111184880545194], ["list", 0.0904944966516782]], "return_value": [["Optional[bytes]", 0.1886099951668712], ["str", 0.1324094781702616], ["Tuple[int, int]", 0.0938039203177022], ["Type[Dict[Any, Any]]", 0.07997519515454746], ["mock._patch[Union[mock.AsyncMock, mock.MagicMock]]", 0.06699022674081216], ["list", 0.06595937891074073]], "side_effect": [["int", 0.9999999998889755], ["str", 3.834821150935226e-11], ["List[int]", 2.7433104349039152e-11], ["Union[dict, Dict[str, Any]]", 1.652720825314897e-11], ["List['Book']", 1.4999471432876967e-11]], "worker_config": [["Dict[str, Union[Any, str]]", 0.11432548629422609], ["Dict[str, str]", 0.10838927208151682], ["Dict[str, Dict[str, Any]]", 0.10394193271937556], ["Dict[str, Union[None, int, str]]", 0.095955439731093], ["Dict[str, Optional[str]]", 0.095955439731093], ["Dict[str, Dict[str, str]]", 0.09411413540185751], ["Dict[str, Dict[str, int]]", 0.09274074744721109], ["Dict[str, int]", 0.08894444809779474], ["Dict[Any, str]", 0.08838525255427972]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[544, 4], [568, 66]], "fn_var_ln": {"path": [[546, 8], [546, 12]], "result": [[549, 8], [549, 14]], "return_value": [[545, 8], [545, 34]], "worker_config": [[547, 8], [547, 21]]}, "fn_var_occur": {"path": [["path", "os", "path", "join", "os", "path", "dirname", "__file__"], ["worker_config", "PodGenerator", "deserialize_model_file", "path"]], "result": [["result", "PodGenerator", "construct_pod", "dag_id", "task_id", "pod_id", "kube_image", "try_number", "date", "self", "execution_date", "args", "namespace", "scheduler_job_id", "pod_override_object", "None", "base_worker_pod", "worker_config"], ["result", "metadata", "name", "self", "rand_str"], ["result", "metadata", "labels", "items"], ["result", "metadata", "annotations"], ["result", "metadata", "annotations"]], "return_value": [["mock_rand_str", "return_value", "self", "rand_str"]], "worker_config": [["worker_config", "PodGenerator", "deserialize_model_file", "path"], ["result", "PodGenerator", "construct_pod", "dag_id", "task_id", "pod_id", "kube_image", "try_number", "date", "self", "execution_date", "args", "namespace", "scheduler_job_id", "pod_override_object", "None", "base_worker_pod", "worker_config"]]}, "name": "test_ensure_max_identifier_length", "params": {"mock_rand_str": "", "self": ""}, "params_descr": {"mock_rand_str": "", "self": ""}, "params_occur": {"mock_rand_str": [["mock_rand_str", "return_value", "self", "rand_str"]], "self": [["mock_rand_str", "return_value", "self", "rand_str"], ["result", "PodGenerator", "construct_pod", "dag_id", "task_id", "pod_id", "kube_image", "try_number", "date", "self", "execution_date", "args", "namespace", "scheduler_job_id", "pod_override_object", "None", "base_worker_pod", "worker_config"], ["result", "metadata", "name", "self", "rand_str"]]}, "params_p": {"args": [], "kwargs": [], "mock_rand_str": [], "self": []}, "q_name": "TestPodGenerator.test_ensure_max_identifier_length", "ret_exprs": [], "ret_type": "", "variables": {"path": "", "result": "", "return_value": "", "worker_config": ""}, "variables_p": {"path": [["str", 0.7938698054937925], ["Optional[str]", 0.07455294549135053]], "result": [["list", 0.18254900830601542], ["float", 0.1112275719206009], ["Dict[str, int]", 0.09978278482505344]], "return_value": [["Optional[bytes]", 0.1886099951668712], ["str", 0.1324094781702616], ["Tuple[int, int]", 0.0938039203177022], ["Type[Dict[Any, Any]]", 0.07997519515454746], ["mock._patch[Union[mock.AsyncMock, mock.MagicMock]]", 0.06699022674081216], ["list", 0.06595937891074073]], "worker_config": [["str", 0.27003978100500164], ["Dict[str, int]", 0.11286653089913637], ["Dict[str, Dict[str, Any]]", 0.11126119378420259], ["Dict[str, str]", 0.10799505013687512], ["Dict[str, Union[int, str]]", 0.09623799997095711]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[570, 4], [588, 32]], "fn_var_ln": {"annotations": [[571, 8], [571, 19]], "base_obj": [[586, 8], [586, 16]], "client_obj": [[581, 8], [581, 18]], "res": [[587, 8], [587, 11]]}, "fn_var_occur": {"annotations": [["base_obj", "k8s", "V1ObjectMeta", "annotations", "annotations"], ["client_obj", "k8s", "V1ObjectMeta", "annotations", "annotations"]], "base_obj": [["base_obj", "k8s", "V1ObjectMeta", "annotations", "annotations"], ["res", "merge_objects", "base_obj", "client_obj"], ["base_obj", "res"], ["res", "merge_objects", "base_obj", "client_obj"], ["base_obj", "res"], ["base_obj", "None"], ["res", "merge_objects", "base_obj", "client_obj"], ["base_obj", "k8s", "V1ObjectMeta"], ["res", "merge_objects", "base_obj", "client_obj"]], "client_obj": [["client_obj", "None"], ["res", "merge_objects", "base_obj", "client_obj"], ["client_obj", "k8s", "V1ObjectMeta"], ["res", "merge_objects", "base_obj", "client_obj"], ["client_obj", "k8s", "V1ObjectMeta", "annotations", "annotations"], ["res", "merge_objects", "base_obj", "client_obj"], ["client_obj", "res"], ["res", "merge_objects", "base_obj", "client_obj"], ["client_obj", "res"]], "res": [["res", "merge_objects", "base_obj", "client_obj"], ["base_obj", "res"], ["res", "merge_objects", "base_obj", "client_obj"], ["base_obj", "res"], ["res", "merge_objects", "base_obj", "client_obj"], ["client_obj", "res"], ["res", "merge_objects", "base_obj", "client_obj"], ["client_obj", "res"]]}, "name": "test_merge_objects_empty", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_merge_objects_empty", "ret_exprs": [], "ret_type": "", "variables": {"annotations": "", "base_obj": "", "client_obj": "", "res": ""}, "variables_p": {"annotations": [["float", 0.21938564824040638], ["int", 0.10827035291176228], ["Dict[str, float]", 0.10367320041650578], ["list", 0.08487290290396168]], "base_obj": [["enumerate[str]", 0.18692047632090977], ["Dict[str, List[str]]", 0.1041097530763411]], "client_obj": [["unittesmock.MagicMock", 0.09849915457671542], ["str", 0.09384922117468425]], "res": [["list", 0.1156107416566246], ["dict", 0.11408522111088411]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[590, 4], [598, 32]], "fn_var_ln": {"base_annotations": [[591, 8], [591, 24]], "base_labels": [[592, 8], [592, 19]], "base_obj": [[594, 8], [594, 16]], "client_annotations": [[593, 8], [593, 26]], "client_obj": [[595, 8], [595, 18]], "labels": [[597, 8], [597, 25]], "res": [[596, 8], [596, 11]]}, "fn_var_occur": {"base_annotations": [["base_obj", "k8s", "V1ObjectMeta", "annotations", "base_annotations", "labels", "base_labels"]], "base_labels": [["base_obj", "k8s", "V1ObjectMeta", "annotations", "base_annotations", "labels", "base_labels"], ["client_obj", "labels", "base_labels"]], "base_obj": [["base_obj", "k8s", "V1ObjectMeta", "annotations", "base_annotations", "labels", "base_labels"], ["res", "merge_objects", "base_obj", "client_obj"]], "client_annotations": [["client_obj", "k8s", "V1ObjectMeta", "annotations", "client_annotations"]], "client_obj": [["client_obj", "k8s", "V1ObjectMeta", "annotations", "client_annotations"], ["res", "merge_objects", "base_obj", "client_obj"], ["client_obj", "labels", "base_labels"], ["client_obj", "res"]], "labels": [["base_obj", "k8s", "V1ObjectMeta", "annotations", "base_annotations", "labels", "base_labels"], ["client_obj", "labels", "base_labels"]], "res": [["res", "merge_objects", "base_obj", "client_obj"], ["client_obj", "res"]]}, "name": "test_merge_objects", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_merge_objects", "ret_exprs": [], "ret_type": "", "variables": {"base_annotations": "", "base_labels": "", "base_obj": "", "client_annotations": "", "client_obj": "", "labels": "", "res": ""}, "variables_p": {"base_annotations": [["str", 0.4087828099539419], ["List[str]", 0.09016821406616397]], "base_labels": [["str", 0.11428585829280861], ["Dict[str, Union[Any, Any, Any]]", 0.09734015522286175], ["Set[str]", 0.09077069677343252]], "base_obj": [["str", 0.2061032006105537], ["Tuple[Type[set], Type[frozenset]]", 0.17401040821110694], ["List[Union[Any, Any, int]]", 0.10406297905781214]], "client_annotations": [["str", 0.22872191205002063], ["List[str]", 0.18040949664175462], ["int", 0.09759611225044043], ["Tuple[int, int]", 0.09585318186829024], ["Dict[str, str]", 0.09268941634641872], ["Counter[Any]", 0.09123294119808233], ["Dict[str, Any]", 0.09066239807632476]], "client_obj": [["Counter[Any]", 0.10781891033220785]], "labels": [["int", 0.1797938245355437], ["str", 0.11548421199126097], ["Set[str]", 0.08889808898760067]], "res": [["dict", 0.13577445908372296], ["Optional[str]", 0.10185450194473288], ["list", 0.07563739994689297]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[600, 4], [611, 32]], "fn_var_ln": {"base_obj": [[608, 8], [608, 16]], "client_obj": [[609, 8], [609, 18]], "ports": [[605, 8], [605, 24]], "res": [[610, 8], [610, 11]]}, "fn_var_occur": {"base_obj": [["base_obj", "k8s", "V1Container", "name", "ports", "ports"], ["res", "extend_object_field", "base_obj", "client_obj"], ["base_obj", "k8s", "V1Container", "name"], ["res", "extend_object_field", "base_obj", "client_obj"]], "client_obj": [["client_obj", "k8s", "V1Container", "name"], ["res", "extend_object_field", "base_obj", "client_obj"], ["client_obj", "ports", "ports"], ["client_obj", "res"], ["client_obj", "k8s", "V1Container", "name", "ports", "ports"], ["res", "extend_object_field", "base_obj", "client_obj"], ["client_obj", "res"]], "ports": [["ports", "k8s", "V1ContainerPort", "container_port", "name"], ["base_obj", "k8s", "V1Container", "name", "ports", "ports"], ["client_obj", "ports", "ports"], ["client_obj", "k8s", "V1Container", "name", "ports", "ports"]], "res": [["res", "extend_object_field", "base_obj", "client_obj"], ["client_obj", "res"], ["res", "extend_object_field", "base_obj", "client_obj"], ["client_obj", "res"]]}, "name": "test_extend_object_field_empty", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_extend_object_field_empty", "ret_exprs": [], "ret_type": "", "variables": {"base_obj": "", "client_obj": "", "ports": "", "res": ""}, "variables_p": {"base_obj": [["str", 0.20837499748392022], ["src.pip_shims.models.ShimmedPathCollection", 0.10183138425201134], ["deque[str]", 0.10060076218451817]], "client_obj": [], "ports": [], "res": [["dict", 0.09798477967821509], ["bool", 0.09253007991441976], ["float", 0.07573763119617723], ["List[Tuple[int, Any]]", 0.07467198205927825], ["str", 0.07414485355241264]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[613, 4], [621, 62]], "fn_var_ln": {"base_obj": [[618, 8], [618, 16]], "client_obj": [[619, 8], [619, 18]]}, "fn_var_occur": {"base_obj": [["base_obj", "k8s", "V1Container", "name", "image"], ["extend_object_field", "base_obj", "client_obj"], ["base_obj", "k8s", "V1Container", "name"], ["extend_object_field", "base_obj", "client_obj"]], "client_obj": [["client_obj", "k8s", "V1Container", "name"], ["extend_object_field", "base_obj", "client_obj"], ["client_obj", "k8s", "V1Container", "name", "image"], ["extend_object_field", "base_obj", "client_obj"]]}, "name": "test_extend_object_field_not_list", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_extend_object_field_not_list", "ret_exprs": [], "ret_type": "", "variables": {"base_obj": "", "client_obj": ""}, "variables_p": {"base_obj": [["str", 0.2631036494796573], ["List[str]", 0.17686244447337487]], "client_obj": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[623, 4], [630, 32]], "fn_var_ln": {"base_obj": [[625, 8], [625, 16]], "base_ports": [[624, 8], [624, 18]], "client_obj": [[627, 8], [627, 18]], "client_ports": [[626, 8], [626, 20]], "ports": [[629, 8], [629, 24]], "res": [[628, 8], [628, 11]]}, "fn_var_occur": {"base_obj": [["base_obj", "k8s", "V1Container", "name", "ports", "base_ports"], ["res", "extend_object_field", "base_obj", "client_obj"]], "base_ports": [["base_ports", "k8s", "V1ContainerPort", "container_port", "name"], ["base_obj", "k8s", "V1Container", "name", "ports", "base_ports"], ["client_obj", "ports", "base_ports", "client_ports"]], "client_obj": [["client_obj", "k8s", "V1Container", "name", "ports", "client_ports"], ["res", "extend_object_field", "base_obj", "client_obj"], ["client_obj", "ports", "base_ports", "client_ports"], ["client_obj", "res"]], "client_ports": [["client_ports", "k8s", "V1ContainerPort", "container_port", "name"], ["client_obj", "k8s", "V1Container", "name", "ports", "client_ports"], ["client_obj", "ports", "base_ports", "client_ports"]], "ports": [["base_obj", "k8s", "V1Container", "name", "ports", "base_ports"], ["client_obj", "k8s", "V1Container", "name", "ports", "client_ports"], ["client_obj", "ports", "base_ports", "client_ports"]], "res": [["res", "extend_object_field", "base_obj", "client_obj"], ["client_obj", "res"]]}, "name": "test_extend_object_field", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_extend_object_field", "ret_exprs": [], "ret_type": "", "variables": {"base_obj": "", "base_ports": "", "client_obj": "", "client_ports": "", "ports": "", "res": ""}, "variables_p": {"base_obj": [["str", 0.3934344798429997], ["Tuple[Type[bytes], Type[str]]", 0.20595341804756967], ["tuple", 0.08834961695602446]], "base_ports": [["List[str]", 0.18924388211933865], ["str", 0.1402062598931375], ["Dict[str, str]", 0.08785890917317925], ["bool", 0.08675813191586788]], "client_obj": [["list", 0.19240434735748263], ["unittesmock.MagicMock", 0.09647494723146792], ["Dict[str, Dict[str, Any]]", 0.0902105258657175]], "client_ports": [], "ports": [["Dict[str, Any]", 0.09357168254699968]], "res": [["int", 0.17809438347903073], ["requests.models.Response", 0.12312269064888992], ["Pattern[str]", 0.10820398461564029], ["Generator[Any, None, None]", 0.07724040301238409]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[632, 4], [644, 24]], "fn_var_ln": {"base_objs": [[639, 8], [639, 17]], "client_objs": [[638, 8], [638, 19]], "res": [[643, 8], [643, 11]]}, "fn_var_occur": {"base_objs": [["base_objs", "k8s", "V1Container", "name"], ["res", "PodGenerator", "reconcile_containers", "base_objs", "client_objs"], ["base_objs", "res"], ["res", "PodGenerator", "reconcile_containers", "base_objs", "client_objs"]], "client_objs": [["res", "PodGenerator", "reconcile_containers", "base_objs", "client_objs"], ["client_objs", "k8s", "V1Container", "name"], ["res", "PodGenerator", "reconcile_containers", "base_objs", "client_objs"], ["client_objs", "res"]], "res": [["res", "PodGenerator", "reconcile_containers", "base_objs", "client_objs"], ["base_objs", "res"], ["res", "PodGenerator", "reconcile_containers", "base_objs", "client_objs"], ["client_objs", "res"], ["res", "PodGenerator", "reconcile_containers"]]}, "name": "test_reconcile_containers_empty", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_reconcile_containers_empty", "ret_exprs": [], "ret_type": "", "variables": {"base_objs": "", "client_objs": "", "res": ""}, "variables_p": {"base_objs": [["List[str]", 0.24884840468610891], ["str", 0.2014655321872138], ["Set[str]", 0.17104487569169202]], "client_objs": [], "res": [["Optional[Match[str]]", 0.1484086960205493], ["Tuple[Any, Any, Any]", 0.10883754874263867], ["Pattern[str]", 0.08687689486705562]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[646, 4], [674, 33]], "fn_var_ln": {"base_objs": [[662, 8], [662, 17]], "base_ports": [[661, 8], [661, 18]], "client_objs": [[667, 8], [667, 19]], "client_ports": [[666, 8], [666, 20]], "res": [[671, 8], [671, 11]]}, "fn_var_occur": {"base_objs": [["base_objs", "k8s", "V1Container", "name", "ports", "base_ports", "k8s", "V1Container", "name", "image"], ["res", "PodGenerator", "reconcile_containers", "base_objs", "client_objs"], ["base_objs", "k8s", "V1Container", "name", "ports", "base_ports", "k8s", "V1Container", "name", "image"], ["res", "PodGenerator", "reconcile_containers", "base_objs", "client_objs"]], "base_ports": [["base_ports", "k8s", "V1ContainerPort", "container_port", "name"], ["base_objs", "k8s", "V1Container", "name", "ports", "base_ports", "k8s", "V1Container", "name", "image"], ["client_objs", "ports", "base_ports", "client_ports"], ["base_ports", "k8s", "V1ContainerPort", "container_port", "name"], ["base_objs", "k8s", "V1Container", "name", "ports", "base_ports", "k8s", "V1Container", "name", "image"], ["client_objs", "ports", "base_ports", "client_ports"]], "client_objs": [["client_objs", "k8s", "V1Container", "name", "ports", "client_ports", "k8s", "V1Container", "name", "image"], ["res", "PodGenerator", "reconcile_containers", "base_objs", "client_objs"], ["client_objs", "ports", "base_ports", "client_ports"], ["client_objs", "res"], ["client_objs", "k8s", "V1Container", "name", "ports", "client_ports", "k8s", "V1Container", "name", "stdin", "True"], ["res", "PodGenerator", "reconcile_containers", "base_objs", "client_objs"], ["client_objs", "ports", "base_ports", "client_ports"], ["client_objs", "image"], ["client_objs", "res"]], "client_ports": [["client_ports", "k8s", "V1ContainerPort", "container_port", "name"], ["client_objs", "k8s", "V1Container", "name", "ports", "client_ports", "k8s", "V1Container", "name", "image"], ["client_objs", "ports", "base_ports", "client_ports"], ["client_ports", "k8s", "V1ContainerPort", "container_port", "name"], ["client_objs", "k8s", "V1Container", "name", "ports", "client_ports", "k8s", "V1Container", "name", "stdin", "True"], ["client_objs", "ports", "base_ports", "client_ports"]], "res": [["res", "PodGenerator", "reconcile_containers", "base_objs", "client_objs"], ["client_objs", "res"], ["res", "PodGenerator", "reconcile_containers", "base_objs", "client_objs"], ["client_objs", "res"]]}, "name": "test_reconcile_containers", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_reconcile_containers", "ret_exprs": [], "ret_type": "", "variables": {"base_objs": "", "base_ports": "", "client_objs": "", "client_ports": "", "res": ""}, "variables_p": {"base_objs": [], "base_ports": [["List[str]", 0.2019713257404162], ["str", 0.13168580404568322], ["Dict[str, str]", 0.08750254228032568], ["bool", 0.08649454102507109]], "client_objs": [["mock.MagicMock", 0.11123588496072366]], "client_ports": [], "res": [["Optional[Match[str]]", 0.18301602917719606], ["Tuple[Any, Any, Any]", 0.11167918515638835], ["Pattern[str]", 0.08085031187832324], ["str", 0.0790094023371475]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[676, 4], [685, 33]], "fn_var_ln": {"base_spec": [[682, 8], [682, 17]], "client_spec": [[683, 8], [683, 19]], "res": [[684, 8], [684, 11]]}, "fn_var_occur": {"base_spec": [["base_spec", "k8s", "V1PodSpec", "containers"], ["res", "PodGenerator", "reconcile_specs", "base_spec", "client_spec"], ["base_spec", "res"], ["base_spec", "None"], ["res", "PodGenerator", "reconcile_specs", "base_spec", "client_spec"]], "client_spec": [["client_spec", "None"], ["res", "PodGenerator", "reconcile_specs", "base_spec", "client_spec"], ["client_spec", "k8s", "V1PodSpec", "containers"], ["res", "PodGenerator", "reconcile_specs", "base_spec", "client_spec"], ["client_spec", "res"]], "res": [["res", "PodGenerator", "reconcile_specs", "base_spec", "client_spec"], ["base_spec", "res"], ["res", "PodGenerator", "reconcile_specs", "base_spec", "client_spec"], ["client_spec", "res"]]}, "name": "test_reconcile_specs_empty", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_reconcile_specs_empty", "ret_exprs": [], "ret_type": "", "variables": {"base_spec": "", "client_spec": "", "res": ""}, "variables_p": {"base_spec": [["List[Union[Any, Any, int]]", 0.1029972017660848], ["Dict[str, Union[bool, str]]", 0.10032655313200783], ["int", 0.09248878328254845]], "client_spec": [["List[str]", 0.12041845694858447], ["int", 0.11820836490544097]], "res": [["requests.models.Response", 0.07502904092670305], ["defaultdict", 0.06500597982403149], ["int", 0.06217505426465461], ["Pattern[str]", 0.06125126331113559], ["List[List[Any]]", 0.05919662150097743]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[687, 4], [695, 33]], "fn_var_ln": {"active_deadline_seconds": [[694, 8], [694, 43]], "base_objs": [[688, 8], [688, 17]], "base_spec": [[690, 8], [690, 17]], "client_objs": [[689, 8], [689, 19]], "client_spec": [[691, 8], [691, 19]], "containers": [[693, 8], [693, 30]], "res": [[692, 8], [692, 11]]}, "fn_var_occur": {"active_deadline_seconds": [["base_spec", "k8s", "V1PodSpec", "priority", "active_deadline_seconds", "containers", "base_objs"], ["client_spec", "active_deadline_seconds"]], "base_objs": [["base_objs", "k8s", "V1Container", "name", "image"], ["base_spec", "k8s", "V1PodSpec", "priority", "active_deadline_seconds", "containers", "base_objs"]], "base_spec": [["base_spec", "k8s", "V1PodSpec", "priority", "active_deadline_seconds", "containers", "base_objs"], ["res", "PodGenerator", "reconcile_specs", "base_spec", "client_spec"]], "client_objs": [["client_objs", "k8s", "V1Container", "name"], ["client_spec", "k8s", "V1PodSpec", "priority", "hostname", "containers", "client_objs"]], "client_spec": [["client_spec", "k8s", "V1PodSpec", "priority", "hostname", "containers", "client_objs"], ["res", "PodGenerator", "reconcile_specs", "base_spec", "client_spec"], ["client_spec", "containers", "k8s", "V1Container", "name", "image"], ["client_spec", "active_deadline_seconds"], ["client_spec", "res"]], "containers": [["base_spec", "k8s", "V1PodSpec", "priority", "active_deadline_seconds", "containers", "base_objs"], ["client_spec", "k8s", "V1PodSpec", "priority", "hostname", "containers", "client_objs"], ["client_spec", "containers", "k8s", "V1Container", "name", "image"]], "res": [["res", "PodGenerator", "reconcile_specs", "base_spec", "client_spec"], ["client_spec", "res"]]}, "name": "test_reconcile_specs", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_reconcile_specs", "ret_exprs": [], "ret_type": "", "variables": {"active_deadline_seconds": "", "base_objs": "", "base_spec": "", "client_objs": "", "client_spec": "", "containers": "", "res": ""}, "variables_p": {"active_deadline_seconds": [["int", 0.09158549065160254]], "base_objs": [["str", 0.2954829763521003]], "base_spec": [], "client_objs": [["mock.MagicMock", 0.10224057898625326], ["unittesmock.MagicMock", 0.09701098130602266]], "client_spec": [["str", 0.1781693395465559], ["Counter[Any]", 0.09003779132418892]], "containers": [["str", 0.08475630792012614]], "res": [["requests.models.Response", 0.11034569484538741], ["Generator[Any, None, None]", 0.08066013353779661]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[697, 4], [703, 93]], "fn_var_ln": {"base_spec": [[698, 8], [698, 17]], "client_spec": [[699, 8], [699, 19]], "res": [[702, 8], [702, 11]]}, "fn_var_occur": {"base_spec": [["base_spec", "k8s", "V1PodSpec", "containers", "init_containers", "k8s", "V1Container", "name"], ["res", "PodGenerator", "reconcile_specs", "base_spec", "client_spec"], ["res", "init_containers", "base_spec", "init_containers", "client_spec", "init_containers"]], "client_spec": [["client_spec", "k8s", "V1PodSpec", "containers", "init_containers", "k8s", "V1Container", "name"], ["res", "PodGenerator", "reconcile_specs", "base_spec", "client_spec"], ["res", "init_containers", "base_spec", "init_containers", "client_spec", "init_containers"]], "res": [["res", "PodGenerator", "reconcile_specs", "base_spec", "client_spec"], ["res", "init_containers", "base_spec", "init_containers", "client_spec", "init_containers"]]}, "name": "test_reconcile_specs_init_containers", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_reconcile_specs_init_containers", "ret_exprs": [], "ret_type": "", "variables": {"base_spec": "", "client_spec": "", "res": ""}, "variables_p": {"base_spec": [], "client_spec": [["Dict[str, dict]", 0.09248566062107214], ["Dict[Any, Dict[str, str]]", 0.09248566062107214]], "res": [["Generator[Any, None, None]", 0.27996875994531156], ["str", 0.16987941158708328], ["dict", 0.11203559002272796], ["float", 0.09360172230188155], ["int", 0.07251383515859296], ["Dict[str, str]", 0.0722836371620654]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[705, 4], [710, 39]], "fn_var_ln": {"path": [[706, 8], [706, 12]], "result": [[707, 8], [707, 14]], "sanitized_res": [[708, 8], [708, 21]]}, "fn_var_occur": {"path": [["path", "sys", "path"], ["result", "PodGenerator", "deserialize_model_file", "path"]], "result": [["result", "PodGenerator", "deserialize_model_file", "path"], ["sanitized_res", "self", "k8s_client", "sanitize_for_serialization", "result"]], "sanitized_res": [["sanitized_res", "self", "k8s_client", "sanitize_for_serialization", "result"], ["sanitized_res", "self", "deserialize_result"]]}, "name": "test_deserialize_model_file", "params": {"caplog": "", "self": ""}, "params_descr": {"caplog": "", "self": ""}, "params_occur": {"caplog": [["len", "caplog", "records"]], "self": [["sanitized_res", "self", "k8s_client", "sanitize_for_serialization", "result"], ["sanitized_res", "self", "deserialize_result"]]}, "params_p": {"args": [], "caplog": [["Callable", 0.16060866607234445]], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_deserialize_model_file", "ret_exprs": [], "ret_type": "", "variables": {"path": "", "result": "", "sanitized_res": ""}, "variables_p": {"path": [["Optional[str]", 0.1516500021655934], ["list", 0.13791426311460492], ["str", 0.09394569031593768]], "result": [], "sanitized_res": [["dict", 0.19886887708595155], ["Pattern[str]", 0.09926009849251755], ["Dict[str, int]", 0.09637632496463087]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[712, 4], [718, 46]], "fn_var_ln": {"path": [[713, 8], [713, 12]], "result": [[714, 8], [714, 14]], "sanitized_res": [[715, 8], [715, 21]]}, "fn_var_occur": {"path": [["path", "sys", "path"], ["result", "PodGenerator", "deserialize_model_file", "path"]], "result": [["result", "PodGenerator", "deserialize_model_file", "path"], ["sanitized_res", "self", "k8s_client", "sanitize_for_serialization", "result"]], "sanitized_res": [["sanitized_res", "self", "k8s_client", "sanitize_for_serialization", "result"]]}, "name": "test_deserialize_non_existent_model_file", "params": {"caplog": "", "self": ""}, "params_descr": {"caplog": "", "self": ""}, "params_occur": {"caplog": [["len", "caplog", "records"], ["caplog", "text"]], "self": [["sanitized_res", "self", "k8s_client", "sanitize_for_serialization", "result"]]}, "params_p": {"args": [], "caplog": [["str", 0.09151156812285784]], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_deserialize_non_existent_model_file", "ret_exprs": [], "ret_type": "", "variables": {"path": "", "result": "", "sanitized_res": ""}, "variables_p": {"path": [["Optional[str]", 0.1516500021655934], ["list", 0.13791426311460492], ["str", 0.09394569031593768]], "result": [], "sanitized_res": [["Pattern[str]", 0.910050434887521], ["int", 0.08994956511247894]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[729, 4], [738, 56]], "fn_var_ln": {"actual": [[730, 8], [730, 14]], "actual_base": [[732, 8], [732, 19]], "actual_suffix": [[732, 21], [732, 34]]}, "fn_var_occur": {"actual": [["actual", "PodGenerator", "make_unique_pod_id", "input"], ["len", "actual"], ["actual_base", "actual_suffix", "actual", "rsplit", "maxsplit"]], "actual_base": [["actual_base", "actual_suffix", "actual", "rsplit", "maxsplit"], ["actual_base", "input"]], "actual_suffix": [["actual_base", "actual_suffix", "actual", "rsplit", "maxsplit"], ["re", "match", "actual_suffix"]]}, "name": "test_pod_name_confirm_to_max_length", "params": {"input": "", "self": ""}, "params_descr": {"input": "", "self": ""}, "params_occur": {"input": [["actual", "PodGenerator", "make_unique_pod_id", "input"], ["actual_base", "input"]], "self": []}, "params_p": {"args": [], "input": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_pod_name_confirm_to_max_length", "ret_exprs": [], "ret_type": "", "variables": {"actual": "", "actual_base": "", "actual_suffix": ""}, "variables_p": {"actual": [["dict", 0.21716499481991247], ["bytes", 0.10156383106250233], ["Type[manager.projects.models.snapshots.Snapshot]", 0.0968997986089893], ["float", 0.09520117673311371], ["str", 0.09183886854543725]], "actual_base": [["str", 0.7849337915191295], ["Tuple[int]", 0.07229950826311005]], "actual_suffix": [["str", 0.9364914761124856], ["requests.models.Response", 0.06350852388751436]]}}, {"docstring": {"func": "`make_unique_pod_id` doesn't actually guarantee that the regex passes for any input.", "long_descr": "But I guess this test verifies that an otherwise valid pod_id doesn't get _screwed up_.", "ret": null}, "fn_lc": [[756, 4], [769, 109]], "fn_var_ln": {"actual": [[761, 8], [761, 14]], "regex": [[765, 8], [765, 13]]}, "fn_var_occur": {"actual": [["actual", "PodGenerator", "make_unique_pod_id", "pod_id"], ["len", "actual"], ["actual", "actual", "lower"], ["re", "match", "regex", "actual"], ["actual", "rsplit", "expected_starts_with"], ["re", "match", "expected_starts_with", "actual"]], "regex": [["re", "match", "regex", "actual"]]}, "name": "test_pod_name_is_valid", "params": {"expected_starts_with": "", "pod_id": "", "self": ""}, "params_descr": {"expected_starts_with": "", "pod_id": "", "self": ""}, "params_occur": {"expected_starts_with": [["actual", "rsplit", "expected_starts_with"], ["re", "match", "expected_starts_with", "actual"]], "pod_id": [["actual", "PodGenerator", "make_unique_pod_id", "pod_id"]], "self": []}, "params_p": {"args": [], "expected_starts_with": [["int", 0.8996429233395613], ["List[int]", 0.10035707666043882]], "kwargs": [], "pod_id": [["str", 0.8055389102564412], ["int", 0.1944610897435587]], "self": []}, "q_name": "TestPodGenerator.test_pod_name_is_valid", "ret_exprs": [], "ret_type": "", "variables": {"actual": "", "regex": ""}, "variables_p": {"actual": [["int", 0.41889445894253374], ["Pattern[str]", 0.17679684220100925], ["Type[manager.projects.models.snapshots.Snapshot]", 0.11699678331335253], ["str", 0.10696705611026686], ["list", 0.08866719742523822]], "regex": [["str", 0.9999999997482627], ["Pattern[str]", 2.5173745486605597e-10]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[771, 4], [777, 37]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_validate_pod_generator", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_validate_pod_generator", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[803, 4], [823, 98]], "fn_var_ln": {"exp_selector": [[820, 8], [820, 20]], "expected": [[811, 8], [811, 16]], "kwargs": [[806, 8], [806, 14]], "labels": [[818, 8], [818, 14]]}, "fn_var_occur": {"exp_selector": [["exp_selector", "join", "k", "v", "k", "v", "sorted", "labels", "items"], ["PodGenerator", "build_selector_for_k8s_executor_pod", "kwargs", "extra", "exp_selector"]], "expected": [["expected", "dict", "dag_id", "task_id", "try_number", "airflow_version", "airflow_version", "kubernetes_executor"], ["labels", "expected", "extra_expected"]], "kwargs": [["kwargs", "dict", "dag_id", "task_id", "try_number"], ["labels", "PodGenerator", "build_labels_for_k8s_executor_pod", "kwargs", "extra"], ["PodGenerator", "build_selector_for_k8s_executor_pod", "kwargs", "extra", "exp_selector"]], "labels": [["labels", "PodGenerator", "build_labels_for_k8s_executor_pod", "kwargs", "extra"], ["labels", "expected", "extra_expected"], ["exp_selector", "join", "k", "v", "k", "v", "sorted", "labels", "items"]]}, "name": "test_build_labels_for_k8s_executor_pod", "params": {"extra": "", "extra_expected": "", "self": ""}, "params_descr": {"extra": "", "extra_expected": "", "self": ""}, "params_occur": {"extra": [["labels", "PodGenerator", "build_labels_for_k8s_executor_pod", "kwargs", "extra"], ["PodGenerator", "build_selector_for_k8s_executor_pod", "kwargs", "extra", "exp_selector"]], "extra_expected": [["labels", "expected", "extra_expected"]], "self": []}, "params_p": {"args": [], "extra": [["float", 0.09962150726332694], ["bool", 0.0965182836092875], ["str", 0.09518787447671316]], "extra_expected": [["str", 0.3087191966886953], ["bytes", 0.2164283852519243], ["List[Dict[str, Any]]", 0.12347215396938759]], "kwargs": [], "self": []}, "q_name": "TestPodGenerator.test_build_labels_for_k8s_executor_pod", "ret_exprs": [], "ret_type": "", "variables": {"exp_selector": "", "expected": "", "kwargs": "", "labels": ""}, "variables_p": {"exp_selector": [["Type[str]", 0.22726198235409667], ["list", 0.18505831754008972], ["Type[Mapping[str, Any]]", 0.11775539131845517], ["Set[str]", 0.09315203775145763], ["dict", 0.0871846456734241]], "expected": [["str", 0.4194260815917433], ["List[str]", 0.21190477704593327], ["Optional[str]", 0.09242545769257836], ["Dict[Optional[str], str]", 0.08836144763030772]], "kwargs": [["int", 0.13893028182947773], ["Dict[str, Union[str, Any]]", 0.1051280776780001], ["Dict[Optional[str], Any]", 0.10331722960785496], ["Dict[str, str]", 0.0997804250803466], ["Dict[str, Union[None, Any, Any, str]]", 0.09000070687703872], ["Dict[str, Union[Any, Any, Any, Any, Any, Any, Any, Any, Any]]", 0.08863844263766872], ["KeysView[str]", 0.08720032160694637], ["werkzeug.exceptions.BadRequest", 0.08690611151096116]], "labels": [["Tuple[str]", 0.09275710178203249]]}}], "name": "TestPodGenerator", "q_name": "TestPodGenerator", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "os", "re", "sys", "unittest", "mock", "unittest", "mock", "MagicMock", "pendulum", "pytest", "dateutil", "parser", "kubernetes", "client", "ApiClient", "models", "k8s", "pytest", "param", "airflow", "__version__", "airflow", "exceptions", "AirflowConfigException", "PodReconciliationError", "airflow", "kubernetes", "pod_generator", "PodDefaults", "PodGenerator", "datetime_to_label_safe_datestring", "extend_object_field", "merge_objects", "airflow", "kubernetes", "secret", "Secret", "airflow", "version", "version", "airflow_version"], "mod_var_ln": {"now": [[42, 0], [42, 3]]}, "mod_var_occur": {"now": []}, "no_types_annot": {"D": 3, "I": 0, "U": 168}, "session_id": "SamVOe-qrI2BBVXkVCQysfzQO-9Esp1AGTIKzAdloxA", "set": null, "tc": [false, null], "type_annot_cove": 0.02, "typed_seq": "", "untyped_seq": "", "variables": {"now": ""}, "variables_p": {"now": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}}