{"error": null, "response": {"classes": [{"cls_lc": [[55, 0], [61, 27]], "cls_var_ln": {"FAILED": [[60, 4], [60, 10]], "PENDING": [[58, 4], [58, 11]], "RUNNING": [[59, 4], [59, 11]], "SUCCEEDED": [[61, 4], [61, 13]]}, "cls_var_occur": {"FAILED": [], "PENDING": [], "RUNNING": [], "SUCCEEDED": []}, "funcs": [], "name": "PodStatus", "q_name": "PodStatus", "variables": {"FAILED": "", "PENDING": "", "RUNNING": "", "SUCCEEDED": ""}, "variables_p": {"FAILED": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "PENDING": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "RUNNING": [["int", 0.7], ["bool", 0.1], ["str", 0.1]], "SUCCEEDED": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}, {"cls_lc": [[64, 0], [320, 31]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": "Deprecated class for launching pods.", "long_descr": "Please use airflow.providers.cncf.kubernetes.utils.pod_manager.PodManager\ninstead to create the launcher.", "ret": null}, "fn_lc": [[71, 4], [92, 40]], "fn_var_ln": {"_client": [[90, 8], [90, 20]], "_watch": [[91, 8], [91, 19]], "extract_xcom": [[92, 8], [92, 25]]}, "fn_var_occur": {"_client": [["self", "_client", "kube_client", "get_kube_client", "in_cluster", "in_cluster", "cluster_context", "cluster_context"]], "_watch": [["self", "_watch", "watch", "Watch"]], "extract_xcom": [["self", "extract_xcom", "extract_xcom"]]}, "name": "__init__", "params": {"cluster_context": "str | None", "extract_xcom": "builtins.bool", "in_cluster": "builtins.bool", "kube_client": "kubernetes.client.CoreV1Api", "self": ""}, "params_descr": {"cluster_context": "context of the cluster", "extract_xcom": "whether we should extract xcom", "in_cluster": "whether we are in cluster", "kube_client": "kubernetes client", "self": ""}, "params_occur": {"cluster_context": [["self", "_client", "kube_client", "get_kube_client", "in_cluster", "in_cluster", "cluster_context", "cluster_context"]], "extract_xcom": [["self", "extract_xcom", "extract_xcom"]], "in_cluster": [["self", "_client", "kube_client", "get_kube_client", "in_cluster", "in_cluster", "cluster_context", "cluster_context"]], "kube_client": [["self", "_client", "kube_client", "get_kube_client", "in_cluster", "in_cluster", "cluster_context", "cluster_context"]], "self": [["self", "_client", "kube_client", "get_kube_client", "in_cluster", "in_cluster", "cluster_context", "cluster_context"], ["self", "_watch", "watch", "Watch"], ["self", "extract_xcom", "extract_xcom"]]}, "params_p": {"args": [], "cluster_context": [["salon.models.Stylist", 0.18002150912525483], ["raiden.utils.PaymentNetworkID", 0.08732368147271977], ["asgard.models.job.ScheduledJob", 0.08566405034223051]], "extract_xcom": [["utils.clienClient", 0.11430371521499084], ["core.models.MyUser", 0.07867710476623761]], "in_cluster": [["salon.models.Stylist", 0.18002150912525483], ["raiden.utils.PaymentNetworkID", 0.08732368147271977], ["asgard.models.job.ScheduledJob", 0.08566405034223051]], "kube_client": [["salon.models.Stylist", 0.18002150912525483], ["raiden.utils.PaymentNetworkID", 0.08732368147271977], ["asgard.models.job.ScheduledJob", 0.08566405034223051]], "kwargs": [], "self": []}, "q_name": "PodLauncher.__init__", "ret_exprs": [], "ret_type": "", "variables": {"_client": "", "_watch": "", "extract_xcom": ""}, "variables_p": {"_client": [], "_watch": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]], "extract_xcom": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]]}}, {"docstring": {"func": "Runs pod asynchronously.", "long_descr": null, "ret": null}, "fn_lc": [[94, 4], [110, 19]], "fn_var_ln": {"json_pod": [[99, 8], [99, 16]], "resp": [[103, 12], [103, 16]], "sanitized_pod": [[98, 8], [98, 21]]}, "fn_var_occur": {"json_pod": [["json_pod", "json", "dumps", "sanitized_pod", "indent"], ["self", "log", "debug", "json_pod"], ["self", "log", "exception", "json_pod"]], "resp": [["resp", "self", "_client", "create_namespaced_pod", "body", "sanitized_pod", "namespace", "pod", "metadata", "namespace", "kwargs"], ["self", "log", "debug", "resp"]], "sanitized_pod": [["sanitized_pod", "self", "_client", "api_client", "sanitize_for_serialization", "pod"], ["json_pod", "json", "dumps", "sanitized_pod", "indent"], ["resp", "self", "_client", "create_namespaced_pod", "body", "sanitized_pod", "namespace", "pod", "metadata", "namespace", "kwargs"]]}, "name": "run_pod_async", "params": {"kwargs": "", "pod": "kubernetes.client.models.v1_pod.V1Pod", "self": ""}, "params_descr": {"kwargs": "", "pod": "", "self": ""}, "params_occur": {"kwargs": [["resp", "self", "_client", "create_namespaced_pod", "body", "sanitized_pod", "namespace", "pod", "metadata", "namespace", "kwargs"]], "pod": [["pod_mutation_hook", "pod"], ["sanitized_pod", "self", "_client", "api_client", "sanitize_for_serialization", "pod"], ["resp", "self", "_client", "create_namespaced_pod", "body", "sanitized_pod", "namespace", "pod", "metadata", "namespace", "kwargs"]], "self": [["sanitized_pod", "self", "_client", "api_client", "sanitize_for_serialization", "pod"], ["self", "log", "debug", "json_pod"], ["resp", "self", "_client", "create_namespaced_pod", "body", "sanitized_pod", "namespace", "pod", "metadata", "namespace", "kwargs"], ["self", "log", "debug", "resp"], ["self", "log", "exception", "json_pod"]]}, "params_p": {"args": [], "kwargs": [], "pod": [["Optional[str]", 0.19582931350570681], ["str", 0.09103416903655975]], "self": []}, "q_name": "PodLauncher.run_pod_async", "ret_exprs": ["return resp"], "ret_type": "", "ret_type_p": [["str", 0.4042094916519517], ["zam_repondeur.models.Lecture", 0.10763892171842979], ["Union[str, Dict]", 0.10392411674406264], ["OrderedDict", 0.10055088016766259], ["dict", 0.08867013927623854]], "variables": {"json_pod": "", "resp": "", "sanitized_pod": ""}, "variables_p": {"json_pod": [["str", 0.26475903529131994], ["Dict[str, Union[Any, Any]]", 0.12790943330355234], ["int", 0.11570542442990155], ["cmk.utils.type_defs.UserId", 0.11098221886818355], ["bool", 0.10332341904698576], ["Dict[str, str]", 0.09656021043825178], ["Dict[str, Union[bool, str]]", 0.0862214880844393]], "resp": [["str", 0.5298924171381207], ["Optional[str]", 0.08692736298643432]], "sanitized_pod": [["Dict[str, str]", 0.10588994927652357], ["str", 0.10221712891799949], ["kubernetes.clienV1Pod", 0.09663429056702756]]}}, {"docstring": {"func": "Deletes pod.", "long_descr": null, "ret": null}, "fn_lc": [[112, 4], [121, 21]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "delete_pod", "params": {"pod": "kubernetes.client.models.v1_pod.V1Pod", "self": ""}, "params_descr": {"pod": "", "self": ""}, "params_occur": {"pod": [["self", "_client", "delete_namespaced_pod", "pod", "metadata", "name", "pod", "metadata", "namespace", "body", "client", "V1DeleteOptions"]], "self": [["self", "_client", "delete_namespaced_pod", "pod", "metadata", "name", "pod", "metadata", "namespace", "body", "client", "V1DeleteOptions"]]}, "params_p": {"args": [], "kwargs": [], "pod": [["cmk.utils.type_defs.HostName", 0.09996077126048168], ["cmk.utils.type_defs.ServiceName", 0.09996077126048168]], "self": []}, "q_name": "PodLauncher.delete_pod", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Launches the pod synchronously and waits for completion.", "long_descr": null, "ret": ""}, "fn_lc": [[123, 4], [139, 29]], "fn_var_ln": {"curr_time": [[132, 8], [132, 17]], "delta": [[136, 16], [136, 21]], "resp": [[131, 8], [131, 12]]}, "fn_var_occur": {"curr_time": [["curr_time", "dt", "now"], ["delta", "dt", "now", "curr_time"]], "delta": [["delta", "dt", "now", "curr_time"], ["delta", "total_seconds", "startup_timeout"]], "resp": [["resp", "self", "run_pod_async", "pod"], ["resp", "status", "start_time", "None"]]}, "name": "start_pod", "params": {"pod": "kubernetes.client.models.v1_pod.V1Pod", "self": "", "startup_timeout": "builtins.int"}, "params_descr": {"pod": "", "self": "", "startup_timeout": "Timeout for startup of the pod (if pod is pending for too long, fails task)"}, "params_occur": {"pod": [["resp", "self", "run_pod_async", "pod"], ["self", "pod_not_started", "pod"], ["self", "log", "warning", "pod", "metadata", "name"]], "self": [["resp", "self", "run_pod_async", "pod"], ["self", "pod_not_started", "pod"], ["self", "log", "warning", "pod", "metadata", "name"]], "startup_timeout": [["delta", "total_seconds", "startup_timeout"]]}, "params_p": {"args": [], "kwargs": [], "pod": [["Optional[bool]", 0.17691705520844167], ["int", 0.09441646357980492], ["bool", 0.08853566311145993]], "self": [], "startup_timeout": [["int", 0.29982631152243433], ["type", 0.10159226313086445], ["str", 0.09164035309479318]]}, "q_name": "PodLauncher.start_pod", "ret_exprs": [], "ret_type": "", "variables": {"curr_time": "", "delta": "", "resp": ""}, "variables_p": {"curr_time": [["float", 0.48317578756499885], ["State", 0.10444112264621984], ["str", 0.1018592330709737], ["List[int]", 0.09833195904898964], ["int", 0.09013552243409118]], "delta": [["int", 0.3523965799275581], ["bool", 0.17858256633480618], ["datetime.timedelta", 0.10504568090985877]], "resp": [["int", 0.2819398710864206], ["list", 0.27506883168760243], ["DefaultDict[Any, List[Any]]", 0.12665834269647583], ["List[str]", 0.12441281158742959], ["Type[bootcamp.qa.models.Question]", 0.09839085970164917], ["Generator[Any, None, None]", 0.09352928324042238]]}}, {"docstring": {"func": "Monitors a pod and returns the final state.", "long_descr": null, "ret": null}, "fn_lc": [[141, 4], [179, 60]], "fn_var_ln": {"delta": [[165, 20], [165, 25]], "last_log_time": [[156, 24], [156, 37]], "logs": [[152, 16], [152, 20]], "message": [[154, 31], [154, 38]], "read_logs_since_sec": [[167, 20], [167, 39]], "result": [[175, 12], [175, 18]], "timestamp": [[154, 20], [154, 29]]}, "fn_var_occur": {"delta": [["delta", "pendulum", "now", "last_log_time"], ["read_logs_since_sec", "math", "ceil", "delta", "total_seconds"]], "last_log_time": [["last_log_time", "None"], ["last_log_time", "pendulum", "parse", "timestamp"], ["delta", "pendulum", "now", "last_log_time"]], "logs": [["logs", "self", "read_pod_logs", "pod", "timestamps", "True", "since_seconds", "read_logs_since_sec"]], "message": [["timestamp", "message", "self", "parse_log_line", "line", "decode"], ["self", "log", "info", "message"]], "read_logs_since_sec": [["read_logs_since_sec", "None"], ["logs", "self", "read_pod_logs", "pod", "timestamps", "True", "since_seconds", "read_logs_since_sec"], ["read_logs_since_sec", "math", "ceil", "delta", "total_seconds"]], "result": [["result", "None"], ["result", "self", "_extract_xcom", "pod"], ["self", "log", "info", "result"], ["result", "json", "loads", "result"], ["self", "_task_status", "self", "read_pod", "pod", "result"]], "timestamp": [["timestamp", "message", "self", "parse_log_line", "line", "decode"], ["last_log_time", "pendulum", "parse", "timestamp"]]}, "name": "monitor_pod", "params": {"get_logs": "builtins.bool", "pod": "kubernetes.client.models.v1_pod.V1Pod", "self": ""}, "params_descr": {"get_logs": "whether to read the logs locally", "pod": "pod spec that will be monitored", "self": ""}, "params_occur": {"get_logs": [], "pod": [["logs", "self", "read_pod_logs", "pod", "timestamps", "True", "since_seconds", "read_logs_since_sec"], ["self", "base_container_is_running", "pod"], ["self", "log", "warning", "pod", "metadata", "name"], ["self", "base_container_is_running", "pod"], ["self", "log", "info", "pod", "metadata", "name", "State", "RUNNING"], ["result", "self", "_extract_xcom", "pod"], ["self", "pod_is_running", "pod"], ["self", "log", "info", "pod", "metadata", "name", "State", "RUNNING"], ["self", "_task_status", "self", "read_pod", "pod", "result"]], "self": [["logs", "self", "read_pod_logs", "pod", "timestamps", "True", "since_seconds", "read_logs_since_sec"], ["timestamp", "message", "self", "parse_log_line", "line", "decode"], ["self", "log", "info", "message"], ["self", "base_container_is_running", "pod"], ["self", "log", "warning", "pod", "metadata", "name"], ["self", "extract_xcom"], ["self", "base_container_is_running", "pod"], ["self", "log", "info", "pod", "metadata", "name", "State", "RUNNING"], ["result", "self", "_extract_xcom", "pod"], ["self", "log", "info", "result"], ["self", "pod_is_running", "pod"], ["self", "log", "info", "pod", "metadata", "name", "State", "RUNNING"], ["self", "_task_status", "self", "read_pod", "pod", "result"]]}, "params_p": {"args": [], "get_logs": [["Optional[str]", 0.20465771735786162], ["Callable", 0.20465771735786162], ["Optional[bool]", 0.10232885867893081], ["Optional[Union[str, int]]", 0.10232885867893081], ["dict", 0.10232885867893081], ["bool", 0.08779787444116771]], "kwargs": [], "pod": [["str", 0.3839914186270059], ["dict", 0.1995863310318612], ["int", 0.13103579228054746], ["Exception", 0.10362981497495591]], "self": []}, "q_name": "PodLauncher.monitor_pod", "ret_exprs": ["return self._task_status(self.read_pod(pod)), result"], "ret_type": "builtins.tuple[airflow.utils.state.State, str | None]", "ret_type_p": [["str", 0.3024373099832616], ["bool", 0.21203733894934879], ["Optional[List[str]]", 0.10071610436342734], ["List[str]", 0.09769181791839375]], "variables": {"delta": "", "last_log_time": "", "logs": "", "message": "", "read_logs_since_sec": "", "result": "", "timestamp": ""}, "variables_p": {"delta": [["int", 0.551095968228771], ["Type[Dict[str, Any]]", 0.13587503606538645], ["list", 0.09304893641908449]], "last_log_time": [["datetime.datetime", 0.17145178302325564], ["Tuple[str, str, str, str, str, str, str, str]", 0.09728727761487138], ["datetime.date.time.timedelta", 0.09280657691585814], ["correios.models.posting.TrackingCode", 0.08510534956480399], ["str", 0.08408369637425303]], "logs": [["List[Dict[Any, Any]]", 0.25439645401969735]], "message": [["TextIO", 0.28712771996078357], ["Callable(warnings.showwarning)[[Named(message, Union[Warning, str]), Named(category, Type[Warning]), Named(filename, str), Named(lineno, int), Named(file, Optional[TextIO], default), Named(line, Optional[str], default)], None]", 0.12559272475729646], ["int", 0.09876142281418578], ["str", 0.09570923998692785], ["deque", 0.09570923998692785], ["Type[Callable[[None], Any]]", 0.09570923998692785]], "read_logs_since_sec": [], "result": [["dict", 0.18295562848557978], ["requests.models.Response", 0.11393584546636967], ["str", 0.08200106295812998]], "timestamp": [["str", 0.21843767465964825], ["list", 0.1909540861678401], ["dict", 0.11742145557976764], ["List[bool]", 0.08683333507678866]]}}, {"docstring": {"func": "Parse K8s log line and returns the final state.", "long_descr": null, "ret": "timestamp and log message"}, "fn_lc": [[181, 4], [198, 33]], "fn_var_ln": {"message": [[197, 8], [197, 15]], "split_at": [[188, 8], [188, 16]], "timestamp": [[196, 8], [196, 17]]}, "fn_var_occur": {"message": [["message", "line", "split_at", "rstrip"], ["timestamp", "message"]], "split_at": [["split_at", "line", "find"], ["timestamp", "line", "split_at"], ["message", "line", "split_at", "rstrip"]], "timestamp": [["timestamp", "line", "split_at"], ["timestamp", "message"]]}, "name": "parse_log_line", "params": {"line": "builtins.str", "self": ""}, "params_descr": {"line": "k8s log line", "self": ""}, "params_occur": {"line": [["split_at", "line", "find"], ["self", "log", "error", "line"], ["None", "line"], ["timestamp", "line", "split_at"], ["message", "line", "split_at", "rstrip"]], "self": [["self", "log", "error", "line"]]}, "params_p": {"args": [], "kwargs": [], "line": [["str", 0.7864970492204304], ["List[str]", 0.10369541038224293]], "self": []}, "q_name": "PodLauncher.parse_log_line", "ret_exprs": ["return None, line", "return timestamp, message"], "ret_type": "builtins.tuple[str | None, builtins.str]", "ret_type_p": [["Optional[float]", 0.21742635243987224], ["str", 0.1987429633599099], ["bool", 0.1913481892015698], ["Optional[str]", 0.09142681978217722], ["List[str]", 0.08690954156796224]], "variables": {"message": "", "split_at": "", "timestamp": ""}, "variables_p": {"message": [["Pattern[str]", 0.4131575238111636], ["List[str]", 0.2352246655994818], ["str", 0.16655294510009488], ["Tuple[Literal, Literal, Literal]", 0.06707657590926212], ["frozenset[str]", 0.05981860327811383]], "split_at": [["str", 0.5064752170830548], ["Optional[Match[str]]", 0.2778176417224477], ["bytes", 0.1177771154518011], ["datetime.date", 0.09793002574269652]], "timestamp": [["Pattern[str]", 0.4131575238111636], ["List[str]", 0.2352246655994818], ["str", 0.16655294510009488], ["Tuple[Literal, Literal, Literal]", 0.06707657590926212], ["frozenset[str]", 0.05981860327811383]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[200, 4], [203, 21]], "fn_var_ln": {"status": [[202, 8], [202, 14]]}, "fn_var_occur": {"status": [["self", "log", "info", "event", "metadata", "name", "event", "status", "phase"], ["status", "self", "process_status", "event", "metadata", "name", "event", "status", "phase"]]}, "name": "_task_status", "params": {"event": "", "self": ""}, "params_descr": {"event": "", "self": ""}, "params_occur": {"event": [["self", "log", "info", "event", "metadata", "name", "event", "status", "phase"], ["status", "self", "process_status", "event", "metadata", "name", "event", "status", "phase"]], "self": [["self", "log", "info", "event", "metadata", "name", "event", "status", "phase"], ["status", "self", "process_status", "event", "metadata", "name", "event", "status", "phase"]]}, "params_p": {"args": [], "event": [["Dict[str, Any]", 0.33884096368579797], ["Optional[Callable]", 0.1285175301601461], ["str", 0.06612712751692708]], "kwargs": [], "self": []}, "q_name": "PodLauncher._task_status", "ret_exprs": ["return status"], "ret_type": "", "ret_type_p": [["List[Dict[str, Any]]", 0.26040462378553464], ["str", 0.16528989405161074], ["daylighdb.models.Profile", 0.07867511901986704]], "variables": {"status": ""}, "variables_p": {"status": [["str", 0.9092639813609315], ["List[str]", 0.09073601863906848]]}}, {"docstring": {"func": "Tests if pod has not started.", "long_descr": null, "ret": null}, "fn_lc": [[205, 4], [208, 36]], "fn_var_ln": {"state": [[207, 8], [207, 13]]}, "fn_var_occur": {"state": [["state", "self", "_task_status", "self", "read_pod", "pod"], ["state", "State", "QUEUED"]]}, "name": "pod_not_started", "params": {"pod": "kubernetes.client.models.v1_pod.V1Pod", "self": ""}, "params_descr": {"pod": "", "self": ""}, "params_occur": {"pod": [["state", "self", "_task_status", "self", "read_pod", "pod"]], "self": [["state", "self", "_task_status", "self", "read_pod", "pod"]]}, "params_p": {"args": [], "kwargs": [], "pod": [["int", 0.5914157327047116], ["float", 0.18967767598850854], ["Optional[float]", 0.10090948642059619]], "self": []}, "q_name": "PodLauncher.pod_not_started", "ret_exprs": ["return state == State.QUEUED"], "ret_type": "", "ret_type_p": [["Callable", 0.19667747017427223], ["int", 0.1917093911808479], ["salon.models.ServiceCategory", 0.11878454673718199], ["bool", 0.10516296082240366], ["str", 0.10404900831019852]], "variables": {"state": ""}, "variables_p": {"state": [["str", 0.1859914109524344], ["bool", 0.1248626096594136], ["int", 0.11244442039583925], ["Iterator[str]", 0.10005806698311963], ["List[Union[Any, Any, Any]]", 0.09024832647165006], ["Optional[str]", 0.09014270332959101], ["Dict[str, str]", 0.08879646022518692]]}}, {"docstring": {"func": "Tests if pod is running.", "long_descr": null, "ret": null}, "fn_lc": [[210, 4], [213, 57]], "fn_var_ln": {"state": [[212, 8], [212, 13]]}, "fn_var_occur": {"state": [["state", "self", "_task_status", "self", "read_pod", "pod"], ["state", "State", "SUCCESS", "State", "FAILED"]]}, "name": "pod_is_running", "params": {"pod": "kubernetes.client.models.v1_pod.V1Pod", "self": ""}, "params_descr": {"pod": "", "self": ""}, "params_occur": {"pod": [["state", "self", "_task_status", "self", "read_pod", "pod"]], "self": [["state", "self", "_task_status", "self", "read_pod", "pod"]]}, "params_p": {"args": [], "kwargs": [], "pod": [["int", 0.5962053425597392], ["List[int]", 0.11893795657999158]], "self": []}, "q_name": "PodLauncher.pod_is_running", "ret_exprs": ["return state not in (State.SUCCESS, State.FAILED)"], "ret_type": "", "ret_type_p": [["bool", 0.9999999999999999]], "variables": {"state": ""}, "variables_p": {"state": [["str", 0.1859914109524344], ["bool", 0.1248626096594136], ["int", 0.11244442039583925], ["Iterator[str]", 0.10005806698311963], ["List[Union[Any, Any, Any]]", 0.09024832647165006], ["Optional[str]", 0.09014270332959101], ["Dict[str, str]", 0.08879646022518692]]}}, {"docstring": {"func": "Tests if base container is running.", "long_descr": null, "ret": null}, "fn_lc": [[215, 4], [221, 47]], "fn_var_ln": {"event": [[217, 8], [217, 13]], "status": [[218, 8], [218, 14]]}, "fn_var_occur": {"event": [["event", "self", "read_pod", "pod"], ["status", "next", "s", "s", "event", "status", "container_statuses", "s", "name", "None"]], "status": [["status", "next", "s", "s", "event", "status", "container_statuses", "s", "name", "None"], ["status", "state", "running", "None"]]}, "name": "base_container_is_running", "params": {"pod": "kubernetes.client.models.v1_pod.V1Pod", "self": ""}, "params_descr": {"pod": "", "self": ""}, "params_occur": {"pod": [["event", "self", "read_pod", "pod"]], "self": [["event", "self", "read_pod", "pod"]]}, "params_p": {"args": [], "kwargs": [], "pod": [["str", 0.5981182047999952]], "self": []}, "q_name": "PodLauncher.base_container_is_running", "ret_exprs": ["return False", "return status.state.running is not None"], "ret_type": "", "ret_type_p": [["bool", 0.6075159464962232], ["int", 0.20229918774346412], ["Dict[str, bool]", 0.09555675241793612], ["Callable[[], bool]", 0.0946281133423766]], "variables": {"event": "", "status": ""}, "variables_p": {"event": [["list", 0.1276091916201869], ["List[dict]", 0.09377790130975326], ["Dict[str, Union[Any, str]]", 0.07767101878561317], ["dict", 0.07757001050375718], ["Dict[str, Any]", 0.0771310464521608]], "status": [["int", 0.3998844102624517], ["str", 0.2170250258252634], ["Set[int]", 0.1961603413564327], ["list", 0.0959514395487619]]}}, {"docstring": {"func": "Reads log from the pod.", "long_descr": null, "ret": null}, "fn_lc": [[224, 4], [250, 89]], "fn_var_ln": {"additional_kwargs": [[232, 8], [232, 25]]}, "fn_var_occur": {"additional_kwargs": [["additional_kwargs", "since_seconds"], ["additional_kwargs", "tail_lines"], ["self", "_client", "read_namespaced_pod_log", "name", "pod", "metadata", "name", "namespace", "pod", "metadata", "namespace", "container", "follow", "True", "timestamps", "timestamps", "_preload_content", "False", "additional_kwargs"]]}, "name": "read_pod_logs", "params": {"pod": "kubernetes.client.models.v1_pod.V1Pod", "self": "", "since_seconds": "int | None", "tail_lines": "int | None", "timestamps": "builtins.bool"}, "params_descr": {"pod": "", "self": "", "since_seconds": "", "tail_lines": "", "timestamps": ""}, "params_occur": {"pod": [["self", "_client", "read_namespaced_pod_log", "name", "pod", "metadata", "name", "namespace", "pod", "metadata", "namespace", "container", "follow", "True", "timestamps", "timestamps", "_preload_content", "False", "additional_kwargs"]], "self": [["self", "_client", "read_namespaced_pod_log", "name", "pod", "metadata", "name", "namespace", "pod", "metadata", "namespace", "container", "follow", "True", "timestamps", "timestamps", "_preload_content", "False", "additional_kwargs"]], "since_seconds": [["additional_kwargs", "since_seconds"]], "tail_lines": [["additional_kwargs", "tail_lines"]], "timestamps": [["self", "_client", "read_namespaced_pod_log", "name", "pod", "metadata", "name", "namespace", "pod", "metadata", "namespace", "container", "follow", "True", "timestamps", "timestamps", "_preload_content", "False", "additional_kwargs"]]}, "params_p": {"args": [], "kwargs": [], "pod": [["str", 0.6980008314407731]], "self": [], "since_seconds": [["Tuple[str, str]", 0.16041110456781862], ["List[str]", 0.152501320727147], ["Sequence[str]", 0.1387392740864805], ["str", 0.090950091934644]], "tail_lines": [["Tuple[str, str]", 0.16041110456781862], ["List[str]", 0.152501320727147], ["Sequence[str]", 0.1387392740864805], ["str", 0.090950091934644]], "timestamps": [["str", 0.6980008314407731]]}, "q_name": "PodLauncher.read_pod_logs", "ret_exprs": ["return self._client.read_namespaced_pod_log( name=pod.metadata.name, namespace=pod.metadata.namespace, container=\"base\", follow=True, timestamps=timestamps, _preload_content=False, **additional_kwargs,)"], "ret_type": "", "ret_type_p": [["raiden.utils.Address", 0.36303266496847714], ["str", 0.28316660028845647]], "variables": {"additional_kwargs": ""}, "variables_p": {"additional_kwargs": []}}, {"docstring": {"func": "Reads events from the pod.", "long_descr": null, "ret": null}, "fn_lc": [[253, 4], [260, 89]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "read_pod_events", "params": {"pod": "", "self": ""}, "params_descr": {"pod": "", "self": ""}, "params_occur": {"pod": [["self", "_client", "list_namespaced_event", "namespace", "pod", "metadata", "namespace", "field_selector", "pod", "metadata", "name"]], "self": [["self", "_client", "list_namespaced_event", "namespace", "pod", "metadata", "namespace", "field_selector", "pod", "metadata", "name"]]}, "params_p": {"args": [], "kwargs": [], "pod": [["Awaitable", 0.22338539174953279], ["purplship.core.models.RateRequest", 0.1756938457511574], ["purplship.core.models.ShipmentRequest", 0.1756938457511574], ["purplship.core.models.TrackingRequest", 0.0878469228755787]], "self": []}, "q_name": "PodLauncher.read_pod_events", "ret_exprs": ["return self._client.list_namespaced_event( namespace=pod.metadata.namespace, field_selector=f\"involvedObject.name={pod.metadata.name}\")"], "ret_type": "", "ret_type_p": [["int", 0.12504395827681344], ["type", 0.09233280118499969]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Read pod information.", "long_descr": null, "ret": null}, "fn_lc": [[263, 4], [268, 89]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "read_pod", "params": {"pod": "kubernetes.client.models.v1_pod.V1Pod", "self": ""}, "params_descr": {"pod": "", "self": ""}, "params_occur": {"pod": [["self", "_client", "read_namespaced_pod", "pod", "metadata", "name", "pod", "metadata", "namespace"]], "self": [["self", "_client", "read_namespaced_pod", "pod", "metadata", "name", "pod", "metadata", "namespace"]]}, "params_p": {"args": [], "kwargs": [], "pod": [["str", 0.17929953922183367], ["int", 0.08708646063830698]], "self": []}, "q_name": "PodLauncher.read_pod", "ret_exprs": ["return self._client.read_namespaced_pod(pod.metadata.name, pod.metadata.namespace)"], "ret_type": "", "ret_type_p": [["str", 0.3820171168627246], ["purplship.core.utils.xml.Element", 0.1839264129689671], ["Iterable[str]", 0.0965690852688166]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[270, 4], [290, 21]], "fn_var_ln": {"resp": [[271, 8], [271, 12]], "result": [[284, 12], [284, 18]]}, "fn_var_occur": {"resp": [["resp", "kubernetes_stream", "self", "_client", "connect_get_namespaced_pod_exec", "pod", "metadata", "name", "pod", "metadata", "namespace", "container", "PodDefaults", "SIDECAR_CONTAINER_NAME", "command", "stdin", "True", "stdout", "True", "stderr", "True", "tty", "False", "_preload_content", "False"], ["result", "self", "_exec_pod_command", "resp", "PodDefaults", "XCOM_MOUNT_PATH"], ["self", "_exec_pod_command", "resp"], ["resp", "close"]], "result": [["result", "self", "_exec_pod_command", "resp", "PodDefaults", "XCOM_MOUNT_PATH"], ["result", "None"]]}, "name": "_extract_xcom", "params": {"pod": "kubernetes.client.models.v1_pod.V1Pod", "self": ""}, "params_descr": {"pod": "", "self": ""}, "params_occur": {"pod": [["resp", "kubernetes_stream", "self", "_client", "connect_get_namespaced_pod_exec", "pod", "metadata", "name", "pod", "metadata", "namespace", "container", "PodDefaults", "SIDECAR_CONTAINER_NAME", "command", "stdin", "True", "stdout", "True", "stderr", "True", "tty", "False", "_preload_content", "False"], ["AirflowException", "pod", "metadata", "name"]], "self": [["resp", "kubernetes_stream", "self", "_client", "connect_get_namespaced_pod_exec", "pod", "metadata", "name", "pod", "metadata", "namespace", "container", "PodDefaults", "SIDECAR_CONTAINER_NAME", "command", "stdin", "True", "stdout", "True", "stderr", "True", "tty", "False", "_preload_content", "False"], ["result", "self", "_exec_pod_command", "resp", "PodDefaults", "XCOM_MOUNT_PATH"], ["self", "_exec_pod_command", "resp"]]}, "params_p": {"args": [], "kwargs": [], "pod": [["Any", 0.15604341781633088], ["Optional[str]", 0.1419344683282402], ["cmk.utils.type_defs.HostName", 0.09026050936231625], ["bytes", 0.08963677744301085], ["cmk.utils.type_defs.EventRule", 0.08792582225142188], ["dict", 0.08330784868387504]], "self": []}, "q_name": "PodLauncher._extract_xcom", "ret_exprs": ["return result"], "ret_type": "", "ret_type_p": [["bool", 0.16408864410171026], ["Optional[Union[str, Any]]", 0.08753798278800795]], "variables": {"resp": "", "result": ""}, "variables_p": {"resp": [], "result": [["Tuple[Any, Any]", 0.25104531905660576], ["dict", 0.09278281087412123]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[292, 4], [303, 19]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_exec_pod_command", "params": {"command": "", "resp": "", "self": ""}, "params_descr": {"command": "", "resp": "", "self": ""}, "params_occur": {"command": [["self", "log", "info", "command"], ["resp", "write_stdin", "command"]], "resp": [["resp", "is_open"], ["resp", "write_stdin", "command"], ["resp", "is_open"], ["resp", "update", "timeout"], ["resp", "peek_stdout"], ["resp", "read_stdout"], ["resp", "peek_stderr"], ["self", "log", "info", "resp", "read_stderr"]], "self": [["self", "log", "info", "command"], ["self", "log", "info", "resp", "read_stderr"]]}, "params_p": {"args": [], "command": [["str", 0.6148511110382036], ["dict", 0.09607189777229645], ["werkzeug.exceptions.BadRequest", 0.09541839217277501]], "kwargs": [], "resp": [["dict", 0.16987214205052328], ["cmk.utils.structured_data.StructuredDataTree", 0.08917659229898953], ["Optional[TextIO]", 0.0878257722440873]], "self": []}, "q_name": "PodLauncher._exec_pod_command", "ret_exprs": ["return resp.read_stdout()", "return None"], "ret_type": "", "ret_type_p": [["str", 0.5851991668588523], ["dict", 0.19513995360113356], ["cmk.utils.type_defs.UserId", 0.12595382314064715]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Process status information for the job.", "long_descr": null, "ret": null}, "fn_lc": [[305, 4], [320, 31]], "fn_var_ln": {"status": [[307, 8], [307, 14]]}, "fn_var_occur": {"status": [["status", "status", "lower"], ["status", "PodStatus", "PENDING"], ["status", "PodStatus", "FAILED"], ["status", "PodStatus", "SUCCEEDED"], ["status", "PodStatus", "RUNNING"], ["self", "log", "error", "status", "job_id"]]}, "name": "process_status", "params": {"job_id": "", "self": "", "status": ""}, "params_descr": {"job_id": "", "self": "", "status": ""}, "params_occur": {"job_id": [["self", "log", "error", "job_id"], ["self", "log", "info", "job_id"], ["self", "log", "error", "status", "job_id"]], "self": [["self", "log", "error", "job_id"], ["self", "log", "info", "job_id"], ["self", "log", "error", "status", "job_id"]], "status": [["status", "status", "lower"], ["status", "PodStatus", "PENDING"], ["status", "PodStatus", "FAILED"], ["status", "PodStatus", "SUCCEEDED"], ["status", "PodStatus", "RUNNING"], ["self", "log", "error", "status", "job_id"]]}, "params_p": {"args": [], "job_id": [["str", 0.6055826403956563], ["int", 0.2982440999788499], ["bool", 0.0961732596254939]], "kwargs": [], "self": [], "status": [["int", 0.26452332559080854], ["str", 0.2573837640279878]]}, "q_name": "PodLauncher.process_status", "ret_exprs": ["return State.QUEUED", "return State.FAILED", "return State.SUCCESS", "return State.RUNNING", "return State.FAILED"], "ret_type": "", "ret_type_p": [["str", 0.211907975556514], ["int", 0.20094145018340376], ["Callable", 0.1780374356130423], ["bool", 0.1259271550652491], ["float", 0.10047072509170188], ["models.Name", 0.09731603856346642], ["Optional[List[int]]", 0.08539921992662251]], "variables": {"status": ""}, "variables_p": {"status": [["str", 0.32317076618973917], ["int", 0.08924590164995795]]}}], "name": "PodLauncher", "q_name": "PodLauncher", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "json", "math", "time", "warnings", "datetime", "datetime", "dt", "pendulum", "tenacity", "kubernetes", "client", "watch", "kubernetes", "client", "models", "v1_pod", "V1Pod", "kubernetes", "client", "rest", "ApiException", "kubernetes", "stream", "stream", "kubernetes_stream", "requests", "exceptions", "HTTPError", "airflow", "exceptions", "AirflowException", "RemovedInAirflow3Warning", "airflow", "kubernetes", "kube_client", "get_kube_client", "airflow", "kubernetes", "pod_generator", "PodDefaults", "airflow", "settings", "pod_mutation_hook", "airflow", "utils", "log", "logging_mixin", "LoggingMixin", "airflow", "utils", "state", "State"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 21, "I": 0, "U": 52}, "session_id": "4s0wgfY0rKJpkmmY37J7KZUraVDejzQsP49hsJGdSy0", "set": null, "tc": [false, null], "type_annot_cove": 0.29, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}