{"error": null, "response": {"classes": [{"cls_lc": [[32, 0], [156, 21]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[47, 4], [58, 30]], "fn_var_ln": {"is_service": [[58, 8], [58, 23]], "job_params": [[50, 8], [50, 23]], "lookups": [[52, 8], [52, 20]], "required_params": [[51, 8], [51, 28]]}, "fn_var_occur": {"is_service": [["self", "is_service", "None"]], "job_params": [["self", "job_params", "job_params"], ["self", "job_params", "update", "None"]], "lookups": [["self", "lookups", "None"]], "required_params": [["self", "required_params"]]}, "name": "__init__", "params": {"job_params": "builtins.dict", "kwargs": "", "self": ""}, "params_descr": {"job_params": "", "kwargs": "", "self": ""}, "params_occur": {"job_params": [["self", "job_params", "job_params"], ["self", "job_params", "update", "None"]], "kwargs": [["super", "__init__", "kwargs"]], "self": [["self", "job_params", "job_params"], ["self", "required_params"], ["self", "lookups", "None"], ["self", "job_params", "update", "None"], ["self", "is_service", "None"]]}, "params_p": {"args": [], "job_params": [["float", 0.19156580331096532], ["Callable", 0.09950074638118347], ["Dict[str, str]", 0.08752839173758427]], "kwargs": [], "self": []}, "q_name": "PlexusJobOperator.__init__", "ret_exprs": [], "ret_type": "None", "variables": {"is_service": "", "job_params": "", "lookups": "", "required_params": ""}, "variables_p": {"is_service": [["grouper.models.group.Group", 0.10851152392622973], ["bool", 0.09805321715313504], ["Optional[Any]", 0.09805321715313504], ["Sequence[Any]", 0.09756757506360524], ["Dict[str, float]", 0.09501474148824397], ["Type[T]", 0.09341996618613689], ["Optional[str]", 0.09242830791329998]], "job_params": [["bool", 0.09854043722117749], ["Sequence[str]", 0.09711933176048866], ["int", 0.08887470085676272]], "lookups": [["\"Frame\"", 0.19999999999676038], ["str", 3.971941177518544e-12], ["Dict[str, Any]", 3.6175949269712212e-12]], "required_params": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[60, 4], [103, 13]], "fn_var_ln": {"create_job": [[79, 8], [79, 18]], "end_state": [[69, 12], [69, 21]], "get_job": [[87, 16], [87, 23]], "headers": [[78, 8], [78, 15]], "hook": [[61, 8], [61, 12]], "jid": [[82, 12], [82, 15]], "jid_endpoint": [[86, 16], [86, 28]], "job": [[81, 12], [81, 15]], "jobs_endpoint": [[77, 8], [77, 21]], "new_state": [[93, 16], [93, 25]], "params": [[62, 8], [62, 14]], "state": [[98, 16], [98, 21]]}, "fn_var_occur": {"create_job": [["create_job", "requests", "post", "jobs_endpoint", "headers", "headers", "data", "params", "timeout"], ["create_job", "ok"], ["job", "create_job", "json"], ["AirflowException", "create_job", "status_code", "create_job", "reason", "create_job", "text"]], "end_state": [["state", "end_state"]], "get_job": [["get_job", "requests", "get", "jid_endpoint", "headers", "headers", "timeout"], ["get_job", "ok"], ["AirflowException", "get_job", "status_code", "get_job", "reason", "get_job", "text"], ["new_state", "get_job", "json"]], "headers": [["headers", "hook", "token"], ["create_job", "requests", "post", "jobs_endpoint", "headers", "headers", "data", "params", "timeout"], ["get_job", "requests", "get", "jid_endpoint", "headers", "headers", "timeout"]], "hook": [["hook", "PlexusHook"], ["params", "self", "construct_job_params", "hook"], ["jobs_endpoint", "hook", "host"], ["headers", "hook", "token"]], "jid": [["jid", "job"], ["jid_endpoint", "jobs_endpoint", "jid"]], "jid_endpoint": [["jid_endpoint", "jobs_endpoint", "jid"], ["get_job", "requests", "get", "jid_endpoint", "headers", "headers", "timeout"]], "job": [["job", "create_job", "json"], ["jid", "job"], ["state", "job"]], "jobs_endpoint": [["jobs_endpoint", "hook", "host"], ["create_job", "requests", "post", "jobs_endpoint", "headers", "headers", "data", "params", "timeout"], ["jid_endpoint", "jobs_endpoint", "jid"]], "new_state": [["new_state", "get_job", "json"], ["AirflowException", "new_state"], ["new_state", "state"], ["logger", "info", "new_state"], ["state", "new_state"]], "params": [["params", "self", "construct_job_params", "hook"], ["logger", "info", "params"], ["create_job", "requests", "post", "jobs_endpoint", "headers", "headers", "data", "params", "timeout"]], "state": [["state", "job"], ["state", "end_state"], ["new_state", "state"], ["state", "new_state"]]}, "name": "execute", "params": {"context": "typing.Any", "self": ""}, "params_descr": {"context": "", "self": ""}, "params_occur": {"context": [], "self": [["params", "self", "construct_job_params", "hook"], ["self", "is_service", "True"], ["self", "job_params", "get", "None"], ["self", "is_service", "False"]]}, "params_p": {"args": [], "context": [["int", 0.19999999999999998], ["str", 0.19999999999999998], ["Iterable['Context']", 0.09999999999999999], ["dict", 0.09999999999999999], ["bool", 0.09999999999999999]], "kwargs": [], "self": []}, "q_name": "PlexusJobOperator.execute", "ret_exprs": [], "ret_type": "typing.Any", "variables": {"create_job": "", "end_state": "", "get_job": "", "headers": "", "hook": "", "jid": "", "jid_endpoint": "", "job": "", "jobs_endpoint": "", "new_state": "", "params": "", "state": ""}, "variables_p": {"create_job": [["requests.sessions.Session", 0.5198850243045905], ["Optional[str]", 0.10459883073920118]], "end_state": [["str", 0.1235738075958568], ["int", 0.09998483301896707]], "get_job": [["requests.models.Response", 0.90006237838245], ["str", 0.09993762161755013]], "headers": [["List[str]", 0.11531162527877471], ["str", 0.11040312434486464], ["Dict[str, str]", 0.09308587598986011], ["dict", 0.08817874118794054], ["requests.sessions.Session", 0.0855731914779374]], "hook": [], "jid": [["list", 0.3512709389777444], ["int", 0.26389802078907426], ["List[str]", 0.11455016626117685]], "jid_endpoint": [["str", 0.3454327719576986], ["List[Dict[str, Any]]", 0.3083965283989583], ["dict", 0.10802709294407414], ["int", 0.08060840322280058], ["requests.compastr", 0.07964764260158595], ["frozenset[int]", 0.07788756087488241]], "job": [["Pattern[str]", 0.10687621675006816], ["float", 0.10098736287468443], ["bool", 0.09693710126169153], ["int", 0.09599324830894246], ["Optional[str]", 0.09543904297100035], ["Dict[str, str]", 0.09484831133332375], ["list", 0.09281749653711088], ["Dict[str, int]", 0.08941976411072874], ["str", 0.088771823001137]], "jobs_endpoint": [["classmethod", 0.6985722140560183]], "new_state": [["str", 0.3035197905019104], ["kippo.tasks.models.KippoTaskStatus", 0.08533531620085501]], "params": [["requests.adapters.HTTPAdapter", 0.19645794715992043], ["str", 0.1874545501519914], ["Dict[str, List[Any]]", 0.11590006691747308], ["List[Tuple[str, Any]]", 0.09274935104224047]], "state": [["dict", 0.20731226037783906], ["str", 0.1821419410537096], ["List[None]", 0.1028950214025312]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[105, 4], [130, 16]], "fn_var_ln": {"endpoint": [[113, 12], [113, 20]], "headers": [[114, 8], [114, 15]], "is_service": [[126, 20], [126, 35]], "key": [[107, 8], [107, 11]], "lookup": [[106, 8], [106, 14]], "mapping": [[108, 8], [108, 15]], "response": [[115, 8], [115, 16]], "results": [[116, 8], [116, 15]], "v": [[124, 20], [124, 21]]}, "fn_var_occur": {"endpoint": [["endpoint", "hook", "host", "lookup", "format", "hook", "user_id"], ["endpoint", "hook", "host", "lookup"], ["response", "requests", "get", "endpoint", "headers", "headers", "timeout"], ["AirflowException", "key", "endpoint"]], "headers": [["headers", "hook", "token"], ["response", "requests", "get", "endpoint", "headers", "headers", "timeout"]], "is_service": [["self", "is_service", "dct"]], "key": [["key", "lookup"], ["v", "results", "key"], ["v", "dct", "key"], ["AirflowException", "key", "endpoint"]], "lookup": [["lookup", "self", "lookups", "param"], ["key", "lookup"], ["mapping", "None", "lookup", "None", "lookup", "self", "job_params", "param"], ["endpoint", "hook", "host", "lookup", "format", "hook", "user_id"], ["endpoint", "hook", "host", "lookup"]], "mapping": [["mapping", "None", "lookup", "None", "lookup", "self", "job_params", "param"], ["mapping", "None"], ["dct", "mapping", "mapping"]], "response": [["response", "requests", "get", "endpoint", "headers", "headers", "timeout"], ["results", "response", "json"]], "results": [["results", "response", "json"], ["v", "results", "key"]], "v": [["v", "None"], ["v", "results", "key"], ["v", "dct", "key"], ["v", "None"]]}, "name": "_api_lookup", "params": {"hook": "", "param": "builtins.str", "self": ""}, "params_descr": {"hook": "", "param": "", "self": ""}, "params_occur": {"hook": [["endpoint", "hook", "host", "lookup", "format", "hook", "user_id"], ["endpoint", "hook", "host", "lookup"], ["headers", "hook", "token"]], "param": [["lookup", "self", "lookups", "param"], ["mapping", "None", "lookup", "None", "lookup", "self", "job_params", "param"]], "self": [["lookup", "self", "lookups", "param"], ["mapping", "None", "lookup", "None", "lookup", "self", "job_params", "param"], ["self", "is_service", "dct"]]}, "params_p": {"args": [], "hook": [["Union[BinaryIO, str]", 0.3343636088992298], ["str", 0.19846536581907998], ["float", 0.18130275500334428], ["dict", 0.09065137750167214]], "kwargs": [], "param": [["str", 0.1805536500100311], ["float", 0.1787911445556191], ["Optional[List[str]]", 0.08509817139097617]], "self": []}, "q_name": "PlexusJobOperator._api_lookup", "ret_exprs": ["return v"], "ret_type": "", "ret_type_p": [["str", 0.19467589722096862], ["bool", 0.1429381143487702], ["Tuple[str]", 0.09732078591178397], ["tartare.core.models.Job", 0.09500925910604857], ["models.User", 0.09396176621498786], ["Iterable[str]", 0.08797160153163142]], "variables": {"endpoint": "", "headers": "", "is_service": "", "key": "", "lookup": "", "mapping": "", "response": "", "results": "", "v": ""}, "variables_p": {"endpoint": [["str", 0.35164926346104497], ["list", 0.18527462562101066], ["Union[Literal, str]", 0.09739316714669678], ["Dict[str, Union[int, str]]", 0.09597333745340995], ["requests.compastr", 0.09208168299860606]], "headers": [["Dict[str, str]", 0.797729814367574], ["str", 0.10197882720413844], ["Dict[str, Dict[str, Any]]", 0.10029135842828754]], "is_service": [["bool", 0.25183338593866017], ["Tuple[float, float, float]", 0.0982539544030594], ["float", 0.09241697102553749], ["dict", 0.08533667350673096], ["str", 0.08457739984203796], ["Tuple[float, float]", 0.0811570679263803]], "key": [["list", 0.4370689384029921], ["str", 0.14073775742346703], ["List[str]", 0.09745028608276107], ["Set[str]", 0.08325816942394768]], "lookup": [["str", 0.7913252997671503], ["dict", 0.11027903098355864]], "mapping": [["dict", 0.6976148447340202], ["Dict[str, str]", 0.10884988248106078], ["Set[str]", 0.10111384276260763]], "response": [["requests.Response", 0.5470018622181072], ["requests.models.Response", 0.08465681261471271]], "results": [["requests.models.Response", 0.5893296229719385], ["dict", 0.22094397307323982], ["Dict[str, str]", 0.09936425688104131]], "v": [["Dict[str, str]", 0.18696927929577054], ["List[str]", 0.15501445903958144], ["Iterator[Any]", 0.10211598867761529], ["list", 0.0926241253682962], ["Tuple[Literal, Literal]", 0.0861302478934991], ["dict", 0.0821004019526425]]}}, {"docstring": {"func": "Creates job_params dict for api call to launch a Plexus job.", "long_descr": "Some parameters required to launch a job\nare not available to the user in the Plexus\nUI. For example, an app id is required, but\nonly the app name is provided in the UI.\nThis function acts as a backend lookup\nof the required param value using the\nuser-provided value.", "ret": null}, "fn_lc": [[132, 4], [156, 21]], "fn_var_ln": {"missing_params": [[146, 8], [146, 22]], "params": [[149, 8], [149, 14]], "v": [[152, 16], [152, 17]]}, "fn_var_occur": {"missing_params": [["missing_params", "self", "required_params", "set", "self", "job_params"], ["len", "missing_params"], ["AirflowException", "join", "missing_params"]], "params": [["params", "prm", "v"], ["params", "prm", "self", "job_params", "prm"]], "v": [["v", "self", "_api_lookup", "param", "prm", "hook", "hook"], ["params", "prm", "v"]]}, "name": "construct_job_params", "params": {"hook": "typing.Any", "self": ""}, "params_descr": {"hook": "plexus hook object", "self": ""}, "params_occur": {"hook": [["v", "self", "_api_lookup", "param", "prm", "hook", "hook"]], "self": [["missing_params", "self", "required_params", "set", "self", "job_params"], ["self", "job_params"], ["prm", "self", "lookups"], ["v", "self", "_api_lookup", "param", "prm", "hook", "hook"], ["params", "prm", "self", "job_params", "prm"]]}, "params_p": {"args": [], "hook": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "kwargs": [], "self": []}, "q_name": "PlexusJobOperator.construct_job_params", "ret_exprs": ["return params"], "ret_type": "builtins.dict[typing.Any, Any | None]", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "variables": {"missing_params": "", "params": "", "v": ""}, "variables_p": {"missing_params": [["list", 0.41629005574328004], ["Dict[str, Dict[str, Any]]", 0.23122586389814498], ["List[Tuple[Any, Any]]", 0.10394589578721836], ["List[Dict[str, Any]]", 0.08578500804264795], ["List[str]", 0.08552515663253221], ["set", 0.07722801989617657]], "params": [["Pattern[str]", 0.13447597564605807], ["Tuple[int, Any]", 0.10733186158469174], ["int", 0.0941583732332661], ["tuple", 0.08905742767455047], ["Dict[str, str]", 0.08577659996217063], ["float", 0.0835752431246463], ["list", 0.0817811117792449], ["List[int]", 0.0817811117792449]], "v": [["int", 0.3581671026969234], ["Dict[str, int]", 0.08025044436830094], ["Dict[Any, int]", 0.08025044436830094]]}}], "name": "PlexusJobOperator", "q_name": "PlexusJobOperator", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "logging", "time", "typing", "Any", "requests", "airflow", "exceptions", "AirflowException", "airflow", "models", "BaseOperator", "airflow", "providers", "plexus", "hooks", "plexus", "PlexusHook"], "mod_var_ln": {"logger": [[29, 0], [29, 6]]}, "mod_var_occur": {"logger": [["logger", "info", "params"], ["logger", "info", "new_state"]]}, "no_types_annot": {"D": 6, "I": 0, "U": 32}, "session_id": "88jgtCVLHNeS0a2Ynb2a2mLnJf_eOQpCx7BBsksoCzo", "set": null, "tc": [false, null], "type_annot_cove": 0.16, "typed_seq": "", "untyped_seq": "", "variables": {"logger": ""}, "variables_p": {"logger": [["logging.Logger", 1.0]]}}}