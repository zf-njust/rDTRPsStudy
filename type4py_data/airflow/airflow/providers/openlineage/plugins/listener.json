{"error": null, "response": {"classes": [{"cls_lc": [[40, 0], [188, 79]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[43, 4], [47, 43]], "fn_var_ln": {"adapter": [[47, 8], [47, 20]], "executor": [[45, 8], [45, 21]], "extractor_manager": [[46, 8], [46, 30]], "log": [[44, 8], [44, 16]]}, "fn_var_occur": {"adapter": [["self", "adapter", "OpenLineageAdapter"]], "executor": [["self", "executor", "concurrent", "futures", "Executor", "None"]], "extractor_manager": [["self", "extractor_manager", "ExtractorManager"]], "log": [["self", "log", "logging", "getLogger", "__name__"]]}, "name": "__init__", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "log", "logging", "getLogger", "__name__"], ["self", "executor", "concurrent", "futures", "Executor", "None"], ["self", "extractor_manager", "ExtractorManager"], ["self", "adapter", "OpenLineageAdapter"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "OpenLineageListener.__init__", "ret_exprs": [], "ret_type": "", "variables": {"adapter": "", "executor": "concurrent.futures.Executor", "extractor_manager": "", "log": ""}, "variables_p": {"adapter": [["int", 0.4533276922427396], ["str", 0.44514732640276927], ["bool", 0.05793072031196256], ["Dict[str, int]", 0.0435942610425285]], "executor": [["List[str]", 0.10323956353542903], ["dict", 0.0989205267715409], ["Union[List, Tuple]", 0.09682766345725212]], "extractor_manager": [["\"FrameManager\"", 0.6666666666600624], ["int", 2.7553828731644757e-12]], "log": [["logging.Logger", 0.8106481988111093], ["int", 0.10070605432346995], ["rotkehlchen.logging.RotkehlchenLogsAdapter", 0.08864574686542076]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[66, 8], [96, 13]], "fn_var_ln": {"parent_run_id": [[71, 12], [71, 25]], "task_metadata": [[77, 12], [77, 25]], "task_uuid": [[73, 12], [73, 21]]}, "fn_var_occur": {"parent_run_id": [["parent_run_id", "self", "adapter", "build_dag_run_id", "dag", "dag_id", "dagrun", "run_id"], ["self", "adapter", "start_task", "run_id", "task_uuid", "job_name", "get_job_name", "task", "job_description", "dag", "description", "event_time", "task_instance", "start_date", "isoformat", "parent_job_name", "dag", "dag_id", "parent_run_id", "parent_run_id", "code_location", "None", "nominal_start_time", "dagrun", "data_interval_start", "isoformat", "nominal_end_time", "dagrun", "data_interval_end", "isoformat", "owners", "dag", "owner", "split", "task", "task_metadata", "run_facets", "task_metadata", "run_facets", "get_custom_facets", "task_instance", "get_airflow_run_facet", "dagrun", "dag", "task_instance", "task", "task_uuid"]], "task_metadata": [["task_metadata", "self", "extractor_manager", "extract_metadata", "dagrun", "task"], ["self", "adapter", "start_task", "run_id", "task_uuid", "job_name", "get_job_name", "task", "job_description", "dag", "description", "event_time", "task_instance", "start_date", "isoformat", "parent_job_name", "dag", "dag_id", "parent_run_id", "parent_run_id", "code_location", "None", "nominal_start_time", "dagrun", "data_interval_start", "isoformat", "nominal_end_time", "dagrun", "data_interval_end", "isoformat", "owners", "dag", "owner", "split", "task", "task_metadata", "run_facets", "task_metadata", "run_facets", "get_custom_facets", "task_instance", "get_airflow_run_facet", "dagrun", "dag", "task_instance", "task", "task_uuid"]], "task_uuid": [["task_uuid", "self", "adapter", "build_task_instance_run_id", "task", "task_id", "task_instance", "execution_date", "task_instance", "try_number"], ["self", "adapter", "start_task", "run_id", "task_uuid", "job_name", "get_job_name", "task", "job_description", "dag", "description", "event_time", "task_instance", "start_date", "isoformat", "parent_job_name", "dag", "dag_id", "parent_run_id", "parent_run_id", "code_location", "None", "nominal_start_time", "dagrun", "data_interval_start", "isoformat", "nominal_end_time", "dagrun", "data_interval_end", "isoformat", "owners", "dag", "owner", "split", "task", "task_metadata", "run_facets", "task_metadata", "run_facets", "get_custom_facets", "task_instance", "get_airflow_run_facet", "dagrun", "dag", "task_instance", "task", "task_uuid"]]}, "name": "on_running", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "OpenLineageListener.on_task_instance_running.<locals>.on_running", "ret_exprs": ["return"], "ret_type": "", "ret_type_p": [["app.models.Article", 0.12859133079069696], ["app.models.move.Coordinate", 0.09688584353810833], ["str", 0.0968071651928998], ["Iterable[core.models.User]", 0.09408180412775563], ["Iterable[Hashable]", 0.09351027224400177], ["Iterable[T]", 0.0917575001010836]], "variables": {"parent_run_id": "", "task_metadata": "", "task_uuid": ""}, "variables_p": {"parent_run_id": [["str", 0.4127258963180967], ["Dict[str, str]", 0.19528240947508868], ["Iterator[Any]", 0.09934091446044542], ["int", 0.09715190606949316], ["Dict[str, Dict[str, str]]", 0.09620670985122813]], "task_metadata": [["cmk.utils.structured_data.StructuredDataTree", 0.08898792782292694]], "task_uuid": [["Dict[str, Any]", 0.10320441425898186], ["Dict[Any, Union[Any, Any]]", 0.08927472473660335]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[50, 4], [98, 40]], "fn_var_ln": {"dag": [[63, 8], [63, 11]], "dagrun": [[61, 8], [61, 14]], "task": [[62, 8], [62, 12]]}, "fn_var_occur": {"dag": [], "dagrun": [], "task": []}, "name": "on_task_instance_running", "params": {"previous_state": "", "self": "", "session": "sqlalchemy.orm.Session", "task_instance": "airflow.models.TaskInstance"}, "params_descr": {"previous_state": "", "self": "", "session": "", "task_instance": ""}, "params_occur": {"previous_state": [], "self": [["self", "executor", "submit", "on_running"]], "session": [], "task_instance": []}, "params_p": {"args": [], "kwargs": [], "previous_state": [["Dict[str, Any]", 0.20020536162059152], ["Iterable[str]", 0.10033723631674654]], "self": [], "session": [["Dict[str, Any]", 0.20020536162059152], ["Iterable[str]", 0.10033723631674654]], "task_instance": [["Dict[str, Any]", 0.20020536162059152], ["Iterable[str]", 0.10033723631674654]]}, "q_name": "OpenLineageListener.on_task_instance_running", "ret_exprs": ["return"], "ret_type": "", "ret_type_p": [["bytes", 0.09345953652844656], ["str", 0.09293469572788451]], "variables": {"dag": "", "dagrun": "", "task": ""}, "variables_p": {"dag": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "dagrun": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "task": [["str", 0.19999999999999998], ["annofabapi.models.TaskPhase", 0.09999999999999999], ["List[Dict[str, Any]]", 0.09999999999999999], ["bool", 0.09999999999999999], ["Type[src.app.models.TaskDevice]", 0.09999999999999999], ["Dict[str, Any]", 0.09999999999999999]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[112, 8], [121, 13]], "fn_var_ln": {"task_metadata": [[113, 12], [113, 25]]}, "fn_var_occur": {"task_metadata": [["task_metadata", "self", "extractor_manager", "extract_metadata", "dagrun", "task", "complete", "True", "task_instance", "task_instance"], ["self", "adapter", "complete_task", "run_id", "task_uuid", "job_name", "get_job_name", "task", "end_time", "task_instance", "end_date", "isoformat", "task", "task_metadata"]]}, "name": "on_success", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "OpenLineageListener.on_task_instance_success.<locals>.on_success", "ret_exprs": [], "ret_type": "", "variables": {"task_metadata": ""}, "variables_p": {"task_metadata": [["kitovu.utils.JsonType", 0.10158626947489438], ["List[Dict[str, Any]]", 0.09773377829924461], ["str", 0.0913257865148538]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[101, 4], [123, 40]], "fn_var_ln": {"dagrun": [[104, 8], [104, 14]], "task": [[105, 8], [105, 12]], "task_uuid": [[107, 8], [107, 17]]}, "fn_var_occur": {"dagrun": [], "task": [], "task_uuid": []}, "name": "on_task_instance_success", "params": {"previous_state": "", "self": "", "session": "", "task_instance": "airflow.models.TaskInstance"}, "params_descr": {"previous_state": "", "self": "", "session": "", "task_instance": ""}, "params_occur": {"previous_state": [], "self": [["self", "executor", "submit", "on_success"]], "session": [], "task_instance": []}, "params_p": {"args": [], "kwargs": [], "previous_state": [["Iterable[str]", 0.09325082988007247], ["Dict[str, Any]", 0.08452355372220213]], "self": [], "session": [["Iterable[str]", 0.09325082988007247], ["Dict[str, Any]", 0.08452355372220213]], "task_instance": [["Iterable[str]", 0.09325082988007247], ["Dict[str, Any]", 0.08452355372220213]]}, "q_name": "OpenLineageListener.on_task_instance_success", "ret_exprs": [], "ret_type": "", "variables": {"dagrun": "", "task": "", "task_uuid": ""}, "variables_p": {"dagrun": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "task": [["str", 0.19999999999999998], ["annofabapi.models.TaskPhase", 0.09999999999999999], ["List[Dict[str, Any]]", 0.09999999999999999], ["bool", 0.09999999999999999], ["Type[src.app.models.TaskDevice]", 0.09999999999999999], ["Dict[str, Any]", 0.09999999999999999]], "task_uuid": [["str", 0.19999999999999998], ["annofabapi.models.TaskPhase", 0.09999999999999999], ["List[Dict[str, Any]]", 0.09999999999999999], ["bool", 0.09999999999999999], ["Type[src.app.models.TaskDevice]", 0.09999999999999999], ["Dict[str, Any]", 0.09999999999999999]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[137, 8], [147, 13]], "fn_var_ln": {"task_metadata": [[138, 12], [138, 25]]}, "fn_var_occur": {"task_metadata": [["task_metadata", "self", "extractor_manager", "extract_metadata", "dagrun", "task", "complete", "True", "task_instance", "task_instance"], ["self", "adapter", "fail_task", "run_id", "task_uuid", "job_name", "get_job_name", "task", "end_time", "task_instance", "end_date", "isoformat", "task", "task_metadata"]]}, "name": "on_failure", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "OpenLineageListener.on_task_instance_failed.<locals>.on_failure", "ret_exprs": [], "ret_type": "", "variables": {"task_metadata": ""}, "variables_p": {"task_metadata": [["kitovu.utils.JsonType", 0.10158626947489438], ["List[Dict[str, Any]]", 0.09773377829924461], ["str", 0.0913257865148538]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[126, 4], [149, 40]], "fn_var_ln": {"dagrun": [[129, 8], [129, 14]], "task": [[130, 8], [130, 12]], "task_uuid": [[132, 8], [132, 17]]}, "fn_var_occur": {"dagrun": [], "task": [], "task_uuid": []}, "name": "on_task_instance_failed", "params": {"previous_state": "", "self": "", "session": "", "task_instance": "airflow.models.TaskInstance"}, "params_descr": {"previous_state": "", "self": "", "session": "", "task_instance": ""}, "params_occur": {"previous_state": [], "self": [["self", "executor", "submit", "on_failure"]], "session": [], "task_instance": []}, "params_p": {"args": [], "kwargs": [], "previous_state": [["Iterable[str]", 0.09325082988007247], ["Dict[str, Any]", 0.08452355372220213]], "self": [], "session": [["Iterable[str]", 0.09325082988007247], ["Dict[str, Any]", 0.08452355372220213]], "task_instance": [["Iterable[str]", 0.09325082988007247], ["Dict[str, Any]", 0.08452355372220213]]}, "q_name": "OpenLineageListener.on_task_instance_failed", "ret_exprs": [], "ret_type": "", "variables": {"dagrun": "", "task": "", "task_uuid": ""}, "variables_p": {"dagrun": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "task": [["str", 0.19999999999999998], ["annofabapi.models.TaskPhase", 0.09999999999999999], ["List[Dict[str, Any]]", 0.09999999999999999], ["bool", 0.09999999999999999], ["Type[src.app.models.TaskDevice]", 0.09999999999999999], ["Dict[str, Any]", 0.09999999999999999]], "task_uuid": [["str", 0.19999999999999998], ["annofabapi.models.TaskPhase", 0.09999999999999999], ["List[Dict[str, Any]]", 0.09999999999999999], ["bool", 0.09999999999999999], ["Type[src.app.models.TaskDevice]", 0.09999999999999999], ["Dict[str, Any]", 0.09999999999999999]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[152, 4], [154, 92]], "fn_var_ln": {"executor": [[154, 8], [154, 21]]}, "fn_var_occur": {"executor": [["self", "executor", "ThreadPoolExecutor", "max_workers", "thread_name_prefix"]]}, "name": "on_starting", "params": {"component": "", "self": ""}, "params_descr": {"component": "", "self": ""}, "params_occur": {"component": [["self", "log", "debug", "component", "__class__", "__name__"]], "self": [["self", "log", "debug", "component", "__class__", "__name__"], ["self", "executor", "ThreadPoolExecutor", "max_workers", "thread_name_prefix"]]}, "params_p": {"args": [], "component": [["int", 0.29293403831836756], ["Dict[str, List[str]]", 0.09299695864697696]], "kwargs": [], "self": []}, "q_name": "OpenLineageListener.on_starting", "ret_exprs": [], "ret_type": "", "variables": {"executor": ""}, "variables_p": {"executor": [["int", 0.6248819980020498], ["List[str]", 0.09071871458612228]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[157, 4], [161, 45]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "before_stopping", "params": {"component": "", "self": ""}, "params_descr": {"component": "", "self": ""}, "params_occur": {"component": [["self", "log", "debug", "component", "__class__", "__name__"]], "self": [["self", "log", "debug", "component", "__class__", "__name__"], ["self", "executor", "shutdown", "wait", "True"]]}, "params_p": {"args": [], "component": [["int", 0.30131635195883044], ["Tuple[str]", 0.049552137138143]], "kwargs": [], "self": []}, "q_name": "OpenLineageListener.before_stopping", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[164, 4], [174, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "on_dag_run_running", "params": {"dag_run": "airflow.models.DagRun", "msg": "builtins.str", "self": ""}, "params_descr": {"dag_run": "", "msg": "", "self": ""}, "params_occur": {"dag_run": [["self", "executor", "submit", "self", "adapter", "dag_started", "dag_run", "dag_run", "msg", "msg", "nominal_start_time", "dag_run", "data_interval_start", "isoformat", "nominal_end_time", "dag_run", "data_interval_end", "isoformat"]], "msg": [["self", "executor", "submit", "self", "adapter", "dag_started", "dag_run", "dag_run", "msg", "msg", "nominal_start_time", "dag_run", "data_interval_start", "isoformat", "nominal_end_time", "dag_run", "data_interval_end", "isoformat"]], "self": [["self", "executor"], ["self", "log", "error"], ["self", "executor", "submit", "self", "adapter", "dag_started", "dag_run", "dag_run", "msg", "msg", "nominal_start_time", "dag_run", "data_interval_start", "isoformat", "nominal_end_time", "dag_run", "data_interval_end", "isoformat"]]}, "params_p": {"args": [], "dag_run": [["int", 0.4096237094320017], ["float", 0.29518814528399917], ["bool", 0.09839604842799972], ["List[int]", 0.09839604842799972]], "kwargs": [], "msg": [["int", 0.4096237094320017], ["float", 0.29518814528399917], ["bool", 0.09839604842799972], ["List[int]", 0.09839604842799972]], "self": []}, "q_name": "OpenLineageListener.on_dag_run_running", "ret_exprs": ["return"], "ret_type": "", "ret_type_p": [["app.models.move.Coordinate", 0.1115828457889291], ["Union[tuple, list]", 0.10305419250817767], ["Optional[bool]", 0.09787942252744532], ["bytes", 0.09745126030934932]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[177, 4], [181, 80]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "on_dag_run_success", "params": {"dag_run": "airflow.models.DagRun", "msg": "builtins.str", "self": ""}, "params_descr": {"dag_run": "", "msg": "", "self": ""}, "params_occur": {"dag_run": [["self", "executor", "submit", "self", "adapter", "dag_success", "dag_run", "dag_run", "msg", "msg"]], "msg": [["self", "executor", "submit", "self", "adapter", "dag_success", "dag_run", "dag_run", "msg", "msg"]], "self": [["self", "executor"], ["self", "log", "error"], ["self", "executor", "submit", "self", "adapter", "dag_success", "dag_run", "dag_run", "msg", "msg"]]}, "params_p": {"args": [], "dag_run": [["bool", 0.304089791815563], ["str", 0.10976684392384481], ["models.JournalEntryOrigin", 0.09832110696962246], ["Optional[int]", 0.09832110696962246], ["dict", 0.09707319932487961], ["float", 0.09707319932487961]], "kwargs": [], "msg": [["bool", 0.304089791815563], ["str", 0.10976684392384481], ["models.JournalEntryOrigin", 0.09832110696962246], ["Optional[int]", 0.09832110696962246], ["dict", 0.09707319932487961], ["float", 0.09707319932487961]], "self": []}, "q_name": "OpenLineageListener.on_dag_run_success", "ret_exprs": ["return"], "ret_type": "", "ret_type_p": [["app.models.Article", 0.11160179028748499], ["app.models.move.Coordinate", 0.1012282444232996], ["Iterable[Hashable]", 0.0959065236842829], ["str", 0.09197456308427132], ["Iterable[core.models.User]", 0.0919367476689506]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[184, 4], [188, 79]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "on_dag_run_failed", "params": {"dag_run": "airflow.models.DagRun", "msg": "builtins.str", "self": ""}, "params_descr": {"dag_run": "", "msg": "", "self": ""}, "params_occur": {"dag_run": [["self", "executor", "submit", "self", "adapter", "dag_failed", "dag_run", "dag_run", "msg", "msg"]], "msg": [["self", "executor", "submit", "self", "adapter", "dag_failed", "dag_run", "dag_run", "msg", "msg"]], "self": [["self", "executor"], ["self", "log", "error"], ["self", "executor", "submit", "self", "adapter", "dag_failed", "dag_run", "dag_run", "msg", "msg"]]}, "params_p": {"args": [], "dag_run": [["bool", 0.304089791815563], ["str", 0.10976684392384481], ["models.JournalEntryOrigin", 0.09832110696962246], ["Optional[int]", 0.09832110696962246], ["dict", 0.09707319932487961], ["float", 0.09707319932487961]], "kwargs": [], "msg": [["bool", 0.304089791815563], ["str", 0.10976684392384481], ["models.JournalEntryOrigin", 0.09832110696962246], ["Optional[int]", 0.09832110696962246], ["dict", 0.09707319932487961], ["float", 0.09707319932487961]], "self": []}, "q_name": "OpenLineageListener.on_dag_run_failed", "ret_exprs": ["return"], "ret_type": "", "ret_type_p": [["app.models.Article", 0.11160179028748499], ["app.models.move.Coordinate", 0.1012282444232996], ["Iterable[Hashable]", 0.0959065236842829], ["str", 0.09197456308427132], ["Iterable[core.models.User]", 0.0919367476689506]], "variables": {}, "variables_p": {}}], "name": "OpenLineageListener", "q_name": "OpenLineageListener", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "logging", "concurrent", "futures", "Executor", "ThreadPoolExecutor", "typing", "TYPE_CHECKING", "airflow", "listeners", "hookimpl", "airflow", "providers", "openlineage", "extractors", "ExtractorManager", "airflow", "providers", "openlineage", "plugins", "adapter", "OpenLineageAdapter", "airflow", "providers", "openlineage", "utils", "utils", "get_airflow_run_facet", "get_custom_facets", "get_job_name", "print_exception", "airflow", "utils", "timeout", "timeout", "sqlalchemy", "orm", "Session", "airflow", "models", "DagRun", "TaskInstance"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 11, "I": 0, "U": 37}, "session_id": "hGRgab2USnJzJ4a-L-Qm93TlXzJuZJ7YIfzbh5DBeTA", "set": null, "tc": [false, null], "type_annot_cove": 0.23, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}