{"error": null, "response": {"classes": [{"cls_lc": [[31, 0], [93, 69]], "cls_var_ln": {"conn_name_attr": [[42, 4], [42, 18]], "conn_type": [[44, 4], [44, 13]], "default_conn_name": [[43, 4], [43, 21]], "hook_name": [[45, 4], [45, 13]]}, "cls_var_occur": {"conn_name_attr": [], "conn_type": [], "default_conn_name": [], "hook_name": []}, "funcs": [{"docstring": {"func": "Returns custom field behaviour.", "long_descr": null, "ret": null}, "fn_lc": [[48, 4], [62, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_ui_field_behaviour", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TabularHook.get_ui_field_behaviour", "ret_exprs": ["return { \"hidden_fields\": [\"schema\", \"port\"], \"relabeling\": { \"host\": \"Base URL\", \"login\": \"Client ID\", \"password\": \"Client Secret\", }, \"placeholders\": { \"host\": DEFAULT_TABULAR_URL, \"login\": \"client_id (token credentials auth)\", \"password\": \"secret (token credentials auth)\", },}"], "ret_type": "builtins.dict[builtins.str, typing.Any]", "ret_type_p": [["bool", 0.2696865237955147], ["int", 0.19091548425664975], ["str", 0.0929294522880473]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[64, 4], [66, 38]], "fn_var_ln": {"conn_id": [[66, 8], [66, 20]]}, "fn_var_occur": {"conn_id": [["self", "conn_id", "tabular_conn_id"]]}, "name": "__init__", "params": {"self": "", "tabular_conn_id": "builtins.str"}, "params_descr": {"self": "", "tabular_conn_id": ""}, "params_occur": {"self": [["self", "conn_id", "tabular_conn_id"]], "tabular_conn_id": [["self", "conn_id", "tabular_conn_id"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "tabular_conn_id": [["str", 0.3022764744006824], ["Set[str]", 0.1500193979738091], ["Sequence[str]", 0.12365867496032008]]}, "q_name": "TabularHook.__init__", "ret_exprs": [], "ret_type": "None", "variables": {"conn_id": ""}, "variables_p": {"conn_id": [["int", 0.7764564279050963], ["str", 0.2235435720949038]]}}, {"docstring": {"func": "Test the Tabular connection.", "long_descr": null, "ret": null}, "fn_lc": [[68, 4], [76, 32]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "test_connection", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "get_conn"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TabularHook.test_connection", "ret_exprs": ["return True, \"Successfully fetched token from Tabular\"", "return False, f\"HTTP Error: {e}: {e.response.text}\"", "return False, str(e)"], "ret_type": "builtins.tuple[builtins.bool, builtins.str]", "ret_type_p": [["str", 0.4961729657655015], ["bool", 0.09421897872851102]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Obtain a short-lived access token via a client_id and client_secret.", "long_descr": null, "ret": null}, "fn_lc": [[78, 4], [90, 46]], "fn_var_ln": {"base_url": [[82, 8], [82, 16]], "client_id": [[83, 8], [83, 17]], "client_secret": [[84, 8], [84, 21]], "conn": [[80, 8], [80, 12]], "data": [[85, 8], [85, 12]], "response": [[87, 8], [87, 16]]}, "fn_var_occur": {"base_url": [["base_url", "conn", "host", "conn", "host", "DEFAULT_TABULAR_URL"], ["base_url", "base_url", "rstrip"], ["response", "requests", "post", "base_url", "TOKENS_ENDPOINT", "data", "data"]], "client_id": [["client_id", "conn", "login"], ["data", "client_id", "client_secret"]], "client_secret": [["client_secret", "conn", "password"], ["data", "client_id", "client_secret"]], "conn": [["conn", "self", "get_connection", "self", "conn_id"], ["base_url", "conn", "host", "conn", "host", "DEFAULT_TABULAR_URL"], ["client_id", "conn", "login"], ["client_secret", "conn", "password"]], "data": [["data", "client_id", "client_secret"], ["response", "requests", "post", "base_url", "TOKENS_ENDPOINT", "data", "data"]], "response": [["response", "requests", "post", "base_url", "TOKENS_ENDPOINT", "data", "data"], ["response", "raise_for_status"], ["response", "json"]]}, "name": "get_conn", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["conn", "self", "get_connection", "self", "conn_id"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TabularHook.get_conn", "ret_exprs": ["return response.json()[\"access_token\"]"], "ret_type": "builtins.str", "ret_type_p": [["Dict[str, Any]", 0.4033434648300199], ["int", 0.09774947696548202], ["str", 0.09636849203898214]], "variables": {"base_url": "", "client_id": "", "client_secret": "", "conn": "", "data": "", "response": ""}, "variables_p": {"base_url": [["str", 0.7799035009529203], ["Dict[str, str]", 0.13853439473620685]], "client_id": [["str", 1.0]], "client_secret": [["str", 0.8978749741571932], ["int", 0.10212502584280696]], "conn": [["str", 0.892877017644701], ["list", 0.10712298235529889]], "data": [["str", 0.3763133225881912], ["Dict[str, Any]", 0.2261461802374491], ["dict", 0.11435268333592946], ["Dict[str, str]", 0.09064126451657352]], "response": [["requests.models.Response", 0.8097927530977512], ["requests.Response", 0.19020724690224866]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[92, 4], [93, 69]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_token_macro", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "conn_id"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TabularHook.get_token_macro", "ret_exprs": ["return f\"{{{{ conn.{self.conn_id}.get_hook().get_conn() }}}}\""], "ret_type": "", "ret_type_p": [["str", 1.0]], "variables": {}, "variables_p": {}}], "name": "TabularHook", "q_name": "TabularHook", "variables": {"conn_name_attr": "", "conn_type": "", "default_conn_name": "", "hook_name": ""}, "variables_p": {"conn_name_attr": [["str", 0.9999999984412052], ["Tuple[str, str, bool, str, str, str, str]", 8.316126869679678e-10], ["List[str]", 1.331690806861904e-10], ["Tuple[Any, Any]", 1.331690806861904e-10], ["bool", 1.3275060008743415e-10]], "conn_type": [["str", 0.19999999999999998], ["int", 0.19999999999999998], ["Tuple[Literal, Literal, Literal, Literal, Literal, Literal, Literal]", 0.09999999999999999], ["Dict[str, str]", 0.09999999999999999], ["Tuple[Type[int], Type[float]]", 0.09999999999999999]], "default_conn_name": [["str", 0.9999999999999999]], "hook_name": [["str", 0.7], ["Optional[str]", 0.2], ["List[str]", 0.1]]}}], "funcs": [], "imports": ["__future__", "annotations", "typing", "Any", "requests", "requests", "HTTPError", "airflow", "hooks", "base", "BaseHook"], "mod_var_ln": {"DEFAULT_TABULAR_URL": [[26, 0], [26, 19]], "TOKENS_ENDPOINT": [[28, 0], [28, 15]]}, "mod_var_occur": {"DEFAULT_TABULAR_URL": [["DEFAULT_TABULAR_URL"], ["base_url", "conn", "host", "conn", "host", "DEFAULT_TABULAR_URL"]], "TOKENS_ENDPOINT": [["response", "requests", "post", "base_url", "TOKENS_ENDPOINT", "data", "data"]]}, "no_types_annot": {"D": 5, "I": 0, "U": 14}, "session_id": "wf0QvZBDtQ6cMadf9QCi0-CoC8F-g0all9icnxh3ux8", "set": null, "tc": [false, null], "type_annot_cove": 0.26, "typed_seq": "", "untyped_seq": "", "variables": {"DEFAULT_TABULAR_URL": "", "TOKENS_ENDPOINT": ""}, "variables_p": {"DEFAULT_TABULAR_URL": [["str", 0.9999999999999999]], "TOKENS_ENDPOINT": [["str", 0.8075963279768693], ["Dict[str, bool]", 0.113528924049995], ["requests.models.Response", 0.0788747479731357]]}}}