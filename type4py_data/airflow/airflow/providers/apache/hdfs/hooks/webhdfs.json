{"error": null, "response": {"classes": [{"cls_lc": [[43, 0], [44, 46]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [], "name": "AirflowWebHDFSHookException", "q_name": "AirflowWebHDFSHookException", "variables": {}, "variables_p": {}}, {"cls_lc": [[47, 0], [168, 22]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[55, 4], [58, 36]], "fn_var_ln": {"proxy_user": [[58, 8], [58, 23]], "webhdfs_conn_id": [[57, 8], [57, 28]]}, "fn_var_occur": {"proxy_user": [["self", "proxy_user", "proxy_user"]], "webhdfs_conn_id": [["self", "webhdfs_conn_id", "webhdfs_conn_id"]]}, "name": "__init__", "params": {"proxy_user": "str | None", "self": "", "webhdfs_conn_id": "builtins.str"}, "params_descr": {"proxy_user": "", "self": "", "webhdfs_conn_id": ""}, "params_occur": {"proxy_user": [["self", "proxy_user", "proxy_user"]], "self": [["self", "webhdfs_conn_id", "webhdfs_conn_id"], ["self", "proxy_user", "proxy_user"]], "webhdfs_conn_id": [["self", "webhdfs_conn_id", "webhdfs_conn_id"]]}, "params_p": {"args": [], "kwargs": [], "proxy_user": [["str", 0.481267568680796], ["bool", 0.09856837068558112], ["Optional[Dict[str, Any]]", 0.09233954352083688], ["List[str]", 0.07867842494502351], ["int", 0.07687368505573755]], "self": [], "webhdfs_conn_id": [["str", 0.48073611646717895], ["Set[str]", 0.1069616596337153], ["Optional[str]", 0.09451774384509011], ["Dict[str, str]", 0.08956387662610797]]}, "q_name": "WebHDFSHook.__init__", "ret_exprs": [], "ret_type": "", "variables": {"proxy_user": "", "webhdfs_conn_id": ""}, "variables_p": {"proxy_user": [["str", 0.40987524350883425], ["Dict[str, Union[str, Set]]", 0.105174867732668], ["Dict[str, Any]", 0.08738177665434481]], "webhdfs_conn_id": [["int", 0.5314096773347922], ["str", 0.0976297101878023]]}}, {"docstring": {"func": "Establishes a connection depending on the security mode set via config or environment variable.", "long_descr": null, "ret": "a hdfscli InsecureClient or KerberosClient object."}, "fn_lc": [[60, 4], [69, 25]], "fn_var_ln": {"connection": [[66, 8], [66, 18]]}, "fn_var_occur": {"connection": [["connection", "self", "_find_valid_server"], ["connection", "None"]]}, "name": "get_conn", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["connection", "self", "_find_valid_server"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "WebHDFSHook.get_conn", "ret_exprs": ["return connection"], "ret_type": "typing.Any", "ret_type_p": [["str", 0.19999999999999998], ["bool", 0.09999999999999999]], "variables": {"connection": ""}, "variables_p": {"connection": [["Dict[str, int]", 0.17844948406167976], ["List[str]", 0.15098320770675064], ["int", 0.10270716280578933], ["Dict[str, Tuple[str, bool]]", 0.09676575608440209], ["str", 0.09384056260261504]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[71, 4], [97, 19]], "fn_var_ln": {"client": [[81, 20], [81, 26]], "conn_check": [[78, 16], [78, 26]], "connection": [[72, 8], [72, 18]], "host_socket": [[75, 12], [75, 23]], "namenodes": [[73, 8], [73, 17]]}, "fn_var_occur": {"client": [["client", "self", "_get_client", "namenode", "connection", "port", "connection", "login", "connection", "get_password", "connection", "schema", "connection", "extra_dejson"], ["client", "status"]], "conn_check": [["conn_check", "host_socket", "connect_ex", "namenode", "connection", "port"]], "connection": [["connection", "self", "get_connection", "self", "webhdfs_conn_id"], ["namenodes", "connection", "host", "split"], ["self", "log", "info", "namenode", "connection", "port"], ["conn_check", "host_socket", "connect_ex", "namenode", "connection", "port"], ["client", "self", "_get_client", "namenode", "connection", "port", "connection", "login", "connection", "get_password", "connection", "schema", "connection", "extra_dejson"], ["self", "log", "warning", "namenode", "connection", "port"]], "host_socket": [["host_socket", "socket", "socket", "socket", "AF_INET", "socket", "SOCK_STREAM"], ["conn_check", "host_socket", "connect_ex", "namenode", "connection", "port"], ["host_socket", "close"]], "namenodes": [["namenodes", "connection", "host", "split"]]}, "name": "_find_valid_server", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["connection", "self", "get_connection", "self", "webhdfs_conn_id"], ["self", "log", "info", "namenode", "connection", "port"], ["self", "log", "info", "namenode"], ["client", "self", "_get_client", "namenode", "connection", "port", "connection", "login", "connection", "get_password", "connection", "schema", "connection", "extra_dejson"], ["self", "log", "info", "namenode"], ["self", "log", "warning", "namenode", "connection", "port"], ["self", "log", "info", "namenode", "hdfs_error"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "WebHDFSHook._find_valid_server", "ret_exprs": ["return client", "return None"], "ret_type": "typing.Any", "ret_type_p": [["Callable[[List, bool], None]", 0.09754168460074776], ["Callable", 0.0965285911311598], ["str", 0.0888232267692352]], "variables": {"client": "", "conn_check": "", "connection": "", "host_socket": "", "namenodes": ""}, "variables_p": {"client": [["str", 0.822979041530604]], "conn_check": [["str", 0.19372006813925507], ["Tuple[Literal, Literal]", 0.14696798776663011], ["Dict[str, Dict[str, str]]", 0.10969981092470839], ["int", 0.09719122841736408], ["list", 0.08443685212803526]], "connection": [["str", 0.516754813512486], ["int", 0.08894517558102183]], "host_socket": [], "namenodes": [["str", 0.09498244177974831], ["Union[Literal, Literal]", 0.09401082339264405], ["TextIO", 0.08000663289817679], ["int", 0.07650735614100018], ["Set[str]", 0.07446528772868481]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[99, 4], [120, 79]], "fn_var_ln": {"auth": [[105, 12], [105, 24]], "connection_str": [[108, 12], [108, 26]], "proxy_user": [[119, 8], [119, 18]], "session": [[103, 8], [103, 15]], "verify": [[109, 12], [109, 26]]}, "fn_var_occur": {"auth": [["session", "auth", "login", "password"]], "connection_str": [["connection_str", "namenode"], ["connection_str", "namenode"], ["connection_str", "port"], ["connection_str", "schema"], ["KerberosClient", "connection_str", "session", "session"], ["InsecureClient", "connection_str", "user", "proxy_user", "session", "session"]], "proxy_user": [["proxy_user", "self", "proxy_user", "login"], ["InsecureClient", "connection_str", "user", "proxy_user", "session", "session"]], "session": [["session", "requests", "Session"], ["session", "auth", "login", "password"], ["session", "verify", "extra_dejson", "get", "False"], ["KerberosClient", "connection_str", "session", "session"], ["InsecureClient", "connection_str", "user", "proxy_user", "session", "session"]], "verify": [["session", "verify", "extra_dejson", "get", "False"]]}, "name": "_get_client", "params": {"extra_dejson": "builtins.dict", "login": "builtins.str", "namenode": "builtins.str", "password": "str | None", "port": "builtins.int", "schema": "builtins.str", "self": ""}, "params_descr": {"extra_dejson": "", "login": "", "namenode": "", "password": "", "port": "", "schema": "", "self": ""}, "params_occur": {"extra_dejson": [["extra_dejson", "get", "extra_dejson", "get", "False"], ["session", "verify", "extra_dejson", "get", "False"]], "login": [["session", "auth", "login", "password"], ["proxy_user", "self", "proxy_user", "login"]], "namenode": [["connection_str", "namenode"], ["connection_str", "namenode"]], "password": [["password", "None"], ["session", "auth", "login", "password"]], "port": [["port", "None"], ["connection_str", "port"]], "schema": [["schema", "None"], ["connection_str", "schema"]], "self": [["proxy_user", "self", "proxy_user", "login"]]}, "params_p": {"args": [], "extra_dejson": [["str", 0.7209862292175989], ["dict", 0.09988863376194772], ["Optional[str]", 0.0900239566671671]], "kwargs": [], "login": [["str", 0.8008426496856229]], "namenode": [["str", 0.8971748242680925], ["Optional[str]", 0.10282517573190757]], "password": [["Optional[str]", 0.29930102754699395], ["str", 0.2820262627984397], ["Optional[List[str]]", 0.12635349185140993], ["Optional[int]", 0.1012727624305609]], "port": [["Optional[str]", 0.4682502526729291], ["str", 0.1635829050123745], ["bool", 0.10193295483120063], ["Optional[List[str]]", 0.09778984780772824], ["Optional[int]", 0.09052133482423202], ["Optional[\"CustomerReference\"]", 0.07792270485153549]], "schema": [["Optional[str]", 0.4682502526729291], ["str", 0.1635829050123745], ["bool", 0.10193295483120063], ["Optional[List[str]]", 0.09778984780772824], ["Optional[int]", 0.09052133482423202], ["Optional[\"CustomerReference\"]", 0.07792270485153549]], "self": []}, "q_name": "WebHDFSHook._get_client", "ret_exprs": ["return KerberosClient(connection_str, session=session)", "return InsecureClient(connection_str, user=proxy_user, session=session)"], "ret_type": "typing.Any", "ret_type_p": [["bool", 0.32735840677172356], ["int", 0.11568790429083235], ["str", 0.09673568326628829], ["Callable", 0.08583151363716295]], "variables": {"auth": "", "connection_str": "", "proxy_user": "", "session": "", "verify": ""}, "variables_p": {"auth": [["str", 0.49999999997512173], ["List[str]", 0.24999999998173272], ["int", 3.6500150206043775e-11], ["Type[RuntimeError]", 1.2745954434471932e-11], ["Dict[str, Union[Any, str]]", 1.2166716735347925e-11]], "connection_str": [["str", 0.493856499822707], ["list", 0.1891321350366032]], "proxy_user": [["str", 0.36350358813483646], ["Dict[str, str]", 0.24567283538417942], ["List[str]", 0.11821342515052935]], "session": [["requests.sessions.Session", 0.6845898315205172]], "verify": [["Dict[str, str]", 0.40136083825924984], ["str", 0.19954638724691676], ["Dict[str, int]", 0.09977319362345838], ["dict", 0.09977319362345838], ["Dict[str, Any]", 0.09977319362345838], ["List[str]", 0.09977319362345838]]}}, {"docstring": {"func": "Check for the existence of a path in HDFS by querying FileStatus.", "long_descr": null, "ret": "True if the path exists and False if not."}, "fn_lc": [[122, 4], [132, 27]], "fn_var_ln": {"conn": [[129, 8], [129, 12]], "status": [[131, 8], [131, 14]]}, "fn_var_occur": {"conn": [["conn", "self", "get_conn"], ["status", "conn", "status", "hdfs_path", "strict", "False"]], "status": [["status", "conn", "status", "hdfs_path", "strict", "False"], ["bool", "status"]]}, "name": "check_for_path", "params": {"hdfs_path": "builtins.str", "self": ""}, "params_descr": {"hdfs_path": "The path to check.", "self": ""}, "params_occur": {"hdfs_path": [["status", "conn", "status", "hdfs_path", "strict", "False"]], "self": [["conn", "self", "get_conn"]]}, "params_p": {"args": [], "hdfs_path": [["str", 0.7291340838960885]], "kwargs": [], "self": []}, "q_name": "WebHDFSHook.check_for_path", "ret_exprs": ["return bool(status)"], "ret_type": "builtins.bool", "ret_type_p": [["str", 0.392055363610635], ["int", 0.30702750329307726], ["bool", 0.10526137158775685], ["List[str]", 0.10063829850649086], ["float", 0.09501746300204014]], "variables": {"conn": "", "status": ""}, "variables_p": {"conn": [["str", 0.45628450178060964], ["List[str]", 0.2770979536308007], ["float", 0.16856283737541305], ["int", 0.09805470721317652]], "status": [["str", 0.385025740675911], ["int", 0.21316658532616], ["Optional[str]", 0.2123016441705825], ["Dict[str, float]", 0.0990154800571046], ["ImportError", 0.09049054977024187]]}}, {"docstring": {"func": "Uploads a file to HDFS.", "long_descr": null, "ret": null}, "fn_lc": [[134, 4], [156, 69]], "fn_var_ln": {"conn": [[151, 8], [151, 12]]}, "fn_var_occur": {"conn": [["conn", "self", "get_conn"], ["conn", "upload", "hdfs_path", "destination", "local_path", "source", "overwrite", "overwrite", "n_threads", "parallelism", "kwargs"]]}, "name": "load_file", "params": {"destination": "builtins.str", "kwargs": "typing.Any", "overwrite": "builtins.bool", "parallelism": "builtins.int", "self": "", "source": "builtins.str"}, "params_descr": {"destination": "PTarget HDFS path.\nIf it already exists and is a directory, files will be uploaded inside.", "kwargs": "Keyword arguments forwarded to :meth:`hdfs.client.Client.upload`.", "overwrite": "Overwrite any existing file or directory.", "parallelism": "Number of threads to use for parallelization.\nA value of `0` (or negative) uses as many threads as there are files.", "self": "", "source": "Local path to file or folder.\nIf it's a folder, all the files inside of it will be uploaded.\n.. note:: This implies that folders empty of files will not be created remotely."}, "params_occur": {"destination": [["conn", "upload", "hdfs_path", "destination", "local_path", "source", "overwrite", "overwrite", "n_threads", "parallelism", "kwargs"], ["self", "log", "debug", "source", "destination"]], "kwargs": [["conn", "upload", "hdfs_path", "destination", "local_path", "source", "overwrite", "overwrite", "n_threads", "parallelism", "kwargs"]], "overwrite": [["conn", "upload", "hdfs_path", "destination", "local_path", "source", "overwrite", "overwrite", "n_threads", "parallelism", "kwargs"]], "parallelism": [["conn", "upload", "hdfs_path", "destination", "local_path", "source", "overwrite", "overwrite", "n_threads", "parallelism", "kwargs"]], "self": [["conn", "self", "get_conn"], ["self", "log", "debug", "source", "destination"]], "source": [["conn", "upload", "hdfs_path", "destination", "local_path", "source", "overwrite", "overwrite", "n_threads", "parallelism", "kwargs"], ["self", "log", "debug", "source", "destination"]]}, "params_p": {"args": [], "destination": [["str", 0.38265038728738454]], "kwargs": [], "overwrite": [["str", 0.30020823458518575], ["Optional[str]", 0.21222427973258048]], "parallelism": [["str", 0.30020823458518575], ["Optional[str]", 0.21222427973258048]], "self": [], "source": [["str", 0.38265038728738454]]}, "q_name": "WebHDFSHook.load_file", "ret_exprs": [], "ret_type": "None", "variables": {"conn": ""}, "variables_p": {"conn": [["int", 0.10643614426308474], ["Dict[str, str]", 0.08662036095794272]]}}, {"docstring": {"func": "Read a file from HDFS.", "long_descr": null, "ret": "File content as a raw string"}, "fn_lc": [[158, 4], [168, 22]], "fn_var_ln": {"conn": [[164, 8], [164, 12]], "content": [[167, 12], [167, 19]]}, "fn_var_occur": {"conn": [["conn", "self", "get_conn"], ["conn", "read", "filename", "reader"]], "content": [["content", "reader", "read"]]}, "name": "read_file", "params": {"filename": "builtins.str", "self": ""}, "params_descr": {"filename": "The path of the file to read.", "self": ""}, "params_occur": {"filename": [["conn", "read", "filename", "reader"]], "self": [["conn", "self", "get_conn"]]}, "params_p": {"args": [], "filename": [["str", 0.8375859612015687], ["Optional[str]", 0.1624140387984313]], "kwargs": [], "self": []}, "q_name": "WebHDFSHook.read_file", "ret_exprs": ["return content"], "ret_type": "builtins.bytes", "ret_type_p": [["str", 0.7942984693808022], ["dict", 0.09654318562846735]], "variables": {"conn": "", "content": ""}, "variables_p": {"conn": [["str", 0.8832928019898625]], "content": [["dict", 0.1790436761402573], ["List[str]", 0.15665422737781096], ["List[Dict[str, float]]", 0.10720271686743488], ["List[Tuple[str, Any, Any]]", 0.10720271686743488], ["List[Tuple[str, int, int]]", 0.10720271686743488], ["bool", 0.10720271686743488], ["Dict[str, str]", 0.07701714121136476], ["str", 0.0758616860385604]]}}], "name": "WebHDFSHook", "q_name": "WebHDFSHook", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "logging", "socket", "typing", "Any", "requests", "hdfs", "HdfsError", "InsecureClient", "airflow", "configuration", "conf", "airflow", "exceptions", "AirflowException", "airflow", "hooks", "base", "BaseHook", "hdfs", "ext", "kerberos", "KerberosClient"], "mod_var_ln": {"_kerberos_security_mode": [[34, 0], [34, 23]], "log": [[32, 0], [32, 3]]}, "mod_var_occur": {"_kerberos_security_mode": [["_kerberos_security_mode"], ["_kerberos_security_mode"]], "log": [["log", "error"], ["self", "log", "info", "namenode", "connection", "port"], ["self", "log", "info", "namenode"], ["self", "log", "info", "namenode"], ["self", "log", "warning", "namenode", "connection", "port"], ["self", "log", "info", "namenode", "hdfs_error"], ["self", "log", "debug", "source", "destination"]]}, "no_types_annot": {"D": 19, "I": 0, "U": 21}, "session_id": "038jrlkb3LT7387Tp6lKvtosct3sIwTeS0xr2041XOA", "set": null, "tc": [false, null], "type_annot_cove": 0.47, "typed_seq": "", "untyped_seq": "", "variables": {"_kerberos_security_mode": "", "log": ""}, "variables_p": {"_kerberos_security_mode": [["str", 0.5161138831715136], ["bool", 0.3497966452928659], ["int", 0.1340894715356204]], "log": [["logging.Logger", 0.8137173128172387], ["nucypher.utilities.logging.Logger", 0.09197553602822513]]}}}