{"error": null, "response": {"classes": [{"cls_lc": [[38, 0], [254, 17]], "cls_var_ln": {"default_api_version": [[73, 4], [73, 23]]}, "cls_var_occur": {"default_api_version": []}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[75, 4], [85, 76]], "fn_var_ln": {"api_version": [[82, 8], [82, 24]], "gcp_conn_id": [[83, 8], [83, 24]], "google_ads_config": [[85, 8], [85, 30]], "google_ads_conn_id": [[84, 8], [84, 31]]}, "fn_var_occur": {"api_version": [["self", "api_version", "api_version", "self", "default_api_version"]], "gcp_conn_id": [["self", "gcp_conn_id", "gcp_conn_id"]], "google_ads_config": [["self", "google_ads_config", "builtins", "dict", "builtins", "str", "typing", "Any"]], "google_ads_conn_id": [["self", "google_ads_conn_id", "google_ads_conn_id"]]}, "name": "__init__", "params": {"api_version": "str | None", "gcp_conn_id": "builtins.str", "google_ads_conn_id": "builtins.str", "self": ""}, "params_descr": {"api_version": "", "gcp_conn_id": "", "google_ads_conn_id": "", "self": ""}, "params_occur": {"api_version": [["self", "api_version", "api_version", "self", "default_api_version"]], "gcp_conn_id": [["self", "gcp_conn_id", "gcp_conn_id"]], "google_ads_conn_id": [["self", "google_ads_conn_id", "google_ads_conn_id"]], "self": [["self", "api_version", "api_version", "self", "default_api_version"], ["self", "gcp_conn_id", "gcp_conn_id"], ["self", "google_ads_conn_id", "google_ads_conn_id"], ["self", "google_ads_config", "builtins", "dict", "builtins", "str", "typing", "Any"]]}, "params_p": {"api_version": [["str", 0.12442423658745472], ["Optional[bool]", 0.11660308483156186], ["Optional[str]", 0.11660308483156186], ["int", 0.0852050823913312], ["bool", 0.06253674487280286], ["bytes", 0.05915028195500248]], "args": [], "gcp_conn_id": [["int", 0.3141152061926435], ["str", 0.289022351694431], ["Optional[List[str]]", 0.09629788339302396], ["Dict[str, Dict[str, Any]]", 0.09345611238994997]], "google_ads_conn_id": [["Mapping[Any, str]", 0.11262662873503111], ["List[str]", 0.10028040663683445], ["str", 0.10028040663683445], ["Optional[int]", 0.09646264851498637], ["Dict[str, Dict[str, Any]]", 0.09267575428454454], ["int", 0.09267575428454454]], "kwargs": [], "self": []}, "q_name": "GoogleAdsHook.__init__", "ret_exprs": [], "ret_type": "None", "variables": {"api_version": "", "gcp_conn_id": "", "google_ads_config": "builtins.dict[builtins.str, typing.Any]", "google_ads_conn_id": ""}, "variables_p": {"api_version": [["str", 0.5011300599938591], ["int", 0.3230260847686826], ["Set[int]", 0.17584385523745832]], "gcp_conn_id": [["int", 0.5314096773347922], ["str", 0.0976297101878023]], "google_ads_config": [["Dict[str, Any]", 0.6417058712269794], ["Dict[str, dict]", 0.09378381155408157], ["dict", 0.0934542825458266]], "google_ads_conn_id": [["int", 0.7159134740564593], ["str", 0.19978316166978805], ["bool", 0.08430336427375282]]}}, {"docstring": {"func": "Pull data from the Google Ads API.", "long_descr": "Native protobuf message instances are returned (those seen in versions\nprior to 10.0.0 of the google-ads library).\n\nThis method is for backwards compatibility with older versions of the\ngoogle_ads_hook.\n\nCheck out the search_proto_plus method to get API results in the new\ndefault format of the google-ads library since v10.0.0 that behave\nmore like conventional python object (using proto-plus-python).", "ret": "Google Ads API response, converted to Google Ads Row objects."}, "fn_lc": [[87, 4], [110, 29]], "fn_var_ln": {"data_native_pb": [[108, 8], [108, 22]], "data_proto_plus": [[107, 8], [107, 23]]}, "fn_var_occur": {"data_native_pb": [["data_native_pb", "row", "_pb", "row", "data_proto_plus"]], "data_proto_plus": [["data_proto_plus", "self", "_search", "client_ids", "query", "page_size", "kwargs"], ["data_native_pb", "row", "_pb", "row", "data_proto_plus"]]}, "name": "search", "params": {"client_ids": "builtins.list[builtins.str]", "kwargs": "", "page_size": "builtins.int", "query": "builtins.str", "self": ""}, "params_descr": {"client_ids": "Google Ads client ID(s) to query the API for.", "kwargs": "", "page_size": "Number of results to return per page. Max 10000.", "query": "Google Ads Query Language query.", "self": ""}, "params_occur": {"client_ids": [["data_proto_plus", "self", "_search", "client_ids", "query", "page_size", "kwargs"]], "kwargs": [["data_proto_plus", "self", "_search", "client_ids", "query", "page_size", "kwargs"]], "page_size": [["data_proto_plus", "self", "_search", "client_ids", "query", "page_size", "kwargs"]], "query": [["data_proto_plus", "self", "_search", "client_ids", "query", "page_size", "kwargs"]], "self": [["data_proto_plus", "self", "_search", "client_ids", "query", "page_size", "kwargs"]]}, "params_p": {"args": [], "client_ids": [["int", 0.9047673544128643], ["List[int]", 0.09523264558713607]], "kwargs": [], "page_size": [["int", 0.9047673544128643], ["List[int]", 0.09523264558713607]], "query": [["int", 0.9047673544128643], ["List[int]", 0.09523264558713607]], "self": []}, "q_name": "GoogleAdsHook.search", "ret_exprs": ["return data_native_pb"], "ret_type": "builtins.list[google.ads.googleads.v14.services.types.google_ads_service.GoogleAdsRow]", "ret_type_p": [["dict", 0.25522859784854734], ["Dict[str, Any]", 0.14156924717591374], ["str", 0.12150228389032805], ["Callable", 0.11496440589776832], ["Callable[[str], T]", 0.09025045878230988]], "variables": {"data_native_pb": "", "data_proto_plus": ""}, "variables_p": {"data_native_pb": [["str", 0.30000000000000004], ["Tuple[str]", 0.1], ["List[int]", 0.1], ["List[str]", 0.1], ["List[Tuple[float, float]]", 0.1], ["bool", 0.1], ["List[List[int]]", 0.1], ["list", 0.1]], "data_proto_plus": [["dict", 0.412555360499237], ["List[Tuple[Any, Any, Any, Any, str]]", 0.1577570175185657], ["Dict[str, Any]", 0.08369791043181309], ["Dict[str, int]", 0.08359963127388964], ["List[tuple]", 0.07887850875928284]]}}, {"docstring": {"func": "Pull data from the Google Ads API.", "long_descr": "Instances of proto-plus-python message are returned, which behave more\nlike conventional Python objects.", "ret": "Google Ads API response, converted to Google Ads Row objects"}, "fn_lc": [[112, 4], [125, 67]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "search_proto_plus", "params": {"client_ids": "builtins.list[builtins.str]", "kwargs": "", "page_size": "builtins.int", "query": "builtins.str", "self": ""}, "params_descr": {"client_ids": "Google Ads client ID(s) to query the API for.", "kwargs": "", "page_size": "Number of results to return per page. Max 10000.", "query": "Google Ads Query Language query.", "self": ""}, "params_occur": {"client_ids": [["self", "_search", "client_ids", "query", "page_size", "kwargs"]], "kwargs": [["self", "_search", "client_ids", "query", "page_size", "kwargs"]], "page_size": [["self", "_search", "client_ids", "query", "page_size", "kwargs"]], "query": [["self", "_search", "client_ids", "query", "page_size", "kwargs"]], "self": [["self", "_search", "client_ids", "query", "page_size", "kwargs"]]}, "params_p": {"args": [], "client_ids": [["int", 1.0]], "kwargs": [], "page_size": [["int", 1.0]], "query": [["int", 1.0]], "self": []}, "q_name": "GoogleAdsHook.search_proto_plus", "ret_exprs": ["return self._search(client_ids, query, page_size, **kwargs)"], "ret_type": "builtins.list[google.ads.googleads.v14.services.types.google_ads_service.GoogleAdsRow]", "ret_type_p": [["Callable[[], str]", 0.09503117175724936], ["bool", 0.09198610255265789]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "List resource names of customers.", "long_descr": "The resulting list of customers is based on your OAuth credentials. The\nrequest returns a list of all accounts that you are able to act upon\ndirectly given your current credentials. This will not necessarily\ninclude all accounts within the account hierarchy; rather, it will only\ninclude accounts where your authenticated user has been added with admin\nor other rights in the account.\n\n..seealso::\n    https://developers.google.com/google-ads/api/reference/rpc", "ret": "List of names of customers"}, "fn_lc": [[127, 4], [151, 17]], "fn_var_ln": {"accessible_customers": [[143, 12], [143, 32]]}, "fn_var_occur": {"accessible_customers": [["accessible_customers", "self", "_get_customer_service", "list_accessible_customers"], ["accessible_customers", "resource_names"]]}, "name": "list_accessible_customers", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["accessible_customers", "self", "_get_customer_service", "list_accessible_customers"], ["self", "log", "error", "error", "message"], ["self", "log", "error", "field_path_element", "field_name"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "GoogleAdsHook.list_accessible_customers", "ret_exprs": ["return accessible_customers.resource_names"], "ret_type": "builtins.list[builtins.str]", "ret_type_p": [["str", 0.5075524410537003], ["bool", 0.20840367559500836], ["tuple", 0.09468129445043043], ["List[str]", 0.09468129445043043]], "variables": {"accessible_customers": ""}, "variables_p": {"accessible_customers": [["Dict[str, str]", 0.4382003553544166], ["int", 0.18943222621724007], ["str", 0.1700954736112221], ["list", 0.11573001370587814]]}}, {"docstring": {"func": "Connect and authenticate with the Google Ads API using a service account.", "long_descr": null, "ret": null}, "fn_lc": [[154, 4], [157, 79]], "fn_var_ln": {"client": [[156, 8], [156, 14]]}, "fn_var_occur": {"client": [["client", "self", "_get_client"], ["client", "get_service", "version", "self", "api_version"]]}, "name": "_get_service", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["client", "self", "_get_client"], ["client", "get_service", "version", "self", "api_version"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "GoogleAdsHook._get_service", "ret_exprs": ["return client.get_service(\"GoogleAdsService\", version=self.api_version)"], "ret_type": "google.ads.googleads.v14.services.services.google_ads_service.GoogleAdsServiceClient", "ret_type_p": [["bool", 0.14921506699099593], ["dict", 0.10888449580976872], ["str", 0.10888449580976872], ["Callable", 0.08796272605193206]], "variables": {"client": ""}, "variables_p": {"client": [["str", 0.46483400558114085], ["Union[Literal, str]", 0.2510778769652795]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[160, 4], [169, 21]], "fn_var_ln": {"client": [[165, 16], [165, 22]]}, "fn_var_occur": {"client": [["client", "GoogleAdsClient", "load_from_dict", "self", "google_ads_config"]]}, "name": "_get_client", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "_get_config"], ["self", "_update_config_with_secret", "secrets_temp"], ["client", "GoogleAdsClient", "load_from_dict", "self", "google_ads_config"], ["self", "log", "error", "e"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "GoogleAdsHook._get_client", "ret_exprs": ["return client"], "ret_type": "google.ads.googleads.client.GoogleAdsClient", "ret_type_p": [["Callable", 0.09156217299527693]], "variables": {"client": ""}, "variables_p": {"client": [["Dict[str, Union[int, str]]", 0.09210416870749048]]}}, {"docstring": {"func": "Connect and authenticate with the Google Ads API using a service account.", "long_descr": null, "ret": null}, "fn_lc": [[172, 4], [182, 21]], "fn_var_ln": {"client": [[178, 16], [178, 22]]}, "fn_var_occur": {"client": [["client", "GoogleAdsClient", "load_from_dict", "self", "google_ads_config"], ["client", "get_service", "version", "self", "api_version"]]}, "name": "_get_customer_service", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "_get_config"], ["self", "_update_config_with_secret", "secrets_temp"], ["client", "GoogleAdsClient", "load_from_dict", "self", "google_ads_config"], ["client", "get_service", "version", "self", "api_version"], ["self", "log", "error", "e"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "GoogleAdsHook._get_customer_service", "ret_exprs": ["return client.get_service(\"CustomerService\", version=self.api_version)"], "ret_type": "google.ads.googleads.v14.services.services.customer_service.CustomerServiceClient", "ret_type_p": [["str", 0.2852466233330308], ["dict", 0.20822717682790448], ["bool", 0.15295007735645438], ["List[Tuple[str, str]]", 0.08474381040050695]], "variables": {"client": ""}, "variables_p": {"client": []}}, {"docstring": {"func": "Set up Google Ads config from Connection.", "long_descr": "This pulls the connections from db, and uses it to set up\n``google_ads_config``.", "ret": null}, "fn_lc": [[184, 4], [194, 71]], "fn_var_ln": {"conn": [[190, 8], [190, 12]], "google_ads_config": [[194, 8], [194, 30]]}, "fn_var_occur": {"conn": [["conn", "self", "get_connection", "self", "google_ads_conn_id"], ["conn", "extra_dejson"], ["self", "google_ads_config", "conn", "extra_dejson"]], "google_ads_config": [["self", "google_ads_config", "conn", "extra_dejson"]]}, "name": "_get_config", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["conn", "self", "get_connection", "self", "google_ads_conn_id"], ["self", "google_ads_config", "conn", "extra_dejson"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "GoogleAdsHook._get_config", "ret_exprs": [], "ret_type": "None", "variables": {"conn": "", "google_ads_config": ""}, "variables_p": {"conn": [["Dict[int, Any]", 0.2301492586341287], ["float", 0.17779106997077984], ["bytearray", 0.09728725376064759], ["set", 0.09360434564160595], ["int", 0.0914760352571041]], "google_ads_config": [["str", 0.24189219394078615], ["Dict[str, Union[Any, Any, Any, Any]]", 0.18034132171843426], ["Set[str]", 0.10521503102298173], ["Dict[Any, str]", 0.1049593703308536], ["dict", 0.1049593703308536], ["Dict[Any, Union[int, str]]", 0.08916546914603068]]}}, {"docstring": {"func": "Set up Google Cloud config secret from Connection.", "long_descr": "This pulls the connection, saves the contents to a temp file, and point\nthe config to the path containing the secret. Note that the secret must\nbe passed as a file path for Google Ads API.", "ret": null}, "fn_lc": [[196, 4], [210, 72]], "fn_var_ln": {"extras": [[203, 8], [203, 14]], "secret": [[204, 8], [204, 14]]}, "fn_var_occur": {"extras": [["extras", "self", "get_connection", "self", "gcp_conn_id", "extra_dejson"], ["secret", "get_field", "extras"]], "secret": [["secret", "get_field", "extras"], ["secrets_temp", "write", "secret"]]}, "name": "_update_config_with_secret", "params": {"secrets_temp": "typing.IO[builtins.str]", "self": ""}, "params_descr": {"secrets_temp": "", "self": ""}, "params_occur": {"secrets_temp": [["secrets_temp", "write", "secret"], ["secrets_temp", "flush"], ["self", "google_ads_config", "secrets_temp", "name"]], "self": [["extras", "self", "get_connection", "self", "gcp_conn_id", "extra_dejson"], ["self", "google_ads_config", "secrets_temp", "name"]]}, "params_p": {"args": [], "kwargs": [], "secrets_temp": [["str", 0.40204878013703543], ["Mapping[str, str]", 0.12101211539487547], ["int", 0.12101211539487547], ["IO[bytes]", 0.09512900151444074], ["dict", 0.08964510969296906], ["bytes", 0.0863723821733644], ["Dict[str, Dict[Any, int]]", 0.0847804956924395]], "self": []}, "q_name": "GoogleAdsHook._update_config_with_secret", "ret_exprs": [], "ret_type": "None", "variables": {"extras": "", "secret": ""}, "variables_p": {"extras": [["dict", 0.20142840204941503], ["DefaultDict[Any, dict]", 0.19553781519904864], ["int", 0.09263729348670925]], "secret": [["str", 0.4932604011594851]]}}, {"docstring": {"func": "Pull data from the Google Ads API.", "long_descr": null, "ret": "Google Ads API response, converted to Google Ads Row objects"}, "fn_lc": [[212, 4], [232, 44]], "fn_var_ln": {"iterator": [[227, 12], [227, 20]], "iterators": [[225, 8], [225, 17]], "service": [[223, 8], [223, 15]]}, "fn_var_occur": {"iterator": [["iterator", "service", "search", "request", "dict", "customer_id", "client_id", "query", "query", "page_size", "page_size"], ["iterators", "append", "iterator"]], "iterators": [["iterators", "append", "iterator"], ["self", "_extract_rows", "iterators"]], "service": [["service", "self", "_get_service"], ["iterator", "service", "search", "request", "dict", "customer_id", "client_id", "query", "query", "page_size", "page_size"]]}, "name": "_search", "params": {"client_ids": "builtins.list[builtins.str]", "kwargs": "", "page_size": "builtins.int", "query": "builtins.str", "self": ""}, "params_descr": {"client_ids": "Google Ads client ID(s) to query the API for.", "kwargs": "", "page_size": "Number of results to return per page. Max 10000.", "query": "Google Ads Query Language query.", "self": ""}, "params_occur": {"client_ids": [], "kwargs": [], "page_size": [["iterator", "service", "search", "request", "dict", "customer_id", "client_id", "query", "query", "page_size", "page_size"]], "query": [["iterator", "service", "search", "request", "dict", "customer_id", "client_id", "query", "query", "page_size", "page_size"]], "self": [["service", "self", "_get_service"], ["self", "log", "info"], ["self", "_extract_rows", "iterators"]]}, "params_p": {"args": [], "client_ids": [["bool", 0.45818922189993117], ["str", 0.1853827727715106], ["dict", 0.12889784071036925], ["int", 0.12889784071036925]], "kwargs": [], "page_size": [["Set[int]", 0.22410362411907989], ["str", 0.21596797198952883], ["Optional[str]", 0.10798398599476441], ["int", 0.0893281690615663]], "query": [["Set[int]", 0.22410362411907989], ["str", 0.21596797198952883], ["Optional[str]", 0.10798398599476441], ["int", 0.0893281690615663]], "self": []}, "q_name": "GoogleAdsHook._search", "ret_exprs": ["return self._extract_rows(iterators)"], "ret_type": "builtins.list[google.ads.googleads.v14.services.types.google_ads_service.GoogleAdsRow]", "ret_type_p": [["int", 0.3069778203588641], ["bool", 0.1937207708849134]], "variables": {"iterator": "", "iterators": "", "service": ""}, "variables_p": {"iterator": [["int", 0.17286230454029428], ["defaultdict", 0.09320062859697822], ["List[float]", 0.09309172534521244], ["List[int]", 0.08600440830146773]], "iterators": [["list", 0.49617907969057173], ["Pattern[str]", 0.12996380140539435], ["List[int]", 0.11669728280176936], ["DefaultDict[Any, List[Any]]", 0.08918423533505192]], "service": [["int", 0.4748044446752928], ["defaultdict", 0.09009554516411881], ["dict", 0.0796819872001369]]}}, {"docstring": {"func": "Convert Google Page Iterator (GRPCIterator) objects to Google Ads Rows.", "long_descr": null, "ret": "API response for all clients in the form of Google Ads Row object(s)"}, "fn_lc": [[234, 4], [254, 17]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_extract_rows", "params": {"iterators": "builtins.list[google.api_core.page_iterator.GRPCIterator]", "self": ""}, "params_descr": {"iterators": "List of Google Page Iterator (GRPCIterator) objects", "self": ""}, "params_occur": {"iterators": [["row", "iterator", "iterators", "row", "iterator"]], "self": [["self", "log", "info"], ["self", "log", "error", "e", "request_id", "e", "error", "code", "name"], ["self", "log", "error", "error", "message"], ["self", "log", "error", "field_path_element", "field_name"]]}, "params_p": {"args": [], "iterators": [["Tuple[int, int]", 0.6675078301062728], ["str", 0.07394036450502195], ["Sequence[str]", 0.0396354912232339], ["float", 0.036629393551219275], ["bool", 0.03467579742967995]], "kwargs": [], "self": []}, "q_name": "GoogleAdsHook._extract_rows", "ret_exprs": ["return [row for iterator in iterators for row in iterator]"], "ret_type": "builtins.list[google.ads.googleads.v14.services.types.google_ads_service.GoogleAdsRow]", "ret_type_p": [["List[int]", 0.25429621184045315], ["list", 0.18779147799216553], ["Optional[int]", 0.08487837505347792], ["List[float]", 0.07237987768770103]], "variables": {}, "variables_p": {}}], "name": "GoogleAdsHook", "q_name": "GoogleAdsHook", "variables": {"default_api_version": ""}, "variables_p": {"default_api_version": [["int", 0.400000000087011], ["str", 0.3999999998166762], ["float", 0.1999999999083381]]}}], "funcs": [], "imports": ["__future__", "annotations", "functools", "cached_property", "tempfile", "NamedTemporaryFile", "typing", "IO", "Any", "google", "ads", "googleads", "client", "GoogleAdsClient", "google", "ads", "googleads", "errors", "GoogleAdsException", "google", "ads", "googleads", "v14", "services", "services", "customer_service", "CustomerServiceClient", "google", "ads", "googleads", "v14", "services", "services", "google_ads_service", "GoogleAdsServiceClient", "google", "ads", "googleads", "v14", "services", "types", "google_ads_service", "GoogleAdsRow", "google", "api_core", "page_iterator", "GRPCIterator", "google", "auth", "exceptions", "GoogleAuthError", "airflow", "AirflowException", "airflow", "hooks", "base", "BaseHook", "airflow", "providers", "google", "common", "hooks", "base_google", "get_field"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 23, "I": 0, "U": 20}, "session_id": "aWs0hTcljlSdYaJeAyBMKlKKDt9pSZShR5vZK-qm7AU", "set": null, "tc": [false, null], "type_annot_cove": 0.53, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}