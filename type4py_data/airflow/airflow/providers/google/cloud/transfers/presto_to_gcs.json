{"error": null, "response": {"classes": [{"cls_lc": [[29, 0], [143, 19]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[44, 4], [47, 47]], "fn_var_ln": {"cursor": [[45, 8], [45, 19]], "initialized": [[47, 8], [47, 24]], "rows": [[46, 8], [46, 17]]}, "fn_var_occur": {"cursor": [["self", "cursor", "prestodb", "dbapi", "Cursor", "cursor"]], "initialized": [["self", "initialized", "builtins", "bool", "False"]], "rows": [["self", "rows", "builtins", "list", "typing", "Any"]]}, "name": "__init__", "params": {"cursor": "prestodb.dbapi.Cursor", "self": ""}, "params_descr": {"cursor": "", "self": ""}, "params_occur": {"cursor": [["self", "cursor", "prestodb", "dbapi", "Cursor", "cursor"]], "self": [["self", "cursor", "prestodb", "dbapi", "Cursor", "cursor"], ["self", "rows", "builtins", "list", "typing", "Any"], ["self", "initialized", "builtins", "bool", "False"]]}, "params_p": {"args": [], "cursor": [["int", 0.3], ["bool", 0.09999999999999999], ["float", 0.09999999999999999]], "kwargs": [], "self": []}, "q_name": "_PrestoToGCSPrestoCursorAdapter.__init__", "ret_exprs": [], "ret_type": "", "variables": {"cursor": "prestodb.dbapi.Cursor", "initialized": "builtins.bool", "rows": "builtins.list[typing.Any]"}, "variables_p": {"cursor": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]], "initialized": [["bool", 0.9999999999999999]], "rows": [["List[list]", 0.2756984114801464], ["List[T]", 0.18651593070111477], ["List[\"SqlFile\"]", 0.1709335021329814], ["List[bytearray]", 0.16783741610174305]]}}, {"docstring": {"func": "This read-only attribute is a sequence of 7-item sequences.", "long_descr": "Each of these sequences contains information describing one result column:\n\n* ``name``\n* ``type_code``\n* ``display_size``\n* ``internal_size``\n* ``precision``\n* ``scale``\n* ``null_ok``\n\nThe first two items (``name`` and ``type_code``) are mandatory, the other\nfive are optional and are set to None if no meaningful values can be provided.", "ret": null}, "fn_lc": [[50, 4], [70, 38]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "description", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "initialized"], ["self", "peekone"], ["self", "cursor", "description"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "_PrestoToGCSPrestoCursorAdapter.description", "ret_exprs": ["return self.cursor.description"], "ret_type": "builtins.list[builtins.tuple]", "ret_type_p": [["bool", 0.28729301727287565], ["int", 0.17043015436054632], ["str", 0.15485490183895723]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "The read-only attribute specifies the number of rows.", "long_descr": null, "ret": null}, "fn_lc": [[73, 4], [75, 35]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "rowcount", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cursor", "rowcount"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "_PrestoToGCSPrestoCursorAdapter.rowcount", "ret_exprs": ["return self.cursor.rowcount"], "ret_type": "builtins.int", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["str", 0.1]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Close the cursor now.", "long_descr": null, "ret": null}, "fn_lc": [[77, 4], [79, 27]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "close", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "cursor", "close"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "_PrestoToGCSPrestoCursorAdapter.close", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Prepare and execute a database operation (query or command).", "long_descr": null, "ret": null}, "fn_lc": [[81, 4], [85, 51]], "fn_var_ln": {"initialized": [[83, 8], [83, 24]], "rows": [[84, 8], [84, 17]]}, "fn_var_occur": {"initialized": [["self", "initialized", "False"]], "rows": [["self", "rows"]]}, "name": "execute", "params": {"args": "", "kwargs": "", "self": ""}, "params_descr": {"args": "", "kwargs": "", "self": ""}, "params_occur": {"args": [["self", "cursor", "execute", "args", "kwargs"]], "kwargs": [["self", "cursor", "execute", "args", "kwargs"]], "self": [["self", "initialized", "False"], ["self", "rows"], ["self", "cursor", "execute", "args", "kwargs"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "_PrestoToGCSPrestoCursorAdapter.execute", "ret_exprs": ["return self.cursor.execute(*args, **kwargs)"], "ret_type": "prestodb.client.PrestoResult", "ret_type_p": [["List[List[str]]", 0.06369192721794927]], "variables": {"initialized": "", "rows": ""}, "variables_p": {"initialized": [["int", 0.6258564750569569], ["float", 0.1953714877468058]], "rows": [["List[str]", 4.6225720831502505e-11], ["float", 4.436233715006637e-11], ["int", 3.327178269945953e-11], ["\"Point\"", 2.1217797438964094e-11], ["str", 1.8996202213563427e-11]]}}, {"docstring": {"func": "Prepare a database operation (query or command) and then execute it against all parameter", "long_descr": "sequences or mappings found in the sequence seq_of_parameters.", "ret": null}, "fn_lc": [[87, 4], [94, 55]], "fn_var_ln": {"initialized": [[92, 8], [92, 24]], "rows": [[93, 8], [93, 17]]}, "fn_var_occur": {"initialized": [["self", "initialized", "False"]], "rows": [["self", "rows"]]}, "name": "executemany", "params": {"args": "", "kwargs": "", "self": ""}, "params_descr": {"args": "", "kwargs": "", "self": ""}, "params_occur": {"args": [["self", "cursor", "executemany", "args", "kwargs"]], "kwargs": [["self", "cursor", "executemany", "args", "kwargs"]], "self": [["self", "initialized", "False"], ["self", "rows"], ["self", "cursor", "executemany", "args", "kwargs"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "_PrestoToGCSPrestoCursorAdapter.executemany", "ret_exprs": ["return self.cursor.executemany(*args, **kwargs)"], "ret_type": "", "ret_type_p": [["List[List[str]]", 0.06369192721794927]], "variables": {"initialized": "", "rows": ""}, "variables_p": {"initialized": [["int", 0.6258564750569569], ["float", 0.1953714877468058]], "rows": [["List[str]", 4.6225720831502505e-11], ["float", 4.436233715006637e-11], ["int", 3.327178269945953e-11], ["\"Point\"", 2.1217797438964094e-11], ["str", 1.8996202213563427e-11]]}}, {"docstring": {"func": "Return the next row without consuming it.", "long_descr": null, "ret": null}, "fn_lc": [[96, 4], [101, 22]], "fn_var_ln": {"element": [[99, 8], [99, 15]], "initialized": [[98, 8], [98, 24]]}, "fn_var_occur": {"element": [["element", "self", "cursor", "fetchone"], ["self", "rows", "insert", "element"]], "initialized": [["self", "initialized", "True"]]}, "name": "peekone", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "initialized", "True"], ["element", "self", "cursor", "fetchone"], ["self", "rows", "insert", "element"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "_PrestoToGCSPrestoCursorAdapter.peekone", "ret_exprs": ["return element"], "ret_type": "typing.Any", "ret_type_p": [["str", 0.11623850514224553], ["Iterable[str]", 0.1064906920192953], ["Dict[str, Any]", 0.09701705116233893], ["dict", 0.09405497744022481], ["List[str]", 0.09263117554176631]], "variables": {"element": "", "initialized": ""}, "variables_p": {"element": [["str", 0.3970229844985256], ["int", 0.31261123595002294], ["Tuple[str, str, str]", 0.10300776664205263], ["List[str]", 0.09873849814225823], ["Final", 0.08861951476714053]], "initialized": [["str", 0.7702907856156962], ["bool", 0.15357069239239746]]}}, {"docstring": {"func": "Fetch the next row of a query result set, returning a single sequence, or", "long_descr": "``None`` when no more data is available.", "ret": null}, "fn_lc": [[103, 4], [110, 37]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "fetchone", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "rows"], ["self", "rows", "pop"], ["self", "cursor", "fetchone"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "_PrestoToGCSPrestoCursorAdapter.fetchone", "ret_exprs": ["return self.rows.pop(0)", "return self.cursor.fetchone()"], "ret_type": "typing.Any", "ret_type_p": [["Tuple[int, int]", 0.23507628086387827], ["float", 0.1062388548311885], ["bool", 0.10595641083070122], ["int", 0.08012237045411395]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Fetch the next set of rows of a query result, returning a sequence of sequences", "long_descr": "(e.g. a list of tuples). An empty sequence is returned when no more rows are available.", "ret": null}, "fn_lc": [[112, 4], [127, 21]], "fn_var_ln": {"result": [[120, 8], [120, 14]], "row": [[122, 12], [122, 15]], "size": [[118, 12], [118, 16]]}, "fn_var_occur": {"result": [["result", "append", "row"]], "row": [["row", "self", "fetchone"], ["row", "None"], ["result", "append", "row"]], "size": [["size", "None"], ["size", "self", "cursor", "arraysize"], ["range", "size"]]}, "name": "fetchmany", "params": {"self": "", "size": ""}, "params_descr": {"self": "", "size": ""}, "params_occur": {"self": [["size", "self", "cursor", "arraysize"], ["row", "self", "fetchone"]], "size": [["size", "None"], ["size", "self", "cursor", "arraysize"], ["range", "size"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "size": [["Optional[int]", 0.3980378804335716], ["int", 0.33423275226704163], ["Optional[str]", 0.07128925527188681], ["Optional[float]", 0.07059291620383247]]}, "q_name": "_PrestoToGCSPrestoCursorAdapter.fetchmany", "ret_exprs": ["return result"], "ret_type": "builtins.list", "ret_type_p": [["bool", 0.16408864410171026], ["Optional[Union[str, Any]]", 0.08753798278800795]], "variables": {"result": "", "row": "", "size": ""}, "variables_p": {"result": [["list", 0.666666666648512], ["str", 2.0908523957955214e-11], ["Dict[str, Any]", 4.628913987374009e-12], ["List[str]", 3.704937597441627e-12]], "row": [["Sequence[Any]", 0.18132353832169637], ["defaultdict", 0.12198968379025212], ["dict", 0.09414701926441622], ["list", 0.09129120958446703]], "size": [["int", 0.4954117777149044], ["List[None]", 0.1717810916107769], ["List[str]", 0.1710295531460078], ["Optional[int]", 0.075312776129209]]}}, {"docstring": {"func": "Return the next row from the currently executing SQL statement using the same semantics as", "long_descr": "``.fetchone()``.\n\nA ``StopIteration`` exception is raised when the result set is exhausted.", "ret": null}, "fn_lc": [[129, 4], [139, 21]], "fn_var_ln": {"result": [[136, 8], [136, 14]]}, "fn_var_occur": {"result": [["result", "self", "fetchone"], ["result", "None"]]}, "name": "__next__", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["result", "self", "fetchone"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "_PrestoToGCSPrestoCursorAdapter.__next__", "ret_exprs": ["return result"], "ret_type": "typing.Any", "ret_type_p": [["bool", 0.16408864410171026], ["Optional[Union[str, Any]]", 0.08753798278800795]], "variables": {"result": ""}, "variables_p": {"result": []}}, {"docstring": {"func": "Return self to make cursors compatible to the iteration protocol.", "long_descr": null, "ret": null}, "fn_lc": [[141, 4], [143, 19]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "__iter__", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "_PrestoToGCSPrestoCursorAdapter.__iter__", "ret_exprs": ["return self"], "ret_type": "_PrestoToGCSPrestoCursorAdapter", "ret_type_p": [["int", 6.496596076798185e-09], ["Iterable[str]", 1.299319215359637e-09], ["float", 1.299319215359637e-09]], "variables": {}, "variables_p": {}}], "name": "_PrestoToGCSPrestoCursorAdapter", "q_name": "_PrestoToGCSPrestoCursorAdapter", "variables": {}, "variables_p": {}}, {"cls_lc": [[146, 0], [208, 20]], "cls_var_ln": {"type_map": [[154, 4], [154, 12]], "ui_color": [[152, 4], [152, 12]]}, "cls_var_occur": {"type_map": [], "ui_color": []}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[179, 4], [181, 44]], "fn_var_ln": {"presto_conn_id": [[181, 8], [181, 27]]}, "fn_var_occur": {"presto_conn_id": [["self", "presto_conn_id", "presto_conn_id"]]}, "name": "__init__", "params": {"kwargs": "", "presto_conn_id": "builtins.str", "self": ""}, "params_descr": {"kwargs": "", "presto_conn_id": "", "self": ""}, "params_occur": {"kwargs": [["super", "__init__", "kwargs"]], "presto_conn_id": [["self", "presto_conn_id", "presto_conn_id"]], "self": [["self", "presto_conn_id", "presto_conn_id"]]}, "params_p": {"args": [], "kwargs": [], "presto_conn_id": [["str", 0.45173349584843514], ["Set[str]", 0.08425011149930985], ["dict", 0.07364387847721879]], "self": []}, "q_name": "PrestoToGCSOperator.__init__", "ret_exprs": [], "ret_type": "", "variables": {"presto_conn_id": ""}, "variables_p": {"presto_conn_id": [["int", 0.5314096773347922], ["str", 0.0976297101878023]]}}, {"docstring": {"func": "Queries presto and returns a cursor to the results.", "long_descr": null, "ret": null}, "fn_lc": [[183, 4], [190, 54]], "fn_var_ln": {"conn": [[186, 8], [186, 12]], "cursor": [[187, 8], [187, 14]], "presto": [[185, 8], [185, 14]]}, "fn_var_occur": {"conn": [["conn", "presto", "get_conn"], ["cursor", "conn", "cursor"]], "cursor": [["cursor", "conn", "cursor"], ["cursor", "execute", "self", "sql"], ["_PrestoToGCSPrestoCursorAdapter", "cursor"]], "presto": [["presto", "PrestoHook", "presto_conn_id", "self", "presto_conn_id"], ["conn", "presto", "get_conn"]]}, "name": "query", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["presto", "PrestoHook", "presto_conn_id", "self", "presto_conn_id"], ["self", "log", "info", "self", "sql"], ["cursor", "execute", "self", "sql"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "PrestoToGCSOperator.query", "ret_exprs": ["return _PrestoToGCSPrestoCursorAdapter(cursor)"], "ret_type": "", "ret_type_p": [["Dict[str, Any]", 0.17196393879792266], ["str", 0.10413672175229083], ["bool", 0.09557969706791168]], "variables": {"conn": "", "cursor": "", "presto": ""}, "variables_p": {"conn": [["Dict[str, int]", 0.9999999998054235], ["list", 2.668682299364027e-11], ["Tuple[Literal, Literal, Literal]", 2.5973179132715253e-11]], "cursor": [["List[str]", 0.6]], "presto": [["dict", 0.2351502245983807], ["List[tuple]", 0.11878538430824558]]}}, {"docstring": {"func": "Convert presto field type to BigQuery field type.", "long_descr": null, "ret": null}, "fn_lc": [[192, 4], [199, 57]], "fn_var_ln": {"_": [[196, 29], [196, 30]], "clear_field_type": [[196, 8], [196, 24]], "new_field_type": [[197, 8], [197, 22]]}, "fn_var_occur": {"_": [["clear_field_type", "_", "_", "clear_field_type", "partition"]], "clear_field_type": [["clear_field_type", "field", "upper"], ["clear_field_type", "_", "_", "clear_field_type", "partition"], ["new_field_type", "self", "type_map", "get", "clear_field_type"]], "new_field_type": [["new_field_type", "self", "type_map", "get", "clear_field_type"], ["field", "new_field_type"]]}, "name": "field_to_bigquery", "params": {"field": "", "self": ""}, "params_descr": {"field": "", "self": ""}, "params_occur": {"field": [["clear_field_type", "field", "upper"], ["field", "new_field_type"]], "self": [["new_field_type", "self", "type_map", "get", "clear_field_type"]]}, "params_p": {"args": [], "field": [["Optional[str]", 0.18559845121805046], ["str", 0.14491454592550948]], "kwargs": [], "self": []}, "q_name": "PrestoToGCSOperator.field_to_bigquery", "ret_exprs": ["return {\"name\": field[0], \"type\": new_field_type}"], "ret_type": "builtins.dict[builtins.str, builtins.str]", "ret_type_p": [["bool", 0.1047224151802952], ["Mapping", 0.09752646326923531]], "variables": {"_": "", "clear_field_type": "", "new_field_type": ""}, "variables_p": {"_": [["tuple", 0.3347759062951065], ["int", 0.24236287728270872], ["Type[Dict[str, Any]]", 0.08822885147925177], ["property", 0.08597179802937704], ["frozenset[str]", 0.08463971751225843], ["str", 0.08313443345952215], ["List[str]", 0.08088641594177526]], "clear_field_type": [["Type[Generator[Any, None, None]]", 0.894497370145549]], "new_field_type": [["Dict[str, Any]", 0.31579925307271506], ["Tuple[Type[str]]", 0.3133368939930858], ["dict", 0.258912059879344]]}}, {"docstring": {"func": "Do nothing. Presto uses JSON on the transport layer, so types are simple.", "long_descr": null, "ret": null}, "fn_lc": [[201, 4], [208, 20]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "convert_type", "params": {"kwargs": "", "schema_type": "", "self": "", "value": ""}, "params_descr": {"kwargs": "", "schema_type": "BigQuery data type", "self": "", "value": "Presto column value"}, "params_occur": {"kwargs": [], "schema_type": [], "self": [], "value": []}, "params_p": {"args": [], "kwargs": [], "schema_type": [["list", 0.11746945334265556], ["bool", 0.11200896734733069], ["Tuple[int]", 0.09719534945926772], ["str", 0.08899755053236369]], "self": [], "value": [["list", 0.11746945334265556], ["bool", 0.11200896734733069], ["Tuple[int]", 0.09719534945926772], ["str", 0.08899755053236369]]}, "q_name": "PrestoToGCSOperator.convert_type", "ret_exprs": ["return value"], "ret_type": "", "ret_type_p": [["str", 0.6549193948638246], ["list", 0.1350253152022894], ["T", 0.12289067335049476], ["Type", 0.08716461658339143]], "variables": {}, "variables_p": {}}], "name": "PrestoToGCSOperator", "q_name": "PrestoToGCSOperator", "variables": {"type_map": "", "ui_color": ""}, "variables_p": {"type_map": [["str", 0.7999999999999999], ["int", 0.09999999999999999], ["property", 0.09999999999999999]], "ui_color": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}], "funcs": [], "imports": ["__future__", "annotations", "typing", "Any", "prestodb", "client", "PrestoResult", "prestodb", "dbapi", "Cursor", "PrestoCursor", "airflow", "providers", "google", "cloud", "transfers", "sql_to_gcs", "BaseSQLToGCSOperator", "airflow", "providers", "presto", "hooks", "presto", "PrestoHook"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 13, "I": 0, "U": 33}, "session_id": "Nn5W5qpJ1C3w9eyg2d702221cwEUMNUUipcA8Cp3kXk", "set": null, "tc": [false, null], "type_annot_cove": 0.28, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}