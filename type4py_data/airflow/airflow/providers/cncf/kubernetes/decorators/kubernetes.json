{"error": null, "response": {"classes": [{"cls_lc": [[59, 0], [140, 43]], "cls_var_ln": {"custom_operator_name": [[60, 4], [60, 24]], "shallow_copy_attrs": [[69, 4], [69, 22]], "template_fields": [[63, 4], [63, 19]]}, "cls_var_occur": {"custom_operator_name": [], "shallow_copy_attrs": [], "template_fields": []}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[71, 4], [78, 9]], "fn_var_ln": {"use_dill": [[72, 8], [72, 21]]}, "fn_var_occur": {"use_dill": [["self", "use_dill", "use_dill"]]}, "name": "__init__", "params": {"kwargs": "", "namespace": "builtins.str", "self": "", "use_dill": "builtins.bool"}, "params_descr": {"kwargs": "", "namespace": "", "self": "", "use_dill": ""}, "params_occur": {"kwargs": [["super", "__init__", "namespace", "namespace", "name", "kwargs", "pop", "uuid", "uuid4", "hex", "cmds", "kwargs"]], "namespace": [["super", "__init__", "namespace", "namespace", "name", "kwargs", "pop", "uuid", "uuid4", "hex", "cmds", "kwargs"]], "self": [["self", "use_dill", "use_dill"]], "use_dill": [["self", "use_dill", "use_dill"]]}, "params_p": {"args": [], "kwargs": [], "namespace": [["Tuple[int]", 0.1497245564293503], ["Optional[str]", 0.12316311954961369], ["str", 0.08944829204438573], ["IO", 0.0783278348075275], ["Optional[Dict[str, Any]]", 0.07439271829711941], ["int", 0.07346315222868319]], "self": [], "use_dill": [["bool", 0.7369737237687104], ["float", 0.2630262762312897]]}, "q_name": "_KubernetesDecoratedOperator.__init__", "ret_exprs": [], "ret_type": "None", "variables": {"use_dill": ""}, "variables_p": {"use_dill": [["str", 0.9095673578597367], ["Tuple[str]", 0.09043264214026342]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[81, 4], [85, 18]], "fn_var_ln": {"raw_source": [[82, 8], [82, 18]], "res": [[84, 8], [84, 11]]}, "fn_var_occur": {"raw_source": [["raw_source", "inspect", "getsource", "self", "python_callable"], ["res", "dedent", "raw_source"]], "res": [["res", "dedent", "raw_source"], ["res", "remove_task_decorator", "res", "self", "custom_operator_name"]]}, "name": "get_python_source", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["raw_source", "inspect", "getsource", "self", "python_callable"], ["res", "remove_task_decorator", "res", "self", "custom_operator_name"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "_KubernetesDecoratedOperator.get_python_source", "ret_exprs": ["return res"], "ret_type": "", "ret_type_p": [["str", 0.31107017524696967], ["bytes", 0.1941265021535168], ["bool", 0.18818801258968454], ["Dict[str, Any]", 0.08527591052012892]], "variables": {"raw_source": "", "res": ""}, "variables_p": {"raw_source": [["str", 0.5312116610613193], ["list", 0.09219480089178193]], "res": [["List[str]", 0.24430892592515246], ["List[Tuple[str, Any]]", 0.11367176576494309], ["Pattern[str]", 0.08991460002148063], ["str", 0.08453543485450699], ["Type[Callable[..., None]]", 0.08411946234865543]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[87, 4], [111, 9]], "fn_var_ln": {"exec_python_cmd": [[99, 8], [99, 23]], "input_filename": [[89, 8], [89, 22]], "make_xcom_dir_cmd": [[98, 8], [98, 25]], "output_filename": [[90, 8], [90, 23]], "script_filename": [[88, 8], [88, 23]], "write_local_input_file_cmd": [[95, 8], [95, 34]], "write_local_script_file_cmd": [[92, 8], [92, 35]]}, "fn_var_occur": {"exec_python_cmd": [["exec_python_cmd", "script_filename", "input_filename", "output_filename"], ["join", "write_local_script_file_cmd", "write_local_input_file_cmd", "make_xcom_dir_cmd", "exec_python_cmd"]], "input_filename": [["write_local_input_file_cmd", "_generate_decoded_command", "quote", "_PYTHON_INPUT_ENV", "quote", "input_filename"], ["exec_python_cmd", "script_filename", "input_filename", "output_filename"]], "make_xcom_dir_cmd": [["join", "write_local_script_file_cmd", "write_local_input_file_cmd", "make_xcom_dir_cmd", "exec_python_cmd"]], "output_filename": [["exec_python_cmd", "script_filename", "input_filename", "output_filename"]], "script_filename": [["write_local_script_file_cmd", "_generate_decoded_command", "quote", "_PYTHON_SCRIPT_ENV", "quote", "script_filename"], ["exec_python_cmd", "script_filename", "input_filename", "output_filename"]], "write_local_input_file_cmd": [["write_local_input_file_cmd", "_generate_decoded_command", "quote", "_PYTHON_INPUT_ENV", "quote", "input_filename"], ["join", "write_local_script_file_cmd", "write_local_input_file_cmd", "make_xcom_dir_cmd", "exec_python_cmd"]], "write_local_script_file_cmd": [["write_local_script_file_cmd", "_generate_decoded_command", "quote", "_PYTHON_SCRIPT_ENV", "quote", "script_filename"], ["join", "write_local_script_file_cmd", "write_local_input_file_cmd", "make_xcom_dir_cmd", "exec_python_cmd"]]}, "name": "_generate_cmds", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "_KubernetesDecoratedOperator._generate_cmds", "ret_exprs": ["return [ \"bash\", \"-cx\", \" && \".join( [ write_local_script_file_cmd, write_local_input_file_cmd, make_xcom_dir_cmd, exec_python_cmd, ] ),]"], "ret_type": "builtins.list[builtins.str]", "ret_type_p": [["str", 0.17952909909140377], ["Iterable[T]", 0.11071778544140483], ["Optional[str]", 0.09937481087804832], ["int", 0.09525873658242]], "variables": {"exec_python_cmd": "", "input_filename": "", "make_xcom_dir_cmd": "", "output_filename": "", "script_filename": "", "write_local_input_file_cmd": "", "write_local_script_file_cmd": ""}, "variables_p": {"exec_python_cmd": [["str", 0.09724364179220421]], "input_filename": [["str", 0.632398463908178], ["List[str]", 0.18340291972260347], ["slice", 0.09226778420103252]], "make_xcom_dir_cmd": [["str", 0.5930179281451076], ["Dict[str, str]", 0.09084190511661595], ["List[str]", 0.07853860615596447]], "output_filename": [["str", 0.4731454162908842], ["tuple", 0.09953599757071695]], "script_filename": [["str", 0.632398463908178], ["List[str]", 0.18340291972260347], ["slice", 0.09226778420103252]], "write_local_input_file_cmd": [["str", 0.6926585660154438]], "write_local_script_file_cmd": [["str", 0.6926585660154438]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[113, 4], [140, 43]], "fn_var_ln": {"cmds": [[139, 12], [139, 21]], "env_vars": [[133, 12], [133, 25]], "input_filename": [[117, 12], [117, 26]], "jinja_context": [[123, 12], [123, 25]], "pickling_library": [[115, 12], [115, 28]], "py_source": [[122, 12], [122, 21]], "script_filename": [[116, 12], [116, 27]]}, "fn_var_occur": {"cmds": [["self", "cmds", "self", "_generate_cmds"]], "env_vars": [["self", "env_vars", "self", "env_vars", "k8s", "V1EnvVar", "name", "_PYTHON_SCRIPT_ENV", "value", "_read_file_contents", "script_filename", "k8s", "V1EnvVar", "name", "_PYTHON_INPUT_ENV", "value", "_read_file_contents", "input_filename"]], "input_filename": [["input_filename", "os", "path", "join", "tmp_dir"], ["open", "input_filename", "file"], ["self", "env_vars", "self", "env_vars", "k8s", "V1EnvVar", "name", "_PYTHON_SCRIPT_ENV", "value", "_read_file_contents", "script_filename", "k8s", "V1EnvVar", "name", "_PYTHON_INPUT_ENV", "value", "_read_file_contents", "input_filename"]], "jinja_context": [["jinja_context", "self", "op_args", "self", "op_kwargs", "pickling_library", "__name__", "self", "python_callable", "__name__", "py_source", "False"], ["write_python_script", "jinja_context", "jinja_context", "filename", "script_filename"]], "pickling_library": [["pickling_library", "dill", "self", "use_dill", "pickle"], ["pickling_library", "dump", "self", "op_args", "self", "op_kwargs", "file"], ["jinja_context", "self", "op_args", "self", "op_kwargs", "pickling_library", "__name__", "self", "python_callable", "__name__", "py_source", "False"]], "py_source": [["py_source", "self", "get_python_source"], ["jinja_context", "self", "op_args", "self", "op_kwargs", "pickling_library", "__name__", "self", "python_callable", "__name__", "py_source", "False"]], "script_filename": [["script_filename", "os", "path", "join", "tmp_dir"], ["write_python_script", "jinja_context", "jinja_context", "filename", "script_filename"], ["self", "env_vars", "self", "env_vars", "k8s", "V1EnvVar", "name", "_PYTHON_SCRIPT_ENV", "value", "_read_file_contents", "script_filename", "k8s", "V1EnvVar", "name", "_PYTHON_INPUT_ENV", "value", "_read_file_contents", "input_filename"]]}, "name": "execute", "params": {"context": "airflow.utils.context.Context", "self": ""}, "params_descr": {"context": "", "self": ""}, "params_occur": {"context": [["super", "execute", "context"]], "self": [["pickling_library", "dill", "self", "use_dill", "pickle"], ["pickling_library", "dump", "self", "op_args", "self", "op_kwargs", "file"], ["py_source", "self", "get_python_source"], ["jinja_context", "self", "op_args", "self", "op_kwargs", "pickling_library", "__name__", "self", "python_callable", "__name__", "py_source", "False"], ["self", "env_vars", "self", "env_vars", "k8s", "V1EnvVar", "name", "_PYTHON_SCRIPT_ENV", "value", "_read_file_contents", "script_filename", "k8s", "V1EnvVar", "name", "_PYTHON_INPUT_ENV", "value", "_read_file_contents", "input_filename"], ["self", "cmds", "self", "_generate_cmds"]]}, "params_p": {"args": [], "context": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "kwargs": [], "self": []}, "q_name": "_KubernetesDecoratedOperator.execute", "ret_exprs": ["return super().execute(context)"], "ret_type": "", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "variables": {"cmds": "", "env_vars": "", "input_filename": "", "jinja_context": "", "pickling_library": "", "py_source": "", "script_filename": ""}, "variables_p": {"cmds": [["str", 0.3], ["Set[str]", 0.3], ["List[int]", 0.09999999999999999], ["int", 0.09999999999999999]], "env_vars": [["str", 0.4202439864120819], ["int", 0.1118944107192183], ["Dict[str, Union[Any, Any, Any, Any]]", 0.10316747034337631]], "input_filename": [["str", 1.0]], "jinja_context": [["str", 0.23447057818352773], ["List[str]", 0.17514135652634438], ["Tuple[slice]", 0.11167880967713525], ["int", 0.09198129196491477], ["Set[str]", 0.07462211809915999]], "pickling_library": [["str", 0.9999999999999997]], "py_source": [["str", 0.7161824170764133], ["set", 0.09622168304057149]], "script_filename": [["str", 0.8099500725722403], ["Tuple[Literal, Literal, Any]", 0.09187602689225599]]}}], "name": "_KubernetesDecoratedOperator", "q_name": "_KubernetesDecoratedOperator", "variables": {"custom_operator_name": "", "shallow_copy_attrs": "typing.Sequence[builtins.str]", "template_fields": "typing.Sequence[builtins.str]"}, "variables_p": {"custom_operator_name": [["str", 0.7999999999999999], ["List[str]", 0.09999999999999999], ["dict", 0.09999999999999999]], "shallow_copy_attrs": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "template_fields": [["Tuple[str, str, str, str, str, str]", 0.2857142856828355], ["Tuple[str, str, str]", 0.2857142856828355], ["Tuple[str, str, str, str]", 0.2857142856828355], ["Tuple[str, str, str, str, str]", 0.14285714284141776], ["Dict[str, str]", 7.42502725571635e-11]]}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[46, 0], [51, 5]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_generate_decoded_command", "params": {"env_var": "builtins.str", "file": "builtins.str"}, "params_descr": {"env_var": "", "file": ""}, "params_occur": {"env_var": [["env_var", "file"]], "file": [["env_var", "file"]]}, "params_p": {"args": [], "env_var": [["Optional[str]", 0.09992908756372497]], "file": [["Optional[str]", 0.09992908756372497]], "kwargs": []}, "q_name": "_generate_decoded_command", "ret_exprs": ["return ( f'python -c \"import base64, os;' rf\"x = base64.b64decode(os.environ[\"{env_var}\"]);\" rf'f = open(\"{file}\", \"wb\"); f.write(x); f.close()\"')"], "ret_type": "builtins.str", "ret_type_p": [["str", 0.7735560917205755]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[54, 0], [56, 67]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_read_file_contents", "params": {"filename": "builtins.str"}, "params_descr": {"filename": ""}, "params_occur": {"filename": [["open", "filename", "script_file"]]}, "params_p": {"args": [], "filename": [["str", 1.0]], "kwargs": []}, "q_name": "_read_file_contents", "ret_exprs": ["return base64.b64encode(script_file.read()).decode(\"utf-8\")"], "ret_type": "builtins.str", "ret_type_p": [["str", 1.0]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Kubernetes operator decorator.", "long_descr": "This wraps a function to be executed in K8s using KubernetesPodOperator.\nAlso accepts any argument that DockerOperator will via ``kwargs``. Can be\nreused in a single DAG.", "ret": null}, "fn_lc": [[143, 0], [164, 5]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "kubernetes_task", "params": {"kwargs": "", "multiple_outputs": "bool | None", "python_callable": "Callable | None"}, "params_descr": {"kwargs": "", "multiple_outputs": "if set, function return value will be\nunrolled to multiple XCom values. Dict will unroll to xcom values with\nkeys as XCom keys. Defaults to False.", "python_callable": "Function to decorate"}, "params_occur": {"kwargs": [["task_decorator_factory", "python_callable", "python_callable", "multiple_outputs", "multiple_outputs", "decorated_operator_class", "_KubernetesDecoratedOperator", "kwargs"]], "multiple_outputs": [["task_decorator_factory", "python_callable", "python_callable", "multiple_outputs", "multiple_outputs", "decorated_operator_class", "_KubernetesDecoratedOperator", "kwargs"]], "python_callable": [["task_decorator_factory", "python_callable", "python_callable", "multiple_outputs", "multiple_outputs", "decorated_operator_class", "_KubernetesDecoratedOperator", "kwargs"]]}, "params_p": {"args": [], "kwargs": [], "multiple_outputs": [["float", 0.207235614536051], ["int", 0.19266453537199713], ["Callable", 0.09439689569183086]], "python_callable": [["float", 0.207235614536051], ["int", 0.19266453537199713], ["Callable", 0.09439689569183086]]}, "q_name": "kubernetes_task", "ret_exprs": ["return task_decorator_factory( python_callable=python_callable, multiple_outputs=multiple_outputs, decorated_operator_class=_KubernetesDecoratedOperator, **kwargs,)"], "ret_type": "airflow.decorators.base.TaskDecorator", "ret_type_p": [["str", 0.1983922418969995], ["bytes", 0.12473516556343935], ["List[str]", 0.10951286502222608], ["excars.models.profiles.Profile", 0.1024734123026388], ["viewer.models.Gallery", 0.09170005509299317], ["Dict[str, Any]", 0.08889496996260697]], "variables": {}, "variables_p": {}}], "imports": ["__future__", "annotations", "base64", "inspect", "os", "pickle", "uuid", "shlex", "quote", "tempfile", "TemporaryDirectory", "textwrap", "dedent", "typing", "TYPE_CHECKING", "Callable", "Sequence", "dill", "kubernetes", "client", "models", "k8s", "airflow", "decorators", "base", "DecoratedOperator", "TaskDecorator", "task_decorator_factory", "airflow", "providers", "cncf", "kubernetes", "operators", "pod", "KubernetesPodOperator", "airflow", "providers", "cncf", "kubernetes", "python_kubernetes_script", "remove_task_decorator", "write_python_script", "airflow", "utils", "context", "Context"], "mod_var_ln": {"_PYTHON_INPUT_ENV": [[43, 0], [43, 17]], "_PYTHON_SCRIPT_ENV": [[42, 0], [42, 18]]}, "mod_var_occur": {"_PYTHON_INPUT_ENV": [["write_local_input_file_cmd", "_generate_decoded_command", "quote", "_PYTHON_INPUT_ENV", "quote", "input_filename"], ["self", "env_vars", "self", "env_vars", "k8s", "V1EnvVar", "name", "_PYTHON_SCRIPT_ENV", "value", "_read_file_contents", "script_filename", "k8s", "V1EnvVar", "name", "_PYTHON_INPUT_ENV", "value", "_read_file_contents", "input_filename"]], "_PYTHON_SCRIPT_ENV": [["write_local_script_file_cmd", "_generate_decoded_command", "quote", "_PYTHON_SCRIPT_ENV", "quote", "script_filename"], ["self", "env_vars", "self", "env_vars", "k8s", "V1EnvVar", "name", "_PYTHON_SCRIPT_ENV", "value", "_read_file_contents", "script_filename", "k8s", "V1EnvVar", "name", "_PYTHON_INPUT_ENV", "value", "_read_file_contents", "input_filename"]]}, "no_types_annot": {"D": 14, "I": 0, "U": 24}, "session_id": "RjEl9q9nRBbX7i-AQq68Zpof2g6o3xKWln5fLtCPo7s", "set": null, "tc": [false, null], "type_annot_cove": 0.37, "typed_seq": "", "untyped_seq": "", "variables": {"_PYTHON_INPUT_ENV": "", "_PYTHON_SCRIPT_ENV": ""}, "variables_p": {"_PYTHON_INPUT_ENV": [["str", 0.5180165092218554], ["src.pip_shims.models.ShimmedPathCollection", 0.22916351746624594]], "_PYTHON_SCRIPT_ENV": [["str", 0.5180165092218554], ["src.pip_shims.models.ShimmedPathCollection", 0.22916351746624594]]}}}