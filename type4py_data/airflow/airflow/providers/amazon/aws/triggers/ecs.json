{"error": null, "response": {"classes": [{"cls_lc": [[33, 0], [69, 82]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[45, 4], [66, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "__init__", "params": {"aws_conn_id": "str | None", "cluster_arn": "builtins.str", "region_name": "str | None", "self": "", "waiter_delay": "builtins.int", "waiter_max_attempts": "builtins.int"}, "params_descr": {"aws_conn_id": "", "cluster_arn": "", "region_name": "", "self": "", "waiter_delay": "", "waiter_max_attempts": ""}, "params_occur": {"aws_conn_id": [["super", "__init__", "serialized_fields", "cluster_arn", "waiter_name", "waiter_args", "cluster_arn", "failure_message", "status_message", "status_queries", "return_key", "return_value", "cluster_arn", "waiter_delay", "waiter_delay", "waiter_max_attempts", "waiter_max_attempts", "aws_conn_id", "aws_conn_id", "region_name", "region_name"]], "cluster_arn": [["super", "__init__", "serialized_fields", "cluster_arn", "waiter_name", "waiter_args", "cluster_arn", "failure_message", "status_message", "status_queries", "return_key", "return_value", "cluster_arn", "waiter_delay", "waiter_delay", "waiter_max_attempts", "waiter_max_attempts", "aws_conn_id", "aws_conn_id", "region_name", "region_name"]], "region_name": [["super", "__init__", "serialized_fields", "cluster_arn", "waiter_name", "waiter_args", "cluster_arn", "failure_message", "status_message", "status_queries", "return_key", "return_value", "cluster_arn", "waiter_delay", "waiter_delay", "waiter_max_attempts", "waiter_max_attempts", "aws_conn_id", "aws_conn_id", "region_name", "region_name"]], "self": [], "waiter_delay": [["super", "__init__", "serialized_fields", "cluster_arn", "waiter_name", "waiter_args", "cluster_arn", "failure_message", "status_message", "status_queries", "return_key", "return_value", "cluster_arn", "waiter_delay", "waiter_delay", "waiter_max_attempts", "waiter_max_attempts", "aws_conn_id", "aws_conn_id", "region_name", "region_name"]], "waiter_max_attempts": [["super", "__init__", "serialized_fields", "cluster_arn", "waiter_name", "waiter_args", "cluster_arn", "failure_message", "status_message", "status_queries", "return_key", "return_value", "cluster_arn", "waiter_delay", "waiter_delay", "waiter_max_attempts", "waiter_max_attempts", "aws_conn_id", "aws_conn_id", "region_name", "region_name"]]}, "params_p": {"args": [], "aws_conn_id": [["str", 0.30151672119398953], ["bool", 0.2704416934069907], ["Dict[str, Any]", 0.2305400818178246]], "cluster_arn": [["str", 0.30151672119398953], ["bool", 0.2704416934069907], ["Dict[str, Any]", 0.2305400818178246]], "kwargs": [], "region_name": [["str", 0.30151672119398953], ["bool", 0.2704416934069907], ["Dict[str, Any]", 0.2305400818178246]], "self": [], "waiter_delay": [["str", 0.30151672119398953], ["bool", 0.2704416934069907], ["Dict[str, Any]", 0.2305400818178246]], "waiter_max_attempts": [["str", 0.30151672119398953], ["bool", 0.2704416934069907], ["Dict[str, Any]", 0.2305400818178246]]}, "q_name": "ClusterActiveTrigger.__init__", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[68, 4], [69, 82]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "hook", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["EcsHook", "aws_conn_id", "self", "aws_conn_id", "region_name", "self", "region_name"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "ClusterActiveTrigger.hook", "ret_exprs": ["return EcsHook(aws_conn_id=self.aws_conn_id, region_name=self.region_name)"], "ret_type": "airflow.providers.amazon.aws.hooks.base_aws.AwsGenericHook", "ret_type_p": [["str", 0.3829635016847038], ["cmk.utils.type_defs.UserId", 0.09986528781433446], ["List[str]", 0.09236105017002068], ["Callable", 0.09236105017002068], ["dict", 0.0904829846810612]], "variables": {}, "variables_p": {}}], "name": "ClusterActiveTrigger", "q_name": "ClusterActiveTrigger", "variables": {}, "variables_p": {}}, {"cls_lc": [[72, 0], [107, 82]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[84, 4], [104, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "__init__", "params": {"aws_conn_id": "str | None", "cluster_arn": "builtins.str", "region_name": "str | None", "self": "", "waiter_delay": "builtins.int", "waiter_max_attempts": "builtins.int"}, "params_descr": {"aws_conn_id": "", "cluster_arn": "", "region_name": "", "self": "", "waiter_delay": "", "waiter_max_attempts": ""}, "params_occur": {"aws_conn_id": [["super", "__init__", "serialized_fields", "cluster_arn", "waiter_name", "waiter_args", "cluster_arn", "failure_message", "status_message", "status_queries", "return_value", "cluster_arn", "waiter_delay", "waiter_delay", "waiter_max_attempts", "waiter_max_attempts", "aws_conn_id", "aws_conn_id", "region_name", "region_name"]], "cluster_arn": [["super", "__init__", "serialized_fields", "cluster_arn", "waiter_name", "waiter_args", "cluster_arn", "failure_message", "status_message", "status_queries", "return_value", "cluster_arn", "waiter_delay", "waiter_delay", "waiter_max_attempts", "waiter_max_attempts", "aws_conn_id", "aws_conn_id", "region_name", "region_name"]], "region_name": [["super", "__init__", "serialized_fields", "cluster_arn", "waiter_name", "waiter_args", "cluster_arn", "failure_message", "status_message", "status_queries", "return_value", "cluster_arn", "waiter_delay", "waiter_delay", "waiter_max_attempts", "waiter_max_attempts", "aws_conn_id", "aws_conn_id", "region_name", "region_name"]], "self": [], "waiter_delay": [["super", "__init__", "serialized_fields", "cluster_arn", "waiter_name", "waiter_args", "cluster_arn", "failure_message", "status_message", "status_queries", "return_value", "cluster_arn", "waiter_delay", "waiter_delay", "waiter_max_attempts", "waiter_max_attempts", "aws_conn_id", "aws_conn_id", "region_name", "region_name"]], "waiter_max_attempts": [["super", "__init__", "serialized_fields", "cluster_arn", "waiter_name", "waiter_args", "cluster_arn", "failure_message", "status_message", "status_queries", "return_value", "cluster_arn", "waiter_delay", "waiter_delay", "waiter_max_attempts", "waiter_max_attempts", "aws_conn_id", "aws_conn_id", "region_name", "region_name"]]}, "params_p": {"args": [], "aws_conn_id": [["str", 0.22242731404840566], ["Dict[str, Any]", 0.19373369179087396], ["bool", 0.1820230595390382], ["int", 0.10351994869665328], ["dict", 0.09185187675922597], ["Optional[bool]", 0.0911573803688411]], "cluster_arn": [["str", 0.22242731404840566], ["Dict[str, Any]", 0.19373369179087396], ["bool", 0.1820230595390382], ["int", 0.10351994869665328], ["dict", 0.09185187675922597], ["Optional[bool]", 0.0911573803688411]], "kwargs": [], "region_name": [["str", 0.22242731404840566], ["Dict[str, Any]", 0.19373369179087396], ["bool", 0.1820230595390382], ["int", 0.10351994869665328], ["dict", 0.09185187675922597], ["Optional[bool]", 0.0911573803688411]], "self": [], "waiter_delay": [["str", 0.22242731404840566], ["Dict[str, Any]", 0.19373369179087396], ["bool", 0.1820230595390382], ["int", 0.10351994869665328], ["dict", 0.09185187675922597], ["Optional[bool]", 0.0911573803688411]], "waiter_max_attempts": [["str", 0.22242731404840566], ["Dict[str, Any]", 0.19373369179087396], ["bool", 0.1820230595390382], ["int", 0.10351994869665328], ["dict", 0.09185187675922597], ["Optional[bool]", 0.0911573803688411]]}, "q_name": "ClusterInactiveTrigger.__init__", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[106, 4], [107, 82]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "hook", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["EcsHook", "aws_conn_id", "self", "aws_conn_id", "region_name", "self", "region_name"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "ClusterInactiveTrigger.hook", "ret_exprs": ["return EcsHook(aws_conn_id=self.aws_conn_id, region_name=self.region_name)"], "ret_type": "airflow.providers.amazon.aws.hooks.base_aws.AwsGenericHook", "ret_type_p": [["str", 0.3829635016847038], ["cmk.utils.type_defs.UserId", 0.09986528781433446], ["List[str]", 0.09236105017002068], ["Callable", 0.09236105017002068], ["dict", 0.0904829846810612]], "variables": {}, "variables_p": {}}], "name": "ClusterInactiveTrigger", "q_name": "ClusterInactiveTrigger", "variables": {}, "variables_p": {}}, {"cls_lc": [[110, 0], [220, 53]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[123, 4], [143, 36]], "fn_var_ln": {"aws_conn_id": [[139, 8], [139, 24]], "cluster": [[134, 8], [134, 20]], "log_group": [[142, 8], [142, 22]], "log_stream": [[143, 8], [143, 23]], "region": [[140, 8], [140, 19]], "task_arn": [[135, 8], [135, 21]], "waiter_delay": [[137, 8], [137, 25]], "waiter_max_attempts": [[138, 8], [138, 32]]}, "fn_var_occur": {"aws_conn_id": [["self", "aws_conn_id", "aws_conn_id"]], "cluster": [["self", "cluster", "cluster"]], "log_group": [["self", "log_group", "log_group"]], "log_stream": [["self", "log_stream", "log_stream"]], "region": [["self", "region", "region"]], "task_arn": [["self", "task_arn", "task_arn"]], "waiter_delay": [["self", "waiter_delay", "waiter_delay"]], "waiter_max_attempts": [["self", "waiter_max_attempts", "waiter_max_attempts"]]}, "name": "__init__", "params": {"aws_conn_id": "str | None", "cluster": "builtins.str", "log_group": "str | None", "log_stream": "str | None", "region": "str | None", "self": "", "task_arn": "builtins.str", "waiter_delay": "builtins.int", "waiter_max_attempts": "builtins.int"}, "params_descr": {"aws_conn_id": "", "cluster": "", "log_group": "", "log_stream": "", "region": "", "self": "", "task_arn": "", "waiter_delay": "", "waiter_max_attempts": ""}, "params_occur": {"aws_conn_id": [["self", "aws_conn_id", "aws_conn_id"]], "cluster": [["self", "cluster", "cluster"]], "log_group": [["self", "log_group", "log_group"]], "log_stream": [["self", "log_stream", "log_stream"]], "region": [["self", "region", "region"]], "self": [["self", "cluster", "cluster"], ["self", "task_arn", "task_arn"], ["self", "waiter_delay", "waiter_delay"], ["self", "waiter_max_attempts", "waiter_max_attempts"], ["self", "aws_conn_id", "aws_conn_id"], ["self", "region", "region"], ["self", "log_group", "log_group"], ["self", "log_stream", "log_stream"]], "task_arn": [["self", "task_arn", "task_arn"]], "waiter_delay": [["self", "waiter_delay", "waiter_delay"]], "waiter_max_attempts": [["self", "waiter_max_attempts", "waiter_max_attempts"]]}, "params_p": {"args": [], "aws_conn_id": [["bytes", 0.20681855232259969], ["utils.CWLObjectType", 0.10843291477133297], ["Dict[str, Optional[str]]", 0.1035235551059093], ["Hashable", 0.10191170660485395], ["int", 0.09692416061288425], ["Optional[Dict]", 0.094938807718472]], "cluster": [["bool", 0.39711912422174084], ["float", 0.10145777032470185], ["int", 0.10028462109071147]], "kwargs": [], "log_group": [["str", 0.4977547575627267], ["int", 0.12093826646874097], ["List[str]", 0.09433145278605891]], "log_stream": [["str", 0.4977547575627267], ["int", 0.12093826646874097], ["List[str]", 0.09433145278605891]], "region": [["bool", 0.39711912422174084], ["float", 0.10145777032470185], ["int", 0.10028462109071147]], "self": [], "task_arn": [["int", 0.22269180960129326], ["bool", 0.19241873036747853], ["Optional[str]", 0.0856833875506778]], "waiter_delay": [["bool", 0.39711912422174084], ["float", 0.10145777032470185], ["int", 0.10028462109071147]], "waiter_max_attempts": [["bool", 0.39711912422174084], ["float", 0.10145777032470185], ["int", 0.10028462109071147]]}, "q_name": "TaskDoneTrigger.__init__", "ret_exprs": [], "ret_type": "", "variables": {"aws_conn_id": "", "cluster": "", "log_group": "", "log_stream": "", "region": "", "task_arn": "", "waiter_delay": "", "waiter_max_attempts": ""}, "variables_p": {"aws_conn_id": [["str", 0.8232331810796996], ["int", 0.10529550689191934], ["list", 0.07147131202838086]], "cluster": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]], "log_group": [["str", 1.0]], "log_stream": [["str", 1.0]], "region": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]], "task_arn": [["str", 0.26949950993204885], ["List[List[int]]", 0.21127064678547303], ["int", 0.1693416900675034], ["Dict[str, str]", 0.09558074211196294]], "waiter_delay": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]], "waiter_max_attempts": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[145, 4], [158, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "serialize", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "__class__", "__module__", "self", "__class__", "__qualname__", "self", "cluster", "self", "task_arn", "self", "waiter_delay", "self", "waiter_max_attempts", "self", "aws_conn_id", "self", "region", "self", "log_group", "self", "log_stream"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TaskDoneTrigger.serialize", "ret_exprs": ["return ( self.__class__.__module__ + \".\" + self.__class__.__qualname__, { \"cluster\": self.cluster, \"task_arn\": self.task_arn, \"waiter_delay\": self.waiter_delay, \"waiter_max_attempts\": self.waiter_max_attempts, \"aws_conn_id\": self.aws_conn_id, \"region\": self.region, \"log_group\": self.log_group, \"log_stream\": self.log_stream, },)"], "ret_type": "builtins.tuple[builtins.str, builtins.dict[builtins.str, typing.Any]]", "ret_type_p": [["str", 0.20049085815655832], ["sklearn.base.BaseEstimator", 0.09797976405356963], ["bool", 0.096735823293336]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[160, 4], [183, 76]], "fn_var_ln": {"logs_token": [[181, 24], [181, 34]], "waiter": [[165, 12], [165, 18]], "waiter_max_attempts": [[168, 16], [168, 40]]}, "fn_var_occur": {"logs_token": [["logs_token", "None"], ["logs_token", "self", "_forward_logs", "logs_client", "logs_token"]], "waiter": [["waiter", "ecs_client", "get_waiter"], ["waiter", "wait", "cluster", "self", "cluster", "tasks", "self", "task_arn", "WaiterConfig"]], "waiter_max_attempts": [["self", "waiter_max_attempts"], ["self", "waiter_max_attempts", "self", "waiter_max_attempts"]]}, "name": "run", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["EcsHook", "aws_conn_id", "self", "aws_conn_id", "region_name", "self", "region", "async_conn", "ecs_client"], ["self", "waiter_max_attempts"], ["self", "waiter_max_attempts", "self", "waiter_max_attempts"], ["waiter", "wait", "cluster", "self", "cluster", "tasks", "self", "task_arn", "WaiterConfig"], ["self", "log", "info", "error", "last_response"], ["asyncio", "sleep", "int", "self", "waiter_delay"], ["self", "log_group", "self", "log_stream"], ["logs_token", "self", "_forward_logs", "logs_client", "logs_token"], ["TriggerEvent", "self", "task_arn"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TaskDoneTrigger.run", "ret_exprs": [], "ret_type": "typing.AsyncIterator[airflow.triggers.base.TriggerEvent]", "variables": {"logs_token": "", "waiter": "", "waiter_max_attempts": ""}, "variables_p": {"logs_token": [["Optional[bytes]", 0.25937208312836313], ["Type[Exception]", 0.10347857221526116], ["str", 0.10016141354190868], ["Optional[int]", 0.09247209123553635], ["bytes", 0.08727651926019754], ["Optional[str]", 0.08578190493930644], ["Union[str, None]", 0.08564969820789026]], "waiter": [["str", 0.14623615183260746], ["cmk.base.config.ObjectAttributes", 0.0863367475986012]], "waiter_max_attempts": [["str", 0.6], ["int", 0.1]]}}, {"docstring": {"func": "Reads logs from the cloudwatch stream and prints them to the task logs.", "long_descr": null, "ret": "the token to pass to the next iteration to resume where we started."}, "fn_lc": [[185, 4], [220, 53]], "fn_var_ln": {"events": [[214, 12], [214, 18]], "next_token": [[220, 12], [220, 22]], "response": [[197, 16], [197, 24]], "token_arg": [[195, 16], [195, 25]]}, "fn_var_occur": {"events": [["events", "response"], ["len", "events", "next_token", "response"]], "next_token": [["next_token", "None"], ["token_arg", "builtins", "dict", "builtins", "str", "builtins", "str", "next_token"], ["len", "events", "next_token", "response"], ["next_token", "response"]], "response": [["response", "logs_client", "get_log_events", "logGroupName", "self", "log_group", "logStreamName", "self", "log_stream", "startFromHead", "True", "token_arg"], ["ce", "response"], ["events", "response"], ["len", "events", "next_token", "response"], ["next_token", "response"]], "token_arg": [["token_arg", "builtins", "dict", "builtins", "str", "builtins", "str", "next_token"], ["response", "logs_client", "get_log_events", "logGroupName", "self", "log_group", "logStreamName", "self", "log_stream", "startFromHead", "True", "token_arg"]]}, "name": "_forward_logs", "params": {"logs_client": "", "next_token": "str | None", "self": ""}, "params_descr": {"logs_client": "", "next_token": "", "self": ""}, "params_occur": {"logs_client": [["response", "logs_client", "get_log_events", "logGroupName", "self", "log_group", "logStreamName", "self", "log_stream", "startFromHead", "True", "token_arg"]], "next_token": [["next_token", "None"], ["token_arg", "builtins", "dict", "builtins", "str", "builtins", "str", "next_token"], ["len", "events", "next_token", "response"], ["next_token", "response"]], "self": [["response", "logs_client", "get_log_events", "logGroupName", "self", "log_group", "logStreamName", "self", "log_stream", "startFromHead", "True", "token_arg"], ["self", "log", "info", "self", "log_stream", "self", "log_group"], ["self", "log", "info", "AwsTaskLogFetcher", "event_to_str", "log_event"]]}, "params_p": {"args": [], "kwargs": [], "logs_client": [["str", 0.4995938067692974]], "next_token": [["str", 0.7022434083922943], ["Optional[str]", 0.10451964731308806], ["Dict[str, str]", 0.09687098323393192], ["int", 0.09636596106068566]], "self": []}, "q_name": "TaskDoneTrigger._forward_logs", "ret_exprs": ["return None", "return response[\"nextForwardToken\"]"], "ret_type": "str | None", "ret_type_p": [["Optional[Dict[str, Any]]", 0.20191286313832563], ["Optional[List[str]]", 0.09996019785499388], ["dict", 0.08565495556927002], ["int", 0.08242860413842606], ["Dict[str, Any]", 0.07823740815096374]], "variables": {"events": "", "next_token": "", "response": "", "token_arg": ""}, "variables_p": {"events": [["list", 0.825782028402944]], "next_token": [["Set[str]", 0.44530185898629643], ["str", 0.1994366812482986], ["Dict[Optional[str], List[str]]", 0.139683212784827], ["Dict[str, str]", 0.11672316576829515], ["dict", 0.09885508121228306]], "response": [["str", 1.0]], "token_arg": [["str", 0.5949300099538124], ["List[str]", 0.10956222115816255], ["Dict[str, str]", 0.09198296765091815], ["OrderedDict[str, Any]", 0.08998162904678075]]}}], "name": "TaskDoneTrigger", "q_name": "TaskDoneTrigger", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "asyncio", "typing", "Any", "AsyncIterator", "botocore", "exceptions", "ClientError", "WaiterError", "airflow", "providers", "amazon", "aws", "hooks", "base_aws", "AwsGenericHook", "airflow", "providers", "amazon", "aws", "hooks", "ecs", "EcsHook", "airflow", "providers", "amazon", "aws", "hooks", "logs", "AwsLogsHook", "airflow", "providers", "amazon", "aws", "triggers", "base", "AwsBaseWaiterTrigger", "airflow", "providers", "amazon", "aws", "utils", "task_log_fetcher", "AwsTaskLogFetcher", "airflow", "triggers", "base", "BaseTrigger", "TriggerEvent"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 15, "I": 0, "U": 19}, "session_id": "5QfYEY0Gc-sHjVYZU5iGfgfQ3LegoQZz0x6pMxaxX2o", "set": null, "tc": [false, null], "type_annot_cove": 0.44, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}