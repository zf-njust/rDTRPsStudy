{"error": null, "response": {"classes": [{"cls_lc": [[29, 0], [200, 23]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[79, 4], [111, 28]], "fn_var_ln": {"api_version": [[108, 8], [108, 24]], "config_lookup_pattern": [[105, 8], [105, 34]], "config_prefix": [[101, 12], [101, 30]], "connections_lookup_pattern": [[103, 8], [103, 39]], "connections_prefix": [[93, 12], [93, 35]], "kwargs": [[111, 8], [111, 19]], "profile_name": [[106, 8], [106, 25]], "use_ssl": [[109, 8], [109, 20]], "variables_lookup_pattern": [[104, 8], [104, 37]], "variables_prefix": [[97, 12], [97, 33]]}, "fn_var_occur": {"api_version": [["self", "api_version", "kwargs", "pop", "None"]], "config_lookup_pattern": [["self", "config_lookup_pattern", "config_lookup_pattern"]], "config_prefix": [["config_prefix", "None"], ["self", "config_prefix", "config_prefix", "rstrip"], ["self", "config_prefix", "config_prefix"]], "connections_lookup_pattern": [["self", "connections_lookup_pattern", "connections_lookup_pattern"]], "connections_prefix": [["connections_prefix", "None"], ["self", "connections_prefix", "connections_prefix", "rstrip"], ["self", "connections_prefix", "connections_prefix"]], "kwargs": [["self", "profile_name", "kwargs", "get", "None"], ["self", "api_version", "kwargs", "pop", "None"], ["self", "use_ssl", "kwargs", "pop", "None"], ["self", "kwargs", "kwargs"]], "profile_name": [["self", "profile_name", "kwargs", "get", "None"]], "use_ssl": [["self", "use_ssl", "kwargs", "pop", "None"]], "variables_lookup_pattern": [["self", "variables_lookup_pattern", "variables_lookup_pattern"]], "variables_prefix": [["variables_prefix", "None"], ["self", "variables_prefix", "variables_prefix", "rstrip"], ["self", "variables_prefix", "variables_prefix"]]}, "name": "__init__", "params": {"config_lookup_pattern": "str | None", "config_prefix": "builtins.str", "connections_lookup_pattern": "str | None", "connections_prefix": "builtins.str", "kwargs": "", "self": "", "variables_lookup_pattern": "str | None", "variables_prefix": "builtins.str"}, "params_descr": {"config_lookup_pattern": "", "config_prefix": "", "connections_lookup_pattern": "", "connections_prefix": "", "kwargs": "", "self": "", "variables_lookup_pattern": "", "variables_prefix": ""}, "params_occur": {"config_lookup_pattern": [["self", "config_lookup_pattern", "config_lookup_pattern"]], "config_prefix": [["config_prefix", "None"], ["self", "config_prefix", "config_prefix", "rstrip"], ["self", "config_prefix", "config_prefix"]], "connections_lookup_pattern": [["self", "connections_lookup_pattern", "connections_lookup_pattern"]], "connections_prefix": [["connections_prefix", "None"], ["self", "connections_prefix", "connections_prefix", "rstrip"], ["self", "connections_prefix", "connections_prefix"]], "kwargs": [["self", "profile_name", "kwargs", "get", "None"], ["self", "api_version", "kwargs", "pop", "None"], ["self", "use_ssl", "kwargs", "pop", "None"], ["self", "kwargs", "kwargs"]], "self": [["self", "connections_prefix", "connections_prefix", "rstrip"], ["self", "connections_prefix", "connections_prefix"], ["self", "variables_prefix", "variables_prefix", "rstrip"], ["self", "variables_prefix", "variables_prefix"], ["self", "config_prefix", "config_prefix", "rstrip"], ["self", "config_prefix", "config_prefix"], ["self", "connections_lookup_pattern", "connections_lookup_pattern"], ["self", "variables_lookup_pattern", "variables_lookup_pattern"], ["self", "config_lookup_pattern", "config_lookup_pattern"], ["self", "profile_name", "kwargs", "get", "None"], ["self", "api_version", "kwargs", "pop", "None"], ["self", "use_ssl", "kwargs", "pop", "None"], ["self", "kwargs", "kwargs"]], "variables_lookup_pattern": [["self", "variables_lookup_pattern", "variables_lookup_pattern"]], "variables_prefix": [["variables_prefix", "None"], ["self", "variables_prefix", "variables_prefix", "rstrip"], ["self", "variables_prefix", "variables_prefix"]]}, "params_p": {"args": [], "config_lookup_pattern": [["bool", 0.5155931406907404]], "config_prefix": [["Optional[Set[int]]", 0.9199583847365109], ["str", 0.08004161526348882]], "connections_lookup_pattern": [["bool", 0.44809314506729114], ["str", 0.2597347745144721], ["List[str]", 0.10273525552372763], ["Optional[List[str]]", 0.10064004024512216], ["Optional[int]", 0.08879678464938705]], "connections_prefix": [["str", 0.4325419239309844], ["Optional[str]", 0.3714819451973804], ["Mapping[Any, str]", 0.10341172423422552], ["bool", 0.09256440663740964]], "kwargs": [], "self": [], "variables_lookup_pattern": [["str", 0.4], ["bool", 0.30000000000000004], ["int", 0.1], ["List[dict]", 0.1]], "variables_prefix": [["bool", 0.18485246977905387], ["Optional[Callable]", 0.10288716308422793], ["Optional[Type[Any]]", 0.10080966410852656], ["Optional[Any]", 0.09317125478005814], ["Optional[str]", 0.09242623488952693]]}, "q_name": "SystemsManagerParameterStoreBackend.__init__", "ret_exprs": [], "ret_type": "", "variables": {"api_version": "", "config_lookup_pattern": "", "config_prefix": "", "connections_lookup_pattern": "", "connections_prefix": "", "kwargs": "", "profile_name": "", "use_ssl": "", "variables_lookup_pattern": "", "variables_prefix": ""}, "variables_p": {"api_version": [["int", 0.30023273591253125], ["Set[int]", 0.27795764236862675], ["Dict[str, int]", 0.1864692822283062], ["List[int]", 0.12281555190567481]], "config_lookup_pattern": [["Dict[str, Any]", 0.20613948043896968], ["dict", 0.18855466599578413], ["Union[str, dict]", 0.10053819503998995], ["MutableMapping[str, Any]", 0.09653356000584001]], "config_prefix": [["Union[None, int, str]", 0.14384799035452486], ["Dict[bytes, Optional[bytes]]", 0.08176052528454052]], "connections_lookup_pattern": [["Mapping[str, Any]", 0.2063600156842813], ["dict", 0.11762855909397645], ["str", 0.09769011587180025], ["IO", 0.09613077076096352], ["Dict[str, Any]", 0.09577611372531045], ["MutableMapping[str, Any]", 0.09471792261841326]], "connections_prefix": [["list", 0.211972413534649], ["dict", 0.14255299639228614], ["Optional[object]", 0.1034805039122374]], "kwargs": [["Type[bytes]", 0.20829528629515154], ["Dict[int, str]", 0.2022934165534229], ["list", 0.10248497687708538], ["dict", 0.09727401294347325], ["Dict[str, int]", 0.09588597685243502], ["str", 0.09516511195672783], ["List[int]", 0.09383042875361944]], "profile_name": [["str", 0.651946207755419], ["Dict[str, str]", 0.12154348131487736], ["Dict[int, str]", 0.12154348131487736], ["Dict[Any, str]", 0.10496682961482635]], "use_ssl": [["List[bool]", 0.500109812442885], ["list", 0.1903804030415167], ["List[str]", 0.1080031052294367], ["List[int]", 0.10554815115715731], ["Deque[Tuple[str, str]]", 0.09595852812900421]], "variables_lookup_pattern": [["Dict[Type[Any], str]", 0.24368356363930282], ["str", 0.2342511734441454], ["dict", 0.0901011030920597], ["Dict[str, List[str]]", 0.0882301007768447], ["Dict[str, List[Any]]", 0.08714286545459572], ["Dict[str, Literal]", 0.08652257774014788], ["Type[range]", 0.07988645934235573]], "variables_prefix": [["list", 0.18930685969480676], ["dict", 0.0907473544146216]]}}, {"docstring": {"func": "Create a SSM client.", "long_descr": null, "ret": null}, "fn_lc": [[114, 4], [132, 66]], "fn_var_ln": {"client_kwargs": [[121, 8], [121, 21]], "conn_config": [[120, 8], [120, 19]], "conn_id": [[119, 8], [119, 15]], "session": [[131, 8], [131, 15]]}, "fn_var_occur": {"client_kwargs": [["client_kwargs", "trim_none_values", "conn_config", "region_name", "conn_config", "verify", "conn_config", "endpoint_url", "self", "api_version", "self", "use_ssl"], ["session", "client", "service_name", "client_kwargs"]], "conn_config": [["conn_config", "AwsConnectionWrapper", "from_connection_metadata", "conn_id", "conn_id", "extra", "self", "kwargs"], ["client_kwargs", "trim_none_values", "conn_config", "region_name", "conn_config", "verify", "conn_config", "endpoint_url", "self", "api_version", "self", "use_ssl"], ["session", "SessionFactory", "conn", "conn_config", "create_session"]], "conn_id": [["conn_id", "self", "__class__", "__name__"], ["conn_config", "AwsConnectionWrapper", "from_connection_metadata", "conn_id", "conn_id", "extra", "self", "kwargs"]], "session": [["session", "SessionFactory", "conn", "conn_config", "create_session"], ["session", "client", "service_name", "client_kwargs"]]}, "name": "client", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["conn_id", "self", "__class__", "__name__"], ["conn_config", "AwsConnectionWrapper", "from_connection_metadata", "conn_id", "conn_id", "extra", "self", "kwargs"], ["client_kwargs", "trim_none_values", "conn_config", "region_name", "conn_config", "verify", "conn_config", "endpoint_url", "self", "api_version", "self", "use_ssl"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "SystemsManagerParameterStoreBackend.client", "ret_exprs": ["return session.client(service_name=\"ssm\", **client_kwargs)"], "ret_type": "", "ret_type_p": [["str", 0.9072615003306108]], "variables": {"client_kwargs": "", "conn_config": "", "conn_id": "", "session": ""}, "variables_p": {"client_kwargs": [["Dict[Any, Dict[Any, str]]", 0.11092224418994955], ["Dict[str, Dict[str, Any]]", 0.09656396712535958], ["Dict[str, str]", 0.09465995802404385], ["Dict[Any, List[Any]]", 0.09310889756457202]], "conn_config": [["Dict[str, Union[Any, str]]", 0.0858908784286154]], "conn_id": [["int", 0.41703453865748774], ["str", 0.11779783555711446], ["List[str]", 0.09767548201714253], ["Pattern[Any]", 0.08464962503591685]], "session": [["set", 0.10516839918641076], ["vjemmie.utils.voting.VotingSession", 0.10462116552840822], ["Optional[str]", 0.09732540622520577], ["Optional[Dict[str, Any]]", 0.0920078847176851]]}}, {"docstring": {"func": "Get param value.", "long_descr": null, "ret": null}, "fn_lc": [[134, 4], [143, 98]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_conn_value", "params": {"conn_id": "builtins.str", "self": ""}, "params_descr": {"conn_id": "connection id", "self": ""}, "params_occur": {"conn_id": [["self", "_get_secret", "self", "connections_prefix", "conn_id", "self", "connections_lookup_pattern"]], "self": [["self", "connections_prefix", "None"], ["self", "_get_secret", "self", "connections_prefix", "conn_id", "self", "connections_lookup_pattern"]]}, "params_p": {"args": [], "conn_id": [["str", 0.5876815506923487], ["int", 0.08519939329686824]], "kwargs": [], "self": []}, "q_name": "SystemsManagerParameterStoreBackend.get_conn_value", "ret_exprs": ["return None", "return self._get_secret(self.connections_prefix, conn_id, self.connections_lookup_pattern)"], "ret_type": "str | None", "ret_type_p": [["Optional[Dict[str, Any]]", 0.1918919474011309], ["Optional[str]", 0.17581066345201174], ["Optional[bool]", 0.16972868919080653], ["int", 0.13243634787412864], ["List[\"InlineContent\"]", 0.09121677997157226]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Get Airflow Variable.", "long_descr": null, "ret": "Variable Value"}, "fn_lc": [[145, 4], [155, 90]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_variable", "params": {"key": "builtins.str", "self": ""}, "params_descr": {"key": "Variable Key", "self": ""}, "params_occur": {"key": [["self", "_get_secret", "self", "variables_prefix", "key", "self", "variables_lookup_pattern"]], "self": [["self", "variables_prefix", "None"], ["self", "_get_secret", "self", "variables_prefix", "key", "self", "variables_lookup_pattern"]]}, "params_p": {"args": [], "key": [["str", 0.7830060788456089], ["int", 0.10849696057719559], ["Callable[[KT], VT]", 0.10849696057719559]], "kwargs": [], "self": []}, "q_name": "SystemsManagerParameterStoreBackend.get_variable", "ret_exprs": ["return None", "return self._get_secret(self.variables_prefix, key, self.variables_lookup_pattern)"], "ret_type": "str | None", "ret_type_p": [["str", 0.6183297743914499], ["Optional[str]", 0.28980221975628645]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Get Airflow Configuration.", "long_descr": null, "ret": "Configuration Option Value"}, "fn_lc": [[157, 4], [167, 84]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_config", "params": {"key": "builtins.str", "self": ""}, "params_descr": {"key": "Configuration Option Key", "self": ""}, "params_occur": {"key": [["self", "_get_secret", "self", "config_prefix", "key", "self", "config_lookup_pattern"]], "self": [["self", "config_prefix", "None"], ["self", "_get_secret", "self", "config_prefix", "key", "self", "config_lookup_pattern"]]}, "params_p": {"args": [], "key": [["str", 0.7403293465887618], ["bytes", 0.16528929799114458], ["bool", 0.09438135542009363]], "kwargs": [], "self": []}, "q_name": "SystemsManagerParameterStoreBackend.get_config", "ret_exprs": ["return None", "return self._get_secret(self.config_prefix, key, self.config_lookup_pattern)"], "ret_type": "str | None", "ret_type_p": [["Optional[str]", 0.20412291129390223], ["Dict[str, Any]", 0.11566094258396063], ["bool", 0.09465314266560763]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Get secret value from Parameter Store.", "long_descr": null, "ret": null}, "fn_lc": [[169, 4], [189, 23]], "fn_var_ln": {"response": [[185, 12], [185, 20]], "ssm_path": [[182, 8], [182, 16]]}, "fn_var_occur": {"response": [["response", "self", "client", "get_parameter", "Name", "ssm_path", "WithDecryption", "True"]], "ssm_path": [["ssm_path", "self", "build_path", "path_prefix", "secret_id"], ["ssm_path", "self", "_ensure_leading_slash", "ssm_path"], ["response", "self", "client", "get_parameter", "Name", "ssm_path", "WithDecryption", "True"], ["self", "log", "debug", "ssm_path"]]}, "name": "_get_secret", "params": {"lookup_pattern": "str | None", "path_prefix": "builtins.str", "secret_id": "builtins.str", "self": ""}, "params_descr": {"lookup_pattern": "If provided, `secret_id` must match this pattern to look up the secret in\nSystems Manager", "path_prefix": "Prefix for the Path to get Secret", "secret_id": "Secret Key", "self": ""}, "params_occur": {"lookup_pattern": [["lookup_pattern", "re", "match", "lookup_pattern", "secret_id", "re", "IGNORECASE"]], "path_prefix": [["ssm_path", "self", "build_path", "path_prefix", "secret_id"]], "secret_id": [["lookup_pattern", "re", "match", "lookup_pattern", "secret_id", "re", "IGNORECASE"], ["ssm_path", "self", "build_path", "path_prefix", "secret_id"]], "self": [["ssm_path", "self", "build_path", "path_prefix", "secret_id"], ["ssm_path", "self", "_ensure_leading_slash", "ssm_path"], ["response", "self", "client", "get_parameter", "Name", "ssm_path", "WithDecryption", "True"], ["self", "log", "debug", "ssm_path"]]}, "params_p": {"args": [], "kwargs": [], "lookup_pattern": [["str", 0.8571767392266426]], "path_prefix": [["str", 0.30194967674902407], ["List[str]", 0.09052822869799167]], "secret_id": [["str", 0.663316305047355], ["Optional[str]", 0.24973579573792326], ["int", 0.08694789921472178]], "self": []}, "q_name": "SystemsManagerParameterStoreBackend._get_secret", "ret_exprs": ["return None", "return response[\"Parameter\"][\"Value\"]", "return None"], "ret_type": "str | None", "ret_type_p": [["Optional[str]", 0.3849588066446512], ["str", 0.30845156951710584], ["Union[None, List[str]]", 0.21318903240218945], ["Optional[Sequence[str]]", 0.09340059143605331]], "variables": {"response": "", "ssm_path": ""}, "variables_p": {"response": [["str", 0.448539192656287], ["List[Dict[str, Any]]", 0.10124192146809982], ["dict", 0.10100483052700683], ["bool", 0.0900500021281155], ["functools.partial[Dict[str, Any]]", 0.08832335777839335], ["Dict[str, Any]", 0.08735857053267335], ["List[List[int]]", 0.08348212490942417]], "ssm_path": [["str", 0.1746562568321515]]}}, {"docstring": {"func": "AWS Systems Manager mandate to have a leading \"/\". Adding it dynamically if not there to the SSM path.", "long_descr": null, "ret": null}, "fn_lc": [[191, 4], [200, 23]], "fn_var_ln": {"ssm_path": [[198, 12], [198, 20]]}, "fn_var_occur": {"ssm_path": [["ssm_path", "startswith"], ["ssm_path", "ssm_path"]]}, "name": "_ensure_leading_slash", "params": {"self": "", "ssm_path": "builtins.str"}, "params_descr": {"self": "", "ssm_path": "SSM parameter path"}, "params_occur": {"self": [], "ssm_path": [["ssm_path", "startswith"], ["ssm_path", "ssm_path"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ssm_path": [["str", 1.0]]}, "q_name": "SystemsManagerParameterStoreBackend._ensure_leading_slash", "ret_exprs": ["return ssm_path"], "ret_type": "", "ret_type_p": [["str", 0.30634415104027574], ["List[str]", 0.08702113756236281]], "variables": {"ssm_path": ""}, "variables_p": {"ssm_path": [["str", 0.9061417419709042], ["List[str]", 0.09385825802909575]]}}], "name": "SystemsManagerParameterStoreBackend", "q_name": "SystemsManagerParameterStoreBackend", "variables": {}, "variables_p": {}}], "funcs": [], "imports": ["__future__", "annotations", "re", "functools", "cached_property", "airflow", "providers", "amazon", "aws", "utils", "trim_none_values", "airflow", "secrets", "BaseSecretsBackend", "airflow", "utils", "log", "logging_mixin", "LoggingMixin", "airflow", "providers", "amazon", "aws", "hooks", "base_aws", "SessionFactory", "airflow", "providers", "amazon", "aws", "utils", "connection_wrapper", "AwsConnectionWrapper"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 10, "I": 0, "U": 20}, "session_id": "zLqiQ1sWl5a5SAclHF7aj3lrNvufaNBD-rMl41uRWjs", "set": null, "tc": [false, null], "type_annot_cove": 0.33, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}