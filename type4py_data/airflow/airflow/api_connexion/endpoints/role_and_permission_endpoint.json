{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": "Checks if the action or resource exists and otherwise raise 400.", "long_descr": "This function is intended for use in the REST API because it raise 400", "ret": null}, "fn_lc": [[43, 0], [53, 90]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_check_action_and_resource", "params": {"perms": "builtins.list[builtins.tuple[builtins.str, builtins.str]]", "sm": "airflow.www.security.AirflowSecurityManager"}, "params_descr": {"perms": "", "sm": ""}, "params_occur": {"perms": [], "sm": [["sm", "get_action", "action"], ["sm", "get_resource", "resource"]]}, "params_p": {"args": [], "kwargs": [], "perms": [["int", 0.19999999999999998], ["str", 0.19999999999999998], ["Iterable['Context']", 0.09999999999999999], ["dict", 0.09999999999999999], ["bool", 0.09999999999999999]], "sm": [["bool", 0.20121824304376398], ["Optional[str]", 0.09181812753349258], ["str", 0.08920305590033477], ["int", 0.08920305590033477], ["List[Tuple[str, int]]", 0.0875124207795381]]}, "q_name": "_check_action_and_resource", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Get role.", "long_descr": null, "ret": null}, "fn_lc": [[57, 0], [63, 33]], "fn_var_ln": {"ab_security_manager": [[59, 4], [59, 23]], "role": [[60, 4], [60, 8]]}, "fn_var_occur": {"ab_security_manager": [["ab_security_manager", "get_airflow_app", "appbuilder", "sm"], ["role", "ab_security_manager", "find_role", "name", "role_name"]], "role": [["role", "ab_security_manager", "find_role", "name", "role_name"], ["role_schema", "dump", "role"]]}, "name": "get_role", "params": {"role_name": "builtins.str"}, "params_descr": {"role_name": ""}, "params_occur": {"role_name": [["role", "ab_security_manager", "find_role", "name", "role_name"], ["NotFound", "title", "detail", "role_name"]]}, "params_p": {"args": [], "kwargs": [], "role_name": [["str", 0.6939918611260074], ["dict", 0.20428255749307858]]}, "q_name": "get_role", "ret_exprs": ["return role_schema.dump(role)"], "ret_type": "airflow.api_connexion.types.APIResponse", "ret_type_p": [["str", 0.19999999999999998], ["bool", 0.09999999999999999]], "variables": {"ab_security_manager": "", "role": ""}, "variables_p": {"ab_security_manager": [], "role": [["dict", 0.36080628537580445], ["str", 0.13231928957388603], ["int", 0.09185087163773174], ["list", 0.08551969351713054]]}}, {"docstring": {"func": "Get roles.", "long_descr": null, "ret": null}, "fn_lc": [[68, 0], [91, 96]], "fn_var_ln": {"allowed_filter_attrs": [[77, 4], [77, 24]], "appbuilder": [[70, 4], [70, 14]], "direction": [[73, 4], [73, 13]], "order_param": [[76, 4], [76, 15]], "query": [[84, 4], [84, 9]], "roles": [[85, 4], [85, 9]], "session": [[71, 4], [71, 11]], "to_replace": [[74, 4], [74, 14]], "total_entries": [[72, 4], [72, 17]]}, "fn_var_occur": {"allowed_filter_attrs": [["order_by", "allowed_filter_attrs"]], "appbuilder": [["appbuilder", "get_airflow_app", "appbuilder"], ["session", "appbuilder", "get_session"]], "direction": [["direction", "desc", "order_by", "startswith", "asc"], ["roles", "session", "scalars", "query", "order_by", "direction", "getattr", "Role", "order_param", "offset", "offset", "limit", "limit", "unique", "all"]], "order_param": [["order_param", "order_by", "strip"], ["order_param", "to_replace", "get", "order_param", "order_param"], ["roles", "session", "scalars", "query", "order_by", "direction", "getattr", "Role", "order_param", "offset", "offset", "limit", "limit", "unique", "all"]], "query": [["query", "select", "Role"], ["roles", "session", "scalars", "query", "order_by", "direction", "getattr", "Role", "order_param", "offset", "offset", "limit", "limit", "unique", "all"]], "roles": [["roles", "session", "scalars", "query", "order_by", "direction", "getattr", "Role", "order_param", "offset", "offset", "limit", "limit", "unique", "all"], ["role_collection_schema", "dump", "RoleCollection", "roles", "roles", "total_entries", "total_entries"]], "session": [["session", "appbuilder", "get_session"], ["total_entries", "session", "scalars", "select", "func", "count", "Role", "id", "one"], ["roles", "session", "scalars", "query", "order_by", "direction", "getattr", "Role", "order_param", "offset", "offset", "limit", "limit", "unique", "all"]], "to_replace": [["order_param", "to_replace", "get", "order_param", "order_param"]], "total_entries": [["total_entries", "session", "scalars", "select", "func", "count", "Role", "id", "one"], ["role_collection_schema", "dump", "RoleCollection", "roles", "roles", "total_entries", "total_entries"]]}, "name": "get_roles", "params": {"limit": "builtins.int", "offset": "int | None", "order_by": "builtins.str"}, "params_descr": {"limit": "", "offset": "", "order_by": ""}, "params_occur": {"limit": [["roles", "session", "scalars", "query", "order_by", "direction", "getattr", "Role", "order_param", "offset", "offset", "limit", "limit", "unique", "all"]], "offset": [["roles", "session", "scalars", "query", "order_by", "direction", "getattr", "Role", "order_param", "offset", "offset", "limit", "limit", "unique", "all"]], "order_by": [["direction", "desc", "order_by", "startswith", "asc"], ["order_param", "order_by", "strip"], ["order_by", "allowed_filter_attrs"], ["BadRequest", "detail", "order_by"], ["roles", "session", "scalars", "query", "order_by", "direction", "getattr", "Role", "order_param", "offset", "offset", "limit", "limit", "unique", "all"]]}, "params_p": {"args": [], "kwargs": [], "limit": [["str", 0.47227827993374716], ["sqlalchemy.orm.Session", 0.206485605864127], ["article.transfer.models.ArticleNumber", 0.1244272865719266], ["bytes", 0.11355008587409496], ["Union[int, float]", 0.08325874175610423]], "offset": [["str", 0.47227827993374716], ["sqlalchemy.orm.Session", 0.206485605864127], ["article.transfer.models.ArticleNumber", 0.1244272865719266], ["bytes", 0.11355008587409496], ["Union[int, float]", 0.08325874175610423]], "order_by": [["dict", 0.18637959554964156], ["str", 0.1779978298978955], ["apistar.types.UMIMessage", 0.13286107377503606], ["bytes", 0.09651873668249278], ["Optional[str]", 0.09424104345520927]]}, "q_name": "get_roles", "ret_exprs": ["return role_collection_schema.dump(RoleCollection(roles=roles, total_entries=total_entries))"], "ret_type": "airflow.api_connexion.types.APIResponse", "ret_type_p": [["str", 0.19999999999999998], ["bool", 0.09999999999999999]], "variables": {"allowed_filter_attrs": "", "appbuilder": "", "direction": "", "order_param": "", "query": "", "roles": "", "session": "", "to_replace": "", "total_entries": ""}, "variables_p": {"allowed_filter_attrs": [["List[str]", 0.7053074628616592], ["Dict[str, List[str]]", 0.10371789172315618], ["int", 0.09810167481315743], ["frozenset[str]", 0.09287297060202712]], "appbuilder": [["src.main.core.models.display.Display", 0.09837129212951294], ["str", 0.0938367802894725], ["Dict[str, Any]", 0.08540414213096535]], "direction": [["str", 0.4013805684642636], ["Set[str]", 0.09933582381371336], ["dict", 0.09304062854140409]], "order_param": [["str", 0.34567853803400284], ["dict", 0.15554515582636252], ["List[str]", 0.12570762301617394], ["int", 0.10981980109653545], ["Pattern[str]", 0.07756631929608188]], "query": [["list", 0.23860363972046578], ["int", 0.17020338747097025], ["raiden.utils.TokenNetworkAddress", 0.11520490758253012], ["Type[List[Any]]", 0.10684848228636394], ["str", 0.08989516971728523]], "roles": [["str", 0.1776132367733279], ["Tuple[Any, Any]", 0.11071424808913687], ["flask.blueprints.Blueprint", 0.10916141842063692], ["Dict[str, Any]", 0.08770576451411534], ["Set[str]", 0.07233631808617112]], "session": [["sqlalchemy.orm.session.Session", 0.10904715516520662]], "to_replace": [["str", 0.6184907723993895], ["Dict[int, Dict[str, str]]", 0.11601138957765433], ["OrderedDict", 0.09765269316864598], ["list", 0.0850710069652424], ["Dict[str, int]", 0.08277413788906754]], "total_entries": [["Optional[\"Lecture\"]", 0.12387098725168227], ["bool", 0.0941805711012899], ["Dict[str, float]", 0.09203750972891271], ["int", 0.08946590436560338], ["str", 0.08633711118687931]]}}, {"docstring": {"func": "Get permissions.", "long_descr": null, "ret": null}, "fn_lc": [[96, 0], [102, 104]], "fn_var_ln": {"actions": [[101, 4], [101, 11]], "query": [[100, 4], [100, 9]], "session": [[98, 4], [98, 11]], "total_entries": [[99, 4], [99, 17]]}, "fn_var_occur": {"actions": [["actions", "session", "scalars", "query", "offset", "offset", "limit", "limit", "all"], ["action_collection_schema", "dump", "ActionCollection", "actions", "actions", "total_entries", "total_entries"]], "query": [["query", "select", "Action"], ["actions", "session", "scalars", "query", "offset", "offset", "limit", "limit", "all"]], "session": [["session", "get_airflow_app", "appbuilder", "get_session"], ["total_entries", "session", "scalars", "select", "func", "count", "Action", "id", "one"], ["actions", "session", "scalars", "query", "offset", "offset", "limit", "limit", "all"]], "total_entries": [["total_entries", "session", "scalars", "select", "func", "count", "Action", "id", "one"], ["action_collection_schema", "dump", "ActionCollection", "actions", "actions", "total_entries", "total_entries"]]}, "name": "get_permissions", "params": {"limit": "builtins.int", "offset": "int | None"}, "params_descr": {"limit": "", "offset": ""}, "params_occur": {"limit": [["actions", "session", "scalars", "query", "offset", "offset", "limit", "limit", "all"]], "offset": [["actions", "session", "scalars", "query", "offset", "offset", "limit", "limit", "all"]]}, "params_p": {"args": [], "kwargs": [], "limit": [["int", 0.4087593219060293], ["raiden.utils.List[raiden.utils.Tuple[str, raiden.utils.Any]]", 0.20437966095301466], ["bool", 0.20437966095301466], ["zerver.models.Realm", 0.09125699040317203], ["str", 0.09122436578476935]], "offset": [["int", 0.4087593219060293], ["raiden.utils.List[raiden.utils.Tuple[str, raiden.utils.Any]]", 0.20437966095301466], ["bool", 0.20437966095301466], ["zerver.models.Realm", 0.09125699040317203], ["str", 0.09122436578476935]]}, "q_name": "get_permissions", "ret_exprs": ["return action_collection_schema.dump(ActionCollection(actions=actions, total_entries=total_entries))"], "ret_type": "airflow.api_connexion.types.APIResponse", "ret_type_p": [["types.Metadata", 0.3776818477947954], ["str", 0.1010001611110449], ["cmk.utils.type_defs.EventRule", 0.024146267227960094], ["float", 0.024005268903345693], ["Optional[int]", 0.024005268903345693]], "variables": {"actions": "", "query": "", "session": "", "total_entries": ""}, "variables_p": {"actions": [["str", 0.33281917631821056], ["grpy.core.models.Grouping", 0.17961589143417162], ["geode.models.common.Address", 0.1326183537008899], ["Optional[hpaction.models.HPActionDocuments]", 0.09628665037806432], ["Optional[\"Lecture\"]", 0.09224733346633099], ["int", 0.08334859635655678], ["List[str]", 0.0830639983457758]], "query": [["str", 0.1737623955078844], ["list", 0.1685576108763516], ["stiff.models.TokenizedTagging", 0.0778771195212451], ["bytes", 0.07774402842433323], ["raiden.utils.Secret", 0.07736921911385608]], "session": [["sqlalchemy.orm.session.Session", 0.22722200938336912], ["SMSShell.models.session.Session", 0.10109545031905494], ["Optional[str]", 0.09744832161055754]], "total_entries": [["Optional[magic.models.deck.Deck]", 0.22381309862057264], ["int", 0.13308869509329108], ["bool", 0.12000653927461355], ["Optional[passzero.models.documents.EncryptedDocument]", 0.09715821518765647], ["List[str]", 0.07511773071313443]]}}, {"docstring": {"func": "Delete a role.", "long_descr": null, "ret": null}, "fn_lc": [[106, 0], [113, 43]], "fn_var_ln": {"ab_security_manager": [[108, 4], [108, 23]], "role": [[109, 4], [109, 8]]}, "fn_var_occur": {"ab_security_manager": [["ab_security_manager", "get_airflow_app", "appbuilder", "sm"], ["role", "ab_security_manager", "find_role", "name", "role_name"], ["ab_security_manager", "delete_role", "role_name", "role_name"]], "role": [["role", "ab_security_manager", "find_role", "name", "role_name"]]}, "name": "delete_role", "params": {"role_name": "builtins.str"}, "params_descr": {"role_name": ""}, "params_occur": {"role_name": [["role", "ab_security_manager", "find_role", "name", "role_name"], ["NotFound", "title", "detail", "role_name"], ["ab_security_manager", "delete_role", "role_name", "role_name"]]}, "params_p": {"args": [], "kwargs": [], "role_name": [["str", 0.48985218122375085], ["Optional[str]", 0.10185944365228838], ["Iterable[str]", 0.10185944365228838], ["django.db.models.query.QuerySet", 0.09872410670546651], ["Dict[str, str]", 0.09218075494849233]]}, "q_name": "delete_role", "ret_exprs": ["return NoContent, HTTPStatus.NO_CONTENT"], "ret_type": "airflow.api_connexion.types.APIResponse", "ret_type_p": [["str", 0.6956528318422459], ["Type[Any]", 0.10420538682390258], ["List[str]", 0.09819110077305077]], "variables": {"ab_security_manager": "", "role": ""}, "variables_p": {"ab_security_manager": [], "role": []}}, {"docstring": {"func": "Update a role.", "long_descr": null, "ret": null}, "fn_lc": [[117, 0], [147, 33]], "fn_var_ln": {"appbuilder": [[119, 4], [119, 14]], "body": [[121, 4], [121, 8]], "data": [[139, 8], [139, 12]], "data_": [[131, 8], [131, 13]], "new_name": [[144, 4], [144, 12]], "perms": [[141, 8], [141, 13]], "role": [[126, 4], [126, 8]], "security_manager": [[120, 4], [120, 20]], "update_mask": [[130, 8], [130, 19]]}, "fn_var_occur": {"appbuilder": [["appbuilder", "get_airflow_app", "appbuilder"], ["security_manager", "appbuilder", "sm"]], "body": [["body", "request", "json"], ["data", "role_schema", "load", "body"]], "data": [["data", "role_schema", "load", "body"], ["field", "data", "field"], ["data_", "field", "data", "field"], ["data_", "data"], ["data", "data_"], ["perms", "item", "item", "item", "data", "item"], ["new_name", "data", "get"]], "data_": [["data_", "field", "data", "field"], ["data_", "data"], ["data", "data_"]], "new_name": [["new_name", "data", "get"], ["new_name", "None", "new_name", "role", "name"], ["security_manager", "update_role", "role_id", "role", "id", "name", "new_name"]], "perms": [["perms", "item", "item", "item", "data", "item"], ["_check_action_and_resource", "security_manager", "perms"], ["security_manager", "bulk_sync_roles", "role_name", "perms"]], "role": [["role", "security_manager", "find_role", "name", "role_name"], ["new_name", "None", "new_name", "role", "name"], ["security_manager", "update_role", "role_id", "role", "id", "name", "new_name"], ["role_schema", "dump", "role"]], "security_manager": [["security_manager", "appbuilder", "sm"], ["role", "security_manager", "find_role", "name", "role_name"], ["_check_action_and_resource", "security_manager", "perms"], ["security_manager", "bulk_sync_roles", "role_name", "perms"], ["security_manager", "update_role", "role_id", "role", "id", "name", "new_name"]], "update_mask": [["update_mask", "i", "strip", "i", "update_mask"]]}, "name": "patch_role", "params": {"role_name": "builtins.str", "update_mask": "airflow.api_connexion.types.UpdateMask"}, "params_descr": {"role_name": "", "update_mask": ""}, "params_occur": {"role_name": [["role", "security_manager", "find_role", "name", "role_name"], ["NotFound", "title", "detail", "role_name"], ["security_manager", "bulk_sync_roles", "role_name", "perms"]], "update_mask": [["update_mask", "i", "strip", "i", "update_mask"]]}, "params_p": {"args": [], "kwargs": [], "role_name": [["str", 0.5055835609362557], ["int", 0.1013914757761216], ["List[str]", 0.09284598884700468]], "update_mask": [["str", 0.8125843774569634]]}, "q_name": "patch_role", "ret_exprs": ["return role_schema.dump(role)"], "ret_type": "airflow.api_connexion.types.APIResponse", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "variables": {"appbuilder": "", "body": "", "data": "", "data_": "", "new_name": "", "perms": "", "role": "", "security_manager": "", "update_mask": ""}, "variables_p": {"appbuilder": [["List[str]", 0.08281974171809618], ["str", 0.08173770707853266]], "body": [["str", 0.30667510988245555], ["Dict[str, Any]", 0.30133585064728613], ["List[str]", 0.11287189861458169], ["Dict[str, Union[str, Any]]", 0.10044528354909538], ["bytes", 0.09158038910103869], ["Dict[str, str]", 0.08709146820554245]], "data": [["dict", 1.0000000000000002]], "data_": [["Dict[str, str]", 0.22466667209156013], ["list", 0.18233373234743136], ["Dict[str, List[tuple]]", 0.11880197805003208], ["List[str]", 0.09903302129766227], ["Dict[str, Union[int, str]]", 0.09302347817112969], ["Dict[Union[Any, str], Any]", 0.08125167522576913]], "new_name": [["str", 0.3052528404445624], ["Type[taxonomy.db.models.name.Name]", 0.1440386899255983], ["dict", 0.09648951099569875], ["List[str]", 0.09403943287705373], ["stiff.models.Tagging", 0.08755175713319388]], "perms": [["set", 0.10952894782118582], ["List[str]", 0.10477084281609496], ["dict", 0.10013772363051175]], "role": [["int", 0.10971478461683196], ["Optional[List[str]]", 0.09529761727822451], ["Set[str]", 0.0908154419507912]], "security_manager": [], "update_mask": [["Pattern[str]", 0.5900761649946534], ["str", 0.28872050758317], ["Pattern[bytes]", 0.12120332742217664]]}}, {"docstring": {"func": "Create a new role.", "long_descr": null, "ret": null}, "fn_lc": [[151, 0], [167, 38]], "fn_var_ln": {"appbuilder": [[153, 4], [153, 14]], "body": [[155, 4], [155, 8]], "data": [[157, 8], [157, 12]], "detail": [[166, 4], [166, 10]], "perms": [[162, 8], [162, 13]], "role": [[160, 4], [160, 8]], "security_manager": [[154, 4], [154, 20]]}, "fn_var_occur": {"appbuilder": [["appbuilder", "get_airflow_app", "appbuilder"], ["security_manager", "appbuilder", "sm"]], "body": [["body", "request", "json"], ["data", "role_schema", "load", "body"]], "data": [["data", "role_schema", "load", "body"], ["role", "security_manager", "find_role", "name", "data"], ["perms", "item", "item", "item", "data", "item"], ["security_manager", "bulk_sync_roles", "data", "perms"]], "detail": [["BadRequest", "detail", "str", "err", "messages"], ["detail", "role", "name"], ["AlreadyExists", "detail", "detail"]], "perms": [["perms", "item", "item", "item", "data", "item"], ["_check_action_and_resource", "security_manager", "perms"], ["security_manager", "bulk_sync_roles", "data", "perms"]], "role": [["role", "security_manager", "find_role", "name", "data"], ["role_schema", "dump", "role"], ["detail", "role", "name"]], "security_manager": [["security_manager", "appbuilder", "sm"], ["role", "security_manager", "find_role", "name", "data"], ["_check_action_and_resource", "security_manager", "perms"], ["security_manager", "bulk_sync_roles", "data", "perms"]]}, "name": "post_role", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "post_role", "ret_exprs": ["return role_schema.dump(role)"], "ret_type": "airflow.api_connexion.types.APIResponse", "ret_type_p": [["Optional[Type]", 0.2499999998904522], ["dict", 6.359195661917437e-11]], "variables": {"appbuilder": "", "body": "", "data": "", "detail": "", "perms": "", "role": "", "security_manager": ""}, "variables_p": {"appbuilder": [["List[str]", 0.08281974171809618], ["str", 0.08173770707853266]], "body": [["str", 0.30667510988245555], ["Dict[str, Any]", 0.30133585064728613], ["List[str]", 0.11287189861458169], ["Dict[str, Union[str, Any]]", 0.10044528354909538], ["bytes", 0.09158038910103869], ["Dict[str, str]", 0.08709146820554245]], "data": [["Dict[str, Union[Any, int]]", 0.1602303116399378], ["Dict[str, Union[float, str]]", 0.15121222840358417], ["List[Dict[str, Any]]", 0.11066639235728289], ["Tuple[Literal, Literal, Literal, Literal]", 0.09187826340794296], ["Dict[Any, str]", 0.09138715480346367], ["list", 0.0892339391432561], ["Dict[str, Dict[str, Any]]", 0.08276284381819547], ["Dict[str, str]", 0.07469180514319067], ["List[str]", 0.07423749308159318], ["dict", 0.07369956820155318]], "detail": [["docusign.models.Config", 0.08916626911464537]], "perms": [["set", 0.11953927399922519], ["dict", 0.09392022991909524], ["List[str]", 0.0923654847712812], ["alerta.models.alerAlert", 0.09171542987154752]], "role": [["str", 0.4438514837500543], ["List[Dict[str, str]]", 0.08501627535897384], ["int", 0.08501627535897384], ["dict", 0.08451661164140198]], "security_manager": []}}], "imports": ["__future__", "annotations", "http", "HTTPStatus", "connexion", "NoContent", "flask", "request", "marshmallow", "ValidationError", "sqlalchemy", "asc", "desc", "func", "select", "airflow", "api_connexion", "security", "airflow", "api_connexion", "exceptions", "AlreadyExists", "BadRequest", "NotFound", "airflow", "api_connexion", "parameters", "check_limit", "format_parameters", "airflow", "api_connexion", "schemas", "role_and_permission_schema", "ActionCollection", "RoleCollection", "action_collection_schema", "role_collection_schema", "role_schema", "airflow", "api_connexion", "types", "APIResponse", "UpdateMask", "airflow", "security", "permissions", "airflow", "utils", "airflow_flask_app", "get_airflow_app", "airflow", "www", "fab_security", "sqla", "models", "Action", "Role", "airflow", "www", "security", "AirflowSecurityManager"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 17, "I": 0, "U": 33}, "session_id": "YfsFTZdeaABN9vV8GJmaWR5YBQE2AHx4aR20_7eAFnA", "set": null, "tc": [false, null], "type_annot_cove": 0.34, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}