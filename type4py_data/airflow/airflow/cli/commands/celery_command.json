{"error": null, "response": {"classes": [{"cls_lc": [[115, 8], [119, 53]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[118, 12], [119, 53]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "filter", "params": {"record": "", "self": ""}, "params_descr": {"record": "", "self": ""}, "params_occur": {"record": [["record", "levelno", "logging", "ERROR"]], "self": []}, "params_p": {"args": [], "kwargs": [], "record": [["logging.LogRecord", 0.9999999997384513], ["float", 9.6869360269689e-11], ["str", 4.524899963596036e-11], ["Optional[Callable]", 2.1888118199297007e-11], ["logging.Handler", 2.1888118199297007e-11]], "self": []}, "q_name": "logger_setup_handler.<locals>.NoErrorOrAboveFilter.filter", "ret_exprs": ["return record.levelno < logging.ERROR"], "ret_type": "", "ret_type_p": [["str", 0.40445403895428894], ["dict", 0.19632225217487043], ["Dict[str, Any]", 0.1939298686647407]], "variables": {}, "variables_p": {}}], "name": "NoErrorOrAboveFilter", "q_name": "logger_setup_handler.<locals>.NoErrorOrAboveFilter", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": "Starts Flower, Celery monitoring tool.", "long_descr": null, "ret": null}, "fn_lc": [[46, 0], [88, 33]], "fn_var_ln": {"_": [[68, 33], [68, 34]], "ctx": [[79, 12], [79, 15]], "options": [[48, 4], [48, 11]], "pidfile": [[68, 8], [68, 15]], "stderr": [[68, 25], [68, 31]], "stdout": [[68, 17], [68, 23]]}, "fn_var_occur": {"_": [["pidfile", "stdout", "stderr", "_", "setup_locations", "process", "pid", "args", "pid", "stdout", "args", "stdout", "stderr", "args", "stderr", "log", "args", "log_file"]], "ctx": [["ctx", "daemon", "DaemonContext", "pidfile", "TimeoutPIDLockFile", "pidfile", "stdout", "stdout", "stderr", "stderr", "umask", "int", "settings", "DAEMON_UMASK"]], "options": [["options", "conf", "get", "args", "hostname", "args", "port"], ["options", "append", "args", "broker_api"], ["options", "append", "args", "url_prefix"], ["options", "append", "args", "basic_auth"], ["options", "append", "args", "flower_conf"], ["celery_app", "start", "options"], ["celery_app", "start", "options"]], "pidfile": [["pidfile", "stdout", "stderr", "_", "setup_locations", "process", "pid", "args", "pid", "stdout", "args", "stdout", "stderr", "args", "stderr", "log", "args", "log_file"], ["ctx", "daemon", "DaemonContext", "pidfile", "TimeoutPIDLockFile", "pidfile", "stdout", "stdout", "stderr", "stderr", "umask", "int", "settings", "DAEMON_UMASK"]], "stderr": [["pidfile", "stdout", "stderr", "_", "setup_locations", "process", "pid", "args", "pid", "stdout", "args", "stdout", "stderr", "args", "stderr", "log", "args", "log_file"], ["stderr", "truncate"], ["ctx", "daemon", "DaemonContext", "pidfile", "TimeoutPIDLockFile", "pidfile", "stdout", "stdout", "stderr", "stderr", "umask", "int", "settings", "DAEMON_UMASK"]], "stdout": [["pidfile", "stdout", "stderr", "_", "setup_locations", "process", "pid", "args", "pid", "stdout", "args", "stdout", "stderr", "args", "stderr", "log", "args", "log_file"], ["open", "stdout", "stdout"], ["stdout", "truncate"], ["ctx", "daemon", "DaemonContext", "pidfile", "TimeoutPIDLockFile", "pidfile", "stdout", "stdout", "stderr", "stderr", "umask", "int", "settings", "DAEMON_UMASK"]]}, "name": "flower", "params": {"args": ""}, "params_descr": {"args": ""}, "params_occur": {"args": [["options", "conf", "get", "args", "hostname", "args", "port"], ["args", "broker_api"], ["options", "append", "args", "broker_api"], ["args", "url_prefix"], ["options", "append", "args", "url_prefix"], ["args", "basic_auth"], ["options", "append", "args", "basic_auth"], ["args", "flower_conf"], ["options", "append", "args", "flower_conf"], ["args", "daemon"], ["pidfile", "stdout", "stderr", "_", "setup_locations", "process", "pid", "args", "pid", "stdout", "args", "stdout", "stderr", "args", "stderr", "log", "args", "log_file"]]}, "params_p": {"args": [], "kwargs": []}, "q_name": "flower", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "ctx": "", "options": "", "pidfile": "", "stderr": "", "stdout": ""}, "variables_p": {"_": [["List[str]", 0.2637720229690545], ["float", 0.1385927169635452], ["str", 0.09992401541834792], ["Dict[str, Tuple[Any, Any]]", 0.08745755245195255]], "ctx": [["dict", 0.07375203393741714], ["defaultdict", 0.06503191287119556], ["str", 0.06024267287272504]], "options": [["Dict[str, Any]", 0.1488034428538245], ["Dict[str, List[str]]", 0.12022104538710399], ["str", 0.11571899198683425], ["List[str]", 0.10931151918710105], ["Dict[str, str]", 0.0789912234360635]], "pidfile": [["str", 0.19501809765397043]], "stderr": [["str", 0.4789300230432967], ["float", 0.10297442888763679]], "stdout": [["str", 0.3819830110475976], ["float", 0.10194586860877862]]}}, {"docstring": {"func": "Starts serve_logs sub-process.", "long_descr": null, "ret": null}, "fn_lc": [[92, 0], [100, 28]], "fn_var_ln": {"sub_proc": [[96, 8], [96, 16]]}, "fn_var_occur": {"sub_proc": [["sub_proc", "None"], ["sub_proc", "Process", "target", "serve_logs"], ["sub_proc", "start"], ["sub_proc", "terminate"]]}, "name": "_serve_logs", "params": {"skip_serve_logs": "builtins.bool"}, "params_descr": {"skip_serve_logs": ""}, "params_occur": {"skip_serve_logs": [["skip_serve_logs", "False"]]}, "params_p": {"args": [], "kwargs": [], "skip_serve_logs": [["bool", 0.1948626933868701], ["str", 0.1016313309887472], ["\"Pipeline\"", 0.09841931858515288], ["float", 0.09834469505729487], ["Dict[str, int]", 0.09400938832226251]]}, "q_name": "_serve_logs", "ret_exprs": [], "ret_type": "", "variables": {"sub_proc": ""}, "variables_p": {"sub_proc": [["int", 0.1947175173050494], ["list", 0.16875711213035977], ["Type[Dict[Any, Any]]", 0.09560336870236641], ["str", 0.08506114606892845]]}}, {"docstring": {"func": "Reconfigure the logger.", "long_descr": "* remove any previously configured handlers\n* logs of severity error, and above goes to stderr,\n* logs of severity lower than error goes to stdout.", "ret": null}, "fn_lc": [[104, 0], [129, 70]], "fn_var_ln": {"below_error_handler": [[121, 8], [121, 27]], "celery_formatter": [[113, 8], [113, 24]], "from_error_handler": [[125, 8], [125, 26]]}, "fn_var_occur": {"below_error_handler": [["below_error_handler", "logging", "StreamHandler", "sys", "stdout"], ["below_error_handler", "addFilter", "NoErrorOrAboveFilter"], ["below_error_handler", "setFormatter", "celery_formatter"], ["logger", "handlers", "below_error_handler", "from_error_handler"]], "celery_formatter": [["below_error_handler", "setFormatter", "celery_formatter"], ["from_error_handler", "setFormatter", "celery_formatter"]], "from_error_handler": [["from_error_handler", "logging", "StreamHandler", "sys", "stderr"], ["from_error_handler", "setLevel", "logging", "ERROR"], ["from_error_handler", "setFormatter", "celery_formatter"], ["logger", "handlers", "below_error_handler", "from_error_handler"]]}, "name": "logger_setup_handler", "params": {"kwargs": "", "logger": ""}, "params_descr": {"kwargs": "", "logger": ""}, "params_occur": {"kwargs": [], "logger": [["logger", "handlers", "below_error_handler", "from_error_handler"]]}, "params_p": {"args": [], "kwargs": [], "logger": [["str", 0.32492000460651127], ["logging.Logger", 0.19880476352183957], ["Callable", 0.1687057457334804], ["bool", 0.10721602761277835]]}, "q_name": "logger_setup_handler", "ret_exprs": [], "ret_type": "", "variables": {"below_error_handler": "", "celery_formatter": "", "from_error_handler": ""}, "variables_p": {"below_error_handler": [["logging.StreamHandler", 0.38020080611809687], ["logging.handlers.RotatingFileHandler", 0.3373832230836825], ["logging.Formatter", 0.09976596827863239], ["raiden.utils.Any", 0.09245756887567277], ["shanghai.logging.Logger", 0.09019243364391541]], "celery_formatter": [["logging.Formatter", 0.8916103750088284], ["logging.handlers.QueueHandler", 0.10838962499117148]], "from_error_handler": [["logging.Formatter", 0.7169819039659354], ["logging.StreamHandler", 0.09622367917429804], ["str", 0.094059665481981], ["Optional[logging.Handler]", 0.09273475137778583]]}}, {"docstring": {"func": "Starts Airflow Celery worker.", "long_descr": null, "ret": null}, "fn_lc": [[133, 0], [233, 43]], "fn_var_ln": {"autoscale": [[144, 8], [144, 17]], "celery_log_level": [[174, 8], [174, 24]], "daemon_context": [[221, 12], [221, 26]], "handle": [[210, 8], [210, 14]], "log_file": [[147, 35], [147, 43]], "options": [[176, 4], [176, 11]], "pid_file_path": [[147, 4], [147, 17]], "pool": [[199, 8], [199, 12]], "session": [[162, 12], [162, 19]], "skip_serve_logs": [[141, 4], [141, 19]], "stderr": [[147, 27], [147, 33]], "stdout": [[147, 19], [147, 25]], "umask": [[216, 16], [216, 21]]}, "fn_var_occur": {"autoscale": [["autoscale", "args", "autoscale"], ["autoscale", "None", "conf", "has_option"], ["autoscale", "conf", "get"], ["options", "extend", "autoscale"]], "celery_log_level": [["celery_log_level", "conf", "get"], ["celery_log_level", "conf", "get"], ["options", "args", "queues", "args", "concurrency", "args", "celery_hostname", "celery_log_level", "pid_file_path"]], "daemon_context": [["daemon_context", "daemon", "DaemonContext", "files_preserve", "handle", "umask", "int", "umask", "stdout", "stdout_handle", "stderr", "stderr_handle"]], "handle": [["handle", "setup_logging", "log_file"], ["daemon_context", "daemon", "DaemonContext", "files_preserve", "handle", "umask", "int", "umask", "stdout", "stdout_handle", "stderr", "stderr_handle"]], "log_file": [["pid_file_path", "stdout", "stderr", "log_file", "setup_locations", "process", "WORKER_PROCESS_NAME", "pid", "args", "pid", "stdout", "args", "stdout", "stderr", "args", "stderr", "log", "args", "log_file"], ["handle", "setup_logging", "log_file"]], "options": [["options", "args", "queues", "args", "concurrency", "args", "celery_hostname", "celery_log_level", "pid_file_path"], ["options", "extend", "autoscale"], ["options", "append"], ["options", "append"], ["options", "extend", "pool"], ["celery_app", "worker_main", "options"], ["celery_app", "worker_main", "options"]], "pid_file_path": [["pid_file_path", "stdout", "stderr", "log_file", "setup_locations", "process", "WORKER_PROCESS_NAME", "pid", "args", "pid", "stdout", "args", "stdout", "stderr", "args", "stderr", "log", "args", "log_file"], ["options", "args", "queues", "args", "concurrency", "args", "celery_hostname", "celery_log_level", "pid_file_path"]], "pool": [["pool", "conf", "get"], ["options", "extend", "pool"], ["maybe_patch_concurrency", "pool"]], "session": [["session", "celery_app", "backend", "ResultSession"], ["session", "close"]], "skip_serve_logs": [["skip_serve_logs", "args", "skip_serve_logs"], ["_serve_logs", "skip_serve_logs"]], "stderr": [["pid_file_path", "stdout", "stderr", "log_file", "setup_locations", "process", "WORKER_PROCESS_NAME", "pid", "args", "pid", "stdout", "args", "stdout", "stderr", "args", "stderr", "log", "args", "log_file"], ["daemon_context", "daemon", "DaemonContext", "files_preserve", "handle", "umask", "int", "umask", "stdout", "stdout_handle", "stderr", "stderr_handle"]], "stdout": [["pid_file_path", "stdout", "stderr", "log_file", "setup_locations", "process", "WORKER_PROCESS_NAME", "pid", "args", "pid", "stdout", "args", "stdout", "stderr", "args", "stderr", "log", "args", "log_file"], ["open", "stdout", "stdout_handle"], ["daemon_context", "daemon", "DaemonContext", "files_preserve", "handle", "umask", "int", "umask", "stdout", "stdout_handle", "stderr", "stderr_handle"]], "umask": [["args", "umask"], ["umask", "args", "umask"], ["umask", "conf", "get", "fallback", "settings", "DAEMON_UMASK"], ["daemon_context", "daemon", "DaemonContext", "files_preserve", "handle", "umask", "int", "umask", "stdout", "stdout_handle", "stderr", "stderr_handle"]]}, "name": "worker", "params": {"args": ""}, "params_descr": {"args": ""}, "params_occur": {"args": [["autoscale", "args", "autoscale"], ["skip_serve_logs", "args", "skip_serve_logs"], ["pid_file_path", "stdout", "stderr", "log_file", "setup_locations", "process", "WORKER_PROCESS_NAME", "pid", "args", "pid", "stdout", "args", "stdout", "stderr", "args", "stderr", "log", "args", "log_file"], ["options", "args", "queues", "args", "concurrency", "args", "celery_hostname", "celery_log_level", "pid_file_path"], ["args", "without_mingle"], ["args", "without_gossip"], ["args", "daemon"], ["args", "umask"], ["umask", "args", "umask"]]}, "params_p": {"args": [], "kwargs": []}, "q_name": "worker", "ret_exprs": [], "ret_type": "", "variables": {"autoscale": "", "celery_log_level": "", "daemon_context": "", "handle": "", "log_file": "", "options": "", "pid_file_path": "", "pool": "", "session": "", "skip_serve_logs": "", "stderr": "", "stdout": "", "umask": ""}, "variables_p": {"autoscale": [["str", 0.4966876186881084], ["Set[str]", 0.18908338190097393], ["Dict[str, Any]", 0.1319895784653074], ["Dict[str, str]", 0.09146483613560377], ["List[str]", 0.09077458481000623]], "celery_log_level": [["str", 0.19150251639832122], ["Dict[str, Any]", 0.1818294626953331], ["Sequence", 0.1335765197400288], ["Mapping", 0.1193772627178159], ["Dict[str, List[str]]", 0.08678375046056779], ["OrderedDict[str, Any]", 0.08674832776076197]], "daemon_context": [["myia.utils.misc.Registry[Any, Any]", 0.3970560784021834]], "handle": [["str", 0.4142930946033188], ["bytes", 0.10342662849283686], ["dict", 0.08943042671293586]], "log_file": [["str", 0.26511556003706305]], "options": [["Dict[str, Any]", 0.339945341518346], ["Set[str]", 0.08871779292780835]], "pid_file_path": [["str", 0.1870789889865221]], "pool": [["dict", 0.3153113688397337], ["str", 0.2254741567279615], ["Dict[str, Union[Any, Any, Any]]", 0.2048207301011251], ["int", 0.0942720865408141]], "session": [["dict", 0.0947891603295043], ["vjemmie.utils.voting.VotingSession", 0.07684051227035597]], "skip_serve_logs": [["bool", 0.12195557576003234], ["Dict[str, str]", 0.09588615902473187], ["str", 0.09495654665613687], ["List[str]", 0.09324540541401974], ["dict", 0.09305264067106081], ["Type[property]", 0.08925622656817249]], "stderr": [["str", 0.4189079534412002], ["List[str]", 0.09510169643471883], ["multiprocessing.Queue", 0.09228373114108063]], "stdout": [["str", 0.4189079534412002], ["List[str]", 0.09510169643471883], ["multiprocessing.Queue", 0.09228373114108063]], "umask": [["str", 0.08868961144197185], ["List[str]", 0.0816162734032407]]}}, {"docstring": {"func": "Sends SIGTERM to Celery worker.", "long_descr": null, "ret": null}, "fn_lc": [[237, 0], [252, 42]], "fn_var_ln": {"_": [[243, 29], [243, 30]], "pid": [[244, 4], [244, 7]], "pid_file_path": [[243, 8], [243, 21]], "worker_process": [[248, 8], [248, 22]]}, "fn_var_occur": {"_": [["pid_file_path", "_", "_", "_", "setup_locations", "process", "WORKER_PROCESS_NAME"]], "pid": [["args", "pid"], ["pid_file_path", "args", "pid"], ["pid", "read_pid_from_pidfile", "pid_file_path"], ["worker_process", "psutil", "Process", "pid"]], "pid_file_path": [["pid_file_path", "args", "pid"], ["pid_file_path", "_", "_", "_", "setup_locations", "process", "WORKER_PROCESS_NAME"], ["pid", "read_pid_from_pidfile", "pid_file_path"], ["remove_existing_pidfile", "pid_file_path"]], "worker_process": [["worker_process", "psutil", "Process", "pid"], ["worker_process", "terminate"]]}, "name": "stop_worker", "params": {"args": ""}, "params_descr": {"args": ""}, "params_occur": {"args": [["args", "pid"], ["pid_file_path", "args", "pid"]]}, "params_p": {"args": [], "kwargs": []}, "q_name": "stop_worker", "ret_exprs": [], "ret_type": "", "variables": {"_": "", "pid": "", "pid_file_path": "", "worker_process": ""}, "variables_p": {"_": [["str", 0.9999999999999999]], "pid": [["str", 0.20247655948050533], ["int", 0.07483329519154587], ["Tuple[str, str, str]", 0.07307571943638787], ["set", 0.07277150622159573]], "pid_file_path": [["str", 0.5973340621259212], ["dict", 0.11052868165645162], ["Optional[List[str]]", 0.10634572557122166]], "worker_process": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]]}}], "imports": ["__future__", "annotations", "logging", "sys", "contextlib", "contextmanager", "multiprocessing", "Process", "daemon", "psutil", "sqlalchemy.exc", "celery", "maybe_patch_concurrency", "celery", "app", "defaults", "DEFAULT_TASK_LOG_FMT", "celery", "signals", "after_setup_logger", "daemon", "pidfile", "TimeoutPIDLockFile", "lockfile", "pidlockfile", "read_pid_from_pidfile", "remove_existing_pidfile", "airflow", "settings", "airflow", "configuration", "conf", "airflow", "executors", "celery_executor", "app", "celery_app", "airflow", "utils", "cli", "cli_utils", "airflow", "utils", "cli", "setup_locations", "setup_logging", "airflow", "utils", "serve_logs", "serve_logs"], "mod_var_ln": {"WORKER_PROCESS_NAME": [[42, 0], [42, 19]]}, "mod_var_occur": {"WORKER_PROCESS_NAME": [["pid_file_path", "stdout", "stderr", "log_file", "setup_locations", "process", "WORKER_PROCESS_NAME", "pid", "args", "pid", "stdout", "args", "stdout", "stderr", "args", "stderr", "log", "args", "log_file"], ["pid_file_path", "_", "_", "_", "setup_locations", "process", "WORKER_PROCESS_NAME"]]}, "no_types_annot": {"D": 1, "I": 0, "U": 40}, "session_id": "_jtYH8Kvsk0MN06MZHoo5_xykV61D5gQP-5jqCfW6gU", "set": null, "tc": [false, null], "type_annot_cove": 0.02, "typed_seq": "", "untyped_seq": "", "variables": {"WORKER_PROCESS_NAME": ""}, "variables_p": {"WORKER_PROCESS_NAME": [["str", 0.6865233018853216], ["list", 0.10020408799764745]]}}}