{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": "Lists all existing roles.", "long_descr": null, "ret": null}, "fn_lc": [[34, 0], [56, 5]], "fn_var_ln": {"permission_map": [[47, 4], [47, 18]], "roles": [[39, 8], [39, 13]]}, "fn_var_occur": {"permission_map": [["permission_map", "builtins", "dict", "builtins", "tuple", "builtins", "str", "builtins", "str", "builtins", "list", "builtins", "str", "collections", "defaultdict", "list"], ["permission_map", "role", "name", "permission", "resource", "name", "append", "permission", "action", "name"], ["AirflowConsole", "print_as", "data", "sorted", "permission_map", "output", "args", "output", "mapper", "x", "x", "x", "join", "sorted", "permission_map", "x"]], "roles": [["roles", "appbuilder", "sm", "get_all_roles"], ["AirflowConsole", "print_as", "data", "sorted", "r", "name", "r", "roles", "output", "args", "output", "mapper", "x", "x"]]}, "name": "roles_list", "params": {"args": ""}, "params_descr": {"args": ""}, "params_occur": {"args": [["args", "permission"], ["AirflowConsole", "print_as", "data", "sorted", "r", "name", "r", "roles", "output", "args", "output", "mapper", "x", "x"], ["AirflowConsole", "print_as", "data", "sorted", "permission_map", "output", "args", "output", "mapper", "x", "x", "x", "join", "sorted", "permission_map", "x"]]}, "params_p": {"args": [], "kwargs": []}, "q_name": "roles_list", "ret_exprs": ["return"], "ret_type": "", "ret_type_p": [["int", 0.1941986065845128], ["app.models.Article", 0.11722880102857788], ["str", 0.10535415053536423], ["Optional[bool]", 0.1025038714236095], ["app.models.move.Coordinate", 0.09930301633004028], ["Iterator[Tuple[str, str]]", 0.09505674431962348]], "variables": {"permission_map": "builtins.dict[builtins.tuple[builtins.str, builtins.str], builtins.list[builtins.str]]", "roles": ""}, "variables_p": {"permission_map": [["str", 0.527765003459082], ["Dict[str, str]", 0.2805646075598756], ["Tuple[Literal, Literal, Literal, Literal]", 0.19167038898104263]], "roles": [["Tuple[Any, Any]", 0.1810805563511154], ["dict", 0.09393793442778739]]}}, {"docstring": {"func": "Creates new empty role in DB.", "long_descr": null, "ret": null}, "fn_lc": [[61, 0], [68, 44]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "roles_create", "params": {"args": ""}, "params_descr": {"args": ""}, "params_occur": {"args": [["args", "role"], ["print", "len", "args", "role"]]}, "params_p": {"args": [], "kwargs": []}, "q_name": "roles_create", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Deletes role in DB.", "long_descr": null, "ret": null}, "fn_lc": [[73, 0], [85, 46]], "fn_var_ln": {"role": [[79, 12], [79, 16]]}, "fn_var_occur": {"role": [["args", "role"], ["role", "appbuilder", "sm", "find_role", "role_name"], ["args", "role"], ["print", "len", "args", "role"]]}, "name": "roles_delete", "params": {"args": ""}, "params_descr": {"args": ""}, "params_occur": {"args": [["args", "role"], ["args", "role"], ["print", "len", "args", "role"]]}, "params_p": {"args": [], "kwargs": []}, "q_name": "roles_delete", "ret_exprs": [], "ret_type": "", "variables": {"role": ""}, "variables_p": {"role": [["Dict[Any, int]", 0.11011646481666384], ["bool", 0.10431759855356286], ["int", 0.08998682705339554]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[88, 0], [136, 85]], "fn_var_ln": {"action": [[114, 12], [114, 18]], "asm": [[96, 8], [96, 11]], "is_add": [[92, 8], [92, 14]], "perm": [[131, 20], [131, 24]], "perm_map": [[95, 8], [95, 16]], "permission_count": [[119, 8], [119, 24]], "res_key": [[123, 12], [123, 19]], "resource": [[108, 12], [108, 20]], "role": [[98, 12], [98, 16]], "role_map": [[94, 8], [94, 16]]}, "fn_var_occur": {"action": [["perm_map", "name", "permission", "resource", "name", "add", "permission", "action", "name"], ["args", "action"], ["action", "Action", "None", "asm", "get_action", "name"], ["list", "itertools", "product", "args", "role", "args", "resource", "args", "action", "None"]], "asm": [["asm", "appbuilder", "sm"], ["role", "Role", "None", "asm", "find_role", "name"], ["resource", "Resource", "None", "asm", "get_resource", "name"], ["action", "Action", "None", "asm", "get_action", "name"], ["perm", "Permission", "None", "asm", "create_permission", "action_name", "resource_name"], ["asm", "add_permission_to_role", "role_map", "role_name", "perm"], ["perm", "Permission", "None", "asm", "get_permission", "_action_name", "resource_name"], ["asm", "remove_permission_from_role", "role_map", "role_name", "perm"]], "is_add": [["is_add", "builtins", "bool", "args", "subcommand", "startswith"], ["is_add", "action_name", "perm_map", "res_key"], ["is_add", "res_key", "perm_map"], ["print", "is_add", "permission_count"]], "perm": [["perm", "Permission", "None", "asm", "create_permission", "action_name", "resource_name"], ["asm", "add_permission_to_role", "role_map", "role_name", "perm"], ["print", "perm", "role_name"], ["perm", "Permission", "None", "asm", "get_permission", "_action_name", "resource_name"], ["asm", "remove_permission_from_role", "role_map", "role_name", "perm"], ["print", "perm", "role_name"]], "perm_map": [["perm_map", "builtins", "dict", "builtins", "tuple", "builtins", "str", "builtins", "str", "builtins", "set", "builtins", "str", "collections", "defaultdict", "set"], ["perm_map", "name", "permission", "resource", "name", "add", "permission", "action", "name"], ["is_add", "action_name", "perm_map", "res_key"], ["is_add", "res_key", "perm_map"], ["perm_map", "res_key", "action_name", "None", "action_name"]], "permission_count": [["print", "is_add", "permission_count"]], "res_key": [["res_key", "role_name", "resource_name"], ["is_add", "action_name", "perm_map", "res_key"], ["is_add", "res_key", "perm_map"], ["perm_map", "res_key", "action_name", "None", "action_name"]], "resource": [["perm_map", "name", "permission", "resource", "name", "add", "permission", "action", "name"], ["args", "resource"], ["resource", "Resource", "None", "asm", "get_resource", "name"], ["list", "itertools", "product", "args", "role", "args", "resource", "args", "action", "None"]], "role": [["args", "role"], ["role", "Role", "None", "asm", "find_role", "name"], ["role_map", "name", "role"], ["role", "permissions"], ["list", "itertools", "product", "args", "role", "args", "resource", "args", "action", "None"]], "role_map": [["role_map", "name", "role"], ["asm", "add_permission_to_role", "role_map", "role_name", "perm"], ["asm", "remove_permission_from_role", "role_map", "role_name", "perm"]]}, "name": "__roles_add_or_remove_permissions", "params": {"args": ""}, "params_descr": {"args": ""}, "params_occur": {"args": [["is_add", "builtins", "bool", "args", "subcommand", "startswith"], ["args", "role"], ["args", "resource"], ["args", "action"], ["list", "itertools", "product", "args", "role", "args", "resource", "args", "action", "None"]]}, "params_p": {"args": [], "kwargs": []}, "q_name": "__roles_add_or_remove_permissions", "ret_exprs": [], "ret_type": "", "variables": {"action": "Action | None", "asm": "", "is_add": "builtins.bool", "perm": "Permission | None", "perm_map": "builtins.dict[builtins.tuple[builtins.str, builtins.str], builtins.set[builtins.str]]", "permission_count": "", "res_key": "", "resource": "Resource | None", "role": "Role | None", "role_map": ""}, "variables_p": {"action": [["dict", 0.14285743611616653], ["Dict[str, Any]", 0.09270747859350642], ["utils.sap_hana.ParsedSection", 0.09250454770753018]], "asm": [], "is_add": [["bool", 1.0000000000000002]], "perm": [["dict", 0.10752208550401722], ["Optional[str]", 0.10042929341227261], ["Dict[str, Dict[str, dict]]", 0.09230199030717352]], "perm_map": [["List[str]", 0.30637324299602753], ["Dict[str, str]", 0.2828757519463725], ["str", 0.19181291395172095], ["OrderedDict[str, Any]", 0.09641638376010105]], "permission_count": [["dict", 0.3921837100424477], ["List[str]", 0.197809340539522], ["Set[str]", 0.1111305297835132], ["list", 0.10611677177423386], ["str", 0.09084262180872585]], "res_key": [["dict", 0.19095883818198967], ["Type[Tuple[str, ...]]", 0.14709119696439096], ["set", 0.10255457952294968], ["Iterable[Dict[str, Any]]", 0.09872941517344055]], "resource": [["dict", 0.11145167335101], ["Dict[str, Any]", 0.09635175871740678], ["utils.sap_hana.ParsedSection", 0.08787737360270721]], "role": [["str", 0.1810946162687347], ["src.pythonfinder.models.path.PathEntry", 0.13065476321784603], ["List[str]", 0.09727279455890225], ["list", 0.08576615436621444]], "role_map": [["str", 0.6376329646618879], ["list", 0.18966784523186028], ["List[str]", 0.08634959505312592], ["Dict[str, List[str]]", 0.08634959505312592]]}}, {"docstring": {"func": "Adds permissions to role in DB.", "long_descr": null, "ret": null}, "fn_lc": [[141, 0], [143, 43]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "roles_add_perms", "params": {"args": ""}, "params_descr": {"args": ""}, "params_occur": {"args": [["__roles_add_or_remove_permissions", "args"]]}, "params_p": {"args": [], "kwargs": []}, "q_name": "roles_add_perms", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Deletes permissions from role in DB.", "long_descr": null, "ret": null}, "fn_lc": [[148, 0], [150, 43]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "roles_del_perms", "params": {"args": ""}, "params_descr": {"args": ""}, "params_occur": {"args": [["__roles_add_or_remove_permissions", "args"]]}, "params_p": {"args": [], "kwargs": []}, "q_name": "roles_del_perms", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Exports all the roles from the database to a file.", "long_descr": "Note, this function does not export the permissions associated for each role.\nStrictly, it exports the role names into the passed role json file.", "ret": null}, "fn_lc": [[154, 0], [170, 78]], "fn_var_ln": {"exporting_roles": [[165, 8], [165, 23]], "filename": [[166, 4], [166, 12]], "kwargs": [[167, 4], [167, 10]], "roles": [[164, 8], [164, 13]]}, "fn_var_occur": {"exporting_roles": [["exporting_roles", "role", "name", "role", "roles", "role", "name", "EXISTING_ROLES"], ["json", "dump", "exporting_roles", "f", "kwargs"], ["print", "len", "exporting_roles", "filename"]], "filename": [["filename", "os", "path", "expanduser", "args", "file"], ["open", "filename", "encoding", "f"], ["print", "len", "exporting_roles", "filename"]], "kwargs": [["kwargs", "args", "pretty", "True"], ["json", "dump", "exporting_roles", "f", "kwargs"]], "roles": [["roles", "appbuilder", "sm", "get_all_roles"], ["exporting_roles", "role", "name", "role", "roles", "role", "name", "EXISTING_ROLES"]]}, "name": "roles_export", "params": {"args": ""}, "params_descr": {"args": ""}, "params_occur": {"args": [["filename", "os", "path", "expanduser", "args", "file"], ["kwargs", "args", "pretty", "True"]]}, "params_p": {"args": [], "kwargs": []}, "q_name": "roles_export", "ret_exprs": [], "ret_type": "", "variables": {"exporting_roles": "", "filename": "", "kwargs": "", "roles": ""}, "variables_p": {"exporting_roles": [["dict", 0.5969310533031758], ["Type[Mapping[str, Any]]", 0.11608638781727257], ["List[Tuple[str, str, str]]", 0.10081488228315552], ["Dict[str, Dict[str, Any]]", 0.09338674120643128]], "filename": [["List[str]", 0.537447875318438], ["Set[str]", 0.16171749611158004], ["str", 0.13796883856527367], ["Dict[str, str]", 0.08386781857673323], ["list", 0.0789979714279751]], "kwargs": [["Tuple[Any, Any]", 0.11633366659622116], ["bool", 0.11502144275800935], ["tuple", 0.10675398752428916], ["dict", 0.10138791451255248], ["List[str]", 0.0971802655949547], ["List[float]", 0.09640311978071463], ["str", 0.09338936809022269]], "roles": [["dict", 0.23350654081399747], ["str", 0.18212447688958047], ["Dict[str, List[str]]", 0.10361293950948242], ["set", 0.099824213596648]]}}, {"docstring": {"func": "Import all the roles into the db from the given json file.", "long_descr": "Note, this function does not import the permissions for different roles and import them as well.\nStrictly, it imports the role names in the role json file passed.", "ret": null}, "fn_lc": [[175, 0], [199, 61]], "fn_var_ln": {"existing_roles": [[195, 8], [195, 22]], "json_file": [[182, 4], [182, 13]], "role_list": [[185, 12], [185, 21]], "roles_to_import": [[196, 8], [196, 23]]}, "fn_var_occur": {"existing_roles": [["existing_roles", "role", "name", "role", "appbuilder", "sm", "get_all_roles"], ["roles_to_import", "role", "role", "role_list", "role", "existing_roles"]], "json_file": [["json_file", "args", "file"], ["open", "json_file", "f"], ["print", "json_file"], ["print", "json_file", "e"]], "role_list": [["role_list", "json", "load", "f"], ["roles_to_import", "role", "role", "role_list", "role", "existing_roles"]], "roles_to_import": [["roles_to_import", "role", "role", "role_list", "role", "existing_roles"], ["print", "roles_to_import"]]}, "name": "roles_import", "params": {"args": ""}, "params_descr": {"args": ""}, "params_occur": {"args": [["json_file", "args", "file"]]}, "params_p": {"args": [], "kwargs": []}, "q_name": "roles_import", "ret_exprs": [], "ret_type": "", "variables": {"existing_roles": "", "json_file": "", "role_list": "", "roles_to_import": ""}, "variables_p": {"existing_roles": [["Dict[str, str]", 0.8913016381437175], ["Dict[str, List[str]]", 0.10869836185628244]], "json_file": [["List[str]", 0.12078965443605197], ["int", 0.09413580465140511], ["str", 0.09071849225859162], ["List[Tuple[str, str]]", 0.08830998302519236]], "role_list": [["list", 0.8835111913199377], ["List[int]", 0.1164888086800623]], "roles_to_import": [["list", 0.2699661377401041], ["List[List[float]]", 0.19887787748695865], ["List[Union[Any, Any]]", 0.19887787748695865], ["Dict[int, float]", 0.0891220889545769]]}}], "imports": ["__future__", "annotations", "collections", "itertools", "json", "os", "airflow", "cli", "simple_table", "AirflowConsole", "airflow", "utils", "cli", "cli_utils", "airflow", "utils", "cli", "suppress_logs_and_warning", "airflow", "www", "fab_security", "sqla", "models", "Action", "Permission", "Resource", "Role", "airflow", "www", "security", "EXISTING_ROLES", "airflow", "utils", "cli_app_builder", "get_application_builder", "airflow", "utils", "cli_app_builder", "get_application_builder", "airflow", "utils", "cli_app_builder", "get_application_builder", "airflow", "utils", "cli_app_builder", "get_application_builder", "airflow", "utils", "cli_app_builder", "get_application_builder", "airflow", "utils", "cli_app_builder", "get_application_builder"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 7, "I": 0, "U": 30}, "session_id": "u_VM3M9Y0NRpzM7LcI82DwQo5QTncnK2_RRwwQgRJEE", "set": null, "tc": [false, null], "type_annot_cove": 0.19, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}