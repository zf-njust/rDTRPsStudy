{"error": null, "response": {"classes": [{"cls_lc": [[49, 0], [319, 39]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[85, 4], [106, 50]], "fn_var_ln": {"_last_plugin_state": [[105, 8], [105, 31]], "_last_refresh_time": [[104, 8], [104, 31]], "_num_ready_workers_running": [[103, 8], [103, 39]], "_num_workers_running": [[102, 8], [102, 33]], "_restart_on_next_plugin_check": [[106, 8], [106, 42]], "gunicorn_master_proc": [[95, 8], [95, 33]], "master_timeout": [[97, 8], [97, 27]], "num_workers_expected": [[96, 8], [96, 33]], "reload_on_plugin_change": [[100, 8], [100, 36]], "worker_refresh_batch_size": [[99, 8], [99, 38]], "worker_refresh_interval": [[98, 8], [98, 36]]}, "fn_var_occur": {"_last_plugin_state": [["self", "_last_plugin_state", "self", "_generate_plugin_state", "reload_on_plugin_change", "None"]], "_last_refresh_time": [["self", "_last_refresh_time", "time", "monotonic", "worker_refresh_interval", "None"]], "_num_ready_workers_running": [["self", "_num_ready_workers_running"]], "_num_workers_running": [["self", "_num_workers_running"]], "_restart_on_next_plugin_check": [["self", "_restart_on_next_plugin_check", "False"]], "gunicorn_master_proc": [["self", "gunicorn_master_proc", "psutil", "Process", "gunicorn_master_pid"]], "master_timeout": [["self", "master_timeout", "master_timeout"]], "num_workers_expected": [["self", "num_workers_expected", "num_workers_expected"]], "reload_on_plugin_change": [["self", "reload_on_plugin_change", "reload_on_plugin_change"], ["self", "_last_plugin_state", "self", "_generate_plugin_state", "reload_on_plugin_change", "None"]], "worker_refresh_batch_size": [["self", "worker_refresh_batch_size", "worker_refresh_batch_size"]], "worker_refresh_interval": [["self", "worker_refresh_interval", "worker_refresh_interval"], ["self", "_last_refresh_time", "time", "monotonic", "worker_refresh_interval", "None"]]}, "name": "__init__", "params": {"gunicorn_master_pid": "builtins.int", "master_timeout": "builtins.int", "num_workers_expected": "builtins.int", "reload_on_plugin_change": "builtins.bool", "self": "", "worker_refresh_batch_size": "builtins.int", "worker_refresh_interval": "builtins.int"}, "params_descr": {"gunicorn_master_pid": "", "master_timeout": "", "num_workers_expected": "", "reload_on_plugin_change": "", "self": "", "worker_refresh_batch_size": "", "worker_refresh_interval": ""}, "params_occur": {"gunicorn_master_pid": [["self", "gunicorn_master_proc", "psutil", "Process", "gunicorn_master_pid"]], "master_timeout": [["self", "master_timeout", "master_timeout"]], "num_workers_expected": [["self", "num_workers_expected", "num_workers_expected"]], "reload_on_plugin_change": [["self", "reload_on_plugin_change", "reload_on_plugin_change"], ["self", "_last_plugin_state", "self", "_generate_plugin_state", "reload_on_plugin_change", "None"]], "self": [["self", "gunicorn_master_proc", "psutil", "Process", "gunicorn_master_pid"], ["self", "num_workers_expected", "num_workers_expected"], ["self", "master_timeout", "master_timeout"], ["self", "worker_refresh_interval", "worker_refresh_interval"], ["self", "worker_refresh_batch_size", "worker_refresh_batch_size"], ["self", "reload_on_plugin_change", "reload_on_plugin_change"], ["self", "_num_workers_running"], ["self", "_num_ready_workers_running"], ["self", "_last_refresh_time", "time", "monotonic", "worker_refresh_interval", "None"], ["self", "_last_plugin_state", "self", "_generate_plugin_state", "reload_on_plugin_change", "None"], ["self", "_restart_on_next_plugin_check", "False"]], "worker_refresh_batch_size": [["self", "worker_refresh_batch_size", "worker_refresh_batch_size"]], "worker_refresh_interval": [["self", "worker_refresh_interval", "worker_refresh_interval"], ["self", "_last_refresh_time", "time", "monotonic", "worker_refresh_interval", "None"]]}, "params_p": {"args": [], "gunicorn_master_pid": [["bool", 0.4906829630274144], ["str", 0.1635609876758048], ["Optional[dict]", 0.06268474544726353], ["List['cirq.Circuit']", 0.05241630053830544], ["int", 0.038812073098000256]], "kwargs": [], "master_timeout": [["float", 0.4733048275792152], ["int", 0.11558839049253346], ["Optional[str]", 0.08705332794208044]], "num_workers_expected": [["int", 0.8127170279004482], ["Optional[int]", 0.0944881644552921], ["bool", 0.09279480764425972]], "reload_on_plugin_change": [["int", 0.2352547671967148], ["raiden.utils.TokenAddress", 0.09532232117793418], ["raiden.utils.PaymentNetworkID", 0.09532232117793418], ["List[raiden.utils.ChannelID]", 0.08919668306102659], ["float", 0.08919668306102659]], "self": [], "worker_refresh_batch_size": [["int", 0.7068254409112521], ["Callable[[int], bool]", 0.09773564449964932], ["List[float]", 0.09771945729454917], ["List[str]", 0.09771945729454917]], "worker_refresh_interval": [["int", 0.20634124973018952], ["Optional[float]", 0.12866293382906413]]}, "q_name": "GunicornMonitor.__init__", "ret_exprs": [], "ret_type": "", "variables": {"_last_plugin_state": "", "_last_refresh_time": "", "_num_ready_workers_running": "", "_num_workers_running": "", "_restart_on_next_plugin_check": "", "gunicorn_master_proc": "", "master_timeout": "", "num_workers_expected": "", "reload_on_plugin_change": "", "worker_refresh_batch_size": "", "worker_refresh_interval": ""}, "variables_p": {"_last_plugin_state": [["int", 0.9076724882882515], ["List[int]", 0.09232751171174838]], "_last_refresh_time": [["str", 0.11948582194261076]], "_num_ready_workers_running": [["int", 0.8984315182798646], ["float", 0.10156848172013536]], "_num_workers_running": [["int", 0.8799340757927676], ["float", 0.1200659242072326]], "_restart_on_next_plugin_check": [["bool", 0.15556066684859537], ["str", 0.11250271904438353], ["int", 0.08491345197810293], ["Optional[float]", 0.07444085574718133], ["Dict[str, float]", 0.07317234694899144]], "gunicorn_master_proc": [["str", 0.30000000000000004], ["Dict[str, Any]", 0.1], ["dict", 0.1], ["int", 0.1]], "master_timeout": [["int", 0.7086573530465091], ["float", 0.22273284782272176], ["Dict[str, int]", 0.068609799130769]], "num_workers_expected": [["int", 0.5894012652942823], ["float", 0.28453835303556574], ["Dict[float, float]", 0.12606038167015188]], "reload_on_plugin_change": [["dict", 0.10243539106494265], ["raiden.utils.Any", 0.08057384860703642]], "worker_refresh_batch_size": [["int", 0.8356070243547615], ["List[int]", 0.08219648782261915], ["list", 0.08219648782261915]], "worker_refresh_interval": [["int", 0.2000758638033287], ["list", 0.18848702482593754], ["dict", 0.08456361107894597]]}}, {"docstring": {"func": "Get plugin states.", "long_descr": "Generate dict of filenames and last modification time of all files in settings.PLUGINS_FOLDER\ndirectory.", "ret": null}, "fn_lc": [[108, 4], [122, 27]], "fn_var_ln": {"all_filenames": [[118, 8], [118, 21]], "plugin_state": [[121, 8], [121, 20]]}, "fn_var_occur": {"all_filenames": [["all_filenames", "builtins", "list", "builtins", "str"], ["all_filenames", "extend", "os", "path", "join", "root", "f", "f", "filenames"], ["plugin_state", "f", "self", "_get_file_hash", "f", "f", "sorted", "all_filenames"]], "plugin_state": [["plugin_state", "f", "self", "_get_file_hash", "f", "f", "sorted", "all_filenames"]]}, "name": "_generate_plugin_state", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["plugin_state", "f", "self", "_get_file_hash", "f", "f", "sorted", "all_filenames"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "GunicornMonitor._generate_plugin_state", "ret_exprs": ["return {}", "return plugin_state"], "ret_type": "builtins.dict[builtins.str, builtins.float]", "ret_type_p": [["int", 0.19920028583087204], ["Sequence[str]", 0.10636941588548725], ["Callable", 0.09460501289478762], ["raiden.utils.PaymentNetworkID", 0.09386831713273772], ["cmk.utils.type_defs.HostName", 0.09009241213907478]], "variables": {"all_filenames": "builtins.list[builtins.str]", "plugin_state": ""}, "variables_p": {"all_filenames": [["List[str]", 0.5480495150998462], ["str", 0.45195048490015377]], "plugin_state": [["str", 0.44272205683721594], ["list", 0.09457698032726333], ["Dict[Any, List[str]]", 0.09203384167350132], ["Generator[Any, None, None]", 0.08967029863781581]]}}, {"docstring": {"func": "Calculate MD5 hash for file.", "long_descr": null, "ret": null}, "fn_lc": [[125, 4], [131, 35]], "fn_var_ln": {"hash_md5": [[127, 8], [127, 16]]}, "fn_var_occur": {"hash_md5": [["hash_md5", "md5"], ["hash_md5", "update", "chunk"], ["hash_md5", "hexdigest"]]}, "name": "_get_file_hash", "params": {"fname": "builtins.str"}, "params_descr": {"fname": ""}, "params_occur": {"fname": [["open", "fname", "f"]]}, "params_p": {"args": [], "fname": [["str", 0.5800195517963826], ["types.StrPath", 0.13971609078822536]], "kwargs": [], "self": []}, "q_name": "GunicornMonitor._get_file_hash", "ret_exprs": ["return hash_md5.hexdigest()"], "ret_type": "", "ret_type_p": [["int", 0.9108009904069846]], "variables": {"hash_md5": ""}, "variables_p": {"hash_md5": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[137, 8], [144, 24]], "fn_var_ln": {"cmdline": [[139, 16], [139, 23]]}, "fn_var_occur": {"cmdline": [["cmdline", "proc", "cmdline"], ["len", "cmdline"], ["settings", "GUNICORN_WORKER_READY_PREFIX", "cmdline"]]}, "name": "ready_prefix_on_cmdline", "params": {"proc": ""}, "params_descr": {"proc": ""}, "params_occur": {"proc": [["cmdline", "proc", "cmdline"]]}, "params_p": {"args": [], "kwargs": [], "proc": [["int", 0.30000000000000004], ["Callable", 0.2], ["str", 0.1]], "self": []}, "q_name": "GunicornMonitor._get_num_ready_workers_running.<locals>.ready_prefix_on_cmdline", "ret_exprs": ["return settings.GUNICORN_WORKER_READY_PREFIX in cmdline[0]", "return False"], "ret_type": "", "ret_type_p": [["int", 0.330257168431278], ["bool", 0.1834458560739387], ["str", 0.11904271662999774], ["dict", 0.09208547475387752], ["float", 0.09172292803696935], ["Set[str]", 0.09172292803696935], ["List[str]", 0.09172292803696935]], "variables": {"cmdline": ""}, "variables_p": {"cmdline": [["list", 0.2125693372562423], ["str", 0.17509435036607565], ["Set[str]", 0.13880304038428715], ["List[str]", 0.11045727140637641], ["int", 0.09783617075298506], ["Dict[str, Dict[str, Any]]", 0.08936526391989774]]}}, {"docstring": {"func": "Returns number of ready Gunicorn workers by looking for READY_PREFIX in process name.", "long_descr": null, "ret": null}, "fn_lc": [[133, 4], [147, 33]], "fn_var_ln": {"ready_workers": [[146, 8], [146, 21]], "workers": [[135, 8], [135, 15]]}, "fn_var_occur": {"ready_workers": [["ready_workers", "proc", "proc", "workers", "ready_prefix_on_cmdline", "proc"], ["len", "ready_workers"]], "workers": [["ready_workers", "proc", "proc", "workers", "ready_prefix_on_cmdline", "proc"]]}, "name": "_get_num_ready_workers_running", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "GunicornMonitor._get_num_ready_workers_running", "ret_exprs": ["return len(ready_workers)"], "ret_type": "builtins.int", "ret_type_p": [["str", 0.2806816922651028], ["int", 0.260518813405763], ["Optional[str]", 0.17022515100615157], ["Dict[str, Any]", 0.10132860313102839]], "variables": {"ready_workers": "", "workers": ""}, "variables_p": {"ready_workers": [["int", 9.827409374799822e-10]], "workers": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]]}}, {"docstring": {"func": "Returns number of running Gunicorn workers processes.", "long_descr": null, "ret": null}, "fn_lc": [[149, 4], [152, 27]], "fn_var_ln": {"workers": [[151, 8], [151, 15]]}, "fn_var_occur": {"workers": [["workers", "psutil", "Process", "self", "gunicorn_master_proc", "pid", "children"], ["len", "workers"]]}, "name": "_get_num_workers_running", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["workers", "psutil", "Process", "self", "gunicorn_master_proc", "pid", "children"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "GunicornMonitor._get_num_workers_running", "ret_exprs": ["return len(workers)"], "ret_type": "builtins.int", "ret_type_p": [["str", 0.655279506587982], ["Optional[str]", 0.216586307919676], ["List[str]", 0.0681110959903032]], "variables": {"workers": ""}, "variables_p": {"workers": [["Tuple[str]", 0.11727114835294469], ["int", 0.089133909752943], ["dict", 0.089133909752943]]}}, {"docstring": {"func": "Sleeps until fn is true.", "long_descr": null, "ret": null}, "fn_lc": [[154, 4], [160, 22]], "fn_var_ln": {"start_time": [[156, 8], [156, 18]]}, "fn_var_occur": {"start_time": [["start_time", "time", "monotonic"], ["timeout", "time", "monotonic", "start_time"]]}, "name": "_wait_until_true", "params": {"fn": "", "self": "", "timeout": "builtins.int"}, "params_descr": {"fn": "", "self": "", "timeout": ""}, "params_occur": {"fn": [], "self": [], "timeout": [["timeout", "time", "monotonic", "start_time"], ["AirflowWebServerTimeout", "timeout"]]}, "params_p": {"args": [], "fn": [["int", 0.2702249596000212], ["float", 0.12085489736566858], ["Type[T]", 0.09141124225879602], ["str", 0.09141124225879602], ["List[str]", 0.08915514710563027], ["bool", 0.08781227494313858], ["Optional[int]", 0.08304341215598314], ["Container[\"Taxon\"]", 0.08304341215598314]], "kwargs": [], "self": [], "timeout": [["int", 0.42362282137500223], ["raiden.utils.TokenAmount", 0.11625350619700445], ["float", 0.09663042177401694], ["Optional[bool]", 0.09145564525785924], ["Union[int, float]", 0.091441141706086]]}, "q_name": "GunicornMonitor._wait_until_true", "ret_exprs": [], "ret_type": "None", "variables": {"start_time": ""}, "variables_p": {"start_time": [["float", 0.6101507446849409], ["time.struct_time", 0.389849255315059]]}}, {"docstring": {"func": "Send signal to kill the worker.", "long_descr": null, "ret": null}, "fn_lc": [[162, 4], [176, 13]], "fn_var_ln": {"excess": [[168, 8], [168, 14]]}, "fn_var_occur": {"excess": [["self", "_wait_until_true", "self", "num_workers_expected", "excess", "self", "_get_num_workers_running", "timeout", "self", "master_timeout"]]}, "name": "_spawn_new_workers", "params": {"count": "builtins.int", "self": ""}, "params_descr": {"count": "The number of workers to spawn", "self": ""}, "params_occur": {"count": [["range", "count"]], "self": [["self", "gunicorn_master_proc", "send_signal", "signal", "SIGTTIN"], ["self", "_wait_until_true", "self", "num_workers_expected", "excess", "self", "_get_num_workers_running", "timeout", "self", "master_timeout"]]}, "params_p": {"args": [], "count": [["str", 0.49999999644371096], ["Iterable[T]", 1.131766193026638e-09], ["Callable[[T], bool]", 4.462290176406729e-10]], "kwargs": [], "self": []}, "q_name": "GunicornMonitor._spawn_new_workers", "ret_exprs": [], "ret_type": "None", "variables": {"excess": ""}, "variables_p": {"excess": [["float", 0.38388214854545466], ["str", 0.28008527093724667], ["int", 0.25541643827608895], ["Iterator[Any]", 0.0806161422412096]]}}, {"docstring": {"func": "Send signal to kill the worker.", "long_descr": null, "ret": null}, "fn_lc": [[178, 4], [191, 13]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_kill_old_workers", "params": {"count": "builtins.int", "self": ""}, "params_descr": {"count": "The number of workers to kill", "self": ""}, "params_occur": {"count": [["range", "count"], ["self", "_wait_until_true", "self", "num_workers_expected", "count", "self", "_get_num_workers_running", "timeout", "self", "master_timeout"]], "self": [["self", "gunicorn_master_proc", "send_signal", "signal", "SIGTTOU"], ["self", "_wait_until_true", "self", "num_workers_expected", "count", "self", "_get_num_workers_running", "timeout", "self", "master_timeout"]]}, "params_p": {"args": [], "count": [["int", 0.43526531772427135], ["float", 0.14416704365563443], ["str", 0.11787765906432984], ["Optional[int]", 0.10599135194678355], ["raiden.utils.Optional[int]", 0.10433690250427506]], "kwargs": [], "self": []}, "q_name": "GunicornMonitor._kill_old_workers", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Send signal to reload the gunicorn configuration.", "long_descr": "When gunicorn receive signals, it reloads the configuration,\nstart the new worker processes with a new configuration and gracefully\nshutdown older workers.", "ret": null}, "fn_lc": [[193, 4], [206, 9]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_reload_gunicorn", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "gunicorn_master_proc", "send_signal", "signal", "SIGHUP"], ["self", "_wait_until_true", "self", "num_workers_expected", "self", "_get_num_workers_running", "timeout", "self", "master_timeout"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "GunicornMonitor._reload_gunicorn", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Starts monitoring the webserver.", "long_descr": null, "ret": null}, "fn_lc": [[208, 4], [229, 27]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "start", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "_wait_until_true", "self", "num_workers_expected", "self", "_get_num_workers_running", "timeout", "self", "master_timeout"], ["self", "gunicorn_master_proc", "is_running"], ["self", "_check_workers"], ["self", "log", "error", "err"], ["self", "log", "error"], ["self", "gunicorn_master_proc", "terminate"], ["self", "gunicorn_master_proc", "wait"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "GunicornMonitor.start", "ret_exprs": [], "ret_type": "typing.NoReturn", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[231, 4], [319, 39]], "fn_var_ln": {"_last_plugin_state": [[310, 16], [310, 39]], "_last_refresh_time": [[318, 16], [318, 39]], "_restart_on_next_plugin_check": [[317, 16], [317, 50]], "excess": [[248, 12], [248, 18]], "last_refresh_diff": [[284, 12], [284, 29]], "new_state": [[300, 12], [300, 21]], "new_worker_count": [[266, 16], [266, 32]], "num_new_workers": [[286, 16], [286, 31]], "num_ready_workers_running": [[233, 8], [233, 33]], "num_workers_running": [[264, 12], [264, 31]]}, "fn_var_occur": {"_last_plugin_state": [["new_state", "self", "_last_plugin_state"], ["self", "_last_plugin_state", "new_state"]], "_last_refresh_time": [["self", "worker_refresh_interval", "self", "_last_refresh_time"], ["last_refresh_diff", "time", "monotonic", "self", "_last_refresh_time"], ["self", "_last_refresh_time", "time", "monotonic"], ["self", "_last_refresh_time", "time", "monotonic"]], "_restart_on_next_plugin_check": [["self", "_restart_on_next_plugin_check", "True"], ["self", "_restart_on_next_plugin_check"], ["self", "_restart_on_next_plugin_check", "False"]], "excess": [["excess", "min", "num_workers_running", "self", "num_workers_expected", "self", "worker_refresh_batch_size"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running", "excess"], ["self", "_kill_old_workers", "excess"]], "last_refresh_diff": [["last_refresh_diff", "time", "monotonic", "self", "_last_refresh_time"], ["self", "worker_refresh_interval", "last_refresh_diff"]], "new_state": [["new_state", "self", "_generate_plugin_state"], ["new_state", "self", "_last_plugin_state"], ["self", "_last_plugin_state", "new_state"]], "new_worker_count": [["new_worker_count", "min", "self", "num_workers_expected", "num_workers_running", "self", "worker_refresh_batch_size"], ["self", "log", "info", "num_ready_workers_running", "num_workers_running", "new_worker_count"], ["self", "_spawn_new_workers", "new_worker_count"]], "num_new_workers": [["num_new_workers", "self", "worker_refresh_batch_size"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running", "num_new_workers"], ["self", "_spawn_new_workers", "num_new_workers"]], "num_ready_workers_running": [["num_ready_workers_running", "self", "_get_num_ready_workers_running"], ["num_ready_workers_running", "num_workers_running"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running", "excess"], ["self", "log", "error", "num_ready_workers_running", "num_workers_running"], ["self", "log", "info", "num_ready_workers_running", "num_workers_running", "new_worker_count"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running", "num_new_workers"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running"]], "num_workers_running": [["num_workers_running", "self", "_get_num_workers_running"], ["num_ready_workers_running", "num_workers_running"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running"], ["num_workers_running", "self", "num_workers_expected"], ["excess", "min", "num_workers_running", "self", "num_workers_expected", "self", "worker_refresh_batch_size"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running", "excess"], ["num_workers_running", "self", "num_workers_expected"], ["self", "log", "error", "num_ready_workers_running", "num_workers_running"], ["num_workers_running", "self", "_get_num_workers_running"], ["num_workers_running", "self", "num_workers_expected"], ["new_worker_count", "min", "self", "num_workers_expected", "num_workers_running", "self", "worker_refresh_batch_size"], ["self", "log", "info", "num_ready_workers_running", "num_workers_running", "new_worker_count"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running", "num_new_workers"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running"]]}, "name": "_check_workers", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["num_workers_running", "self", "_get_num_workers_running"], ["num_ready_workers_running", "self", "_get_num_ready_workers_running"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running"], ["num_workers_running", "self", "num_workers_expected"], ["excess", "min", "num_workers_running", "self", "num_workers_expected", "self", "worker_refresh_batch_size"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running", "excess"], ["self", "_kill_old_workers", "excess"], ["num_workers_running", "self", "num_workers_expected"], ["self", "log", "error", "num_ready_workers_running", "num_workers_running"], ["num_workers_running", "self", "_get_num_workers_running"], ["num_workers_running", "self", "num_workers_expected"], ["new_worker_count", "min", "self", "num_workers_expected", "num_workers_running", "self", "worker_refresh_batch_size"], ["self", "log", "info", "num_ready_workers_running", "num_workers_running", "new_worker_count"], ["self", "_spawn_new_workers", "new_worker_count"], ["self", "worker_refresh_interval", "self", "_last_refresh_time"], ["last_refresh_diff", "time", "monotonic", "self", "_last_refresh_time"], ["self", "worker_refresh_interval", "last_refresh_diff"], ["num_new_workers", "self", "worker_refresh_batch_size"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running", "num_new_workers"], ["self", "_spawn_new_workers", "num_new_workers"], ["self", "_last_refresh_time", "time", "monotonic"], ["self", "reload_on_plugin_change"], ["new_state", "self", "_generate_plugin_state"], ["new_state", "self", "_last_plugin_state"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running"], ["self", "_restart_on_next_plugin_check", "True"], ["self", "_last_plugin_state", "new_state"], ["self", "_restart_on_next_plugin_check"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running"], ["self", "_restart_on_next_plugin_check", "False"], ["self", "_last_refresh_time", "time", "monotonic"], ["self", "_reload_gunicorn"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "GunicornMonitor._check_workers", "ret_exprs": ["return", "return", "return", "return"], "ret_type": "None", "ret_type_p": [["app.models.Article", 0.11181352077750271]], "variables": {"_last_plugin_state": "", "_last_refresh_time": "", "_restart_on_next_plugin_check": "", "excess": "", "last_refresh_diff": "", "new_state": "", "new_worker_count": "", "num_new_workers": "", "num_ready_workers_running": "", "num_workers_running": ""}, "variables_p": {"_last_plugin_state": [["str", 0.7767752142372308], ["Dict[str, Dict[str, str]]", 0.12326686620000224], ["Dict[str, Any]", 0.09995791956276674]], "_last_refresh_time": [["int", 0.2874512969614029], ["float", 0.12979129946982937], ["bytes", 0.0983185744506146], ["str", 0.0960787809072368]], "_restart_on_next_plugin_check": [["int", 0.6314470769602087], ["Final", 0.16176057705405586], ["bytes", 0.11811472808241875], ["str", 0.08867761790331685]], "excess": [["int", 0.3029994358915035], ["Counter[Any]", 0.1451446200468286], ["List[Tuple[Any, Any]]", 0.09382624669467116], ["Dict[str, int]", 0.0925905228781728], ["Type[range]", 0.08888137374630407]], "last_refresh_diff": [["pringles.utils.vtime.VirtualTime", 0.11022437442508234], ["datetime.date.time.datetime", 0.09670802813427798], ["int", 0.08180161104502398]], "new_state": [["list", 0.9081019220862374], ["List[Dict[str, Any]]", 0.09189807791376266]], "new_worker_count": [["int", 0.9075342269573677], ["Optional[str]", 0.09246577304263241]], "num_new_workers": [["int", 0.9027451992014431], ["str", 0.09725480079855674]], "num_ready_workers_running": [["Optional[Union[int, slice]]", 0.18982909893356703], ["List[Tuple[int, int]]", 0.09091075293964569], ["int", 0.09046375431039955], ["str", 0.09046375431039955]], "num_workers_running": [["int", 0.5949058136528481], ["float", 0.09869421475681364]]}}], "name": "GunicornMonitor", "q_name": "GunicornMonitor", "variables": {}, "variables_p": {}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[431, 8], [442, 23]], "fn_var_ln": {"still_running": [[439, 16], [439, 29]]}, "fn_var_occur": {"still_running": [["still_running", "gunicorn_master_proc", "poll", "None"], ["still_running", "gunicorn_master_proc", "is_running"]]}, "name": "kill_proc", "params": {"frame": "types.FrameType | None", "signum": "builtins.int"}, "params_descr": {"frame": "", "signum": ""}, "params_occur": {"frame": [], "signum": [["log", "info", "signum"]]}, "params_p": {"args": [], "frame": [["int", 0.19999999999999998], ["str", 0.19999999999999998], ["Iterable['Context']", 0.09999999999999999], ["dict", 0.09999999999999999], ["bool", 0.09999999999999999]], "kwargs": [], "signum": [["str", 0.9999999998800991], ["int", 5.446999031476895e-11]]}, "q_name": "webserver.<locals>.kill_proc", "ret_exprs": [], "ret_type": "typing.NoReturn", "variables": {"still_running": ""}, "variables_p": {"still_running": [["int", 0.6118839954057296], ["Dict[str, Any]", 0.11386866039193325], ["str", 0.09582683177793946], ["Tuple[Any, Any, Any, Any, Any, Any, Any]", 0.08742131349739335]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[444, 8], [459, 21]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "monitor_gunicorn", "params": {"gunicorn_master_pid": "builtins.int"}, "params_descr": {"gunicorn_master_pid": ""}, "params_occur": {"gunicorn_master_pid": [["GunicornMonitor", "gunicorn_master_pid", "gunicorn_master_pid", "num_workers_expected", "num_workers", "master_timeout", "conf", "getint", "worker_refresh_interval", "conf", "getint", "fallback", "worker_refresh_batch_size", "conf", "getint", "fallback", "reload_on_plugin_change", "conf", "getboolean", "fallback", "False", "start"]]}, "params_p": {"args": [], "gunicorn_master_pid": [["int", 0.27796186273168777], ["float", 0.1758649608215805]], "kwargs": []}, "q_name": "webserver.<locals>.monitor_gunicorn", "ret_exprs": [], "ret_type": "typing.NoReturn", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Starts Airflow Webserver.", "long_descr": null, "ret": null}, "fn_lc": [[323, 0], [498, 58]], "fn_var_ln": {"access_logfile": [[340, 4], [340, 18]], "access_logformat": [[342, 4], [342, 20]], "app": [[464, 12], [464, 15]], "base": [[469, 12], [469, 16]], "ctx": [[474, 16], [474, 19]], "error_logfile": [[341, 4], [341, 17]], "ext": [[469, 18], [469, 21]], "gunicorn_master_proc": [[493, 20], [493, 40]], "gunicorn_master_proc_pid": [[488, 24], [488, 48]], "handle": [[467, 12], [467, 18]], "log_file": [[366, 34], [366, 42]], "num_workers": [[343, 4], [343, 15]], "pid_file": [[366, 8], [366, 16]], "run_args": [[386, 8], [386, 16]], "ssl_cert": [[345, 4], [345, 12]], "ssl_key": [[346, 4], [346, 11]], "stderr": [[366, 26], [366, 32]], "stdout": [[366, 18], [366, 24]], "worker_timeout": [[344, 4], [344, 18]]}, "fn_var_occur": {"access_logfile": [], "access_logformat": [], "app": [["app", "create_app", "None"]], "base": [["base", "ext", "os", "path", "splitext", "pid_file"], ["ctx", "daemon", "DaemonContext", "pidfile", "TimeoutPIDLockFile", "base", "ext", "files_preserve", "handle", "stdout", "stdout", "stderr", "stderr", "umask", "int", "settings", "DAEMON_UMASK"]], "ctx": [["ctx", "daemon", "DaemonContext", "pidfile", "TimeoutPIDLockFile", "base", "ext", "files_preserve", "handle", "stdout", "stdout", "stderr", "stderr", "umask", "int", "settings", "DAEMON_UMASK"]], "error_logfile": [], "ext": [["base", "ext", "os", "path", "splitext", "pid_file"], ["ctx", "daemon", "DaemonContext", "pidfile", "TimeoutPIDLockFile", "base", "ext", "files_preserve", "handle", "stdout", "stdout", "stderr", "stderr", "umask", "int", "settings", "DAEMON_UMASK"]], "gunicorn_master_proc": [["gunicorn_master_proc", "psutil", "Process", "gunicorn_master_proc_pid"], ["monitor_gunicorn", "gunicorn_master_proc", "pid"], ["subprocess", "Popen", "run_args", "close_fds", "True", "gunicorn_master_proc"], ["monitor_gunicorn", "gunicorn_master_proc", "pid"]], "gunicorn_master_proc_pid": [["gunicorn_master_proc_pid", "read_pid_from_pidfile", "pid_file"], ["gunicorn_master_proc", "psutil", "Process", "gunicorn_master_proc_pid"]], "handle": [["handle", "setup_logging", "log_file"], ["ctx", "daemon", "DaemonContext", "pidfile", "TimeoutPIDLockFile", "base", "ext", "files_preserve", "handle", "stdout", "stdout", "stderr", "stderr", "umask", "int", "settings", "DAEMON_UMASK"]], "log_file": [["handle", "setup_logging", "log_file"]], "num_workers": [], "pid_file": [["base", "ext", "os", "path", "splitext", "pid_file"], ["gunicorn_master_proc_pid", "read_pid_from_pidfile", "pid_file"]], "run_args": [["subprocess", "Popen", "run_args", "close_fds", "True"], ["subprocess", "Popen", "run_args", "close_fds", "True", "gunicorn_master_proc"]], "ssl_cert": [], "ssl_key": [], "stderr": [["stderr", "truncate"], ["ctx", "daemon", "DaemonContext", "pidfile", "TimeoutPIDLockFile", "base", "ext", "files_preserve", "handle", "stdout", "stdout", "stderr", "stderr", "umask", "int", "settings", "DAEMON_UMASK"]], "stdout": [["open", "stdout", "stdout"], ["stdout", "truncate"], ["ctx", "daemon", "DaemonContext", "pidfile", "TimeoutPIDLockFile", "base", "ext", "files_preserve", "handle", "stdout", "stdout", "stderr", "stderr", "umask", "int", "settings", "DAEMON_UMASK"]], "worker_timeout": []}, "name": "webserver", "params": {"args": ""}, "params_descr": {"args": ""}, "params_occur": {"args": [["args", "daemon"]]}, "params_p": {"args": [], "kwargs": []}, "q_name": "webserver", "ret_exprs": [], "ret_type": "", "variables": {"access_logfile": "", "access_logformat": "", "app": "", "base": "", "ctx": "", "error_logfile": "", "ext": "", "gunicorn_master_proc": "", "gunicorn_master_proc_pid": "", "handle": "", "log_file": "", "num_workers": "", "pid_file": "", "run_args": "", "ssl_cert": "", "ssl_key": "", "stderr": "", "stdout": "", "worker_timeout": ""}, "variables_p": {"access_logfile": [["int", 0.5], ["str", 0.30000000000000004], ["bool", 0.1], ["server.openslides.utils.rest_api.IdPrimaryKeyRelatedField", 0.1]], "access_logformat": [["int", 0.5], ["str", 0.30000000000000004], ["bool", 0.1], ["server.openslides.utils.rest_api.IdPrimaryKeyRelatedField", 0.1]], "app": [["flask.app.Flask", 0.7780316186388548], ["Union[Literal, str]", 0.22196838136114538]], "base": [["str", 0.3645360593778513], ["PyLibs.tensorflow.python.debug.cli.debugger_cli_common.RichTextLines", 0.10492373899934991], ["List[str]", 0.07999278221734471]], "ctx": [], "error_logfile": [["str", 0.3], ["int", 0.19999999999999998], ["Dict[str, str]", 0.09999999999999999], ["Optional[List[str]]", 0.09999999999999999]], "ext": [["str", 0.674735273842652], ["Set[str]", 0.127158438755612]], "gunicorn_master_proc": [["str", 0.08644738517222263], ["PyLibs.objection.utils.frida_transporFridaRunner", 0.0819860378806874], ["qutebrowser.utils.qtutils.PyQIODevice", 0.08041162303639274]], "gunicorn_master_proc_pid": [["str", 0.40987296618047775], ["subprocess.Popen[Any]", 0.08771933418153284]], "handle": [["dict", 0.10604547255171988], ["int", 0.09970078528750494], ["astrality.tests.utils.Retry", 0.08842552636778023]], "log_file": [["str", 0.38991310056903333], ["List[str]", 0.18655324021507383], ["float", 0.0905506497991496]], "num_workers": [["int", 0.8999999999999999], ["List[int]", 0.1]], "pid_file": [["str", 0.9999999999999999]], "run_args": [["Dict[str, str]", 0.11250809198271103], ["staticmethod", 0.10747028170319133], ["Union[Literal, Literal]", 0.10032045584660391], ["str", 0.09606145197338527], ["List[Tuple[int, float]]", 0.09266716468041265], ["List[Tuple[Any, Any, Any]]", 0.09223492145599892], ["bool", 0.0915192555349295]], "ssl_cert": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "ssl_key": [["str", 0.8999999999999999], ["bytes", 0.1]], "stderr": [], "stdout": [["str", 0.29190389334093936], ["int", 0.08935700013774386], ["List[str]", 0.07978675266098664], ["Tuple[Any, None]", 0.07611668856231772]], "worker_timeout": [["int", 0.5], ["raiden.utils.BlockTimeout", 0.30000000000000004], ["Optional[float]", 0.1], ["vimiv.api.settings.IntSetting", 0.1]]}}], "imports": ["__future__", "annotations", "logging", "os", "signal", "subprocess", "sys", "textwrap", "time", "types", "contextlib", "suppress", "time", "sleep", "typing", "NoReturn", "daemon", "psutil", "daemon", "pidfile", "TimeoutPIDLockFile", "lockfile", "pidlockfile", "read_pid_from_pidfile", "airflow", "settings", "airflow", "configuration", "conf", "airflow", "exceptions", "AirflowException", "AirflowWebServerTimeout", "airflow", "utils", "cli", "cli_utils", "airflow", "utils", "cli", "setup_locations", "setup_logging", "airflow", "utils", "hashlib_wrapper", "md5", "airflow", "utils", "log", "logging_mixin", "LoggingMixin", "airflow", "utils", "process_utils", "check_if_pidfile_process_is_running", "rich", "print", "rich_print", "airflow", "www", "app", "create_app"], "mod_var_ln": {"log": [[46, 0], [46, 3]]}, "mod_var_occur": {"log": [["self", "log", "error", "err"], ["self", "log", "error"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running", "excess"], ["self", "log", "error", "num_ready_workers_running", "num_workers_running"], ["self", "log", "info", "num_ready_workers_running", "num_workers_running", "new_worker_count"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running", "num_new_workers"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running"], ["self", "log", "debug", "num_ready_workers_running", "num_workers_running"], ["log", "info", "signum"]]}, "no_types_annot": {"D": 20, "I": 0, "U": 57}, "session_id": "DMy7kqXXm1-qnE6g86h9gKmoTrmPRJitYcQbe2sLbtk", "set": null, "tc": [false, null], "type_annot_cove": 0.26, "typed_seq": "", "untyped_seq": "", "variables": {"log": ""}, "variables_p": {"log": [["logging.Logger", 0.906787688267484], ["rotkehlchen.logging.RotkehlchenLogsAdapter", 0.09321231173251597]]}}}