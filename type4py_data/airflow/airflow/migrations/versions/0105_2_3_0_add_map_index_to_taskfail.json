{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[48, 0], [75, 5]], "fn_var_ln": {"dag_run": [[69, 4], [69, 11]], "metadata": [[50, 4], [50, 12]], "task_fail": [[60, 4], [60, 13]], "task_instance": [[51, 4], [51, 17]]}, "fn_var_occur": {"dag_run": [["task_instance", "task_fail", "dag_run"], ["dag_run", "sa", "Table", "metadata", "sa", "Column", "StringID", "sa", "Column", "StringID", "sa", "Column", "TIMESTAMP"]], "metadata": [["metadata", "sa", "MetaData"], ["task_instance", "sa", "Table", "metadata", "sa", "Column", "StringID", "sa", "Column", "StringID", "sa", "Column", "StringID", "sa", "Column", "sa", "Integer", "server_default", "sa", "Column", "TIMESTAMP"], ["task_fail", "sa", "Table", "metadata", "sa", "Column", "StringID", "sa", "Column", "StringID", "sa", "Column", "StringID", "sa", "Column", "StringID", "sa", "Column", "TIMESTAMP"], ["dag_run", "sa", "Table", "metadata", "sa", "Column", "StringID", "sa", "Column", "StringID", "sa", "Column", "TIMESTAMP"]], "task_fail": [["task_instance", "task_fail", "dag_run"], ["task_fail", "sa", "Table", "metadata", "sa", "Column", "StringID", "sa", "Column", "StringID", "sa", "Column", "StringID", "sa", "Column", "StringID", "sa", "Column", "TIMESTAMP"]], "task_instance": [["task_instance", "task_fail", "dag_run"], ["task_instance", "sa", "Table", "metadata", "sa", "Column", "StringID", "sa", "Column", "StringID", "sa", "Column", "StringID", "sa", "Column", "sa", "Integer", "server_default", "sa", "Column", "TIMESTAMP"]]}, "name": "tables", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "tables", "ret_exprs": [], "ret_type": "", "variables": {"dag_run": "", "metadata": "", "task_fail": "", "task_instance": ""}, "variables_p": {"dag_run": [["List[str]", 0.12563437181416284], ["set", 0.09570743193669647], ["int", 0.0947484124089714], ["dict", 0.09467986515615878], ["DefaultDict[Any, List[Any]]", 0.09347653312279469]], "metadata": [["int", 0.3023678834265622], ["str", 0.19542963769355273], ["List[str]", 0.09640560566620769]], "task_fail": [["List[str]", 0.10632336466274508]], "task_instance": [["List[str]", 0.11434587282895471]]}}, {"docstring": {"func": "Grabs a value from the source table ``dag_run`` and updates target with this value.", "long_descr": null, "ret": null}, "fn_lc": [[78, 0], [102, 108]], "fn_var_ln": {"condition": [[93, 4], [93, 13]], "condition_list": [[92, 4], [92, 18]], "sub_q": [[98, 8], [98, 13]]}, "fn_var_occur": {"condition": [["condition", "and_", "condition_list"], ["sub_q", "select", "dag_run", "c", "target_column", "name", "where", "condition"], ["target_table", "update", "where", "condition", "values", "target_column", "dag_run", "c", "target_column", "name"]], "condition_list": [["condition_list", "getattr", "dag_run", "c", "x", "getattr", "target_table", "c", "x", "x", "join_columns"], ["condition", "and_", "condition_list"]], "sub_q": [["sub_q", "select", "dag_run", "c", "target_column", "name", "where", "condition"], ["target_table", "update", "values", "target_column", "sub_q"]]}, "name": "_update_value_from_dag_run", "params": {"dialect_name": "builtins.str", "join_columns": "builtins.list[builtins.str]", "target_column": "sqlalchemy.sql.ColumnElement", "target_table": "sqlalchemy.Table"}, "params_descr": {"dialect_name": "dialect in use", "join_columns": "", "target_column": "the column to update", "target_table": "the table to update"}, "params_occur": {"dialect_name": [], "join_columns": [["condition_list", "getattr", "dag_run", "c", "x", "getattr", "target_table", "c", "x", "x", "join_columns"]], "target_column": [["sub_q", "select", "dag_run", "c", "target_column", "name", "where", "condition"], ["target_table", "update", "values", "target_column", "sub_q"], ["target_table", "update", "where", "condition", "values", "target_column", "dag_run", "c", "target_column", "name"]], "target_table": [["condition_list", "getattr", "dag_run", "c", "x", "getattr", "target_table", "c", "x", "x", "join_columns"], ["target_table", "update", "values", "target_column", "sub_q"], ["target_table", "update", "where", "condition", "values", "target_column", "dag_run", "c", "target_column", "name"]]}, "params_p": {"args": [], "dialect_name": [["bool", 0.7200548129905728], ["str", 0.16807310703733958], ["int", 0.11187207997208752]], "join_columns": [["int", 0.41488819621787515], ["str", 0.09593714202012145], ["List[str]", 0.09301690286604357]], "kwargs": [], "target_column": [["str", 0.7854539260922981], ["bool", 0.1202086859197528]], "target_table": [["List[str]", 0.19927640143786457], ["bool", 0.18975095266129594], ["Optional[Sequence[str]]", 0.11129722019761096], ["int", 0.09524162534087295]]}, "q_name": "_update_value_from_dag_run", "ret_exprs": ["return target_table.update().values({target_column: sub_q})", "return target_table.update().where(condition).values({target_column: dag_run.c[target_column.name]})"], "ret_type": "sqlalchemy.sql.Update", "ret_type_p": [["bool", 0.321289444450924], ["List[str]", 0.09947509232021604], ["Dict[str, Any]", 0.09596696648852134], ["int", 0.0947635311896116], ["Tuple[int, int]", 0.09292220713903786], ["List[Dict[str, Any]]", 0.09071796756830515]], "variables": {"condition": "", "condition_list": "", "sub_q": ""}, "variables_p": {"condition": [["str", 0.24822204790338437], ["Set[str]", 0.08822315753943945], ["List[Dict[str, Any]]", 0.08493742059633086], ["List[str]", 0.08439912873196144]], "condition_list": [["List[str]", 0.3573000482555986], ["list", 0.3378912925302431], ["List[Union[Any, Any, Any, Any, Any, Any, Any, Any, Any, Any, Any, Any]]", 0.12160563507769526], ["List[Tuple[Any, Any]]", 0.09332197399196863], ["List[int]", 0.0898810501444944]], "sub_q": [["Counter[str]", 0.10413744958891254]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[105, 0], [131, 9]], "fn_var_ln": {"dialect_name": [[107, 4], [107, 16]], "update_query": [[115, 4], [115, 16]]}, "fn_var_occur": {"dialect_name": [["dialect_name", "op", "get_bind", "dialect", "name"], ["update_query", "_update_value_from_dag_run", "dialect_name", "dialect_name", "target_table", "task_fail", "target_column", "task_fail", "c", "run_id", "join_columns"]], "update_query": [["update_query", "_update_value_from_dag_run", "dialect_name", "dialect_name", "target_table", "task_fail", "target_column", "task_fail", "c", "run_id", "join_columns"], ["op", "execute", "update_query"]]}, "name": "upgrade", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "upgrade", "ret_exprs": [], "ret_type": "", "variables": {"dialect_name": "", "update_query": ""}, "variables_p": {"dialect_name": [["str", 0.46940378818502176], ["frozenset[Union[Any, Any]]", 0.4324206630436735], ["List[str]", 0.0981755487713049]], "update_query": [["dict", 0.1892592925720421], ["Dict[str, Union[Any, str]]", 0.11461519639950801], ["int", 0.09705400781014308], ["Set[str]", 0.0947084739591638], ["Dict[str, str]", 0.08739703423268234]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[134, 0], [156, 5]], "fn_var_ln": {"dialect_name": [[136, 4], [136, 16]], "update_query": [[138, 4], [138, 16]]}, "fn_var_occur": {"dialect_name": [["dialect_name", "op", "get_bind", "dialect", "name"], ["update_query", "_update_value_from_dag_run", "dialect_name", "dialect_name", "target_table", "task_fail", "target_column", "task_fail", "c", "execution_date", "join_columns"]], "update_query": [["update_query", "_update_value_from_dag_run", "dialect_name", "dialect_name", "target_table", "task_fail", "target_column", "task_fail", "c", "execution_date", "join_columns"], ["op", "execute", "update_query"]]}, "name": "downgrade", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "downgrade", "ret_exprs": [], "ret_type": "", "variables": {"dialect_name": "", "update_query": ""}, "variables_p": {"dialect_name": [["str", 0.46940378818502176], ["frozenset[Union[Any, Any]]", 0.4324206630436735], ["List[str]", 0.0981755487713049]], "update_query": [["dict", 0.2385673993675304], ["Dict[str, Any]", 0.09308824190162808], ["int", 0.08651395447932825]]}}], "imports": ["__future__", "annotations", "sqlalchemy", "sa", "alembic", "op", "sqlalchemy", "sql", "ColumnElement", "Update", "and_", "select", "airflow", "migrations", "db_types", "TIMESTAMP", "StringID"], "mod_var_ln": {"ID_LEN": [[45, 0], [45, 6]], "airflow_version": [[43, 0], [43, 15]], "branch_labels": [[41, 0], [41, 13]], "depends_on": [[42, 0], [42, 10]], "down_revision": [[40, 0], [40, 13]], "revision": [[39, 0], [39, 8]]}, "mod_var_occur": {"ID_LEN": [], "airflow_version": [], "branch_labels": [], "depends_on": [], "down_revision": [], "revision": []}, "no_types_annot": {"D": 5, "I": 0, "U": 20}, "session_id": "pInBCMktA_S5fSrRyXzsKkSDFt9Y5Plk9_kQLLze_gs", "set": null, "tc": [false, null], "type_annot_cove": 0.2, "typed_seq": "", "untyped_seq": "", "variables": {"ID_LEN": "", "airflow_version": "", "branch_labels": "", "depends_on": "", "down_revision": "", "revision": ""}, "variables_p": {"ID_LEN": [["int", 0.5], ["str", 0.2], ["Optional[int]", 0.1]], "airflow_version": [["str", 0.6], ["List[int]", 0.1], ["bool", 0.1], ["Union[int, str]", 0.1], ["int", 0.1]], "branch_labels": [["str", 0.5], ["List[str]", 0.4], ["Tuple[Any, Any]", 0.1]], "depends_on": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "down_revision": [["Tuple[str, str]", 0.5], ["str", 0.4], ["Optional[str]", 0.1]], "revision": [["str", 0.9999999999999999]]}}}