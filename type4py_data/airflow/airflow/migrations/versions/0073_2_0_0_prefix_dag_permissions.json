{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[41, 0], [56, 20]], "fn_var_ln": {"dag_perms": [[42, 4], [42, 13]], "perms": [[44, 4], [44, 9]], "prefix": [[43, 4], [43, 10]], "resource_ids": [[53, 4], [53, 16]], "vm_query": [[54, 4], [54, 12]]}, "fn_var_occur": {"dag_perms": [["perms", "session", "query", "Permission", "join", "Action", "filter", "Action", "name", "in_", "dag_perms", "join", "Resource", "filter", "Resource", "name", "filter", "Resource", "name", "notlike", "prefix", "all"]], "perms": [["perms", "session", "query", "Permission", "join", "Action", "filter", "Action", "name", "in_", "dag_perms", "join", "Resource", "filter", "Resource", "name", "filter", "Resource", "name", "notlike", "prefix", "all"], ["resource_ids", "permission", "resource", "id", "permission", "perms"]], "prefix": [["perms", "session", "query", "Permission", "join", "Action", "filter", "Action", "name", "in_", "dag_perms", "join", "Resource", "filter", "Resource", "name", "filter", "Resource", "name", "notlike", "prefix", "all"], ["vm_query", "update", "Resource", "name", "prefix", "Resource", "name", "synchronize_session", "False"]], "resource_ids": [["resource_ids", "permission", "resource", "id", "permission", "perms"], ["vm_query", "session", "query", "Resource", "filter", "Resource", "id", "in_", "resource_ids"]], "vm_query": [["vm_query", "session", "query", "Resource", "filter", "Resource", "id", "in_", "resource_ids"], ["vm_query", "update", "Resource", "name", "prefix", "Resource", "name", "synchronize_session", "False"]]}, "name": "prefix_individual_dag_permissions", "params": {"session": ""}, "params_descr": {"session": ""}, "params_occur": {"session": [["perms", "session", "query", "Permission", "join", "Action", "filter", "Action", "name", "in_", "dag_perms", "join", "Resource", "filter", "Resource", "name", "filter", "Resource", "name", "notlike", "prefix", "all"], ["vm_query", "session", "query", "Resource", "filter", "Resource", "id", "in_", "resource_ids"], ["session", "commit"]]}, "params_p": {"args": [], "kwargs": [], "session": [["str", 0.38172021462893263], ["type", 0.11431336343170168], ["Type[T]", 0.10580750681917026], ["Union[sqlalchemy.orm.session.Session, abilian.core.models.blob.Blob]", 0.09395207603373462]]}, "q_name": "prefix_individual_dag_permissions", "ret_exprs": [], "ret_type": "", "variables": {"dag_perms": "", "perms": "", "prefix": "", "resource_ids": "", "vm_query": ""}, "variables_p": {"dag_perms": [["str", 0.5058576376628365], ["Dict[str, Any]", 0.1054436285329549], ["dict", 0.09969995552428201], ["Optional[str]", 0.0943511056791412]], "perms": [["str", 0.5058576376628365], ["Dict[str, Any]", 0.1054436285329549], ["dict", 0.09969995552428201], ["Optional[str]", 0.0943511056791412]], "prefix": [["str", 0.5058576376628365], ["Dict[str, Any]", 0.1054436285329549], ["dict", 0.09969995552428201], ["Optional[str]", 0.0943511056791412]], "resource_ids": [["int", 0.193241754848046], ["str", 0.0971870154750528], ["models.File", 0.09049599958759041]], "vm_query": [["str", 0.48914765779769853], ["Pattern[Any]", 0.12302930583850909], ["int", 0.08884719359174116]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[59, 0], [72, 20]], "fn_var_ln": {"dag_perms": [[60, 4], [60, 13]], "perms": [[62, 4], [62, 9]], "prefix": [[61, 4], [61, 10]]}, "fn_var_occur": {"dag_perms": [["perms", "session", "query", "Permission", "join", "Action", "filter", "Action", "name", "in_", "dag_perms", "join", "Resource", "filter", "Resource", "name", "like", "prefix", "all"]], "perms": [["perms", "session", "query", "Permission", "join", "Action", "filter", "Action", "name", "in_", "dag_perms", "join", "Resource", "filter", "Resource", "name", "like", "prefix", "all"]], "prefix": [["perms", "session", "query", "Permission", "join", "Action", "filter", "Action", "name", "in_", "dag_perms", "join", "Resource", "filter", "Resource", "name", "like", "prefix", "all"], ["permission", "resource", "name", "permission", "resource", "name", "len", "prefix"]]}, "name": "remove_prefix_in_individual_dag_permissions", "params": {"session": ""}, "params_descr": {"session": ""}, "params_occur": {"session": [["perms", "session", "query", "Permission", "join", "Action", "filter", "Action", "name", "in_", "dag_perms", "join", "Resource", "filter", "Resource", "name", "like", "prefix", "all"], ["session", "commit"]]}, "params_p": {"args": [], "kwargs": [], "session": [["str", 0.18266630081901164], ["grouper.models.base.session.Session", 0.09100495795618604]]}, "q_name": "remove_prefix_in_individual_dag_permissions", "ret_exprs": [], "ret_type": "", "variables": {"dag_perms": "", "perms": "", "prefix": ""}, "variables_p": {"dag_perms": [["Tuple[Any, Any]", 0.12562080873153791], ["List[str]", 0.11487774080984428], ["Tuple[str, str]", 0.10076479429382706], ["Dict[int, str]", 0.09170716936665656], ["list", 0.09164883869585716], ["str", 0.08977173633502707]], "perms": [["Tuple[Any, Any]", 0.12562080873153791], ["List[str]", 0.11487774080984428], ["Tuple[str, str]", 0.10076479429382706], ["Dict[int, str]", 0.09170716936665656], ["list", 0.09164883869585716], ["str", 0.08977173633502707]], "prefix": [["str", 0.3963592563692914], ["dict", 0.09870877006781756], ["Tuple[str, str]", 0.09798160566672408], ["Dict[str, Any]", 0.09624947739668893], ["int", 0.09601706696894222]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[75, 0], [85, 23]], "fn_var_ln": {"dag_resource": [[80, 4], [80, 16]], "name": [[81, 4], [81, 21]]}, "fn_var_occur": {"dag_resource": [["dag_resource", "get_resource_query", "session", "permissions", "RESOURCE_DAG", "first"], ["dag_resource", "Resource"], ["dag_resource", "name", "permissions", "RESOURCE_DAG"], ["session", "add", "dag_resource"]], "name": [["dag_resource", "name", "permissions", "RESOURCE_DAG"]]}, "name": "get_or_create_dag_resource", "params": {"session": ""}, "params_descr": {"session": ""}, "params_occur": {"session": [["dag_resource", "get_resource_query", "session", "permissions", "RESOURCE_DAG", "first"], ["session", "add", "dag_resource"], ["session", "commit"]]}, "params_p": {"args": [], "kwargs": [], "session": [["str", 0.09484055423773624], ["grouper.models.base.session.Session", 0.08525736884666202]]}, "q_name": "get_or_create_dag_resource", "ret_exprs": ["return dag_resource", "return dag_resource"], "ret_type": "", "ret_type_p": [["List[str]", 0.2970544406228365], ["int", 0.20680789213134754], ["str", 0.09024654849148897], ["Callable", 0.03169671740540027], ["salon.models.Stylist", 0.023988070947177243]], "variables": {"dag_resource": "", "name": ""}, "variables_p": {"dag_resource": [["dict", 0.3298255907009898], ["str", 0.19150707082183965], ["Tuple[Any, Any]", 0.09380553841806884]], "name": [["str", 1.0]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[88, 0], [98, 27]], "fn_var_ln": {"all_dag_resource": [[93, 4], [93, 20]], "name": [[94, 4], [94, 25]]}, "fn_var_occur": {"all_dag_resource": [["all_dag_resource", "get_resource_query", "session", "first"], ["all_dag_resource", "Resource"], ["all_dag_resource", "name"], ["session", "add", "all_dag_resource"]], "name": [["all_dag_resource", "name"]]}, "name": "get_or_create_all_dag_resource", "params": {"session": ""}, "params_descr": {"session": ""}, "params_occur": {"session": [["all_dag_resource", "get_resource_query", "session", "first"], ["session", "add", "all_dag_resource"], ["session", "commit"]]}, "params_p": {"args": [], "kwargs": [], "session": [["dict", 0.13011701946536341], ["models.Tag", 0.09740415730431737], ["fal.models.Season", 0.09436252648218628]]}, "q_name": "get_or_create_all_dag_resource", "ret_exprs": ["return all_dag_resource", "return all_dag_resource"], "ret_type": "", "ret_type_p": [["bool", 0.38473284138495606], ["int", 0.19764716269096544], ["FrozenSet[str]", 0.14004376488572726], ["str", 0.09096162904372074]], "variables": {"all_dag_resource": "", "name": ""}, "variables_p": {"all_dag_resource": [["list", 0.40692258207983223], ["dict", 0.3966171250092791], ["List[str]", 0.10653185702770594]], "name": [["List[str]", 0.6666666666310208], ["Optional[str]", 0.3333333333096589], ["str", 3.284220572878376e-11], ["Final", 1.6827442688111245e-11], ["Dict[int, str]", 9.650503897605414e-12]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[101, 0], [111, 17]], "fn_var_ln": {"action": [[106, 4], [106, 10]], "name": [[107, 4], [107, 15]]}, "fn_var_occur": {"action": [["action", "get_action_query", "session", "action_name", "first"], ["action", "Action"], ["action", "name", "action_name"], ["session", "add", "action"]], "name": [["action", "name", "action_name"]]}, "name": "get_or_create_action", "params": {"action_name": "", "session": ""}, "params_descr": {"action_name": "", "session": ""}, "params_occur": {"action_name": [["action", "get_action_query", "session", "action_name", "first"], ["action", "name", "action_name"]], "session": [["action", "get_action_query", "session", "action_name", "first"], ["session", "add", "action"], ["session", "commit"]]}, "params_p": {"action_name": [["str", 0.705886702121897], ["List[Dict[str, Any]]", 0.09182914604730001]], "args": [], "kwargs": [], "session": [["str", 0.3308277954688665], ["Optional[str]", 0.15856236709730645], ["Dict[str, Any]", 0.07928118354865323], ["type", 0.07890602460204138]]}, "q_name": "get_or_create_action", "ret_exprs": ["return action", "return action"], "ret_type": "", "ret_type_p": [["List[str]", 0.2970544406228365], ["int", 0.20680789213134754], ["str", 0.09024654849148897], ["Callable", 0.03169671740540027], ["salon.models.Stylist", 0.023988070947177243]], "variables": {"action": "", "name": ""}, "variables_p": {"action": [["str", 0.09151190246633276]], "name": [["str", 0.9678666520738087], ["Generator[str, None, None]", 0.03213334792619145]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[114, 0], [115, 73]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_resource_query", "params": {"resource_name": "", "session": ""}, "params_descr": {"resource_name": "", "session": ""}, "params_occur": {"resource_name": [["session", "query", "Resource", "filter", "Resource", "name", "resource_name"]], "session": [["session", "query", "Resource", "filter", "Resource", "name", "resource_name"]]}, "params_p": {"args": [], "kwargs": [], "resource_name": [["str", 0.7170923550030195], ["Optional[Dict[str, Any]]", 0.08145159540805831]], "session": [["str", 0.7170923550030195], ["Optional[Dict[str, Any]]", 0.08145159540805831]]}, "q_name": "get_resource_query", "ret_exprs": ["return session.query(Resource).filter(Resource.name == resource_name)"], "ret_type": "", "ret_type_p": [["str", 0.18603686061016833], ["int", 0.1719898738292503], ["djmoney.contrib.exchange.models.Rate", 0.1479897015024299], ["zerver.models.Realm", 0.1479897015024299]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[118, 0], [119, 67]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_action_query", "params": {"action_name": "", "session": ""}, "params_descr": {"action_name": "", "session": ""}, "params_occur": {"action_name": [["session", "query", "Action", "filter", "Action", "name", "action_name"]], "session": [["session", "query", "Action", "filter", "Action", "name", "action_name"]]}, "params_p": {"action_name": [["str", 0.47675521489551465], ["bool", 0.11177249451390167], ["django.db.models.Model", 0.11177249451390167]], "args": [], "kwargs": [], "session": [["str", 0.47675521489551465], ["bool", 0.11177249451390167], ["django.db.models.Model", 0.11177249451390167]]}, "q_name": "get_action_query", "ret_exprs": ["return session.query(Action).filter(Action.name == action_name)"], "ret_type": "", "ret_type_p": [["str", 0.18603686061016833], ["int", 0.1719898738292503], ["djmoney.contrib.exchange.models.Rate", 0.1479897015024299], ["zerver.models.Realm", 0.1479897015024299]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[122, 0], [123, 72]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_permission_with_action_query", "params": {"action": "", "session": ""}, "params_descr": {"action": "", "session": ""}, "params_occur": {"action": [["session", "query", "Permission", "filter", "Permission", "action", "action"]], "session": [["session", "query", "Permission", "filter", "Permission", "action", "action"]]}, "params_p": {"action": [["tracim.models.auth.User", 0.10000937500222366], ["str", 0.09878372850306873], ["excars.models.user.User", 0.09732541380721943]], "args": [], "kwargs": [], "session": [["tracim.models.auth.User", 0.10000937500222366], ["str", 0.09878372850306873], ["excars.models.user.User", 0.09732541380721943]]}, "q_name": "get_permission_with_action_query", "ret_exprs": ["return session.query(Permission).filter(Permission.action == action)"], "ret_type": "", "ret_type_p": [["dict", 0.10659246631403216], ["zerver.models.UserProfile", 0.09484100206065132], ["str", 0.094139580198963]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[126, 0], [127, 82]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_permission_with_resource_query", "params": {"resource": "", "session": ""}, "params_descr": {"resource": "", "session": ""}, "params_occur": {"resource": [["session", "query", "Permission", "filter", "Permission", "resource_id", "resource", "id"]], "session": [["session", "query", "Permission", "filter", "Permission", "resource_id", "resource", "id"]]}, "params_p": {"args": [], "kwargs": [], "resource": [["str", 0.10967068592338608], ["tracim.models.auth.User", 0.08807632064364768]], "session": [["str", 0.10967068592338608], ["tracim.models.auth.User", 0.08807632064364768]]}, "q_name": "get_permission_with_resource_query", "ret_exprs": ["return session.query(Permission).filter(Permission.resource_id == resource.id)"], "ret_type": "", "ret_type_p": [["str", 0.4174476815686121], ["dict", 0.10665141986077842], ["Dict[str, str]", 0.10094550808446737], ["tildes.models.scraper.ScraperResult", 0.09095746449000641], ["models.User", 0.09051261181212461]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[130, 0], [132, 20]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "update_permission_action", "params": {"action": "", "permission_query": "", "session": ""}, "params_descr": {"action": "", "permission_query": "", "session": ""}, "params_occur": {"action": [["permission_query", "update", "Permission", "action_id", "action", "id", "synchronize_session", "False"]], "permission_query": [["permission_query", "update", "Permission", "action_id", "action", "id", "synchronize_session", "False"]], "session": [["session", "commit"]]}, "params_p": {"action": [["Dict[str, Any]", 0.2985931307363375], ["str", 0.09739557752327421], ["grouper.models.permission.Permission", 0.09739557752327421], ["zerver.models.UserProfile", 0.09568922980755627]], "args": [], "kwargs": [], "permission_query": [["Dict[str, Any]", 0.2985931307363375], ["str", 0.09739557752327421], ["grouper.models.permission.Permission", 0.09739557752327421], ["zerver.models.UserProfile", 0.09568922980755627]], "session": [["bool", 0.12317439950594597], ["Callable", 0.11272208283346326], ["Dict[str, Any]", 0.10490852098475578], ["List[str]", 0.08164354575740856], ["int", 0.07401620628686897], ["list", 0.07294002294170465]]}, "q_name": "update_permission_action", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[135, 0], [141, 5]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_permission", "params": {"action": "", "resource": "", "session": ""}, "params_descr": {"action": "", "resource": "", "session": ""}, "params_occur": {"action": [["session", "query", "Permission", "filter", "Permission", "resource", "resource", "filter", "Permission", "action", "action", "first"]], "resource": [["session", "query", "Permission", "filter", "Permission", "resource", "resource", "filter", "Permission", "action", "action", "first"]], "session": [["session", "query", "Permission", "filter", "Permission", "resource", "resource", "filter", "Permission", "action", "action", "first"]]}, "params_p": {"action": [["int", 0.25984955872750426], ["float", 0.2471029926669958], ["tracim.models.auth.User", 0.11157132080586699], ["str", 0.08718317939545363], ["bool", 0.08476026799512985]], "args": [], "kwargs": [], "resource": [["int", 0.25984955872750426], ["float", 0.2471029926669958], ["tracim.models.auth.User", 0.11157132080586699], ["str", 0.08718317939545363], ["bool", 0.08476026799512985]], "session": [["int", 0.25984955872750426], ["float", 0.2471029926669958], ["tracim.models.auth.User", 0.11157132080586699], ["str", 0.08718317939545363], ["bool", 0.08476026799512985]]}, "q_name": "get_permission", "ret_exprs": ["return ( session.query(Permission) .filter(Permission.resource == resource) .filter(Permission.action == action) .first())"], "ret_type": "", "ret_type_p": [["str", 0.27683320105835146], ["List[str]", 0.22290089927128753], ["Dict[str, Any]", 0.10563537987649406], ["Optional[str]", 0.09173559167480753]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[144, 0], [151, 20]], "fn_var_ln": {"resource": [[147, 12], [147, 31]]}, "fn_var_occur": {"resource": [["get_permission", "session", "resource", "permission", "action"], ["permission", "resource", "resource"]]}, "name": "update_permission_resource", "params": {"permission_query": "", "resource": "", "session": ""}, "params_descr": {"permission_query": "", "resource": "", "session": ""}, "params_occur": {"permission_query": [["permission_query", "all"]], "resource": [["get_permission", "session", "resource", "permission", "action"], ["permission", "resource", "resource"]], "session": [["get_permission", "session", "resource", "permission", "action"], ["session", "delete", "permission"], ["session", "commit"]]}, "params_p": {"args": [], "kwargs": [], "permission_query": [["str", 0.5951290315854291], ["Dict[str, Any]", 0.09845057342145534], ["Type[T]", 0.09044198753660734], ["bytes", 0.09019060587461114]], "resource": [["zerver.models.UserProfile", 0.12922686203385234], ["Dict[str, Any]", 0.12229261551472825], ["abilian.services.security.models.Permission", 0.09868949780188443], ["abilian.services.security.models.Role", 0.09868949780188443], ["str", 0.0943283265397547], ["users.models.JustfixUser", 0.08295388846926523]], "session": [["dict", 0.10021940431612185], ["str", 0.08663895722203968]]}, "q_name": "update_permission_resource", "ret_exprs": [], "ret_type": "", "variables": {"resource": ""}, "variables_p": {"resource": [["str", 0.22193689237814052], ["geode.models.common.Address", 0.12589739450059684], ["Dict[str, str]", 0.10039433653622984], ["List[str]", 0.0901908040469738], ["asgard.models.app.AppStats", 0.08969484639702206], ["float", 0.08944823425710918]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[154, 0], [188, 23]], "fn_var_ln": {"all_dags_resource": [[171, 4], [171, 21]], "can_dag_edit_action": [[165, 4], [165, 23]], "can_dag_read_action": [[159, 4], [159, 23]], "can_edit_action": [[167, 4], [167, 19]], "can_read_action": [[161, 4], [161, 19]], "dag_resource": [[174, 8], [174, 20]], "old_all_dags_permission": [[173, 8], [173, 31]], "old_can_dag_edit_permissions": [[166, 4], [166, 32]], "old_can_dag_read_permissions": [[160, 4], [160, 32]]}, "fn_var_occur": {"all_dags_resource": [["all_dags_resource", "get_resource_query", "db", "session", "first"], ["old_all_dags_permission", "get_permission_with_resource_query", "db", "session", "all_dags_resource"], ["db", "session", "delete", "all_dags_resource"]], "can_dag_edit_action": [["can_dag_edit_action", "get_action_query", "db", "session", "first"], ["old_can_dag_edit_permissions", "get_permission_with_action_query", "db", "session", "can_dag_edit_action"], ["db", "session", "delete", "can_dag_edit_action"]], "can_dag_read_action": [["can_dag_read_action", "get_action_query", "db", "session", "first"], ["old_can_dag_read_permissions", "get_permission_with_action_query", "db", "session", "can_dag_read_action"], ["db", "session", "delete", "can_dag_read_action"]], "can_edit_action": [["can_edit_action", "get_or_create_action", "db", "session"], ["update_permission_action", "db", "session", "old_can_dag_edit_permissions", "can_edit_action"]], "can_read_action": [["can_read_action", "get_or_create_action", "db", "session"], ["update_permission_action", "db", "session", "old_can_dag_read_permissions", "can_read_action"]], "dag_resource": [["dag_resource", "get_or_create_dag_resource", "db", "session"], ["update_permission_resource", "db", "session", "old_all_dags_permission", "dag_resource"]], "old_all_dags_permission": [["old_all_dags_permission", "get_permission_with_resource_query", "db", "session", "all_dags_resource"], ["update_permission_resource", "db", "session", "old_all_dags_permission", "dag_resource"]], "old_can_dag_edit_permissions": [["old_can_dag_edit_permissions", "get_permission_with_action_query", "db", "session", "can_dag_edit_action"], ["update_permission_action", "db", "session", "old_can_dag_edit_permissions", "can_edit_action"]], "old_can_dag_read_permissions": [["old_can_dag_read_permissions", "get_permission_with_action_query", "db", "session", "can_dag_read_action"], ["update_permission_action", "db", "session", "old_can_dag_read_permissions", "can_read_action"]]}, "name": "migrate_to_new_dag_permissions", "params": {"db": ""}, "params_descr": {"db": ""}, "params_occur": {"db": [["prefix_individual_dag_permissions", "db", "session"], ["can_dag_read_action", "get_action_query", "db", "session", "first"], ["old_can_dag_read_permissions", "get_permission_with_action_query", "db", "session", "can_dag_read_action"], ["can_read_action", "get_or_create_action", "db", "session"], ["update_permission_action", "db", "session", "old_can_dag_read_permissions", "can_read_action"], ["can_dag_edit_action", "get_action_query", "db", "session", "first"], ["old_can_dag_edit_permissions", "get_permission_with_action_query", "db", "session", "can_dag_edit_action"], ["can_edit_action", "get_or_create_action", "db", "session"], ["update_permission_action", "db", "session", "old_can_dag_edit_permissions", "can_edit_action"], ["all_dags_resource", "get_resource_query", "db", "session", "first"], ["old_all_dags_permission", "get_permission_with_resource_query", "db", "session", "all_dags_resource"], ["dag_resource", "get_or_create_dag_resource", "db", "session"], ["update_permission_resource", "db", "session", "old_all_dags_permission", "dag_resource"], ["db", "session", "delete", "all_dags_resource"], ["db", "session", "delete", "can_dag_read_action"], ["db", "session", "delete", "can_dag_edit_action"], ["db", "session", "commit"]]}, "params_p": {"args": [], "db": [["int", 0.1885076818235871], ["tnadmin.models.GvOrganisation", 0.10615357671910292]], "kwargs": []}, "q_name": "migrate_to_new_dag_permissions", "ret_exprs": [], "ret_type": "", "variables": {"all_dags_resource": "", "can_dag_edit_action": "", "can_dag_read_action": "", "can_edit_action": "", "can_read_action": "", "dag_resource": "", "old_all_dags_permission": "", "old_can_dag_edit_permissions": "", "old_can_dag_read_permissions": ""}, "variables_p": {"all_dags_resource": [["list", 0.29618693949322333], ["Set[str]", 0.21979925954351703], ["List[str]", 0.19580361342128377], ["Dict[int, List[int]]", 0.11421636030364915], ["dict", 0.08997714851567067]], "can_dag_edit_action": [["bytes", 0.09844073133516547]], "can_dag_read_action": [["bytes", 0.09844073133516547]], "can_edit_action": [["float", 0.11050166841011029], ["Dict[str, str]", 0.07667227928488417]], "can_read_action": [["float", 0.12178767264207739], ["Dict[str, str]", 0.1169667349499831], ["zerver.models.Realm", 0.08513442536958148]], "dag_resource": [["str", 0.08103786603125883], ["float", 0.08085575826929668], ["dict", 0.07863030631003412], ["geode.models.common.Address", 0.07686914648375262]], "old_all_dags_permission": [["str", 0.22700324754713155], ["geode.models.geocoding.Result", 0.2032338432091606], ["List[str]", 0.09500493806170737]], "old_can_dag_edit_permissions": [["Tuple[Literal, Literal]", 0.118709100531076], ["paradigm.models.Base", 0.11341547336584856], ["Dict[str, Dict[str, Any]]", 0.09326326040447824]], "old_can_dag_read_permissions": [["Tuple[Literal, Literal]", 0.118709100531076], ["paradigm.models.Base", 0.11341547336584856], ["Dict[str, Dict[str, Any]]", 0.09326326040447824]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[191, 0], [225, 20]], "fn_var_ln": {"can_dag_edit_action": [[204, 4], [204, 23]], "can_dag_read_action": [[198, 4], [198, 23]], "can_edit_action": [[202, 4], [202, 19]], "can_read_action": [[196, 4], [196, 19]], "dag_resource": [[208, 4], [208, 16]], "new_can_edit_permissions": [[203, 4], [203, 28]], "new_can_read_permissions": [[197, 4], [197, 28]], "new_dag_permission": [[210, 8], [210, 26]], "old_all_dag_resource": [[211, 8], [211, 28]]}, "fn_var_occur": {"can_dag_edit_action": [["can_dag_edit_action", "get_or_create_action", "session"], ["update_permission_action", "session", "new_can_edit_permissions", "can_dag_edit_action"]], "can_dag_read_action": [["can_dag_read_action", "get_or_create_action", "session"], ["update_permission_action", "session", "new_can_read_permissions", "can_dag_read_action"]], "can_edit_action": [["can_edit_action", "get_action_query", "session", "first"], ["new_can_edit_permissions", "get_permission_with_action_query", "session", "can_edit_action"], ["session", "delete", "can_edit_action"]], "can_read_action": [["can_read_action", "get_action_query", "session", "first"], ["new_can_read_permissions", "get_permission_with_action_query", "session", "can_read_action"], ["session", "delete", "can_read_action"]], "dag_resource": [["dag_resource", "get_resource_query", "session", "permissions", "RESOURCE_DAG", "first"], ["new_dag_permission", "get_permission_with_resource_query", "session", "dag_resource"], ["session", "delete", "dag_resource"]], "new_can_edit_permissions": [["new_can_edit_permissions", "get_permission_with_action_query", "session", "can_edit_action"], ["update_permission_action", "session", "new_can_edit_permissions", "can_dag_edit_action"]], "new_can_read_permissions": [["new_can_read_permissions", "get_permission_with_action_query", "session", "can_read_action"], ["update_permission_action", "session", "new_can_read_permissions", "can_dag_read_action"]], "new_dag_permission": [["new_dag_permission", "get_permission_with_resource_query", "session", "dag_resource"], ["update_permission_resource", "session", "new_dag_permission", "old_all_dag_resource"]], "old_all_dag_resource": [["old_all_dag_resource", "get_or_create_all_dag_resource", "session"], ["update_permission_resource", "session", "new_dag_permission", "old_all_dag_resource"]]}, "name": "undo_migrate_to_new_dag_permissions", "params": {"session": ""}, "params_descr": {"session": ""}, "params_occur": {"session": [["remove_prefix_in_individual_dag_permissions", "session"], ["can_read_action", "get_action_query", "session", "first"], ["new_can_read_permissions", "get_permission_with_action_query", "session", "can_read_action"], ["can_dag_read_action", "get_or_create_action", "session"], ["update_permission_action", "session", "new_can_read_permissions", "can_dag_read_action"], ["can_edit_action", "get_action_query", "session", "first"], ["new_can_edit_permissions", "get_permission_with_action_query", "session", "can_edit_action"], ["can_dag_edit_action", "get_or_create_action", "session"], ["update_permission_action", "session", "new_can_edit_permissions", "can_dag_edit_action"], ["dag_resource", "get_resource_query", "session", "permissions", "RESOURCE_DAG", "first"], ["new_dag_permission", "get_permission_with_resource_query", "session", "dag_resource"], ["old_all_dag_resource", "get_or_create_all_dag_resource", "session"], ["update_permission_resource", "session", "new_dag_permission", "old_all_dag_resource"], ["session", "delete", "dag_resource"], ["session", "delete", "can_read_action"], ["session", "delete", "can_edit_action"], ["session", "commit"]]}, "params_p": {"args": [], "kwargs": [], "session": [["Dict[str, Any]", 0.215509062621173], ["dict", 0.08992740007944862]]}, "q_name": "undo_migrate_to_new_dag_permissions", "ret_exprs": [], "ret_type": "", "variables": {"can_dag_edit_action": "", "can_dag_read_action": "", "can_edit_action": "", "can_read_action": "", "dag_resource": "", "new_can_edit_permissions": "", "new_can_read_permissions": "", "new_dag_permission": "", "old_all_dag_resource": ""}, "variables_p": {"can_dag_edit_action": [["str", 0.2565392032317704], ["geode.models.common.Address", 0.13406393234631667], ["viewer.models.Gallery", 0.10626039963766433], ["float", 0.08809211927705837]], "can_dag_read_action": [["str", 0.2565392032317704], ["geode.models.common.Address", 0.13406393234631667], ["viewer.models.Gallery", 0.10626039963766433], ["float", 0.08809211927705837]], "can_edit_action": [["str", 0.29155881756946644], ["list", 0.1051540771280189], ["int", 0.09233754403733148]], "can_read_action": [["dict", 0.225587107357846], ["list", 0.08941629803944129], ["Dict[str, str]", 0.08676217112936277]], "dag_resource": [["str", 0.2996310217054074], ["zerver.models.Stream", 0.1305852190473993], ["Dict[str, Dict[str, int]]", 0.1120710494314546], ["int", 0.10165680211789187], ["chalice.deploy.models.RestAPI", 0.0919420456046785]], "new_can_edit_permissions": [["str", 0.7452777703004183], ["Optional[str]", 0.2547222296995816]], "new_can_read_permissions": [["str", 0.7489505939821912], ["Dict[str, Any]", 0.0972228308407813], ["Optional[str]", 0.07710054362618396]], "new_dag_permission": [["str", 0.6346019823048451], ["Optional[str]", 0.09010537754336481]], "old_all_dag_resource": [["str", 0.3232093930231992], ["dict", 0.2236538839239519], ["Dict[int, str]", 0.09956087245396962], ["List[Union[Any, Any, Any]]", 0.09605954313676637], ["List[Dict[str, Any]]", 0.0852974416597802]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[228, 0], [233, 22]], "fn_var_ln": {"db": [[229, 4], [229, 6]], "session": [[230, 4], [230, 14]]}, "fn_var_occur": {"db": [["db", "SQLA"], ["db", "session", "settings", "Session"], ["migrate_to_new_dag_permissions", "db"], ["db", "session", "commit"], ["db", "session", "close"]], "session": [["db", "session", "settings", "Session"], ["db", "session", "commit"], ["db", "session", "close"]]}, "name": "upgrade", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "upgrade", "ret_exprs": [], "ret_type": "", "variables": {"db": "", "session": ""}, "variables_p": {"db": [], "session": [["Optional[str]", 0.2457439550071514]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[236, 0], [239, 51]], "fn_var_ln": {"db": [[237, 4], [237, 6]], "session": [[238, 4], [238, 14]]}, "fn_var_occur": {"db": [["db", "SQLA"], ["db", "session", "settings", "Session"], ["undo_migrate_to_new_dag_permissions", "db", "session"]], "session": [["db", "session", "settings", "Session"], ["undo_migrate_to_new_dag_permissions", "db", "session"]]}, "name": "downgrade", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "downgrade", "ret_exprs": [], "ret_type": "", "variables": {"db": "", "session": ""}, "variables_p": {"db": [], "session": [["Optional[str]", 0.2648799743625697], ["SMSShell.models.session.Session", 0.06625548141997807]]}}], "imports": ["__future__", "annotations", "flask_appbuilder", "SQLA", "airflow", "settings", "airflow", "security", "permissions", "airflow", "www", "fab_security", "sqla", "models", "Action", "Permission", "Resource"], "mod_var_ln": {"airflow_version": [[38, 0], [38, 15]], "branch_labels": [[36, 0], [36, 13]], "depends_on": [[37, 0], [37, 10]], "down_revision": [[35, 0], [35, 13]], "revision": [[34, 0], [34, 8]]}, "mod_var_occur": {"airflow_version": [], "branch_labels": [], "depends_on": [], "down_revision": [], "revision": []}, "no_types_annot": {"D": 0, "I": 0, "U": 82}, "session_id": "ocJ39jr382YEH7gM4lX052tCWmP2etj-s9gw37yLeC4", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"airflow_version": "", "branch_labels": "", "depends_on": "", "down_revision": "", "revision": ""}, "variables_p": {"airflow_version": [["str", 0.6], ["List[int]", 0.1], ["bool", 0.1], ["Union[int, str]", 0.1], ["int", 0.1]], "branch_labels": [["str", 0.5], ["List[str]", 0.4], ["Tuple[Any, Any]", 0.1]], "depends_on": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "down_revision": [["Tuple[str, str]", 0.5], ["str", 0.4], ["Optional[str]", 0.1]], "revision": [["str", 0.9999999999999999]]}}}