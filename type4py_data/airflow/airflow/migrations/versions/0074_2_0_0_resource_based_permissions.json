{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": "Apply Map Airflow permissions.", "long_descr": null, "ret": null}, "fn_lc": [[289, 0], [311, 56]], "fn_var_ln": {"appbuilder": [[291, 4], [291, 14]], "new_permission": [[298, 12], [298, 26]], "old_action_name": [[293, 28], [293, 43]], "old_permission": [[294, 8], [294, 22]], "old_resource_name": [[293, 9], [293, 26]], "resources": [[309, 8], [309, 17]]}, "fn_var_occur": {"appbuilder": [["appbuilder", "cached_app", "config", "False", "appbuilder"], ["old_permission", "appbuilder", "sm", "get_permission", "old_action_name", "old_resource_name"], ["new_permission", "appbuilder", "sm", "create_permission", "new_action_name", "new_resource_name"], ["appbuilder", "sm", "get_all_roles"], ["appbuilder", "sm", "permission_exists_in_one_or_more_roles", "old_resource_name", "old_action_name", "role", "id"], ["appbuilder", "sm", "add_permission_to_role", "role", "new_permission"], ["appbuilder", "sm", "remove_permission_from_role", "role", "old_permission"], ["appbuilder", "sm", "delete_permission", "old_action_name", "old_resource_name"], ["appbuilder", "sm", "get_action", "old_action_name"], ["resources", "appbuilder", "sm", "get_all_resources"], ["any", "appbuilder", "sm", "get_permission", "old_action_name", "resource", "name", "resource", "resources"], ["appbuilder", "sm", "delete_action", "old_action_name"]], "new_permission": [["new_permission", "appbuilder", "sm", "create_permission", "new_action_name", "new_resource_name"], ["appbuilder", "sm", "add_permission_to_role", "role", "new_permission"]], "old_action_name": [["old_resource_name", "old_action_name", "old"], ["old_permission", "appbuilder", "sm", "get_permission", "old_action_name", "old_resource_name"], ["appbuilder", "sm", "permission_exists_in_one_or_more_roles", "old_resource_name", "old_action_name", "role", "id"], ["appbuilder", "sm", "delete_permission", "old_action_name", "old_resource_name"], ["appbuilder", "sm", "get_action", "old_action_name"], ["any", "appbuilder", "sm", "get_permission", "old_action_name", "resource", "name", "resource", "resources"], ["appbuilder", "sm", "delete_action", "old_action_name"]], "old_permission": [["old_permission", "appbuilder", "sm", "get_permission", "old_action_name", "old_resource_name"], ["appbuilder", "sm", "remove_permission_from_role", "role", "old_permission"]], "old_resource_name": [["old_resource_name", "old_action_name", "old"], ["old_permission", "appbuilder", "sm", "get_permission", "old_action_name", "old_resource_name"], ["appbuilder", "sm", "permission_exists_in_one_or_more_roles", "old_resource_name", "old_action_name", "role", "id"], ["appbuilder", "sm", "delete_permission", "old_action_name", "old_resource_name"]], "resources": [["resources", "appbuilder", "sm", "get_all_resources"], ["any", "appbuilder", "sm", "get_permission", "old_action_name", "resource", "name", "resource", "resources"]]}, "name": "remap_permissions", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "remap_permissions", "ret_exprs": [], "ret_type": "", "variables": {"appbuilder": "", "new_permission": "", "old_action_name": "", "old_permission": "", "old_resource_name": "", "resources": ""}, "variables_p": {"appbuilder": [], "new_permission": [["list", 0.09605624399262903], ["Dict[bytes, Optional[bytes]]", 0.09370561760754416], ["dict", 0.09349653205548708], ["Dict[str, Union[Any, str]]", 0.08904901201847948]], "old_action_name": [["str", 0.5106571857361921], ["Optional[str]", 0.13547422076884272], ["Pattern[str]", 0.08852542402539526]], "old_permission": [["int", 0.08671668600982857]], "old_resource_name": [["str", 0.5106571857361921], ["Optional[str]", 0.13547422076884272], ["Pattern[str]", 0.08852542402539526]], "resources": [["str", 0.38491868856505085], ["list", 0.18811240174075947], ["Final", 0.12853232392401057], ["Optional[str]", 0.10583353101963681], ["set", 0.09009678992032591]]}}, {"docstring": {"func": "Unapply Map Airflow permissions", "long_descr": null, "ret": null}, "fn_lc": [[314, 0], [336, 56]], "fn_var_ln": {"appbuilder": [[316, 4], [316, 14]], "new_action_name": [[318, 28], [318, 43]], "new_permission": [[319, 8], [319, 22]], "new_resource_name": [[318, 9], [318, 26]], "old_permission": [[323, 12], [323, 26]], "resources": [[334, 8], [334, 17]]}, "fn_var_occur": {"appbuilder": [["appbuilder", "cached_app", "config", "False", "appbuilder"], ["new_permission", "appbuilder", "sm", "get_permission", "new_action_name", "new_resource_name"], ["old_permission", "appbuilder", "sm", "create_permission", "old_action_name", "old_resource_name"], ["appbuilder", "sm", "get_all_roles"], ["appbuilder", "sm", "permission_exists_in_one_or_more_roles", "new_resource_name", "new_action_name", "role", "id"], ["appbuilder", "sm", "add_permission_to_role", "role", "old_permission"], ["appbuilder", "sm", "remove_permission_from_role", "role", "new_permission"], ["appbuilder", "sm", "delete_permission", "new_action_name", "new_resource_name"], ["appbuilder", "sm", "get_action", "new_action_name"], ["resources", "appbuilder", "sm", "get_all_resources"], ["any", "appbuilder", "sm", "get_permission", "new_action_name", "resource", "name", "resource", "resources"], ["appbuilder", "sm", "delete_action", "new_action_name"]], "new_action_name": [["new_resource_name", "new_action_name", "new"], ["new_permission", "appbuilder", "sm", "get_permission", "new_action_name", "new_resource_name"], ["appbuilder", "sm", "permission_exists_in_one_or_more_roles", "new_resource_name", "new_action_name", "role", "id"], ["appbuilder", "sm", "delete_permission", "new_action_name", "new_resource_name"], ["appbuilder", "sm", "get_action", "new_action_name"], ["any", "appbuilder", "sm", "get_permission", "new_action_name", "resource", "name", "resource", "resources"], ["appbuilder", "sm", "delete_action", "new_action_name"]], "new_permission": [["new_permission", "appbuilder", "sm", "get_permission", "new_action_name", "new_resource_name"], ["appbuilder", "sm", "remove_permission_from_role", "role", "new_permission"]], "new_resource_name": [["new_resource_name", "new_action_name", "new"], ["new_permission", "appbuilder", "sm", "get_permission", "new_action_name", "new_resource_name"], ["appbuilder", "sm", "permission_exists_in_one_or_more_roles", "new_resource_name", "new_action_name", "role", "id"], ["appbuilder", "sm", "delete_permission", "new_action_name", "new_resource_name"]], "old_permission": [["old_permission", "appbuilder", "sm", "create_permission", "old_action_name", "old_resource_name"], ["appbuilder", "sm", "add_permission_to_role", "role", "old_permission"]], "resources": [["resources", "appbuilder", "sm", "get_all_resources"], ["any", "appbuilder", "sm", "get_permission", "new_action_name", "resource", "name", "resource", "resources"]]}, "name": "undo_remap_permissions", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "undo_remap_permissions", "ret_exprs": [], "ret_type": "", "variables": {"appbuilder": "", "new_action_name": "", "new_permission": "", "new_resource_name": "", "old_permission": "", "resources": ""}, "variables_p": {"appbuilder": [["dict", 0.3142008770868669], ["Dict[str, None]", 0.08964573536628818]], "new_action_name": [["str", 0.8353282528888871], ["list", 0.08656368451243054], ["Optional[str]", 0.07810806259868217]], "new_permission": [["Dict[str, Dict[str, str]]", 0.12167174303979592], ["set", 0.10183213278176378], ["str", 0.09450863492945132], ["Dict[str, str]", 0.09266305259215317]], "new_resource_name": [["str", 0.8353282528888871], ["list", 0.08656368451243054], ["Optional[str]", 0.07810806259868217]], "old_permission": [["str", 0.19415743601184493]], "resources": [["str", 0.5694329428358119], ["set", 0.10754344603004705], ["Final", 0.10686921520259116], ["int", 0.0983672802481628]]}}, {"docstring": {"func": "Apply Resource based permissions.", "long_descr": null, "ret": null}, "fn_lc": [[339, 0], [344, 27]], "fn_var_ln": {"handlers": [[344, 4], [344, 16]], "log": [[341, 4], [341, 7]]}, "fn_var_occur": {"handlers": [["handlers", "log", "handlers"], ["log", "handlers", "handlers"]], "log": [["log", "logging", "getLogger"], ["handlers", "log", "handlers"], ["log", "handlers", "handlers"]]}, "name": "upgrade", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "upgrade", "ret_exprs": [], "ret_type": "", "variables": {"handlers": "", "log": ""}, "variables_p": {"handlers": [["logging.Formatter", 0.896580395194315], ["logging.handlers.QueueHandler", 0.10341960480568513]], "log": [["logging.Logger", 0.8689105539054429], ["nucypher.utilities.logging.Logger", 0.1310894460945571]]}}, {"docstring": {"func": "Unapply Resource based permissions.", "long_descr": null, "ret": null}, "fn_lc": [[347, 0], [352, 27]], "fn_var_ln": {"handlers": [[352, 4], [352, 16]], "log": [[349, 4], [349, 7]]}, "fn_var_occur": {"handlers": [["handlers", "log", "handlers"], ["log", "handlers", "handlers"]], "log": [["log", "logging", "getLogger"], ["handlers", "log", "handlers"], ["log", "handlers", "handlers"]]}, "name": "downgrade", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "downgrade", "ret_exprs": [], "ret_type": "", "variables": {"handlers": "", "log": ""}, "variables_p": {"handlers": [["logging.Formatter", 0.896580395194315], ["logging.handlers.QueueHandler", 0.10341960480568513]], "log": [["logging.Logger", 0.8689105539054429], ["nucypher.utilities.logging.Logger", 0.1310894460945571]]}}], "imports": ["__future__", "annotations", "logging", "airflow", "security", "permissions", "airflow", "www", "app", "cached_app"], "mod_var_ln": {"airflow_version": [[37, 0], [37, 15]], "branch_labels": [[35, 0], [35, 13]], "depends_on": [[36, 0], [36, 10]], "down_revision": [[34, 0], [34, 13]], "mapping": [[40, 0], [40, 7]], "revision": [[33, 0], [33, 8]]}, "mod_var_occur": {"airflow_version": [], "branch_labels": [], "depends_on": [], "down_revision": [], "mapping": [["mapping", "items"], ["mapping", "items"]], "revision": []}, "no_types_annot": {"D": 0, "I": 0, "U": 26}, "session_id": "hXellSqiAAt70WVByoHTazsP3MXmdZ9iGnn2BAq0L1Y", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"airflow_version": "", "branch_labels": "", "depends_on": "", "down_revision": "", "mapping": "", "revision": ""}, "variables_p": {"airflow_version": [["str", 0.6], ["List[int]", 0.1], ["bool", 0.1], ["Union[int, str]", 0.1], ["int", 0.1]], "branch_labels": [["str", 0.5], ["List[str]", 0.4], ["Tuple[Any, Any]", 0.1]], "depends_on": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "down_revision": [["Tuple[str, str]", 0.5], ["str", 0.4], ["Optional[str]", 0.1]], "mapping": [["Dict[Union[Any, Any], Union[Any, Any]]", 0.2522064960878441], ["Dict[Any, int]", 0.08684178342631098], ["Dict[Any, List[str]]", 0.08079323288695349], ["Dict[Any, str]", 0.07237660749884973], ["dict", 0.06474880427737627], ["Dict[str, str]", 0.06472333169089922]], "revision": [["str", 0.9999999999999999]]}}}