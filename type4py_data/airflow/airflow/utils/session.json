{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": "Contextmanager that will create and teardown a session.", "long_descr": null, "ret": null}, "fn_lc": [[29, 0], [42, 23]], "fn_var_ln": {"Session": [[31, 4], [31, 11]], "session": [[34, 4], [34, 11]]}, "fn_var_occur": {"Session": [["Session", "getattr", "settings", "None"], ["Session", "None"], ["session", "Session"]], "session": [["session", "Session"], ["session", "commit"], ["session", "rollback"], ["session", "close"]]}, "name": "create_session", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "create_session", "ret_exprs": [], "ret_type": "typing.Generator[airflow.settings.SASession, None, None]", "variables": {"Session": "", "session": ""}, "variables_p": {"Session": [["Optional[str]", 0.2426654077503526], ["List[None]", 0.1534404139804182], ["Type[str]", 0.09395837642428513], ["Set[str]", 0.07758237302783527]], "session": [["Optional[str]", 0.1459243748535958]]}}, {"docstring": {"func": "Find session index in function call parameter.", "long_descr": null, "ret": null}, "fn_lc": [[49, 0], [58, 27]], "fn_var_ln": {"func_params": [[51, 4], [51, 15]], "session_args_idx": [[54, 8], [54, 24]]}, "fn_var_occur": {"func_params": [["func_params", "signature", "func", "parameters"], ["session_args_idx", "tuple", "func_params", "index"]], "session_args_idx": [["session_args_idx", "tuple", "func_params", "index"]]}, "name": "find_session_idx", "params": {"func": "typing.Callable[PS, RT]"}, "params_descr": {"func": ""}, "params_occur": {"func": [["func_params", "signature", "func", "parameters"], ["ValueError", "func", "__qualname__", "None"]]}, "params_p": {"args": [], "func": [["Sequence[str]", 0.21976695344197913], ["Type", 0.20883151207659603], ["Callable", 0.08722004508477701]], "kwargs": []}, "q_name": "find_session_idx", "ret_exprs": ["return session_args_idx"], "ret_type": "builtins.int", "ret_type_p": [["Dict[str, Any]", 0.20794104839858435], ["Dict[str, Tuple[Any, Any]]", 0.1790821751102713], ["str", 0.0913261130687339]], "variables": {"func_params": "", "session_args_idx": ""}, "variables_p": {"func_params": [["Type[int]", 0.41019479730526165], ["Type[bytes]", 0.3008675281721548], ["Type[Dict[str, Any]]", 0.09887225821585834], ["Type[str]", 0.09887225821585834], ["int", 0.09119315809086685]], "session_args_idx": [["Pattern[str]", 0.21573162764016524], ["List[str]", 0.16993286303535374], ["Callable[[Any], bool]", 0.14030705505559002], ["Set[str]", 0.11257903001859158], ["Type[int]", 0.10102321290399824], ["bool", 0.08920140944055072], ["str", 0.08680768796601332], ["OrderedDict[str, int]", 0.08441711393973701]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[71, 4], [76, 61]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "wrapper", "params": {"args": "", "kwargs": ""}, "params_descr": {"args": "", "kwargs": ""}, "params_occur": {"args": [["kwargs", "session_args_idx", "len", "args"], ["func", "args", "kwargs"], ["func", "args", "session", "session", "kwargs"]], "kwargs": [["kwargs", "session_args_idx", "len", "args"], ["func", "args", "kwargs"], ["func", "args", "session", "session", "kwargs"]]}, "params_p": {"args": [], "kwargs": []}, "q_name": "provide_session.<locals>.wrapper", "ret_exprs": ["return func(*args, **kwargs)", "return func(*args, session=session, **kwargs)"], "ret_type": "RT", "ret_type_p": [], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Function decorator that provides a session if it isn't provided.", "long_descr": "If you want to reuse a session or run the function as part of a\ndatabase transaction, you pass it to the function, if not this wrapper\nwill create one and close it for you.", "ret": null}, "fn_lc": [[61, 0], [78, 18]], "fn_var_ln": {"session_args_idx": [[68, 4], [68, 20]]}, "fn_var_occur": {"session_args_idx": []}, "name": "provide_session", "params": {"func": "typing.Callable[PS, RT]"}, "params_descr": {"func": ""}, "params_occur": {"func": []}, "params_p": {"args": [], "func": [["Callable", 0.999999999463828], ["str", 9.941171651408972e-11], ["T", 9.338774437623256e-11]], "kwargs": []}, "q_name": "provide_session", "ret_exprs": ["return wrapper"], "ret_type": "typing.Callable[PS, RT]", "ret_type_p": [["str", 0.9999999967797708], ["bool", 1.0611180581861375e-09], ["List[Dict]", 6.686838320216456e-10], ["Mapping[str, Any]", 6.415400702629496e-10], ["Tuple[int, int, int]", 2.836291914885743e-10], ["Dict[int, Dict[str, Any]]", 2.8162886760119625e-10]], "variables": {"session_args_idx": ""}, "variables_p": {"session_args_idx": [["str", 0.47260536339634696], ["property", 0.11815134084908674], ["int", 0.11815134084908674], ["list", 0.05914814296210299]]}}], "imports": ["__future__", "annotations", "contextlib", "functools", "wraps", "inspect", "signature", "typing", "Callable", "Generator", "TypeVar", "cast", "airflow", "settings", "airflow", "typing_compat", "ParamSpec"], "mod_var_ln": {"NEW_SESSION": [[85, 0], [85, 11]], "PS": [[45, 0], [45, 2]], "RT": [[46, 0], [46, 2]]}, "mod_var_occur": {"NEW_SESSION": [], "PS": [], "RT": []}, "no_types_annot": {"D": 7, "I": 0, "U": 9}, "session_id": "5FRrNfjArNA4aQxGKFSWEkqdLfJHk1PX0NoL9O4a6mA", "set": null, "tc": [false, null], "type_annot_cove": 0.44, "typed_seq": "", "untyped_seq": "", "variables": {"NEW_SESSION": "airflow.settings.SASession", "PS": "", "RT": ""}, "variables_p": {"NEW_SESSION": [["Dict[int, Set[str]]", 0.7971178403386939], ["int", 0.1038911786919065], ["Dict[str, Any]", 0.09899098096939941]], "PS": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "RT": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}}