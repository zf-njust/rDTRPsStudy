{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": "Return Tenacity Retrying object with project specific default.", "long_descr": null, "ret": null}, "fn_lc": [[33, 0], [48, 44]], "fn_var_ln": {"retry_kwargs": [[38, 4], [38, 16]]}, "fn_var_occur": {"retry_kwargs": [["retry_kwargs", "dict", "retry", "tenacity", "retry_if_exception_type", "exception_types", "OperationalError", "DBAPIError", "wait", "tenacity", "wait_random_exponential", "multiplier", "max", "stop", "tenacity", "stop_after_attempt", "max_retries", "reraise", "True", "kwargs"], ["retry_kwargs", "tenacity", "before_sleep_log", "logger", "logging", "DEBUG", "True"], ["tenacity", "Retrying", "retry_kwargs"]]}, "name": "run_with_db_retries", "params": {"kwargs": "", "logger": "logging.Logger | None", "max_retries": "builtins.int"}, "params_descr": {"kwargs": "", "logger": "", "max_retries": ""}, "params_occur": {"kwargs": [["retry_kwargs", "dict", "retry", "tenacity", "retry_if_exception_type", "exception_types", "OperationalError", "DBAPIError", "wait", "tenacity", "wait_random_exponential", "multiplier", "max", "stop", "tenacity", "stop_after_attempt", "max_retries", "reraise", "True", "kwargs"]], "logger": [["logger", "isinstance", "logger", "logging", "Logger"], ["retry_kwargs", "tenacity", "before_sleep_log", "logger", "logging", "DEBUG", "True"]], "max_retries": [["retry_kwargs", "dict", "retry", "tenacity", "retry_if_exception_type", "exception_types", "OperationalError", "DBAPIError", "wait", "tenacity", "wait_random_exponential", "multiplier", "max", "stop", "tenacity", "stop_after_attempt", "max_retries", "reraise", "True", "kwargs"]]}, "params_p": {"args": [], "kwargs": [], "logger": [["dict", 0.2897969353071435], ["logging.Logger", 0.2563407546519793], ["str", 0.08983227485156704], ["Callable", 0.07778117860810684]], "max_retries": [["str", 0.17055144663170813], ["dict", 0.1541155811618485], ["Dict[str, List[str]]", 0.11177723229447296], ["int", 0.11177723229447296]]}, "q_name": "run_with_db_retries", "ret_exprs": ["return tenacity.Retrying(**retry_kwargs)"], "ret_type": "", "ret_type_p": [["Dict[str, Any]", 0.1316360547782941], ["str", 0.0976577498838777], ["bool", 0.09125519051376396]], "variables": {"retry_kwargs": ""}, "variables_p": {"retry_kwargs": [["Dict[str, Union[Any, str]]", 0.1778115156956671], ["Dict[str, Union[str, Any]]", 0.16367914086638125], ["bool", 0.10989372805285616], ["str", 0.08633107482970892], ["Dict[Any, Union[Any, Any]]", 0.08549652500481757]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[52, 0], [53, 7]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "retry_db_transaction", "params": {"retries": "builtins.int"}, "params_descr": {"retries": ""}, "params_occur": {"retries": []}, "params_p": {"args": [], "kwargs": [], "retries": [["str", 0.5379271891149613], ["Type", 0.18211148733145646], ["bytes", 0.11000358957056787], ["bool", 0.08497886699150718]]}, "q_name": "retry_db_transaction", "ret_exprs": [], "ret_type": "typing.Callable[[F], F]", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[57, 0], [58, 7]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "retry_db_transaction", "params": {"_func": "F"}, "params_descr": {"_func": ""}, "params_occur": {"_func": []}, "params_p": {"_func": [["Callable", 0.19966053548037513], ["str", 0.1746548172503005], ["int", 0.09452380207178653], ["Optional[int]", 0.09452380207178653]], "args": [], "kwargs": []}, "q_name": "retry_db_transaction", "ret_exprs": [], "ret_type": "F", "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[79, 8], [102, 29]], "fn_var_ln": {"logger": [[80, 12], [80, 18]], "session": [[86, 16], [86, 23]]}, "fn_var_occur": {"logger": [["logger", "args", "log", "args", "hasattr", "args", "logging", "getLogger", "func", "__module__"], ["run_with_db_retries", "max_retries", "retries", "logger", "logger", "retry_kwargs"], ["logger", "debug", "func", "__qualname__", "attempt", "retry_state", "attempt_number", "retries"]], "session": [["session", "kwargs"], ["session", "args", "session_args_idx"], ["session", "rollback"]]}, "name": "wrapped_function", "params": {"args": "", "kwargs": ""}, "params_descr": {"args": "", "kwargs": ""}, "params_occur": {"args": [["logger", "args", "log", "args", "hasattr", "args", "logging", "getLogger", "func", "__module__"], ["len", "args", "session_args_idx"], ["session", "args", "session_args_idx"], ["func", "args", "kwargs"]], "kwargs": [["session", "kwargs"], ["func", "args", "kwargs"]]}, "params_p": {"args": [], "kwargs": []}, "q_name": "retry_db_transaction.<locals>.retry_decorator.<locals>.wrapped_function", "ret_exprs": ["return func(*args, **kwargs)"], "ret_type": "", "ret_type_p": [["int", 0.19507948569061304], ["Dict[str, Tuple[int, int]]", 0.10878211837661514], ["bool", 0.1020427215020433], ["Dict[str, Any]", 0.09923983878755788], ["Optional[Dict[str, str]]", 0.08896684027219023]], "variables": {"logger": "", "session": ""}, "variables_p": {"logger": [["logging.Logger", 0.9245251937568238]], "session": [["dict", 0.24542376093190477], ["Dict[str, List[Any]]", 0.09203728901304208]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[67, 4], [104, 31]], "fn_var_ln": {"func_params": [[69, 8], [69, 19]], "session_args_idx": [[72, 12], [72, 28]]}, "fn_var_occur": {"func_params": [], "session_args_idx": []}, "name": "retry_decorator", "params": {"func": "typing.Callable"}, "params_descr": {"func": ""}, "params_occur": {"func": []}, "params_p": {"args": [], "func": [["Callable", 0.6], ["Callable[..., None]", 0.09999999999999999]], "kwargs": []}, "q_name": "retry_db_transaction.<locals>.retry_decorator", "ret_exprs": ["return wrapped_function"], "ret_type": "typing.Callable", "ret_type_p": [["Sequence['cirq.Qid']", 0.3380336526600837], ["bool", 0.12875287472298702]], "variables": {"func_params": "", "session_args_idx": ""}, "variables_p": {"func_params": [["Type[Callable[..., Any]]", 0.1], ["int", 0.1], ["Callable", 0.1], ["Callable(Any)[[Iterable[object]], bool]", 0.1], ["list", 0.1], ["property", 0.1], ["Callable[..., float]", 0.1]], "session_args_idx": [["str", 0.47260536339634696], ["property", 0.11815134084908674], ["int", 0.11815134084908674], ["list", 0.05914814296210299]]}}, {"docstring": {"func": "Decorator to retry functions in case of ``OperationalError`` from DB.", "long_descr": "It should not be used with ``@provide_session``.", "ret": null}, "fn_lc": [[61, 0], [110, 37]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "retry_db_transaction", "params": {"_func": "Callable | None", "retries": "builtins.int", "retry_kwargs": ""}, "params_descr": {"_func": "", "retries": "", "retry_kwargs": ""}, "params_occur": {"_func": [["_func", "None"], ["retry_decorator", "_func"]], "retries": [], "retry_kwargs": []}, "params_p": {"_func": [["Union[List, Dict, None]", 0.30120242074631126], ["Optional[str]", 0.20411577645761408], ["Sequence[str]", 0.1925068290487738], ["str", 0.10803955472246139]], "args": [], "kwargs": [], "retries": [["Iterator[Tuple[str, str]]", 0.08847942744786713], ["List[Dict[str, Any]]", 0.08215958926048017], ["bool", 0.08014079527225397], ["Callable[[Any], T]", 0.0779166183770454], ["int", 0.0779166183770454]], "retry_kwargs": [["Iterator[Tuple[str, str]]", 0.08847942744786713], ["List[Dict[str, Any]]", 0.08215958926048017], ["bool", 0.08014079527225397], ["Callable[[Any], T]", 0.0779166183770454], ["int", 0.0779166183770454]]}, "q_name": "retry_db_transaction", "ret_exprs": ["return retry_decorator", "return retry_decorator(_func)"], "ret_type": "", "ret_type_p": [["int", 0.22419835946657726], ["str", 0.1475158762555558], ["Dict[Tuple[str, str], Tuple[float, float]]", 0.0748750174068346]], "variables": {}, "variables_p": {}}], "imports": ["__future__", "annotations", "functools", "logging", "inspect", "signature", "typing", "Callable", "TypeVar", "overload", "sqlalchemy", "exc", "DBAPIError", "OperationalError", "airflow", "configuration", "conf", "tenacity"], "mod_var_ln": {"F": [[28, 0], [28, 1]], "MAX_DB_RETRIES": [[30, 0], [30, 14]]}, "mod_var_occur": {"F": [], "MAX_DB_RETRIES": []}, "no_types_annot": {"D": 6, "I": 0, "U": 14}, "session_id": "Wbn3G0Sr6RVg2kI1ZoW5Eo4FITTA4OmfjKF47xvsggM", "set": null, "tc": [false, null], "type_annot_cove": 0.3, "typed_seq": "", "untyped_seq": "", "variables": {"F": "", "MAX_DB_RETRIES": ""}, "variables_p": {"F": [["int", 0.5], ["Exception", 0.1], ["Optional[float]", 0.1], ["Optional[int]", 0.1]], "MAX_DB_RETRIES": [["bool", 0.4000000000000001], ["str", 0.30000000000000004], ["int", 0.20000000000000004], ["Union[Literal, str]", 0.10000000000000002]]}}}