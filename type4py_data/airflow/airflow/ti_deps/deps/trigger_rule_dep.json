{"error": null, "response": {"classes": [{"cls_lc": [[41, 0], [83, 9]], "cls_var_ln": {"done": [[52, 4], [52, 8]], "failed": [[49, 4], [49, 10]], "removed": [[51, 4], [51, 11]], "skipped": [[48, 4], [48, 11]], "skipped_setup": [[54, 4], [54, 17]], "success": [[47, 4], [47, 11]], "success_setup": [[53, 4], [53, 17]], "upstream_failed": [[50, 4], [50, 19]]}, "cls_var_occur": {"done": [["_UpstreamTIStates", "success", "counter", "get", "TaskInstanceState", "SUCCESS", "skipped", "counter", "get", "TaskInstanceState", "SKIPPED", "failed", "counter", "get", "TaskInstanceState", "FAILED", "upstream_failed", "counter", "get", "TaskInstanceState", "UPSTREAM_FAILED", "removed", "counter", "get", "TaskInstanceState", "REMOVED", "done", "sum", "counter", "values", "success_setup", "setup_counter", "get", "TaskInstanceState", "SUCCESS", "skipped_setup", "setup_counter", "get", "TaskInstanceState", "SKIPPED"]], "failed": [["_UpstreamTIStates", "success", "counter", "get", "TaskInstanceState", "SUCCESS", "skipped", "counter", "get", "TaskInstanceState", "SKIPPED", "failed", "counter", "get", "TaskInstanceState", "FAILED", "upstream_failed", "counter", "get", "TaskInstanceState", "UPSTREAM_FAILED", "removed", "counter", "get", "TaskInstanceState", "REMOVED", "done", "sum", "counter", "values", "success_setup", "setup_counter", "get", "TaskInstanceState", "SUCCESS", "skipped_setup", "setup_counter", "get", "TaskInstanceState", "SKIPPED"]], "removed": [["_UpstreamTIStates", "success", "counter", "get", "TaskInstanceState", "SUCCESS", "skipped", "counter", "get", "TaskInstanceState", "SKIPPED", "failed", "counter", "get", "TaskInstanceState", "FAILED", "upstream_failed", "counter", "get", "TaskInstanceState", "UPSTREAM_FAILED", "removed", "counter", "get", "TaskInstanceState", "REMOVED", "done", "sum", "counter", "values", "success_setup", "setup_counter", "get", "TaskInstanceState", "SUCCESS", "skipped_setup", "setup_counter", "get", "TaskInstanceState", "SKIPPED"]], "skipped": [["_UpstreamTIStates", "success", "counter", "get", "TaskInstanceState", "SUCCESS", "skipped", "counter", "get", "TaskInstanceState", "SKIPPED", "failed", "counter", "get", "TaskInstanceState", "FAILED", "upstream_failed", "counter", "get", "TaskInstanceState", "UPSTREAM_FAILED", "removed", "counter", "get", "TaskInstanceState", "REMOVED", "done", "sum", "counter", "values", "success_setup", "setup_counter", "get", "TaskInstanceState", "SUCCESS", "skipped_setup", "setup_counter", "get", "TaskInstanceState", "SKIPPED"]], "skipped_setup": [["_UpstreamTIStates", "success", "counter", "get", "TaskInstanceState", "SUCCESS", "skipped", "counter", "get", "TaskInstanceState", "SKIPPED", "failed", "counter", "get", "TaskInstanceState", "FAILED", "upstream_failed", "counter", "get", "TaskInstanceState", "UPSTREAM_FAILED", "removed", "counter", "get", "TaskInstanceState", "REMOVED", "done", "sum", "counter", "values", "success_setup", "setup_counter", "get", "TaskInstanceState", "SUCCESS", "skipped_setup", "setup_counter", "get", "TaskInstanceState", "SKIPPED"]], "success": [["_UpstreamTIStates", "success", "counter", "get", "TaskInstanceState", "SUCCESS", "skipped", "counter", "get", "TaskInstanceState", "SKIPPED", "failed", "counter", "get", "TaskInstanceState", "FAILED", "upstream_failed", "counter", "get", "TaskInstanceState", "UPSTREAM_FAILED", "removed", "counter", "get", "TaskInstanceState", "REMOVED", "done", "sum", "counter", "values", "success_setup", "setup_counter", "get", "TaskInstanceState", "SUCCESS", "skipped_setup", "setup_counter", "get", "TaskInstanceState", "SKIPPED"]], "success_setup": [["_UpstreamTIStates", "success", "counter", "get", "TaskInstanceState", "SUCCESS", "skipped", "counter", "get", "TaskInstanceState", "SKIPPED", "failed", "counter", "get", "TaskInstanceState", "FAILED", "upstream_failed", "counter", "get", "TaskInstanceState", "UPSTREAM_FAILED", "removed", "counter", "get", "TaskInstanceState", "REMOVED", "done", "sum", "counter", "values", "success_setup", "setup_counter", "get", "TaskInstanceState", "SUCCESS", "skipped_setup", "setup_counter", "get", "TaskInstanceState", "SKIPPED"]], "upstream_failed": [["_UpstreamTIStates", "success", "counter", "get", "TaskInstanceState", "SUCCESS", "skipped", "counter", "get", "TaskInstanceState", "SKIPPED", "failed", "counter", "get", "TaskInstanceState", "FAILED", "upstream_failed", "counter", "get", "TaskInstanceState", "UPSTREAM_FAILED", "removed", "counter", "get", "TaskInstanceState", "REMOVED", "done", "sum", "counter", "values", "success_setup", "setup_counter", "get", "TaskInstanceState", "SUCCESS", "skipped_setup", "setup_counter", "get", "TaskInstanceState", "SKIPPED"]]}, "funcs": [{"docstring": {"func": "Calculate states for a task instance.", "long_descr": "``counter`` is inclusive of ``setup_counter`` -- e.g. if there are 2 skipped upstreams, one\nof which is a setup, then counter will show 2 skipped and setup counter will show 1.", "ret": null}, "fn_lc": [[57, 4], [83, 9]], "fn_var_ln": {"counter": [[66, 8], [66, 15]], "curr_state": [[69, 12], [69, 22]], "setup_counter": [[67, 8], [67, 21]]}, "fn_var_occur": {"counter": [["counter", "builtins", "dict", "builtins", "str", "builtins", "int", "collections", "Counter"], ["counter", "update", "curr_state"], ["_UpstreamTIStates", "success", "counter", "get", "TaskInstanceState", "SUCCESS", "skipped", "counter", "get", "TaskInstanceState", "SKIPPED", "failed", "counter", "get", "TaskInstanceState", "FAILED", "upstream_failed", "counter", "get", "TaskInstanceState", "UPSTREAM_FAILED", "removed", "counter", "get", "TaskInstanceState", "REMOVED", "done", "sum", "counter", "values", "success_setup", "setup_counter", "get", "TaskInstanceState", "SUCCESS", "skipped_setup", "setup_counter", "get", "TaskInstanceState", "SKIPPED"]], "curr_state": [["curr_state", "ti", "state"], ["counter", "update", "curr_state"], ["setup_counter", "update", "curr_state"]], "setup_counter": [["setup_counter", "builtins", "dict", "builtins", "str", "builtins", "int", "collections", "Counter"], ["setup_counter", "update", "curr_state"], ["_UpstreamTIStates", "success", "counter", "get", "TaskInstanceState", "SUCCESS", "skipped", "counter", "get", "TaskInstanceState", "SKIPPED", "failed", "counter", "get", "TaskInstanceState", "FAILED", "upstream_failed", "counter", "get", "TaskInstanceState", "UPSTREAM_FAILED", "removed", "counter", "get", "TaskInstanceState", "REMOVED", "done", "sum", "counter", "values", "success_setup", "setup_counter", "get", "TaskInstanceState", "SUCCESS", "skipped_setup", "setup_counter", "get", "TaskInstanceState", "SKIPPED"]]}, "name": "calculate", "params": {"cls": "", "finished_upstreams": "typing.Iterator[airflow.models.taskinstance.TaskInstance]"}, "params_descr": {"cls": "", "finished_upstreams": ""}, "params_occur": {"cls": [], "finished_upstreams": []}, "params_p": {"args": [], "cls": [["memoryview", 0.09999999999999999], ["bool", 0.09999999999999999], ["str", 0.09999999999999999]], "finished_upstreams": [["memoryview", 0.09999999999999999], ["bool", 0.09999999999999999], ["str", 0.09999999999999999]], "kwargs": [], "self": []}, "q_name": "_UpstreamTIStates.calculate", "ret_exprs": ["return _UpstreamTIStates( success=counter.get(TaskInstanceState.SUCCESS, 0), skipped=counter.get(TaskInstanceState.SKIPPED, 0), failed=counter.get(TaskInstanceState.FAILED, 0), upstream_failed=counter.get(TaskInstanceState.UPSTREAM_FAILED, 0), removed=counter.get(TaskInstanceState.REMOVED, 0), done=sum(counter.values()), success_setup=setup_counter.get(TaskInstanceState.SUCCESS, 0), skipped_setup=setup_counter.get(TaskInstanceState.SKIPPED, 0),)"], "ret_type": "_UpstreamTIStates", "ret_type_p": [["str", 0.09684730289482105], ["int", 0.08934868264277343], ["bool", 0.0856117870482026]], "variables": {"counter": "builtins.dict[builtins.str, builtins.int]", "curr_state": "", "setup_counter": "builtins.dict[builtins.str, builtins.int]"}, "variables_p": {"counter": [["Dict[str, int]", 0.7060182909784133], ["int", 0.10978098247775142], ["Set[str]", 0.09774574056113022], ["Dict[int, Any]", 0.08645498598270533]], "curr_state": [["cmk.base.api.agent_based.checking_classes.state", 0.22206091372453196], ["str", 0.10085770428083456], ["raiden.utils.TransactionHash", 0.0983514138018256], ["raiden.transfer.state.ChainState", 0.08611220308425017]], "setup_counter": [["Dict[str, int]", 0.5226337706503871], ["int", 0.1980528939967627], ["Dict[int, Any]", 0.1839042566039335], ["Dict[int, int]", 0.09540907874891656]]}}], "name": "_UpstreamTIStates", "q_name": "_UpstreamTIStates", "variables": {"done": "builtins.int", "failed": "builtins.int", "removed": "builtins.int", "skipped": "builtins.int", "skipped_setup": "builtins.int", "success": "builtins.int", "success_setup": "builtins.int", "upstream_failed": "builtins.int"}, "variables_p": {"done": [["bytearray", 0.11914224760810292], ["List[Tuple[Any, str]]", 0.11466629265891541], ["Dict[str, str]", 0.10375985800395042], ["list", 0.10075164684670229], ["Tuple[str, str]", 0.09763255485669818], ["str", 0.09156258588477215], ["List[aw_core.models.Event]", 0.0915593429076277], ["int", 0.08943606278783878]], "failed": [["owlmixin.TList[jumeaux.models.Request]", 0.11576200745695682], ["tuple", 0.11490272866630942], ["list", 0.10022690724526218], ["str", 0.08796312256989551]], "removed": [["owlmixin.TList[jumeaux.models.Request]", 0.11576200745695682], ["tuple", 0.11490272866630942], ["list", 0.10022690724526218], ["str", 0.08796312256989551]], "skipped": [["owlmixin.TList[jumeaux.models.Request]", 0.11576200745695682], ["tuple", 0.11490272866630942], ["list", 0.10022690724526218], ["str", 0.08796312256989551]], "skipped_setup": [["owlmixin.TList[jumeaux.models.Request]", 0.11576200745695682], ["tuple", 0.11490272866630942], ["list", 0.10022690724526218], ["str", 0.08796312256989551]], "success": [["owlmixin.TList[jumeaux.models.Request]", 0.11576200745695682], ["tuple", 0.11490272866630942], ["list", 0.10022690724526218], ["str", 0.08796312256989551]], "success_setup": [["owlmixin.TList[jumeaux.models.Request]", 0.11576200745695682], ["tuple", 0.11490272866630942], ["list", 0.10022690724526218], ["str", 0.08796312256989551]], "upstream_failed": [["owlmixin.TList[jumeaux.models.Request]", 0.11576200745695682], ["tuple", 0.11490272866630942], ["list", 0.10022690724526218], ["str", 0.08796312256989551]]}}, {"cls_lc": [[86, 0], [447, 104]], "cls_var_ln": {"IGNORABLE": [[90, 4], [90, 13]], "IS_TASK_DEP": [[91, 4], [91, 15]], "NAME": [[89, 4], [89, 8]]}, "cls_var_occur": {"IGNORABLE": [], "IS_TASK_DEP": [], "NAME": []}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[93, 4], [106, 95]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_get_dep_statuses", "params": {"dep_context": "airflow.ti_deps.dep_context.DepContext", "self": "", "session": "sqlalchemy.orm.Session", "ti": "airflow.models.taskinstance.TaskInstance"}, "params_descr": {"dep_context": "", "self": "", "session": "", "ti": ""}, "params_occur": {"dep_context": [["self", "_evaluate_trigger_rule", "ti", "ti", "dep_context", "dep_context", "session", "session"]], "self": [["self", "_passing_status", "reason"], ["self", "_passing_status", "reason"], ["self", "_evaluate_trigger_rule", "ti", "ti", "dep_context", "dep_context", "session", "session"]], "session": [["self", "_evaluate_trigger_rule", "ti", "ti", "dep_context", "dep_context", "session", "session"]], "ti": [["ti", "task", "upstream_task_ids"], ["ti", "task", "trigger_rule", "TR", "ALWAYS"], ["self", "_evaluate_trigger_rule", "ti", "ti", "dep_context", "dep_context", "session", "session"]]}, "params_p": {"args": [], "dep_context": [["zerver.models.UserProfile", 0.2738621229365002], ["labm8.py.sqlutil.Session", 0.12151007338980165], ["users.models.JustfixUser", 0.11665287783868909], ["models.Course", 0.0921739071039585]], "kwargs": [], "self": [], "session": [["zerver.models.UserProfile", 0.2738621229365002], ["labm8.py.sqlutil.Session", 0.12151007338980165], ["users.models.JustfixUser", 0.11665287783868909], ["models.Course", 0.0921739071039585]], "ti": [["str", 0.12819934546712827], ["Mapping", 0.11167887141696098], ["annofabapi.models.Task", 0.10483344488534221], ["Dict[str, Any]", 0.09943902638511537], ["util.freefocus.sql.Task", 0.09374988429235005], ["dict", 0.09017713156690621]]}, "q_name": "TriggerRuleDep._get_dep_statuses", "ret_exprs": ["return", "return"], "ret_type": "typing.Iterator[airflow.ti_deps.deps.base_ti_dep.TIDepStatus]", "ret_type_p": [["List[django.db.models.Model]", 0.1056978188142825], ["Iterator[Dict[str, str]]", 0.09961790035474329], ["Iterable[Mapping[str, Any]]", 0.08655789498458304], ["Optional[bool]", 0.08655789498458304]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Get how many tis the current task is supposed to be expanded into.", "long_descr": "This extra closure allows us to query the database only when needed,\nand at most once.", "ret": null}, "fn_lc": [[131, 8], [137, 71]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_get_expanded_ti_count", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TriggerRuleDep._evaluate_trigger_rule.<locals>._get_expanded_ti_count", "ret_exprs": ["return task.get_mapped_ti_count(ti.run_id, session=session)"], "ret_type": "builtins.int", "ret_type_p": [["str", 0.7113760913353481], ["core_lib.core.models.Venue", 0.09559284676230677]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Get the given task's map indexes relevant to the current ti.", "long_descr": "This extra closure allows us to query the database only when needed,\nand at most once for each task (instead of once for each expanded\ntask instance of the same task).", "ret": null}, "fn_lc": [[140, 8], [155, 13]], "fn_var_ln": {"expanded_ti_count": [[148, 16], [148, 33]]}, "fn_var_occur": {"expanded_ti_count": [["expanded_ti_count", "_get_expanded_ti_count"], ["ti", "get_relevant_upstream_map_indexes", "upstream_tasks", "upstream_id", "expanded_ti_count", "session", "session"]]}, "name": "_get_relevant_upstream_map_indexes", "params": {"upstream_id": "builtins.str"}, "params_descr": {"upstream_id": ""}, "params_occur": {"upstream_id": [["ti", "get_relevant_upstream_map_indexes", "upstream_tasks", "upstream_id", "expanded_ti_count", "session", "session"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "upstream_id": [["transfer.models.TopicID", 0.3702813154798028], ["int", 0.3269654764789371], ["str", 0.20704161157559692], ["transfer.models.BadgeID", 0.09571159646566327]]}, "q_name": "TriggerRuleDep._evaluate_trigger_rule.<locals>._get_relevant_upstream_map_indexes", "ret_exprs": ["return None", "return ti.get_relevant_upstream_map_indexes( upstream_tasks[upstream_id], expanded_ti_count, session=session,)"], "ret_type": "int | range | None", "ret_type_p": [["Optional[int]", 0.20406606714081924], ["Optional[str]", 0.19845413271905957], ["str", 0.09187324567795485]], "variables": {"expanded_ti_count": ""}, "variables_p": {"expanded_ti_count": [["float", 0.18897707927270344], ["Tuple[int]", 0.10760379166869989], ["staticmethod", 0.09463818950356577]]}}, {"docstring": {"func": "Whether a task instance is a \"relevant upstream\" of the current task.", "long_descr": null, "ret": null}, "fn_lc": [[157, 8], [179, 24]], "fn_var_ln": {"relevant": [[172, 12], [172, 20]]}, "fn_var_occur": {"relevant": [["relevant", "_get_relevant_upstream_map_indexes", "upstream", "task_id"], ["relevant", "None"], ["relevant", "upstream", "map_index"], ["isinstance", "relevant", "collections", "abc", "Container", "upstream", "map_index", "relevant"]]}, "name": "_is_relevant_upstream", "params": {"upstream": "airflow.models.taskinstance.TaskInstance"}, "params_descr": {"upstream": ""}, "params_occur": {"upstream": [["upstream", "task_id", "task", "upstream_task_ids"], ["upstream", "map_index"], ["relevant", "_get_relevant_upstream_map_indexes", "upstream", "task_id"], ["relevant", "upstream", "map_index"], ["isinstance", "relevant", "collections", "abc", "Container", "upstream", "map_index", "relevant"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "upstream": [["int", 0.1978156684891384], ["zerver.models.Realm", 0.11604583916872305], ["Dict[str, Any]", 0.10369057637823201]]}, "q_name": "TriggerRuleDep._evaluate_trigger_rule.<locals>._is_relevant_upstream", "ret_exprs": ["return False", "return True", "return True", "return True", "return True", "return True", "return False"], "ret_type": "builtins.bool", "ret_type_p": [["bool", 1.0]], "variables": {"relevant": ""}, "variables_p": {"relevant": [["str", 0.4234114104567644], ["geode.models.common.Address", 0.14359487779512645], ["Dict[str, str]", 0.10640663577457149], ["rotkehlchen.tests.utils.rotkehlchen.BalancesTestSetup", 0.07806874650183046]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[197, 8], [224, 106]], "fn_var_ln": {"map_indexes": [[206, 16], [206, 27]]}, "fn_var_occur": {"map_indexes": [["map_indexes", "_get_relevant_upstream_map_indexes", "upstream_id"], ["map_indexes", "None"], ["isinstance", "map_indexes", "range", "map_indexes", "step"], ["and_", "TaskInstance", "task_id", "upstream_id", "TaskInstance", "map_index", "map_indexes", "start", "TaskInstance", "map_index", "map_indexes", "stop"], ["isinstance", "map_indexes", "collections", "abc", "Container"], ["and_", "TaskInstance", "task_id", "upstream_id", "TaskInstance", "map_index", "in_", "map_indexes"], ["and_", "TaskInstance", "task_id", "upstream_id", "TaskInstance", "map_index", "map_indexes"]]}, "name": "_iter_upstream_conditions", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "TriggerRuleDep._evaluate_trigger_rule.<locals>._iter_upstream_conditions", "ret_exprs": ["return"], "ret_type": "typing.Iterator[sqlalchemy.sql.expression.ColumnOperators]", "ret_type_p": [["Tuple[cmk.utils.prediction.Timegroup, cmk.utils.prediction.Timestamp]", 0.1737865540553623], ["app.models.Article", 0.12068254553770659]], "variables": {"map_indexes": ""}, "variables_p": {"map_indexes": [["Collection[int]", 0.2009749017892808], ["int", 0.10610379003666794], ["dict", 0.09890477971651875], ["str", 0.09831840998841938], ["float", 0.09530473333298568], ["Dict[str, Union[Any, Any, Any]]", 0.09423712312094756]]}}, {"docstring": {"func": "Evaluate whether ``ti``'s trigger rule was met.", "long_descr": null, "ret": null}, "fn_lc": [[108, 4], [447, 104]], "fn_var_ln": {"changed": [[303, 12], [303, 19]], "done": [[193, 8], [193, 12]], "failed": [[190, 8], [190, 14]], "finished_upstream_tis": [[181, 8], [181, 29]], "have_changed_ti_states": [[306, 12], [306, 46]], "new_state": [[292, 20], [292, 29]], "num_failures": [[386, 12], [386, 24]], "num_non_skipped": [[409, 12], [409, 27]], "num_success": [[350, 12], [350, 23]], "past_depends_met": [[295, 16], [295, 32]], "removed": [[192, 8], [192, 15]], "skipped": [[189, 8], [189, 15]], "skipped_setup": [[195, 8], [195, 21]], "success": [[188, 8], [188, 15]], "success_setup": [[194, 8], [194, 21]], "task": [[126, 8], [126, 12]], "trigger_rule": [[128, 8], [128, 20]], "upstream": [[234, 12], [234, 20]], "upstream_done": [[242, 8], [242, 21]], "upstream_failed": [[191, 8], [191, 23]], "upstream_setup": [[241, 12], [241, 26]], "upstream_states": [[186, 8], [186, 23]], "upstream_tasks": [[127, 8], [127, 22]]}, "fn_var_occur": {"changed": [["changed", "False"], ["changed", "ti", "set_state", "new_state", "session"]], "done": [["upstream_done", "done", "upstream"], ["upstream_done", "done", "skipped"], ["self", "_failing_status", "reason", "trigger_rule", "len", "upstream_tasks", "done", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "len", "upstream_tasks", "done", "upstream_states", "task", "upstream_task_ids"]], "failed": [["upstream_failed", "failed"], ["upstream_done", "failed", "upstream_failed"], ["upstream_done", "failed", "success"], ["upstream_failed", "failed"], ["upstream_failed", "failed"], ["success", "failed"], ["failed", "upstream_failed"], ["success", "failed"], ["num_success", "upstream", "failed", "upstream_failed"]], "finished_upstream_tis": [], "have_changed_ti_states": [["dep_context", "have_changed_ti_states", "True"]], "new_state": [["new_state", "None"], ["new_state", "TaskInstanceState", "UPSTREAM_FAILED"], ["new_state", "TaskInstanceState", "SKIPPED"], ["new_state", "TaskInstanceState", "REMOVED"], ["new_state", "TaskInstanceState", "SKIPPED"], ["new_state", "TaskInstanceState", "SKIPPED"], ["new_state", "TaskInstanceState", "UPSTREAM_FAILED"], ["new_state", "TaskInstanceState", "SKIPPED"], ["new_state", "TaskInstanceState", "SKIPPED"], ["new_state", "TaskInstanceState", "UPSTREAM_FAILED"], ["new_state", "TaskInstanceState", "UPSTREAM_FAILED"], ["new_state", "TaskInstanceState", "SKIPPED"], ["new_state", "TaskInstanceState", "SKIPPED"], ["new_state", "TaskInstanceState", "SKIPPED"], ["new_state", "TaskInstanceState", "SKIPPED"], ["new_state", "TaskInstanceState", "UPSTREAM_FAILED"], ["new_state", "None"], ["new_state", "TaskInstanceState", "SKIPPED", "dep_context", "wait_for_past_depends_before_skipping"], ["changed", "ti", "set_state", "new_state", "session"]], "num_failures": [["num_failures", "upstream", "success"], ["num_failures", "removed"], ["self", "_failing_status", "reason", "trigger_rule", "num_failures", "upstream_states", "task", "upstream_task_ids"], ["num_failures", "upstream", "success", "skipped"], ["num_failures", "removed"], ["self", "_failing_status", "reason", "trigger_rule", "num_failures", "upstream_states", "task", "upstream_task_ids"], ["num_failures", "upstream", "success", "skipped"], ["num_failures", "removed"], ["self", "_failing_status", "reason", "trigger_rule", "num_failures", "upstream_states", "task", "upstream_task_ids"]], "num_non_skipped": [["num_non_skipped", "upstream", "skipped"], ["self", "_failing_status", "reason", "trigger_rule", "num_non_skipped", "upstream_states", "task", "upstream_task_ids"]], "num_success": [["num_success", "upstream", "failed", "upstream_failed"], ["num_success", "removed"], ["self", "_failing_status", "reason", "trigger_rule", "num_success", "upstream_states", "task", "upstream_task_ids"]], "past_depends_met": [["past_depends_met", "ti", "xcom_pull", "task_ids", "ti", "task_id", "key", "PAST_DEPENDS_MET", "session", "session", "default", "False"]], "removed": [["removed", "success", "ti", "map_index"], ["num_failures", "removed"], ["num_success", "removed"], ["num_failures", "removed"], ["num_failures", "removed"]], "skipped": [["success", "skipped"], ["upstream_done", "done", "skipped"], ["skipped", "upstream"], ["num_failures", "upstream", "success", "skipped"], ["num_failures", "upstream", "success", "skipped"], ["upstream_done", "skipped"], ["self", "_failing_status", "reason", "trigger_rule", "skipped", "upstream_states", "task", "upstream_task_ids"], ["num_non_skipped", "upstream", "skipped"]], "skipped_setup": [["upstream_done", "upstream_setup", "skipped_setup", "upstream_setup"]], "success": [["removed", "success", "ti", "map_index"], ["ti", "map_index", "success"], ["success", "skipped"], ["upstream_done", "success"], ["upstream_done", "failed", "success"], ["success", "failed"], ["success", "failed"], ["num_failures", "upstream", "success"], ["num_failures", "upstream", "success", "skipped"], ["num_failures", "upstream", "success", "skipped"]], "success_setup": [["upstream_done", "upstream_setup", "success_setup"], ["upstream_setup", "success_setup"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_setup", "success_setup", "upstream_states", "task", "upstream_task_ids"]], "task": [["self", "_failing_status", "reason", "trigger_rule", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "num_failures", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "num_success", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "len", "upstream_tasks", "done", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "num_failures", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "num_failures", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "skipped", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "num_non_skipped", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "len", "upstream_tasks", "done", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_setup", "success_setup", "upstream_states", "task", "upstream_task_ids"]], "trigger_rule": [["trigger_rule", "TR", "ALL_SUCCESS"], ["trigger_rule", "TR", "ALL_FAILED"], ["trigger_rule", "TR", "ONE_SUCCESS"], ["trigger_rule", "TR", "ONE_FAILED"], ["trigger_rule", "TR", "ONE_DONE"], ["trigger_rule", "TR", "NONE_FAILED"], ["trigger_rule", "TR", "NONE_FAILED_MIN_ONE_SUCCESS"], ["trigger_rule", "TR", "NONE_SKIPPED"], ["trigger_rule", "TR", "ALL_SKIPPED"], ["trigger_rule", "TR", "ALL_DONE_SETUP_SUCCESS"], ["trigger_rule", "TR", "ONE_SUCCESS"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_states", "task", "upstream_task_ids"], ["trigger_rule", "TR", "ONE_FAILED"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_states", "task", "upstream_task_ids"], ["trigger_rule", "TR", "ONE_DONE"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_states", "task", "upstream_task_ids"], ["trigger_rule", "TR", "ALL_SUCCESS"], ["self", "_failing_status", "reason", "trigger_rule", "num_failures", "upstream_states", "task", "upstream_task_ids"], ["trigger_rule", "TR", "ALL_FAILED"], ["self", "_failing_status", "reason", "trigger_rule", "num_success", "upstream_states", "task", "upstream_task_ids"], ["trigger_rule", "TR", "ALL_DONE"], ["self", "_failing_status", "reason", "trigger_rule", "len", "upstream_tasks", "done", "upstream_states", "task", "upstream_task_ids"], ["trigger_rule", "TR", "NONE_FAILED"], ["self", "_failing_status", "reason", "trigger_rule", "num_failures", "upstream_states", "task", "upstream_task_ids"], ["trigger_rule", "TR", "NONE_FAILED_MIN_ONE_SUCCESS"], ["self", "_failing_status", "reason", "trigger_rule", "num_failures", "upstream_states", "task", "upstream_task_ids"], ["trigger_rule", "TR", "NONE_SKIPPED"], ["self", "_failing_status", "reason", "trigger_rule", "skipped", "upstream_states", "task", "upstream_task_ids"], ["trigger_rule", "TR", "ALL_SKIPPED"], ["self", "_failing_status", "reason", "trigger_rule", "num_non_skipped", "upstream_states", "task", "upstream_task_ids"], ["trigger_rule", "TR", "ALL_DONE_SETUP_SUCCESS"], ["self", "_failing_status", "reason", "trigger_rule", "len", "upstream_tasks", "done", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_setup", "success_setup", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule"]], "upstream": [["upstream", "len", "upstream_tasks"], ["upstream", "session", "query", "func", "count", "filter", "TaskInstance", "dag_id", "ti", "dag_id", "TaskInstance", "run_id", "ti", "run_id", "filter", "or_", "_iter_upstream_conditions", "scalar"], ["upstream_done", "done", "upstream"], ["skipped", "upstream"], ["num_failures", "upstream", "success"], ["num_success", "upstream", "failed", "upstream_failed"], ["num_failures", "upstream", "success", "skipped"], ["num_failures", "upstream", "success", "skipped"], ["num_non_skipped", "upstream", "skipped"]], "upstream_done": [["upstream_done", "done", "upstream"], ["upstream_done", "done", "skipped"], ["upstream_done", "success"], ["upstream_done", "failed", "upstream_failed"], ["upstream_done", "failed", "success"], ["upstream_done", "upstream_setup", "skipped_setup", "upstream_setup"], ["upstream_done", "upstream_setup", "success_setup"], ["upstream_done", "skipped"]], "upstream_failed": [["upstream_failed", "failed"], ["upstream_done", "failed", "upstream_failed"], ["upstream_failed", "failed"], ["upstream_failed", "failed"], ["failed", "upstream_failed"], ["num_success", "upstream", "failed", "upstream_failed"]], "upstream_setup": [["upstream_setup", "len", "x", "x", "upstream_tasks", "values", "isinstance", "x", "MappedOperator", "x", "is_setup"], ["upstream_setup", "None"], ["upstream_done", "upstream_setup", "skipped_setup", "upstream_setup"], ["upstream_done", "upstream_setup", "success_setup"], ["upstream_setup", "None"], ["upstream_setup", "success_setup"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_setup", "success_setup", "upstream_states", "task", "upstream_task_ids"]], "upstream_states": [["self", "_failing_status", "reason", "trigger_rule", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "num_failures", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "num_success", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "len", "upstream_tasks", "done", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "num_failures", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "num_failures", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "skipped", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "num_non_skipped", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "len", "upstream_tasks", "done", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_setup", "success_setup", "upstream_states", "task", "upstream_task_ids"]], "upstream_tasks": [["any", "needs_expansion", "t", "t", "upstream_tasks", "values"], ["upstream", "len", "upstream_tasks"], ["upstream_setup", "len", "x", "x", "upstream_tasks", "values", "isinstance", "x", "MappedOperator", "x", "is_setup"], ["self", "_failing_status", "reason", "trigger_rule", "len", "upstream_tasks", "done", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "len", "upstream_tasks", "done", "upstream_states", "task", "upstream_task_ids"]]}, "name": "_evaluate_trigger_rule", "params": {"dep_context": "airflow.ti_deps.dep_context.DepContext", "self": "", "session": "sqlalchemy.orm.Session", "ti": "airflow.models.taskinstance.TaskInstance"}, "params_descr": {"dep_context": "The current dependency context.", "self": "", "session": "Database session.", "ti": "Task instance to evaluate the trigger rule of."}, "params_occur": {"dep_context": [["dep_context", "flag_upstream_failed"], ["new_state", "TaskInstanceState", "SKIPPED", "dep_context", "wait_for_past_depends_before_skipping"], ["dep_context", "have_changed_ti_states", "True"]], "self": [["self", "_failing_status", "reason"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "num_failures", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "num_success", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "len", "upstream_tasks", "done", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "num_failures", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "num_failures", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "skipped", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "num_non_skipped", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "len", "upstream_tasks", "done", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule", "upstream_setup", "success_setup", "upstream_states", "task", "upstream_task_ids"], ["self", "_failing_status", "reason", "trigger_rule"]], "session": [["upstream", "session", "query", "func", "count", "filter", "TaskInstance", "dag_id", "ti", "dag_id", "TaskInstance", "run_id", "ti", "run_id", "filter", "or_", "_iter_upstream_conditions", "scalar"], ["past_depends_met", "ti", "xcom_pull", "task_ids", "ti", "task_id", "key", "PAST_DEPENDS_MET", "session", "session", "default", "False"], ["changed", "ti", "set_state", "new_state", "session"]], "ti": [["upstream", "session", "query", "func", "count", "filter", "TaskInstance", "dag_id", "ti", "dag_id", "TaskInstance", "run_id", "ti", "run_id", "filter", "or_", "_iter_upstream_conditions", "scalar"], ["removed", "success", "ti", "map_index"], ["ti", "map_index", "success"], ["past_depends_met", "ti", "xcom_pull", "task_ids", "ti", "task_id", "key", "PAST_DEPENDS_MET", "session", "session", "default", "False"], ["changed", "ti", "set_state", "new_state", "session"], ["ti", "map_index"], ["ti", "map_index"], ["ti", "map_index"], ["ti", "map_index"]]}, "params_p": {"args": [], "dep_context": [["int", 0.312939324888182], ["raiden.utils.Address", 0.09584455017989849], ["zerver.models.UserProfile", 0.08625548389826784]], "kwargs": [], "self": [], "session": [["zerver.models.UserProfile", 0.19093855934977275], ["tracim.models.auth.User", 0.11777235850965428], ["str", 0.10012012103647341], ["tildes.models.user.User", 0.09433800772729423], ["Dict[UserID, services.user.transfer.models.User]", 0.0940987090527792]], "ti": [["zerver.models.UserProfile", 0.19093855934977275], ["tracim.models.auth.User", 0.11777235850965428], ["str", 0.10012012103647341], ["tildes.models.user.User", 0.09433800772729423], ["Dict[UserID, services.user.transfer.models.User]", 0.0940987090527792]]}, "q_name": "TriggerRuleDep._evaluate_trigger_rule", "ret_exprs": ["return"], "ret_type": "typing.Iterator[airflow.ti_deps.deps.base_ti_dep.TIDepStatus]", "ret_type_p": [["Union[tuple, list]", 0.12326783261663934], ["List[int]", 0.09124591253820835], ["Dict[str, Any]", 0.08769568774684897], ["str", 0.08682447752895113]], "variables": {"changed": "", "done": "", "failed": "", "finished_upstream_tis": "", "have_changed_ti_states": "", "new_state": "", "num_failures": "", "num_non_skipped": "", "num_success": "", "past_depends_met": "", "removed": "", "skipped": "", "skipped_setup": "", "success": "", "success_setup": "", "task": "", "trigger_rule": "", "upstream": "", "upstream_done": "", "upstream_failed": "", "upstream_setup": "", "upstream_states": "", "upstream_tasks": ""}, "variables_p": {"changed": [["int", 0.28748306133811874], ["Dict[Any, str]", 0.12804858184634874], ["dict", 0.10554732538463525], ["Type[bootcamp.qa.models.Question]", 0.09883036338992687]], "done": [["int", 0.29460752149104924], ["str", 0.17366807841972032], ["float", 0.1296522886202411], ["List[List[int]]", 0.11379842622971488], ["bytes", 0.09797655049020297], ["Dict[str, Union[Any, Any, Any]]", 0.09410145179880806]], "failed": [["int", 0.29151065849313634], ["Dict[str, Tuple[str, Any, int, bool]]", 0.11123040117246255], ["slice", 0.1033218479114116], ["List[int]", 0.10198325985282235], ["str", 0.09183389048558126]], "finished_upstream_tis": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "have_changed_ti_states": [["int", 0.20835998312172338], ["dict", 0.1967805541183332], ["bytes", 0.1801937599164914], ["str", 0.1447318488492127], ["Dict[str, Any]", 0.09580196360590552], ["List[Union[Any, Any]]", 0.08702633081563865]], "new_state": [["list", 0.17310647562646558], ["float", 0.1257979661844608], ["int", 0.08953483186702013], ["zproc.state.state.State", 0.08949379034140345], ["raiden.utils.Any", 0.0819710464562806]], "num_failures": [["int", 0.17076549318595177]], "num_non_skipped": [["List[Optional[int]]", 0.25568988351086136], ["int", 0.20683463680348652], ["raiden.transfer.state.TransactionExecutionStatus", 0.10135378756171166], ["Dict[str, Any]", 0.08122739451434469]], "num_success": [["int", 0.3908375596988867], ["str", 0.29146507911392955], ["Dict[str, str]", 0.11147243288989674], ["Dict[Any, Dict[str, str]]", 0.10440818162846922], ["Dict[str, List[float]]", 0.10181674666881772]], "past_depends_met": [["Dict[str, Callable]", 0.11123923995806542], ["decksite.data.models.person.Person", 0.104406788207213], ["list", 0.0997162896634076], ["str", 0.09159362628277802], ["geode.models.common.Address", 0.08938860234098327]], "removed": [["float", 0.2804013616105023], ["Tuple[Literal, Literal, Literal]", 0.1098601326409253], ["int", 0.10350962915509208], ["Dict[Tuple[str, str], int]", 0.10005827595623706], ["str", 0.09725493769482448]], "skipped": [["int", 0.10314767875724043], ["dict", 0.09458352150533608], ["list", 0.09348150325300555]], "skipped_setup": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["Callable(functools.wraps)[[Named(wrapped, Callable[..., Any]), Named(assigned, Sequence[str], default), Named(updated, Sequence[str], default)], Callable[Any, Any]]", 0.1], ["str", 0.1]], "success": [["pymatgen.analysis.defects.utils.TopographyAnalyzer", 0.08517820541916075]], "success_setup": [], "task": [["str", 0.9999999999999998]], "trigger_rule": [], "upstream": [["float", 0.20455468846057961], ["dict", 0.19428863131674592], ["alerta.models.alerAlert", 0.11447262790593128], ["str", 0.09315562695552397], ["int", 0.0857569603231218], ["list", 0.08167135624274242]], "upstream_done": [["int", 0.8975204505294401], ["dict", 0.10247954947055987]], "upstream_failed": [["int", 0.3898945771892669]], "upstream_setup": [["list", 0.4695827782112749], ["List[Tuple[Any, Any]]", 0.12405567646379026], ["List[Tuple[str, str, str]]", 0.12405567646379026], ["List[str]", 0.09537781992214266]], "upstream_states": [["str", 1.0]], "upstream_tasks": [["int", 0.2855541959146951], ["float", 0.20093205385966695], ["Dict[Tuple[str, str], float]", 0.11498028879456383]]}}], "name": "TriggerRuleDep", "q_name": "TriggerRuleDep", "variables": {"IGNORABLE": "", "IS_TASK_DEP": "", "NAME": ""}, "variables_p": {"IGNORABLE": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["raiden.utils.WithdrawAmount", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "IS_TASK_DEP": [["str", 0.44903946417492085], ["bool", 0.2915763872148458], ["Optional[str]", 0.08910826962238676], ["Optional[int]", 0.08513793949392329], ["int", 0.08513793949392329]], "NAME": [["str", 0.8999999999999999]]}}], "funcs": [], "imports": ["__future__", "annotations", "collections", "collections.abc", "functools", "typing", "TYPE_CHECKING", "Iterator", "NamedTuple", "sqlalchemy", "and_", "func", "or_", "airflow", "models", "MappedOperator", "airflow", "models", "taskinstance", "PAST_DEPENDS_MET", "airflow", "ti_deps", "dep_context", "DepContext", "airflow", "ti_deps", "deps", "base_ti_dep", "BaseTIDep", "TIDepStatus", "airflow", "utils", "state", "TaskInstanceState", "airflow", "utils", "trigger_rule", "TriggerRule", "TR", "sqlalchemy", "orm", "Session", "sqlalchemy", "sql", "expression", "ColumnOperators", "airflow", "models", "taskinstance", "TaskInstance", "airflow", "models", "abstractoperator", "NotMapped", "airflow", "models", "expandinput", "NotFullyPopulated", "airflow", "models", "operator", "needs_expansion", "airflow", "models", "taskinstance", "TaskInstance"], "mod_var_ln": {}, "mod_var_occur": {}, "no_types_annot": {"D": 26, "I": 0, "U": 31}, "session_id": "cvsNBB2qbRyaG22LImkqgjiSSRUqrDzsGjiWuMUZniE", "set": null, "tc": [false, null], "type_annot_cove": 0.46, "typed_seq": "", "untyped_seq": "", "variables": {}, "variables_p": {}}}