{"error": null, "response": {"classes": [{"cls_lc": [[36, 0], [79, 72]], "cls_var_ln": {"_initialized": [[39, 4], [39, 16]], "_internal_api_endpoint": [[41, 4], [41, 26]], "_use_internal_api": [[40, 4], [40, 21]]}, "cls_var_occur": {"_initialized": [["InternalApiConfig", "_initialized", "True"], ["InternalApiConfig", "_initialized"], ["InternalApiConfig", "_initialized"], ["InternalApiConfig", "_initialized", "True"]], "_internal_api_endpoint": [["InternalApiConfig", "_internal_api_endpoint"], ["InternalApiConfig", "_internal_api_endpoint", "internal_api_endpoint"]], "_use_internal_api": [["InternalApiConfig", "_use_internal_api", "False"], ["InternalApiConfig", "_use_internal_api"], ["InternalApiConfig", "_use_internal_api", "use_internal_api"]]}, "funcs": [{"docstring": {"func": "Current component will not use Internal API.", "long_descr": "All methods decorated with internal_api_call will always be executed locally.\nThis mode is needed for \"trusted\" components like Scheduler, Webserver or Internal Api server.", "ret": null}, "fn_lc": [[44, 4], [51, 51]], "fn_var_ln": {"_initialized": [[50, 8], [50, 38]], "_use_internal_api": [[51, 8], [51, 43]]}, "fn_var_occur": {"_initialized": [["InternalApiConfig", "_initialized", "True"]], "_use_internal_api": [["InternalApiConfig", "_use_internal_api", "False"]]}, "name": "force_database_direct_access", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "InternalApiConfig.force_database_direct_access", "ret_exprs": [], "ret_type": "", "variables": {"_initialized": "", "_use_internal_api": ""}, "variables_p": {"_initialized": [["str", 0.2528054674999893], ["Union[dict, Dict[str, Any]]", 0.16670966088846664], ["bool", 0.09261773836401609], ["Optional[List[str]]", 0.091462991572391]], "_use_internal_api": [["bool", 0.651153544666759], ["str", 0.21259415569980886], ["Set[str]", 0.13625229963343216]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[54, 4], [57, 50]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_use_internal_api", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "InternalApiConfig.get_use_internal_api", "ret_exprs": ["return InternalApiConfig._use_internal_api"], "ret_type": "", "ret_type_p": [["bool", 0.40858422327755545], ["str", 0.29917161338180004], ["List[str]", 0.11054448907901185], ["Optional[str]", 0.08773876902649516]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[60, 4], [63, 55]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_internal_api_endpoint", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "InternalApiConfig.get_internal_api_endpoint", "ret_exprs": ["return InternalApiConfig._internal_api_endpoint"], "ret_type": "", "ret_type_p": [["str", 0.8079794953680942]], "variables": {}, "variables_p": {}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[66, 4], [79, 72]], "fn_var_ln": {"_initialized": [[77, 8], [77, 38]], "_internal_api_endpoint": [[79, 8], [79, 48]], "_use_internal_api": [[78, 8], [78, 43]], "internal_api_endpoint": [[73, 12], [73, 33]], "internal_api_url": [[72, 12], [72, 28]], "use_internal_api": [[67, 8], [67, 24]]}, "fn_var_occur": {"_initialized": [["InternalApiConfig", "_initialized", "True"]], "_internal_api_endpoint": [["InternalApiConfig", "_internal_api_endpoint", "internal_api_endpoint"]], "_use_internal_api": [["InternalApiConfig", "_use_internal_api", "use_internal_api"]], "internal_api_endpoint": [["internal_api_endpoint", "internal_api_url"], ["internal_api_endpoint", "startswith"], ["InternalApiConfig", "_internal_api_endpoint", "internal_api_endpoint"]], "internal_api_url": [["internal_api_url", "conf", "get"], ["internal_api_endpoint", "internal_api_url"]], "use_internal_api": [["use_internal_api", "conf", "getboolean", "fallback", "False"], ["use_internal_api", "_ENABLE_AIP_44"], ["InternalApiConfig", "_use_internal_api", "use_internal_api"]]}, "name": "_init_values", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "InternalApiConfig._init_values", "ret_exprs": [], "ret_type": "", "variables": {"_initialized": "", "_internal_api_endpoint": "", "_use_internal_api": "", "internal_api_endpoint": "", "internal_api_url": "", "use_internal_api": ""}, "variables_p": {"_initialized": [["str", 0.2528054674999893], ["Union[dict, Dict[str, Any]]", 0.16670966088846664], ["bool", 0.09261773836401609], ["Optional[List[str]]", 0.091462991572391]], "_internal_api_endpoint": [["str", 0.30475355411324384], ["int", 0.18868030408536227], ["Union[dict, Dict[str, Any]]", 0.1266609658717469], ["Dict[str, int]", 0.11571777304957898], ["Set[str]", 0.057975395176464245]], "_use_internal_api": [["bool", 0.7559052289911997], ["Set[str]", 0.12204738550440018], ["str", 0.12204738550440018]], "internal_api_endpoint": [["str", 0.9069623799621163], ["int", 0.09303762003788364]], "internal_api_url": [["str", 0.9174163550527258], ["list", 0.08258364494727437]], "use_internal_api": [["str", 0.4013195563120021], ["bool", 0.29733987465303224], ["float", 0.10702391911002886], ["Set[str]", 0.09911329155101076]]}}], "name": "InternalApiConfig", "q_name": "InternalApiConfig", "variables": {"_initialized": "", "_internal_api_endpoint": "", "_use_internal_api": ""}, "variables_p": {"_initialized": [["dict", 0.3201294189173304], ["str", 0.2754828292735611], ["int", 0.11375819612351208], ["Tuple[None, Any]", 0.09691415831156704]], "_internal_api_endpoint": [["float", 0.25067788725040013], ["Union[dict, Dict[str, Any]]", 0.14198148319399895], ["List[str]", 0.0958943654423749], ["Dict[str, str]", 0.08127652725554296], ["list", 0.07971476371955263]], "_use_internal_api": [["bool", 0.49764486989102874], ["Tuple[str, str]", 0.20330883545477368], ["Set[str]", 0.0908929668249846], ["str", 0.0908929668249846]]}}], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[98, 4], [106, 31]], "fn_var_ln": {"data": [[99, 8], [99, 12]], "internal_api_endpoint": [[100, 8], [100, 29]], "response": [[101, 8], [101, 16]]}, "fn_var_occur": {"data": [["data", "method_name", "params_json"], ["response", "requests", "post", "url", "internal_api_endpoint", "data", "json", "dumps", "data", "headers", "headers"]], "internal_api_endpoint": [["internal_api_endpoint", "InternalApiConfig", "get_internal_api_endpoint"], ["response", "requests", "post", "url", "internal_api_endpoint", "data", "json", "dumps", "data", "headers", "headers"]], "response": [["response", "requests", "post", "url", "internal_api_endpoint", "data", "json", "dumps", "data", "headers", "headers"], ["response", "status_code"], ["AirflowException", "response", "status_code", "response", "reason"], ["response", "content"]]}, "name": "make_jsonrpc_request", "params": {"method_name": "builtins.str", "params_json": "builtins.str"}, "params_descr": {"method_name": "", "params_json": ""}, "params_occur": {"method_name": [["data", "method_name", "params_json"]], "params_json": [["data", "method_name", "params_json"]]}, "params_p": {"args": [], "kwargs": [], "method_name": [["str", 0.8892466029162953], ["int", 0.11075339708370474]], "params_json": [["str", 0.8892466029162953], ["int", 0.11075339708370474]]}, "q_name": "internal_api_call.<locals>.make_jsonrpc_request", "ret_exprs": ["return response.content"], "ret_type": "builtins.bytes", "ret_type_p": [["dict", 0.392366577841387], ["Optional[str]", 0.1309597443278373], ["bytes", 0.11280556690100349], ["Optional[Dict[str, Any]]", 0.10135220710044242], ["Dict[str, Any]", 0.08848858102979817]], "variables": {"data": "", "internal_api_endpoint": "", "response": ""}, "variables_p": {"data": [["str", 0.3335878861413038], ["Dict[str, str]", 0.30671811540583444], ["Optional[str]", 0.17191005766663786], ["Dict[str, Dict[str, str]]", 0.09424848444444922], ["dict", 0.0935354563417748]], "internal_api_endpoint": [["str", 0.09426941729674189], ["dict", 0.07633904098169877]], "response": [["requests.models.Response", 1.0]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[109, 4], [126, 90]], "fn_var_ln": {"args_json": [[123, 8], [123, 17]], "arguments_dict": [[117, 8], [117, 22]], "bound": [[116, 8], [116, 13]], "method_name": [[124, 8], [124, 19]], "result": [[125, 8], [125, 14]], "use_internal_api": [[110, 8], [110, 24]]}, "fn_var_occur": {"args_json": [["args_json", "json", "dumps", "BaseSerialization", "serialize", "arguments_dict", "use_pydantic_models", "True"], ["result", "make_jsonrpc_request", "method_name", "args_json"]], "arguments_dict": [["arguments_dict", "dict", "bound", "arguments"], ["args_json", "json", "dumps", "BaseSerialization", "serialize", "arguments_dict", "use_pydantic_models", "True"]], "bound": [["bound", "inspect", "signature", "func", "bind", "args", "kwargs"], ["arguments_dict", "dict", "bound", "arguments"]], "method_name": [["method_name", "func", "__module__", "func", "__qualname__"], ["result", "make_jsonrpc_request", "method_name", "args_json"]], "result": [["result", "make_jsonrpc_request", "method_name", "args_json"], ["BaseSerialization", "deserialize", "json", "loads", "result", "use_pydantic_models", "True"]], "use_internal_api": [["use_internal_api", "InternalApiConfig", "get_use_internal_api"]]}, "name": "wrapper", "params": {"args": "", "kwargs": ""}, "params_descr": {"args": "", "kwargs": ""}, "params_occur": {"args": [["func", "args", "kwargs"], ["bound", "inspect", "signature", "func", "bind", "args", "kwargs"]], "kwargs": [["func", "args", "kwargs"], ["bound", "inspect", "signature", "func", "bind", "args", "kwargs"]]}, "params_p": {"args": [], "kwargs": []}, "q_name": "internal_api_call.<locals>.wrapper", "ret_exprs": ["return func(*args, **kwargs)", "return BaseSerialization.deserialize(json.loads(result), use_pydantic_models=True)"], "ret_type": "RT", "ret_type_p": [["List[int]", 0.18843941209027495], ["dict", 0.1076796279421572]], "variables": {"args_json": "", "arguments_dict": "", "bound": "", "method_name": "", "result": "", "use_internal_api": ""}, "variables_p": {"args_json": [["Dict[str, Any]", 0.2893389735012117], ["OrderedDict[str, Any]", 0.11086823262098643], ["Generator[Any, None, None]", 0.10656792323148416], ["werkzeug.exceptions.InternalServerError", 0.09784494494428678], ["werkzeug.exceptions.HTTPException", 0.09396980038514838]], "arguments_dict": [["dict", 0.9125434621387682], ["Dict[KT, VT]", 0.08745653786123153]], "bound": [["Tuple[str, str, str, str, str]", 0.09951978808049683], ["str", 0.08992973196088692], ["Set[str]", 0.08874156494934804]], "method_name": [["str", 0.6313683627341087], ["Dict[str, str]", 0.18630851426430173], ["dict", 0.09222046025260168], ["Dict[int, str]", 0.09010266274898776]], "result": [["list", 0.13002921132324174], ["List[str]", 0.09799641969854148], ["Dict[str, str]", 0.0976203177074506], ["str", 0.09256675765426306], ["Dict[str, Any]", 0.08805718738153365]], "use_internal_api": [["str", 0.30318595730281983], ["int", 0.1790460104102204], ["float", 0.17603553219994963]]}}, {"docstring": {"func": "Decorator for methods which may be executed in database isolation mode.", "long_descr": "If [core]database_access_isolation is true then such method are not executed locally,\nbut instead RPC call is made to Database API (aka Internal API). This makes some components\ndecouple from direct Airflow database access.\nEach decorated method must be present in METHODS list in airflow.api_internal.endpoints.rpc_api_endpoint.\nOnly static methods can be decorated. This decorator must be before \"provide_session\".\n\nSee [AIP-44](https://cwiki.apache.org/confluence/display/AIRFLOW/AIP-44+Airflow+Internal+API)\nfor more information .", "ret": null}, "fn_lc": [[82, 0], [128, 18]], "fn_var_ln": {"headers": [[94, 4], [94, 11]]}, "fn_var_occur": {"headers": []}, "name": "internal_api_call", "params": {"func": "typing.Callable[PS, RT]"}, "params_descr": {"func": ""}, "params_occur": {"func": []}, "params_p": {"args": [], "func": [["Callable", 0.9999999988902246], ["bool", 7.405380525860984e-10], ["Callable[[], Any]", 1.0217085626189673e-10]], "kwargs": []}, "q_name": "internal_api_call", "ret_exprs": ["return wrapper"], "ret_type": "typing.Callable[PS, RT]", "ret_type_p": [["int", 0.3250353641143178], ["str", 0.1845558658449221], ["Optional[List[str]]", 0.05693597983472133], ["Callable", 0.05419102162977596]], "variables": {"headers": ""}, "variables_p": {"headers": [["Mapping[str, str]", 0.1], ["List[Tuple[str, str, str]]", 0.1], ["list", 0.1], ["Callable[[str], Tuple[str, str]]", 0.1], ["property", 0.1]]}}], "imports": ["__future__", "annotations", "inspect", "json", "functools", "wraps", "typing", "Callable", "TypeVar", "requests", "airflow", "configuration", "conf", "airflow", "exceptions", "AirflowConfigException", "AirflowException", "airflow", "settings", "_ENABLE_AIP_44", "airflow", "typing_compat", "ParamSpec", "airflow", "serialization", "serialized_objects", "BaseSerialization"], "mod_var_ln": {"PS": [[32, 0], [32, 2]], "RT": [[33, 0], [33, 2]]}, "mod_var_occur": {"PS": [], "RT": []}, "no_types_annot": {"D": 6, "I": 0, "U": 29}, "session_id": "gQMyHZL3ysLtVNZJZEVqGv6PDM2IuSFWE4jlguVtLds", "set": null, "tc": [false, null], "type_annot_cove": 0.17, "typed_seq": "", "untyped_seq": "", "variables": {"PS": "", "RT": ""}, "variables_p": {"PS": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "RT": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}}