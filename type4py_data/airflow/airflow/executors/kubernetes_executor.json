{"error": null, "response": {"classes": [{"cls_lc": [[77, 0], [80, 68]], "cls_var_ln": {"resource_version": [[80, 4], [80, 20]]}, "cls_var_occur": {"resource_version": []}, "funcs": [], "name": "ResourceVersion", "q_name": "ResourceVersion", "variables": {"resource_version": "builtins.dict[builtins.str, builtins.str]"}, "variables_p": {"resource_version": [["str", 0.6], ["List[int]", 0.1], ["bool", 0.1], ["Union[int, str]", 0.1], ["int", 0.1]]}}, {"cls_lc": [[83, 0], [271, 13]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[86, 4], [99, 38]], "fn_var_ln": {"kube_config": [[99, 8], [99, 24]], "namespace": [[95, 8], [95, 22]], "resource_version": [[98, 8], [98, 29]], "scheduler_job_id": [[96, 8], [96, 29]], "watcher_queue": [[97, 8], [97, 26]]}, "fn_var_occur": {"kube_config": [["self", "kube_config", "kube_config"]], "namespace": [["self", "namespace", "namespace"]], "resource_version": [["self", "resource_version", "resource_version"]], "scheduler_job_id": [["self", "scheduler_job_id", "scheduler_job_id"]], "watcher_queue": [["self", "watcher_queue", "watcher_queue"]]}, "name": "__init__", "params": {"kube_config": "kubernetes.client.Configuration", "namespace": "builtins.str", "resource_version": "str | None", "scheduler_job_id": "builtins.str", "self": "", "watcher_queue": "queue.Queue[KubernetesWatchType]"}, "params_descr": {"kube_config": "", "namespace": "", "resource_version": "", "scheduler_job_id": "", "self": "", "watcher_queue": ""}, "params_occur": {"kube_config": [["self", "kube_config", "kube_config"]], "namespace": [["self", "namespace", "namespace"]], "resource_version": [["self", "resource_version", "resource_version"]], "scheduler_job_id": [["self", "scheduler_job_id", "scheduler_job_id"]], "self": [["self", "namespace", "namespace"], ["self", "scheduler_job_id", "scheduler_job_id"], ["self", "watcher_queue", "watcher_queue"], ["self", "resource_version", "resource_version"], ["self", "kube_config", "kube_config"]], "watcher_queue": [["self", "watcher_queue", "watcher_queue"]]}, "params_p": {"args": [], "kube_config": [["bool", 0.37102213112399063], ["str", 0.17799457480741526], ["Optional[Dict[str, Any]]", 0.10399795693689821], ["Optional[bool]", 0.09653039893231687]], "kwargs": [], "namespace": [["bool", 0.2982765693909766], ["str", 0.20413139158787086], ["Optional[str]", 0.11023562598440258], ["Optional[List[Any]]", 0.11023562598440258], ["Optional[List[str]]", 0.08889531767709728], ["Optional[Dict[str, Any]]", 0.08790893481750954]], "resource_version": [["bool", 0.27667814374593375], ["int", 0.22012635218970958], ["str", 0.12074801134157932], ["Optional[int]", 0.08447380271942231]], "scheduler_job_id": [["str", 0.1835643955516526], ["dict", 0.1770593310584389], ["Set[str]", 0.1375883458658351], ["Dict[str, str]", 0.1212244499957949], ["Dict[str, Any]", 0.09335048161277651]], "self": [], "watcher_queue": [["bool", 0.3048179528263839], ["Dict[str, Dict[str, str]]", 0.11732557278154045], ["Optional[IO[bytes]]", 0.09590689057233755], ["int", 0.0950859031350283], ["List[Tuple[str, ...]]", 0.09381742496416165], ["List[str]", 0.0908012374321462]]}, "q_name": "KubernetesJobWatcher.__init__", "ret_exprs": [], "ret_type": "", "variables": {"kube_config": "", "namespace": "", "resource_version": "", "scheduler_job_id": "", "watcher_queue": ""}, "variables_p": {"kube_config": [["Dict[str, dict]", 0.22321323106975013], ["str", 0.21656382349622214], ["dict", 0.17963755087299899], ["bytes", 0.10860859977320761], ["Dict[str, Union[None, Any, int, str]]", 0.0940665127494922], ["int", 0.09369584473806736], ["List[Dict[str, str]]", 0.08421443730026157]], "namespace": [["list", 0.11528649582491832], ["Dict[str, List[str]]", 0.11081530945517261], ["int", 0.11081530945517261], ["Dict[str, str]", 0.11081530945517261], ["List[str]", 0.09542679664200687], ["Tuple[Literal, Literal, Literal, Literal]", 0.0895564441638946], ["List[Union[int, Any, Any]]", 0.08798403637106139], ["Type[Tuple[int, int, int]]", 0.08677098655257315]], "resource_version": [["int", 0.4147432448206893], ["str", 0.1536628205723793], ["Type[str]", 0.09377304320795771], ["List[str]", 0.0917308103741852]], "scheduler_job_id": [["int", 0.5314096773347922], ["str", 0.0976297101878023], ["transfer.models.ShopID", 0.0927401531193514], ["transfer.models.StorefronID", 0.0927401531193514], ["transfer.models.ArticleID", 0.0927401531193514]], "watcher_queue": [["queue.Queue", 0.9999999999922425], ["str", 3.5753637405843682e-12], ["TextIO", 2.0905421602266784e-12]]}}, {"docstring": {"func": "Performs watching.", "long_descr": null, "ret": null}, "fn_lc": [[101, 4], [126, 17]], "fn_var_ln": {"kube_client": [[106, 8], [106, 19]], "resource_version": [[119, 16], [119, 37]]}, "fn_var_occur": {"kube_client": [["kube_client", "kubernetes", "client", "CoreV1Api", "get_kube_client"], ["self", "resource_version", "self", "_run", "kube_client", "self", "resource_version", "self", "scheduler_job_id", "self", "kube_config"]], "resource_version": [["self", "resource_version", "self", "_run", "kube_client", "self", "resource_version", "self", "scheduler_job_id", "self", "kube_config"], ["self", "resource_version"], ["ResourceVersion", "resource_version", "self", "namespace"], ["self", "log", "warning", "self", "resource_version"]]}, "name": "run", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "scheduler_job_id"], ["self", "resource_version", "self", "_run", "kube_client", "self", "resource_version", "self", "scheduler_job_id", "self", "kube_config"], ["self", "log", "warning", "exc_info", "True"], ["self", "log", "exception"], ["self", "resource_version"], ["ResourceVersion", "resource_version", "self", "namespace"], ["self", "log", "warning", "self", "resource_version"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "KubernetesJobWatcher.run", "ret_exprs": [], "ret_type": "None", "variables": {"kube_client": "kubernetes.client.CoreV1Api", "resource_version": ""}, "variables_p": {"kube_client": [], "resource_version": [["str", 0.3825525722683996], ["int", 0.32991594091505855], ["Exception", 0.10213806594879957], ["bytes", 0.08573096606227529]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[128, 4], [145, 21]], "fn_var_ln": {"pods": [[140, 20], [140, 24]], "resource_version": [[141, 16], [141, 32]], "watcher": [[129, 8], [129, 15]]}, "fn_var_occur": {"pods": [["pods", "kube_client", "list_pod_for_all_namespaces", "watch", "False"], ["pods", "kube_client", "list_namespaced_pod", "namespace", "self", "namespace", "watch", "False"], ["resource_version", "pods", "metadata", "resource_version"]], "resource_version": [["resource_version", "pods", "metadata", "resource_version"], ["query_kwargs", "resource_version"]], "watcher": [["watcher", "watch", "Watch"], ["watcher", "stream", "kube_client", "list_pod_for_all_namespaces", "query_kwargs"], ["watcher", "stream", "kube_client", "list_namespaced_pod", "self", "namespace", "query_kwargs"]]}, "name": "_pod_events", "params": {"kube_client": "kubernetes.client.CoreV1Api", "query_kwargs": "builtins.dict", "self": ""}, "params_descr": {"kube_client": "", "query_kwargs": "", "self": ""}, "params_occur": {"kube_client": [["watcher", "stream", "kube_client", "list_pod_for_all_namespaces", "query_kwargs"], ["watcher", "stream", "kube_client", "list_namespaced_pod", "self", "namespace", "query_kwargs"], ["pods", "kube_client", "list_pod_for_all_namespaces", "watch", "False"], ["pods", "kube_client", "list_namespaced_pod", "namespace", "self", "namespace", "watch", "False"], ["self", "_pod_events", "kube_client", "kube_client", "query_kwargs", "query_kwargs"]], "query_kwargs": [["watcher", "stream", "kube_client", "list_pod_for_all_namespaces", "query_kwargs"], ["watcher", "stream", "kube_client", "list_namespaced_pod", "self", "namespace", "query_kwargs"], ["query_kwargs", "resource_version"], ["self", "_pod_events", "kube_client", "kube_client", "query_kwargs", "query_kwargs"]], "self": [["self", "namespace", "ALL_NAMESPACES"], ["watcher", "stream", "kube_client", "list_namespaced_pod", "self", "namespace", "query_kwargs"], ["self", "namespace", "ALL_NAMESPACES"], ["pods", "kube_client", "list_namespaced_pod", "namespace", "self", "namespace", "watch", "False"], ["self", "_pod_events", "kube_client", "kube_client", "query_kwargs", "query_kwargs"]]}, "params_p": {"args": [], "kube_client": [["float", 0.09263331900159463], ["raiden.utils.BlockTimeout", 0.09263331900159463], ["str", 0.0881310755382122], ["dict", 0.0881310755382122]], "kwargs": [], "query_kwargs": [["float", 0.09263331900159463], ["raiden.utils.BlockTimeout", 0.09263331900159463], ["str", 0.0881310755382122], ["dict", 0.0881310755382122]], "self": []}, "q_name": "KubernetesJobWatcher._pod_events", "ret_exprs": ["return watcher.stream(kube_client.list_pod_for_all_namespaces, **query_kwargs)", "return watcher.stream(kube_client.list_namespaced_pod, self.namespace, **query_kwargs)", "return self._pod_events(kube_client=kube_client, query_kwargs=query_kwargs)"], "ret_type": "", "ret_type_p": [["bool", 0.3114566275089763], ["Optional[str]", 0.10086460184076737]], "variables": {"pods": "", "resource_version": "", "watcher": ""}, "variables_p": {"pods": [], "resource_version": [["str", 0.598407673628814], ["dict", 0.11026477433666809], ["int", 0.11003827224024848]], "watcher": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[147, 4], [192, 36]], "fn_var_ln": {"annotations": [[170, 12], [170, 23]], "kwargs": [[156, 8], [156, 14]], "last_resource_version": [[190, 12], [190, 33]], "map_index": [[178, 12], [178, 21]], "task": [[166, 12], [166, 16]], "task_instance_related_annotations": [[171, 12], [171, 45]]}, "fn_var_occur": {"annotations": [["annotations", "task", "metadata", "annotations"], ["task_instance_related_annotations", "annotations", "annotations", "annotations", "get", "annotations", "get", "annotations"], ["map_index", "annotations", "get"], ["self", "process_status", "pod_name", "task", "metadata", "name", "namespace", "task", "metadata", "namespace", "status", "task", "status", "phase", "annotations", "task_instance_related_annotations", "resource_version", "task", "metadata", "resource_version", "event", "event"]], "kwargs": [["kwargs", "scheduler_job_id"], ["kwargs", "resource_version"], ["kwargs", "key", "value"], ["self", "_pod_events", "kube_client", "kube_client", "query_kwargs", "kwargs"]], "last_resource_version": [["last_resource_version", "str", "None", "None"], ["last_resource_version", "task", "metadata", "resource_version"]], "map_index": [["map_index", "annotations", "get"], ["map_index", "None"], ["task_instance_related_annotations", "map_index"]], "task": [["task", "event"], ["self", "log", "debug", "task", "metadata", "name", "event"], ["annotations", "task", "metadata", "annotations"], ["self", "process_status", "pod_name", "task", "metadata", "name", "namespace", "task", "metadata", "namespace", "status", "task", "status", "phase", "annotations", "task_instance_related_annotations", "resource_version", "task", "metadata", "resource_version", "event", "event"], ["last_resource_version", "task", "metadata", "resource_version"]], "task_instance_related_annotations": [["task_instance_related_annotations", "annotations", "annotations", "annotations", "get", "annotations", "get", "annotations"], ["task_instance_related_annotations", "map_index"], ["self", "process_status", "pod_name", "task", "metadata", "name", "namespace", "task", "metadata", "namespace", "status", "task", "status", "phase", "annotations", "task_instance_related_annotations", "resource_version", "task", "metadata", "resource_version", "event", "event"]]}, "name": "_run", "params": {"kube_client": "kubernetes.client.CoreV1Api", "kube_config": "typing.Any", "resource_version": "str | None", "scheduler_job_id": "builtins.str", "self": ""}, "params_descr": {"kube_client": "", "kube_config": "", "resource_version": "", "scheduler_job_id": "", "self": ""}, "params_occur": {"kube_client": [["self", "_pod_events", "kube_client", "kube_client", "query_kwargs", "kwargs"]], "kube_config": [["kube_config", "kube_client_request_args"], ["kube_config", "kube_client_request_args", "items"]], "resource_version": [["self", "log", "info", "resource_version"], ["kwargs", "resource_version"], ["self", "process_status", "pod_name", "task", "metadata", "name", "namespace", "task", "metadata", "namespace", "status", "task", "status", "phase", "annotations", "task_instance_related_annotations", "resource_version", "task", "metadata", "resource_version", "event", "event"], ["last_resource_version", "task", "metadata", "resource_version"]], "scheduler_job_id": [["kwargs", "scheduler_job_id"]], "self": [["self", "log", "info", "resource_version"], ["self", "_pod_events", "kube_client", "kube_client", "query_kwargs", "kwargs"], ["self", "log", "debug", "task", "metadata", "name", "event"], ["self", "process_error", "event"], ["self", "process_status", "pod_name", "task", "metadata", "name", "namespace", "task", "metadata", "namespace", "status", "task", "status", "phase", "annotations", "task_instance_related_annotations", "resource_version", "task", "metadata", "resource_version", "event", "event"]]}, "params_p": {"args": [], "kube_client": [["str", 0.3960461000606955]], "kube_config": [["dict", 0.07946534855794812]], "kwargs": [], "resource_version": [["str", 0.5813825897707094], ["Optional[str]", 0.12030145532559176]], "scheduler_job_id": [["str", 0.7076978028734358], ["cmk.utils.type_defs.UserId", 0.09717060834140995]], "self": []}, "q_name": "KubernetesJobWatcher._run", "ret_exprs": ["return self.process_error(event)", "return last_resource_version"], "ret_type": "str | None", "ret_type_p": [["dict", 0.49839136882625557], ["str", 0.10789190204627903]], "variables": {"annotations": "", "kwargs": "", "last_resource_version": "", "map_index": "", "task": "", "task_instance_related_annotations": ""}, "variables_p": {"annotations": [["dict", 0.2071958070852402], ["pydynasync.models.Changes", 0.1908062218189263], ["Dict[str, dict]", 0.13386535861859575], ["guillotina.annotations.AnnotationData", 0.08952003236551567]], "kwargs": [["list", 0.09690510385441485], ["Tuple[Any, Any, Any]", 0.09344137909761763]], "last_resource_version": [["str", 0.2974401151354097], ["Pattern[str]", 0.2789214631897353], ["Optional[str]", 0.2319508738951391], ["Pattern", 0.11331245842407732], ["Type[str]", 0.07837508935563856]], "map_index": [["str", 0.2757654772409911], ["queue.Queue[Any]", 0.13127145512660773], ["set", 0.12408715482014133], ["Dict[str, str]", 0.0947925429185518], ["pydynasync.models.Changes", 0.09420491077615574]], "task": [["Dict[str, Union[Any, int, str]]", 0.11060448451121552], ["Dict[str, Union[dict, Any, Any, Any]]", 0.10665732526615491], ["dict", 0.10110588450833694], ["List[Dict[str, Any]]", 0.09844045287022593], ["List[List[str]]", 0.0982424712589828], ["taskiinfrastructure.data.json.repositories.project_repository.JsonProjectRepository", 0.09392531760652155]], "task_instance_related_annotations": [["parsl.executors.high_throughpumac_safe_queue.MacSafeQueue", 0.20877023807999934], ["raiden.utils.list", 0.09484150899677066]]}}, {"docstring": {"func": "Process error response.", "long_descr": null, "ret": null}, "fn_lc": [[194, 4], [207, 9]], "fn_var_ln": {"raw_object": [[197, 8], [197, 18]]}, "fn_var_occur": {"raw_object": [["raw_object", "event"], ["self", "log", "info", "raw_object"], ["AirflowException", "raw_object", "raw_object", "raw_object"]]}, "name": "process_error", "params": {"event": "typing.Any", "self": ""}, "params_descr": {"event": "", "self": ""}, "params_occur": {"event": [["self", "log", "error", "event"], ["raw_object", "event"]], "self": [["self", "log", "error", "event"], ["self", "log", "info", "raw_object"]]}, "params_p": {"args": [], "event": [["Dict[str, Any]", 0.2637587113690633], ["dict", 0.04083400584304894]], "kwargs": [], "self": []}, "q_name": "KubernetesJobWatcher.process_error", "ret_exprs": ["return \"0\""], "ret_type": "builtins.str", "ret_type_p": [["str", 0.4805077411603105], ["sqlalchemy.engine.base.Engine", 0.010306284132775725], ["Sequence", 0.003456888962259662]], "variables": {"raw_object": ""}, "variables_p": {"raw_object": [["str", 0.7007526654273167]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[209, 4], [271, 13]], "fn_var_ln": {"annotations_string": [[219, 8], [219, 26]], "pod": [[218, 8], [218, 11]]}, "fn_var_occur": {"annotations_string": [["annotations_string", "annotations_for_logging_task_metadata", "annotations"], ["self", "log", "info", "pod_name", "annotations_string"], ["self", "log", "debug", "pod_name", "annotations_string"], ["self", "log", "error", "pod_name", "annotations_string"], ["self", "log", "info", "pod_name", "annotations_string"], ["self", "log", "info", "pod_name", "annotations_string"], ["self", "log", "info", "pod_name", "annotations_string"]], "pod": [["pod", "event"], ["event", "pod", "metadata", "deletion_timestamp"], ["event", "POD_EXECUTOR_DONE_KEY", "pod", "metadata", "labels", "pod", "metadata", "deletion_timestamp"], ["event", "pod", "metadata", "deletion_timestamp"]]}, "name": "process_status", "params": {"annotations": "builtins.dict[builtins.str, builtins.str]", "event": "typing.Any", "namespace": "builtins.str", "pod_name": "builtins.str", "resource_version": "builtins.str", "self": "", "status": "builtins.str"}, "params_descr": {"annotations": "", "event": "", "namespace": "", "pod_name": "", "resource_version": "", "self": "", "status": ""}, "params_occur": {"annotations": [["annotations_string", "annotations_for_logging_task_metadata", "annotations"], ["self", "watcher_queue", "put", "pod_name", "namespace", "State", "FAILED", "annotations", "resource_version"], ["self", "watcher_queue", "put", "pod_name", "namespace", "State", "FAILED", "annotations", "resource_version"], ["self", "watcher_queue", "put", "pod_name", "namespace", "None", "annotations", "resource_version"], ["self", "watcher_queue", "put", "pod_name", "namespace", "State", "FAILED", "annotations", "resource_version"], ["self", "log", "warning", "status", "pod_name", "namespace", "annotations", "resource_version"]], "event": [["pod", "event"], ["event", "pod", "metadata", "deletion_timestamp"], ["event", "POD_EXECUTOR_DONE_KEY", "pod", "metadata", "labels", "pod", "metadata", "deletion_timestamp"], ["event", "pod", "metadata", "deletion_timestamp"]], "namespace": [["self", "watcher_queue", "put", "pod_name", "namespace", "State", "FAILED", "annotations", "resource_version"], ["self", "watcher_queue", "put", "pod_name", "namespace", "State", "FAILED", "annotations", "resource_version"], ["self", "watcher_queue", "put", "pod_name", "namespace", "None", "annotations", "resource_version"], ["self", "watcher_queue", "put", "pod_name", "namespace", "State", "FAILED", "annotations", "resource_version"], ["self", "log", "warning", "status", "pod_name", "namespace", "annotations", "resource_version"]], "pod_name": [["self", "log", "info", "pod_name", "annotations_string"], ["self", "watcher_queue", "put", "pod_name", "namespace", "State", "FAILED", "annotations", "resource_version"], ["self", "log", "debug", "pod_name", "annotations_string"], ["self", "log", "error", "pod_name", "annotations_string"], ["self", "watcher_queue", "put", "pod_name", "namespace", "State", "FAILED", "annotations", "resource_version"], ["self", "log", "info", "pod_name"], ["self", "log", "info", "pod_name", "annotations_string"], ["self", "watcher_queue", "put", "pod_name", "namespace", "None", "annotations", "resource_version"], ["self", "log", "info", "pod_name", "annotations_string"], ["self", "watcher_queue", "put", "pod_name", "namespace", "State", "FAILED", "annotations", "resource_version"], ["self", "log", "info", "pod_name", "annotations_string"], ["self", "log", "warning", "status", "pod_name", "namespace", "annotations", "resource_version"]], "resource_version": [["self", "watcher_queue", "put", "pod_name", "namespace", "State", "FAILED", "annotations", "resource_version"], ["self", "watcher_queue", "put", "pod_name", "namespace", "State", "FAILED", "annotations", "resource_version"], ["self", "watcher_queue", "put", "pod_name", "namespace", "None", "annotations", "resource_version"], ["self", "watcher_queue", "put", "pod_name", "namespace", "State", "FAILED", "annotations", "resource_version"], ["self", "log", "warning", "status", "pod_name", "namespace", "annotations", "resource_version"]], "self": [["self", "log", "info", "pod_name", "annotations_string"], ["self", "watcher_queue", "put", "pod_name", "namespace", "State", "FAILED", "annotations", "resource_version"], ["self", "log", "debug", "pod_name", "annotations_string"], ["self", "log", "error", "pod_name", "annotations_string"], ["self", "watcher_queue", "put", "pod_name", "namespace", "State", "FAILED", "annotations", "resource_version"], ["self", "log", "info", "pod_name"], ["self", "log", "info", "pod_name", "annotations_string"], ["self", "watcher_queue", "put", "pod_name", "namespace", "None", "annotations", "resource_version"], ["self", "log", "info", "pod_name", "annotations_string"], ["self", "watcher_queue", "put", "pod_name", "namespace", "State", "FAILED", "annotations", "resource_version"], ["self", "log", "info", "pod_name", "annotations_string"], ["self", "log", "warning", "status", "pod_name", "namespace", "annotations", "resource_version"]], "status": [["self", "log", "warning", "status", "pod_name", "namespace", "annotations", "resource_version"]]}, "params_p": {"annotations": [["str", 0.3159501226223601], ["Optional[str]", 0.1977926287207668], ["Optional[bool]", 0.08832125492936137]], "args": [], "event": [["Optional[List[Any]]", 0.39813481405565887], ["raiden.utils.PaymentID", 0.12837470975990092], ["bool", 0.09697140693795762], ["Optional[List[str]]", 0.09227459294928209]], "kwargs": [], "namespace": [["bool", 0.30820152061854034], ["str", 0.22748701504909383], ["dict", 0.1220900676521198], ["Dict[str, Dict[str, Any]]", 0.09544191190681735], ["Optional[str]", 0.08778197815135153], ["Optional[Mapping[str, Any]]", 0.08071450556944648]], "pod_name": [["str", 1.0]], "resource_version": [["bool", 0.30820152061854034], ["str", 0.22748701504909383], ["dict", 0.1220900676521198], ["Dict[str, Dict[str, Any]]", 0.09544191190681735], ["Optional[str]", 0.08778197815135153], ["Optional[Mapping[str, Any]]", 0.08071450556944648]], "self": [], "status": [["str", 0.9044157622873179], ["int", 0.09558423771268215]]}, "q_name": "KubernetesJobWatcher.process_status", "ret_exprs": ["return"], "ret_type": "None", "ret_type_p": [["Union[tuple, list]", 0.11473563526353575], ["Dict[str, Any]", 0.08736905077625344], ["str", 0.08565309563895473]], "variables": {"annotations_string": "", "pod": ""}, "variables_p": {"annotations_string": [["str", 0.3006222671644838]], "pod": [["list", 0.8975656073787122], ["List[None]", 0.10243439262128792]]}}], "name": "KubernetesJobWatcher", "q_name": "KubernetesJobWatcher", "variables": {}, "variables_p": {}}, {"cls_lc": [[274, 0], [484, 32]], "cls_var_ln": {}, "cls_var_occur": {}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[277, 4], [294, 55]], "fn_var_ln": {"_manager": [[291, 8], [291, 21]], "kube_client": [[290, 8], [290, 24]], "kube_config": [[286, 8], [286, 24]], "kube_watchers": [[294, 8], [294, 26]], "namespace": [[288, 8], [288, 22]], "result_queue": [[287, 8], [287, 25]], "scheduler_job_id": [[293, 8], [293, 29]], "watcher_queue": [[292, 8], [292, 26]]}, "fn_var_occur": {"_manager": [["self", "_manager", "multiprocessing", "Manager"], ["self", "watcher_queue", "self", "_manager", "Queue"]], "kube_client": [["self", "kube_client", "kube_client"]], "kube_config": [["self", "kube_config", "kube_config"], ["self", "namespace", "self", "kube_config", "kube_namespace"]], "kube_watchers": [["self", "kube_watchers", "self", "_make_kube_watchers"]], "namespace": [["self", "namespace", "self", "kube_config", "kube_namespace"], ["self", "log", "debug", "self", "namespace"]], "result_queue": [["self", "result_queue", "result_queue"]], "scheduler_job_id": [["self", "scheduler_job_id", "scheduler_job_id"]], "watcher_queue": [["self", "watcher_queue", "self", "_manager", "Queue"]]}, "name": "__init__", "params": {"kube_client": "kubernetes.client.CoreV1Api", "kube_config": "typing.Any", "result_queue": "queue.Queue[KubernetesResultsType]", "scheduler_job_id": "builtins.str", "self": ""}, "params_descr": {"kube_client": "", "kube_config": "", "result_queue": "", "scheduler_job_id": "", "self": ""}, "params_occur": {"kube_client": [["self", "kube_client", "kube_client"]], "kube_config": [["self", "kube_config", "kube_config"], ["self", "namespace", "self", "kube_config", "kube_namespace"]], "result_queue": [["self", "result_queue", "result_queue"]], "scheduler_job_id": [["self", "scheduler_job_id", "scheduler_job_id"]], "self": [["self", "log", "debug"], ["self", "kube_config", "kube_config"], ["self", "result_queue", "result_queue"], ["self", "namespace", "self", "kube_config", "kube_namespace"], ["self", "log", "debug", "self", "namespace"], ["self", "kube_client", "kube_client"], ["self", "_manager", "multiprocessing", "Manager"], ["self", "watcher_queue", "self", "_manager", "Queue"], ["self", "scheduler_job_id", "scheduler_job_id"], ["self", "kube_watchers", "self", "_make_kube_watchers"]]}, "params_p": {"args": [], "kube_client": [["Callable", 0.19215025492296708], ["bool", 0.1896984883096439]], "kube_config": [["str", 0.12471944934715591], ["int", 0.11448311940876561], ["annotations.DictStrAny", 0.09382504115297774]], "kwargs": [], "result_queue": [], "scheduler_job_id": [["dict", 0.2745140456367032], ["Optional[str]", 0.2046027120577871], ["str", 0.13271782130995655], ["services.shop.order.models.order_evenOrderEvent", 0.09592931460453141], ["Dict[str, str]", 0.09453465160936574]], "self": []}, "q_name": "AirflowKubernetesScheduler.__init__", "ret_exprs": [], "ret_type": "", "variables": {"_manager": "", "kube_client": "", "kube_config": "", "kube_watchers": "", "namespace": "", "result_queue": "", "scheduler_job_id": "", "watcher_queue": ""}, "variables_p": {"_manager": [["str", 0.3875775468414106], ["dict", 0.22484490631717874], ["int", 0.09689438671035265]], "kube_client": [["str", 2.3741233986046166e-11], ["set", 1.2225730991768295e-11]], "kube_config": [["Dict[str, dict]", 0.20771914439783667], ["dict", 0.11280097040445931], ["int", 0.10498302217912248], ["Dict[str, Any]", 0.09684617025525544], ["float", 0.09426181761823091], ["Dict[Any, float]", 0.09239115525734905], ["raiden.utils.FeeAmount", 0.08973982205184375], ["raiden.utils.ProportionalFeeAmount", 0.08973982205184375]], "kube_watchers": [["int", 0.3], ["str", 0.19999999999999998], ["Tuple[int, int, int, int]", 0.09999999999999999], ["dict", 0.09999999999999999], ["List[str]", 0.09999999999999999], ["Tuple[Any, int]", 0.09999999999999999]], "namespace": [["str", 0.7857436827077457], ["int", 0.21425631729225414]], "result_queue": [["queue.Queue", 0.3983069819946774], ["Tuple[paradigm.models.Base, tests.utils.Args]", 0.16629964723155724], ["int", 0.14494927843226], ["dict", 0.08164419392054315]], "scheduler_job_id": [["int", 0.5314096773347922], ["str", 0.0976297101878023], ["transfer.models.ShopID", 0.0927401531193514], ["transfer.models.StorefronID", 0.0927401531193514], ["transfer.models.ArticleID", 0.0927401531193514]], "watcher_queue": [["int", 0.6791897390461665], ["float", 0.2014754006040021]]}}, {"docstring": {"func": "Runs POD asynchronously.", "long_descr": null, "ret": null}, "fn_lc": [[296, 4], [310, 19]], "fn_var_ln": {"json_pod": [[299, 8], [299, 16]], "resp": [[303, 12], [303, 16]], "sanitized_pod": [[298, 8], [298, 21]]}, "fn_var_occur": {"json_pod": [["json_pod", "json", "dumps", "sanitized_pod", "indent"], ["self", "log", "debug", "json_pod"], ["self", "log", "exception", "json_pod"]], "resp": [["resp", "self", "kube_client", "create_namespaced_pod", "body", "sanitized_pod", "namespace", "pod", "metadata", "namespace", "kwargs"], ["self", "log", "debug", "resp"]], "sanitized_pod": [["sanitized_pod", "self", "kube_client", "api_client", "sanitize_for_serialization", "pod"], ["json_pod", "json", "dumps", "sanitized_pod", "indent"], ["resp", "self", "kube_client", "create_namespaced_pod", "body", "sanitized_pod", "namespace", "pod", "metadata", "namespace", "kwargs"]]}, "name": "run_pod_async", "params": {"kwargs": "", "pod": "kubernetes.client.models.V1Pod", "self": ""}, "params_descr": {"kwargs": "", "pod": "", "self": ""}, "params_occur": {"kwargs": [["resp", "self", "kube_client", "create_namespaced_pod", "body", "sanitized_pod", "namespace", "pod", "metadata", "namespace", "kwargs"]], "pod": [["sanitized_pod", "self", "kube_client", "api_client", "sanitize_for_serialization", "pod"], ["resp", "self", "kube_client", "create_namespaced_pod", "body", "sanitized_pod", "namespace", "pod", "metadata", "namespace", "kwargs"]], "self": [["sanitized_pod", "self", "kube_client", "api_client", "sanitize_for_serialization", "pod"], ["self", "log", "debug", "json_pod"], ["resp", "self", "kube_client", "create_namespaced_pod", "body", "sanitized_pod", "namespace", "pod", "metadata", "namespace", "kwargs"], ["self", "log", "debug", "resp"], ["self", "log", "exception", "json_pod"]]}, "params_p": {"args": [], "kwargs": [], "pod": [["bool", 0.10727565188012143]], "self": []}, "q_name": "AirflowKubernetesScheduler.run_pod_async", "ret_exprs": ["return resp"], "ret_type": "", "ret_type_p": [["str", 0.4042094916519517], ["zam_repondeur.models.Lecture", 0.10763892171842979], ["Union[str, Dict]", 0.10392411674406264], ["OrderedDict", 0.10055088016766259], ["dict", 0.08867013927623854]], "variables": {"json_pod": "", "resp": "", "sanitized_pod": ""}, "variables_p": {"json_pod": [["str", 0.26475903529131994], ["Dict[str, Union[Any, Any]]", 0.12790943330355234], ["int", 0.11570542442990155], ["cmk.utils.type_defs.UserId", 0.11098221886818355], ["bool", 0.10332341904698576], ["Dict[str, str]", 0.09656021043825178], ["Dict[str, Union[bool, str]]", 0.0862214880844393]], "resp": [["str", 0.19204461037670895], ["OrderedDict[str, Any]", 0.10937248400576585], ["flambe.cluster.utils.RemoteCommand", 0.10256282271012696], ["Iterator[str]", 0.09526923143902305]], "sanitized_pod": []}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[312, 4], [322, 22]], "fn_var_ln": {"resource_version": [[313, 8], [313, 24]], "watcher": [[314, 8], [314, 15]]}, "fn_var_occur": {"resource_version": [["resource_version", "ResourceVersion", "resource_version", "get", "namespace"], ["watcher", "KubernetesJobWatcher", "watcher_queue", "self", "watcher_queue", "namespace", "namespace", "resource_version", "resource_version", "scheduler_job_id", "self", "scheduler_job_id", "kube_config", "self", "kube_config"]], "watcher": [["watcher", "KubernetesJobWatcher", "watcher_queue", "self", "watcher_queue", "namespace", "namespace", "resource_version", "resource_version", "scheduler_job_id", "self", "scheduler_job_id", "kube_config", "self", "kube_config"], ["watcher", "start"]]}, "name": "_make_kube_watcher", "params": {"namespace": "", "self": ""}, "params_descr": {"namespace": "", "self": ""}, "params_occur": {"namespace": [["resource_version", "ResourceVersion", "resource_version", "get", "namespace"], ["watcher", "KubernetesJobWatcher", "watcher_queue", "self", "watcher_queue", "namespace", "namespace", "resource_version", "resource_version", "scheduler_job_id", "self", "scheduler_job_id", "kube_config", "self", "kube_config"]], "self": [["watcher", "KubernetesJobWatcher", "watcher_queue", "self", "watcher_queue", "namespace", "namespace", "resource_version", "resource_version", "scheduler_job_id", "self", "scheduler_job_id", "kube_config", "self", "kube_config"]]}, "params_p": {"args": [], "kwargs": [], "namespace": [["dict", 0.21015560764007007], ["werkzeug.exceptions.HTTPException", 0.10817783059432887], ["Dict[str, str]", 0.09897142869302981], ["purplship.providers.fedex.utils.Settings", 0.09247112208392803]], "self": []}, "q_name": "AirflowKubernetesScheduler._make_kube_watcher", "ret_exprs": ["return watcher"], "ret_type": "KubernetesJobWatcher", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "variables": {"resource_version": "", "watcher": ""}, "variables_p": {"resource_version": [["str", 0.11777450633665143], ["Optional[List[str]]", 0.09683177133825763], ["int", 0.09083380525674191], ["dict", 0.08988716149599389], ["bool", 0.0893294146919536]], "watcher": [["str", 0.10117375508064806]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[324, 4], [337, 23]], "fn_var_ln": {"namespaces_to_watch": [[333, 12], [333, 31]], "watchers": [[325, 8], [325, 16]]}, "fn_var_occur": {"namespaces_to_watch": [["namespaces_to_watch", "self", "kube_config", "multi_namespace_mode_namespace_list", "self", "kube_config", "multi_namespace_mode_namespace_list", "ALL_NAMESPACES"], ["namespaces_to_watch", "self", "kube_config", "kube_namespace"]], "watchers": [["watchers", "namespace", "self", "_make_kube_watcher", "namespace"]]}, "name": "_make_kube_watchers", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "kube_config", "multi_namespace_mode"], ["namespaces_to_watch", "self", "kube_config", "multi_namespace_mode_namespace_list", "self", "kube_config", "multi_namespace_mode_namespace_list", "ALL_NAMESPACES"], ["namespaces_to_watch", "self", "kube_config", "kube_namespace"], ["watchers", "namespace", "self", "_make_kube_watcher", "namespace"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "AirflowKubernetesScheduler._make_kube_watchers", "ret_exprs": ["return watchers"], "ret_type": "builtins.dict[builtins.str, KubernetesJobWatcher]", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["models.Question", 0.1], ["str", 0.1]], "variables": {"namespaces_to_watch": "", "watchers": ""}, "variables_p": {"namespaces_to_watch": [["Dict[str, Any]", 0.39741433055081804], ["Dict[str, int]", 0.10283908301206736], ["Dict[str, List[Any]]", 0.10226172868227067], ["int", 0.10051222617848687], ["list", 0.09675848197130958], ["dict", 0.09675848197130958]], "watchers": [["List[str]", 0.20496274114962637], ["int", 0.20153621085536016], ["Dict[str,str]", 0.10773364441652017], ["str", 0.10248137057481319], ["List[Tuple[str, str]]", 0.09593630707784426], ["Tuple[str, str, str, str, str, str, str, str, str, str]", 0.0928183709814188], ["Dict[str, List[Any]]", 0.09204998436960397]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[339, 4], [352, 82]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "_health_check_kube_watchers", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "kube_watchers", "items"], ["self", "log", "debug", "namespace"], ["self", "log", "error", "namespace"], ["self", "kube_watchers", "namespace", "self", "_make_kube_watcher", "namespace"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "AirflowKubernetesScheduler._health_check_kube_watchers", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Receives the next job to run, builds the pod, and creates it.", "long_descr": null, "ret": null}, "fn_lc": [[354, 4], [399, 49]], "fn_var_ln": {"base_worker_pod": [[363, 8], [363, 23]], "command": [[356, 13], [356, 20]], "dag_id": [[358, 8], [358, 14]], "key": [[356, 8], [356, 11]], "kube_executor_config": [[356, 22], [356, 42]], "map_index": [[358, 45], [358, 54]], "pod": [[370, 8], [370, 11]], "pod_template_file": [[356, 44], [356, 61]], "run_id": [[358, 25], [358, 31]], "task_id": [[358, 16], [358, 23]], "try_number": [[358, 33], [358, 43]]}, "fn_var_occur": {"base_worker_pod": [["base_worker_pod", "get_base_pod_from_template", "pod_template_file", "self", "kube_config"], ["pod", "PodGenerator", "construct_pod", "namespace", "self", "namespace", "scheduler_job_id", "self", "scheduler_job_id", "pod_id", "create_pod_id", "dag_id", "task_id", "dag_id", "dag_id", "task_id", "task_id", "kube_image", "self", "kube_config", "kube_image", "try_number", "try_number", "map_index", "map_index", "date", "None", "run_id", "run_id", "args", "command", "pod_override_object", "kube_executor_config", "base_worker_pod", "base_worker_pod", "with_mutation_hook", "True"]], "command": [["key", "command", "kube_executor_config", "pod_template_file", "next_job"], ["pod", "PodGenerator", "construct_pod", "namespace", "self", "namespace", "scheduler_job_id", "self", "scheduler_job_id", "pod_id", "create_pod_id", "dag_id", "task_id", "dag_id", "dag_id", "task_id", "task_id", "kube_image", "self", "kube_config", "kube_image", "try_number", "try_number", "map_index", "map_index", "date", "None", "run_id", "run_id", "args", "command", "pod_override_object", "kube_executor_config", "base_worker_pod", "base_worker_pod", "with_mutation_hook", "True"], ["self", "log", "debug", "command"]], "dag_id": [["dag_id", "task_id", "run_id", "try_number", "map_index", "key"], ["pod", "PodGenerator", "construct_pod", "namespace", "self", "namespace", "scheduler_job_id", "self", "scheduler_job_id", "pod_id", "create_pod_id", "dag_id", "task_id", "dag_id", "dag_id", "task_id", "task_id", "kube_image", "self", "kube_config", "kube_image", "try_number", "try_number", "map_index", "map_index", "date", "None", "run_id", "run_id", "args", "command", "pod_override_object", "kube_executor_config", "base_worker_pod", "base_worker_pod", "with_mutation_hook", "True"]], "key": [["key", "command", "kube_executor_config", "pod_template_file", "next_job"], ["dag_id", "task_id", "run_id", "try_number", "map_index", "key"], ["self", "log", "info", "key", "pod", "metadata", "name", "annotations_for_logging_task_metadata", "pod", "metadata", "annotations"]], "kube_executor_config": [["key", "command", "kube_executor_config", "pod_template_file", "next_job"], ["pod", "PodGenerator", "construct_pod", "namespace", "self", "namespace", "scheduler_job_id", "self", "scheduler_job_id", "pod_id", "create_pod_id", "dag_id", "task_id", "dag_id", "dag_id", "task_id", "task_id", "kube_image", "self", "kube_config", "kube_image", "try_number", "try_number", "map_index", "map_index", "date", "None", "run_id", "run_id", "args", "command", "pod_override_object", "kube_executor_config", "base_worker_pod", "base_worker_pod", "with_mutation_hook", "True"]], "map_index": [["dag_id", "task_id", "run_id", "try_number", "map_index", "key"], ["pod", "PodGenerator", "construct_pod", "namespace", "self", "namespace", "scheduler_job_id", "self", "scheduler_job_id", "pod_id", "create_pod_id", "dag_id", "task_id", "dag_id", "dag_id", "task_id", "task_id", "kube_image", "self", "kube_config", "kube_image", "try_number", "try_number", "map_index", "map_index", "date", "None", "run_id", "run_id", "args", "command", "pod_override_object", "kube_executor_config", "base_worker_pod", "base_worker_pod", "with_mutation_hook", "True"]], "pod": [["pod", "PodGenerator", "construct_pod", "namespace", "self", "namespace", "scheduler_job_id", "self", "scheduler_job_id", "pod_id", "create_pod_id", "dag_id", "task_id", "dag_id", "dag_id", "task_id", "task_id", "kube_image", "self", "kube_config", "kube_image", "try_number", "try_number", "map_index", "map_index", "date", "None", "run_id", "run_id", "args", "command", "pod_override_object", "kube_executor_config", "base_worker_pod", "base_worker_pod", "with_mutation_hook", "True"], ["self", "log", "info", "key", "pod", "metadata", "name", "annotations_for_logging_task_metadata", "pod", "metadata", "annotations"], ["self", "log", "debug", "pod", "spec", "containers", "image"], ["self", "run_pod_async", "pod", "self", "kube_config", "kube_client_request_args"]], "pod_template_file": [["key", "command", "kube_executor_config", "pod_template_file", "next_job"], ["base_worker_pod", "get_base_pod_from_template", "pod_template_file", "self", "kube_config"], ["AirflowException", "self", "kube_config", "pod_template_file"]], "run_id": [["dag_id", "task_id", "run_id", "try_number", "map_index", "key"], ["pod", "PodGenerator", "construct_pod", "namespace", "self", "namespace", "scheduler_job_id", "self", "scheduler_job_id", "pod_id", "create_pod_id", "dag_id", "task_id", "dag_id", "dag_id", "task_id", "task_id", "kube_image", "self", "kube_config", "kube_image", "try_number", "try_number", "map_index", "map_index", "date", "None", "run_id", "run_id", "args", "command", "pod_override_object", "kube_executor_config", "base_worker_pod", "base_worker_pod", "with_mutation_hook", "True"]], "task_id": [["dag_id", "task_id", "run_id", "try_number", "map_index", "key"], ["pod", "PodGenerator", "construct_pod", "namespace", "self", "namespace", "scheduler_job_id", "self", "scheduler_job_id", "pod_id", "create_pod_id", "dag_id", "task_id", "dag_id", "dag_id", "task_id", "task_id", "kube_image", "self", "kube_config", "kube_image", "try_number", "try_number", "map_index", "map_index", "date", "None", "run_id", "run_id", "args", "command", "pod_override_object", "kube_executor_config", "base_worker_pod", "base_worker_pod", "with_mutation_hook", "True"]], "try_number": [["dag_id", "task_id", "run_id", "try_number", "map_index", "key"], ["pod", "PodGenerator", "construct_pod", "namespace", "self", "namespace", "scheduler_job_id", "self", "scheduler_job_id", "pod_id", "create_pod_id", "dag_id", "task_id", "dag_id", "dag_id", "task_id", "task_id", "kube_image", "self", "kube_config", "kube_image", "try_number", "try_number", "map_index", "map_index", "date", "None", "run_id", "run_id", "args", "command", "pod_override_object", "kube_executor_config", "base_worker_pod", "base_worker_pod", "with_mutation_hook", "True"]]}, "name": "run_next", "params": {"next_job": "KubernetesJobType", "self": ""}, "params_descr": {"next_job": "", "self": ""}, "params_occur": {"next_job": [["key", "command", "kube_executor_config", "pod_template_file", "next_job"]], "self": [["base_worker_pod", "get_base_pod_from_template", "pod_template_file", "self", "kube_config"], ["AirflowException", "self", "kube_config", "pod_template_file"], ["pod", "PodGenerator", "construct_pod", "namespace", "self", "namespace", "scheduler_job_id", "self", "scheduler_job_id", "pod_id", "create_pod_id", "dag_id", "task_id", "dag_id", "dag_id", "task_id", "task_id", "kube_image", "self", "kube_config", "kube_image", "try_number", "try_number", "map_index", "map_index", "date", "None", "run_id", "run_id", "args", "command", "pod_override_object", "kube_executor_config", "base_worker_pod", "base_worker_pod", "with_mutation_hook", "True"], ["self", "log", "info", "key", "pod", "metadata", "name", "annotations_for_logging_task_metadata", "pod", "metadata", "annotations"], ["self", "log", "debug", "command"], ["self", "log", "debug", "pod", "spec", "containers", "image"], ["self", "run_pod_async", "pod", "self", "kube_config", "kube_client_request_args"], ["self", "log", "debug"]]}, "params_p": {"args": [], "kwargs": [], "next_job": [["str", 0.38147300407885354], ["bool", 0.1822025254548311], ["Sequence[str]", 0.16014666126011923], ["List[str]", 0.1142768542998968]], "self": []}, "q_name": "AirflowKubernetesScheduler.run_next", "ret_exprs": [], "ret_type": "None", "variables": {"base_worker_pod": "", "command": "", "dag_id": "", "key": "", "kube_executor_config": "", "map_index": "", "pod": "", "pod_template_file": "", "run_id": "", "task_id": "", "try_number": ""}, "variables_p": {"base_worker_pod": [["str", 0.4545847644164661], ["bool", 0.10187538947903217]], "command": [["str", 0.38541580070116155], ["List[str]", 0.21454233622596353], ["dict", 0.1225458817718973]], "dag_id": [["str", 0.4734704173399943], ["int", 0.2601708393376242], ["Dict[str, int]", 0.08820921545544252], ["Optional[str]", 0.08442145006649647]], "key": [["str", 0.5556093231381686], ["int", 0.16814969801033924], ["Set[str]", 0.08206236728079314]], "kube_executor_config": [["dict", 0.6164105523788687], ["Type[Dict[str, Any]]", 0.13573818876968058], ["Dict[str, Dict[str, bool]]", 0.12678899829059598], ["Dict[str, str]", 0.12106226056085476]], "map_index": [["str", 0.33186065908125645]], "pod": [["MutableMapping[str, Union[None, Any, Any, Any, Any, Any, Any]]", 0.10252877781073536]], "pod_template_file": [["str", 0.7100045662489592], ["list", 0.20076351470102616], ["Dict[str, str]", 0.08923191905001464]], "run_id": [["str", 0.6059443435875909], ["int", 0.1320403150721037], ["Dict[str, int]", 0.0893242189025671], ["Optional[str]", 0.08546571296650034]], "task_id": [["str", 0.6972670225426704], ["int", 0.12113875803958692], ["Pattern[str]", 0.09340882150965527]], "try_number": [["str", 0.33186065908125645]]}}, {"docstring": {"func": "Deletes Pod from a namespace. Does not raise if it does not exist.", "long_descr": null, "ret": null}, "fn_lc": [[401, 4], [414, 21]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "delete_pod", "params": {"namespace": "builtins.str", "pod_name": "builtins.str", "self": ""}, "params_descr": {"namespace": "", "pod_name": "", "self": ""}, "params_occur": {"namespace": [["self", "log", "debug", "pod_name", "namespace"], ["self", "kube_client", "delete_namespaced_pod", "pod_name", "namespace", "body", "client", "V1DeleteOptions", "self", "kube_config", "delete_option_kwargs", "self", "kube_config", "kube_client_request_args"]], "pod_name": [["self", "log", "debug", "pod_name", "namespace"], ["self", "kube_client", "delete_namespaced_pod", "pod_name", "namespace", "body", "client", "V1DeleteOptions", "self", "kube_config", "delete_option_kwargs", "self", "kube_config", "kube_client_request_args"]], "self": [["self", "log", "debug", "pod_name", "namespace"], ["self", "kube_client", "delete_namespaced_pod", "pod_name", "namespace", "body", "client", "V1DeleteOptions", "self", "kube_config", "delete_option_kwargs", "self", "kube_config", "kube_client_request_args"]]}, "params_p": {"args": [], "kwargs": [], "namespace": [["str", 0.9045430507103048], ["teams.models.Team", 0.09545694928969521]], "pod_name": [["str", 0.9045430507103048], ["teams.models.Team", 0.09545694928969521]], "self": []}, "q_name": "AirflowKubernetesScheduler.delete_pod", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Add a \"done\" annotation to ensure we don't continually adopt pods.", "long_descr": null, "ret": null}, "fn_lc": [[416, 4], [426, 97]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "patch_pod_executor_done", "params": {"namespace": "builtins.str", "pod_name": "builtins.str", "self": ""}, "params_descr": {"namespace": "", "pod_name": "", "self": ""}, "params_occur": {"namespace": [["self", "log", "debug", "pod_name", "namespace"], ["self", "kube_client", "patch_namespaced_pod", "name", "pod_name", "namespace", "namespace", "body", "POD_EXECUTOR_DONE_KEY"]], "pod_name": [["self", "log", "debug", "pod_name", "namespace"], ["self", "kube_client", "patch_namespaced_pod", "name", "pod_name", "namespace", "namespace", "body", "POD_EXECUTOR_DONE_KEY"], ["self", "log", "info", "pod_name", "e"]], "self": [["self", "log", "debug", "pod_name", "namespace"], ["self", "kube_client", "patch_namespaced_pod", "name", "pod_name", "namespace", "namespace", "body", "POD_EXECUTOR_DONE_KEY"], ["self", "log", "info", "pod_name", "e"]]}, "params_p": {"args": [], "kwargs": [], "namespace": [["str", 0.9999999999999998]], "pod_name": [["str", 1.0000000000000002]], "self": []}, "q_name": "AirflowKubernetesScheduler.patch_pod_executor_done", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Checks the status of all currently running kubernetes jobs.", "long_descr": "If a job is completed, its status is placed in the result queue to be sent back to the scheduler.", "ret": null}, "fn_lc": [[428, 4], [445, 21]], "fn_var_ln": {"task": [[438, 16], [438, 20]]}, "fn_var_occur": {"task": [["task", "self", "watcher_queue", "get_nowait"], ["self", "log", "debug", "task"], ["self", "process_watcher_task", "task"]]}, "name": "sync", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "log", "debug"], ["self", "_health_check_kube_watchers"], ["task", "self", "watcher_queue", "get_nowait"], ["self", "log", "debug", "task"], ["self", "process_watcher_task", "task"], ["self", "watcher_queue", "task_done"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "AirflowKubernetesScheduler.sync", "ret_exprs": [], "ret_type": "None", "variables": {"task": ""}, "variables_p": {"task": [["Dict[str, Dict[str, Any]]", 0.3672621671573933], ["queue.Queue[Any]", 0.2722070767671402], ["Optional[int]", 0.09559548994971356], ["Dict[str, Any]", 0.0931557945454495], ["Dict[str, dict]", 0.08584944720947944]]}}, {"docstring": {"func": "Process the task by watcher.", "long_descr": null, "ret": null}, "fn_lc": [[447, 4], [459, 86]], "fn_var_ln": {"annotations": [[449, 36], [449, 47]], "key": [[456, 8], [456, 11]], "namespace": [[449, 18], [449, 27]], "pod_name": [[449, 8], [449, 16]], "resource_version": [[449, 49], [449, 65]], "state": [[449, 29], [449, 34]]}, "fn_var_occur": {"annotations": [["pod_name", "namespace", "state", "annotations", "resource_version", "task"], ["self", "log", "debug", "pod_name", "state", "annotations_for_logging_task_metadata", "annotations"], ["key", "annotations_to_key", "annotations", "annotations"]], "key": [["key", "annotations_to_key", "annotations", "annotations"], ["self", "log", "debug", "key", "state", "pod_name"], ["self", "result_queue", "put", "key", "state", "pod_name", "namespace", "resource_version"]], "namespace": [["pod_name", "namespace", "state", "annotations", "resource_version", "task"], ["self", "result_queue", "put", "key", "state", "pod_name", "namespace", "resource_version"]], "pod_name": [["pod_name", "namespace", "state", "annotations", "resource_version", "task"], ["self", "log", "debug", "pod_name", "state", "annotations_for_logging_task_metadata", "annotations"], ["self", "log", "debug", "key", "state", "pod_name"], ["self", "result_queue", "put", "key", "state", "pod_name", "namespace", "resource_version"]], "resource_version": [["pod_name", "namespace", "state", "annotations", "resource_version", "task"], ["self", "result_queue", "put", "key", "state", "pod_name", "namespace", "resource_version"]], "state": [["pod_name", "namespace", "state", "annotations", "resource_version", "task"], ["self", "log", "debug", "pod_name", "state", "annotations_for_logging_task_metadata", "annotations"], ["self", "log", "debug", "key", "state", "pod_name"], ["self", "result_queue", "put", "key", "state", "pod_name", "namespace", "resource_version"]]}, "name": "process_watcher_task", "params": {"self": "", "task": "KubernetesWatchType"}, "params_descr": {"self": "", "task": ""}, "params_occur": {"self": [["self", "log", "debug", "pod_name", "state", "annotations_for_logging_task_metadata", "annotations"], ["self", "log", "debug", "key", "state", "pod_name"], ["self", "result_queue", "put", "key", "state", "pod_name", "namespace", "resource_version"]], "task": [["pod_name", "namespace", "state", "annotations", "resource_version", "task"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "task": [["Dict[str, Any]", 0.41314416057588443], ["dict", 0.19390267553505908], ["Awaitable", 0.11461394627388977]]}, "q_name": "AirflowKubernetesScheduler.process_watcher_task", "ret_exprs": [], "ret_type": "None", "variables": {"annotations": "", "key": "", "namespace": "", "pod_name": "", "resource_version": "", "state": ""}, "variables_p": {"annotations": [["str", 0.28951185489209186], ["int", 0.20964884684040525], ["List[int]", 0.10013149405155881], ["dict", 0.09284340436788822], ["Dict[int, str]", 0.0894617811021114]], "key": [["str", 0.21095611709261172]], "namespace": [["float", 0.4791505826035535], ["str", 0.32760293511910943], ["Tuple[str, str]", 0.193246482277337]], "pod_name": [["str", 1.0]], "resource_version": [["str", 0.8155660374003233]], "state": [["str", 1.0]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[461, 4], [470, 21]], "fn_var_ln": {"task": [[465, 16], [465, 20]]}, "fn_var_occur": {"task": [["task", "self", "watcher_queue", "get_nowait"], ["self", "log", "warning", "task"]]}, "name": "_flush_watcher_queue", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "log", "debug", "self", "watcher_queue", "qsize"], ["task", "self", "watcher_queue", "get_nowait"], ["self", "log", "warning", "task"], ["self", "watcher_queue", "task_done"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "AirflowKubernetesScheduler._flush_watcher_queue", "ret_exprs": [], "ret_type": "None", "variables": {"task": ""}, "variables_p": {"task": [["str", 0.3854656239414776], ["int", 0.20606578976309523], ["Dict[str, str]", 0.11523374758596545], ["Tuple[int]", 0.1003162359200278]]}}, {"docstring": {"func": "Terminates the watcher.", "long_descr": null, "ret": null}, "fn_lc": [[472, 4], [484, 32]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "terminate", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "log", "debug"], ["self", "kube_watchers", "items"], ["self", "log", "debug", "kube_watcher"], ["self", "log", "debug"], ["self", "_flush_watcher_queue"], ["self", "watcher_queue", "join"], ["self", "log", "debug"], ["self", "_manager", "shutdown"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "AirflowKubernetesScheduler.terminate", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}], "name": "AirflowKubernetesScheduler", "q_name": "AirflowKubernetesScheduler", "variables": {}, "variables_p": {}}, {"cls_lc": [[504, 0], [1043, 59]], "cls_var_ln": {"supports_ad_hoc_ti_run": [[507, 4], [507, 26]]}, "cls_var_occur": {"supports_ad_hoc_ti_run": []}, "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[509, 4], [520, 66]], "fn_var_ln": {"_manager": [[511, 8], [511, 21]], "event_scheduler": [[517, 8], [517, 28]], "kube_client": [[515, 8], [515, 24]], "kube_config": [[510, 8], [510, 24]], "kube_scheduler": [[514, 8], [514, 27]], "kubernetes_queue": [[519, 8], [519, 29]], "last_handled": [[518, 8], [518, 25]], "result_queue": [[513, 8], [513, 25]], "scheduler_job_id": [[516, 8], [516, 29]], "task_queue": [[512, 8], [512, 23]]}, "fn_var_occur": {"_manager": [["self", "_manager", "multiprocessing", "Manager"], ["self", "task_queue", "queue", "Queue", "KubernetesJobType", "self", "_manager", "Queue"], ["self", "result_queue", "queue", "Queue", "KubernetesResultsType", "self", "_manager", "Queue"]], "event_scheduler": [["self", "event_scheduler", "EventScheduler", "None", "None"]], "kube_client": [["self", "kube_client", "client", "CoreV1Api", "None", "None"]], "kube_config": [["self", "kube_config", "KubeConfig"], ["super", "__init__", "parallelism", "self", "kube_config", "parallelism"]], "kube_scheduler": [["self", "kube_scheduler", "AirflowKubernetesScheduler", "None", "None"]], "kubernetes_queue": [["self", "kubernetes_queue", "str", "None", "None"]], "last_handled": [["self", "last_handled", "builtins", "dict", "airflow", "models", "taskinstancekey", "TaskInstanceKey", "builtins", "float"]], "result_queue": [["self", "result_queue", "queue", "Queue", "KubernetesResultsType", "self", "_manager", "Queue"]], "scheduler_job_id": [["self", "scheduler_job_id", "str", "None", "None"]], "task_queue": [["self", "task_queue", "queue", "Queue", "KubernetesJobType", "self", "_manager", "Queue"]]}, "name": "__init__", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "kube_config", "KubeConfig"], ["self", "_manager", "multiprocessing", "Manager"], ["self", "task_queue", "queue", "Queue", "KubernetesJobType", "self", "_manager", "Queue"], ["self", "result_queue", "queue", "Queue", "KubernetesResultsType", "self", "_manager", "Queue"], ["self", "kube_scheduler", "AirflowKubernetesScheduler", "None", "None"], ["self", "kube_client", "client", "CoreV1Api", "None", "None"], ["self", "scheduler_job_id", "str", "None", "None"], ["self", "event_scheduler", "EventScheduler", "None", "None"], ["self", "last_handled", "builtins", "dict", "airflow", "models", "taskinstancekey", "TaskInstanceKey", "builtins", "float"], ["self", "kubernetes_queue", "str", "None", "None"], ["super", "__init__", "parallelism", "self", "kube_config", "parallelism"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "KubernetesExecutor.__init__", "ret_exprs": [], "ret_type": "", "variables": {"_manager": "", "event_scheduler": "EventScheduler | None", "kube_client": "client.CoreV1Api | None", "kube_config": "", "kube_scheduler": "AirflowKubernetesScheduler | None", "kubernetes_queue": "str | None", "last_handled": "builtins.dict[airflow.models.taskinstancekey.TaskInstanceKey, builtins.float]", "result_queue": "queue.Queue[KubernetesResultsType]", "scheduler_job_id": "str | None", "task_queue": "queue.Queue[KubernetesJobType]"}, "variables_p": {"_manager": [["str", 0.9999999999999999]], "event_scheduler": [["List[bool]", 0.6202566834228123], ["str", 0.1850868009205769], ["Dict[str, str]", 0.10667897610709919]], "kube_client": [], "kube_config": [["dict", 1.0]], "kube_scheduler": [["float", 0.32468310728296235], ["dict", 0.10567190136862112], ["list", 0.08727737757891342], ["Type[object]", 0.08413652029267288], ["faustypes.models.ModelT", 0.07722283478642537], ["int", 0.07332871206652719]], "kubernetes_queue": [["Optional[str]", 0.39113947896869383], ["str", 0.2623094825208191], ["bool", 0.1919849896214853], ["int", 0.15456604888900158]], "last_handled": [["dict", 0.9026785473938764], ["str", 0.09732145260612356]], "result_queue": [["dict", 0.6444450993377708], ["OrderedDict[str, Any]", 0.14081462015257357], ["Dict[str, str]", 0.11134092555679087]], "scheduler_job_id": [["Optional[int]", 0.6939838560378844], ["Optional[str]", 0.14420524950168068]], "task_queue": [["dict", 0.2232592567716941], ["Dict[str, Union[Any, Any, Any, Any]]", 0.11361495130979071], ["Dict[str, Any]", 0.10599855522500268], ["List[bool]", 0.10583655287098824], ["Dict[str, str]", 0.09296331639525741], ["bytes", 0.09021002602237735], ["Dict[Any, Dict[str, Any]]", 0.08953221747986154], ["Dict[str, Dict[str, Any]]", 0.08681840661480436]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[522, 4], [537, 19]], "fn_var_ln": {"pods": [[533, 12], [533, 16]]}, "fn_var_occur": {"pods": [["pods", "extend", "self", "kube_client", "list_namespaced_pod", "namespace", "namespace", "query_kwargs", "items"], ["pods", "self", "kube_client", "list_pod_for_all_namespaces", "query_kwargs", "items"], ["pods", "self", "kube_client", "list_namespaced_pod", "namespace", "self", "kube_config", "kube_namespace", "query_kwargs", "items"]]}, "name": "_list_pods", "params": {"query_kwargs": "", "self": ""}, "params_descr": {"query_kwargs": "", "self": ""}, "params_occur": {"query_kwargs": [["pods", "extend", "self", "kube_client", "list_namespaced_pod", "namespace", "namespace", "query_kwargs", "items"], ["pods", "self", "kube_client", "list_pod_for_all_namespaces", "query_kwargs", "items"], ["pods", "self", "kube_client", "list_namespaced_pod", "namespace", "self", "kube_config", "kube_namespace", "query_kwargs", "items"]], "self": [["self", "kube_config", "multi_namespace_mode"], ["self", "kube_config", "multi_namespace_mode_namespace_list"], ["self", "kube_config", "multi_namespace_mode_namespace_list"], ["pods", "extend", "self", "kube_client", "list_namespaced_pod", "namespace", "namespace", "query_kwargs", "items"], ["pods", "self", "kube_client", "list_pod_for_all_namespaces", "query_kwargs", "items"], ["pods", "self", "kube_client", "list_namespaced_pod", "namespace", "self", "kube_config", "kube_namespace", "query_kwargs", "items"]]}, "params_p": {"args": [], "kwargs": [], "query_kwargs": [["str", 0.9144825443733934]], "self": []}, "q_name": "KubernetesExecutor._list_pods", "ret_exprs": ["return pods"], "ret_type": "", "ret_type_p": [["str", 0.500000000050922], ["bool", 4.9397487060722045e-11]], "variables": {"pods": ""}, "variables_p": {"pods": [["str", 0.09473913153320197]]}}, {"docstring": {"func": "Clear tasks that were not yet launched, but were previously queued.", "long_descr": "Tasks can end up in a \"Queued\" state when a rescheduled/deferred operator\ncomes back up for execution (with the same try_number) before the\npod of its previous incarnation has been fully removed (we think).\n\nIt's also possible when an executor abruptly shuts down (leaving a non-empty\ntask_queue on that executor), but that scenario is handled via normal adoption.\n\nThis method checks each of our queued tasks to see if the corresponding pod\nis around, and if not, and there's no matching entry in our own\ntask_queue, marks it for re-execution.", "ret": null}, "fn_lc": [[540, 4], [613, 71]], "fn_var_ln": {"allowed_age": [[569, 8], [569, 19]], "base_label_selector": [[582, 12], [582, 31]], "kwargs": [[590, 12], [590, 18]], "pod_list": [[604, 12], [604, 20]], "query": [[564, 12], [564, 17]], "queued_tis": [[565, 8], [565, 18]]}, "fn_var_occur": {"allowed_age": [["allowed_age", "self", "kube_config", "worker_pods_queued_check_interval"], ["time", "time", "timestamp", "allowed_age"]], "base_label_selector": [["base_label_selector", "pod_generator", "make_safe_label_value", "ti", "dag_id", "pod_generator", "make_safe_label_value", "ti", "task_id", "pod_generator", "make_safe_label_value", "str", "ti", "queued_by_job_id"], ["base_label_selector", "ti", "map_index"], ["kwargs", "dict", "label_selector", "base_label_selector"], ["kwargs", "base_label_selector", "pod_generator", "datetime_to_label_safe_datestring", "ti", "execution_date"]], "kwargs": [["kwargs", "dict", "label_selector", "base_label_selector"], ["kwargs", "update", "self", "kube_config", "kube_client_request_args"], ["kwargs", "pod_generator", "make_safe_label_value", "ti", "run_id"], ["pod_list", "self", "_list_pods", "kwargs"], ["kwargs", "base_label_selector", "pod_generator", "datetime_to_label_safe_datestring", "ti", "execution_date"], ["pod_list", "self", "_list_pods", "kwargs"]], "pod_list": [["pod_list", "self", "_list_pods", "kwargs"], ["pod_list", "self", "_list_pods", "kwargs"]], "query": [["query", "session", "query", "TaskInstance", "filter", "TaskInstance", "state", "TaskInstanceState", "QUEUED", "TaskInstance", "queued_by_job_id", "self", "job_id"], ["query", "query", "filter", "TaskInstance", "queue", "self", "kubernetes_queue"], ["queued_tis", "builtins", "list", "airflow", "models", "taskinstance", "TaskInstance", "query", "all"], ["session", "query", "TaskInstance", "filter", "TaskInstance", "dag_id", "ti", "dag_id", "TaskInstance", "task_id", "ti", "task_id", "TaskInstance", "run_id", "ti", "run_id", "TaskInstance", "map_index", "ti", "map_index", "update", "TaskInstance", "state", "TaskInstanceState", "SCHEDULED"]], "queued_tis": [["queued_tis", "builtins", "list", "airflow", "models", "taskinstance", "TaskInstance", "query", "all"], ["self", "log", "info", "len", "queued_tis"]]}, "name": "clear_not_launched_queued_tasks", "params": {"self": "", "session": "sqlalchemy.orm.Session"}, "params_descr": {"self": "", "session": ""}, "params_occur": {"self": [["self", "kube_client"], ["self", "log", "debug"], ["query", "session", "query", "TaskInstance", "filter", "TaskInstance", "state", "TaskInstanceState", "QUEUED", "TaskInstance", "queued_by_job_id", "self", "job_id"], ["self", "kubernetes_queue"], ["query", "query", "filter", "TaskInstance", "queue", "self", "kubernetes_queue"], ["self", "log", "info", "len", "queued_tis"], ["allowed_age", "self", "kube_config", "worker_pods_queued_check_interval"], ["list", "self", "last_handled", "items"], ["self", "last_handled", "key"], ["self", "log", "debug", "ti"], ["ti", "key", "self", "last_handled"], ["self", "kube_config", "kube_client_request_args"], ["kwargs", "update", "self", "kube_config", "kube_client_request_args"], ["pod_list", "self", "_list_pods", "kwargs"], ["pod_list", "self", "_list_pods", "kwargs"], ["self", "log", "info", "ti"]], "session": [["query", "session", "query", "TaskInstance", "filter", "TaskInstance", "state", "TaskInstanceState", "QUEUED", "TaskInstance", "queued_by_job_id", "self", "job_id"], ["session", "query", "TaskInstance", "filter", "TaskInstance", "dag_id", "ti", "dag_id", "TaskInstance", "task_id", "ti", "task_id", "TaskInstance", "run_id", "ti", "run_id", "TaskInstance", "map_index", "ti", "map_index", "update", "TaskInstance", "state", "TaskInstanceState", "SCHEDULED"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "session": [["sqlalchemy.orm.Session", 0.268752996222745], ["sqlalchemy.orm.session.Session", 0.1825703088925809], ["grouper.models.base.session.Session", 0.14069443707820675], ["grouper.models.group.Group", 0.14069443707820675], ["tildes.models.commenComment", 0.09296025777898573], ["Optional[str]", 0.09095875788641113]]}, "q_name": "KubernetesExecutor.clear_not_launched_queued_tasks", "ret_exprs": [], "ret_type": "None", "variables": {"allowed_age": "", "base_label_selector": "", "kwargs": "", "pod_list": "", "query": "", "queued_tis": "builtins.list[airflow.models.taskinstance.TaskInstance]"}, "variables_p": {"allowed_age": [["Tuple[str, str]", 0.9031732837009229]], "base_label_selector": [["Tuple[Literal, Literal]", 0.21467172266273665], ["str", 0.20068670223436808], ["List[int]", 0.10151185045479805], ["List[Tuple[str, bool, Any]]", 0.0950382168700109], ["list", 0.08994856147980711], ["Tuple[float, float]", 0.08994856147980711], ["Type[Dict[str, int]]", 0.08620961250780419]], "kwargs": [["dict", 1.0]], "pod_list": [["List[List[int]]", 0.2366420753740734], ["int", 0.1848318943154591], ["Generator[str, None, None]", 0.10231846358659769], ["Iterator[int]", 0.09049394248143523], ["str", 0.08920572527441752], ["list", 0.08856352507148457]], "query": [["str", 0.21182213729147237], ["int", 0.19972297880700934], ["queue.Queue", 0.09614665067190802], ["list", 0.08928408726724896]], "queued_tis": [["list", 1.0000000000000002]]}}, {"docstring": {"func": "Starts the executor.", "long_descr": null, "ret": null}, "fn_lc": [[615, 4], [635, 46]], "fn_var_ln": {"event_scheduler": [[627, 8], [627, 28]], "kube_client": [[620, 8], [620, 24]], "kube_scheduler": [[621, 8], [621, 27]], "scheduler_job_id": [[618, 8], [618, 29]]}, "fn_var_occur": {"event_scheduler": [["self", "event_scheduler", "EventScheduler"], ["self", "event_scheduler", "call_regular_interval", "self", "kube_config", "worker_pods_queued_check_interval", "self", "clear_not_launched_queued_tasks"]], "kube_client": [["self", "kube_client", "get_kube_client"], ["self", "kube_scheduler", "AirflowKubernetesScheduler", "kube_config", "self", "kube_config", "result_queue", "self", "result_queue", "kube_client", "self", "kube_client", "scheduler_job_id", "self", "scheduler_job_id"]], "kube_scheduler": [["self", "kube_scheduler", "AirflowKubernetesScheduler", "kube_config", "self", "kube_config", "result_queue", "self", "result_queue", "kube_client", "self", "kube_client", "scheduler_job_id", "self", "scheduler_job_id"]], "scheduler_job_id": [["self", "scheduler_job_id", "str", "self", "job_id"], ["self", "log", "debug", "self", "scheduler_job_id"], ["self", "kube_scheduler", "AirflowKubernetesScheduler", "kube_config", "self", "kube_config", "result_queue", "self", "result_queue", "kube_client", "self", "kube_client", "scheduler_job_id", "self", "scheduler_job_id"]]}, "name": "start", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "log", "info"], ["self", "scheduler_job_id", "str", "self", "job_id"], ["self", "log", "debug", "self", "scheduler_job_id"], ["self", "kube_client", "get_kube_client"], ["self", "kube_scheduler", "AirflowKubernetesScheduler", "kube_config", "self", "kube_config", "result_queue", "self", "result_queue", "kube_client", "self", "kube_client", "scheduler_job_id", "self", "scheduler_job_id"], ["self", "event_scheduler", "EventScheduler"], ["self", "event_scheduler", "call_regular_interval", "self", "kube_config", "worker_pods_queued_check_interval", "self", "clear_not_launched_queued_tasks"], ["self", "clear_not_launched_queued_tasks"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "KubernetesExecutor.start", "ret_exprs": [], "ret_type": "None", "variables": {"event_scheduler": "", "kube_client": "", "kube_scheduler": "", "scheduler_job_id": ""}, "variables_p": {"event_scheduler": [["int", 0.5018249578331729], ["str", 0.30171511267118795]], "kube_client": [["int", 0.5179613320874095], ["str", 0.2070864345155486]], "kube_scheduler": [], "scheduler_job_id": [["str", 0.7190280657376057], ["int", 0.19095394596601434], ["List[str]", 0.09001798829638011]]}}, {"docstring": {"func": "Executes task asynchronously.", "long_descr": null, "ret": null}, "fn_lc": [[637, 4], [668, 44]], "fn_var_ln": {"kube_executor_config": [[654, 12], [654, 32]], "pod_template_file": [[663, 12], [663, 29]]}, "fn_var_occur": {"kube_executor_config": [["kube_executor_config", "PodGenerator", "from_obj", "executor_config"], ["self", "task_queue", "put", "key", "command", "kube_executor_config", "pod_template_file"]], "pod_template_file": [["pod_template_file", "executor_config", "get", "None"], ["pod_template_file", "None"], ["self", "task_queue", "put", "key", "command", "kube_executor_config", "pod_template_file"]]}, "name": "execute_async", "params": {"command": "airflow.executors.base_executor.CommandType", "executor_config": "Any | None", "key": "airflow.models.taskinstancekey.TaskInstanceKey", "queue": "str | None", "self": ""}, "params_descr": {"command": "", "executor_config": "", "key": "", "queue": "", "self": ""}, "params_occur": {"command": [["self", "log", "debug", "key", "command", "executor_config"], ["self", "log", "info", "key", "command"], ["self", "task_queue", "put", "key", "command", "kube_executor_config", "pod_template_file"]], "executor_config": [["self", "log", "debug", "key", "command", "executor_config"], ["kube_executor_config", "PodGenerator", "from_obj", "executor_config"], ["self", "log", "error", "key", "executor_config"], ["pod_template_file", "executor_config", "get", "None"]], "key": [["self", "log", "debug", "key", "command", "executor_config"], ["self", "log", "info", "key", "command"], ["self", "log", "error", "key", "executor_config"], ["self", "fail", "key", "key", "info"], ["self", "event_buffer", "key", "TaskInstanceState", "QUEUED", "self", "scheduler_job_id"], ["self", "task_queue", "put", "key", "command", "kube_executor_config", "pod_template_file"], ["self", "last_handled", "key", "time", "time"]], "queue": [], "self": [["self", "task_queue"], ["self", "log", "isEnabledFor", "logging", "DEBUG"], ["self", "log", "debug", "key", "command", "executor_config"], ["self", "log", "info", "key", "command"], ["self", "log", "error", "key", "executor_config"], ["self", "fail", "key", "key", "info"], ["self", "event_buffer", "key", "TaskInstanceState", "QUEUED", "self", "scheduler_job_id"], ["self", "task_queue", "put", "key", "command", "kube_executor_config", "pod_template_file"], ["self", "last_handled", "key", "time", "time"]]}, "params_p": {"args": [], "command": [["str", 0.4958798829841145], ["logging.Logger", 0.10140059016117313], ["bool", 0.08823513402962976]], "executor_config": [["int", 0.6046787326093443], ["str", 0.189573156227704], ["bytes", 0.10031158583392079]], "key": [["str", 0.3998434085308455], ["logging.Logger", 0.2305342999211239], ["T", 0.1007173657138808], ["bool", 0.09128489319810272]], "kwargs": [], "queue": [["float", 0.26495807522352777], ["Union[None, str, Iterable[str]]", 0.22387821500643992], ["int", 0.19973923256189424], ["bool", 0.0955491386357271], ["List[Dict]", 0.08878654484414722]], "self": []}, "q_name": "KubernetesExecutor.execute_async", "ret_exprs": ["return"], "ret_type": "None", "ret_type_p": [["Union[tuple, list]", 0.12326783261663934], ["List[int]", 0.09124591253820835], ["Dict[str, Any]", 0.08769568774684897], ["str", 0.08682447752895113]], "variables": {"kube_executor_config": "", "pod_template_file": ""}, "variables_p": {"kube_executor_config": [], "pod_template_file": [["List[str]", 0.21196985517354144], ["Dict[str, Any]", 0.10685561472355162], ["str", 0.10685561472355162]]}}, {"docstring": {"func": "Synchronize task state.", "long_descr": null, "ret": null}, "fn_lc": [[670, 4], [756, 63]], "fn_var_ln": {"_": [[742, 31], [742, 32]], "key": [[742, 20], [742, 23]], "last_resource_version": [[686, 8], [686, 29]], "namespace": [[691, 42], [691, 51]], "next_event": [[755, 8], [755, 18]], "pod_name": [[691, 32], [691, 40]], "resource_instance": [[709, 8], [709, 25]], "resource_version": [[691, 53], [691, 69]], "results": [[689, 16], [689, 23]], "state": [[691, 25], [691, 30]], "task": [[717, 16], [717, 20]]}, "fn_var_occur": {"_": [["key", "_", "_", "_", "task"], ["key", "_", "_", "_", "task"]], "key": [["key", "state", "pod_name", "namespace", "resource_version", "results"], ["self", "_change_state", "key", "state", "pod_name", "namespace"], ["key", "_", "_", "_", "task"], ["self", "change_state", "key", "TaskInstanceState", "FAILED", "e"], ["key", "_", "_", "_", "task"], ["self", "log", "error", "key", "e", "__cause__"], ["self", "fail", "key", "e"]], "last_resource_version": [["last_resource_version", "builtins", "dict", "builtins", "str", "builtins", "str", "defaultdict"], ["last_resource_version", "namespace", "resource_version"], ["resource_instance", "resource_version", "ns", "last_resource_version", "ns", "resource_instance", "resource_version", "ns"]], "namespace": [["key", "state", "pod_name", "namespace", "resource_version", "results"], ["last_resource_version", "namespace", "resource_version"], ["self", "_change_state", "key", "state", "pod_name", "namespace"]], "next_event": [["next_event", "self", "event_scheduler", "run", "blocking", "False"], ["self", "log", "debug", "next_event"]], "pod_name": [["key", "state", "pod_name", "namespace", "resource_version", "results"], ["self", "_change_state", "key", "state", "pod_name", "namespace"]], "resource_instance": [["resource_instance", "ResourceVersion"], ["resource_instance", "resource_version", "keys"], ["resource_instance", "resource_version", "ns", "last_resource_version", "ns", "resource_instance", "resource_version", "ns"]], "resource_version": [["key", "state", "pod_name", "namespace", "resource_version", "results"], ["last_resource_version", "namespace", "resource_version"], ["resource_instance", "resource_version", "keys"], ["resource_instance", "resource_version", "ns", "last_resource_version", "ns", "resource_instance", "resource_version", "ns"]], "results": [["results", "self", "result_queue", "get_nowait"], ["key", "state", "pod_name", "namespace", "resource_version", "results"], ["self", "log", "info", "results", "state"], ["self", "log", "exception", "e", "results", "state"], ["self", "result_queue", "put", "results"]], "state": [["key", "state", "pod_name", "namespace", "resource_version", "results"], ["self", "log", "info", "results", "state"], ["self", "_change_state", "key", "state", "pod_name", "namespace"], ["self", "log", "exception", "e", "results", "state"]], "task": [["task", "self", "task_queue", "get_nowait"], ["self", "kube_scheduler", "run_next", "task"], ["self", "fail", "task", "e"], ["key", "_", "_", "_", "task"], ["self", "task_queue", "put", "task"], ["key", "_", "_", "_", "task"]]}, "name": "sync", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "scheduler_job_id"], ["self", "kube_scheduler"], ["self", "kube_config"], ["self", "result_queue"], ["self", "task_queue"], ["self", "event_scheduler"], ["self", "running"], ["self", "log", "debug", "self", "running"], ["self", "queued_tasks"], ["self", "log", "debug", "self", "queued_tasks"], ["self", "kube_scheduler", "sync"], ["results", "self", "result_queue", "get_nowait"], ["self", "log", "info", "results", "state"], ["self", "_change_state", "key", "state", "pod_name", "namespace"], ["self", "log", "exception", "e", "results", "state"], ["self", "result_queue", "put", "results"], ["self", "result_queue", "task_done"], ["range", "self", "kube_config", "worker_pods_creation_batch_size"], ["task", "self", "task_queue", "get_nowait"], ["self", "kube_scheduler", "run_next", "task"], ["self", "log", "error", "exc_info", "True"], ["self", "fail", "task", "e"], ["self", "log", "error", "e", "reason"], ["self", "change_state", "key", "TaskInstanceState", "FAILED", "e"], ["self", "log", "warning", "e", "reason", "json", "loads", "e", "body"], ["self", "task_queue", "put", "task"], ["self", "log", "error", "key", "e", "__cause__"], ["self", "fail", "key", "e"], ["self", "task_queue", "task_done"], ["next_event", "self", "event_scheduler", "run", "blocking", "False"], ["self", "log", "debug", "next_event"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "KubernetesExecutor.sync", "ret_exprs": [], "ret_type": "None", "variables": {"_": "", "key": "", "last_resource_version": "builtins.dict[builtins.str, builtins.str]", "namespace": "", "next_event": "", "pod_name": "", "resource_instance": "", "resource_version": "", "results": "", "state": "", "task": ""}, "variables_p": {"_": [["Dict[str, int]", 0.20667274539945008], ["str", 0.1857049517750567], ["dict", 0.10112897584478875], ["Dict[str, Dict[Any, Any]]", 0.0967704563066116], ["int", 0.09329505986743178], ["Dict[Any, tuple]", 0.09310485584024415]], "key": [["str", 0.878684575919959]], "last_resource_version": [["Dict[str, str]", 0.2975203812028176], ["str", 0.1784990079117451], ["Tuple[Union[Any, Any]]", 0.13392760669466136], ["Pattern[str]", 0.11170820536737137], ["List[str]", 0.10068852143473751], ["Type[Dict[str, str]]", 0.09472111875856133]], "namespace": [["Dict[str, Any]", 0.08662125566695052]], "next_event": [["list", 0.20730950564040274], ["bool", 0.10818877352253414], ["str", 0.097052664241167], ["Dict[str, str]", 0.09239742025898441], ["dict", 0.08995046681657011]], "pod_name": [["str", 0.6468119439570772], ["Optional[str]", 0.2689121234265034], ["list", 0.08427593261641941]], "resource_instance": [["str", 0.4089728495166716]], "resource_version": [["str", 0.5253755119345488], ["List[Tuple[str, str]]", 0.2909278430809234], ["Set[str]", 0.08967691713661574]], "results": [["int", 0.13876357772197143], ["List[Dict[str, str]]", 0.10936704894614444], ["str", 0.097909050742054], ["dict", 0.09719436623484169], ["list", 0.09231792559071382]], "state": [["str", 0.8317455397507842], ["list", 0.08484482558757969], ["kingsburg.State", 0.08340963466163606]], "task": [["dict", 0.6985801180311175], ["Dict[str, str]", 0.10280621788649265], ["kitovu.utils.JsonType", 0.09692013026142947]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[759, 4], [792, 44]], "fn_var_ln": {"state": [[790, 12], [790, 17]]}, "fn_var_occur": {"state": [["state", "State", "RUNNING"], ["self", "event_buffer", "key", "state", "None"], ["state", "State", "FAILED", "self", "kube_config", "delete_worker_pods_on_failure"], ["state", "None"], ["state", "session", "query", "TaskInstance", "state", "filter", "TaskInstance", "filter_for_tis", "key", "scalar"], ["self", "event_buffer", "key", "state", "None"]]}, "name": "_change_state", "params": {"key": "airflow.models.taskinstancekey.TaskInstanceKey", "namespace": "builtins.str", "pod_name": "builtins.str", "self": "", "session": "sqlalchemy.orm.Session", "state": "str | None"}, "params_descr": {"key": "", "namespace": "", "pod_name": "", "self": "", "session": "", "state": ""}, "params_occur": {"key": [["self", "event_buffer", "key", "state", "None"], ["self", "log", "info", "str", "key", "str", "namespace"], ["self", "log", "info", "str", "key", "str", "namespace"], ["self", "running", "remove", "key"], ["self", "log", "debug", "key"], ["state", "session", "query", "TaskInstance", "state", "filter", "TaskInstance", "filter_for_tis", "key", "scalar"], ["self", "event_buffer", "key", "state", "None"]], "namespace": [["self", "kube_scheduler", "delete_pod", "pod_name", "pod_name", "namespace", "namespace"], ["self", "log", "info", "str", "key", "str", "namespace"], ["self", "kube_scheduler", "patch_pod_executor_done", "pod_name", "pod_name", "namespace", "namespace"], ["self", "log", "info", "str", "key", "str", "namespace"]], "pod_name": [["self", "kube_scheduler", "delete_pod", "pod_name", "pod_name", "namespace", "namespace"], ["self", "kube_scheduler", "patch_pod_executor_done", "pod_name", "pod_name", "namespace", "namespace"]], "self": [["self", "kube_scheduler"], ["self", "event_buffer", "key", "state", "None"], ["self", "kube_config", "delete_worker_pods"], ["state", "State", "FAILED", "self", "kube_config", "delete_worker_pods_on_failure"], ["self", "kube_scheduler", "delete_pod", "pod_name", "pod_name", "namespace", "namespace"], ["self", "log", "info", "str", "key", "str", "namespace"], ["self", "kube_scheduler", "patch_pod_executor_done", "pod_name", "pod_name", "namespace", "namespace"], ["self", "log", "info", "str", "key", "str", "namespace"], ["self", "running", "remove", "key"], ["self", "log", "debug", "key"], ["self", "event_buffer", "key", "state", "None"]], "session": [["state", "session", "query", "TaskInstance", "state", "filter", "TaskInstance", "filter_for_tis", "key", "scalar"]], "state": [["state", "State", "RUNNING"], ["self", "event_buffer", "key", "state", "None"], ["state", "State", "FAILED", "self", "kube_config", "delete_worker_pods_on_failure"], ["state", "None"], ["state", "session", "query", "TaskInstance", "state", "filter", "TaskInstance", "filter_for_tis", "key", "scalar"], ["self", "event_buffer", "key", "state", "None"]]}, "params_p": {"args": [], "key": [["str", 0.7771190123253133], ["List[str]", 0.11674731477812662], ["int", 0.1061336728965601]], "kwargs": [], "namespace": [["str", 0.4086264623254809], ["Optional[str]", 0.18721372386576696], ["Dict[str, Any]", 0.11449058949404994], ["dict", 0.09712137801518085], ["raiden.utils.Address", 0.09443801882981354]], "pod_name": [["str", 0.7967047174560676], ["Optional[str]", 0.11486875774090542], ["Optional[Any]", 0.08842652480302692]], "self": [], "session": [["str", 0.6266717022040069], ["arxiv.users.domain.Session", 0.1038822773959822]], "state": [["str", 0.2024175083589006], ["core.models.User.Key", 0.10245137900389559], ["Optional[Dict[str, Any]]", 0.09463115462992883], ["multiprocessing.connection.Connection", 0.09205764881714619], ["bytes", 0.09163868065331347]]}, "q_name": "KubernetesExecutor._change_state", "ret_exprs": ["return"], "ret_type": "None", "ret_type_p": [["str", 0.10056202120477734], ["Union[tuple, list]", 0.09677591381834026], ["Dict[str, Any]", 0.0922683706534216], ["cmk.utils.type_defs.HostName", 0.08934849846501862], ["cmk.utils.type_defs.ServiceName", 0.08934849846501862]], "variables": {"state": ""}, "variables_p": {"state": [["mythril.laser.ethereum.state.accounAccount", 0.11594980600289867], ["Optional[raiden.transfer.state.NettingChannelState]", 0.11441151096750261], ["float", 0.11105357546630035], ["List[Tuple[str, str]]", 0.09999312598226252], ["dict", 0.09298773920671745], ["str", 0.09254587971128954]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[795, 4], [800, 92]], "fn_var_ln": {"namespace": [[799, 12], [799, 21]], "pod_override": [[796, 8], [796, 20]]}, "fn_var_occur": {"namespace": [["namespace", "None"], ["namespace", "pod_override", "metadata", "namespace"], ["namespace", "conf", "get", "fallback"]], "pod_override": [["pod_override", "ti", "executor_config", "get"], ["namespace", "pod_override", "metadata", "namespace"]]}, "name": "_get_pod_namespace", "params": {"ti": "airflow.models.taskinstance.TaskInstance"}, "params_descr": {"ti": ""}, "params_occur": {"ti": [["pod_override", "ti", "executor_config", "get"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": [["str", 0.7994539769230876], ["int", 0.0929351301679586]]}, "q_name": "KubernetesExecutor._get_pod_namespace", "ret_exprs": ["return namespace or conf.get(\"kubernetes_executor\", \"namespace\", fallback=\"default\")"], "ret_type": "", "ret_type_p": [["str", 0.7427373850531122], ["bool", 0.1394775252518933]], "variables": {"namespace": "", "pod_override": ""}, "variables_p": {"namespace": [["str", 0.49742778464750725], ["Dict[str, Union[int, str]]", 0.1547824065490729], ["Optional[int]", 0.10266019066860307], ["Dict[str, str]", 0.09473097166849775], ["Dict[str, Any]", 0.07676101981417262], ["Tuple[Type[str]]", 0.07363762665214642]], "pod_override": [["Dict[str, str]", 0.2956910914381342], ["Dict[str, Any]", 0.20290597777875194], ["str", 0.10145298888937597], ["dict", 0.10145298888937597], ["Dict[str, Union[Any, Any, Any]]", 0.10145298888937597], ["List[str]", 0.08739730265524248]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[802, 4], [843, 41]], "fn_var_ln": {"client": [[809, 12], [809, 18]], "log": [[804, 8], [804, 11]], "messages": [[803, 8], [803, 16]], "namespace": [[820, 12], [820, 21]], "pod_list": [[821, 12], [821, 20]], "res": [[829, 12], [829, 15]], "selector": [[812, 12], [812, 20]]}, "fn_var_occur": {"client": [["client", "get_kube_client"], ["pod_list", "client", "list_namespaced_pod", "namespace", "namespace", "label_selector", "selector", "items"], ["res", "client", "read_namespaced_pod_log", "name", "pod_list", "metadata", "name", "namespace", "namespace", "container", "follow", "False", "tail_lines", "_preload_content", "False"]], "log": [["log", "append", "remove_escape_codes", "line", "decode"], ["messages", "join", "log"]], "messages": [["messages", "append", "ti", "hostname"], ["messages", "append"], ["messages", "append", "str", "e"], ["messages", "join", "log"]], "namespace": [["namespace", "self", "_get_pod_namespace", "ti"], ["pod_list", "client", "list_namespaced_pod", "namespace", "namespace", "label_selector", "selector", "items"], ["res", "client", "read_namespaced_pod_log", "name", "pod_list", "metadata", "name", "namespace", "namespace", "container", "follow", "False", "tail_lines", "_preload_content", "False"]], "pod_list": [["pod_list", "client", "list_namespaced_pod", "namespace", "namespace", "label_selector", "selector", "items"], ["len", "pod_list"], ["RuntimeError", "ti", "pod_list"], ["res", "client", "read_namespaced_pod_log", "name", "pod_list", "metadata", "name", "namespace", "namespace", "container", "follow", "False", "tail_lines", "_preload_content", "False"]], "res": [["res", "client", "read_namespaced_pod_log", "name", "pod_list", "metadata", "name", "namespace", "namespace", "container", "follow", "False", "tail_lines", "_preload_content", "False"]], "selector": [["selector", "PodGenerator", "build_selector_for_k8s_executor_pod", "dag_id", "ti", "dag_id", "task_id", "ti", "task_id", "try_number", "try_number", "map_index", "ti", "map_index", "run_id", "ti", "run_id", "airflow_worker", "ti", "queued_by_job_id"], ["pod_list", "client", "list_namespaced_pod", "namespace", "namespace", "label_selector", "selector", "items"]]}, "name": "get_task_log", "params": {"self": "", "ti": "airflow.models.taskinstance.TaskInstance", "try_number": "builtins.int"}, "params_descr": {"self": "", "ti": "", "try_number": ""}, "params_occur": {"self": [["namespace", "self", "_get_pod_namespace", "ti"]], "ti": [["messages", "append", "ti", "hostname"], ["selector", "PodGenerator", "build_selector_for_k8s_executor_pod", "dag_id", "ti", "dag_id", "task_id", "ti", "task_id", "try_number", "try_number", "map_index", "ti", "map_index", "run_id", "ti", "run_id", "airflow_worker", "ti", "queued_by_job_id"], ["namespace", "self", "_get_pod_namespace", "ti"], ["RuntimeError", "ti"], ["RuntimeError", "ti", "pod_list"]], "try_number": [["selector", "PodGenerator", "build_selector_for_k8s_executor_pod", "dag_id", "ti", "dag_id", "task_id", "ti", "task_id", "try_number", "try_number", "map_index", "ti", "map_index", "run_id", "ti", "run_id", "airflow_worker", "ti", "queued_by_job_id"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "ti": [["int", 0.10603764172539931], ["zerver.models.Realm", 0.10019637723445003], ["gensim.models.KeyedVectors", 0.09234410517859439], ["asyncio.Queue", 0.08922994614115037]], "try_number": [["str", 0.18243830965980684], ["Dict[str, Any]", 0.09863431863459353]]}, "q_name": "KubernetesExecutor.get_task_log", "ret_exprs": ["return messages, [\"n\".join(log)]"], "ret_type": "builtins.tuple[builtins.list[builtins.str], builtins.list[builtins.str]]", "ret_type_p": [["str", 1.0]], "variables": {"client": "", "log": "", "messages": "", "namespace": "", "pod_list": "", "res": "", "selector": ""}, "variables_p": {"client": [], "log": [["list", 0.9999999999999998]], "messages": [["list", 0.7835155121043407], ["str", 0.11469690569970738]], "namespace": [["list", 0.10009220622640909], ["List[int]", 0.09680464499322973], ["multiprocessing.pool.Pool", 0.0965651729800425]], "pod_list": [["List[str]", 0.30309743862000443], ["list", 0.2237149755116027], ["List[List[str]]", 0.1285853246165077], ["dict", 0.09233025206854126], ["set", 0.08190607673166067], ["int", 0.08190607673166067]], "res": [["str", 0.9020983946150916], ["Tuple[str, str]", 0.09790160538490834]], "selector": [["str", 0.231351390211119], ["List[str]", 0.1773233466758266], ["geode.models.common.Address", 0.09879118749237496], ["List[int]", 0.09611470228408112], ["Dict[str, str]", 0.09133235578891047], ["decksite.data.models.person.Person", 0.0867784142677743], ["accounts.models.Account", 0.08200485184744052]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[845, 4], [870, 27]], "fn_var_ln": {"kube_client": [[850, 8], [850, 19]], "pod_list": [[865, 12], [865, 20]], "query_kwargs": [[858, 12], [858, 24]], "scheduler_job_id": [[852, 12], [852, 28]], "scheduler_job_ids": [[848, 8], [848, 25]], "tis_to_flush": [[847, 8], [847, 20]], "tis_to_flush_by_key": [[849, 8], [849, 27]]}, "fn_var_occur": {"kube_client": [["kube_client", "kubernetes", "client", "CoreV1Api", "self", "kube_client"], ["self", "adopt_launched_task", "kube_client", "pod", "tis_to_flush_by_key"], ["self", "_adopt_completed_pods", "kube_client"]], "pod_list": [["pod_list", "self", "_list_pods", "query_kwargs"]], "query_kwargs": [["query_kwargs", "scheduler_job_id", "POD_EXECUTOR_DONE_KEY"], ["pod_list", "self", "_list_pods", "query_kwargs"]], "scheduler_job_id": [["scheduler_job_id", "pod_generator", "make_safe_label_value", "str", "scheduler_job_id"], ["query_kwargs", "scheduler_job_id", "POD_EXECUTOR_DONE_KEY"]], "scheduler_job_ids": [["scheduler_job_ids", "ti", "queued_by_job_id", "ti", "tis"]], "tis_to_flush": [["tis_to_flush", "ti", "ti", "tis", "ti", "queued_by_job_id"], ["tis_to_flush", "extend", "tis_to_flush_by_key", "values"]], "tis_to_flush_by_key": [["tis_to_flush_by_key", "ti", "key", "ti", "ti", "tis", "ti", "queued_by_job_id"], ["self", "adopt_launched_task", "kube_client", "pod", "tis_to_flush_by_key"], ["tis_to_flush", "extend", "tis_to_flush_by_key", "values"]]}, "name": "try_adopt_task_instances", "params": {"self": "", "tis": "typing.Sequence[airflow.models.taskinstance.TaskInstance]"}, "params_descr": {"self": "", "tis": ""}, "params_occur": {"self": [["kube_client", "kubernetes", "client", "CoreV1Api", "self", "kube_client"], ["pod_list", "self", "_list_pods", "query_kwargs"], ["self", "adopt_launched_task", "kube_client", "pod", "tis_to_flush_by_key"], ["self", "_adopt_completed_pods", "kube_client"]], "tis": [["tis_to_flush", "ti", "ti", "tis", "ti", "queued_by_job_id"], ["scheduler_job_ids", "ti", "queued_by_job_id", "ti", "tis"], ["tis_to_flush_by_key", "ti", "key", "ti", "ti", "tis", "ti", "queued_by_job_id"]]}, "params_p": {"args": [], "kwargs": [], "self": [], "tis": [["Dict[str, Any]", 0.10137869066956086]]}, "q_name": "KubernetesExecutor.try_adopt_task_instances", "ret_exprs": ["return tis_to_flush"], "ret_type": "typing.Sequence[airflow.models.taskinstance.TaskInstance]", "ret_type_p": [["List[Dict[str, Any]]", 0.10950925397017118], ["bool", 0.0940812235051014], ["db.models.taxon.FillDataLevel", 0.0940812235051014]], "variables": {"kube_client": "kubernetes.client.CoreV1Api", "pod_list": "", "query_kwargs": "", "scheduler_job_id": "", "scheduler_job_ids": "", "tis_to_flush": "", "tis_to_flush_by_key": ""}, "variables_p": {"kube_client": [["botocore.client", 0.33699964249062925]], "pod_list": [["List[int]", 0.31757534575983704], ["list", 0.2502265406868117], ["Dict[str, List[str]]", 0.13498885210286654], ["Dict[str, str]", 0.13498885210286654], ["List[str]", 0.08312789029519753]], "query_kwargs": [["str", 0.18243205735516801], ["dict", 0.17848452785530444], ["Optional[bool]", 0.11494623183734418]], "scheduler_job_id": [["int", 0.42393289353689656], ["Type[Tuple[str, Any]]", 0.18555371588516045], ["RuntimeError", 0.10113775737324163], ["str", 0.08057772882721206], ["List[int]", 0.0790302747036811]], "scheduler_job_ids": [["Dict[str, str]", 0.9089514411088487], ["int", 0.09104855889115142]], "tis_to_flush": [["List[Dict[str, Any]]", 0.14668663994040873], ["Dict[str, str]", 0.10497437071926696], ["Dict[Any, float]", 0.08489438448672666]], "tis_to_flush_by_key": [["bytes", 0.3607930644369076], ["bool", 0.1348379386044297], ["sqlalchemy.orm.Session", 0.10798791614364216], ["str", 0.08770478628049849]]}}, {"docstring": {"func": "Handle remnants of tasks that were failed because they were stuck in queued.", "long_descr": "Tasks can get stuck in queued. If such a task is detected, it will be marked\nas `UP_FOR_RETRY` if the task instance has remaining retries or marked as `FAILED`\nif it doesn't.", "ret": "List of readable task instances for a warning message"}, "fn_lc": [[872, 4], [909, 27]], "fn_var_ln": {"namespace": [[896, 12], [896, 21]], "pod_list": [[897, 12], [897, 20]], "readable_tis": [[886, 8], [886, 20]], "selector": [[888, 12], [888, 20]]}, "fn_var_occur": {"namespace": [["namespace", "self", "_get_pod_namespace", "ti"], ["pod_list", "self", "kube_client", "list_namespaced_pod", "namespace", "namespace", "label_selector", "selector", "items"], ["self", "kube_scheduler", "delete_pod", "pod_name", "pod_list", "metadata", "name", "namespace", "namespace"]], "pod_list": [["pod_list", "self", "kube_client", "list_namespaced_pod", "namespace", "namespace", "label_selector", "selector", "items"], ["len", "pod_list"], ["self", "log", "warning", "ti", "pod_list"], ["self", "kube_scheduler", "delete_pod", "pod_name", "pod_list", "metadata", "name", "namespace", "namespace"]], "readable_tis": [["readable_tis", "append", "repr", "ti"]], "selector": [["selector", "PodGenerator", "build_selector_for_k8s_executor_pod", "dag_id", "ti", "dag_id", "task_id", "ti", "task_id", "try_number", "ti", "try_number", "map_index", "ti", "map_index", "run_id", "ti", "run_id", "airflow_worker", "ti", "queued_by_job_id"], ["pod_list", "self", "kube_client", "list_namespaced_pod", "namespace", "namespace", "label_selector", "selector", "items"]]}, "name": "cleanup_stuck_queued_tasks", "params": {"self": "", "tis": "builtins.list[airflow.models.taskinstance.TaskInstance]"}, "params_descr": {"self": "", "tis": "List of Task Instances to clean up"}, "params_occur": {"self": [["self", "kube_client"], ["self", "kube_scheduler"], ["namespace", "self", "_get_pod_namespace", "ti"], ["pod_list", "self", "kube_client", "list_namespaced_pod", "namespace", "namespace", "label_selector", "selector", "items"], ["self", "log", "warning", "ti"], ["self", "log", "warning", "ti", "pod_list"], ["self", "kube_scheduler", "delete_pod", "pod_name", "pod_list", "metadata", "name", "namespace", "namespace"]], "tis": []}, "params_p": {"args": [], "kwargs": [], "self": [], "tis": [["T", 0.9999999907701093], ["bool", 2.9269942348257436e-09], ["List[dict]", 1.7188680653220874e-09], ["Awaitable[Any]", 1.2882879924793724e-09]]}, "q_name": "KubernetesExecutor.cleanup_stuck_queued_tasks", "ret_exprs": ["return readable_tis"], "ret_type": "builtins.list[builtins.str]", "ret_type_p": [["str", 0.19728061715832607], ["bool", 0.1333727649940198], ["dict", 0.0895297179114985], ["bytes", 0.08639701586808188]], "variables": {"namespace": "", "pod_list": "", "readable_tis": "", "selector": ""}, "variables_p": {"namespace": [["dict", 0.2024842737998103], ["Dict[str, List[str]]", 0.12964236530137668], ["tuple", 0.09643922758512642]], "pod_list": [["dict", 0.10798646896875204], ["Dict[str, Any]", 0.0970479783877596], ["str", 0.09066593573757652]], "readable_tis": [["list", 0.7999999999999999], ["Dict[str, Any]", 0.09999999999999999], ["str", 0.09999999999999999]], "selector": [["str", 0.231351390211119], ["List[str]", 0.1773233466758266], ["geode.models.common.Address", 0.09879118749237496], ["List[int]", 0.09611470228408112], ["Dict[str, str]", 0.09133235578891047], ["decksite.data.models.person.Person", 0.0867784142677743], ["accounts.models.Account", 0.08200485184744052]]}}, {"docstring": {"func": "Patch existing pod so that the current KubernetesJobWatcher can monitor it via label selectors.", "long_descr": null, "ret": null}, "fn_lc": [[911, 4], [945, 32]], "fn_var_ln": {"new_worker_id_label": [[933, 8], [933, 27]], "ti_key": [[928, 8], [928, 14]]}, "fn_var_occur": {"new_worker_id_label": [["new_worker_id_label", "pod_generator", "make_safe_label_value", "self", "scheduler_job_id"], ["kube_client", "patch_namespaced_pod", "name", "pod", "metadata", "name", "namespace", "pod", "metadata", "namespace", "body", "new_worker_id_label"]], "ti_key": [["ti_key", "annotations_to_key", "pod", "metadata", "annotations"], ["ti_key", "tis_to_flush_by_key"], ["self", "log", "error", "ti_key"], ["tis_to_flush_by_key", "ti_key"], ["self", "running", "add", "ti_key"]]}, "name": "adopt_launched_task", "params": {"kube_client": "kubernetes.client.CoreV1Api", "pod": "kubernetes.client.models.V1Pod", "self": "", "tis_to_flush_by_key": "builtins.dict[airflow.models.taskinstancekey.TaskInstanceKey, kubernetes.client.models.V1Pod]"}, "params_descr": {"kube_client": "kubernetes client for speaking to kube API", "pod": "V1Pod spec that we will patch with new label", "self": "", "tis_to_flush_by_key": "TIs that will be flushed if they aren't adopted"}, "params_occur": {"kube_client": [["kube_client", "patch_namespaced_pod", "name", "pod", "metadata", "name", "namespace", "pod", "metadata", "namespace", "body", "new_worker_id_label"]], "pod": [["self", "log", "info", "pod", "metadata", "name"], ["ti_key", "annotations_to_key", "pod", "metadata", "annotations"], ["kube_client", "patch_namespaced_pod", "name", "pod", "metadata", "name", "namespace", "pod", "metadata", "namespace", "body", "new_worker_id_label"], ["self", "log", "info", "pod", "metadata", "name", "e"]], "self": [["self", "scheduler_job_id"], ["self", "log", "info", "pod", "metadata", "name"], ["self", "log", "error", "ti_key"], ["new_worker_id_label", "pod_generator", "make_safe_label_value", "self", "scheduler_job_id"], ["self", "log", "info", "pod", "metadata", "name", "e"], ["self", "running", "add", "ti_key"]], "tis_to_flush_by_key": [["ti_key", "tis_to_flush_by_key"], ["tis_to_flush_by_key", "ti_key"]]}, "params_p": {"args": [], "kube_client": [["str", 0.699981544271751], ["bool", 0.19056796998777947], ["pyspark.sql.session.SparkSession", 0.10945048574046945]], "kwargs": [], "pod": [["str", 0.4889400861385427], ["dict", 0.11588681977411111], ["List[fonduer.candidates.models.Candidate]", 0.10147718403601112], ["Dict[str, str]", 0.09768597160181448]], "self": [], "tis_to_flush_by_key": [["int", 0.1856325430136881], ["bool", 0.1051659354161509]]}, "q_name": "KubernetesExecutor.adopt_launched_task", "ret_exprs": ["return", "return"], "ret_type": "None", "ret_type_p": [["Iterator[T]", 0.17114474889518458], ["Iterator[Dict[str, str]]", 0.14732569184351624], ["List[django.db.models.Model]", 0.0927915052142365], ["Iterator", 0.08339694663965874]], "variables": {"new_worker_id_label": "", "ti_key": ""}, "variables_p": {"new_worker_id_label": [["Optional[str]", 0.3673866419711719], ["int", 0.09730553279819247], ["str", 0.09431274394317808], ["Dict[int, str]", 0.09270313073323663], ["taskiinfrastructure.data.json.reporters.state_reporter.JsonStateReporter", 0.08857801966141914]], "ti_key": [["Set[str]", 0.09136262673461881], ["frozenset[str]", 0.0833651259966526]]}}, {"docstring": {"func": "Patch completed pods so that the KubernetesJobWatcher can delete them.", "long_descr": null, "ret": null}, "fn_lc": [[947, 4], [976, 35]], "fn_var_ln": {"new_worker_id_label": [[956, 8], [956, 27]], "pod_list": [[964, 8], [964, 16]], "query_kwargs": [[957, 8], [957, 20]], "ti_id": [[975, 12], [975, 17]]}, "fn_var_occur": {"new_worker_id_label": [["new_worker_id_label", "pod_generator", "make_safe_label_value", "self", "scheduler_job_id"], ["query_kwargs", "new_worker_id_label", "POD_EXECUTOR_DONE_KEY"], ["kube_client", "patch_namespaced_pod", "name", "pod", "metadata", "name", "namespace", "pod", "metadata", "namespace", "body", "new_worker_id_label"]], "pod_list": [["pod_list", "self", "_list_pods", "query_kwargs"]], "query_kwargs": [["query_kwargs", "new_worker_id_label", "POD_EXECUTOR_DONE_KEY"], ["pod_list", "self", "_list_pods", "query_kwargs"]], "ti_id": [["ti_id", "annotations_to_key", "pod", "metadata", "annotations"], ["self", "running", "add", "ti_id"]]}, "name": "_adopt_completed_pods", "params": {"kube_client": "kubernetes.client.CoreV1Api", "self": ""}, "params_descr": {"kube_client": "kubernetes client for speaking to kube API", "self": ""}, "params_occur": {"kube_client": [["kube_client", "patch_namespaced_pod", "name", "pod", "metadata", "name", "namespace", "pod", "metadata", "namespace", "body", "new_worker_id_label"]], "self": [["self", "scheduler_job_id"], ["new_worker_id_label", "pod_generator", "make_safe_label_value", "self", "scheduler_job_id"], ["pod_list", "self", "_list_pods", "query_kwargs"], ["self", "log", "info", "pod", "metadata", "name"], ["self", "log", "info", "pod", "metadata", "name", "e"], ["self", "running", "add", "ti_id"]]}, "params_p": {"args": [], "kube_client": [["str", 0.19804037686952883], ["Dict[str, Any]", 0.10107516149714847], ["lunch_buddies.models.polls.Choice", 0.08924270125934716]], "kwargs": [], "self": []}, "q_name": "KubernetesExecutor._adopt_completed_pods", "ret_exprs": [], "ret_type": "None", "variables": {"new_worker_id_label": "", "pod_list": "", "query_kwargs": "", "ti_id": ""}, "variables_p": {"new_worker_id_label": [["Optional[str]", 0.32047037591211514], ["dict", 0.11157343699846428], ["mythril.laser.ethereum.state.accounAccount", 0.10089295710310309], ["Dict[int, str]", 0.09225671965627505], ["str", 0.09150833701514152]], "pod_list": [["List[int]", 0.31757534575983704], ["list", 0.2502265406868117], ["Dict[str, List[str]]", 0.13498885210286654], ["Dict[str, str]", 0.13498885210286654], ["List[str]", 0.08312789029519753]], "query_kwargs": [["dict", 0.4131980812749627], ["Pattern[bytes]", 0.11234330474665423], ["Dict[str, Union[Any, bool, str]]", 0.11153657307736546], ["list", 0.08728104549618643]], "ti_id": [["str", 0.3734732343276147], ["int", 0.3100318994201924], ["Callable[[], str]", 0.10896265109857854], ["Dict[str, str]", 0.10708486499765504], ["List[str]", 0.10044735015595936]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[978, 4], [990, 21]], "fn_var_ln": {"task": [[985, 16], [985, 20]]}, "fn_var_occur": {"task": [["task", "self", "task_queue", "get_nowait"], ["self", "log", "warning", "task"]]}, "name": "_flush_task_queue", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "task_queue"], ["self", "log", "debug", "self", "task_queue", "qsize"], ["task", "self", "task_queue", "get_nowait"], ["self", "log", "warning", "task"], ["self", "task_queue", "task_done"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "KubernetesExecutor._flush_task_queue", "ret_exprs": [], "ret_type": "None", "variables": {"task": ""}, "variables_p": {"task": [["kitovu.utils.JsonType", 0.20891931590660368], ["Tuple[int]", 0.17604516391508954], ["bytes", 0.1659346764551267], ["ddionrails.base.models.System", 0.10149435587572833], ["Dict[str, Any]", 0.08176863919424959]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[992, 4], [1018, 21]], "fn_var_ln": {"key": [[1002, 20], [1002, 23]], "namespace": [[1002, 42], [1002, 51]], "pod_name": [[1002, 32], [1002, 40]], "resource_version": [[1002, 53], [1002, 69]], "results": [[999, 16], [999, 23]], "state": [[1002, 25], [1002, 30]]}, "fn_var_occur": {"key": [["key", "state", "pod_name", "namespace", "resource_version", "results"], ["self", "_change_state", "key", "state", "pod_name", "namespace"]], "namespace": [["key", "state", "pod_name", "namespace", "resource_version", "results"], ["self", "_change_state", "key", "state", "pod_name", "namespace"]], "pod_name": [["key", "state", "pod_name", "namespace", "resource_version", "results"], ["self", "_change_state", "key", "state", "pod_name", "namespace"]], "resource_version": [["key", "state", "pod_name", "namespace", "resource_version", "results"], ["self", "log", "info", "results", "state", "resource_version"]], "results": [["results", "self", "result_queue", "get_nowait"], ["self", "log", "warning", "results"], ["key", "state", "pod_name", "namespace", "resource_version", "results"], ["self", "log", "info", "results", "state", "resource_version"], ["self", "log", "exception", "e", "results", "state"]], "state": [["key", "state", "pod_name", "namespace", "resource_version", "results"], ["self", "log", "info", "results", "state", "resource_version"], ["self", "_change_state", "key", "state", "pod_name", "namespace"], ["self", "log", "exception", "e", "results", "state"]]}, "name": "_flush_result_queue", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "result_queue"], ["self", "log", "debug", "self", "result_queue", "qsize"], ["results", "self", "result_queue", "get_nowait"], ["self", "log", "warning", "results"], ["self", "log", "info", "results", "state", "resource_version"], ["self", "_change_state", "key", "state", "pod_name", "namespace"], ["self", "log", "exception", "e", "results", "state"], ["self", "result_queue", "task_done"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "KubernetesExecutor._flush_result_queue", "ret_exprs": [], "ret_type": "None", "variables": {"key": "", "namespace": "", "pod_name": "", "resource_version": "", "results": "", "state": ""}, "variables_p": {"key": [["str", 0.4360798260788977]], "namespace": [["list", 0.29515605724975735], ["str", 0.2697367696815766], ["Dict[str, Optional[str]]", 0.09081400658415675]], "pod_name": [["str", 0.6468119439570772], ["Optional[str]", 0.2689121234265034], ["list", 0.08427593261641941]], "resource_version": [["str", 0.8883318470263148], ["List[str]", 0.11166815297368525]], "results": [["str", 0.36084926627875824], ["dict", 0.07440533484202738]], "state": [["str", 0.9132136799954546], ["Optional[str]", 0.08678632000454536]]}}, {"docstring": {"func": "Called when the executor shuts down.", "long_descr": null, "ret": null}, "fn_lc": [[1020, 4], [1040, 32]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "end", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": [["self", "task_queue"], ["self", "result_queue"], ["self", "kube_scheduler"], ["self", "log", "info"], ["self", "log", "debug"], ["self", "_flush_task_queue"], ["self", "log", "debug"], ["self", "_flush_result_queue"], ["self", "task_queue", "join"], ["self", "result_queue", "join"], ["self", "log", "exception"], ["self", "kube_scheduler"], ["self", "kube_scheduler", "terminate"], ["self", "_manager", "shutdown"]]}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "KubernetesExecutor.end", "ret_exprs": [], "ret_type": "None", "variables": {}, "variables_p": {}}, {"docstring": {"func": "Terminate the executor is not doing anything.", "long_descr": null, "ret": null}, "fn_lc": [[1042, 4], [1043, 59]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "terminate", "params": {"self": ""}, "params_descr": {"self": ""}, "params_occur": {"self": []}, "params_p": {"args": [], "kwargs": [], "self": []}, "q_name": "KubernetesExecutor.terminate", "ret_exprs": [], "ret_type": "", "variables": {}, "variables_p": {}}], "name": "KubernetesExecutor", "q_name": "KubernetesExecutor", "variables": {"supports_ad_hoc_ti_run": "builtins.bool"}, "variables_p": {"supports_ad_hoc_ti_run": [["int", 0.9999999989659624], ["str", 8.733872743618552e-10], ["Dict[str, str]", 1.6065037170899338e-10]]}}], "funcs": [{"docstring": {"func": "Get base pod from template.", "long_descr": "Reads either the pod_template_file set in the executor_config or the base pod_template_file\nset in the airflow.cfg to craft a \"base pod\" that will be used by the KubernetesExecutor", "ret": "a V1Pod that can be used as the base pod for k8s tasks"}, "fn_lc": [[487, 0], [501, 81]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "get_base_pod_from_template", "params": {"kube_config": "typing.Any", "pod_template_file": "str | None"}, "params_descr": {"kube_config": "The KubeConfig class generated by airflow that contains all kube metadata", "pod_template_file": "absolute path to a pod_template_file.yaml or None"}, "params_occur": {"kube_config": [["PodGenerator", "deserialize_model_file", "kube_config", "pod_template_file"]], "pod_template_file": [["PodGenerator", "deserialize_model_file", "pod_template_file"], ["PodGenerator", "deserialize_model_file", "kube_config", "pod_template_file"]]}, "params_p": {"args": [], "kube_config": [["str", 0.6129018310453012]], "kwargs": [], "pod_template_file": [["str", 0.43581640411554456], ["int", 0.11790398163827949], ["cmk.utils.type_defs.HostAddress", 0.11790398163827949], ["bool", 0.09806665366941122]]}, "q_name": "get_base_pod_from_template", "ret_exprs": ["return PodGenerator.deserialize_model_file(pod_template_file)", "return PodGenerator.deserialize_model_file(kube_config.pod_template_file)"], "ret_type": "kubernetes.client.models.V1Pod", "ret_type_p": [["str", 0.19981316246143183], ["Mapping[str, Any]", 0.13208279089569688]], "variables": {}, "variables_p": {}}], "imports": ["__future__", "annotations", "json", "logging", "multiprocessing", "time", "collections", "defaultdict", "contextlib", "suppress", "queue", "Empty", "Queue", "typing", "TYPE_CHECKING", "Any", "Dict", "Optional", "Sequence", "Tuple", "kubernetes", "client", "watch", "kubernetes", "client", "Configuration", "models", "k8s", "kubernetes", "client", "rest", "ApiException", "sqlalchemy", "orm", "Session", "urllib3", "exceptions", "ReadTimeoutError", "airflow", "configuration", "conf", "airflow", "exceptions", "AirflowException", "PodMutationHookException", "PodReconciliationError", "airflow", "executors", "base_executor", "BaseExecutor", "airflow", "kubernetes", "pod_generator", "airflow", "kubernetes", "kube_client", "get_kube_client", "airflow", "kubernetes", "kube_config", "KubeConfig", "airflow", "kubernetes", "kubernetes_helper_functions", "annotations_for_logging_task_metadata", "annotations_to_key", "create_pod_id", "airflow", "kubernetes", "pod_generator", "PodGenerator", "airflow", "utils", "event_scheduler", "EventScheduler", "airflow", "utils", "log", "logging_mixin", "LoggingMixin", "remove_escape_codes", "airflow", "utils", "session", "NEW_SESSION", "provide_session", "airflow", "utils", "singleton", "Singleton", "airflow", "utils", "state", "State", "TaskInstanceState", "airflow", "executors", "base_executor", "CommandType", "airflow", "models", "taskinstance", "TaskInstance", "airflow", "models", "taskinstancekey", "TaskInstanceKey", "airflow", "models", "taskinstance", "TaskInstance", "airflow", "models", "taskinstance", "TaskInstance", "airflow", "kubernetes", "kube_client", "get_kube_client", "airflow", "kubernetes", "pod_generator", "PodGenerator"], "mod_var_ln": {"ALL_NAMESPACES": [[73, 0], [73, 14]], "KubernetesJobType": [[65, 4], [65, 21]], "KubernetesResultsType": [[68, 4], [68, 25]], "KubernetesWatchType": [[71, 4], [71, 23]], "POD_EXECUTOR_DONE_KEY": [[74, 0], [74, 21]]}, "mod_var_occur": {"ALL_NAMESPACES": [["self", "namespace", "ALL_NAMESPACES"], ["self", "namespace", "ALL_NAMESPACES"], ["namespaces_to_watch", "self", "kube_config", "multi_namespace_mode_namespace_list", "self", "kube_config", "multi_namespace_mode_namespace_list", "ALL_NAMESPACES"]], "KubernetesJobType": [["self", "task_queue", "queue", "Queue", "KubernetesJobType", "self", "_manager", "Queue"]], "KubernetesResultsType": [["self", "result_queue", "queue", "Queue", "KubernetesResultsType", "self", "_manager", "Queue"]], "KubernetesWatchType": [], "POD_EXECUTOR_DONE_KEY": [["event", "POD_EXECUTOR_DONE_KEY", "pod", "metadata", "labels", "pod", "metadata", "deletion_timestamp"], ["self", "kube_client", "patch_namespaced_pod", "name", "pod_name", "namespace", "namespace", "body", "POD_EXECUTOR_DONE_KEY"], ["query_kwargs", "scheduler_job_id", "POD_EXECUTOR_DONE_KEY"], ["query_kwargs", "new_worker_id_label", "POD_EXECUTOR_DONE_KEY"]]}, "no_types_annot": {"D": 80, "I": 0, "U": 127}, "session_id": "q-cPWgUK66i_XcA5tT_gPNY5Vv2WPho4q7VMjpKQL9U", "set": null, "tc": [false, null], "type_annot_cove": 0.39, "typed_seq": "", "untyped_seq": "", "variables": {"ALL_NAMESPACES": "", "KubernetesJobType": "", "KubernetesResultsType": "", "KubernetesWatchType": "", "POD_EXECUTOR_DONE_KEY": ""}, "variables_p": {"ALL_NAMESPACES": [["List[str]", 0.7449264874148112], ["list", 0.2550735125851888]], "KubernetesJobType": [["Dict[str, str]", 0.3743261779861117], ["dict", 0.2948970889926017], ["Dict[str, Union[Any, Any]]", 0.23427132749187615], ["int", 0.09650540552941042]], "KubernetesResultsType": [["Dict[str, Any]", 0.1845389162993863], ["Dict[int, str]", 0.12126620927320471], ["Dict[str, Union[float, str]]", 0.10957578973862912], ["Dict[Any, int]", 0.10628479445028953], ["queue.Queue", 0.10421320257602977], ["List[str]", 0.09784027322243558], ["KeysView[str]", 0.09296852091873442], ["Dict[Any, Dict[str, float]]", 0.0918935734996426], ["Dict[str, Union[Any, Any, Any, Any, Any, Any, Any]]", 0.09141872002164791]], "KubernetesWatchType": [["int", 0.3999999999999999], ["List[str]", 0.19999999999999996], ["str", 0.09999999999999998], ["Dict[str, str]", 0.09999999999999998]], "POD_EXECUTOR_DONE_KEY": [["str", 0.3334114937331195], ["kedro.framework.session.store.ShelveStore", 0.2903892591627526]]}}}