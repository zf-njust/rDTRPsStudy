{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": "Download a file, validate Sphinx Inventory headers and returns status information as a tuple with package", "long_descr": "name and success status(bool value).", "ret": null}, "fn_lc": [[50, 0], [87, 29]], "fn_var_ln": {"line": [[76, 8], [76, 12]], "response": [[56, 8], [56, 16]]}, "fn_var_occur": {"line": [["line", "InventoryFileReader", "tf", "readline"], ["line", "startswith"], ["print", "package_name", "line"]], "response": [["response", "session", "get", "url", "allow_redirects", "True", "stream", "True"], ["response", "ok"], ["print", "package_name", "response", "status_code", "file", "sys", "stderr"], ["response", "url", "url"], ["print", "package_name", "url", "response", "url"], ["response", "iter_content", "chunk_size"], ["print", "package_name", "response", "url"]]}, "name": "_fetch_file", "params": {"package_name": "builtins.str", "path": "builtins.str", "session": "requests.Session", "url": "builtins.str"}, "params_descr": {"package_name": "", "path": "", "session": "", "url": ""}, "params_occur": {"package_name": [["print", "package_name", "url"], ["package_name", "False"], ["print", "package_name", "url"], ["print", "package_name", "response", "status_code", "file", "sys", "stderr"], ["package_name", "False"], ["print", "package_name", "url", "response", "url"], ["NamedTemporaryFile", "suffix", "package_name", "mode", "tf"], ["print", "package_name", "line"], ["package_name", "False"], ["print", "package_name", "response", "url"], ["package_name", "True"]], "path": [["os", "makedirs", "os", "path", "dirname", "path", "exist_ok", "True"], ["open", "path", "f"]], "session": [["response", "session", "get", "url", "allow_redirects", "True", "stream", "True"]], "url": [["response", "session", "get", "url", "allow_redirects", "True", "stream", "True"], ["print", "package_name", "url"], ["print", "package_name", "url"], ["response", "url", "url"], ["print", "package_name", "url", "response", "url"], ["print", "package_name", "response", "url"]]}, "params_p": {"args": [], "kwargs": [], "package_name": [["str", 0.9999999999999999]], "path": [["str", 0.8844546195355258]], "session": [["str", 0.9168537593568824]], "url": [["str", 0.5963691025765665], ["Optional[str]", 0.11669912511188844], ["List[str]", 0.08607255226412763]]}, "q_name": "_fetch_file", "ret_exprs": ["return package_name, False", "return package_name, False", "return package_name, False", "return package_name, True"], "ret_type": "builtins.tuple[builtins.str, builtins.bool]", "ret_type_p": [["str", 0.61062154940212], ["Optional[str]", 0.1885572585284324]], "variables": {"line": "", "response": ""}, "variables_p": {"line": [["Set[str]", 0.3663646855620785], ["List[str]", 0.20306954823489937], ["list", 0.14161741784494536], ["set", 0.10198948334038348], ["List[shromazdeni.reports.utils.Field]", 0.09478498652348735], ["bool", 0.09217387849420586]], "response": [["requests.models.Response", 0.28634104720051645], ["requests.structures.CaseInsensitiveDict[str]", 0.11155846699927088]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[90, 0], [94, 47]], "fn_var_ln": {"delta": [[93, 4], [93, 9]]}, "fn_var_occur": {"delta": [["delta", "datetime", "datetime", "now", "datetime", "datetime", "fromtimestamp", "os", "path", "getmtime", "path"], ["delta", "datetime", "timedelta", "hours"]]}, "name": "_is_outdated", "params": {"path": "builtins.str"}, "params_descr": {"path": ""}, "params_occur": {"path": [["os", "path", "exists", "path"], ["delta", "datetime", "datetime", "now", "datetime", "datetime", "fromtimestamp", "os", "path", "getmtime", "path"]]}, "params_p": {"args": [], "kwargs": [], "path": [["str", 0.29800411699311363], ["bool", 0.20100722305697774], ["Optional[str]", 0.1997341496844639], ["Optional[float]", 0.19832089774198458]]}, "q_name": "_is_outdated", "ret_exprs": ["return True", "return delta > datetime.timedelta(hours=12)"], "ret_type": "", "ret_type_p": [["bool", 0.9999999999999999]], "variables": {"delta": ""}, "variables_p": {"delta": [["datetime.datetime", 1.0]]}}, {"docstring": {"func": "Fetch all inventories for Airflow documentation packages and store in cache.", "long_descr": null, "ret": null}, "fn_lc": [[97, 0], [167, 52]], "fn_var_ln": {"download_results": [[143, 8], [143, 24]], "failed": [[151, 4], [151, 10]], "success": [[151, 12], [151, 19]], "terminate": [[162, 16], [162, 25]], "to_download": [[135, 4], [135, 15]]}, "fn_var_occur": {"download_results": [["download_results", "typing", "Iterator", "builtins", "tuple", "builtins", "str", "builtins", "bool", "pool", "map", "_fetch_file", "repeat", "session", "len", "to_download", "pkg_name", "pkg_name", "_", "_", "to_download", "url", "_", "url", "_", "to_download", "path", "_", "_", "path", "to_download"], ["failed", "success", "partition", "d", "d", "download_results"]], "failed": [["failed", "success", "partition", "d", "d", "download_results"], ["failed", "success", "list", "failed", "list", "success"], ["print", "len", "success", "len", "failed"], ["enumerate", "failed", "start"], ["pkg_name", "pkg_name", "status", "failed"]], "success": [["failed", "success", "partition", "d", "d", "download_results"], ["failed", "success", "list", "failed", "list", "success"], ["print", "len", "success", "len", "failed"]], "terminate": [["terminate", "False"], ["terminate", "pkg_name", "startswith"], ["terminate", "True"]], "to_download": [["to_download", "builtins", "list", "builtins", "tuple", "builtins", "str", "builtins", "str", "builtins", "str"], ["to_download", "append", "pkg_name", "S3_DOC_URL_VERSIONED", "format", "package_name", "pkg_name", "CACHE_DIR", "pkg_name"], ["to_download", "append", "pkg_name", "S3_DOC_URL_VERSIONED", "format", "package_name", "pkg_name", "CACHE_DIR", "pkg_name"], ["to_download", "append", "pkg_name", "S3_DOC_URL_NON_VERSIONED", "format", "package_name", "pkg_name", "CACHE_DIR", "pkg_name"], ["to_download", "extend", "pkg_name", "doc_url", "CACHE_DIR", "pkg_name", "pkg_name", "doc_url", "THIRD_PARTY_INDEXES", "items"], ["to_download", "pkg_name", "url", "path", "pkg_name", "url", "path", "to_download", "_is_outdated", "path"], ["print", "len", "to_download"], ["download_results", "typing", "Iterator", "builtins", "tuple", "builtins", "str", "builtins", "bool", "pool", "map", "_fetch_file", "repeat", "session", "len", "to_download", "pkg_name", "pkg_name", "_", "_", "to_download", "url", "_", "url", "_", "to_download", "path", "_", "_", "path", "to_download"]]}, "name": "fetch_inventories", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "fetch_inventories", "ret_exprs": ["return []", "return [pkg_name for pkg_name, status in failed]"], "ret_type": "", "ret_type_p": [["List[str]", 0.6066654493077912], ["AbstractSet[str]", 0.20149108228113696], ["FrozenSet[str]", 0.09632879402790642], ["Iterable[str]", 0.09551467438316547]], "variables": {"download_results": "typing.Iterator[builtins.tuple[builtins.str, builtins.bool]]", "failed": "", "success": "", "terminate": "", "to_download": ""}, "variables_p": {"download_results": [["Set[str]", 0.39446276350632253], ["Sequence[str]", 0.37140453610305496], ["Mapping[str, Union[int, str]]", 0.11720571155884105], ["Iterable[str]", 0.11692698883178126]], "failed": [["int", 0.38401467890414676], ["dict", 0.16515194172827474], ["Callable[[Callable[..., Any]], Callable[..., Any]]", 0.0917114452387914], ["list", 0.09022715090990283], ["List[str]", 0.08786198456698696], ["float", 0.08555138367401145]], "success": [["int", 0.19936583493519194], ["bytes", 0.11951959728646859], ["List[float]", 0.10026982719719335], ["List[str]", 0.09840235184724876], ["List[int]", 0.08959308762664346]], "terminate": [["str", 1.0]], "to_download": [["str", 0.5647275597755455], ["Dict[int, List[str]]", 0.13853762758383448], ["list", 0.10717800026606329], ["List[str]", 0.0994478401599312], ["Dict[str, List[str]]", 0.09010897221462562]]}}], "imports": ["__future__", "annotations", "concurrent", "concurrent.futures", "datetime", "os", "shutil", "sys", "traceback", "itertools", "repeat", "tempfile", "NamedTemporaryFile", "typing", "Iterator", "requests", "urllib3.exceptions", "requests", "adapters", "DEFAULT_POOLSIZE", "sphinx", "util", "inventory", "InventoryFileReader", "airflow", "utils", "helpers", "partition", "docs", "exts", "docs_build", "docs_builder", "get_available_providers_packages", "docs", "exts", "docs_build", "third_party_inventories", "THIRD_PARTY_INDEXES"], "mod_var_ln": {"CACHE_DIR": [[42, 0], [42, 9]], "CURRENT_DIR": [[39, 0], [39, 11]], "DOCS_DIR": [[41, 0], [41, 8]], "EXPIRATION_DATE_PATH": [[43, 0], [43, 20]], "ROOT_DIR": [[40, 0], [40, 8]], "S3_DOC_URL": [[45, 0], [45, 10]], "S3_DOC_URL_NON_VERSIONED": [[47, 0], [47, 24]], "S3_DOC_URL_VERSIONED": [[46, 0], [46, 20]]}, "mod_var_occur": {"CACHE_DIR": [["os", "makedirs", "os", "path", "dirname", "CACHE_DIR", "exist_ok", "True"], ["to_download", "append", "pkg_name", "S3_DOC_URL_VERSIONED", "format", "package_name", "pkg_name", "CACHE_DIR", "pkg_name"], ["to_download", "append", "pkg_name", "S3_DOC_URL_VERSIONED", "format", "package_name", "pkg_name", "CACHE_DIR", "pkg_name"], ["to_download", "append", "pkg_name", "S3_DOC_URL_NON_VERSIONED", "format", "package_name", "pkg_name", "CACHE_DIR", "pkg_name"], ["to_download", "extend", "pkg_name", "doc_url", "CACHE_DIR", "pkg_name", "pkg_name", "doc_url", "THIRD_PARTY_INDEXES", "items"]], "CURRENT_DIR": [["ROOT_DIR", "os", "path", "abspath", "os", "path", "join", "CURRENT_DIR", "os", "pardir", "os", "pardir", "os", "pardir"]], "DOCS_DIR": [["CACHE_DIR", "os", "path", "join", "DOCS_DIR"], ["EXPIRATION_DATE_PATH", "os", "path", "join", "DOCS_DIR"]], "EXPIRATION_DATE_PATH": [], "ROOT_DIR": [["DOCS_DIR", "os", "path", "join", "ROOT_DIR"]], "S3_DOC_URL": [["S3_DOC_URL_VERSIONED", "S3_DOC_URL"], ["S3_DOC_URL_NON_VERSIONED", "S3_DOC_URL"]], "S3_DOC_URL_NON_VERSIONED": [["to_download", "append", "pkg_name", "S3_DOC_URL_NON_VERSIONED", "format", "package_name", "pkg_name", "CACHE_DIR", "pkg_name"]], "S3_DOC_URL_VERSIONED": [["to_download", "append", "pkg_name", "S3_DOC_URL_VERSIONED", "format", "package_name", "pkg_name", "CACHE_DIR", "pkg_name"], ["to_download", "append", "pkg_name", "S3_DOC_URL_VERSIONED", "format", "package_name", "pkg_name", "CACHE_DIR", "pkg_name"]]}, "no_types_annot": {"D": 7, "I": 0, "U": 17}, "session_id": "zG20QjlDHAjUMZDQgwURLF-IE0PXbioWmSa958HAGUs", "set": null, "tc": [false, null], "type_annot_cove": 0.29, "typed_seq": "", "untyped_seq": "", "variables": {"CACHE_DIR": "", "CURRENT_DIR": "", "DOCS_DIR": "", "EXPIRATION_DATE_PATH": "", "ROOT_DIR": "", "S3_DOC_URL": "", "S3_DOC_URL_NON_VERSIONED": "", "S3_DOC_URL_VERSIONED": ""}, "variables_p": {"CACHE_DIR": [["str", 0.8958946817527075], ["Optional[str]", 0.10410531824729265]], "CURRENT_DIR": [["str", 1.0]], "DOCS_DIR": [["str", 0.9999999999999997]], "EXPIRATION_DATE_PATH": [["str", 0.8999999999999999], ["dict", 0.09999999999999999]], "ROOT_DIR": [["str", 0.9999999999999999]], "S3_DOC_URL": [["str", 0.8172153303639557], ["Dict[str, str]", 0.1827846696360442]], "S3_DOC_URL_NON_VERSIONED": [["str", 0.569653401361877], ["list", 0.33411548791066636], ["int", 0.09623111072745656]], "S3_DOC_URL_VERSIONED": [["str", 0.43015798952754525], ["list", 0.40571893457165814], ["List[Tuple[str, Any]]", 0.08196846485530988]]}}}