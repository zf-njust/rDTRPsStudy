{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[48, 0], [53, 28]], "fn_var_ln": {"all_version": [[51, 4], [51, 15]], "r": [[49, 4], [49, 5]], "released_versions": [[52, 4], [52, 21]]}, "fn_var_occur": {"all_version": [["all_version", "r", "json", "keys"], ["released_versions", "d", "d", "all_version", "d", "d"]], "r": [["r", "requests", "get"], ["r", "raise_for_status"], ["all_version", "r", "json", "keys"]], "released_versions": [["released_versions", "d", "d", "all_version", "d", "d"]]}, "name": "fetch_pypi_versions", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "fetch_pypi_versions", "ret_exprs": ["return released_versions"], "ret_type": "builtins.list[builtins.str]", "ret_type_p": [["str", 0.5994140309379113], ["Optional[str]", 0.2066050649649207], ["bool", 0.19398090409716773]], "variables": {"all_version": "", "r": "", "released_versions": ""}, "variables_p": {"all_version": [["dict", 0.45164629600767003], ["Dict[str, int]", 0.20922521014509607], ["Pattern[str]", 0.14062557679952847], ["list", 0.07066770118959165], ["Dict[str, Any]", 0.06504420608558041]], "r": [["requests.models.Response", 0.5860672706550696], ["Type[Callable[..., Any]]", 0.10347830910199532], ["OrderedDict[str, str]", 0.08050206433424197], ["Dict[int, str]", 0.08042559755531146], ["Dict[str, Union[int, str]]", 0.07709623563976252]], "released_versions": [["int", 0.3653091290456628], ["Pattern[str]", 0.18051929386187254], ["Dict[int, str]", 0.10904810962202462], ["str", 0.0831760397847304]]}}, {"docstring": {"func": "Parses config_template.yaml new format and returns config_options", "long_descr": null, "ret": null}, "fn_lc": [[56, 0], [66, 5]], "fn_var_ln": {"config_sections": [[60, 4], [60, 19]]}, "fn_var_occur": {"config_sections": [["config_sections", "yaml", "safe_load", "config_content"], ["config_section_name", "config_option_name", "config_option_value", "config_section_name", "config_section_value", "config_sections", "items", "config_option_name", "config_option_value", "config_section_value", "items"]]}, "name": "parse_config_template_new_format", "params": {"config_content": "builtins.str"}, "params_descr": {"config_content": ""}, "params_occur": {"config_content": [["config_sections", "yaml", "safe_load", "config_content"]]}, "params_p": {"args": [], "config_content": [["str", 0.2909705438769302], ["pathlib.Path", 0.12272873665134061], ["Dict[str, dict]", 0.12272873665134061], ["dict", 0.10517042852002108], ["BinaryIO", 0.09366119655195976], ["Dict[str, Any]", 0.08728242593479166]], "kwargs": []}, "q_name": "parse_config_template_new_format", "ret_exprs": ["return { (config_section_name, config_option_name, config_option_value[\"version_added\"]) for config_section_name, config_section_value in config_sections.items() for config_option_name, config_option_value in config_section_value[\"options\"].items()}"], "ret_type": "builtins.set[builtins.tuple[builtins.str, builtins.str, builtins.str]]", "ret_type_p": [["str", 0.5017130210337714], ["dict", 0.10229695521626465], ["bool", 0.09371073777500845]], "variables": {"config_sections": ""}, "variables_p": {"config_sections": [["str", 0.5387730450711715], ["Dict[str, Any]", 0.10366661623046261], ["Dict[Any, Dict[str, Any]]", 0.08663794232030698]]}}, {"docstring": {"func": "Parses config_template.yaml old format and returns config_options", "long_descr": null, "ret": null}, "fn_lc": [[69, 0], [83, 5]], "fn_var_ln": {"config_sections": [[73, 4], [73, 19]]}, "fn_var_occur": {"config_sections": [["config_sections", "yaml", "safe_load", "config_content"], ["config_section", "config_option", "config_option", "get", "config_section", "config_sections", "config_option", "config_section"]]}, "name": "parse_config_template_old_format", "params": {"config_content": "builtins.str"}, "params_descr": {"config_content": ""}, "params_occur": {"config_content": [["config_sections", "yaml", "safe_load", "config_content"]]}, "params_p": {"args": [], "config_content": [["str", 0.3774276950261425], ["pathlib.Path", 0.11999354115577365], ["Dict[str, dict]", 0.11999354115577365], ["dict", 0.10891846152825459], ["BinaryIO", 0.09349929773692528]], "kwargs": []}, "q_name": "parse_config_template_old_format", "ret_exprs": ["return { ( config_section[\"name\"], config_option[\"name\"], config_option.get(\"version_added\"), ) for config_section in config_sections for config_option in config_section[\"options\"]}"], "ret_type": "builtins.set[builtins.tuple[builtins.str, builtins.str, builtins.str]]", "ret_type_p": [["str", 0.5071547195287527], ["dict", 0.10278880785801549], ["bool", 0.09263999348079048]], "variables": {"config_sections": ""}, "variables_p": {"config_sections": [["str", 0.20374927944470755], ["Dict[str, str]", 0.10616551919938527]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[87, 0], [98, 91]], "fn_var_ln": {"config_options": [[96, 8], [96, 22]], "content": [[92, 4], [92, 11]], "r": [[88, 4], [88, 5]]}, "fn_var_occur": {"config_options": [["config_options", "parse_config_template_new_format", "content"], ["config_options", "parse_config_template_old_format", "content"], ["section_name", "option_name", "section_name", "option_name", "_", "config_options"]], "content": [["content", "r", "text"], ["config_options", "parse_config_template_new_format", "content"], ["config_options", "parse_config_template_old_format", "content"]], "r": [["r", "requests", "get", "version_str"], ["r", "raise_for_status"], ["content", "r", "text"]]}, "name": "fetch_config_options_for_version", "params": {"version_str": "builtins.str"}, "params_descr": {"version_str": ""}, "params_occur": {"version_str": [["r", "requests", "get", "version_str"], ["version", "parse", "version_str", "version", "parse", "CONFIG_TEMPLATE_FORMAT_UPDATE"]]}, "params_p": {"args": [], "kwargs": [], "version_str": [["str", 0.8081300021389217], ["Optional[str]", 0.0881792501058396]]}, "q_name": "fetch_config_options_for_version", "ret_exprs": ["return {(section_name, option_name) for section_name, option_name, _ in config_options}"], "ret_type": "builtins.set[builtins.tuple[builtins.str, builtins.str]]", "ret_type_p": [["str", 0.9100165333932273]], "variables": {"config_options": "", "content": "", "r": ""}, "variables_p": {"config_options": [["str", 0.4890597379166377], ["List[str]", 0.31902852608552984], ["dict", 0.09793893109498657], ["Dict[str, Dict[str, Any]]", 0.09397280490284599]], "content": [["str", 0.6358013478553783]], "r": [["requests.models.Response", 1.0]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[101, 0], [105, 5]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "read_local_config_options", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "read_local_config_options", "ret_exprs": ["return parse_config_template_new_format( (ROOT_DIR / \"airflow\" / \"config_templates\" / \"config.yml\").read_text())"], "ret_type": "builtins.set[builtins.tuple[builtins.str, builtins.str, builtins.str]]", "ret_type_p": [["str", 0.1722172631579767], ["Dict[str, Any]", 0.16091513561588708], ["pathlib.Path", 0.1125118782739805]], "variables": {}, "variables_p": {}}], "imports": ["__future__", "annotations", "functools", "sys", "pathlib", "Path", "pprint", "pprint", "requests", "semver", "yaml", "packaging", "version"], "mod_var_ln": {"CONFIG_TEMPLATE_FORMAT_UPDATE": [[45, 0], [45, 29]], "KNOWN_FALSE_DETECTIONS": [[32, 0], [32, 22]], "RENAMED_SECTIONS": [[42, 0], [42, 16]], "ROOT_DIR": [[30, 0], [30, 8]], "airflow_version": [[118, 0], [118, 15]], "computed_option_new_section": [[108, 0], [108, 27]], "computed_options": [[144, 0], [144, 16]], "diff_options": [[157, 0], [157, 12]], "expected_computed_options": [[122, 0], [122, 25]], "local_options": [[137, 0], [137, 13]], "local_options_plain": [[141, 0], [141, 19]], "local_options_with_version_added": [[152, 0], [152, 32]], "new_options": [[127, 4], [127, 15]], "options": [[111, 4], [111, 11]], "options_1": [[125, 4], [125, 13]], "options_2": [[126, 4], [126, 13]], "to_check_versions": [[119, 0], [119, 17]]}, "mod_var_occur": {"CONFIG_TEMPLATE_FORMAT_UPDATE": [["version", "parse", "version_str", "version", "parse", "CONFIG_TEMPLATE_FORMAT_UPDATE"]], "KNOWN_FALSE_DETECTIONS": [["diff_options", "KNOWN_FALSE_DETECTIONS"]], "RENAMED_SECTIONS": [["RENAMED_SECTIONS"]], "ROOT_DIR": [["parse_config_template_new_format", "ROOT_DIR", "read_text"]], "airflow_version": [["to_check_versions", "builtins", "list", "builtins", "str", "d", "d", "airflow_version", "d", "startswith"]], "computed_option_new_section": [["computed_option_new_section", "update", "options"], ["new_options", "computed_option_new_section"]], "computed_options": [["print", "len", "computed_options"], ["diff_options", "builtins", "set", "builtins", "tuple", "builtins", "str", "builtins", "str", "builtins", "str", "computed_options", "local_options_with_version_added"]], "diff_options": [["diff_options", "KNOWN_FALSE_DETECTIONS"], ["diff_options"], ["pprint", "diff_options"]], "expected_computed_options": [["expected_computed_options", "update", "section_name", "option_name", "curr_version", "section_name", "option_name", "new_options"], ["print", "len", "expected_computed_options"], ["computed_options", "builtins", "set", "builtins", "tuple", "builtins", "str", "builtins", "str", "builtins", "str", "section_name", "option_name", "version_added", "section_name", "option_name", "version_added", "expected_computed_options", "section_name", "option_name", "local_options_plain"]], "local_options": [["print", "len", "local_options"], ["local_options_plain", "builtins", "set", "builtins", "tuple", "builtins", "str", "builtins", "str", "section_name", "option_name", "section_name", "option_name", "version_added", "local_options"], ["local_options_with_version_added", "builtins", "set", "builtins", "tuple", "builtins", "str", "builtins", "str", "builtins", "str", "section_name", "option_name", "version_added", "section_name", "option_name", "version_added", "local_options", "version_added"]], "local_options_plain": [["computed_options", "builtins", "set", "builtins", "tuple", "builtins", "str", "builtins", "str", "builtins", "str", "section_name", "option_name", "version_added", "section_name", "option_name", "version_added", "expected_computed_options", "section_name", "option_name", "local_options_plain"]], "local_options_with_version_added": [["diff_options", "builtins", "set", "builtins", "tuple", "builtins", "str", "builtins", "str", "builtins", "str", "computed_options", "local_options_with_version_added"]], "new_options": [["new_options", "computed_option_new_section"], ["expected_computed_options", "update", "section_name", "option_name", "curr_version", "section_name", "option_name", "new_options"]], "options": [["computed_option_new_section", "update", "options"]], "options_1": [["new_options", "options_2", "options_1"]], "options_2": [["new_options", "options_2", "options_1"]], "to_check_versions": [["zip", "to_check_versions", "to_check_versions"]]}, "no_types_annot": {"D": 14, "I": 0, "U": 19}, "session_id": "ULSOx47mLMuERKCAWJJiTh-L4VFqLa_S51pGIoDZc_Q", "set": null, "tc": [false, null], "type_annot_cove": 0.42, "typed_seq": "", "untyped_seq": "", "variables": {"CONFIG_TEMPLATE_FORMAT_UPDATE": "", "KNOWN_FALSE_DETECTIONS": "", "RENAMED_SECTIONS": "", "ROOT_DIR": "", "airflow_version": "", "computed_option_new_section": "", "computed_options": "builtins.set[builtins.tuple[builtins.str, builtins.str, builtins.str]]", "diff_options": "builtins.set[builtins.tuple[builtins.str, builtins.str, builtins.str]]", "expected_computed_options": "builtins.set[builtins.tuple[builtins.str, builtins.str, builtins.str]]", "local_options": "", "local_options_plain": "builtins.set[builtins.tuple[builtins.str, builtins.str]]", "local_options_with_version_added": "builtins.set[builtins.tuple[builtins.str, builtins.str, builtins.str]]", "new_options": "", "options": "", "options_1": "", "options_2": "", "to_check_versions": "builtins.list[builtins.str]"}, "variables_p": {"CONFIG_TEMPLATE_FORMAT_UPDATE": [["str", 0.8798644600622344], ["int", 0.12013553993776531]], "KNOWN_FALSE_DETECTIONS": [["str", 0.5946684230901762], ["float", 0.20969356540105], ["Optional[int]", 0.10857943688236747], ["complex", 0.08705857462640632]], "RENAMED_SECTIONS": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["Callable(functools.wraps)[[Named(wrapped, Callable[..., Any]), Named(assigned, Sequence[str], default), Named(updated, Sequence[str], default)], Callable[Any, Any]]", 0.1], ["str", 0.1]], "ROOT_DIR": [["str", 0.6623757837427074], ["pathlib.Path", 0.13616488173036714], ["List[str]", 0.09218038994232626]], "airflow_version": [["str", 0.49886507330468616], ["List[str]", 0.3868401571639197], ["Dict[str, str]", 0.11429476953139416]], "computed_option_new_section": [["List[str]", 0.30503342092223523], ["Type[int]", 0.2627335596199615], ["str", 0.13373448605302432], ["Set[str]", 0.1114524837081391], ["int", 0.09505515079704985], ["list", 0.09199089889959013]], "computed_options": [["List[str]", 0.271521579351341], ["str", 0.21415773200946062], ["Dict[str, Any]", 0.1377490177689868], ["Dict[str, Union[Any, Any]]", 0.11126594754567352], ["Dict[str, List[Any]]", 0.09071719451822013], ["Dict[str, Union[int, str]]", 0.08843536771251574], ["Union[Literal, str]", 0.08615316109380215]], "diff_options": [["str", 0.29740899169083], ["Tuple[Type[AttributeError], Type[NotImplementedError]]", 0.23307798203921737], ["dict", 0.093225638153713]], "expected_computed_options": [["dict", 0.20617166794481973], ["List[str]", 0.19434240096266703], ["str", 0.16660343644173758], ["Dict[str, Literal[True]]", 0.09068205163137617], ["Set[str]", 0.08856660735446203], ["Dict[str, Union[Any, Any, Any]]", 0.08404097347830616], ["list", 0.08168171137358521]], "local_options": [["Dict[str, float]", 0.5141330982973508], ["str", 0.10424440835165383], ["List[Tuple[str, str]]", 0.10168169784605503], ["OrderedDict[str, str]", 0.09421004769955596], ["dict", 0.09125250988849541]], "local_options_plain": [["Dict[str, str]", 0.9112359699203321], ["Type[Dict[str, str]]", 0.08876403007966782]], "local_options_with_version_added": [["str", 0.3659006699557383], ["Dict[str, str]", 0.2554189045047904], ["Pattern[str]", 0.0975529757618212], ["int", 0.08030127338999213]], "new_options": [["str", 0.2723607787883849], ["OrderedDict[str, str]", 0.11505344828441193], ["OrderedDict[str, OrderedDict[str, Any]]", 0.1111642990117429], ["Dict[str, str]", 0.08575451492486973]], "options": [["Dict[str, Optional[str]]", 0.20825266106207194], ["Dict[str, Union[Any, Any, Any]]", 0.16428196540065726], ["Dict[str, int]", 0.10876469825532546], ["Dict[str, Union[Any, Any, bool, str]]", 0.10817639526963961], ["Dict[str, Any]", 0.10579455344465635], ["dict", 0.08292612617640847]], "options_1": [["dict", 0.21956069124971878], ["Union[List[Any], List[str]]", 0.20860274567706696], ["Dict[str, Any]", 0.19284186857349778], ["Dict[str, Union[float, str]]", 0.10492214620967938], ["List[Dict[str, str]]", 0.1012201764964717], ["tuple", 0.08835638919173959], ["str", 0.08449598260182577]], "options_2": [["dict", 0.21956069124971878], ["Union[List[Any], List[str]]", 0.20860274567706696], ["Dict[str, Any]", 0.19284186857349778], ["Dict[str, Union[float, str]]", 0.10492214620967938], ["List[Dict[str, str]]", 0.1012201764964717], ["tuple", 0.08835638919173959], ["str", 0.08449598260182577]], "to_check_versions": [["str", 0.6898006462300225], ["int", 0.31019935376997754]]}}}