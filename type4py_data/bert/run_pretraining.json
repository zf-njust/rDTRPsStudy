{"error": null, "response": {"classes": [], "funcs": [{"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[159, 8], [161, 36]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "tpu_scaffold", "params": {}, "params_descr": {}, "params_occur": {}, "params_p": {"args": [], "kwargs": []}, "q_name": "model_fn_builder.<locals>.model_fn.<locals>.tpu_scaffold", "ret_exprs": ["return tf.train.Scaffold()"], "ret_type": "", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["str", 0.1]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Computes the loss and accuracy of the model.", "long_descr": null, "ret": null}, "fn_lc": [[187, 6], [220, 9]], "fn_var_ln": {"masked_lm_accuracy": [[198, 8], [198, 26]], "masked_lm_example_loss": [[195, 8], [195, 30]], "masked_lm_ids": [[196, 8], [196, 21]], "masked_lm_log_probs": [[191, 8], [191, 27]], "masked_lm_mean_loss": [[202, 8], [202, 27]], "masked_lm_predictions": [[193, 8], [193, 29]], "masked_lm_weights": [[197, 8], [197, 25]], "next_sentence_accuracy": [[210, 8], [210, 30]], "next_sentence_labels": [[209, 8], [209, 28]], "next_sentence_log_probs": [[205, 8], [205, 31]], "next_sentence_mean_loss": [[212, 8], [212, 31]], "next_sentence_predictions": [[207, 8], [207, 33]]}, "fn_var_occur": {"masked_lm_accuracy": [["masked_lm_accuracy", "tf", "metrics", "accuracy", "labels", "masked_lm_ids", "predictions", "masked_lm_predictions", "weights", "masked_lm_weights"], ["masked_lm_accuracy", "masked_lm_mean_loss", "next_sentence_accuracy", "next_sentence_mean_loss"]], "masked_lm_example_loss": [["masked_lm_example_loss", "tf", "reshape", "masked_lm_example_loss"], ["masked_lm_mean_loss", "tf", "metrics", "mean", "values", "masked_lm_example_loss", "weights", "masked_lm_weights"]], "masked_lm_ids": [["masked_lm_ids", "tf", "reshape", "masked_lm_ids"], ["masked_lm_accuracy", "tf", "metrics", "accuracy", "labels", "masked_lm_ids", "predictions", "masked_lm_predictions", "weights", "masked_lm_weights"]], "masked_lm_log_probs": [["masked_lm_log_probs", "tf", "reshape", "masked_lm_log_probs", "masked_lm_log_probs", "shape"], ["masked_lm_predictions", "tf", "argmax", "masked_lm_log_probs", "axis", "output_type", "tf", "int32"]], "masked_lm_mean_loss": [["masked_lm_mean_loss", "tf", "metrics", "mean", "values", "masked_lm_example_loss", "weights", "masked_lm_weights"], ["masked_lm_accuracy", "masked_lm_mean_loss", "next_sentence_accuracy", "next_sentence_mean_loss"]], "masked_lm_predictions": [["masked_lm_predictions", "tf", "argmax", "masked_lm_log_probs", "axis", "output_type", "tf", "int32"], ["masked_lm_accuracy", "tf", "metrics", "accuracy", "labels", "masked_lm_ids", "predictions", "masked_lm_predictions", "weights", "masked_lm_weights"]], "masked_lm_weights": [["masked_lm_weights", "tf", "reshape", "masked_lm_weights"], ["masked_lm_accuracy", "tf", "metrics", "accuracy", "labels", "masked_lm_ids", "predictions", "masked_lm_predictions", "weights", "masked_lm_weights"], ["masked_lm_mean_loss", "tf", "metrics", "mean", "values", "masked_lm_example_loss", "weights", "masked_lm_weights"]], "next_sentence_accuracy": [["next_sentence_accuracy", "tf", "metrics", "accuracy", "labels", "next_sentence_labels", "predictions", "next_sentence_predictions"], ["masked_lm_accuracy", "masked_lm_mean_loss", "next_sentence_accuracy", "next_sentence_mean_loss"]], "next_sentence_labels": [["next_sentence_labels", "tf", "reshape", "next_sentence_labels"], ["next_sentence_accuracy", "tf", "metrics", "accuracy", "labels", "next_sentence_labels", "predictions", "next_sentence_predictions"]], "next_sentence_log_probs": [["next_sentence_log_probs", "tf", "reshape", "next_sentence_log_probs", "next_sentence_log_probs", "shape"], ["next_sentence_predictions", "tf", "argmax", "next_sentence_log_probs", "axis", "output_type", "tf", "int32"]], "next_sentence_mean_loss": [["next_sentence_mean_loss", "tf", "metrics", "mean", "values", "next_sentence_example_loss"], ["masked_lm_accuracy", "masked_lm_mean_loss", "next_sentence_accuracy", "next_sentence_mean_loss"]], "next_sentence_predictions": [["next_sentence_predictions", "tf", "argmax", "next_sentence_log_probs", "axis", "output_type", "tf", "int32"], ["next_sentence_accuracy", "tf", "metrics", "accuracy", "labels", "next_sentence_labels", "predictions", "next_sentence_predictions"]]}, "name": "metric_fn", "params": {"masked_lm_example_loss": "", "masked_lm_ids": "", "masked_lm_log_probs": "", "masked_lm_weights": "", "next_sentence_example_loss": "", "next_sentence_labels": "", "next_sentence_log_probs": ""}, "params_descr": {"masked_lm_example_loss": "", "masked_lm_ids": "", "masked_lm_log_probs": "", "masked_lm_weights": "", "next_sentence_example_loss": "", "next_sentence_labels": "", "next_sentence_log_probs": ""}, "params_occur": {"masked_lm_example_loss": [["masked_lm_example_loss", "tf", "reshape", "masked_lm_example_loss"], ["masked_lm_mean_loss", "tf", "metrics", "mean", "values", "masked_lm_example_loss", "weights", "masked_lm_weights"]], "masked_lm_ids": [["masked_lm_ids", "tf", "reshape", "masked_lm_ids"], ["masked_lm_accuracy", "tf", "metrics", "accuracy", "labels", "masked_lm_ids", "predictions", "masked_lm_predictions", "weights", "masked_lm_weights"]], "masked_lm_log_probs": [["masked_lm_log_probs", "tf", "reshape", "masked_lm_log_probs", "masked_lm_log_probs", "shape"], ["masked_lm_predictions", "tf", "argmax", "masked_lm_log_probs", "axis", "output_type", "tf", "int32"]], "masked_lm_weights": [["masked_lm_weights", "tf", "reshape", "masked_lm_weights"], ["masked_lm_accuracy", "tf", "metrics", "accuracy", "labels", "masked_lm_ids", "predictions", "masked_lm_predictions", "weights", "masked_lm_weights"], ["masked_lm_mean_loss", "tf", "metrics", "mean", "values", "masked_lm_example_loss", "weights", "masked_lm_weights"]], "next_sentence_example_loss": [["next_sentence_mean_loss", "tf", "metrics", "mean", "values", "next_sentence_example_loss"]], "next_sentence_labels": [["next_sentence_labels", "tf", "reshape", "next_sentence_labels"], ["next_sentence_accuracy", "tf", "metrics", "accuracy", "labels", "next_sentence_labels", "predictions", "next_sentence_predictions"]], "next_sentence_log_probs": [["next_sentence_log_probs", "tf", "reshape", "next_sentence_log_probs", "next_sentence_log_probs", "shape"], ["next_sentence_predictions", "tf", "argmax", "next_sentence_log_probs", "axis", "output_type", "tf", "int32"]]}, "params_p": {"args": [], "kwargs": [], "masked_lm_example_loss": [["Optional[float]", 0.602317828122149], ["float", 0.30115891406107453]], "masked_lm_ids": [["int", 0.3105745456697069], ["\"Task\"", 0.17583194564784393], ["Sequence[str]", 0.10497323559332554], ["bool", 0.09575619203825561], ["Optional[int]", 0.09185941379923426]], "masked_lm_log_probs": [["bool", 0.30728295131866623], ["Optional[Dict[str, Any]]", 0.08980387355423707]], "masked_lm_weights": [["Optional[float]", 0.6053348231447252], ["float", 0.3026674115723626], ["List[int]", 0.09199776528291208]], "next_sentence_example_loss": [["int", 0.31503179792450553], ["List[int]", 0.1052242584586784], ["Optional[Union[Any, Any]]", 0.09747253283390356], ["str", 0.09052875661661375]], "next_sentence_labels": [["List[float]", 0.1074329748157699], ["str", 0.1074329748157699], ["int", 0.09216427571592306]], "next_sentence_log_probs": [["bool", 0.30728295131866623], ["Optional[Dict[str, Any]]", 0.08980387355423707]]}, "q_name": "model_fn_builder.<locals>.model_fn.<locals>.metric_fn", "ret_exprs": ["return { \"masked_lm_accuracy\": masked_lm_accuracy, \"masked_lm_loss\": masked_lm_mean_loss, \"next_sentence_accuracy\": next_sentence_accuracy, \"next_sentence_loss\": next_sentence_mean_loss,}"], "ret_type": "", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["str", 0.1]], "variables": {"masked_lm_accuracy": "", "masked_lm_example_loss": "", "masked_lm_ids": "", "masked_lm_log_probs": "", "masked_lm_mean_loss": "", "masked_lm_predictions": "", "masked_lm_weights": "", "next_sentence_accuracy": "", "next_sentence_labels": "", "next_sentence_log_probs": "", "next_sentence_mean_loss": "", "next_sentence_predictions": ""}, "variables_p": {"masked_lm_accuracy": [["list", 0.10377863256349953], ["str", 0.10067385097900518], ["bytes", 0.09032468463863233]], "masked_lm_example_loss": [["Optional[str]", 0.1587244578481148], ["Optional[Dict[str, Any]]", 0.0793622289240574]], "masked_lm_ids": [["dict", 0.4450272267011686], ["int", 0.387678117503997], ["Optional[int]", 0.05795580181653662], ["bytes", 0.05571466476080867]], "masked_lm_log_probs": [["Dict[str, str]", 0.20203875035124336], ["str", 0.1876241239116856], ["Dict[str, Union[Any, Any, Any]]", 0.09757572320345143], ["dict", 0.09029922828846985]], "masked_lm_mean_loss": [["float", 0.2386286367841299], ["str", 0.06311617420208283]], "masked_lm_predictions": [["dict", 0.08351884709451368], ["list", 0.08121790897036948]], "masked_lm_weights": [["Dict[str, Union[Any, str]]", 0.0741836583591781]], "next_sentence_accuracy": [["int", 0.10204646301616384]], "next_sentence_labels": [["List[str]", 0.25185838602292526], ["List[int]", 0.21220100153040322]], "next_sentence_log_probs": [["Dict[str, str]", 0.20203875035124336], ["str", 0.1876241239116856], ["Dict[str, Union[Any, Any, Any]]", 0.09757572320345143], ["dict", 0.09029922828846985]], "next_sentence_mean_loss": [["float", 0.2386286367841299], ["str", 0.06311617420208283]], "next_sentence_predictions": [["dict", 0.08351884709451368], ["list", 0.08121790897036948]]}}, {"docstring": {"func": "The `model_fn` for TPUEstimator.", "long_descr": null, "ret": null}, "fn_lc": [[114, 2], [235, 22]], "fn_var_ln": {"assignment_map": [[155, 7], [155, 21]], "eval_metrics": [[222, 6], [222, 18]], "init_string": [[171, 8], [171, 19]], "initialized_variable_names": [[155, 23], [155, 49]], "input_ids": [[121, 4], [121, 13]], "input_mask": [[122, 4], [122, 14]], "is_training": [[129, 4], [129, 15]], "masked_lm_example_loss": [[140, 5], [140, 27]], "masked_lm_ids": [[125, 4], [125, 17]], "masked_lm_log_probs": [[140, 29], [140, 48]], "masked_lm_loss": [[139, 5], [139, 19]], "masked_lm_positions": [[124, 4], [124, 23]], "masked_lm_weights": [[126, 4], [126, 21]], "model": [[131, 4], [131, 9]], "next_sentence_example_loss": [[144, 25], [144, 51]], "next_sentence_labels": [[127, 4], [127, 24]], "next_sentence_log_probs": [[145, 5], [145, 28]], "next_sentence_loss": [[144, 5], [144, 23]], "output_spec": [[227, 6], [227, 17]], "scaffold_fn": [[163, 8], [163, 19]], "segment_ids": [[123, 4], [123, 15]], "total_loss": [[148, 4], [148, 14]], "train_op": [[177, 6], [177, 14]], "tvars": [[150, 4], [150, 9]]}, "fn_var_occur": {"assignment_map": [], "eval_metrics": [["eval_metrics", "metric_fn", "masked_lm_example_loss", "masked_lm_log_probs", "masked_lm_ids", "masked_lm_weights", "next_sentence_example_loss", "next_sentence_log_probs", "next_sentence_labels"], ["output_spec", "tf", "contrib", "tpu", "TPUEstimatorSpec", "mode", "mode", "loss", "total_loss", "eval_metrics", "eval_metrics", "scaffold_fn", "scaffold_fn"]], "init_string": [], "initialized_variable_names": [], "input_ids": [], "input_mask": [], "is_training": [], "masked_lm_example_loss": [["eval_metrics", "metric_fn", "masked_lm_example_loss", "masked_lm_log_probs", "masked_lm_ids", "masked_lm_weights", "next_sentence_example_loss", "next_sentence_log_probs", "next_sentence_labels"]], "masked_lm_ids": [["eval_metrics", "metric_fn", "masked_lm_example_loss", "masked_lm_log_probs", "masked_lm_ids", "masked_lm_weights", "next_sentence_example_loss", "next_sentence_log_probs", "next_sentence_labels"]], "masked_lm_log_probs": [["eval_metrics", "metric_fn", "masked_lm_example_loss", "masked_lm_log_probs", "masked_lm_ids", "masked_lm_weights", "next_sentence_example_loss", "next_sentence_log_probs", "next_sentence_labels"]], "masked_lm_loss": [], "masked_lm_positions": [], "masked_lm_weights": [["eval_metrics", "metric_fn", "masked_lm_example_loss", "masked_lm_log_probs", "masked_lm_ids", "masked_lm_weights", "next_sentence_example_loss", "next_sentence_log_probs", "next_sentence_labels"]], "model": [], "next_sentence_example_loss": [["eval_metrics", "metric_fn", "masked_lm_example_loss", "masked_lm_log_probs", "masked_lm_ids", "masked_lm_weights", "next_sentence_example_loss", "next_sentence_log_probs", "next_sentence_labels"]], "next_sentence_labels": [["eval_metrics", "metric_fn", "masked_lm_example_loss", "masked_lm_log_probs", "masked_lm_ids", "masked_lm_weights", "next_sentence_example_loss", "next_sentence_log_probs", "next_sentence_labels"]], "next_sentence_log_probs": [["eval_metrics", "metric_fn", "masked_lm_example_loss", "masked_lm_log_probs", "masked_lm_ids", "masked_lm_weights", "next_sentence_example_loss", "next_sentence_log_probs", "next_sentence_labels"]], "next_sentence_loss": [], "output_spec": [["output_spec", "tf", "contrib", "tpu", "TPUEstimatorSpec", "mode", "mode", "loss", "total_loss", "eval_metrics", "eval_metrics", "scaffold_fn", "scaffold_fn"]], "scaffold_fn": [["output_spec", "tf", "contrib", "tpu", "TPUEstimatorSpec", "mode", "mode", "loss", "total_loss", "eval_metrics", "eval_metrics", "scaffold_fn", "scaffold_fn"]], "segment_ids": [], "total_loss": [["output_spec", "tf", "contrib", "tpu", "TPUEstimatorSpec", "mode", "mode", "loss", "total_loss", "eval_metrics", "eval_metrics", "scaffold_fn", "scaffold_fn"]], "train_op": [], "tvars": []}, "name": "model_fn", "params": {"features": "", "labels": "", "mode": "", "params": ""}, "params_descr": {"features": "", "labels": "", "mode": "", "params": ""}, "params_occur": {"features": [], "labels": [], "mode": [["output_spec", "tf", "contrib", "tpu", "TPUEstimatorSpec", "mode", "mode", "loss", "total_loss", "eval_metrics", "eval_metrics", "scaffold_fn", "scaffold_fn"], ["ValueError", "mode"]], "params": []}, "params_p": {"args": [], "features": [["str", 0.3333333332913216], ["Dict[str, tensorflow.Tensor]", 0.33333333326614006], ["tensorflow.Tensor", 0.33333333326614006], ["bool", 1.0467246626985074e-10], ["List[dict]", 3.5414203485342744e-11]], "kwargs": [], "labels": [["str", 0.3333333332913216], ["Dict[str, tensorflow.Tensor]", 0.33333333326614006], ["tensorflow.Tensor", 0.33333333326614006], ["bool", 1.0467246626985074e-10], ["List[dict]", 3.5414203485342744e-11]], "mode": [["bytes", 0.11133190409188903], ["List[str]", 0.10292934609924814], ["str", 0.10137785653346038], ["int", 0.09331553659982791], ["bool", 0.09103927553235866]], "params": [["str", 0.3333333332913216], ["Dict[str, tensorflow.Tensor]", 0.33333333326614006], ["tensorflow.Tensor", 0.33333333326614006], ["bool", 1.0467246626985074e-10], ["List[dict]", 3.5414203485342744e-11]]}, "q_name": "model_fn_builder.<locals>.model_fn", "ret_exprs": ["return output_spec"], "ret_type": "", "ret_type_p": [["str", 0.6256956291922424], ["Optional[str]", 0.10807271365816276], ["Set[str]", 0.10048801147829596], ["Dict[str, str]", 0.0841487131975795], ["int", 0.08159493247371935]], "variables": {"assignment_map": "", "eval_metrics": "", "init_string": "", "initialized_variable_names": "", "input_ids": "", "input_mask": "", "is_training": "", "masked_lm_example_loss": "", "masked_lm_ids": "", "masked_lm_log_probs": "", "masked_lm_loss": "", "masked_lm_positions": "", "masked_lm_weights": "", "model": "", "next_sentence_example_loss": "", "next_sentence_labels": "", "next_sentence_log_probs": "", "next_sentence_loss": "", "output_spec": "", "scaffold_fn": "", "segment_ids": "", "total_loss": "", "train_op": "", "tvars": ""}, "variables_p": {"assignment_map": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "eval_metrics": [["str", 0.10470117052806278]], "init_string": [["int", 0.6], ["str", 0.30000000000000004], ["list", 0.1]], "initialized_variable_names": [["list", 0.24999999945293058], ["Optional[Match[str]]", 0.24999999945293058], ["str", 1.885659670064516e-09], ["List[str]", 3.0261803458856793e-10]], "input_ids": [["Optional[str]", 0.09999999999999999], ["int", 0.09999999999999999], ["List[int]", 0.09999999999999999]], "input_mask": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "is_training": [["bool", 0.6], ["int", 0.2]], "masked_lm_example_loss": [["str", 0.10470117052806278]], "masked_lm_ids": [["str", 0.6945639080225193], ["int", 0.16207568569045383]], "masked_lm_log_probs": [["int", 0.2711429738579526], ["List[str]", 0.1499516119923663], ["list", 0.10276174928298869], ["str", 0.08415834696128341]], "masked_lm_loss": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "masked_lm_positions": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "masked_lm_weights": [["str", 0.10470117052806278]], "model": [], "next_sentence_example_loss": [["str", 0.10470117052806278]], "next_sentence_labels": [["str", 0.09157754161092252], ["int", 0.09105784197678453]], "next_sentence_log_probs": [["int", 0.2711429738579526], ["List[str]", 0.1499516119923663], ["list", 0.10276174928298869], ["str", 0.08415834696128341]], "next_sentence_loss": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]], "output_spec": [["List[str]", 0.41182584662461447], ["bool", 0.09233998708529365], ["Iterator[str]", 0.08719324220170128], ["Dict[str, int]", 0.08127481723546252], ["Dict[str, str]", 0.06739998928500265]], "scaffold_fn": [["str", 5.487060028804559e-11], ["int", 3.0383651764605475e-11], ["List[Tuple[int, int]]", 1.510689345148451e-11], ["List[str]", 1.4364996824581076e-11], ["Set[str]", 1.3865284998225552e-11]], "segment_ids": [["Optional[str]", 0.09999999999999999], ["int", 0.09999999999999999], ["List[int]", 0.09999999999999999]], "total_loss": [["str", 5.487060028804559e-11], ["int", 3.0383651764605475e-11], ["List[Tuple[int, int]]", 1.510689345148451e-11], ["List[str]", 1.4364996824581076e-11], ["Set[str]", 1.3865284998225552e-11]], "train_op": [["int", 0.9999999999999999]], "tvars": [["str", 0.4], ["List[str]", 0.1], ["int", 0.1], ["Dict[str, List[Any]]", 0.1], ["Tuple[str, str, str, str, str, str, str, str]", 0.1]]}}, {"docstring": {"func": "Returns `model_fn` closure for TPUEstimator.", "long_descr": null, "ret": null}, "fn_lc": [[109, 0], [237, 17]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "model_fn_builder", "params": {"bert_config": "", "init_checkpoint": "", "learning_rate": "", "num_train_steps": "", "num_warmup_steps": "", "use_one_hot_embeddings": "", "use_tpu": ""}, "params_descr": {"bert_config": "", "init_checkpoint": "", "learning_rate": "", "num_train_steps": "", "num_warmup_steps": "", "use_one_hot_embeddings": "", "use_tpu": ""}, "params_occur": {"bert_config": [], "init_checkpoint": [], "learning_rate": [], "num_train_steps": [], "num_warmup_steps": [], "use_one_hot_embeddings": [], "use_tpu": []}, "params_p": {"args": [], "bert_config": [["bool", 0.39719119444326845], ["float", 0.2123435534592176], ["str", 0.19859559722163422]], "init_checkpoint": [["bool", 0.39719119444326845], ["float", 0.2123435534592176], ["str", 0.19859559722163422]], "kwargs": [], "learning_rate": [["bool", 0.39719119444326845], ["float", 0.2123435534592176], ["str", 0.19859559722163422]], "num_train_steps": [["bool", 0.39719119444326845], ["float", 0.2123435534592176], ["str", 0.19859559722163422]], "num_warmup_steps": [["bool", 0.39719119444326845], ["float", 0.2123435534592176], ["str", 0.19859559722163422]], "use_one_hot_embeddings": [["bool", 0.39719119444326845], ["float", 0.2123435534592176], ["str", 0.19859559722163422]], "use_tpu": [["bool", 0.39719119444326845], ["float", 0.2123435534592176], ["str", 0.19859559722163422]]}, "q_name": "model_fn_builder", "ret_exprs": ["return model_fn"], "ret_type": "", "ret_type_p": [], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Get loss and log probs for the masked LM.", "long_descr": null, "ret": null}, "fn_lc": [[240, 0], [282, 44]], "fn_var_ln": {"denominator": [[279, 4], [279, 15]], "input_tensor": [[255, 6], [255, 18]], "label_ids": [[267, 4], [267, 13]], "label_weights": [[268, 4], [268, 17]], "log_probs": [[265, 4], [265, 13]], "logits": [[264, 4], [264, 10]], "loss": [[280, 4], [280, 8]], "numerator": [[278, 4], [278, 13]], "one_hot_labels": [[270, 4], [270, 18]], "output_bias": [[259, 4], [259, 15]], "per_example_loss": [[277, 4], [277, 20]]}, "fn_var_occur": {"denominator": [["denominator", "tf", "reduce_sum", "label_weights"], ["loss", "numerator", "denominator"]], "input_tensor": [["input_tensor", "gather_indexes", "input_tensor", "positions"], ["input_tensor", "tf", "layers", "dense", "input_tensor", "units", "bert_config", "hidden_size", "activation", "modeling", "get_activation", "bert_config", "hidden_act", "kernel_initializer", "modeling", "create_initializer", "bert_config", "initializer_range"], ["input_tensor", "modeling", "layer_norm", "input_tensor"], ["logits", "tf", "matmul", "input_tensor", "output_weights", "transpose_b", "True"]], "label_ids": [["label_ids", "tf", "reshape", "label_ids"], ["one_hot_labels", "tf", "one_hot", "label_ids", "depth", "bert_config", "vocab_size", "dtype", "tf", "float32"]], "label_weights": [["label_weights", "tf", "reshape", "label_weights"], ["numerator", "tf", "reduce_sum", "label_weights", "per_example_loss"], ["denominator", "tf", "reduce_sum", "label_weights"]], "log_probs": [["log_probs", "tf", "nn", "log_softmax", "logits", "axis"], ["per_example_loss", "tf", "reduce_sum", "log_probs", "one_hot_labels", "axis"], ["loss", "per_example_loss", "log_probs"]], "logits": [["logits", "tf", "matmul", "input_tensor", "output_weights", "transpose_b", "True"], ["logits", "tf", "nn", "bias_add", "logits", "output_bias"], ["log_probs", "tf", "nn", "log_softmax", "logits", "axis"]], "loss": [["loss", "numerator", "denominator"], ["loss", "per_example_loss", "log_probs"]], "numerator": [["numerator", "tf", "reduce_sum", "label_weights", "per_example_loss"], ["loss", "numerator", "denominator"]], "one_hot_labels": [["one_hot_labels", "tf", "one_hot", "label_ids", "depth", "bert_config", "vocab_size", "dtype", "tf", "float32"], ["per_example_loss", "tf", "reduce_sum", "log_probs", "one_hot_labels", "axis"]], "output_bias": [["output_bias", "tf", "get_variable", "shape", "bert_config", "vocab_size", "initializer", "tf", "zeros_initializer"], ["logits", "tf", "nn", "bias_add", "logits", "output_bias"]], "per_example_loss": [["per_example_loss", "tf", "reduce_sum", "log_probs", "one_hot_labels", "axis"], ["numerator", "tf", "reduce_sum", "label_weights", "per_example_loss"], ["loss", "per_example_loss", "log_probs"]]}, "name": "get_masked_lm_output", "params": {"bert_config": "", "input_tensor": "", "label_ids": "", "label_weights": "", "output_weights": "", "positions": ""}, "params_descr": {"bert_config": "", "input_tensor": "", "label_ids": "", "label_weights": "", "output_weights": "", "positions": ""}, "params_occur": {"bert_config": [["input_tensor", "tf", "layers", "dense", "input_tensor", "units", "bert_config", "hidden_size", "activation", "modeling", "get_activation", "bert_config", "hidden_act", "kernel_initializer", "modeling", "create_initializer", "bert_config", "initializer_range"], ["output_bias", "tf", "get_variable", "shape", "bert_config", "vocab_size", "initializer", "tf", "zeros_initializer"], ["one_hot_labels", "tf", "one_hot", "label_ids", "depth", "bert_config", "vocab_size", "dtype", "tf", "float32"]], "input_tensor": [["input_tensor", "gather_indexes", "input_tensor", "positions"], ["input_tensor", "tf", "layers", "dense", "input_tensor", "units", "bert_config", "hidden_size", "activation", "modeling", "get_activation", "bert_config", "hidden_act", "kernel_initializer", "modeling", "create_initializer", "bert_config", "initializer_range"], ["input_tensor", "modeling", "layer_norm", "input_tensor"], ["logits", "tf", "matmul", "input_tensor", "output_weights", "transpose_b", "True"]], "label_ids": [["label_ids", "tf", "reshape", "label_ids"], ["one_hot_labels", "tf", "one_hot", "label_ids", "depth", "bert_config", "vocab_size", "dtype", "tf", "float32"]], "label_weights": [["label_weights", "tf", "reshape", "label_weights"], ["numerator", "tf", "reduce_sum", "label_weights", "per_example_loss"], ["denominator", "tf", "reduce_sum", "label_weights"]], "output_weights": [["logits", "tf", "matmul", "input_tensor", "output_weights", "transpose_b", "True"]], "positions": [["input_tensor", "gather_indexes", "input_tensor", "positions"]]}, "params_p": {"args": [], "bert_config": [["Callable", 0.33490683736904336], ["int", 0.0835028570100785]], "input_tensor": [["dict", 0.10038418307544612]], "kwargs": [], "label_ids": [["bool", 0.09641574347638823]], "label_weights": [["int", 0.09703764836321331], ["Tuple[str, str, str]", 0.0951770614448662]], "output_weights": [["Callable", 0.10933745183340637], ["int", 0.09323793189990726], ["Optional[int]", 0.09082923123713102]], "positions": [["int", 0.09703764836321331], ["Tuple[str, str, str]", 0.0951770614448662]]}, "q_name": "get_masked_lm_output", "ret_exprs": ["return (loss, per_example_loss, log_probs)"], "ret_type": "", "ret_type_p": [["Callable", 0.3132066608938836]], "variables": {"denominator": "", "input_tensor": "", "label_ids": "", "label_weights": "", "log_probs": "", "logits": "", "loss": "", "numerator": "", "one_hot_labels": "", "output_bias": "", "per_example_loss": ""}, "variables_p": {"denominator": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]], "input_tensor": [], "label_ids": [["int", 0.0987462359410978], ["Optional[int]", 0.09701593560785252]], "label_weights": [["str", 0.30000000000000004], ["list", 0.1], ["float", 0.1], ["List[List[Any]]", 0.1], ["Set[str]", 0.1], ["List[int]", 0.1]], "log_probs": [["int", 0.18139136212143706], ["bool", 0.14933758636512792], ["list", 0.11128634177976142], ["List[float]", 0.10276806770593597]], "logits": [["Tuple[Literal]", 0.08893834598672064], ["int", 0.07574232044029709], ["str", 0.07574232044029709]], "loss": [], "numerator": [["int", 0.2], ["dict", 0.1], ["List[int]", 0.1], ["List[List[int]]", 0.1], ["str", 0.1]], "one_hot_labels": [["int", 0.33293330385915737], ["str", 0.2217009070837338], ["tuple", 0.09854927789320914], ["Dict[str, Any]", 0.08709147891930162], ["List[int]", 0.08659906073096926]], "output_bias": [["int", 0.19410564518402723], ["List[Tuple[str, Any]]", 0.11511341885143243], ["dict", 0.10269799074854272], ["str", 0.10052683399334772], ["list", 0.09412260864823263], ["List[str]", 0.09061355964085278]], "per_example_loss": [["float", 0.1050217228219875], ["List[float]", 0.08661154090978655]]}}, {"docstring": {"func": "Get loss and log probs for the next sentence prediction.", "long_descr": null, "ret": null}, "fn_lc": [[285, 0], [305, 46]], "fn_var_ln": {"labels": [[301, 4], [301, 10]], "log_probs": [[300, 4], [300, 13]], "logits": [[299, 4], [299, 10]], "loss": [[304, 4], [304, 8]], "one_hot_labels": [[302, 4], [302, 18]], "output_bias": [[295, 4], [295, 15]], "output_weights": [[291, 4], [291, 18]], "per_example_loss": [[303, 4], [303, 20]]}, "fn_var_occur": {"labels": [["labels", "tf", "reshape", "labels"], ["one_hot_labels", "tf", "one_hot", "labels", "depth", "dtype", "tf", "float32"]], "log_probs": [["log_probs", "tf", "nn", "log_softmax", "logits", "axis"], ["per_example_loss", "tf", "reduce_sum", "one_hot_labels", "log_probs", "axis"], ["loss", "per_example_loss", "log_probs"]], "logits": [["logits", "tf", "matmul", "input_tensor", "output_weights", "transpose_b", "True"], ["logits", "tf", "nn", "bias_add", "logits", "output_bias"], ["log_probs", "tf", "nn", "log_softmax", "logits", "axis"]], "loss": [["loss", "tf", "reduce_mean", "per_example_loss"], ["loss", "per_example_loss", "log_probs"]], "one_hot_labels": [["one_hot_labels", "tf", "one_hot", "labels", "depth", "dtype", "tf", "float32"], ["per_example_loss", "tf", "reduce_sum", "one_hot_labels", "log_probs", "axis"]], "output_bias": [["output_bias", "tf", "get_variable", "shape", "initializer", "tf", "zeros_initializer"], ["logits", "tf", "nn", "bias_add", "logits", "output_bias"]], "output_weights": [["output_weights", "tf", "get_variable", "shape", "bert_config", "hidden_size", "initializer", "modeling", "create_initializer", "bert_config", "initializer_range"], ["logits", "tf", "matmul", "input_tensor", "output_weights", "transpose_b", "True"]], "per_example_loss": [["per_example_loss", "tf", "reduce_sum", "one_hot_labels", "log_probs", "axis"], ["loss", "tf", "reduce_mean", "per_example_loss"], ["loss", "per_example_loss", "log_probs"]]}, "name": "get_next_sentence_output", "params": {"bert_config": "", "input_tensor": "", "labels": ""}, "params_descr": {"bert_config": "", "input_tensor": "", "labels": ""}, "params_occur": {"bert_config": [["output_weights", "tf", "get_variable", "shape", "bert_config", "hidden_size", "initializer", "modeling", "create_initializer", "bert_config", "initializer_range"]], "input_tensor": [["logits", "tf", "matmul", "input_tensor", "output_weights", "transpose_b", "True"]], "labels": [["labels", "tf", "reshape", "labels"], ["one_hot_labels", "tf", "one_hot", "labels", "depth", "dtype", "tf", "float32"]]}, "params_p": {"args": [], "bert_config": [["Dict[str, Any]", 0.10146625003032309], ["Optional[int]", 0.09777522383687524]], "input_tensor": [], "kwargs": [], "labels": []}, "q_name": "get_next_sentence_output", "ret_exprs": ["return (loss, per_example_loss, log_probs)"], "ret_type": "", "ret_type_p": [["Callable", 0.3132066608938836]], "variables": {"labels": "", "log_probs": "", "logits": "", "loss": "", "one_hot_labels": "", "output_bias": "", "output_weights": "", "per_example_loss": ""}, "variables_p": {"labels": [["str", 0.19298997815704316], ["List[str]", 0.12088942220471334], ["int", 0.09288688296345773]], "log_probs": [["int", 0.19475350512821873], ["bool", 0.14058684029052454], ["List[float]", 0.1088830086698001], ["list", 0.10521802120606284]], "logits": [["Tuple[Literal]", 0.08893834598672064], ["int", 0.07574232044029709], ["str", 0.07574232044029709]], "loss": [], "one_hot_labels": [["frozenset[Any]", 0.24879725790301335], ["str", 0.22718060663408512], ["List[Tuple[str, Any, Any]]", 0.09038576604721821]], "output_bias": [["str", 0.29086266920197396], ["dict", 0.1209201865559009], ["ClassVar[bool]", 0.1078249542587391], ["PyLibs.tensorflow.python.debug.cli.debugger_cli_common.RichTextLines", 0.09158712205432243]], "output_weights": [["dict", 0.09601720491284271], ["str", 0.0869238559366326], ["Iterator[Any]", 0.08376256115970475]], "per_example_loss": [["List[str]", 0.15917498506368943], ["str", 0.14450230536416855], ["Type[str]", 0.11310685229629859]]}}, {"docstring": {"func": "Gathers the vectors at the specific positions over a minibatch.", "long_descr": null, "ret": null}, "fn_lc": [[308, 0], [321, 22]], "fn_var_ln": {"batch_size": [[311, 2], [311, 12]], "flat_offsets": [[315, 2], [315, 14]], "flat_positions": [[317, 2], [317, 16]], "flat_sequence_tensor": [[318, 2], [318, 22]], "output_tensor": [[320, 2], [320, 15]], "seq_length": [[312, 2], [312, 12]], "sequence_shape": [[310, 2], [310, 16]], "width": [[313, 2], [313, 7]]}, "fn_var_occur": {"batch_size": [["batch_size", "sequence_shape"], ["flat_offsets", "tf", "reshape", "tf", "range", "batch_size", "dtype", "tf", "int32", "seq_length"], ["flat_sequence_tensor", "tf", "reshape", "sequence_tensor", "batch_size", "seq_length", "width"]], "flat_offsets": [["flat_offsets", "tf", "reshape", "tf", "range", "batch_size", "dtype", "tf", "int32", "seq_length"], ["flat_positions", "tf", "reshape", "positions", "flat_offsets"]], "flat_positions": [["flat_positions", "tf", "reshape", "positions", "flat_offsets"], ["output_tensor", "tf", "gather", "flat_sequence_tensor", "flat_positions"]], "flat_sequence_tensor": [["flat_sequence_tensor", "tf", "reshape", "sequence_tensor", "batch_size", "seq_length", "width"], ["output_tensor", "tf", "gather", "flat_sequence_tensor", "flat_positions"]], "output_tensor": [["output_tensor", "tf", "gather", "flat_sequence_tensor", "flat_positions"]], "seq_length": [["seq_length", "sequence_shape"], ["flat_offsets", "tf", "reshape", "tf", "range", "batch_size", "dtype", "tf", "int32", "seq_length"], ["flat_sequence_tensor", "tf", "reshape", "sequence_tensor", "batch_size", "seq_length", "width"]], "sequence_shape": [["sequence_shape", "modeling", "get_shape_list", "sequence_tensor", "expected_rank"], ["batch_size", "sequence_shape"], ["seq_length", "sequence_shape"], ["width", "sequence_shape"]], "width": [["width", "sequence_shape"], ["flat_sequence_tensor", "tf", "reshape", "sequence_tensor", "batch_size", "seq_length", "width"]]}, "name": "gather_indexes", "params": {"positions": "", "sequence_tensor": ""}, "params_descr": {"positions": "", "sequence_tensor": ""}, "params_occur": {"positions": [["flat_positions", "tf", "reshape", "positions", "flat_offsets"]], "sequence_tensor": [["sequence_shape", "modeling", "get_shape_list", "sequence_tensor", "expected_rank"], ["flat_sequence_tensor", "tf", "reshape", "sequence_tensor", "batch_size", "seq_length", "width"]]}, "params_p": {"args": [], "kwargs": [], "positions": [["int", 0.30000000000000004], ["Callable", 0.2], ["str", 0.1]], "sequence_tensor": [["Mapping[str, Any]", 0.09591502104642531]]}, "q_name": "gather_indexes", "ret_exprs": ["return output_tensor"], "ret_type": "", "ret_type_p": [["str", 0.5242230958551379], ["int", 0.17440464992359625], ["Optional[str]", 0.1048446191710276]], "variables": {"batch_size": "", "flat_offsets": "", "flat_positions": "", "flat_sequence_tensor": "", "output_tensor": "", "seq_length": "", "sequence_shape": "", "width": ""}, "variables_p": {"batch_size": [["int", 0.5070258715656449], ["str", 0.20353344071459856], ["List[int]", 0.09675423177202302]], "flat_offsets": [["int", 0.42763674282988356], ["Tuple[Literal, Literal, Literal]", 0.09729546259642022], ["Optional[int]", 0.09455733115638955], ["Dict[int, int]", 0.09116511460752873]], "flat_positions": [["float", 0.08579246130266435], ["list", 0.03339193772640758]], "flat_sequence_tensor": [["int", 0.49997890950332463], ["list", 0.0971670058207122]], "output_tensor": [["List[str]", 0.41182584662461447], ["bool", 0.09233998708529365], ["Iterator[str]", 0.08719324220170128], ["Dict[str, int]", 0.08127481723546252], ["Dict[str, str]", 0.06739998928500265]], "seq_length": [["int", 0.33709851533028173], ["List[float]", 0.09543693620331326]], "sequence_shape": [["str", 0.1976626871694357], ["list", 0.09422479571992434]], "width": [["int", 0.5899444421169442], ["float", 0.19252175472037525], ["Tuple[Literal, Literal, Literal]", 0.13222585629381686], ["Dict[str, float]", 0.0853079468688638]]}}, {"docstring": {"func": "The actual input function.", "long_descr": null, "ret": null}, "fn_lc": [[331, 2], [386, 12]], "fn_var_ln": {"batch_size": [[333, 4], [333, 14]], "cycle_length": [[360, 6], [360, 18]], "d": [[380, 4], [380, 5]], "name_to_features": [[335, 4], [335, 20]]}, "fn_var_occur": {"batch_size": [["batch_size", "params"], ["d", "d", "apply", "tf", "contrib", "data", "map_and_batch", "record", "_decode_record", "record", "name_to_features", "batch_size", "batch_size", "num_parallel_batches", "num_cpu_threads", "drop_remainder", "True"]], "cycle_length": [["cycle_length", "min", "num_cpu_threads", "len", "input_files"], ["d", "d", "apply", "tf", "contrib", "data", "parallel_interleave", "tf", "data", "TFRecordDataset", "sloppy", "is_training", "cycle_length", "cycle_length"]], "d": [["d", "tf", "data", "Dataset", "from_tensor_slices", "tf", "constant", "input_files"], ["d", "d", "repeat"], ["d", "d", "shuffle", "buffer_size", "len", "input_files"], ["d", "d", "apply", "tf", "contrib", "data", "parallel_interleave", "tf", "data", "TFRecordDataset", "sloppy", "is_training", "cycle_length", "cycle_length"], ["d", "d", "shuffle", "buffer_size"], ["d", "tf", "data", "TFRecordDataset", "input_files"], ["d", "d", "repeat"], ["d", "d", "apply", "tf", "contrib", "data", "map_and_batch", "record", "_decode_record", "record", "name_to_features", "batch_size", "batch_size", "num_parallel_batches", "num_cpu_threads", "drop_remainder", "True"]], "name_to_features": [["name_to_features", "tf", "FixedLenFeature", "max_seq_length", "tf", "int64", "tf", "FixedLenFeature", "max_seq_length", "tf", "int64", "tf", "FixedLenFeature", "max_seq_length", "tf", "int64", "tf", "FixedLenFeature", "max_predictions_per_seq", "tf", "int64", "tf", "FixedLenFeature", "max_predictions_per_seq", "tf", "int64", "tf", "FixedLenFeature", "max_predictions_per_seq", "tf", "float32", "tf", "FixedLenFeature", "tf", "int64"], ["d", "d", "apply", "tf", "contrib", "data", "map_and_batch", "record", "_decode_record", "record", "name_to_features", "batch_size", "batch_size", "num_parallel_batches", "num_cpu_threads", "drop_remainder", "True"]]}, "name": "input_fn", "params": {"params": ""}, "params_descr": {"params": ""}, "params_occur": {"params": [["batch_size", "params"]]}, "params_p": {"args": [], "kwargs": [], "params": [["float", 0.4999999998944645], ["int", 5.3667308480448e-11], ["List[Tuple[int, int]]", 2.218973759525547e-11]]}, "q_name": "input_fn_builder.<locals>.input_fn", "ret_exprs": ["return d"], "ret_type": "", "ret_type_p": [["dict", 0.2155356325793273], ["Dict[str, bool]", 0.20233908460619224], ["Union[Dict, str]", 0.10244554214035077], ["Dict[str, Any]", 0.09693415778986708], ["int", 0.0959184973223934]], "variables": {"batch_size": "", "cycle_length": "", "d": "", "name_to_features": ""}, "variables_p": {"batch_size": [["int", 0.8194939727242131], ["str", 0.08004325178153153]], "cycle_length": [["int", 0.8302491391832169], ["Dict[str, int]", 0.08291304594770832]], "d": [], "name_to_features": [["int", 0.2928840014562616], ["Final", 0.14599460828915936], ["Dict[str, str]", 0.08181310560331204], ["str", 0.08004617059277125]]}}, {"docstring": {"func": "Creates an `input_fn` closure to be passed to TPUEstimator.", "long_descr": null, "ret": null}, "fn_lc": [[324, 0], [388, 17]], "fn_var_ln": {}, "fn_var_occur": {}, "name": "input_fn_builder", "params": {"input_files": "", "is_training": "", "max_predictions_per_seq": "", "max_seq_length": "", "num_cpu_threads": ""}, "params_descr": {"input_files": "", "is_training": "", "max_predictions_per_seq": "", "max_seq_length": "", "num_cpu_threads": ""}, "params_occur": {"input_files": [], "is_training": [], "max_predictions_per_seq": [], "max_seq_length": [], "num_cpu_threads": []}, "params_p": {"args": [], "input_files": [["bool", 0.9011057918285413]], "is_training": [["bool", 0.9011057918285413]], "kwargs": [], "max_predictions_per_seq": [["bool", 0.9011057918285413]], "max_seq_length": [["bool", 0.9011057918285413]], "num_cpu_threads": [["bool", 0.9011057918285413]]}, "q_name": "input_fn_builder", "ret_exprs": ["return input_fn"], "ret_type": "", "ret_type_p": [["Sequence", 0.0954529807059512], ["str", 0.09128778041179392], ["Callable[[T], bool]", 0.09108460492370701]], "variables": {}, "variables_p": {}}, {"docstring": {"func": "Decodes a record to a TensorFlow example.", "long_descr": null, "ret": null}, "fn_lc": [[391, 0], [403, 16]], "fn_var_ln": {"example": [[393, 2], [393, 9]], "t": [[400, 6], [400, 7]]}, "fn_var_occur": {"example": [["example", "tf", "parse_single_example", "record", "name_to_features"], ["list", "example", "keys"], ["t", "example", "name"], ["example", "name", "t"]], "t": [["t", "example", "name"], ["t", "dtype", "tf", "int64"], ["t", "tf", "to_int32", "t"], ["example", "name", "t"]]}, "name": "_decode_record", "params": {"name_to_features": "", "record": ""}, "params_descr": {"name_to_features": "", "record": ""}, "params_occur": {"name_to_features": [["example", "tf", "parse_single_example", "record", "name_to_features"]], "record": [["example", "tf", "parse_single_example", "record", "name_to_features"]]}, "params_p": {"args": [], "kwargs": [], "name_to_features": [["List[str]", 0.5808273028091755], ["bool", 0.19897225137398106], ["str", 0.12554595634993526]], "record": [["List[str]", 0.5808273028091755], ["bool", 0.19897225137398106], ["str", 0.12554595634993526]]}, "q_name": "_decode_record", "ret_exprs": ["return example"], "ret_type": "", "ret_type_p": [["int", 0.30000000000000004], ["Callable", 0.2], ["str", 0.1]], "variables": {"example": "", "t": ""}, "variables_p": {"example": [["dict", 0.48412367675183743], ["list", 0.08501279162381728]], "t": [["T", 0.123470190675182], ["float", 0.10422734402144247], ["Type[T]", 0.1009569837518597], ["List[str]", 0.08935244936152673]]}}, {"docstring": {"func": null, "long_descr": null, "ret": null}, "fn_lc": [[406, 0], [486, 59]], "fn_var_ln": {"bert_config": [[412, 2], [412, 13]], "estimator": [[451, 2], [451, 11]], "eval_input_fn": [[472, 4], [472, 17]], "input_files": [[416, 2], [416, 13]], "is_per_host": [[429, 2], [429, 13]], "model_fn": [[440, 2], [440, 10]], "output_eval_file": [[481, 4], [481, 20]], "result": [[478, 4], [478, 10]], "run_config": [[430, 2], [430, 12]], "tpu_cluster_resolver": [[426, 4], [426, 24]], "train_input_fn": [[461, 4], [461, 18]]}, "fn_var_occur": {"bert_config": [["bert_config", "modeling", "BertConfig", "from_json_file", "FLAGS", "bert_config_file"], ["model_fn", "model_fn_builder", "bert_config", "bert_config", "init_checkpoint", "FLAGS", "init_checkpoint", "learning_rate", "FLAGS", "learning_rate", "num_train_steps", "FLAGS", "num_train_steps", "num_warmup_steps", "FLAGS", "num_warmup_steps", "use_tpu", "FLAGS", "use_tpu", "use_one_hot_embeddings", "FLAGS", "use_tpu"]], "estimator": [["estimator", "tf", "contrib", "tpu", "TPUEstimator", "use_tpu", "FLAGS", "use_tpu", "model_fn", "model_fn", "config", "run_config", "train_batch_size", "FLAGS", "train_batch_size", "eval_batch_size", "FLAGS", "eval_batch_size"], ["estimator", "train", "input_fn", "train_input_fn", "max_steps", "FLAGS", "num_train_steps"], ["result", "estimator", "evaluate", "input_fn", "eval_input_fn", "steps", "FLAGS", "max_eval_steps"]], "eval_input_fn": [["eval_input_fn", "input_fn_builder", "input_files", "input_files", "max_seq_length", "FLAGS", "max_seq_length", "max_predictions_per_seq", "FLAGS", "max_predictions_per_seq", "is_training", "False"], ["result", "estimator", "evaluate", "input_fn", "eval_input_fn", "steps", "FLAGS", "max_eval_steps"]], "input_files": [["input_files", "extend", "tf", "gfile", "Glob", "input_pattern"], ["train_input_fn", "input_fn_builder", "input_files", "input_files", "max_seq_length", "FLAGS", "max_seq_length", "max_predictions_per_seq", "FLAGS", "max_predictions_per_seq", "is_training", "True"], ["eval_input_fn", "input_fn_builder", "input_files", "input_files", "max_seq_length", "FLAGS", "max_seq_length", "max_predictions_per_seq", "FLAGS", "max_predictions_per_seq", "is_training", "False"]], "is_per_host": [["is_per_host", "tf", "contrib", "tpu", "InputPipelineConfig", "PER_HOST_V2"], ["run_config", "tf", "contrib", "tpu", "RunConfig", "cluster", "tpu_cluster_resolver", "master", "FLAGS", "master", "model_dir", "FLAGS", "output_dir", "save_checkpoints_steps", "FLAGS", "save_checkpoints_steps", "tpu_config", "tf", "contrib", "tpu", "TPUConfig", "iterations_per_loop", "FLAGS", "iterations_per_loop", "num_shards", "FLAGS", "num_tpu_cores", "per_host_input_for_training", "is_per_host"]], "model_fn": [["model_fn", "model_fn_builder", "bert_config", "bert_config", "init_checkpoint", "FLAGS", "init_checkpoint", "learning_rate", "FLAGS", "learning_rate", "num_train_steps", "FLAGS", "num_train_steps", "num_warmup_steps", "FLAGS", "num_warmup_steps", "use_tpu", "FLAGS", "use_tpu", "use_one_hot_embeddings", "FLAGS", "use_tpu"], ["estimator", "tf", "contrib", "tpu", "TPUEstimator", "use_tpu", "FLAGS", "use_tpu", "model_fn", "model_fn", "config", "run_config", "train_batch_size", "FLAGS", "train_batch_size", "eval_batch_size", "FLAGS", "eval_batch_size"]], "output_eval_file": [["output_eval_file", "os", "path", "join", "FLAGS", "output_dir"], ["tf", "gfile", "GFile", "output_eval_file", "writer"]], "result": [["result", "estimator", "evaluate", "input_fn", "eval_input_fn", "steps", "FLAGS", "max_eval_steps"], ["sorted", "result", "keys"], ["tf", "logging", "info", "key", "str", "result", "key"], ["writer", "write", "key", "str", "result", "key"]], "run_config": [["run_config", "tf", "contrib", "tpu", "RunConfig", "cluster", "tpu_cluster_resolver", "master", "FLAGS", "master", "model_dir", "FLAGS", "output_dir", "save_checkpoints_steps", "FLAGS", "save_checkpoints_steps", "tpu_config", "tf", "contrib", "tpu", "TPUConfig", "iterations_per_loop", "FLAGS", "iterations_per_loop", "num_shards", "FLAGS", "num_tpu_cores", "per_host_input_for_training", "is_per_host"], ["estimator", "tf", "contrib", "tpu", "TPUEstimator", "use_tpu", "FLAGS", "use_tpu", "model_fn", "model_fn", "config", "run_config", "train_batch_size", "FLAGS", "train_batch_size", "eval_batch_size", "FLAGS", "eval_batch_size"]], "tpu_cluster_resolver": [["tpu_cluster_resolver", "None"], ["tpu_cluster_resolver", "tf", "contrib", "cluster_resolver", "TPUClusterResolver", "FLAGS", "tpu_name", "zone", "FLAGS", "tpu_zone", "project", "FLAGS", "gcp_project"], ["run_config", "tf", "contrib", "tpu", "RunConfig", "cluster", "tpu_cluster_resolver", "master", "FLAGS", "master", "model_dir", "FLAGS", "output_dir", "save_checkpoints_steps", "FLAGS", "save_checkpoints_steps", "tpu_config", "tf", "contrib", "tpu", "TPUConfig", "iterations_per_loop", "FLAGS", "iterations_per_loop", "num_shards", "FLAGS", "num_tpu_cores", "per_host_input_for_training", "is_per_host"]], "train_input_fn": [["train_input_fn", "input_fn_builder", "input_files", "input_files", "max_seq_length", "FLAGS", "max_seq_length", "max_predictions_per_seq", "FLAGS", "max_predictions_per_seq", "is_training", "True"], ["estimator", "train", "input_fn", "train_input_fn", "max_steps", "FLAGS", "num_train_steps"]]}, "name": "main", "params": {"_": ""}, "params_descr": {"_": ""}, "params_occur": {"_": []}, "params_p": {"_": [["List[str]", 0.49999999999999994], ["bool", 0.3], ["Optional[Sequence[str]]", 0.09999999999999999], ["Optional[List[str]]", 0.09999999999999999]], "args": [], "kwargs": []}, "q_name": "main", "ret_exprs": [], "ret_type": "", "variables": {"bert_config": "", "estimator": "", "eval_input_fn": "", "input_files": "", "is_per_host": "", "model_fn": "", "output_eval_file": "", "result": "", "run_config": "", "tpu_cluster_resolver": "", "train_input_fn": ""}, "variables_p": {"bert_config": [["Dict[str, str]", 0.5890786976157901], ["Dict[str, Dict[str, str]]", 0.1841408626395764], ["Tuple[str]", 0.12913064179705758], ["str", 0.09764979794757583]], "estimator": [], "eval_input_fn": [["int", 0.3810058964087551], ["str", 0.21057119758894313], ["tuple", 0.18878707200492317]], "input_files": [["os.DirEntry", 0.1252707328744274], ["dict", 0.11203932444810727], ["BinaryIO", 0.10093008620876102], ["str", 0.07889078086644127]], "is_per_host": [["bool", 0.13231291267795825]], "model_fn": [["str", 0.2938503125246256], ["Tuple[str]", 0.13768254803714264], ["Dict[str, Dict[str, str]]", 0.11255076319096578], ["Dict[str, str]", 0.08878361321081776]], "output_eval_file": [["str", 0.9010472990470118], ["List[str]", 0.09895270095298808]], "result": [], "run_config": [["str", 0.27831586279493925], ["Dict[str, Union[int, str]]", 0.12576133897902964]], "tpu_cluster_resolver": [], "train_input_fn": [["int", 0.3810058964087551], ["str", 0.21057119758894313], ["tuple", 0.18878707200492317]]}}], "imports": ["__future__", "absolute_import", "__future__", "division", "__future__", "print_function", "os", "modeling", "optimization", "tensorflow", "tf"], "mod_var_ln": {"FLAGS": [[28, 0], [28, 5]], "flags": [[26, 0], [26, 5]]}, "mod_var_occur": {"FLAGS": [["FLAGS", "do_train", "FLAGS", "do_eval"], ["bert_config", "modeling", "BertConfig", "from_json_file", "FLAGS", "bert_config_file"], ["tf", "gfile", "MakeDirs", "FLAGS", "output_dir"], ["FLAGS", "input_file", "split"], ["FLAGS", "use_tpu", "FLAGS", "tpu_name"], ["tpu_cluster_resolver", "tf", "contrib", "cluster_resolver", "TPUClusterResolver", "FLAGS", "tpu_name", "zone", "FLAGS", "tpu_zone", "project", "FLAGS", "gcp_project"], ["run_config", "tf", "contrib", "tpu", "RunConfig", "cluster", "tpu_cluster_resolver", "master", "FLAGS", "master", "model_dir", "FLAGS", "output_dir", "save_checkpoints_steps", "FLAGS", "save_checkpoints_steps", "tpu_config", "tf", "contrib", "tpu", "TPUConfig", "iterations_per_loop", "FLAGS", "iterations_per_loop", "num_shards", "FLAGS", "num_tpu_cores", "per_host_input_for_training", "is_per_host"], ["model_fn", "model_fn_builder", "bert_config", "bert_config", "init_checkpoint", "FLAGS", "init_checkpoint", "learning_rate", "FLAGS", "learning_rate", "num_train_steps", "FLAGS", "num_train_steps", "num_warmup_steps", "FLAGS", "num_warmup_steps", "use_tpu", "FLAGS", "use_tpu", "use_one_hot_embeddings", "FLAGS", "use_tpu"], ["estimator", "tf", "contrib", "tpu", "TPUEstimator", "use_tpu", "FLAGS", "use_tpu", "model_fn", "model_fn", "config", "run_config", "train_batch_size", "FLAGS", "train_batch_size", "eval_batch_size", "FLAGS", "eval_batch_size"], ["FLAGS", "do_train"], ["tf", "logging", "info", "FLAGS", "train_batch_size"], ["train_input_fn", "input_fn_builder", "input_files", "input_files", "max_seq_length", "FLAGS", "max_seq_length", "max_predictions_per_seq", "FLAGS", "max_predictions_per_seq", "is_training", "True"], ["estimator", "train", "input_fn", "train_input_fn", "max_steps", "FLAGS", "num_train_steps"], ["FLAGS", "do_eval"], ["tf", "logging", "info", "FLAGS", "eval_batch_size"], ["eval_input_fn", "input_fn_builder", "input_files", "input_files", "max_seq_length", "FLAGS", "max_seq_length", "max_predictions_per_seq", "FLAGS", "max_predictions_per_seq", "is_training", "False"], ["result", "estimator", "evaluate", "input_fn", "eval_input_fn", "steps", "FLAGS", "max_eval_steps"], ["output_eval_file", "os", "path", "join", "FLAGS", "output_dir"]], "flags": [["FLAGS", "flags", "FLAGS"], ["flags", "DEFINE_string", "None"], ["flags", "DEFINE_string", "None"], ["flags", "DEFINE_string", "None"], ["flags", "DEFINE_string", "None"], ["flags", "DEFINE_integer"], ["flags", "DEFINE_integer"], ["flags", "DEFINE_bool", "False"], ["flags", "DEFINE_bool", "False"], ["flags", "DEFINE_integer"], ["flags", "DEFINE_integer"], ["flags", "DEFINE_float"], ["flags", "DEFINE_integer"], ["flags", "DEFINE_integer"], ["flags", "DEFINE_integer"], ["flags", "DEFINE_integer"], ["flags", "DEFINE_integer"], ["flags", "DEFINE_bool", "False"], ["tf", "flags", "DEFINE_string", "None"], ["tf", "flags", "DEFINE_string", "None"], ["tf", "flags", "DEFINE_string", "None"], ["tf", "flags", "DEFINE_string", "None"], ["flags", "DEFINE_integer"], ["flags", "mark_flag_as_required"], ["flags", "mark_flag_as_required"], ["flags", "mark_flag_as_required"]]}, "no_types_annot": {"D": 0, "I": 0, "U": 121}, "session_id": "Cb_AJMFg9P_qeUhmZwFaU2nj60pWtOeOS3JrKVJeMdk", "set": null, "tc": [false, null], "type_annot_cove": 0.0, "typed_seq": "", "untyped_seq": "", "variables": {"FLAGS": "", "flags": ""}, "variables_p": {"FLAGS": [["str", 0.6361674405885775], ["List[int]", 0.08815676890617093]], "flags": [["list", 0.11935580967609766], ["str", 0.10768420167698146]]}}}