==================
3de78b7a;Thomas Grainger;2022-03-18 20:18:22 +0000;avoid thread unsafe iteration of _ioloop_for_asyncio (#3125)
* avoid thread unsafe iteration of _ioloop_for_asyncio

See https://twitter.com/raymondh/status/1252759650224619521

* catch KeyError from potential concurrent _ioloop_for_asyncio deletes
==

tornado/platform/asyncio.py
==================
7eab7d80;Thomas Grainger;2022-03-18 20:17:50 +0000;upgrade mypy to 0.941 (#3123)

==

maint/requirements.in
maint/requirements.txt
tornado/httputil.py
tornado/test/__init__.py
tornado/test/gettext_translations/extract_me.py
tornado/test/httpclient_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/tcpserver_test.py
tornado/test/testing_test.py
tornado/testing.py
tornado/wsgi.py
==================
ba068451;Thomas Grainger;2022-03-18 18:53:37 +0000;avoid thread unsafe catch_warnings (#3124)
`with warnings.catch_warnings():` mutates the warnings filters for the
whole process and so is unsafe to call from multiple threads
==

tornado/ioloop.py
tornado/platform/asyncio.py
tornado/test/asyncio_test.py
==================
f8893a51;Ben Darnell;2022-03-18 14:10:14 -0400;Merge pull request #3120 from andriyor/patch-1
add GitHub URL for PyPi
==
==================
9bfb96be;Ben Darnell;2022-03-18 13:43:02 -0400;Merge pull request #3122 from cclauss/patch-1
Upgrade actions/checkout and actions/setup-python
==
==================
486cb2e6;Thomas Grainger;2022-03-18 16:57:32 +0000; netutil: provide Resolver implementation that uses the asyncio eventloop (#3111)
* provide Resolver implementation that uses the asyncio eventloop

* switch to the DefaultLoopResolver by default
==

maint/scripts/test_resolvers.py
tornado/netutil.py
==================
91642168;Christian Clauss;2022-03-12 13:17:24 +0100;Upgrade actions/checkout and actions/setup-python

==

.github/workflows/build.yml
==================
2d36b945;Christian Clauss;2022-03-12 13:15:47 +0100;Upgrade actions/checkout and actions/setup-python

==

.github/workflows/test.yml
==================
4417599b;Andrii Oriekhov;2022-02-28 16:22:33 +0200;add GitHub URL for PyPi

==

setup.py
==================
00c9e0ae;Ben Darnell;2022-02-07 21:45:45 -0500;Merge pull request #3110 from graingert/avoid-acquiring-io-loop-in-executor-resolver
avoid acquiring IOLoop in ExecutorResolver
==
==================
8c9be655;Ben Darnell;2022-02-07 21:45:08 -0500;Merge pull request #3112 from bdarnell/fix-docs
web: Fix type annotation for docs build
==
==================
bf116788;Ben Darnell;2022-02-07 21:20:47 -0500;web: Fix type annotation for docs build
Our version of sphinx isn't resolving this annotation correctly.

Introduced in #3014 because CI was broken when it was submitted.

==

docs/conf.py
tornado/web.py
==================
43bd9cef;Thomas Grainger;2022-02-07 18:13:37 +0000;avoid acquiring IOLoop in ExecutorResolver

==

tornado/netutil.py
==================
e18ea03f;Ben Darnell;2022-02-05 21:24:44 -0500;Merge pull request #3035 from ploxiln/ioloop_any_callable
ioloop: add_timeout() and call_at() take any Callable
==
==================
98a51d09;Ben Darnell;2022-02-05 21:19:13 -0500;Merge pull request #3014 from m-sasha/stream_request_body_type
Type-hint stream_request_body correctly
==
==================
73aed85a;Ben Darnell;2022-02-05 15:09:20 -0500;Merge pull request #3060 from jonasehrlich/add-wrapped-attribute
Add __wrapped__ attribute to _TestMethodWrapper
==
==================
dae451a7;Ben Darnell;2022-02-04 21:01:30 -0500;Merge pull request #3109 from tornadoweb/bdarnell-patch-1
docs: Delete a redundant sentence
==
==================
35ce1982;Ben Darnell;2022-02-04 14:40:15 -0500;docs: Delete a redundant sentence

==

docs/guide/security.rst
==================
9d44a5a0;Ben Darnell;2022-01-30 16:26:49 -0500;Merge pull request #3059 from minrk/catch-close-error
swallow "Event loop is closed" from selector thread
==
==================
b2877c8e;Ben Darnell;2022-01-30 15:59:58 -0500;Merge pull request #3105 from bdarnell/py311
build: Add python 3.11 alphas to CI
==
==================
fe71a31d;Ben Darnell;2022-01-30 15:01:14 -0500;build: Add python 3.11 alphas to CI
Updates #3077

==

.github/workflows/test.yml
tox.ini
==================
68c3b15f;Ben Darnell;2022-01-30 15:36:51 -0500;Merge pull request #3058 from qcha0/hotfix/websocket-client-closed-error
Fix websocket client already closed raise error does not match
==
==================
a76a58d6;Ben Darnell;2022-01-30 15:18:16 -0500;options: Fix RST syntax

==

tornado/options.py
==================
a6947351;Ben Darnell;2022-01-30 14:22:15 -0500;Merge pull request #3082 from Python-37/patch-1
Add note about `parse_command_line` function
==
==================
6231ebec;Ben Darnell;2022-01-29 15:14:16 -0500;Merge pull request #3086 from laggardkernel/feature/cleanup-finish-read
Remove obsolete param 'streaming' in BaseIOStream._finish_read()
==
==================
26207ee9;Ben Darnell;2022-01-29 14:55:23 -0500;Merge pull request #3101 from graingert/patch-1
avoid deprecated IOLoop.current() call without running loop in quickstart demo
==
==================
e9fa60de;Ben Darnell;2022-01-29 14:49:54 -0500;Merge pull request #3054 from akosthekiss/statichandlerclass-reset
Call reset() on static_handler_class if defined in application settings
==
==================
6e476049;Ben Darnell;2022-01-29 14:17:29 -0500;Merge pull request #3072 from spaceone/curl-httpclient-header-encoding
fix[curl_httpclient]: allow HTTP header to include non-ASCII ISO8859-1 values
==
==================
1f4036d8;Florian Best;2022-01-28 21:29:51 +0100;fixup! make gen.TimeoutError asyncio.TimeoutError

==

tornado/test/import_test.py
==================
58d105fd;Florian Best;2022-01-28 21:00:58 +0100;test[curl_httpclient]: add test case for ISO8859-1 header values

==

tornado/test/httpclient_test.py
==================
2c045484;Ben Darnell;2022-01-28 14:49:10 -0500;Merge pull request #3094 from JelleZijlstra/patch-1
Handle curses.tigetstr() returning None
==
==================
4230bbc0;Florian Best;2021-10-17 22:24:10 +0200;fix[curl_httpclient]: allow HTTP header to include non-ASCII ISO8859-1 values

==

tornado/curl_httpclient.py
==================
4ca96188;Ben Darnell;2022-01-28 13:35:32 -0500;Merge pull request #3073 from minrk/asyncio-timeout
make gen.TimeoutError asyncio.TimeoutError
==
==================
c7a594af;Ben Darnell;2022-01-27 20:45:31 -0500;Merge pull request #3068 from spaceone/get_browser_locale
Fix tornado.web.RequestHandler.get_browser_locale()
==
==================
020c2f3f;Thomas Grainger;2022-01-18 11:15:52 +0000;avoid deprecated IOLoop.current() call without running loop

==

README.rst
docs/guide/running.rst
docs/guide/structure.rst
docs/index.rst
==================
e4615991;Ben Darnell;2022-01-16 23:13:46 -0500;Merge pull request #3097 from bdarnell/py310-deprecations
Handle deprecations in python 3.10
==
==================
1f8aab8b;Ben Darnell;2022-01-16 20:37:54 -0500;build: Add python 3.10 to CI. Remove 3.6

==

.github/workflows/test.yml
docs/index.rst
pyproject.toml
setup.cfg
setup.py
tornado/test/process_test.py
tornado/testing.py
tox.ini
==================
d1442a38;Ben Darnell;2022-01-16 19:27:49 -0500;test: Remove twisted compatibility test
Now that compatibility between tornado and twisted is based on
asyncio, this test isn't very useful any more. It is broken by the
deprecations introduced in Python 3.10 and isn't worth reviving.

==

.github/workflows/test.yml
tornado/test/twisted_test.py
==================
5083089e;Ben Darnell;2021-12-30 21:34:11 -0500;test: Fix some test interactions
These tests work in isolation but cause failures in the full suite
due to the leftover state of the asyncio event loop. Add cleanup to one
test and make another more tolerant of leftover state.

==

tornado/test/asyncio_test.py
tornado/test/ioloop_test.py
tornado/test/testing_test.py
==================
69a398b0;Ben Darnell;2021-12-28 19:44:19 -0500;netutil: Use newer ssl APIs
Pass a client/server flag to all SSL context creations. This is required
to avoid deprecations in Python 3.10. This is a behavior change for
client-side connections: certificate verification and hostname checks
are now enabled in more situations (previously, the high-level
interfaces would generally enforce these requirements but the low-level
interfaces like SSLIOStream did not).

==

tornado/iostream.py
tornado/netutil.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/simple_httpclient_test.py
==================
5a939f76;Ben Darnell;2021-12-28 15:56:33 -0500;testing: Deprecate AsyncTestCase
The interfaces defined by this class rely on an event loop being
"current" even though it is not running; this is incompatible with
the future of the asyncio module.

It's too big a task to rewrite all the tests right now, so just
swallow deprecation warnings for "no current event loop".

==

tornado/testing.py
==================
ebe6d07e;Ben Darnell;2021-12-28 15:17:45 -0500;testing: Move setup_with_context_manager to testing module

==

tornado/test/ioloop_test.py
tornado/test/util.py
tornado/testing.py
==================
2cecd603;Ben Darnell;2021-12-28 14:52:52 -0500;asyncio: Avoid deprecation warning in start on py310
Also avoid deprecated asyncio.get_event_loop in asyncio_test.

==

tornado/platform/asyncio.py
tornado/test/asyncio_test.py
==================
ebba482a;Ben Darnell;2021-12-28 14:24:42 -0500;ioloop: Deprecate setting current ioloop for python 3.10
asyncio.get_event_loop and related methods are deprecated in python
3.10, so deprecate some IOLoop functionality to match. Specifically,
make_current, clear_current, and the IOLoop constructor are deprecated
in favor of initializing the asyncio event loop and calling
IOLoop.current(). (The IOLoop constructor is not deprecated if
make_current=False is used. This is useful in test frameworks but is
not expected to see general use).

==

tornado/ioloop.py
tornado/platform/asyncio.py
tornado/test/asyncio_test.py
tornado/test/httpclient_test.py
tornado/test/ioloop_test.py
tornado/test/util.py
tornado/testing.py
==================
5f2405af;Ben Darnell;2021-12-03 13:07:30 -0500;asyncio: Deprecate AnyThreadEventLoopPolicy
Implicit creation of event loops has been deprecated in Python 3.10.
Since AnyThreadEventLoopPolicy modifies the rules for implicit loop
creation, it is also deprecated.

==

tornado/platform/asyncio.py
tornado/test/asyncio_test.py
==================
861487f2;Ben Darnell;2022-01-16 16:48:42 -0500;Merge pull request #3100 from tornadoweb/ghactions
ci: move CI to github actions
==
==================
e82bd95c;Ben Darnell;2021-12-31 15:26:28 -0500;ci: move CI to github actions
Our previous CI on Travis has been broken for a while due to their
move from travis-ci.org to travis-ci.com. Instead of fixing things up
there, move everything to github actions.

==

.github/workflows/build.yml
.github/workflows/test.yml
.travis.yml
pyproject.toml
tornado/test/options_test.py
==================
473788d3;Jelle Zijlstra;2021-12-17 09:25:41 -0800;Handle curses.tigetstr() returning None
Found with python/typeshed#6620
==

tornado/log.py
==================
b7822526;laggardkernel;2021-12-08 18:55:39 +0800;Cleanup py2 import code in demo

==

demos/file_upload/file_receiver.py
demos/file_upload/file_uploader.py
==================
a8982b3e;laggardkernel;2021-12-08 18:55:18 +0800;Remove obsolete param 'streaming' in BaseIOStream._finish_read()
Parameter 'streaming' has been obsolete since a55c7fe7 in 2018-07
when `_run_read_callback()` was renamed to `_finish_read()`.
This param should be removed as well after the removal of callback
in IOStream.

==

tornado/iostream.py
==================
5fccebd3;Python-37;2021-12-01 10:38:45 +0800;Add note about `parse_*` function in options.py

==

tornado/options.py
==================
6c27cfae;Python-37;2021-11-29 17:56:02 +0800;Add note about `parse_command_line` function

==

tornado/options.py
==================
208672f3;Ben Darnell;2021-11-02 21:12:50 -0400;Merge pull request #3074 from tornadoweb/dependabot/pip/docs/babel-2.9.1
build(deps): bump babel from 2.8.0 to 2.9.1 in /docs
==
==================
95b01c0a;dependabot[bot];2021-10-21 18:50:02 +0000;build(deps): bump babel from 2.8.0 to 2.9.1 in /docs
Bumps [babel](https://github.com/python-babel/babel) from 2.8.0 to 2.9.1.
- [Release notes](https://github.com/python-babel/babel/releases)
- [Changelog](https://github.com/python-babel/babel/blob/master/CHANGES)
- [Commits](https://github.com/python-babel/babel/compare/v2.8.0...v2.9.1)

---
updated-dependencies:
- dependency-name: babel
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
==

docs/requirements.txt
==================
24be0c1e;Min RK;2021-10-19 13:25:46 +0200;make gen.TimeoutError asyncio.TimeoutError
for more consistent catching of timeouts with other asyncio code

==

docs/util.rst
tornado/gen.py
tornado/ioloop.py
tornado/test/import_test.py
tornado/util.py
==================
ecb79f92;Florian Best;2021-10-15 09:58:39 +0200;test[web]: add test cases for Accept-Language header

==

tornado/test/web_test.py
==================
d28e2886;Florian Best;2021-10-02 00:53:50 +0200;fix[web]: disallow negative quality values in Accept-Language
`Accept-Language: en-US; q=-1` is not allowed. ignore it.
Even better would be to raise HTTP 400 Bad Request.

==

tornado/web.py
==================
455eb292;Florian Best;2021-10-02 00:46:07 +0200;fix[web]: fix ignoring quality=0 values in Accept-Language
`Accept-Language: en-US; q=0, de-DE; q=0.5` means that english MUST not
be selected.

==

tornado/web.py
==================
797e5a88;Florian Best;2021-10-02 00:42:04 +0200;fix[web]: fix optional whitespace parsing of Accept-Language header
HTTP allows OWS between parameters:
`Accept-Language: de-DE; q=0.1, en-US; q=0.2`

==

tornado/web.py
==================
4427df1c;Jonas Ehrlich;2021-09-05 21:31:15 +0200;Add __wrapped__ attribute to _TestMethodWrapper
Since Python 3.2 the functools.wraps decorator adds a __wrapped__ attribute
pointing to the original callable, this allows wrapped functions to be introspected.

==

tornado/test/testing_test.py
tornado/testing.py
==================
71e5b53e;qcha0;2021-09-04 10:14:41 +0800;add test case

==

tornado/test/websocket_test.py
==================
df8a88f5;Min RK;2021-09-03 13:40:25 +0200;swallow "Event loop is closed" from selector thread
same catch as in `add_callback` for the same reasons - the selector thread may race with an asyncio_loop.close in the main thread

seen running tests with pytest-asyncio

==

tornado/platform/asyncio.py
==================
14a52b36;qcha0;2021-09-03 18:19:44 +0800;Fix websocket client already closed raise error does not match
As doc says "If the stream is closed, raises WebSocketClosedError"

==

tornado/websocket.py
==================
977a9503;Akos Kiss;2021-08-28 22:55:47 +0200;Call reset() on static_handler_class if defined in application settings

==

tornado/web.py
==================
790715ae;Ben Darnell;2021-08-26 14:53:13 -0400;Merge pull request #3053 from bfis/patch-2
Avoid 2GB write limitation on SSLIOStream
==
==================
a4b2f788;Ben Darnell;2021-08-26 14:51:25 -0400;iostream: Fix copy/pasted comment
Co-authored-by: Pierce Lopez <pierce.lopez@gmail.com>
==

tornado/iostream.py
==================
c9b9a9da;Ben Darnell;2021-08-26 14:47:27 -0400;Merge pull request #3052 from hugovk/replace-deprecated-unittest-aliases
Replace deprecated unittest aliases
==
==================
4e57fdb9;Ben Darnell;2021-08-26 14:32:15 -0400;Merge pull request #3048 from mivade/httpfile-type-hints
Type hint HTTPFile attributes
==
==================
3bd666cb;bfis;2021-08-24 12:43:19 +0200;Avoid 2GB write limitation on SSLIOStream

==

tornado/iostream.py
==================
5c16457c;Hugo van Kemenade;2021-08-19 13:21:09 +0300;Replace deprecated unittest aliases

==

tornado/test/concurrent_test.py
tornado/test/httpclient_test.py
tornado/test/iostream_test.py
tornado/test/log_test.py
tornado/test/options_test.py
==================
f24ffd41;Michael V. DePalatis;2021-08-03 09:04:00 -0600;Type hint HTTPFile attributes

==

tornado/httputil.py
==================
aa9d32d5;Ben Darnell;2021-07-09 14:05:14 -0400;Merge pull request #3041 from samm0ss/sam/feat/encoding-gzip-case-insensitive
Fix case-sensitivity for Content-Encoding: gzip. as per rfc7231 the C…
==
==================
0cf7a2a8;Alexander Maryanovsky;2021-04-12 19:37:02 +0300;Type-hint stream_request_body so that the type of stream_request_body(cls) is the same as the type of cls.

==

tornado/web.py
==================
e26fd0cd;SamvanLeipsig;2021-07-01 13:20:24 +0200;Fix case-sensitivity for Content-Encoding: gzip. as per rfc7231 the Content-Encoding values are case-insensitive https://datatracker.ietf.org/doc/html/rfc7231#section-3.1.2.1

==

tornado/http1connection.py
tornado/test/httpserver_test.py
==================
ad1c4d5b;Pierce Lopez;2021-05-31 17:55:06 -0400;ioloop: add_timeout() and call_at() take any Callable
clean-up some methods that were missed in
https://github.com/tornadoweb/tornado/pull/2924

==

tornado/ioloop.py
tornado/platform/asyncio.py
==================
a9fbbeee;Pierce Lopez;2021-05-30 11:33:14 -0400;PeriodicCallback: support async/coroutine callback (#2924)
ISSUE: https://github.com/tornadoweb/tornado/issues/2828

* ioloop: call_later() and call_at() take any Callable coroutine or plain, returning any type

Co-authored-by: agnewee <agnewee@gmail.com>
==

tornado/ioloop.py
tornado/platform/asyncio.py
tornado/test/ioloop_test.py
==================
da4130b3;Ben Darnell;2021-05-15 15:24:25 -0400;Merge pull request #3010 from alexmv/is_valid_ip
is_valid_ip: Do not raise exceptions on too-long input.
==
==================
149159d1;Alex Vandiver;2021-04-07 13:11:15 -0700;is_valid_ip: Do not raise exceptions on too-long input.
is_valid_ip calls `socket.getaddrinfo` with `socket.AI_NUMERICHOST` on
the potential "ip"; even though IP addresses are not hostnames and do
not use the `idna` encoding, `socket.getaddrinfo` will raise
UnicodeError if the potential "ip" is longer than 63 characters long,
the RFC-mandated max hostname length.

Catch these UnicodeErrors and return false for too-long IPs, rather
than raising an exception.

==

tornado/netutil.py
tornado/test/netutil_test.py
==================
5d64b899;Ben Darnell;2021-05-09 12:27:35 -0400;Merge pull request #3025 from mivade/periodic-callback-timedelta
Accept timedelta objects in PeriodicCallback
==
==================
dfeec653;Michael V. DePalatis;2021-05-05 09:55:24 -0600;Update docstring

==

tornado/ioloop.py
==================
44ebfc35;Michael V. DePalatis;2021-05-05 09:53:49 -0600;Optionally accept a timedelta in PeriodicCallback

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
ac85f4f5;Ben Darnell;2021-04-21 15:58:33 -0400;Merge pull request #3015 from tornadoweb/dependabot/pip/maint/py-1.10.0
build(deps): bump py from 1.9.0 to 1.10.0 in /maint
==
==================
919aeafc;dependabot[bot];2021-04-20 17:16:45 +0000;build(deps): bump py from 1.9.0 to 1.10.0 in /maint
Bumps [py](https://github.com/pytest-dev/py) from 1.9.0 to 1.10.0.
- [Release notes](https://github.com/pytest-dev/py/releases)
- [Changelog](https://github.com/pytest-dev/py/blob/master/CHANGELOG.rst)
- [Commits](https://github.com/pytest-dev/py/compare/1.9.0...1.10.0)

Signed-off-by: dependabot[bot] <support@github.com>
==

maint/requirements.txt
==================
1db5b459;Ben Darnell;2021-04-03 12:36:51 -0400;Merge pull request #3006 from tornadoweb/dependabot/pip/docs/pygments-2.7.4
build(deps): bump pygments from 2.7.2 to 2.7.4 in /docs
==
==================
f6abc389;dependabot[bot];2021-03-30 02:01:42 +0000;build(deps): bump pygments from 2.7.2 to 2.7.4 in /docs
Bumps [pygments](https://github.com/pygments/pygments) from 2.7.2 to 2.7.4.
- [Release notes](https://github.com/pygments/pygments/releases)
- [Changelog](https://github.com/pygments/pygments/blob/master/CHANGES)
- [Commits](https://github.com/pygments/pygments/compare/2.7.2...2.7.4)

Signed-off-by: dependabot[bot] <support@github.com>
==

docs/requirements.txt
==================
04268b7a;Ben Darnell;2021-03-20 11:46:43 -0400;Merge pull request #3000 from GeekDuanLian/patch-1
Allowed set max_body_size to 0
==
==================
b3fd12b6;Ben Darnell;2021-03-20 11:45:45 -0400;Merge pull request #3003 from tornadoweb/dependabot/pip/docs/jinja2-2.11.3
build(deps): bump jinja2 from 2.11.2 to 2.11.3 in /docs
==
==================
4d47f9d3;Ben Darnell;2021-03-20 11:38:37 -0400;Merge pull request #2996 from madsbk/typed_memoryviews
BaseIOStream.write(): support typed memoryviews
==
==================
696ff863;dependabot[bot];2021-03-20 05:20:28 +0000;build(deps): bump jinja2 from 2.11.2 to 2.11.3 in /docs
Bumps [jinja2](https://github.com/pallets/jinja) from 2.11.2 to 2.11.3.
- [Release notes](https://github.com/pallets/jinja/releases)
- [Changelog](https://github.com/pallets/jinja/blob/master/CHANGES.rst)
- [Commits](https://github.com/pallets/jinja/compare/2.11.2...2.11.3)

Signed-off-by: dependabot[bot] <support@github.com>
==

docs/requirements.txt
==================
d893c303;Sakuya;2021-03-16 13:31:49 +0800;Is this okay

==

tornado/http1connection.py
==================
30552c23;Sakuya;2021-03-16 13:22:18 +0800;But this is not beautiful

==

tornado/http1connection.py
==================
63333209;Sakuya;2021-03-16 05:06:24 +0800;what

==

tornado/http1connection.py
==================
d3fddb9d;Sakuya;2021-03-16 04:44:19 +0800;fix E127

==

tornado/http1connection.py
==================
c5b7c79a;Sakuya;2021-03-16 04:28:53 +0800;fix line too long

==

tornado/http1connection.py
==================
f280c206;Sakuya;2021-03-16 04:11:18 +0800;Allowed set max_body_size to 0

==

tornado/http1connection.py
==================
c66204a0;Mads R. B. Kristensen;2021-03-02 10:52:29 +0100;BaseIOStream.write(): support typed memoryview
Making sure that ``len(data) == data.nbytes`` by casting
memoryviews to bytes.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
6cdf82e9;Ben Darnell;2021-02-03 21:40:24 -0500;Merge pull request #2948 from eltoder/feature/websocket-handler-stream-cleanup
Remove WebSocketHandler.stream.
==
==================
78b55a9f;Ben Darnell;2021-02-03 21:35:15 -0500;Merge pull request #2974 from youguanxinqing/issue-2969
testing: Add 'address' keyword to control bound address #2969
==
==================
fc84685e;Ben Darnell;2021-02-03 21:17:25 -0500;Merge pull request #2983 from kriskros341/changes
Dict support for WebSocketClientConnection.write_message method

Fixes #2982
==
==================
384dc506;Ben Darnell;2021-01-28 09:54:56 -0500;Merge pull request #2970 from bfis/patch-1
Avoid 2GB read limitation on SSLIOStream
==
==================
1cd099b6;kriskros341;2021-01-27 16:37:05 +0100;Uppercase A in Any

==

tornado/websocket.py
==================
de75bc9e;kriskros341;2021-01-27 14:36:35 +0100;write_message method of WebSocketClientConnection now accepts dict as input

==

tornado/websocket.py
==================
18ac320d;kriskros341;2021-01-27 14:24:17 +0100;write_message method of WebSocketClientConnection now accepts dict as input

==

tornado/websocket.py
==================
f399f28f;Ben Darnell;2021-01-13 07:52:20 -0500;Merge pull request #2978 from youguanxinqing/issue-2977
should use python3 unicode in 'blog' demo #2977
==
==================
29ed966a;youguanxinqing;2021-01-12 18:53:54 +0800;leave previous versionchanged

==

tornado/testing.py
==================
c2135484;youguanxinqing;2021-01-12 18:52:33 +0800;leave previous versionchanged

==

tornado/testing.py
==================
eb866b5b;youguanxinqing;2021-01-12 18:35:38 +0800;should use python3 unicode in 'blog' demo #2977

==

demos/blog/blog.py
==================
c673cac5;youguanxinqing;2021-01-12 09:51:27 +0800;change comment

==

tornado/testing.py
==================
2dce6df1;bfis;2021-01-11 17:49:33 +0100;Add comment explaining workaround

==

tornado/iostream.py
==================
6e60bc98;youguanxinqing;2021-01-11 23:01:04 +0800;format code according to result of flake8 check

==

tornado/testing.py
==================
1e7b95cd;youguanxinqing;2021-01-11 22:35:20 +0800;Add 'address' keyword control binded address #2969

==

tornado/testing.py
==================
05e905ed;Eugene Toder;2020-11-02 22:04:00 -0500;Remove WebSocketHandler.stream.
It was no longer used and always set to None.

==

tornado/websocket.py
==================
1fff216b;Ben Darnell;2021-01-09 16:13:26 -0500;Merge pull request #2965 from timgates42/bugfix_typo_authenticate
docs: fix simple typo, authentiate -> authenticate
==
==================
2eca439d;Ben Darnell;2021-01-09 16:12:16 -0500;Merge pull request #2972 from bdarnell/wsgi-docstring
wsgi: Update docstring example for python 3
==
==================
a13662ca;Ben Darnell;2021-01-09 16:10:14 -0500;Merge pull request #2963 from sk1p/issue-2034
WaitIterator: don't re-use _running_future
==
==================
5b6e146c;Ben Darnell;2021-01-09 15:52:34 -0500;wsgi: Update docstring example for python 3
Fixes #2960

==

tornado/wsgi.py
==================
591f2475;Ben Darnell;2021-01-09 15:06:33 -0500;Merge pull request #2971 from bdarnell/only-initialize-existing-locales
locale: Only try to load locales that exist
==
==================
c971ec54;Ben Darnell;2021-01-09 11:34:58 -0500;locale: Format with black

==

tornado/locale.py
==================
81bc33ae;bfis;2021-01-06 14:16:19 +0100;Remove trailing whitespace

==

tornado/iostream.py
==================
d04e7752;bfis;2021-01-06 13:22:04 +0100;Avoid 2GB read limitation on SSLIOStream

==

tornado/iostream.py
==================
69542084;Tim Gates;2020-12-22 07:49:51 +1100;docs: fix simple typo, authentiate -> authenticate
There is a small typo in tornado/netutil.py.

Should read `authenticate` rather than `authentiate`.

==

tornado/netutil.py
==================
6f98249d;Alexander Clausen;2020-12-12 19:34:23 +0100;Fix return type of _return_result

==

tornado/gen.py
==================
4f3f24b7;Alexander Clausen;2020-12-12 06:58:06 +0100;WaitIterator: don't re-use _running_future
When used with asyncio.Future, WaitIterator may skip indices in some
cases. This is caused by multiple _return_result calls after another,
without having the chain_future call finish in between. This is fixed
here by not hanging on to the _running_future anymore, which forces
subsequent _return_result calls to add to _finished, instead of causing
the previous result to be silently dropped.

Fixes #2034

==

tornado/gen.py
==================
edceba6a;Florian Best;2020-11-19 10:45:28 +0100;Issue #2954: prevent logging error messages for not existing translation files
Every not existing translation file for the existing locales logged an error message:
Cannot load translation for 'ps': [Errno 2] No such file or directory: '/usr/share/locale/ps/LC_MESSAGES/foo.mo'

==

tornado/locale.py
==================
b120df9b;Ben Darnell;2020-11-02 21:28:30 -0500;Merge pull request #2932 from novanauliazami/auth
Update how to register application with Google 
==
==================
ff641afa;Ben Darnell;2020-11-02 21:26:16 -0500;Merge pull request #2936 from eltoder/patch-1
Fix await vs yield in the example
==
==================
cef029ab;Ben Darnell;2020-11-02 21:09:55 -0500;Merge pull request #2946 from bdarnell/deps
Multiple dependency-related updates
==
==================
57cf319a;Ben Darnell;2020-11-01 21:27:27 -0500;platform: Deprecate twisted and cares resolvers
These were most interesting when the default resolver blocked
the main thread. Now that the default is to use a thread pool,
there is little if any demand for alternative resolvers just to
avoid threads.

==

docs/caresresolver.rst
docs/twisted.rst
tornado/platform/caresresolver.py
tornado/platform/twisted.py
==================
c8f7ca7c;Ben Darnell;2020-11-01 21:09:08 -0500;docs: Stop using autodoc for t.p.twisted
This way we don't have to install twisted into the docs build
environment. Add some more detail while I'm here.

==

docs/requirements.in
docs/requirements.txt
docs/twisted.rst
==================
61493035;Ben Darnell;2020-11-01 16:15:30 -0500;docs: Pin specific versions of requirements

==

docs/requirements.in
docs/requirements.txt
==================
e299a8b8;Ben Darnell;2020-11-01 16:08:30 -0500;docs: Upgrade to latest version of sphinx
This version attempts to resolve types found in type annotations,
but in many cases it can't find them so silence a bunch of warnings.
(Looks like deferred annotation processing will make this better but
we won't be able to use that until we drop Python 3.6)

==

docs/conf.py
docs/requirements.txt
==================
f059b41d;Ben Darnell;2020-11-01 08:23:07 -0500;Update mypy to latest version

==

maint/requirements.in
maint/requirements.txt
tornado/autoreload.py
tornado/concurrent.py
tornado/curl_httpclient.py
tornado/httputil.py
tornado/options.py
tornado/simple_httpclient.py
tornado/web.py
==================
3b9eecce;Ben Darnell;2020-10-31 12:23:35 -0400;*: Update black to newest version

==

maint/requirements.in
maint/requirements.txt
tornado/http1connection.py
tornado/httputil.py
tornado/iostream.py
tornado/locks.py
tornado/platform/asyncio.py
tornado/template.py
tornado/test/tcpclient_test.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
e98b0e60;Ben Darnell;2020-10-31 12:15:23 -0400;maint: Prune requirements lists
Remove dependencies that are rarely used outside of tox. The main
motivation is to give dependabot less to worry about when an indirect
dependency has a security vulnerability.

==

maint/requirements.in
maint/requirements.txt
tox.ini
==================
a024d4df;Ben Darnell;2020-10-31 12:14:42 -0400;iostream: Add platform assertion for mypy
Without this mypy would fail when run on windows.

==

tornado/iostream.py
==================
1a91ac4f;Ben Darnell;2020-10-31 08:58:34 -0400;Merge pull request #2945 from bdarnell/start6.2
Bump main branch to 6.2.dev1; drop py35
==
==================
ec402ea5;Ben Darnell;2020-10-30 13:57:36 -0400;Drop support for python 3.5

==

.travis.yml
demos/blog/README
docs/index.rst
maint/test/cython/tox.ini
maint/test/websocket/fuzzingclient.json
maint/test/websocket/run-client.sh
maint/test/websocket/run-server.sh
maint/test/websocket/tox.ini
setup.cfg
setup.py
tornado/options.py
tornado/testing.py
tornado/util.py
tox.ini
==================
96f0db49;Ben Darnell;2020-10-30 13:58:14 -0400;Remove appveyor configs

==

appveyor.yml
maint/scripts/download_wheels.py
==================
1536d76d;Ben Darnell;2020-10-30 13:55:20 -0400;Bump main branch to 6.2.dev1

==

tornado/__init__.py
==================
2047e7ae;Ben Darnell;2020-10-30 13:44:37 -0400;Merge pull request #2944 from bdarnell/bump6.1
Set version to 6.1 final
==
==================
0c9e04e4;Ben Darnell;2020-10-30 09:05:06 -0400;ci: Work around outdated windows root certificates

==

.travis.yml
==================
648e80e5;Ben Darnell;2020-10-30 07:53:09 -0400;Set version to 6.1 final

==

docs/releases/v6.1.0.rst
tornado/__init__.py
==================
bee08e25;Ben Darnell;2020-10-24 20:49:14 -0400;Merge pull request #2940 from bdarnell/bump6.1b2
Bump version to 6.1b2
==
==================
61e6c64b;Ben Darnell;2020-10-24 15:51:30 -0400;Bump version to 6.1b2

==

docs/releases/v6.1.0.rst
tornado/__init__.py
==================
04a12477;Ben Darnell;2020-10-24 15:44:20 -0400;Merge pull request #2931 from bdarnell/py39
ci,setup: Add python 3.9 to tox, cibuildwheel and setup.py
==
==================
2d85002b;Ben Darnell;2020-09-30 10:52:21 -0400;ci,setup: Add python 3.9 to tox, cibuildwheel and setup.py

==

.travis.yml
setup.py
tox.ini
==================
f09d584c;Ben Darnell;2020-10-24 14:29:23 -0400;Merge pull request #2934 from bdarnell/manual-thread
asyncio: Manage our own thread instead of an executor
==
==================
15832bc4;Ben Darnell;2020-10-11 20:54:01 -0400;asyncio: Manage our own thread instead of an executor
Python 3.9 changed the behavior of ThreadPoolExecutor at interpreter
shutdown (after the already-tricky import-order issues around
atexit hooks). Avoid these issues by managing the thread by hand.

==

appveyor.yml
tornado/platform/asyncio.py
==================
c938ddba;Ben Darnell;2020-10-05 09:39:41 -0400;test: Add a timeout to SyncHTTPClient test

==

tornado/test/httpclient_test.py
==================
5eb7bb8e;Ben Darnell;2020-10-19 21:25:40 -0400;Merge pull request #2938 from bdarnell/contextvars
gen: Expliclty track contextvars, fixing contextvars.reset
==
==================
629d091a;Ben Darnell;2020-10-16 15:29:20 -0400;gen: Expliclty track contextvars, fixing contextvars.reset
The asyncio event loop provides enough contextvars support out of the
box for basic contextvars functionality to work in tornado coroutines,
but not `contextvars.reset`. Prior to this change, each yield created
a new "level" of context, when an entire coroutine should be on the
same level. This is necessary for the reset method to work.

Fixes #2731

==

tornado/gen.py
tornado/test/gen_test.py
==================
d4ce9599;Eugene Toder;2020-10-13 19:48:19 -0400;Fix await vs yield in the example

==

docs/guide/coroutines.rst
==================
154aa5cb;=;2020-10-04 15:33:09 +0700;Update how to register application with Google

==

tornado/auth.py
==================
5913aa43;Ben Darnell;2020-09-30 10:46:59 -0400;Merge pull request #2930 from bdarnell/deprecate35
Add deprecation notice for Python 3.5
==
==================
c3e01017;Ben Darnell;2020-09-30 10:25:17 -0400;Add deprecation notice for Python 3.5

==

docs/releases/v6.1.0.rst
==================
69e750ef;Ben Darnell;2020-09-30 07:15:10 -0400;ci: Switch from testpypi to real pypi

==

.travis.yml
==================
90e0454b;Ben Darnell;2020-09-29 23:11:48 -0400;Merge pull request #2928 from bdarnell/relnotes61
Add release notes for 6.1, bump version to 6.1b1
==
==================
cca6f313;Ben Darnell;2020-09-29 22:23:56 -0400;Add release notes for 6.1, bump version to 6.1b1

==

docs/index.rst
docs/releases.rst
docs/releases/v6.1.0.rst
tornado/__init__.py
tornado/platform/asyncio.py
==================
30592c5a;Ben Darnell;2020-09-28 23:05:59 -0400;Merge pull request #2923 from bdarnell/ci-refactor
test: Refactor CI configuration
==
==================
734f3977;Ben Darnell;2020-09-26 15:32:56 -0400;test: Refactor CI configuration
- Add osx and windows builds on travis
- Stop running -full test suites on every python version on arm64
- Use cibuildwheel to build for all python versions in one job per
  platform
- Bring a single test configuration and linters up to a first "quick"
  stage before starting the whole matrix
- Push the resulting wheels (and sdist) to pypi on tag builds

==

.travis.yml
tornado/test/netutil_test.py
==================
e556e629;Ben Darnell;2020-09-26 21:39:46 -0400;Merge pull request #2921 from ploxiln/gzip_inf_loop
simple_httpclient: fix infinite loop hang with invalid gzip data
==
==================
f1d11efe;Jeff Hunter;2020-06-09 13:18:29 -0700;http: fix infinite loop hang with invalid gzip data

==

tornado/http1connection.py
==================
f9fe2b29;Pierce Lopez;2020-09-25 01:29:57 -0400;httpclient_test: new test for invalid gzip Content-Encoding
this caused an infinite loop in simple_httpclient

==

tornado/test/httpclient_test.py
==================
cc6978fc;Ben Darnell;2020-09-26 11:18:09 -0400;Merge pull request #2922 from ploxiln/travis_pypy_711
test: update Travis-CI matrix pypy version
==
==================
a7d21d0c;Ben Darnell;2020-09-26 10:58:07 -0400;Merge pull request #2919 from ploxiln/simple_httpclient_zero_timeout
simple_httpclient: handle connect_timeout or request_timeout of 0
==
==================
0f46d295;Pierce Lopez;2020-09-25 16:19:35 -0400;test: update Travis-CI matrix pypy version to 3.6-7.3.1

==

.travis.yml
==================
92b981e5;Pierce Lopez;2020-09-25 16:49:24 -0400;httpclient: document connect_timeout/request_timeout 0 value
not exactly true for curl_httpclient (libcurl uses a connect_timeout
of 300 seconds if no connect timeout is set) but close enough

==

tornado/httpclient.py
==================
92604006;Pierce Lopez;2020-09-22 15:43:43 -0400;simple_httpclient: handle connect_timeout or request_timeout of 0
Using a connect_timeout or request_timeout of 0 was effectively
invalid for simple_httpclient: it would skip the actual request
entirely (because the bulk of the logic was inside "if timeout:").
This was not checked for or raised as an error, it just behaved
unexpectedly.

Change simple_httpclient to always assert these timeouts are not None
and to support the 0 value similar to curl (where request_timeout=0
means no timeout, and connect_timeout=0 means curl default 300 seconds
which is very very long for a tcp connection).

==

tornado/simple_httpclient.py
==================
582f2cbc;Pierce Lopez;2020-09-25 16:06:50 -0400;httpclient_test: add test for connect_timeout=0 request_timeout=0

==

tornado/test/httpclient_test.py
==================
5a069a88;Ben Darnell;2020-09-25 15:18:38 -0400;Merge pull request #2920 from ploxiln/websocket_no_redirect
websocket: set follow_redirects to False
==
==================
894c8a47;Ben Darnell;2020-09-25 14:48:21 -0400;Merge pull request #2918 from ploxiln/httpclient_test_303_method
tests: httpclient may turn all methods into GET for 303 redirect
==
==================
a443b243;Pierce Lopez;2020-09-22 14:00:21 -0400;simple_httpclient: after 303 redirect, turn all methods into GET
not just POST (but still not HEAD)

following the behavior of libcurl > 7.70

==

tornado/simple_httpclient.py
==================
3e13fd25;Debby;2020-06-10 13:58:08 -0400;websocket: set follow_redirects to False
to prevent silent failure when the websocket client gets a 3xx
redirect response, because it does not currently support redirects

Partial fix for issue #2405

==

tornado/websocket.py
==================
79c60568;Pierce Lopez;2020-09-22 19:26:06 -0400;websocket_test: test websocket_connect redirect raises exception
instead of "uncaught exception" and then test timeout

==

tornado/test/websocket_test.py
==================
31088cde;Ben Darnell;2020-09-23 20:57:46 -0400;Merge pull request #2890 from odidev/tornado_arm
Added arm64 jobs for Travis-CI
==
==================
ed116096;Pierce Lopez;2020-09-22 13:41:15 -0400;tests: httpclient may turn all methods into GET for 303 redirect

==

tornado/test/httpclient_test.py
==================
f9d8ef12;odidev;2020-09-07 14:55:38 +0000;Modified ".travis.yml" to test it's own built wheel
Signed-off-by: odidev <odidev@puresoftware.com>

==

.travis.yml
==================
94f155d7;Ben Darnell;2020-09-20 14:38:24 -0400;Merge pull request #2815 from bdarnell/thread-selector
asyncio: Improve support Python 3.8 on Windows
==
==================
79b9c4fc;Ben Darnell;2020-09-13 20:19:37 -0400;Merge pull request #2901 from amitp/patch-1
Update links on home page
==
==================
fbb19c37;Amit Patel;2020-08-15 16:05:49 -0700;Update links on home page
* Updated http links to the https versions when possible.
* Updated links to Google Groups to match their new URL format.
* Updated links to other projects to match their new locations.
* And finally, updated link to FriendFeed to go to the Wikipedia page, because friendfeed.com is just a redirect to facebook.com now :-( :-(
==

docs/index.rst
==================
b3c63fbc;Poruri Sai Rahul;2020-09-13 15:06:02 +0000;Update super usage (#2912)
On Python 3, super does not need to be called with arguments where as on
Python 2, super needs to be called with a class object and an instance.

This commit updates the super usage using automated regex-based search
and replace. After the automated changes were made, each change was
individually checked before committing.


==

demos/blog/blog.py
demos/websocket/chatdemo.py
maint/test/redbot/red_test.py
tornado/curl_httpclient.py
tornado/gen.py
tornado/httpclient.py
tornado/iostream.py
tornado/locale.py
tornado/locks.py
tornado/netutil.py
tornado/platform/asyncio.py
tornado/routing.py
tornado/simple_httpclient.py
tornado/template.py
tornado/test/concurrent_test.py
tornado/test/curl_httpclient_test.py
tornado/test/gen_test.py
tornado/test/http1connection_test.py
tornado/test/httpserver_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/locks_test.py
tornado/test/log_test.py
tornado/test/netutil_test.py
tornado/test/process_test.py
tornado/test/routing_test.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
tornado/test/tcpclient_test.py
tornado/test/testing_test.py
tornado/test/util_test.py
tornado/test/web_test.py
tornado/test/websocket_test.py
tornado/testing.py
tornado/web.py
tornado/websocket.py
==================
68efd611;Ben Darnell;2020-09-13 11:03:31 -0400;Merge pull request #2913 from rahulporuri/cln/utf8-coding-cookies
Remove utf-8 coding cookies in source files
==
==================
d25e225c;jack1142;2020-09-13 17:01:31 +0200;Allow non-yielding functions in `tornado.gen.coroutine`'s type hint (#2909)
`@gen.coroutine` deco allows non-yielding functions, so I reflected that in the type hint.

Requires usage of `@typing.overload` due to python/mypy#9435
==

tornado/gen.py
==================
df4d22c3;Sai Rahul Poruri;2020-09-12 13:27:53 +0100;CLN : Remove utf-8 coding cookies in source files
On Python 3, utf-8 is the default python source code encoding. so, the
coding cookies on files that specify utf-8 are not needed anymore.

	modified:   tornado/_locale_data.py
	modified:   tornado/locale.py
	modified:   tornado/test/curl_httpclient_test.py
	modified:   tornado/test/httpclient_test.py
	modified:   tornado/test/httputil_test.py
	modified:   tornado/test/options_test.py
	modified:   tornado/test/util_test.py

==

tornado/_locale_data.py
tornado/locale.py
tornado/test/curl_httpclient_test.py
tornado/test/httpclient_test.py
tornado/test/httputil_test.py
tornado/test/options_test.py
tornado/test/util_test.py
==================
2e477c5d;odidev;2020-07-16 13:24:06 +0530;Added arm64 jobs for Travis-CI

==

.travis.yml
tox.ini
==================
0a7463e0;Ben Darnell;2020-09-02 15:07:05 -0400;Merge pull request #2906 from bdarnell/docs-pin
docs: Pin version of sphinxcontrib-asyncio
==
==================
f473c9ef;Ben Darnell;2020-09-01 16:54:34 -0400;docs: Pin version of sphinxcontrib-asyncio
The just-released version 0.3.0 is incompatible with our older pinned
version of sphinx.

==

docs/requirements.txt
==================
00af3f99;Ben Darnell;2020-09-02 14:50:10 -0400;Merge pull request #2902 from lilydjwg/master
curl_httpclient: set CURLOPT_PROXY to NULL if pycurl supports it
==
==================
9602c6a9;Ben Darnell;2020-09-01 16:54:34 -0400;docs: Pin version of sphinxcontrib-asyncio
The just-released version 0.3.0 is incompatible with our older pinned
version of sphinx.

==

docs/requirements.txt
==================
b03acc54;Ben Darnell;2020-09-01 16:48:47 -0400;asyncio: Refactor selector to callbacks instead of coroutine
Restarting the event loop to "cleanly" shut down a coroutine introduces
other problems (mainly manifesting as errors logged while running
tornado.test.gen_test). Replace the coroutine with a pair of callbacks
so we don't need to do anything special to shut down without logging
warnings.

==

tornado/platform/asyncio.py
==================
52c45c00;Ben Darnell;2020-08-07 12:26:10 -0400;test: Add an option to disable assertion that logs are empty
Use this on windows due to a log spam issue in asyncio.

==

appveyor.yml
tornado/test/runtests.py
==================
5cfe2fc2;Ben Darnell;2020-07-05 20:48:16 -0400;asyncio: Rework AddThreadSelectorEventLoop
Running a whole event loop on the other thread leads to tricky
synchronization problems. Instead, keep as much as possible on the
main thread, and call out to a second thread only for the blocking
select system call itself.

==

tornado/platform/asyncio.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
==================
89d9c417;Ben Darnell;2020-02-22 18:36:11 -0500;asyncio: Improve support Python 3.8 on Windows
This commit removes the need for applications to work around the
backwards-incompatible change to the default event loop. Instead,
Tornado will detect the use of the windows proactor event loop and
start a selector event loop in a separate thread.

Closes #2804

==

tornado/platform/asyncio.py
tornado/test/__init__.py
tornado/test/twisted_test.py
==================
7d7b4dda;Ben Darnell;2020-02-17 16:22:54 -0500;test: Add missing level to ExpectLog call

==

tornado/test/simple_httpclient_test.py
==================
2c357af9;Ben Darnell;2020-02-17 16:11:23 -0500;iostream_test: Improve cleanup
Closing the file descriptor without removing the corresponding handler
is technically incorrect, although the default IOLoops don't have a
problem with it.

==

tornado/test/iostream_test.py
==================
dcb23eee;Ben Darnell;2020-02-17 16:03:43 -0500;httpclient_test: Improve error reporting
Without this try/finally, if this test ever fails, errors can be
reported in a confusing way.

==

tornado/test/httpclient_test.py
==================
4a4cf9ce;依云;2020-07-28 22:09:45 +0800;curl_httpclient: set CURLOPT_PROXY to NULL if pycurl supports it
This restores curl's default behaviour: use environment variables.

This option was set to "" to disable proxy in
905a215a286041c986005859c378c0445c127cbb but curl uses environment
variables by default.

==

tornado/curl_httpclient.py
==================
617fc965;Ben Darnell;2020-07-24 12:45:35 -0400;Merge pull request #2889 from kinow/update-callback-text-run_on_executor
Remove text about callback (removed) in run_on_executor
==
==================
1a5ef756;Bruno P. Kinoshita;2020-07-14 09:34:57 +1200;Remove text about callback (removed) in run_on_executor

==

tornado/concurrent.py
==================
ad6e4acf;Ben Darnell;2020-06-28 21:11:57 -0400;Merge pull request #2885 from bdarnell/deflake-test
test: Use larger time values in testing_test
==
==================
91202ce5;Ben Darnell;2020-06-28 15:12:29 -0400;test: Use larger time values in testing_test
This test was flaky on appveyor. Also expand comments about what
exactly the test is doing.

==

tornado/test/testing_test.py
==================
7a70e1ca;Ben Darnell;2020-06-27 10:12:46 -0400;Merge pull request #2884 from bdarnell/remove-cloexec
platform: Remove obsolete functions
==
==================
99773282;Ben Darnell;2020-06-26 18:57:31 -0400;iostream,platform: Remove _set_nonblocking function
This functionality is now provided directly in the `os` module.

==

tornado/iostream.py
tornado/platform/posix.py
==================
e050be18;Ben Darnell;2020-06-26 17:28:04 -0400;platform: Remove tornado.platform.auto.set_close_exec
This function is obsolete: Since python 3.4, file descriptors created
by python are non-inheritable by default (and in the event you create
a file descriptor another way, a standard function os.set_inheritable
is available).

The windows implementation of this function was also apparently
broken, but this went unnoticed because the default behavior on
windows is for file descriptors to be non-inheritable.

Fixes #2867

==

tornado/autoreload.py
tornado/netutil.py
tornado/platform/auto.py
tornado/platform/auto.pyi
tornado/platform/interface.py
tornado/platform/posix.py
tornado/platform/windows.py
tornado/process.py
tornado/tcpclient.py
tornado/test/runtests.py
tornado/test/windows_test.py
==================
804460c1;Ben Darnell;2020-06-20 15:42:31 -0400;Merge pull request #2881 from bdarnell/auth-examples
auth: Fix example code
==
==================
a52f76c9;Ben Darnell;2020-06-20 13:09:59 -0400;auth: Fix example code
Continuation of #2811

The oauth2 version of authorize_redirect is no longer a coroutine, so
don't use await in example code. The oauth1 version is still a
coroutine, but one twitter example was incorrectly calling it with
yield instead of await.

==

tornado/auth.py
==================
d2b6069b;Ben Darnell;2020-06-20 13:07:45 -0400;Merge pull request #2880 from bdarnell/process-test2
test: Use default timeouts in sigchild test
==
==================
7224411c;Ben Darnell;2020-06-20 13:02:34 -0400;Merge pull request #2811 from bn0ir/master
Fix Google OAuth example
==
==================
41a60402;Ben Darnell;2020-06-20 12:52:44 -0400;test: Use default timeouts in sigchild test
The 1s timeout used here has become flaky with the introduction of a
sleep (before the timeout even starts).

==

tornado/test/process_test.py
==================
1d5488c7;Ben Darnell;2020-06-20 10:02:53 -0400;Merge pull request #2879 from bdarnell/template-docs
template: Clarify docs on escaping
==
==================
b7c3fe40;Ben Darnell;2020-06-19 17:28:46 -0400;Merge pull request #2814 from Recursing/patch-1
Standardize type documentation for HTTPRequest init
==
==================
9c090f55;Ben Darnell;2020-06-19 17:27:58 -0400;template: Clarify docs on escaping
Originally from #2831, which went to the wrong branch.

==

tornado/template.py
==================
c19e8ff8;Ben Darnell;2020-06-19 16:39:12 -0400;Merge pull request #2863 from Agnewee/hotfix/stop-ping-callback
Stop ping_callback if websocket client specifies ping_interval
==
==================
0629d084;Ben Darnell;2020-06-19 15:55:23 -0400;Merge pull request #2874 from jeffhunter/types
fix types for max_age_days and expires_days parameters
==
==================
fd9a4974;Ben Darnell;2020-06-19 15:45:15 -0400;Merge pull request #2878 from bdarnell/fix-process-test
test: Add a sleep to deflake a test
==
==================
dd664b4c;Ben Darnell;2020-06-19 15:24:03 -0400;ci: Allow failures on nightly python due to cffi incompatibility

==

.travis.yml
==================
c844e29e;Ben Darnell;2020-06-19 14:59:46 -0400;ci: Drop tox-venv
Its README says it is mostly obsolete due to improvements in
virtualenv. Using it appears to cause problems related to
https://github.com/pypa/setuptools/issues/1934 because virtualenv
installs the wheel package by default but venv doesn't.

==

.travis.yml
tox.ini
==================
1ce73490;Ben Darnell;2020-06-19 14:36:36 -0400;test: Add a sleep to deflake a test
Not sure why this has recently started happening in some environments,
but killing a process too soon causes the wrong exit status in some
python builds on macOS.

==

tornado/test/process_test.py
==================
def64687;Jeff Hunter;2020-06-09 12:58:09 -0700;fix types for max_age_days and expires_days parameters

==

tornado/web.py
==================
b0f2479e;Ben Darnell;2020-05-24 22:23:09 -0400;Merge pull request #2859 from noviluni/fix_some_typos
Fix some typos
==
==================
a7feaa5f;agnewee;2020-05-15 18:13:53 +0800;stop ping_callback

==

tornado/websocket.py
==================
a8019cbf;marc;2020-05-15 10:21:56 +0200;revert genericize change

==

tornado/httputil.py
==================
89a5eec2;marc;2020-05-12 15:43:20 +0200;fix typos

==

docs/releases/v2.2.0.rst
tornado/http1connection.py
tornado/httpserver.py
tornado/httputil.py
tornado/options.py
tornado/platform/asyncio.py
tornado/test/ioloop_test.py
tox.ini
==================
36c9a4cd;Ben Darnell;2020-05-14 17:42:48 -0400;Merge pull request #2861 from noviluni/fix_E741
fix new E741 detected cases
==
==================
9509b865;marc;2020-05-14 13:00:28 +0200;fix new E741 detected cases

==

tornado/http1connection.py
tornado/web.py
==================
54e83899;Ben Darnell;2020-05-11 13:27:16 -0400;Merge pull request #2857 from bdarnell/fix-docs-pin
Revert "docs: Use python 3.7 via conda for readthedocs builds"
==
==================
121aac89;Ben Darnell;2020-05-11 13:09:54 -0400;Revert "docs: Use python 3.7 via conda for readthedocs builds"
This reverts commit e7e31e5642ae56da3f768d9829036eab99f0c988.

We were using conda to get access to python 3.7 before rtd supported
it in their regular builds, but this led to problems pinning a
specific version of sphinx. See
https://github.com/readthedocs/readthedocs.org/issues/6870

==

docs/conda.yml
readthedocs.yml
==================
712d6107;Ben Darnell;2020-04-26 17:52:24 -0400;Merge pull request #2847 from tornadoweb/bdarnell-patch-1
iostream: Update comment
==
==================
c3c263de;Flavio Garcia;2020-04-26 16:18:26 -0400;Added default User-Agent to the simple http client if not provided.
The User-Agent format is "Tornado\{Tornado_Version}".

If self.request.user_agent isn't set and self.request.headers has
no User-Agent in it's keys the default User-Agent is added.

Fixes: #2702

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
58d678bf;Ben Darnell;2020-04-26 16:14:45 -0400;Merge pull request #2797 from garetht/nested-doc-fix
Fix syntax error in nested routing example
==
==================
87ef27fa;Ben Darnell;2020-04-26 16:14:10 -0400;Merge pull request #2796 from jbampton/fix-word-case
Fix case of JavaScript, GitHub and CSS.
==
==================
9784630c;Ben Darnell;2020-04-26 16:12:26 -0400;iostream: Update comment
Update comment from #2690 about ssl module exceptions.
==

tornado/iostream.py
==================
5d0c5354;Ben Darnell;2020-04-26 16:10:30 -0400;Merge pull request #2690 from kleptog/bug2689
SSLIOStream: Handle CertificateErrors like other errors
==
==================
d6819307;Ben Darnell;2020-03-05 20:35:19 -0500;Merge pull request #2821 from tornadoweb/bdarnell-patch-1
maint: Bump bleach version for a security fix
==
==================
1d46ab1f;Ben Darnell;2020-03-03 23:07:11 -0500;maint: Bump bleach version for a security fix

==

maint/requirements.txt
==================
ad214ce2;Ben Darnell;2020-03-03 21:57:43 -0500;Merge pull request #2820 from bdarnell/relnotes-master
Master branch release notes for version 6.0.4
==
==================
9d06df6f;Ben Darnell;2020-03-03 16:46:32 -0500;Master branch release notes for version 6.0.4

==

docs/releases.rst
docs/releases/v6.0.4.rst
==================
878aacfb;Ben Darnell;2020-03-02 14:21:06 -0500;Merge pull request #2818 from bdarnell/fix-travis
ci: Fix travis.yml
==
==================
249247d0;Min RK;2020-02-27 11:32:58 +0100;travis-ci.com doesn't like it when you have matrix and jobs
.org still allows this for some reason

==

.travis.yml
==================
a25fe918;Ben Darnell;2020-03-02 13:48:49 -0500;Merge pull request #2812 from jrbourbeau/py38-setup-classifier
Add Python 3.8 clasifier to setup.py
==
==================
dd94a640;Recursing;2020-02-21 12:15:59 +0000;Standardize type documentation for HTTPRequest init

==

tornado/httpclient.py
==================
bdf8b286;James Bourbeau;2020-02-19 13:20:45 -0600;Add Python 3.8 clasifier to setup.py

==

setup.py
==================
dedc4d52;bn0ir;2020-02-14 17:37:52 +0500;Fix Google OAuth example (from 6.0 OAuth2Mixin->authorize_redirect is an ordinary synchronous function)

==

tornado/auth.py
==================
f7d94d0e;Ben Darnell;2020-02-01 16:44:42 -0500;Merge pull request #2805 from tornadoweb/resolve-pending
iostream: Resolve pending reads on stream close
==
==================
238110bf;Ben Darnell;2020-02-01 12:49:13 -0500;iostream: Expand comments around recent subtle changes

==

tornado/iostream.py
==================
b0d495e5;Ben Darnell;2019-08-04 21:34:32 -0400;iostream: Add tests for behavior around close with read_until
Updates #2719

==

tornado/test/iostream_test.py
==================
a4290052;Min RK;2019-08-02 11:20:00 +0200;catch UnsatisfiableReadError in close

==

tornado/iostream.py
==================
deed9648;Min RK;2019-08-01 13:53:56 +0200;avoid premature _check_closed in _start_read
_start_read can resolve with _try_inline_read, which can succeed even if the stream has been closed
if the buffer has been populated by a prior read

preserve the fix for asserts being hit when dealing with closed sockets

==

tornado/iostream.py
==================
a772ed99;Min RK;2019-08-01 13:51:12 +0200;iostream: resolve reads that may be completed while closing
fixes issue that a read may fail with StreamClosedError
if stream is closed mid-read

==

tornado/iostream.py
==================
18b653cf;Ben Darnell;2020-01-19 17:58:40 -0500;Merge pull request #2799 from tornadoweb/wintest
Improve tests on windows
==
==================
d2af6a6f;Ben Darnell;2020-01-19 17:37:14 -0500;asyncio: AnyThreadEventLoopPolicy should always use selectors on windows

==

tornado/platform/asyncio.py
==================
6d9dd442;Ben Darnell;2020-01-19 15:19:45 -0500;ci: Add python 3.8 to windows CI

==

appveyor.yml
==================
85192e11;Ben Darnell;2020-01-19 15:11:54 -0500;testing: Add level argument to ExpectLog
This makes it possible for tests to be a little more precise, and also
makes them less dependent on exactly how the test is run (runtests.py
sets the logging level to info, but when running tests directly from
an editor it may use the default of warnings-only).

CI only runs the tests with runtests.py, so this might regress, but I'm
not building anything to prevent that yet (options include running the
tests differently in CI or making ExpectLog always use a fixed log
configuration instead of picking up the current one)

==

tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/simple_httpclient_test.py
tornado/testing.py
==================
e7330e65;Ben Darnell;2020-01-19 11:00:06 -0500;test: Add hasattr check for SIGCHLD
This name is not present on all platforms

==

tornado/test/twisted_test.py
==================
ce504a90;Ben Darnell;2020-01-19 10:59:27 -0500;test: Add some more skips on windows
Alternate resolvers behave differently on this platform for unknown
reasons.

==

tornado/test/netutil_test.py
==================
2a1adeaa;Ben Darnell;2020-01-18 18:24:03 -0500;test: Use selector event loop on windows.
This gets most of the tests working again on windows with py38.

==

tornado/test/__init__.py
==================
4575264b;Ben Darnell;2019-11-02 17:29:29 -0400;test: Add gitattributes for test data files
This ensures that the tests pass on Windows regardless of the user's git
CRLF settings.

==

.gitattributes
==================
95725c9c;Gareth T;2019-12-24 07:30:35 -0500;Fix syntax error in nested routing example

==

tornado/routing.py
==================
a74b1de2;John Bampton;2019-12-24 08:21:43 +1000;Fix case of JavaScript, GitHub and CSS.

==

docs/guide/security.rst
docs/guide/templates.rst
tornado/escape.py
tornado/gen.py
tornado/test/gen_test.py
tornado/web.py
tornado/websocket.py
==================
74a4ba0b;Ben Darnell;2019-12-08 16:01:27 -0500;Merge pull request #2783 from kinow/fix-1824
Use bcrypt's checkpw instead of == in demo blog app
==
==================
0e6ec172;Bruno P. Kinoshita;2019-11-29 23:49:35 +1300;use bcrypt's checkpw instead of ==

==

demos/blog/blog.py
==================
18d70268;Ben Darnell;2019-11-23 15:48:43 -0500;Merge pull request #2780 from bdarnell/lint-updates
lint: Update black and mypy
==
==================
44ae52ce;Ben Darnell;2019-11-03 20:35:01 -0500;lint: Use newer mypy
This required some minor code changes, mainly some adjustments in tests
(which are now analyzed more thoroughly in spite of being mostly
unannotated), and some changes to placement of type:ignore comments.

==

setup.py
tornado/auth.py
tornado/autoreload.py
tornado/httpclient.py
tornado/httputil.py
tornado/iostream.py
tornado/netutil.py
tornado/process.py
tornado/test/asyncio_test.py
tornado/test/auth_test.py
tornado/test/concurrent_test.py
tornado/test/http1connection_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/netutil_test.py
tornado/test/queues_test.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
tornado/test/tcpclient_test.py
tornado/test/testing_test.py
tornado/test/web_test.py
tornado/test/websocket_test.py
tornado/testing.py
tornado/web.py
tornado/websocket.py
tox.ini
==================
8837c300;Ben Darnell;2019-11-03 17:23:04 -0500;lint: Upgrade to new version of black

==

tornado/httputil.py
tornado/tcpclient.py
tornado/web.py
tox.ini
==================
29b19991;Ben Darnell;2019-11-03 17:18:54 -0500;build: Run docs and lint on py38
This requires moving some noqa comments due to 3.8's changes to the
ast module.

==

.travis.yml
tornado/ioloop.py
tornado/web.py
tox.ini
==================
2054f476;Mike DePalatis;2019-11-23 12:42:56 -0700;web: Update hashing algorithm in StaticFileHandler (#2778)
Addresses #2776.


==

tornado/test/web_test.py
tornado/web.py
==================
1418880b;Ben Darnell;2019-11-23 13:08:34 -0500;Merge pull request #2777 from mivade/remove-speedups-py2-support
Housekeeping: Remove legacy Python support in speedups.c
==
==================
52257046;Ben Darnell;2019-11-23 12:25:41 -0500;Merge pull request #2779 from bdarnell/ci-fix
ci: Don't run the full test suite on python 3.5.2
==
==================
f1f27efe;Ben Darnell;2019-11-23 12:00:51 -0500;ci: Don't run full test suite on python 3.5.2

==

.travis.yml
==================
8b231e07;Michael V. DePalatis;2019-11-21 12:31:55 -0700;Remove legacy Python support in speedups.c

==

tornado/speedups.c
==================
682ff8de;Ben Darnell;2019-11-11 21:49:40 -0500;Merge pull request #2772 from ploxiln/fork_doc_exit
process: correct docs of fork_processes exit behavior
==
==================
a761eff8;Pierce Lopez;2019-11-10 12:43:27 -0500;process: correct docs of fork_processes exit behavior
fixes #2771

==

tornado/process.py
==================
984aba0a;Ben Darnell;2019-11-03 17:08:52 -0500;Merge pull request #2768 from bdarnell/ci-revamp
build: Revamp test/CI configuration
==
==================
e145a369;Ben Darnell;2019-11-03 15:09:18 -0500;build: Revamp test/CI configuration
Reduce tox matrix to one env per python version, with two extra builds
for lint and docs. Delegate to tox from travis-ci.

Add 3.8 to testing. Simplify by dropping coverage reporting and
"no-deps" test runs.

==

.travis.yml
tox.ini
==================
467dfb0d;Ben Darnell;2019-11-03 10:49:55 -0500;Merge pull request #2767 from bdarnell/fix-lint
demos: Fix lint in webspider demo
==
==================
4f596582;Ben Darnell;2019-11-03 09:57:48 -0500;demos: Fix lint in webspider demo
Updates #2765

==

demos/webspider/webspider.py
==================
234f9b86;Ben Darnell;2019-11-03 09:51:18 -0500;Merge pull request #2765 from jvansan:master
Dead link handling in webspider example
==
==================
d2180263;Ben Darnell;2019-11-03 09:47:37 -0500;Merge pull request #2766 from tornadoweb/pin-black
ci: Pin version of black
==
==================
2b153ad5;Ben Darnell;2019-11-02 17:37:36 -0400;ci: Pin version of black
A new release of black changed the way some of our files are formatted,
so use a fixed version in CI.

==

.travis.yml
tox.ini
==================
90ef9a1b;Jeff van Santen;2019-11-01 17:11:52 -0700;Dead link handling
Added an extra set for handling dead links, and reporting.

One consequence of this is that using this script will "work" offline, but will report that some all the links were not fetched.
==

demos/webspider/webspider.py
==================
d81d685d;Ben Darnell;2019-10-20 22:34:18 -0400;Merge pull request #2727 from andersk/304
Clear fewer headers on 1xx/204/304 responses
==
==================
32377f2c;Ben Darnell;2019-10-20 22:16:10 -0400;Merge pull request #2745 from remram44/re-unescape
Fix unescaping of regex routes
==
==================
865b6f72;Ben Darnell;2019-10-16 21:45:58 -0400;Merge pull request #2748 from supakeen/readme-improvements
Use HTTPS link for tornado website.
==
==================
8615af44;Ben Darnell;2019-10-16 21:34:13 -0400;Merge pull request #2750 from jbampton/simplify-statements
Simplify chained comparisons.
==
==================
dc36d124;Ben Darnell;2019-10-16 21:31:40 -0400;Merge pull request #2755 from tornadoweb/dependabot/pip/maint/twisted-19.7.0
build(deps): bump twisted from 19.2.1 to 19.7.0 in /maint
==
==================
089ea22a;dependabot[bot];2019-10-17 01:14:26 +0000;build(deps): bump twisted from 19.2.1 to 19.7.0 in /maint
Bumps [twisted](https://github.com/twisted/twisted) from 19.2.1 to 19.7.0.
- [Release notes](https://github.com/twisted/twisted/releases)
- [Changelog](https://github.com/twisted/twisted/blob/trunk/NEWS.rst)
- [Commits](https://github.com/twisted/twisted/compare/twisted-19.2.1...twisted-19.7.0)

Signed-off-by: dependabot[bot] <support@github.com>
==

maint/requirements.txt
==================
280478cc;Ben Darnell;2019-10-16 20:54:06 -0400;Merge pull request #2741 from khasanovbi/fix_head_transfer_encoding_chunked
Fix extra data sending at HEAD response with Transfer-Encoding: Chunked
==
==================
ed1c34fd;John Bampton;2019-10-06 12:44:52 +1000;Simplify chained comparison.

==

tornado/http1connection.py
tornado/web.py
==================
3cc3a13d;supakeen;2019-10-05 10:52:09 +0000;Use HTTPS link for tornado website.

==

README.rst
==================
5b9adb4a;Remi Rampin;2019-10-03 21:32:04 -0400;Fix unescaping of regex routes
Previously, only the part before the first '(' would be correctly
unescaped.

==

tornado/routing.py
==================
318b95dd;Remi Rampin;2019-10-04 11:00:43 -0400;Add test for unescaping with groups

==

tornado/test/web_test.py
==================
f1d90f71;Bulat Khasanov;2019-09-08 18:06:55 +0300;Omit Transfer-Encoding header for HEAD response

==

tornado/http1connection.py
==================
9c927ffb;Bulat Khasanov;2019-09-08 06:14:52 +0300;Fix extra data sending at HEAD response with Transfer-Encoding: Chunked

==

tornado/http1connection.py
tornado/test/httpserver_test.py
==================
f19f8689;Anders Kaseorg;2019-08-30 11:18:36 -0700;Clear fewer headers on 1xx/204/304 responses
This function is called on more than just 304 responses; it’s
important to permit the Allow header on 204 responses.  Also, the
relevant RFCs have changed significantly.

Fixes #2726.

Signed-off-by: Anders Kaseorg <andersk@mit.edu>

==

tornado/test/httpclient_test.py
tornado/test/web_test.py
tornado/web.py
==================
ff985fe5;Ben Darnell;2019-09-02 13:20:28 -0400;Merge pull request #2723 from bluetech/perf1
httputil: A couple of small performance improvements
==
==================
0cdaca46;Ben Darnell;2019-09-02 12:12:02 -0400;Merge pull request #2735 from ploxiln/body_args_bytes
parse_body_arguments: allow incomplete url-escaping
==
==================
3d30ca1a;Pierce Lopez;2019-08-28 22:56:31 -0400;httputil.parse_body_arguments: allow incomplete url-escaping
support x-www-form-urlencoded body with values consisting of
encoded bytes which are not url-encoded into ascii
(it seems other web frameworks often support this)

add bytes qs support to escape.parse_qs_bytes,
leave str qs support for backwards compatibility

==

tornado/escape.py
tornado/httputil.py
tornado/test/httpserver_test.py
==================
500adb0d;Pierce Lopez;2019-08-28 23:34:54 -0400;tests: replace remaining assertEquals() with assertEqual()
assertEquals() is deprecated, and python3.7/pytest can warn about it

==

tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/simple_httpclient_test.py
tornado/test/web_test.py
==================
8e5ecad2;Semen Zhydenko;2019-08-12 01:44:12 +0200;spelling corrections
* maintainance -> maintenance

* recieving -> receiving

==

maint/README
tornado/http1connection.py
==================
131eee02;Ben Darnell;2019-08-11 19:43:01 -0400;Merge pull request #2725 from bdarnell/ssl-win-py374
test: Disable TLS 1.3 in one test
==
==================
4172483c;Ben Darnell;2019-08-10 22:00:41 -0400;test: Disable TLS 1.3 in one test
This test started failing on windows CI with an upgrade to python
3.7.4 (which bundles a newer version of openssl). Disable tls 1.3 for
now.

Possibly related to #2536

==

tornado/test/iostream_test.py
==================
61a535b2;Ran Benita;2019-08-06 19:18:41 +0300;httputil: use compiled re patterns
This is slightly faster than using the builtin cache, e.g.:

With benchmark below (Python 3.7, Linux):

before: 0.7284867879934609
after:  0.2657967659761198

```py
import re
from time import perf_counter

line = 'HTTP/1.1'

_http_version_re = re.compile(r"^HTTP/1\.[0-9]$")

start = perf_counter()
for i in range(1000000):
    _http_version_re.match(line)
print(perf_counter() - start)

start = perf_counter()
for i in range(1000000):
    re.match(r"^HTTP/1\.[0-9]$", line)
print(perf_counter() - start)
```

==

tornado/httputil.py
==================
549edaf6;Ran Benita;2019-08-06 18:16:31 +0300;httputil: cache header normalization with @lru_cache instead of hand-rolling
Tornado is now py3-only so @lru_cache is always available.

Performance is about the same. Benchmark below. Python 3.7 on Linux.

before, cached:   0.9121252089971676
before, uncached: 13.358482279989403

after, cached:    0.9175888689933345
after, uncached:  11.085199063003529

```py
from time import perf_counter

names = [f'sOMe-RanDOM-hEAdeR-{i}' for i in range(1000)]

from tornado.httputil import _normalize_header
start = perf_counter()
for i in range(10000):
    # _normalize_header.cache_clear()
    for name in names:
        _normalize_header(name)
print(perf_counter() - start)

from tornado.httputil import _NormalizedHeaderCache
start = perf_counter()
_normalized_headers = _NormalizedHeaderCache(1000)
for i in range(10000):
    # _normalized_headers = _NormalizedHeaderCache(1000)
    for name in names:
        _normalized_headers[name]
print(perf_counter() - start)
```

==

tornado/httputil.py
==================
444f4cd1;Ben Darnell;2019-08-02 10:38:08 -0400;Merge pull request #2692 from mivade/docs-blog-example-update
Update database backend reference
==
==================
2f33503c;Ben Darnell;2019-08-02 09:44:11 -0400;Merge pull request #2715 from mivade/template-optional-autoescape-typing
Mark Template autoescape kwarg as Optional
==
==================
4ac3d543;Ben Darnell;2019-08-02 09:38:12 -0400;Merge pull request #2707 from remram44/patch-1
Strip documentation about removed argument
==
==================
1bef9de6;Michael V. DePalatis;2019-07-26 11:01:11 -0600;Mark Template autoescape kwarg as Optional

==

tornado/template.py
==================
71e3eb7b;Remi Rampin;2019-07-17 14:50:19 -0700;Strip documentation about removed argument

==

tornado/web.py
==================
89b49264;Michael V. DePalatis;2019-06-26 09:35:20 -0600;Update database backend reference

==

docs/guide/security.rst
==================
b746799b;Martijn van Oosterhout;2019-06-25 18:25:33 +0200;SSLIOStream: Handle CertificateErrors like other errors
Fixes: tornadoweb/tornado#2689

==

tornado/iostream.py
==================
c92b883f;Ben Darnell;2019-06-23 18:57:56 -0400;Merge pull request #2687 from bdarnell/req-bump
Bump version of twisted to pick up security fix
==
==================
4e771ec2;Ben Darnell;2019-06-23 18:57:45 -0400;Merge pull request #2688 from bdarnell/relnotes603
Release notes for 6.0.3
==
==================
80486dd9;Ben Darnell;2019-06-22 13:06:50 -0400;Release notes for 6.0.3

==

docs/releases.rst
docs/releases/v6.0.3.rst
==================
99036082;Ben Darnell;2019-06-23 18:40:37 -0400;Bump version of twisted to pick up security fix

==

maint/requirements.txt
==================
dfabc039;Ben Darnell;2019-06-22 14:50:36 -0400;Merge pull request #2686 from bdarnell/docs-py38-windows
docs: Add notice about WindowsSelectorEventLoop on py38
==
==================
aa879d19;Ben Darnell;2019-06-22 14:39:38 -0400;docs: Add notice about WindowsSelectorEventLoop on py38
Fixes #2608

==

docs/index.rst
==================
3780d76f;Ben Darnell;2019-06-22 13:08:36 -0400;Merge pull request #2684 from bdarnell/socket-error
netutil: Ignore EADDRNOTAVAIL when binding to localhost ipv6
==
==================
b9b8229a;Ben Darnell;2019-06-22 12:50:07 -0400;test: Skip test_source_port_fail when running as root
Root is always allowed to bind to low port numbers, so we can't
simulate failure in this case. This is the last remaining failure when
running tests in docker.

==

tornado/test/tcpclient_test.py
==================
090e6cca;Ben Darnell;2019-06-22 12:45:57 -0400;netutil: Ignore EADDRNOTAVAIL when binding to localhost ipv6
This happens in docker with default configurations and is generally
harmless.

Fixes #2274

==

tornado/netutil.py
==================
cca8503d;Ben Darnell;2019-06-22 11:38:50 -0400;*: Modernize IO error handling
Where possible, replace use of errno with the exception hierarchy
available since python 3.3. Remove explicit handling of EINTR which
has been automatic since python 3.5

==

tornado/ioloop.py
tornado/iostream.py
tornado/netutil.py
tornado/process.py
tornado/test/iostream_test.py
==================
1723df15;Ben Darnell;2019-06-22 10:33:37 -0400;Merge pull request #2683 from bdarnell/cancelledexception-py38
gen: Adapt to py38 CancelledError changes
==
==================
4d2b6255;Ben Darnell;2019-06-22 09:42:09 -0400;gen: Clean up docs for with_timeout
Mark CancelledError change as 6.0.3

==

tornado/gen.py
==================
c216c7bf;Ben Darnell;2019-06-21 20:42:11 -0400;ci: Re-enable nightly python
Fixes #2677

==

.travis.yml
==================
3ba49c10;Ben Darnell;2019-06-21 20:32:39 -0400;locks: Remove redundant CancelledError handling
CancelledError is now always considered "quiet" (and
concurrent.futures.CancelledError is no longer the same as
asyncio.CancelledError).

==

tornado/locks.py
==================
dbc00f9a;Ben Darnell;2019-06-22 09:36:43 -0400;Merge pull request #2681 from encukou/gen-ignore-cancel
gen.with_timeout: Don't log CancelledError after timeout
==
==================
05a42e60;Petr Viktorin;2019-06-21 13:52:04 +0200;Fix ReST syntax

==

tornado/gen.py
==================
0684b61c;Petr Viktorin;2019-06-19 18:09:17 +0200;gen.with_timeout: Don't log CancelledError after timeout
See also: commit a237a995a1d54ad6e07c1ecdf5103ff8f45073b5

==

tornado/gen.py
==================
c50aed0f;Robin Roth;2019-06-17 02:21:13 +0200;mypy: Enable no_implicit_optional
"Implicit-optional" mode is on by default, but that default is intended to change in the indefinite future (python/peps#689, python/typing#275). Go ahead and change to the future explicit use of Optional.
==

docs/httpserver.rst
docs/web.rst
setup.cfg
tornado/auth.py
tornado/curl_httpclient.py
tornado/http1connection.py
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/locks.py
tornado/log.py
tornado/netutil.py
tornado/options.py
tornado/process.py
tornado/queues.py
tornado/routing.py
tornado/simple_httpclient.py
tornado/tcpclient.py
tornado/tcpserver.py
tornado/template.py
tornado/testing.py
tornado/util.py
tornado/web.py
tornado/websocket.py
==================
87b5a4ae;Ben Darnell;2019-06-16 10:06:57 -0400;Merge pull request #2679 from ploxiln/curl_no_decompress
curl_httpclient: fix disabled decompress_response
==
==================
1bd626bb;Pierce Lopez;2019-06-13 23:00:06 -0400;tests: run test_gzip for curl_httpclient also
move simple_httpclient test_gzip to the shared httpclient tests,
to test the decompress_response option for curl_httpclient as well

==

tornado/test/httpclient_test.py
tornado/test/simple_httpclient_test.py
==================
256b81c9;Pierce Lopez;2019-06-12 15:34:02 -0400;curl_httpclient: fix disabled decompress_response
by setting None (NULL) instead of "none" for ENCODING

reported by Andrey Oparin <andrey@edsd.com>

==

tornado/curl_httpclient.py
==================
fbd1a8fb;Zachary Sailer;2019-06-09 14:15:31 -0700;iostream: check that stream is open before trying to read (#2670)

==

tornado/iostream.py
==================
b8fbac31;Ben Darnell;2019-06-09 17:11:13 -0400;Merge pull request #2673 from ploxiln/docs_build_quickfix
docs: conflict between sphinx-2.1, sphinxcontrib-asyncio
==
==================
ecd42b61;Pierce Lopez;2019-06-08 15:10:26 -0400;tests: allow failure on python nightly
seems to be due to a bunch of asyncio.exceptions.CancelledError

==

.travis.yml
==================
e19f06d3;Pierce Lopez;2019-06-08 15:10:12 -0400;Revert "docs: remove sphinxcontrib-asyncio"
This reverts commit 71494a4db76b3ae458e5757d741bdd1aac255640.

==

docs/conf.py
docs/requirements.txt
==================
71494a4d;Pierce Lopez;2019-06-08 15:02:57 -0400;docs: remove sphinxcontrib-asyncio
no longer needed since Sphinx-2.1 (and effectively conflicts with it)

==

docs/conf.py
docs/requirements.txt
==================
22b17454;Pierce Lopez;2019-06-08 14:44:11 -0400;docs: build with sphinx < 2.1
sphinx 2.1 adds an ":async:" option for py:method:: and py:function::
and it does not seem to interact well with sphinxcontrib-asyncio

==

docs/requirements.txt
==================
f65b1802;Ben Darnell;2019-05-05 13:34:29 -0400;Merge pull request #2653 from bdarnell/twisted-install
twisted: Restore the install() function
==
==================
957f9b00;Ben Darnell;2019-05-05 13:34:19 -0400;Merge pull request #2654 from bdarnell/deps
Bump dependency versions, including mypy
==
==================
ba2516c9;Ben Darnell;2019-05-05 11:50:34 -0400;twisted: Restore the install() function
This function had more usage than I was aware of and we can preserve
the old behavior by making it an alias for asyncioreactor.install.

Fixes #2636

==

tornado/platform/twisted.py
==================
5fdadf5f;Ben Darnell;2019-05-05 13:05:34 -0400;deps: Bump mypy to 0.701

==

.travis.yml
maint/requirements.txt
tornado/curl_httpclient.py
tornado/test/curl_httpclient_test.py
tornado/testing.py
tox.ini
==================
731bc5c6;Ben Darnell;2019-05-05 12:39:37 -0400;maint: Bump maintainer requirements.txt versions
Drop autopep8, add sphinxcontrib-asyncio

==

maint/requirements.in
maint/requirements.txt
==================
6ae55a33;Ben Darnell;2019-05-04 14:24:05 -0400;Merge pull request #2646 from m-burst/patch-1
Speedup headers parsing
==
==================
b555071b;Mikhail Burshteyn;2019-05-04 11:16:18 +0300;Speedup headers parsing
Replace `_CRLF_RE.split(headers)` with a simple `headers.split('\n')` with an additional check for `'\r'` in each line.
Add benchmark to measure performance impact of the change.
The benchmark results are as follows:
* split only: ~3x faster on CPython, 14-18x faster on PyPy
* full headers parse: ~1.3x faster on CPython, ~3-4.5x faster on PyPy

==

maint/benchmark/parsing_benchmark.py
tornado/httputil.py
==================
b8b48177;Ben Darnell;2019-04-28 20:06:05 -0400;Merge pull request #2649 from javabrett/2648-LogFormatter-CRITICAL-color
Added color for logging.CRITICAL = 5 (Magenta).
==
==================
97eb41c1;Ben Darnell;2019-04-28 19:41:38 -0400;Merge pull request #2650 from bdarnell/deprecation38
test: Silence a deprecation warning in py38+pycurl
==
==================
053c1066;Ben Darnell;2019-04-28 19:31:52 -0400;test: Silence a deprecation warning in py38+pycurl

==

tornado/test/runtests.py
==================
0736f621;Ben Darnell;2019-04-28 19:31:22 -0400;Merge pull request #2644 from Swixx/request-handler-get-accept-kwargs
Allow RequestHandler.get to accept **kwargs.
==
==================
58219709;Brett Randall;2019-04-24 13:36:37 +1000;Added color for logging.CRITICAL = 5 (Magenta).
Fixed #2648.

==

tornado/log.py
==================
7e2f8df5;Adam Sawicki;2019-04-22 09:51:01 -0400;Allow RequestHandler.get to accept **kwargs.

==

tornado/web.py
==================
c447875a;Ben Darnell;2019-03-23 15:42:57 -0400;Merge pull request #2631 from bdarnell/docs
Misc docs updates
==
==================
ea259be7;Ben Darnell;2019-03-23 14:02:21 -0400;twisted: Remove outdated comments

==

tornado/platform/twisted.py
==================
a9ba38ff;Ben Darnell;2019-03-23 13:57:41 -0400;docs: Clarify platform support and add not-on-windows notes
We also picked up solaris /dev/poll support with the move to asyncio.

See #2622

==

docs/guide/running.rst
docs/index.rst
tornado/process.py
tornado/tcpserver.py
==================
4c66e603;Ben Darnell;2019-03-23 12:18:20 -0400;Release notes for 6.0.2

==

docs/releases.rst
docs/releases/v6.0.2.rst
==================
8977c425;Ben Darnell;2019-03-03 11:50:04 -0500;Release notes for 6.0.1

==

docs/releases.rst
docs/releases/v6.0.1.rst
==================
a449d8de;Ben Darnell;2019-03-23 11:38:23 -0400;Merge pull request #2629 from bdarnell/httpresponse-no-body
httpclient: HTTPResponse.body returns empty string instead of raising
==
==================
62f3cdde;Ben Darnell;2019-03-23 11:11:18 -0400;httpclient: HTTPResponse.body returns empty string instead of raising
In tornado 5, HTTPResponse.body would return None if there was no body
buffer (which included errors like timeouts and socket errors, but not
HTTP errors like 404). In tornado 6 this was changed to never return
None (to make it easier to work with type annotations) and raise an
error instead. This turned out to be disruptive, so change it back to
returning a value without raising (but now it's an empty byte string
instead of None).

Fixes #2626

==

tornado/httpclient.py
==================
1772d610;Ben Darnell;2019-03-10 16:57:11 -0400;Merge pull request #2613 from bdarnell/ws-nodelay
websocket: Fix set_nodelay
==
==================
4677c54c;Ben Darnell;2019-03-03 13:51:15 -0500;websocket: Fix set_nodelay
This method was untested and broken in 6.0.0.

Fixes #2611

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
8c8e154a;Ben Darnell;2019-03-04 19:34:47 -0500;Merge pull request #2614 from mivade/docs-twisted-version
Remove twisted version comment in module docstring
==
==================
7fb741cb;Michael V. DePalatis;2019-03-04 15:25:11 -0700;Remove twisted version comment in module docstring
Let the documentation in `TwistedResolver` specify the minimum
version.

==

tornado/platform/twisted.py
==================
093ce841;Ben Darnell;2019-03-03 13:45:57 -0500;Merge pull request #2612 from bdarnell/download-script
Add script to download wheels from appveyor
==
==================
8f1e94f7;Ben Darnell;2019-03-03 13:37:39 -0500;Add script to download wheels from appveyor

==

maint/scripts/download_wheels.py
==================
6a5a0bfa;Ben Darnell;2019-03-03 11:48:26 -0500;Merge pull request #2606 from ploxiln/travis_update_xenial
travis-ci tests: always use dist xenial
==
==================
94255518;Ben Darnell;2019-03-03 11:07:41 -0500;Merge pull request #2609 from fchapoton/patch-1
remove duplicate import of gettext
==
==================
a892cec1;Frédéric Chapoton;2019-03-03 11:54:48 +0100;remove duplicate import of gettext

==

tornado/locale.py
==================
1707eb76;Pierce Lopez;2019-03-01 15:22:14 -0500;travis-ci tests: always use dist xenial
Travis-CI Trusty Container-based environment was available
between July, 2017 and December, 2018.
https://docs.travis-ci.com/user/reference/overview/#deprecated-virtualization-environments

==

.travis.yml
==================
f402bd49;Ben Darnell;2019-03-01 16:17:52 -0500;Merge pull request #2605 from bdarnell/python-352
Fix importability on python 3.5.2
==
==================
61e1dbf9;Ben Darnell;2019-03-01 15:03:31 -0500;Fix importability on python 3.5.2
The "provisional" typing module in 3.5.2 is kind of broken/incomplete
so we need to use more forward references to avoid confusing it. The
significance of this version in particular is that it was the one
included in ubuntu 16.04.

Fixes #2604

==

.travis.yml
tornado/concurrent.py
tornado/gen.py
tornado/http1connection.py
tornado/httpclient.py
tornado/ioloop.py
tornado/iostream.py
tornado/locks.py
tornado/simple_httpclient.py
tornado/testing.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
33b86e33;Ben Darnell;2019-03-01 11:04:38 -0500;Merge pull request #2603 from bdarnell/version-bump
Bump master branch to 6.1.dev1
==
==================
b2cf7137;Ben Darnell;2019-03-01 10:40:25 -0500;Bump master branch to 6.1.dev1

==

tornado/__init__.py
==================
3c8728d8;Ben Darnell;2019-03-01 10:11:52 -0500;Merge pull request #2602 from bdarnell/version-6.0
Set version to 6.0
==
==================
99ea6d2c;Ben Darnell;2019-03-01 09:55:59 -0500;Set version to 6.0

==

docs/releases/v6.0.0.rst
tornado/__init__.py
==================
4f1ebe47;Ben Darnell;2019-02-10 18:08:24 -0500;Merge pull request #2588 from bdarnell/6.0b1
Set version to 6.0b1
==
==================
7457d6f5;Ben Darnell;2019-02-10 17:30:08 -0500;Set version to 6.0b1

==

docs/releases/v6.0.0.rst
tornado/__init__.py
==================
8bdf7556;Ben Darnell;2019-02-09 16:57:04 -0500;Merge pull request #2587 from bdarnell/opt
ioloop: Micro-optimize IOLoop.add_future
==
==================
89993dbe;Ben Darnell;2019-02-09 13:11:54 -0500;Merge pull request #2586 from sadielbartholomew/minor-docs-improvements
docs: assorted minor e.g. formatting improvements
==
==================
84af9442;Ben Darnell;2019-02-09 12:03:39 -0500;Merge pull request #2580 from bdarnell/remove-log
httputil: Remove a noisy log line
==
==================
86225304;Ben Darnell;2019-02-09 12:02:32 -0500;Merge pull request #2581 from bdarnell/websocket-open-catch
websocket: Catch errors in async open() correctly
==
==================
49241f3e;Sadie Bartholomew;2019-02-09 00:35:55 +0000;Minor formatting & grammatical etc. edits to docs

==

docs/faq.rst
docs/guide/coroutines.rst
docs/guide/intro.rst
docs/guide/running.rst
docs/guide/structure.rst
docs/guide/templates.rst
docs/index.rst
docs/web.rst
tornado/auth.py
tornado/concurrent.py
tornado/httpclient.py
tornado/ioloop.py
tornado/iostream.py
tornado/netutil.py
tornado/testing.py
tornado/util.py
tornado/web.py
tornado/websocket.py
==================
64de184a;Ben Darnell;2019-02-03 18:01:53 -0500;ioloop: Micro-optimize IOLoop.add_future
Asyncio Futures always schedule their callbacks on a future iteration
of the IOLoop, so routing the callbacks through IOLoop.add_callback
again was redundant and causing unnecessary delays in callback
execution.

==

tornado/ioloop.py
tornado/test/iostream_test.py
==================
dc354c57;Ben Darnell;2019-02-02 13:44:56 -0500;websocket: Catch errors in async open() correctly
Previously if open() was a coroutine and raised an error, the
connection would be left open.

Fixes #2570

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
48efd1cb;Ben Darnell;2019-02-02 12:41:03 -0500;httputil: Downgrade a noisy log line
Only complain about unsupported content encodings if it's a
content-type we'd otherwise try to parse.

Fixes #2578

==

tornado/httputil.py
==================
975e9168;Ben Darnell;2019-01-21 07:46:14 -0500;Merge pull request #2566 from BoboTiG/fix-resource-leaks
Fix ResourceWarning: unclosed file
==
==================
3ee09d19;Mickaël Schoentgen;2019-01-05 22:15:01 +0100;Fix ResourceWarning: unclosed file
Signed-off-by: Mickaël Schoentgen <contact@tiger-222.fr>

==

demos/s3server/s3server.py
tornado/locale.py
==================
fc6dd234;Ben Darnell;2019-01-01 22:51:21 -0500;Merge pull request #2565 from bdarnell/docs-6.0a1
Release notes for 6.0a1
==
==================
b414dc60;Ben Darnell;2019-01-01 22:44:33 -0500;init: set version to 6.0a1

==

tornado/__init__.py
==================
32117141;Ben Darnell;2019-01-01 22:43:10 -0500;setup: Don't repeat version number in setup.py

==

setup.py
==================
d7b9a89d;Ben Darnell;2019-01-01 22:33:36 -0500;docs: More 6.0 release notes

==

docs/releases/v6.0.0.rst
tornado/tcpserver.py
==================
0c11d09b;Ben Darnell;2019-01-01 16:16:27 -0500;First part of 6.0 release notes: note all deprecated removals

==

docs/releases.rst
docs/releases/v6.0.0.rst
==================
385dda37;Ben Darnell;2019-01-01 16:07:24 -0500;docs: Update homepage for 6.0

==

docs/index.rst
==================
c4de6bf1;Ben Darnell;2019-01-01 13:02:51 -0500;Merge pull request #2440 from bdarnell/validate-redirect
httpclient: Validate redirect location header and method
==
==================
c443fb7b;Ben Darnell;2019-01-01 12:55:58 -0500;simple_httpclient: Only convert POST requests to GETs on redirect
Convert POST to GET on 301 in addition to 302 and 303.

==

tornado/simple_httpclient.py
tornado/test/httpclient_test.py
==================
4f486a4a;Ben Darnell;2019-01-01 12:50:07 -0500;http1connection: Fix a bug with redirects and chunked requests
After a redirect, the chunked-encoding header is already set and would
not be detected correctly. This affects empty bodies with
allow_nonstandard_methods and any use of body_producer.

==

tornado/http1connection.py
tornado/test/httpclient_test.py
==================
2ca8821d;Ben Darnell;2018-07-10 22:32:57 -0400;Revert "Revert "_HTTPConnection: check location on _should_follow_redirect() and retain safe request when following redirects (#2409)""
This reverts commit dda77f2ca3365bd031a0c56dd19c8ed781a0695a.

==

tornado/simple_httpclient.py
tornado/test/httpclient_test.py
==================
e79ff92e;Ben Darnell;2019-01-01 10:38:12 -0500;Merge pull request #2564 from bdarnell/queue-warning
queues: Add a note to Queue.get about difference from stdlib
==
==================
b17e7349;Ben Darnell;2019-01-01 10:29:22 -0500;queues: Add a note to Queue.get about difference from stdlib
Tornado's interpretation of the timeout argument differs from the
stdlib's queue.

Fixes #2370

==

tornado/queues.py
==================
b399a9d1;Ben Darnell;2018-12-30 15:27:03 -0500;Merge pull request #2563 from bdarnell/docs-update
docs: Various updates
==
==================
27d15b91;Ben Darnell;2018-12-30 14:55:14 -0500;concurrent: Update docs

==

docs/concurrent.rst
tornado/concurrent.py
==================
6cc02fbe;Ben Darnell;2018-12-30 14:49:15 -0500;auth: Update docs

==

tornado/auth.py
==================
7f63eec7;Ben Darnell;2018-12-30 14:43:04 -0500;queues: Update docs

==

tornado/queues.py
tornado/test/queues_test.py
tornado/websocket.py
==================
0155041d;Ben Darnell;2018-12-30 14:03:06 -0500;locks: Update docs

==

docs/locks.rst
tornado/locks.py
tornado/queues.py
tornado/test/locks_test.py
==================
9b30cb2f;Ben Darnell;2018-12-30 13:35:34 -0500;gen: Update docs

==

docs/gen.rst
tornado/gen.py
==================
89d709a1;Ben Darnell;2018-12-30 13:16:50 -0500;iostream: Update docs

==

tornado/iostream.py
==================
1281938f;Ben Darnell;2018-12-30 13:12:51 -0500;ioloop: Update docs

==

docs/ioloop.rst
docs/releases/v4.2.0.rst
tornado/ioloop.py
==================
12959414;Ben Darnell;2018-12-30 12:42:42 -0500;httpclient: Update docs

==

docs/conf.py
docs/httpclient.rst
tornado/httpclient.py
tornado/test/twisted_test.py
==================
53b94bf8;Ben Darnell;2018-12-30 12:35:20 -0500;httpserver: Update docs

==

docs/httpserver.rst
tornado/httpserver.py
==================
7c9c7e0a;Ben Darnell;2018-12-30 12:34:53 -0500;docs: Add sphinxcontrib-asyncio
This adds a "coroutine" marker to native coroutines

==

docs/conda.yml
docs/conf.py
docs/requirements.txt
==================
b8192eca;Ben Darnell;2018-12-30 12:10:20 -0500;websocket: Change some Future type annotations to Awaitables
This conforms with usage elsewhere, that methods returning None use
Futures (self-starting in case the result is not awaited) and others
use Awaitable (reserving the option to use more efficient native
coroutines).

==

tornado/websocket.py
==================
34f15b2d;Ben Darnell;2018-12-30 12:05:49 -0500;escape: Update docs
Replace to_basestring with an alias for to_unicode, since the two are
equivalent on py3.

==

docs/escape.rst
tornado/escape.py
==================
09e2fd43;Ben Darnell;2018-12-30 11:48:43 -0500;web: Update docs

==

docs/web.rst
tornado/web.py
==================
9ff87e3a;Ben Darnell;2018-12-29 20:08:08 -0500;Merge pull request #2562 from bdarnell/docs-update
docs: Minor updates
==
==================
e5bd1c2e;Ben Darnell;2018-12-29 19:59:20 -0500;docs: Remove year from copyright variable
Computing this dynamically is wrong and it doesn't seem worth the
trouble to maintain manually.

Closes #2258
Closes #2259

==

docs/conf.py
==================
e7e31e56;Ben Darnell;2018-12-29 19:57:39 -0500;docs: Use python 3.7 via conda for readthedocs builds
The typing module in python 3.5 has problems with some type
annotations so we need to build with 3.7. RTD doesn't yet support py37
natively but we can get it with conda following an example at
https://github.com/rtfd/readthedocs-docker-images/pull/73

==

docs/conda.yml
readthedocs.yml
==================
cb2d8977;Ben Darnell;2018-12-29 19:55:27 -0500;docs: Blacken conf.py

==

docs/conf.py
==================
e99eeb4e;Ben Darnell;2018-12-29 19:54:51 -0500;docs: Upgrade sphinx to 1.8
The bug that kept us on 1.7 was fixed in 1.8.2.

==

docs/requirements.txt
maint/requirements.in
maint/requirements.txt
==================
15eebc46;Ben Darnell;2018-12-29 14:23:20 -0500;Merge pull request #2561 from bdarnell/contextvars-test
gen_test: Verify that contextvars work as expected
==
==================
62c636a9;Ben Darnell;2018-12-29 14:06:44 -0500;gen_test: Verify that contextvars work as expected

==

tornado/test/gen_test.py
==================
b88e3f89;Ben Darnell;2018-12-28 22:28:45 -0500;Merge pull request #2560 from bdarnell/websocket-cleanup
websocket: Convert to native coroutines, refactor
==
==================
5b5635fe;Ben Darnell;2018-12-24 13:03:18 -0500;websocket: Convert legacy coroutines to native

==

tornado/iostream.py
tornado/test/websocket_test.py
tornado/websocket.py
==================
e69becbf;Ben Darnell;2018-12-24 11:57:33 -0500;websocket: Make WSH.get a coroutine
This is necessary to convert accept_connection to native coroutines -
the handshake no longer completes within a single IOLoop iteration
with this change due to coroutine scheduling.

This has the side effect of keeping the HTTP1Connection open for the
lifetime of the websocket connection. That's not great for memory, but
might help streamline close handling. Either way, it'll be refactored
in a future change.

==

tornado/websocket.py
==================
e719d820;Ben Darnell;2018-10-21 15:13:56 -0400;websocket: Narrow the websocket handler interface
Pass close arguments via a new method instead of setting attributes.
Extract a "params" struct.

==

tornado/websocket.py
==================
a9b9a148;Ben Darnell;2018-10-21 14:26:43 -0400;websocket: Merge close detection into receive_frame_loop
This avoids races between message handling and the close callback.

==

tornado/websocket.py
==================
a237a995;Ben Darnell;2018-12-09 22:16:33 -0500;testing: Cancel all pending coroutines in tearDown
It's difficult to synchronize test shutdown with the exits of all
coroutines, so explicitly cancel all native coroutines (which are
spammy when allowed to be GC'd).

Suppress logging of CancelledErrors in IOLoop.

==

tornado/http1connection.py
tornado/ioloop.py
tornado/iostream.py
tornado/test/httpclient_test.py
tornado/test/testing_test.py
tornado/testing.py
==================
aaad182a;Tim Jensen;2018-12-15 16:24:03 -0600;Release app references in AsyncHTTPTestCase tearDown method (#2554)
Releasing the application and HTTP server references in tearDown helps
encourage the GC to clean up resources passed through the application
settings.

==

tornado/test/testing_test.py
tornado/testing.py
==================
9e4ae9e9;Ben Darnell;2018-12-15 10:41:20 -0500;Merge pull request #2549 from garenchan/bugfix-#2448
web: Use 'future_add_done_callback' to add callback.
==
==================
9a4a6ce9;garenchan;2018-12-10 19:16:38 +0800;Use 'future_add_done_callback' to add callback. The PR #2449 was incomplete, it omited consideration of another branch of the 'flush' method. In short, the future returned by 'RequestHandler.finish()' may also be the return value of 'HTTP1Connection.write()'. So we should make the same change to 'HTTP1Connection.write()'.
Fix #2448.

==

tornado/http1connection.py
tornado/test/web_test.py
==================
ae9a2da9;Ben Darnell;2018-12-09 21:14:50 -0500;websocket_test: Remove most manual closes
At one time this was necessary to prevent spurious warnings at
shutdown, but not any more (and I intend to address warnings like this
with a more general solution).

==

tornado/test/websocket_test.py
==================
c350dc9f;Ben Darnell;2018-12-02 19:44:04 -0500;Merge pull request #2545 from bdarnell/future-exception-cancel
concurrent: Add future_set_exception_unless_cancelled
==
==================
98684438;Ben Darnell;2018-12-02 19:43:52 -0500;Merge pull request #2544 from bdarnell/httpclient-del
httpclient: Fix warning logged by sync HTTPClient destructor
==
==================
aa622e72;Ben Darnell;2018-12-02 12:33:07 -0500;httpclient: Fix warning logged by sync HTTPClient destructor
If an HTTPClient is closed from its destructor instead of an explicit
close() call, it sometimes logs an "inconsistent AsyncHTTPClient
cache" error because the weakrefs appear to get cleaned up in an
unexpected order. Relax the checks in AsyncHTTPClient.close to allow
for a missing value in the instance cache.

Fixes #2539

==

.travis.yml
tornado/httpclient.py
tornado/test/httpclient_test.py
==================
566441e8;Ben Darnell;2018-12-02 13:19:57 -0500;concurrent: Remove some pre-6.0 compatibility code

==

tornado/concurrent.py
==================
449f2aea;Ben Darnell;2018-12-02 13:11:37 -0500;concurrent: Add future_set_exception_unless_cancelled
Tornado's limited support for cancellation means that errors after a
Future is cancelled could get raised (and probably logged) as
InvalidStateErrors.

This new function effectively changes the behavior to log the real
exception instead of the InvalidStateError. We log them instead of
ignoring them because it's generally not a good idea to let errors
pass silently even if they're after the point that no one is listening
for them (this is consistent with the way gen.multi() handles multiple
errors, for example).

Fixes #2540

==

tornado/concurrent.py
tornado/httpclient.py
tornado/iostream.py
tornado/process.py
tornado/test/httpclient_test.py
==================
940fd87f;Ben Darnell;2018-11-21 10:07:13 -0500;Merge pull request #2524 from kinow/define-xsrf-expires-day
Define XSRF cookie expires_day via settings
==
==================
80c5357b;Bruno P. Kinoshita;2018-10-31 22:38:45 +1300;Use kwargs for expires_days, and remove default of 30 days

==

tornado/test/web_test.py
tornado/web.py
==================
8abbb90f;Ben Darnell;2018-11-02 16:18:39 -0400;Merge pull request #2528 from zejn/master
Add support for source IP address to SimpleAsyncHTTPClient.
==
==================
5694c742;Ben Darnell;2018-11-02 15:42:39 -0400;Merge pull request #2512 from dhiltonp/master
allow configurable max_restarts in TCPServer.start
==
==================
db529031;Garen Chan;2018-11-03 03:40:33 +0800;Fix #2521: Serve full file when range start is negative and exceeds the total length (#2522)
* Serve full file while range negative past start.

Fix issue #2521.

* Return 416 while range end less than start.

When range end less than start, the content length will be negative and
HTTPOutputError will be raised.


==

tornado/test/web_test.py
tornado/web.py
==================
a8420fc6;Ben Darnell;2018-11-02 13:26:34 -0400;Merge pull request #2530 from bdarnell/requirements
maint: Update requirements
==
==================
868772d8;Ben Darnell;2018-11-02 13:26:03 -0400;Merge pull request #2529 from bdarnell/blacken-demos
demos: Format all the demos with `black`
==
==================
64a0c738;Ben Darnell;2018-11-02 13:09:09 -0400;maint: Update requirements
Pick up a security fix in `requests`, and add mypy and black to the list.

==

maint/requirements.in
maint/requirements.txt
tox.ini
==================
8f65f152;Ben Darnell;2018-11-02 12:57:09 -0400;http1connection: Fix some weird formatting
`black` refused to move the operator across the comment, leaving it
stranded on a line by its own. The most recent version of pycodestyle
complains about this.

==

tornado/http1connection.py
==================
1e9a7091;Ben Darnell;2018-11-02 12:56:28 -0400;demos: Format all the demos with `black`

==

.travis.yml
demos/blog/blog.py
demos/chat/chatdemo.py
demos/facebook/facebook.py
demos/file_upload/file_receiver.py
demos/file_upload/file_uploader.py
demos/helloworld/helloworld.py
demos/s3server/s3server.py
demos/twitter/twitterdemo.py
demos/websocket/chatdemo.py
demos/webspider/webspider.py
tox.ini
==================
9ba61c63;Gasper Zejn;2018-11-02 13:38:22 +0100;Add support for source IP address to SimpleAsyncHTTPClient.
Extend support for HTTPRequest's network_interface parameter to
SimpleAsyncHTTPClient. This enables binding to specific local IP and
enables connecting to WebSockets via a specific IP address.

To use it you create a HTTPRequest with network_interface parameter set
to local IP address to be used as source IP. websocket_connect then
passes the request to SimpleAsyncHTTPClient.

Note that even though the parameter name is `network_interface`, the
CurlAsyncHTTPClient may support (OS dependant) passing in interface
name, resolvable hostname or IP address, while this patch only adds
IP address support to SimpleAsyncHTTPClient.

==

tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/httpclient_test.py
==================
779d9e08;David Hilton;2018-10-30 16:37:17 -0600;allow configurable max_restarts in TCPServer.start

==

tornado/process.py
tornado/tcpserver.py
==================
715ef056;Ben Darnell;2018-10-20 22:01:49 -0400;Merge pull request #2520 from bdarnell/native-coro
*: Convert most non-test coroutines to native
==
==================
bc74d7b0;Ben Darnell;2018-10-14 15:28:49 -0400;*: Convert most non-test coroutines to native
The websocket module is an exception; it needs a little more work to
change things without breaking tests.

==

tornado/httpserver.py
tornado/netutil.py
tornado/simple_httpclient.py
tornado/tcpclient.py
tornado/test/simple_httpclient_test.py
tornado/web.py
tornado/websocket.py
==================
1d18e5d0;Ben Darnell;2018-10-20 13:01:38 -0400;Merge pull request #2519 from bdarnell/escape-nightly
web: Fix "invalid escape sequence" error on nightly python
==
==================
6dceb64e;Ben Darnell;2018-10-20 10:38:35 -0400;ci: Enable warnings-as-errors earlier
This catches import-time warnings in more modules, including a warning
about invalid escape sequences that is now an error on nightly python.

==

.travis.yml
tornado/httputil.py
tornado/test/runtests.py
tornado/test/web_test.py
tornado/util.py
tornado/web.py
tox.ini
==================
f4ab48d4;Ben Darnell;2018-10-20 10:16:28 -0400;Merge commit 'pull/origin/2506'

==
==================
917c7b49;Ben Darnell;2018-10-19 22:10:28 -0400;Merge pull request #2518 from bdarnell/iostream-ssl-error-log
iostream: Add errno 0 to the list of silent errors in TLS handshakes
==
==================
e63980fb;Ben Darnell;2018-10-19 20:07:42 -0400;iostream: Add errno 0 to the list of silent errors in TLS handshakes
This error is possible for some connections that don't follow through
with the TLS handshake.

Fixes #2504

==

tornado/iostream.py
==================
8355c263;Ben Darnell;2018-10-19 19:27:24 -0400;Merge pull request #2509 from onovy/new-ssl-cert
Regenerate test crt
==
==================
7f16b433;Ben Darnell;2018-10-14 13:43:33 -0400;locks: Convert to native coroutines

==

tornado/locks.py
==================
f15102bf;Ben Darnell;2018-10-14 13:30:54 -0400;web: Convert RequestHandler._execute to a native coroutine

==

tornado/test/httpserver_test.py
tornado/test/simple_httpclient_test.py
tornado/test/web_test.py
tornado/web.py
==================
6ca604df;Ben Darnell;2018-10-14 11:33:05 -0400;http1connection: Convert to native coroutines

==

tornado/http1connection.py
tornado/test/httpserver_test.py
==================
e545c51e;Ben Darnell;2018-10-07 12:24:59 -0400;Merge pull request #2514 from bdarnell/mypy
*: Finish adding type annotations
==
==================
c840c41b;Ben Darnell;2018-10-07 12:06:52 -0400;travis: Run docs CI on py37
We were running it on py36 as a bit of manual bin-packing to optimize
total CI runtime, but sphinx-on-py36 has some bugs in annotation
introspection that we run into.

==

.travis.yml
==================
753987b3;Ben Darnell;2018-10-07 11:42:49 -0400;web,template: Work around test failures on pypy3
pypy3 doesn't yet have the typing.ContextManager type, and
https://bitbucket.org/pypy/pypy/issues/2868/segfault-with-args-type-annotation-in

==

tornado/template.py
tornado/web.py
==================
52c9ab86;Ben Darnell;2018-10-07 00:26:16 -0400;Merge remote-tracking branch 'origin/master' into mypy

==
==================
4794f301;Ben Darnell;2018-10-07 00:19:52 -0400;web,util: Work around "initialize incompatible with superclass" errors
There are still a few more of these, but they're internal-only.

==

tornado/httpserver.py
tornado/netutil.py
tornado/util.py
tornado/web.py
==================
d502a64a;Ben Darnell;2018-10-06 23:55:32 -0400;*: Remove some obsolete linter "noqa" cruft

==

tornado/concurrent.py
tornado/gen.py
tornado/httputil.py
tornado/ioloop.py
tornado/platform/windows.py
tornado/test/escape_test.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/routing_test.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
tornado/test/web_test.py
tornado/test/websocket_test.py
tornado/util.py
==================
2d5ba2fa;Ben Darnell;2018-10-06 23:33:56 -0400;web: Improve typings for HTTP verb methods
Add py.typed marker file and test that client code can be type-checked.

==

maint/test/mypy/.gitignore
maint/test/mypy/bad.py
maint/test/mypy/good.py
maint/test/mypy/setup.py
maint/test/mypy/tox.ini
setup.py
tornado/py.typed
tornado/web.py
==================
4824f41a;Ben Darnell;2018-10-06 23:13:06 -0400;setup: Blacken the file

==

MANIFEST.in
setup.py
==================
1c7deebd;Ben Darnell;2018-10-06 23:07:57 -0400;ci: Enforce black format

==

.travis.yml
tox.ini
==================
72026c5e;Ben Darnell;2018-10-06 23:03:26 -0400;*: Adopt black as code formatter
It occasionally makes some odd-looking decisions and uses a lot of
vertical space but overall it's a big improvement, especially for the
dense type signatures.

==

.flake8
tornado/auth.py
tornado/autoreload.py
tornado/concurrent.py
tornado/curl_httpclient.py
tornado/escape.py
tornado/gen.py
tornado/http1connection.py
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/locks.py
tornado/log.py
tornado/netutil.py
tornado/options.py
tornado/platform/asyncio.py
tornado/platform/auto.py
tornado/platform/caresresolver.py
tornado/platform/twisted.py
tornado/platform/windows.py
tornado/process.py
tornado/queues.py
tornado/routing.py
tornado/simple_httpclient.py
tornado/tcpclient.py
tornado/tcpserver.py
tornado/template.py
tornado/test/asyncio_test.py
tornado/test/auth_test.py
tornado/test/autoreload_test.py
tornado/test/concurrent_test.py
tornado/test/curl_httpclient_test.py
tornado/test/escape_test.py
tornado/test/gen_test.py
tornado/test/http1connection_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/import_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/locale_test.py
tornado/test/locks_test.py
tornado/test/log_test.py
tornado/test/netutil_test.py
tornado/test/options_test.py
tornado/test/process_test.py
tornado/test/queues_test.py
tornado/test/resolve_test_helper.py
tornado/test/routing_test.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
tornado/test/tcpclient_test.py
tornado/test/tcpserver_test.py
tornado/test/template_test.py
tornado/test/testing_test.py
tornado/test/twisted_test.py
tornado/test/util.py
tornado/test/util_test.py
tornado/test/web_test.py
tornado/test/websocket_test.py
tornado/test/windows_test.py
tornado/testing.py
tornado/util.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
4265f549;Ben Darnell;2018-10-06 22:02:00 -0400;mypy: Update to 0.630 and pin that version

==

.travis.yml
tornado/wsgi.py
tox.ini
==================
efcb7d83;Ben Darnell;2018-09-30 22:20:00 -0400;websocket: Add type annotations
This is more invasive than usual because it defines a Protocol to be
shared between WebSocketHandler and WebSocketClientConnection (and
fixes a bug: an uncaught exception in the callback mode of
WebSocketClientConnection would fail due to the missing log_exception
method).

Fixes #2181

==

setup.cfg
tornado/simple_httpclient.py
tornado/websocket.py
==================
30bbccbb;Ben Darnell;2018-09-30 12:51:15 -0400;wsgi: Add type annotations

==

setup.cfg
tornado/wsgi.py
==================
7b846ea5;Ben Darnell;2018-09-30 12:34:05 -0400;auth: Add type annotations
This is a bit hacky and limited because mypy doesn't handle mixins
very well and there's a lot of untypeable json here, but it's better
than nothing.

==

setup.cfg
tornado/auth.py
tornado/httpclient.py
tornado/web.py
==================
28c02b5e;Ben Darnell;2018-09-29 16:50:52 -0400;web,routing: Add type annotations

==

setup.cfg
tornado/http1connection.py
tornado/httputil.py
tornado/routing.py
tornado/test/httpclient_test.py
tornado/test/web_test.py
tornado/web.py
==================
51d3fafe;Ondřej Nový;2018-09-29 15:59:02 +0200;Regenerate test crt
Newer OpenSSL requires RSA key at least 2048 bits

==

tornado/test/test.crt
tornado/test/test.key
==================
e6eb0fcb;Ben Darnell;2018-09-28 23:40:13 -0400;template: Add type annotations

==

setup.cfg
tornado/template.py
==================
68289914;Ben Darnell;2018-09-28 22:43:48 -0400;httpclients: Add type annotations

==

setup.cfg
tornado/curl_httpclient.py
tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/httpclient_test.py
==================
dc3f5f31;garenchan;2018-09-20 11:36:37 +0800;Specify that the encoding of file handler is utf-8. Fix issue #2503.

==

tornado/log.py
==================
8b18826c;Ben Darnell;2018-09-17 08:54:20 -0400;locks,queues: Add type annotations

==

setup.cfg
tornado/locks.py
tornado/queues.py
tornado/test/queues_test.py
tornado/test/tcpclient_test.py
==================
f3bb9fa1;Ben Darnell;2018-09-17 08:53:08 -0400;queues_test: Fix comment
This test inaccurately described the behavior it was testing.

==

tornado/test/queues_test.py
==================
7f579974;Ben Darnell;2018-09-16 17:35:34 -0400;autoreload,process: Add type annotations

==

setup.cfg
tornado/autoreload.py
tornado/process.py
tornado/test/process_test.py
==================
bc4db0d0;Ben Darnell;2018-09-16 16:55:56 -0400;*: Minimally type-annotate remaining tests
Streamline setup.cfg. Includes a few code changes necessary to get
tests typechecking.

==

setup.cfg
tornado/httputil.py
tornado/locks.py
tornado/test/httpclient_test.py
tornado/test/locks_test.py
tornado/test/process_test.py
tornado/test/routing_test.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
tornado/test/template_test.py
tornado/test/util.py
tornado/test/web_test.py
tornado/test/websocket_test.py
==================
627eafb3;Matthew Rocklin;2018-09-16 16:09:40 -0400;Add thread identity check to add_callback (#2469)
* Add thread identity check to add_callback

Fixes #2463

This reduces the overhead of add_callback when called on the same thread
as the event loop.  This uses asyncio's call_soon rather than
call_soon_threadsafe.

* Separately define add_callback_from_signal

==

tornado/platform/asyncio.py
tornado/test/httpclient_test.py
==================
3fe23bc5;Ben Darnell;2018-09-16 15:54:48 -0400;Merge pull request #2500 from bdarnell/master-release-notes
docs: 5.1.1 release notes
==
==================
bb35ae44;Ben Darnell;2018-09-16 13:55:41 -0400;docs: 5.1.1 release notes

==

docs/releases.rst
docs/releases/v5.1.1.rst
==================
fe8d406c;Ben Darnell;2018-09-16 14:14:13 -0400;Merge pull request #2497 from bdarnell/auth-tests
auth: Forward-port tests from branch5.1
==
==================
e19f8189;Ben Darnell;2018-09-16 12:04:52 -0400;auth: Forward-port tests from branch5.1
The bugs fixed in #2496 were already fixed in the 6.0 branch, but the
tests added there are still useful

==

tornado/test/auth_test.py
==================
9adaea74;Ben Darnell;2018-09-15 16:41:32 -0400;Merge pull request #2494 from mivade/user-guide-fix
Fix run_in_executor call in user guide
==
==================
366a5f94;Ben Darnell;2018-09-15 16:40:06 -0400;Merge pull request #2490 from bdarnell/mypy
More mypy annotations
==
==================
84e7f105;Ben Darnell;2018-09-15 16:31:45 -0400;docs: Pin sphinx 1.7
The build currently fails on 1.8 due to https://bugs.python.org/issue34700

==

.travis.yml
docs/requirements.txt
tox.ini
==================
a4a70390;Michael V. DePalatis;2018-09-15 10:03:04 -0600;Fix run_in_executor call in user guide
Addresses #2493.

==

docs/guide/coroutines.rst
==================
1b51b7de;Ben Darnell;2018-08-12 22:51:54 -0400;httpserver,http1connection: Add type annotations

==

setup.cfg
tornado/http1connection.py
tornado/httpserver.py
tornado/httputil.py
tornado/iostream.py
tornado/test/httpserver_test.py
tornado/testing.py
==================
1368ee6a;Ben Darnell;2018-08-12 13:01:33 -0400;tcpclient,tcpserver: Add type annotations

==

setup.cfg
tornado/tcpclient.py
tornado/tcpserver.py
tornado/test/tcpclient_test.py
tornado/test/tcpserver_test.py
==================
0c740284;Ben Darnell;2018-08-12 12:26:00 -0400;iostream: Add type annotations

==

setup.cfg
tornado/iostream.py
tornado/test/iostream_test.py
==================
070e0ede;Ben Darnell;2018-08-15 23:02:30 -0400;Merge pull request #2472 from peterdn/fix-ioloop-doc-example
Fix IOLoop doc example code
==
==================
cca38e01;Peter Nelson;2018-08-14 18:29:30 -0500;Use spawn_callback method to handle connection

==

tornado/ioloop.py
==================
d4a27c06;Peter Nelson;2018-08-13 21:42:45 -0500;Fix IOLoop doc example code

==

tornado/ioloop.py
==================
afe7dc58;Ben Darnell;2018-08-11 23:00:41 -0400;ioloop,platform: Add type annotations

==

setup.cfg
tornado/ioloop.py
tornado/netutil.py
tornado/platform/asyncio.py
tornado/platform/caresresolver.py
tornado/platform/interface.py
tornado/platform/posix.py
tornado/platform/twisted.py
tornado/platform/windows.py
tornado/test/ioloop_test.py
tornado/testing.py
==================
54c6b2d4;Ben Darnell;2018-08-11 19:35:25 -0400;netutil: Add type annotations

==

setup.cfg
tornado/concurrent.py
tornado/gen.py
tornado/netutil.py
tornado/test/netutil_test.py
tornado/testing.py
tornado/util.py
==================
75bdedcb;Ben Darnell;2018-08-11 18:09:02 -0400;log,options: Add type annotations

==

setup.cfg
tornado/log.py
tornado/options.py
tornado/test/options_test.py
==================
8b0e779e;Ben Darnell;2018-08-11 17:18:16 -0400;locale: Type-annotate the module

==

setup.cfg
tornado/locale.py
tornado/test/locale_test.py
==================
90a7ceda;Ben Darnell;2018-08-11 16:40:07 -0400;testing: Type-annotate the module

==

setup.cfg
tornado/testing.py
==================
ceca6f31;Ben Darnell;2018-08-11 13:43:13 -0400;Merge pull request #2466 from bdarnell/mypy
concurrent, gen: Add type annotations. Expand type checking of tests
==
==================
6cbdf15d;Ben Darnell;2018-08-11 12:20:49 -0400;build: Test on newer pypy
Originally motivated by segfaults seen when adding type annotations to
gen.py. It didn't actually fix those crashes, but we might as well
update anyway.

==

.travis.yml
==================
467fec4b;Ben Darnell;2018-08-11 11:27:13 -0400;gen: Type annotate the module
This is a tricky module to type. In some cases mypy just isn't able to
express things (e.g. decorators that preserve the parameter types of
their functions but change the return type), and in others I think
it's possible to do better but I haven't figured out how (preserving
types passed through with_timeout).

==

setup.cfg
tornado/gen.py
tornado/test/gen_test.py
==================
b10f2a25;Ben Darnell;2018-08-11 12:45:39 -0400;Merge pull request #2467 from bdarnell/autoreload-test
test: Deflake autoreload_test on windows
==
==================
7d8fb10e;Ben Darnell;2018-08-11 12:14:07 -0400;test: Deflake autoreload_test on windows
This sometimes fails with a "file in use" error while cleaning up the
temp directory. Add a sleep and retry in case we've reached our
teardown before the child process has released its locks.

==

tornado/test/autoreload_test.py
==================
d6f47a2e;Ben Darnell;2018-08-11 12:10:58 -0400;Merge pull request #2465 from aaronjheng/license
include license file in the wheel package
==
==================
9f4f0f44;Ben Darnell;2018-07-29 18:22:17 -0400;gen: Remove some dead code

==

tornado/gen.py
==================
4db70791;Ben Darnell;2018-07-29 13:59:39 -0400;concurrent: Type-annotate module

==

setup.cfg
tornado/concurrent.py
tornado/test/concurrent_test.py
==================
d3e1fb3c;Ben Darnell;2018-07-29 12:44:30 -0400;test: Partially typecheck tests for annotated modules
The only type annotations added were those required by mypy. This
found some errors in the original annotations.

==

setup.cfg
tornado/httputil.py
tornado/test/escape_test.py
tornado/test/httputil_test.py
tornado/test/util_test.py
tornado/util.py
==================
cae64d3a;Ben Darnell;2018-08-11 11:35:20 -0400;Merge pull request #2461 from purple4reina/fix-util-type-checking
Always import Type.
==
==================
acf0a589;aaronjheng;2018-08-09 15:47:23 +0800;include license file in the wheel package

==

setup.cfg
==================
c8a750e9;Rey Abolofia;2018-07-31 11:19:49 -0700;Test configure with string input.

==

tornado/test/util_test.py
==================
c3af2c51;Rey Abolofia;2018-07-30 16:15:49 -0700;Always import Type.

==

tornado/util.py
==================
1a86a4f7;Ben Darnell;2018-07-29 12:09:31 -0400;Merge pull request #2452 from bdarnell/mypy
Add/update mypy annotations for util, httputil, escape
==
==================
485f6993;Ben Darnell;2018-07-29 12:07:44 -0400;Merge pull request #2460 from bdarnell/ws-close
websocket: Improve detection of closing websocket connections
==
==================
4780b750;Ben Darnell;2018-07-29 11:25:32 -0400;Merge pull request #2459 from aristotll/patch-1
docs: Fix python syntax error in the user guide
==
==================
1302c6d0;Ben Darnell;2018-07-29 10:36:08 -0400;Merge pull request #2456 from garenchan/bugfix-2455
fix issue #2455: AttributeError: 'list' object has no attribute 'slug'
==
==================
f18f3dc9;Ben Darnell;2018-07-29 10:29:09 -0400;Merge pull request #2454 from silentnights/fix-getaddrinfo-order
Sort getaddrinfo result based on address family
==
==================
b7c53170;Ben Darnell;2018-07-29 10:25:04 -0400;websocket: Improve detection of closing websocket connections
This eliminates the possibility of messages (especially pings) being
sent in the middle of the closing process (which is generally harmless
but results in errors being logged).

Fixes #2447

==

tornado/websocket.py
==================
99bb140d;Ben Darnell;2018-07-29 09:29:45 -0400;Merge pull request #2449 from garenchan/bugfix-2448
fix issue #2448: RequestHandler.finish() future not resolving
==
==================
8e80df38;Yao;2018-07-25 22:55:06 +0800;docs: Fix python syntax error in the user guide

==

docs/guide/coroutines.rst
==================
e493c10e;chengkang;2018-07-24 10:47:28 +0800;use queryone() instead of query()

==

demos/blog/blog.py
==================
88b3baff;chengkang;2018-07-24 09:57:16 +0800;fix issue #2455

==

demos/blog/blog.py
==================
7ac75bd7;Silent-Nights;2018-07-23 15:42:44 +0200;Sort getaddrinfo result based on address family
Putting getaddrinfo result in a set to eliminate duplicates causes race
 conditions because sets are unordered

For example consider 2 applications try to bind to many random ports at once
 in both IPV4 and IPV6.
App1: Bind to random IPV4 address and get port 50000
App2: Bind to random IPV6 address and get port 50000
App2: Try to bind to same port on IPV4 and fails as App1 already bound to it
The same goes for App1

To resolve this, we create the set explicitly outside the loop.
We order the returned list of getaddrinfo based on Address family.
We skip the iteration if the iteration tuple already in the set.
Otherwise we execute the loop.

==

tornado/netutil.py
==================
e239cf28;chengkang;2018-07-22 13:12:27 +0800;improve testcase for RequestHandler.finish()

==

tornado/test/web_test.py
==================
dd0bb17c;Ben Darnell;2018-07-21 18:29:59 -0400;escape: Type-annotate everything

==

setup.cfg
tornado/escape.py
==================
c0d6434e;Ben Darnell;2018-07-21 18:07:16 -0400;httputil: Type-annotate all methods

==

setup.cfg
tornado/escape.py
tornado/httputil.py
==================
27a72606;Ben Darnell;2018-07-21 14:14:51 -0400;util: Type-annotate everything
There are a few functional changes here, including some changes
related to removing py27.

==

setup.cfg
tornado/util.py
==================
eb5bab79;Ben Darnell;2018-07-21 13:05:53 -0400;*: Add mypy tox config and get it passing
Touch up the old annotations; it's simpler now that we're 3.5+. But
most of the additions here are type:ignore comments.

==

.travis.yml
tornado/autoreload.py
tornado/ioloop.py
tornado/iostream.py
tornado/log.py
tornado/platform/asyncio.py
tornado/platform/windows.py
tornado/routing.py
tornado/test/httpclient_test.py
tornado/test/routing_test.py
tornado/test/twisted_test.py
tornado/test/util.py
tornado/test/web_test.py
tornado/test/websocket_test.py
tornado/util.py
tox.ini
==================
c6da8b6f;chengkang;2018-07-20 16:53:05 +0800;fix issue #2448

==

tornado/http1connection.py
==================
d4eb8eb4;Ben Darnell;2018-07-15 18:10:03 -0400;Merge pull request #2445 from s3rvac/fix-grammar-mistake-in-user-guide
Fix a grammar mistake in the user guide
==
==================
64743038;Ben Darnell;2018-07-15 18:09:25 -0400;Merge pull request #2441 from garenchan/master
fix issue #2438: clear input in demo projects
==
==================
5ffa1aae;Petr Zemek;2018-07-15 14:45:58 +0200;docs: Fix a grammar mistake in the user guide
"coroutines has" -> "coroutines have"

==

docs/guide/coroutines.rst
==================
819e1310;Ben Darnell;2018-07-14 18:31:41 -0400;Merge pull request #2444 from bdarnell/travis-update
build: Restore python 3.7 in travis
==
==================
f777a733;Ben Darnell;2018-07-14 17:46:54 -0400;build: Restore python 3.7 in travis

==

.travis.yml
==================
f6e98e27;Ben Darnell;2018-07-14 17:21:36 -0400;Merge pull request #2443 from bdarnell/drop-py2
*: Drop support for Python 2
==
==================
e332a7de;Ben Darnell;2018-07-14 11:46:28 -0400;*: Remove Python2 __future__ imports throughout the codebase

==

demos/file_upload/file_uploader.py
demos/tcpecho/client.py
maint/circlerefs/circlerefs.py
maint/scripts/test_resolvers.py
maint/vm/windows/bootstrap.py
tornado/__init__.py
tornado/_locale_data.py
tornado/auth.py
tornado/autoreload.py
tornado/concurrent.py
tornado/curl_httpclient.py
tornado/escape.py
tornado/gen.py
tornado/http1connection.py
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/locks.py
tornado/log.py
tornado/netutil.py
tornado/options.py
tornado/platform/asyncio.py
tornado/platform/auto.py
tornado/platform/caresresolver.py
tornado/platform/interface.py
tornado/platform/posix.py
tornado/platform/twisted.py
tornado/platform/windows.py
tornado/process.py
tornado/queues.py
tornado/routing.py
tornado/simple_httpclient.py
tornado/tcpclient.py
tornado/tcpserver.py
tornado/template.py
tornado/test/__main__.py
tornado/test/asyncio_test.py
tornado/test/auth_test.py
tornado/test/autoreload_test.py
tornado/test/concurrent_test.py
tornado/test/curl_httpclient_test.py
tornado/test/escape_test.py
tornado/test/gen_test.py
tornado/test/gettext_translations/extract_me.py
tornado/test/http1connection_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/import_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/locale_test.py
tornado/test/locks_test.py
tornado/test/log_test.py
tornado/test/netutil_test.py
tornado/test/options_test.py
tornado/test/process_test.py
tornado/test/queues_test.py
tornado/test/resolve_test_helper.py
tornado/test/routing_test.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
tornado/test/tcpclient_test.py
tornado/test/tcpserver_test.py
tornado/test/template_test.py
tornado/test/testing_test.py
tornado/test/twisted_test.py
tornado/test/util.py
tornado/test/util_test.py
tornado/test/web_test.py
tornado/test/websocket_test.py
tornado/test/windows_test.py
tornado/test/wsgi_test.py
tornado/testing.py
tornado/util.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
6fc9998a;Ben Darnell;2018-07-14 11:26:33 -0400;test: Remove legacy unittest2 compatibility cruft

==

tornado/test/asyncio_test.py
tornado/test/autoreload_test.py
tornado/test/concurrent_test.py
tornado/test/curl_httpclient_test.py
tornado/test/escape_test.py
tornado/test/gen_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/import_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/locale_test.py
tornado/test/locks_test.py
tornado/test/log_test.py
tornado/test/netutil_test.py
tornado/test/options_test.py
tornado/test/process_test.py
tornado/test/queues_test.py
tornado/test/runtests.py
tornado/test/tcpclient_test.py
tornado/test/tcpserver_test.py
tornado/test/template_test.py
tornado/test/testing_test.py
tornado/test/twisted_test.py
tornado/test/util.py
tornado/test/util_test.py
tornado/test/web_test.py
tornado/test/websocket_test.py
tox.ini
==================
e1d24ac6;Ben Darnell;2018-07-07 19:34:55 -0400;*: Remove unnecessary conditional imports

==

tornado/autoreload.py
tornado/platform/auto.py
tornado/process.py
tornado/simple_httpclient.py
tornado/tcpserver.py
tornado/template.py
tornado/test/httpserver_test.py
tornado/test/template_test.py
tornado/util.py
tornado/web.py
tornado/websocket.py
==================
fd17f533;Ben Darnell;2018-07-07 19:26:50 -0400;test: Clean up unnecessary skips and conditionals

==

tornado/test/asyncio_test.py
tornado/test/concurrent_test.py
tornado/test/gen_test.py
tornado/test/httpclient_test.py
tornado/test/httputil_test.py
tornado/test/import_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/locale_test.py
tornado/test/locks_test.py
tornado/test/netutil_test.py
tornado/test/options_test.py
tornado/test/process_test.py
tornado/test/queues_test.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
tornado/test/tcpserver_test.py
tornado/test/testing_test.py
tornado/test/util.py
tornado/test/util_test.py
tornado/test/web_test.py
tornado/test/websocket_test.py
==================
432473e3;Ben Darnell;2018-07-07 18:53:49 -0400;docs: Doc and lint updates
Just enough to unbreak the build for now.

==

docs/gen.rst
docs/guide/intro.rst
docs/guide/running.rst
docs/guide/structure.rst
docs/ioloop.rst
docs/releases/v2.3.0.rst
docs/releases/v2.4.0.rst
docs/releases/v2.4.1.rst
docs/releases/v3.0.0.rst
docs/releases/v3.0.2.rst
docs/releases/v3.1.0.rst
docs/releases/v3.2.0.rst
docs/releases/v4.0.0.rst
docs/releases/v4.1.0.rst
docs/releases/v4.3.0.rst
docs/releases/v4.4.0.rst
docs/releases/v4.5.0.rst
docs/releases/v5.0.0.rst
docs/releases/v5.1.0.rst
docs/stack_context.rst
docs/twisted.rst
docs/utilities.rst
docs/web.rst
docs/wsgi.rst
tornado/auth.py
tornado/gen.py
tornado/httpclient.py
tornado/iostream.py
tornado/platform/twisted.py
tornado/test/concurrent_test.py
tornado/test/gen_test.py
tornado/testing.py
tornado/web.py
tornado/wsgi.py
==================
45d9f6d0;Ben Darnell;2018-07-07 17:29:52 -0400;stack_context: Delete the whole module

==

maint/benchmark/stack_context_benchmark.py
tornado/curl_httpclient.py
tornado/gen.py
tornado/http1connection.py
tornado/httpclient.py
tornado/ioloop.py
tornado/iostream.py
tornado/options.py
tornado/platform/asyncio.py
tornado/process.py
tornado/simple_httpclient.py
tornado/stack_context.py
tornado/test/concurrent_test.py
tornado/test/curl_httpclient_test.py
tornado/test/httpclient_test.py
tornado/test/import_test.py
tornado/test/ioloop_test.py
tornado/test/tcpserver_test.py
tornado/test/testing_test.py
tornado/test/web_test.py
tornado/testing.py
tornado/web.py
==================
920ce30d;Ben Darnell;2018-07-07 17:06:20 -0400;web: Delete asynchronous decorator

==

tornado/test/gen_test.py
tornado/test/web_test.py
tornado/web.py
==================
70adb345;Ben Darnell;2018-07-07 16:58:22 -0400;wsgi: Remove WSGIAdapter/WSGIApplication

==

tornado/test/wsgi_test.py
tornado/wsgi.py
==================
30c86e76;Ben Darnell;2018-07-07 16:46:52 -0400;twisted: Dust off the twisted web compatibility tests

==

tornado/test/twisted_test.py
==================
004de9c3;Ben Darnell;2018-07-07 10:39:10 -0400;twisted: Delete TwistedReactor and its tests

==

tornado/platform/twisted.py
tornado/test/twisted_test.py
==================
70ab73bb;Ben Darnell;2018-07-07 10:12:35 -0400;maint: Delete appengine test scripts

==

demos/appengine/README
demos/appengine/app.yaml
demos/appengine/blog.py
demos/appengine/static/blog.css
demos/appengine/templates/archive.html
demos/appengine/templates/base.html
demos/appengine/templates/compose.html
demos/appengine/templates/entry.html
demos/appengine/templates/feed.xml
demos/appengine/templates/home.html
demos/appengine/templates/modules/entry.html
maint/test/appengine/README
maint/test/appengine/common/cgi_runtests.py
maint/test/appengine/common/runtests.py
maint/test/appengine/py27/app.yaml
maint/test/appengine/py27/cgi_runtests.py
maint/test/appengine/py27/runtests.py
maint/test/appengine/py27/tornado
maint/test/appengine/setup.py
maint/test/appengine/tox.ini
==================
5bc486e1;Ben Darnell;2018-07-07 00:31:04 -0400;util: py3 cleanups

==

tornado/ioloop.py
tornado/tcpclient.py
tornado/test/web_test.py
tornado/util.py
==================
40c33fd7;Ben Darnell;2018-07-07 00:24:59 -0400;testing: Simplify imports for python 3

==

tornado/testing.py
==================
e575d7b5;Ben Darnell;2018-07-07 00:19:38 -0400;locale,netutil,process: Minor deprecation/py3 updates

==

tornado/locale.py
tornado/netutil.py
tornado/process.py
==================
a55c7fe7;Ben Darnell;2018-07-07 00:13:36 -0400;iostream: Remove deprecated interfaces
This is the riskiest change in this series since it does some internal
refactoring to get rid of some callback-related machinery.

==

tornado/iostream.py
tornado/test/concurrent_test.py
tornado/test/iostream_test.py
==================
fcbd4022;Ben Darnell;2018-07-06 22:48:57 -0400;ioloop: Remove remaining deprecated interfaces

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
99b1e2bb;Ben Darnell;2018-07-06 22:37:28 -0400;httputil: Remove deprecated interfaces

==

tornado/httputil.py
==================
d736f938;Ben Darnell;2018-07-06 19:25:15 -0400;httpclient: Remove callback argument and deprecated error behavior

==

tornado/httpclient.py
tornado/test/curl_httpclient_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/testing_test.py
==================
1d1d02fa;Ben Darnell;2018-07-06 19:03:08 -0400;web,http1connection: Remove callback argument to flush()

==

tornado/http1connection.py
tornado/test/web_test.py
tornado/web.py
==================
71601f7b;Ben Darnell;2018-07-06 18:56:30 -0400;gen: Remove coroutine callback args and other py2 support

==

tornado/gen.py
==================
e5a8f844;Ben Darnell;2018-07-06 18:47:29 -0400;escape: Remove (some) python 2 compatibility

==

tornado/escape.py
==================
09267029;Ben Darnell;2018-07-06 18:39:24 -0400;concurrent: Delete return_future and other deprecated interfaces

==

tornado/concurrent.py
tornado/test/concurrent_test.py
tornado/test/gen_test.py
tornado/test/netutil_test.py
==================
71ffeedb;Ben Darnell;2018-07-06 18:23:22 -0400;auth: Remove deprecated callback interfaces

==

tornado/auth.py
tornado/test/auth_test.py
==================
38166b80;Ben Darnell;2018-07-06 17:24:21 -0400;gen: Delete legacy YieldPoint interfaces

==

tornado/gen.py
tornado/test/auth_test.py
tornado/test/concurrent_test.py
tornado/test/gen_test.py
tornado/test/runtests.py
tornado/test/stack_context_test.py
==================
354d8c0d;Ben Darnell;2018-07-06 17:11:42 -0400;concurrent: Delete legacy Future implementation

==

tornado/concurrent.py
==================
d4baaa3d;Ben Darnell;2018-07-06 17:08:44 -0400;ioloop: Delete PollIOLoop
This was py2-only and is no longer used.

==

docs/conf.py
maint/test/pyuv/tox.ini
tornado/ioloop.py
tornado/platform/auto.py
tornado/platform/common.py
tornado/platform/epoll.py
tornado/platform/interface.py
tornado/platform/kqueue.py
tornado/platform/posix.py
tornado/platform/select.py
tornado/platform/twisted.py
tornado/test/ioloop_test.py
tornado/test/twisted_test.py
==================
fa6a7ff6;Ben Darnell;2018-07-06 16:47:50 -0400;build: Stop building and testing with python 2.7 and 3.4
Also temporarily remove nightly from the list, because travis's
"nightly" on trusty is pinned to an alpha of 3.7 with some slightly
different behaviors (testing on 3.7 is covered by appveyor)

==

.travis.yml
setup.py
tox.ini
==================
38c0ceff;Ben Darnell;2018-07-14 11:17:18 -0400;Set version number to 6.0.dev1

==

setup.py
tornado/__init__.py
==================
c890f840;Ben Darnell;2018-07-11 09:25:17 -0400;Merge pull request #2442 from bdarnell/finalize-5.1
Set version number to 5.1
==
==================
0ff66e34;Ben Darnell;2018-07-11 09:14:00 -0400;Set version number to 5.1

==

docs/releases/v5.1.0.rst
setup.py
tornado/__init__.py
==================
9b6d7174;chengkang;2018-07-11 20:29:32 +0800;fix issue #2438

==

demos/websocket/templates/index.html
==================
d5c4e899;Ben Darnell;2018-07-10 22:32:24 -0400;Merge pull request #2439 from bdarnell/revert-redirect
Revert "_HTTPConnection: check location on _should_follow_redirect() …
==
==================
dda77f2c;Ben Darnell;2018-07-10 22:04:15 -0400;Revert "_HTTPConnection: check location on _should_follow_redirect() and retain safe request when following redirects (#2409)"
This reverts commit 859a038eb9c1af99d3871c9972f0826a1d05475d.

This commit was merged after the release of 5.1b1 with insufficient
consideration and testing. I'll bring this back in the 6.0 cycle with
a test

==

tornado/simple_httpclient.py
==================
db3e02b0;Ben Darnell;2018-07-10 21:46:11 -0400;Merge pull request #2432 from bdarnell/py37
build: Add Python 3.7 to tox and travis configs
==
==================
9fb12bbb;Ben Darnell;2018-07-10 21:28:57 -0400;test: Increase a timeout to deflake autoreload_test on pypy3

==

tornado/test/autoreload_test.py
==================
00675409;Ben Darnell;2018-07-10 20:31:29 -0400;test: Reduce the size of a test to avoid timeouts
This test times out in SSL mode on Python 3.7 64-bit on windows on
appveyor (but 32-bit and older pythons are fine)

==

tornado/test/iostream_test.py
==================
8952120d;Ben Darnell;2018-06-29 13:54:23 -0400;build: Add Python 3.7 to tox and appveyor configs
Not in travis yet because getting python 3.7 on travis is more complicated.

==

appveyor.yml
demos/blog/Dockerfile
setup.py
tox.ini
==================
cb79c892;Ben Darnell;2018-07-06 15:17:03 -0400;Merge pull request #2437 from bdarnell/work
wsgi: Avoid touching the asyncio event loop at import time
==
==================
ccc89025;Ben Darnell;2018-07-06 14:49:25 -0400;wsgi: Avoid touching the asyncio event loop at import time
Rewrite import_test. Its original purpose of augmenting our once-poor
test coverage, but it can now be useful for ensuring the absence of
import-time side effects.

Fixes #2426

==

tornado/test/import_test.py
tornado/wsgi.py
==================
d68e63f5;Ben Darnell;2018-06-27 21:15:10 -0400;demos: Remove redundant assignment
Fixes #2415

==

demos/chat/static/chat.js
==================
352a7a22;Ben Darnell;2018-06-30 13:02:18 -0400;Merge pull request #2428 from AlexanderSov/patch-1
Add space to psql command
==
==================
859a038e;garenchan;2018-06-28 09:08:41 +0800;_HTTPConnection: check location on _should_follow_redirect() and retain safe request when following redirects (#2409)

==

tornado/simple_httpclient.py
==================
d38883ce;Alexander;2018-06-22 12:51:19 +0300;Fix mistake in command.

==

demos/blog/README
==================
0b2b0550;Ben Darnell;2018-06-11 09:04:46 -0400;Merge pull request #2418 from bdarnell/5.1-beta
Set version number to 5.1b1
==
==================
9470c80a;Ben Darnell;2018-06-10 23:25:13 -0400;Set version number to 5.1b1

==

setup.py
tornado/__init__.py
==================
9a0cfd74;Ben Darnell;2018-06-10 23:24:29 -0400;Update release notes for last additions to 5.1

==

docs/releases/v5.1.0.rst
tornado/httputil.py
tornado/options.py
==================
40ee6a1c;Ben Darnell;2018-06-10 22:48:52 -0400;Merge pull request #2417 from bdarnell/test-deprecation
test: Convert more tests to non-deprecated interfaces
==
==================
886e916c;Ben Darnell;2018-06-10 22:19:58 -0400;test: Convert more tests to non-deprecated interfaces
Now the only tests using ignore_deprecation are the ones actually
testing deprecated interfaces, so the tests can be removed in 6.0.

==

tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/simple_httpclient_test.py
tornado/test/testing_test.py
tornado/test/web_test.py
==================
281ac8cc;Ben Darnell;2018-06-10 17:29:26 -0400;Merge pull request #2416 from bdarnell/http-response-times
httpclient: Improve HTTPResonse time info
==
==================
1fd7ead3;Ben Darnell;2018-06-10 17:08:15 -0400;httpclient: Improve HTTPResonse time info
The HTTPResponse.request_time attribute is now consistent between curl
and simple HTTP clients (it excludes queue time in both cases). Added
a start_time attribute which can be used to see when the network
processing started.

Replaces #1032

==

tornado/curl_httpclient.py
tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/httpclient_test.py
==================
cfc8f726;Ben Darnell;2018-06-03 14:41:01 -0400;Merge pull request #2412 from bdarnell/options-parse-string
options: parse_config_file accepts string values
==
==================
fda18106;Ben Darnell;2018-06-03 14:24:02 -0400;options: Remove dead code, test and lint updates

==

tornado/options.py
tornado/test/options_test.py
tornado/test/options_test_types_str.cfg
==================
7d9cf2a6;Ben Darnell;2018-06-03 14:00:57 -0400;Merge branch 'master' into HEAD

==
==================
25955862;Ben Darnell;2018-06-03 11:36:56 -0400;Merge pull request #2411 from bdarnell/multipart-filename
httputil: Support non-ascii filenames in multipart uploads
==
==================
e9785a38;Ben Darnell;2018-06-02 23:17:20 -0400;httputil: Fix rfc2231 for python2
Add a test that goes through parse_multipart_form_data

==

tornado/httputil.py
tornado/test/httputil_test.py
==================
acce0623;Ben Darnell;2018-06-02 22:56:46 -0400;Merge commit 'pull/origin/869' into multipart-filename

==
==================
2a420ea1;Ben Darnell;2018-06-02 12:41:52 -0400;Merge pull request #2410 from garenchan/bugfix-demo-s3-server
demo: update s3server to newest python
==
==================
16cccb0d;Ben Darnell;2018-06-02 12:39:08 -0400;Merge pull request #2406 from kaishuu0123/fix/demo-blog-compose
fix blog demo. (GET ComposeHandler)
==
==================
7dd9db61;chengkang;2018-06-01 22:03:00 +0800;demo: update s3server to newest python

==

demos/s3server/s3server.py
==================
8012b1cc;Koki Oyatsu;2018-05-31 00:40:25 +0900;fix blog demo. (GET ComposeHandler)

==

demos/blog/blog.py
==================
9bb6463c;Ben Darnell;2018-05-27 20:25:52 -0400;Merge pull request #2402 from ploxiln/pycurl_py3_justbytes
CurlAsyncHTTPClient: remove ubuntu-12.10 python3 fix
==
==================
ceb1f645;Pierce Lopez;2018-05-24 11:48:38 -0400;CurlAsyncHTTPClient: remove ubuntu-12.10 python3 fix
No need to utf8() what is passed to WRITEFUNCTION, it will always
be bytes on python3 for upstream pycurl on python3.
The ubuntu-12.10 variant is long gone.

==

tornado/curl_httpclient.py
==================
fac9054a;Ben Darnell;2018-05-20 17:15:17 -0400;Merge pull request #2397 from bdarnell/password-encoding
httpclient: Support non-ascii characters in usernames and passwords
==
==================
1c97e3c1;Ben Darnell;2018-05-20 14:37:09 -0400;httpclient: Improve non-ascii characters in HTTP auth
- Use NFC as required by the spec
- Fix string-concat exceptions on py2
- Test both curl and simple http clients for basic auth
- Do the same for proxy auth in curl

==

tornado/curl_httpclient.py
tornado/httputil.py
tornado/simple_httpclient.py
tornado/test/httpclient_test.py
==================
cc3ca857;Piotr Tylenda;2017-05-08 21:33:04 +0200;Fix non-ascii characters support in curl_httpclient username and password

==

tornado/curl_httpclient.py
tornado/test/curl_httpclient_test.py
==================
6410cd98;Ben Darnell;2018-05-20 11:47:23 -0400;Merge pull request #2395 from bdarnell/deflake
asyncio: Fix a race between close and initialize
==
==================
b167433b;Ben Darnell;2018-05-20 11:28:03 -0400;asyncio: Fix a race between close and initialize
The close method of one IOLoop could race with the initialize method
of another one, leading to KeyErrors raised in close().

Fixes #2367

==

tornado/platform/asyncio.py
tornado/test/ioloop_test.py
==================
ef034425;Ben Darnell;2018-05-20 11:10:45 -0400;test: Fix ResolveTimeoutTestCase
The dummy resolver used here was not correctly adapted for changes in
netutil, and as a result the test was incorrect (it checked for
TypeError instead of a timeout) and flaky (occasionally it would get a
timeout error anyway).

==

tornado/test/simple_httpclient_test.py
==================
02103209;Ben Darnell;2018-05-20 10:51:28 -0400;Merge pull request #2393 from bdarnell/autoreload-wrapper
autoreload: Preserve wrapper with internal reload
==
==================
feee98fc;Ben Darnell;2018-05-19 23:28:45 -0400;autoreload: Improve autoreload wrapper on windows
On platforms without execv(), we must spawn a separate subprocess.
This breaks down when an internal autoreload is firing in a wrapped
process, since the internal reload raises an exception with the
wrapper catches (triggering a second reload and another copy of the
process).

==

tornado/autoreload.py
==================
f6c4790b;Ben Darnell;2018-05-19 10:24:13 -0400;autoreload: Fix wrapper preservation for Python 3
The `spec` branch needs special handling too. Update the test to
correctly test the desired situation (and simplify by removing the
separate toucher process).

==

tornado/autoreload.py
tornado/test/autoreload_test.py
==================
eb487cac;Ben Darnell;2018-05-19 22:53:44 -0400;Merge pull request #2394 from bdarnell/finish-return-future
web: finish() and render() now return Futures
==
==================
50800f37;Ben Darnell;2018-05-19 20:46:23 -0400;Merge pull request #2392 from bdarnell/enoprotoopt
iostream,netutil: Ignore ENOPROTOOPT errors from SO_REUSEADDR or SO_ERROR
==
==================
d31bc289;Ben Darnell;2018-05-19 20:44:56 -0400;web: Also return a Future from render()
Improve tests.

==

tornado/test/web_test.py
tornado/web.py
==================
52a202da;luojiebin;2017-12-16 01:11:19 +0800;Add testcase for finish method of RequestHandler

==

tornado/test/web_test.py
==================
5949aad7;luojiebin;2017-12-16 01:10:32 +0800;Return a Future from finish method of RequestHandler

==

tornado/web.py
==================
3edf7df1;Steve;2018-01-21 18:22:37 -0700;remove redundant code

==

tornado/autoreload.py
tornado/test/autoreload_test.py
==================
831ae392;Steve;2017-12-19 22:27:57 +0800;fix autoreload argv perservation

==

tornado/autoreload.py
tornado/test/autoreload_test.py
==================
7f67e5c3;Ben Darnell;2018-05-18 14:45:42 -0400;iostream,netutil: PR feedback from #2353
- Don't swallow errors from SO_REUSEPORT since it's opt-in.
- Use errno_from_exception.
- Add comments

==

tornado/iostream.py
tornado/netutil.py
==================
adcffa67;Ondřej Nový;2018-04-11 16:17:04 +0200;Ignore ENOPROTOOPT errors from SO_REUSEADDR or SO_ERROR
Some systems, for example Hurd doesn't support SO_REUSEADDR.

==

tornado/iostream.py
tornado/netutil.py
==================
729f1d90;Ben Darnell;2018-05-19 19:10:22 -0400;Merge pull request #2391 from bdarnell/websocket-decompress-limit
websocket: Limit post-decompression size of received messages
==
==================
7bd3ef34;Ben Darnell;2018-05-19 11:11:21 -0400;websocket: Limit post-decompression size of received messages
Protects against memory exhaustion DoS attacks.

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
697bbe9c;Ben Darnell;2018-05-18 14:42:02 -0400;Merge pull request #2390 from bdarnell/lint
Fix lint checks
==
==================
2f29baa6;Ben Darnell;2018-05-18 14:01:03 -0400;Fix lint checks
This was being run from the wrong directory in CI so some errors had
slipped in.

==

.travis.yml
demos/blog/blog.py
tornado/locks.py
tornado/web.py
tornado/websocket.py
==================
5df3e393;Ben Darnell;2018-05-18 10:11:16 -0400;Merge pull request #2389 from peacetara/peacetara-patch-1
add expires docs to set_cookie.
==
==================
5b43db1a;peacetara;2018-05-17 10:09:36 -0700;add expires docs to set_cookie.
update set_cookie docstring to explain what expires will accept and behave properly, without having to go track down httputil.format_timestamp, which is not exposed in the docs(that I could find).
==

tornado/web.py
==================
81eb9f75;Ben Darnell;2018-05-13 15:44:57 -0400;Merge pull request #2386 from bdarnell/demos
demos: Update demos to modern interfaces
==
==================
f2c1f16a;Ben Darnell;2018-05-13 14:54:17 -0400;demos: Update webspider demo to python 3

==

demos/webspider/webspider.py
==================
6a0fb025;Ben Darnell;2018-05-13 13:11:08 -0400;demos: Simplify chat demo using a Condition

==

demos/chat/chatdemo.py
==================
53796f2a;Ben Darnell;2018-05-13 12:29:06 -0400;demos: Move facebook demo to non-deprecated interfaces

==

demos/facebook/facebook.py
==================
69ae0165;Ben Darnell;2018-05-13 11:57:12 -0400;demos: Move benchmarks to maint directory

==

maint/benchmark/benchmark.py
maint/benchmark/chunk_benchmark.py
maint/benchmark/gen_benchmark.py
maint/benchmark/stack_context_benchmark.py
maint/benchmark/template_benchmark.py
==================
b0194d85;Ben Darnell;2018-05-12 18:27:28 -0400;demos: Update blog demo
- Switch from MySQL to PostgreSQL/CockroachDB.
- Use (and require) Python 3.5+.
- Use aiopg instead of torndb.

==

demos/blog/Dockerfile
demos/blog/README
demos/blog/blog.py
demos/blog/docker-compose.yml
demos/blog/requirements.txt
demos/blog/schema.sql
==================
34a80d9a;Ben Darnell;2018-05-12 18:30:54 -0400;Merge pull request #2385 from bdarnell/websocket
websocket: Subprotocols and open coroutines
==
==================
6d0026cf;Ben Darnell;2018-05-12 15:13:15 -0400;websocket: Allow open to be a coroutine
Fixes #2358

==

docs/releases/v5.1.0.rst
tornado/test/websocket_test.py
tornado/websocket.py
==================
fac04e0a;Ben Darnell;2018-05-12 14:43:58 -0400;websocket: Improve subprotocol support
- Add client-side subprotocol option
- Add selected_subprotocol attribute to client and server objects
- Call select_subprotocol exactly once instead of only on non-empty
- Fix bug in previous select_subprotocol change when multiple
  subprotocols are offered
- Add tests

Updates #2281

==

docs/releases/v5.1.0.rst
docs/websocket.rst
tornado/test/websocket_test.py
tornado/websocket.py
==================
8afac1f8;Ben Darnell;2018-05-06 11:28:09 -0400;Merge pull request #2378 from bdarnell/docs-510
docs: Start release notes for 5.1
==
==================
a3c4e7dc;Ben Darnell;2018-05-05 22:43:08 -0400;concurrent: Fully deprecate return_future
It relies on ExceptionStackContext, so it should go away completely
instead of just losing its callback argument.

==

docs/releases/v5.1.0.rst
tornado/auth.py
tornado/concurrent.py
tornado/test/concurrent_test.py
tornado/test/gen_test.py
==================
b440d504;Ben Darnell;2018-05-05 21:50:05 -0400;docs: Update examples to modern interfaces
Get rid of most uses of callbacks and convert most coroutines to
native form. The sphinx doctests now require python 3.

==

.travis.yml
docs/faq.rst
docs/guide/async.rst
docs/guide/coroutines.rst
docs/guide/intro.rst
docs/guide/security.rst
docs/guide/structure.rst
docs/index.rst
tornado/auth.py
tornado/concurrent.py
tornado/gen.py
tornado/httpclient.py
tornado/ioloop.py
tornado/iostream.py
tornado/locks.py
tornado/queues.py
tornado/tcpserver.py
tornado/testing.py
tornado/web.py
tox.ini
==================
80f6a517;Ben Darnell;2018-05-05 14:56:47 -0400;docs: Start release notes for 5.1

==

docs/releases.rst
docs/releases/v5.1.0.rst
docs/web.rst
==================
1a004f1e;Ben Darnell;2018-05-05 14:54:12 -0400;Merge pull request #2377 from bdarnell/wsgi-deprecation
wsgi: Deprecate WSGIAdapter and WSGIApplication
==
==================
16a3567b;Ben Darnell;2018-05-05 14:26:52 -0400;wsgi: Document workaround for asyncio on multithreaded WSGI containers
Fixes #2371

==

tornado/wsgi.py
==================
c574dbd7;Ben Darnell;2018-05-05 14:10:33 -0400;wsgi: Deprecate WSGIAdapter and WSGIApplication
It's already kind of broken on Python 3 for multithreaded WSGI
containers, and it's going to be more difficult to maintain as we move
to native coroutines.

Updates #2371

==

tornado/test/wsgi_test.py
tornado/wsgi.py
==================
ef9fd397;Ben Darnell;2018-05-04 19:38:37 -0400;Merge pull request #2375 from bdarnell/web-deprecation
Deprecate web.asynchronous, stack_context, and more
==
==================
00f169c6;Ben Darnell;2018-05-03 23:16:06 -0400;Merge pull request #2374 from a-pertsev/master
Use `log_exception` method in WebSocketProtocol instead of custom logging
==
==================
5e59d0b4;Alexei Pertsev;2018-05-03 18:33:30 +0300;Use `log_exception` method in WebSocketProtocol instead of custom logging. It is usefull if we need to add some custom handlers for all unexpected exceptions for example.

==

tornado/websocket.py
==================
6708057f;Ben Darnell;2018-04-27 13:16:48 -0400;twisted: Deprecate TornadoReactor
This is unnecessary when the asyncio event loop can be used instead.

==

tornado/platform/twisted.py
==================
c702cf56;Ben Darnell;2018-04-27 12:45:26 -0400;testing: Deprecate stop/wait
Don't mark them for deletion in 6.0. They're used extensively in the
test suite and it's fairly harmless to keep them around.

==

tornado/testing.py
==================
95451207;Ben Darnell;2018-04-27 12:08:23 -0400;stack_context: Deprecate ExceptionStackContext
Take extra care with the deprecation warnings since a few modules need
to continue using ExceptionStackContext for backwards compatibility
even though it is not needed in most cases and should not generate
warnings unless it is relied upon.

==

tornado/auth.py
tornado/concurrent.py
tornado/stack_context.py
tornado/test/concurrent_test.py
tornado/test/curl_httpclient_test.py
tornado/test/httpclient_test.py
tornado/test/ioloop_test.py
tornado/test/netutil_test.py
tornado/test/testing_test.py
tornado/test/web_test.py
tornado/testing.py
tornado/web.py
==================
25e8f9a2;Ben Darnell;2018-04-27 11:52:51 -0400;simple_httpclient: Initial refactoring into coroutines
Eliminates the use of ExceptionStackContext.

==

tornado/simple_httpclient.py
==================
7ff436a6;Ben Darnell;2018-04-27 11:26:48 -0400;simple_httpclient: Move _on_connect next to its caller
Pure cut-and-paste, will make the next diff more readable

==

tornado/simple_httpclient.py
==================
f1fdc30e;Ben Darnell;2018-04-27 10:52:41 -0400;stack_context: Deprecate StackContext class

==

tornado/stack_context.py
tornado/test/ioloop_test.py
==================
11399532;Ben Darnell;2018-04-27 10:44:48 -0400;web: Deprecate callback argument to RequestHandler.flush
Also deprecates callback arguments in httputil and http1connection

==

tornado/http1connection.py
tornado/httputil.py
tornado/test/web_test.py
==================
c60ab672;Ben Darnell;2018-04-27 10:36:51 -0400;web: Deprecate asynchronous decorator

==

tornado/test/auth_test.py
tornado/test/gen_test.py
tornado/test/httpserver_test.py
tornado/test/simple_httpclient_test.py
tornado/test/stack_context_test.py
tornado/test/web_test.py
tornado/web.py
==================
0200fc85;Ben Darnell;2018-04-27 10:14:18 -0400;web: Add RequestHandler.detach
This method eliminates the need to use the asynchronous decorator on
handlers that may call detach.

==

tornado/test/simple_httpclient_test.py
tornado/web.py
tornado/websocket.py
==================
527e6c39;Ben Darnell;2018-04-23 19:53:42 -0400;Merge pull request #2361 from bdarnell/ioloop-deprecation
iostream: Deprecate callback-based interfaces
==
==================
32f58bf3;Ben Darnell;2018-04-22 00:14:54 -0400;iostream: Deprecate callback argument to wait_for_handshake

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
661bf122;Ben Darnell;2018-04-22 00:09:26 -0400;iostream: Deprecate callback argument to connect()

==

tornado/iostream.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
==================
19155ff8;Ben Darnell;2018-04-21 23:44:50 -0400;iostream: Document the non-deprecation of set_close_callback

==

tornado/iostream.py
==================
6464aabe;Ben Darnell;2018-04-21 23:39:00 -0400;iostream: Deprecated callback argument to write()

==

tornado/iostream.py
tornado/test/httpclient_test.py
tornado/test/iostream_test.py
tornado/test/simple_httpclient_test.py
==================
4635a340;Ben Darnell;2018-04-21 23:31:49 -0400;websocket: Refactor implementation to use coroutines
This avoids the deprecated IOStream interfaces and simplifies things a
bit.

==

tornado/websocket.py
==================
172557e4;Ben Darnell;2018-04-21 21:58:32 -0400;iostream: Deprecate streaming_callback arguments
Currently, mixing futures and streaming_callback does not guarantee
ordering (so the returned future could become ready before the last
streaming_callback fires). Specifically, this happens with
test_streaming_read_until_close_after_close if that test is modified
to not use the callback argument. This would cause problems when we
remove the callback argument if we left streaming_callback in place.

These problems are solvable, but probably not worth it since
partial=True is an alternative (and used internally instead of
streaming_callback).

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
58067883;Ben Darnell;2018-04-21 21:00:54 -0400;iostream: Deprecate callback arguments to read methods
This requires a lot of mechanical changes throughout the test suite.
tornado.websocket is currently still using the deprecated interfaces
and suppressing the warning.

==

tornado/iostream.py
tornado/test/concurrent_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/process_test.py
tornado/websocket.py
==================
48d54d64;Ben Darnell;2018-04-21 20:59:55 -0400;ioloop: Deprecate some asyncio-incompatible methods

==

tornado/ioloop.py
==================
7d4c4cbf;Ben Darnell;2018-04-21 17:47:24 -0400;Merge pull request #2360 from bdarnell/httpserver-deprecation
httputil: Deprecate some server-side HTTP interfaces
==
==================
a86348e2;Ben Darnell;2018-04-21 17:01:32 -0400;httputil: Deprecate old interfaces
This is mainly preparation for HTTP/2: request.write was designed to
mix headers and bodies in a way that is no longer supported.

==

tornado/httputil.py
tornado/test/httpserver_test.py
tornado/web.py
==================
eef32e25;Ben Darnell;2018-04-21 16:46:49 -0400;http1connection: Un-deprecate set_close_callback
This method is not actually redundant with
HTTPMessageDelegate.on_connection_close (maybe there is a useful
refactoring that would make it so, but for now it's still useful)

==

tornado/http1connection.py
==================
2b2a220a;Ben Darnell;2018-04-21 17:00:38 -0400;Merge pull request #2359 from bdarnell/multi-content-length-test
test: Reinstate a test that was mistakenly left disabled
==
==================
d923879e;Ben Darnell;2018-04-21 16:34:55 -0400;appveyor: Upgrade pip with 'python -m pip'
This reportedly works around https://github.com/pypa/pip/issues/5240

==

appveyor.yml
==================
a843bc9f;Ben Darnell;2018-04-21 16:20:30 -0400;test: Reinstate a test that was mistakenly left disabled
This test required some refactoring to construct invalid headers that
we no longer allow handlers to return directly.

==

tornado/test/simple_httpclient_test.py
==================
ffe6c919;Ben Darnell;2018-04-20 19:35:12 -0400;Merge pull request #2355 from sinwar/doc-patch
docs: Remove repeated lines.
==
==================
65d9f372;Ben Darnell;2018-04-20 19:34:05 -0400;Merge pull request #2349 from Rookout/FallbackHandler.on_finish
Added RequestHandler.on_finish() to FallbackHandler.preapre()
==
==================
4d0e5e92;Ben Darnell;2018-04-20 19:31:28 -0400;Merge pull request #2351 from wildfoundry/flow
Add flow control to websocket client
==
==================
d807affc;sinwar;2018-04-14 04:26:10 +0530;docs: Remove repeated lines.
It removes repeated lines in
docs for release 5.0.0

==

docs/releases/v5.0.0.rst
==================
3fe0c5ee;Min RK;2018-04-13 17:36:59 +0200;Support jitter in PeriodicCallback (#2330)
reduces likelihood of alignment with many similar timers

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
3f62e7e6;Will McGugan;2018-04-09 13:47:37 +0100;Remove unused import

==

tornado/websocket.py
==================
20becca3;Will McGugan;2018-04-09 11:36:06 +0100;read queue of 1 message

==

tornado/websocket.py
==================
415f453d;Ben Darnell;2018-04-08 19:24:43 -0400;Merge pull request #2350 from bdarnell/httpclient-deprecation
httpclient: Deprecate fetch callback, narrow `raise_error`
==
==================
1a9b9939;Ben Darnell;2018-04-08 13:57:59 -0400;test: Fix some rot in lesser-used test configs

==

tornado/test/runtests.py
tornado/test/tcpclient_test.py
tox.ini
==================
8e758ec2;Ben Darnell;2018-04-08 12:41:15 -0400;caresresolver: Use non-deprecated interfaces
This code is currently not exercised in CI.

==

tornado/platform/caresresolver.py
==================
720669ac;Ben Darnell;2018-04-08 11:55:11 -0400;simple_httpclient: Add HTTPError subclasses to bury 599 response code

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
55c440d6;Ben Darnell;2018-04-08 11:45:17 -0400;httpclient: Rename HTTPError to HTTPClientError
This avoids collisions in code that must deal with both
httpclient.HTTPError and web.HTTPError.

==

docs/httpclient.rst
tornado/httpclient.py
tornado/test/web_test.py
==================
25294e40;Ben Darnell;2018-04-08 11:39:14 -0400;testing: Add raise_error argument to AsyncHTTPTestCase.fetch
Give it the same deprecation behavior as AsyncHTTPClient.fetch

==

tornado/test/curl_httpclient_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/simple_httpclient_test.py
tornado/test/testing_test.py
tornado/test/web_test.py
tornado/testing.py
==================
00eb8632;Ben Darnell;2018-04-07 23:39:34 -0400;httpclient: Deprecation warning for narrowed scope of raise_error=False

==

tornado/httpclient.py
tornado/test/simple_httpclient_test.py
tornado/testing.py
==================
71fa43a1;Ben Darnell;2018-04-07 19:31:39 -0400;httpclient: Deprecate fetch callback

==

tornado/auth.py
tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/simple_httpclient_test.py
tornado/test/stack_context_test.py
tornado/test/web_test.py
tornado/testing.py
==================
34d6c8c5;Liran Haimovitch;2018-04-08 18:15:39 +0300;Added RequestHandler.on_finish() to FallbackHandler.preapre()

==

tornado/web.py
==================
69315abd;Ben Darnell;2018-04-07 20:45:03 -0400;Fix typo on release notes page

==

docs/releases/v5.0.2.rst
==================
3cca2ea7;Ben Darnell;2018-04-07 19:07:35 -0400;Release notes for 5.0.2

==

docs/releases.rst
docs/releases/v5.0.2.rst
==================
8fd1f9b2;Ben Darnell;2018-04-06 13:52:53 -0400;Merge pull request #2338 from bdarnell/periodic-callback
ioloop: Fix PeriodicCallback when system clock moves backwards
==
==================
88664396;Ben Darnell;2018-03-31 18:01:57 -0400;ioloop: Fix PeriodicCallback when system clock moves backwards
If the clock moves backwards a little bit, we could run a
PeriodicCallback twice in a row prior to this change.

Due to implementation differences between the Tornado and asyncio
event loops, this is most common when using the asyncio event loop on
windows (where in some environments differences between time.time()
and time.monotonic() can result in behavior that looks like small
backwards time jumps on every iteration), although it can in principle
occur in any environment.

Fixes #2333

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
2d4053da;Ben Darnell;2018-03-31 17:24:07 -0400;ioloop: Factor out the math of PeriodicCallback for easier testing
This permits it to be tested separately from the (now python 2.7-only)
IOLoop configuration.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
35a538f5;Ben Darnell;2018-03-25 12:59:30 -0400;Merge pull request #2326 from bdarnell/httpclient-leak
asyncio: Fix a leak when event loops are created and destroyed
==
==================
c45ce3ac;Ben Darnell;2018-03-25 11:17:58 -0400;httpclient: Document inability to use sync HTTPClient in async app
Eliminate a confusing error message when this occurs.

Fixes #2325

==

tornado/httpclient.py
==================
2905ee4f;Ben Darnell;2018-03-25 11:11:59 -0400;asyncio: Fix a leak when event loops are created and destroyed
The WeakKeyDictionary in IOLoop wasn't doing its job because of
reference cycles. This was easiest to see with the synchronous
HTTPClient.

Fixes #2321

==

tornado/ioloop.py
tornado/platform/asyncio.py
tornado/test/asyncio_test.py
==================
5ae7327e;Ben Darnell;2018-03-25 12:34:19 -0400;Merge pull request #2327 from bdarnell/test-dont-close
testing: Don't close the event loop if we didn't create it
==
==================
f47d639f;Ben Darnell;2018-03-25 11:50:09 -0400;testing: Don't close the event loop if we didn't create it
This improves compatibility with asyncio test frameworks like
pytest-asyncio.

Fixes #2324

==

tornado/test/testing_test.py
tornado/testing.py
==================
fb74e481;Ben Darnell;2018-03-23 18:24:31 -0400;Merge pull request #2319 from bdarnell/gen-deprecation
gen: Deprecate legacy interfaces
==
==================
43a1ea71;Ben Darnell;2018-03-23 18:10:53 -0400;gen_test: Port some tests to non-deprecated interfaces
This temporarily duplicates the tests, but the versions using the
deprecated interfaces will be gone in 6.0

==

tornado/test/gen_test.py
==================
a174578d;Ben Darnell;2018-03-18 22:55:02 -0400;gen: Doc touchups

==

docs/gen.rst
tornado/gen.py
==================
647aed6f;Ben Darnell;2018-03-18 22:36:38 -0400;gen: Deprecate Task

==

tornado/gen.py
tornado/platform/twisted.py
tornado/test/asyncio_test.py
tornado/test/concurrent_test.py
tornado/test/gen_test.py
tornado/test/httpserver_test.py
tornado/test/ioloop_test.py
tornado/test/simple_httpclient_test.py
tornado/test/testing_test.py
tornado/test/web_test.py
==================
5c6ae8de;Ben Darnell;2018-03-18 19:49:50 -0400;gen: Deprecate YieldPoint and its subclasses

==

tornado/gen.py
tornado/test/gen_test.py
tornado/test/stack_context_test.py
==================
48073bf4;Ben Darnell;2018-03-18 19:12:18 -0400;gen: Deprecate callback argument to coroutines

==

tornado/gen.py
tornado/simple_httpclient.py
tornado/test/gen_test.py
tornado/test/tcpclient_test.py
==================
0e43388c;Ben Darnell;2018-03-18 18:56:29 -0400;gen: Deprecate gen.engine

==

tornado/gen.py
tornado/test/auth_test.py
tornado/test/concurrent_test.py
tornado/test/gen_test.py
tornado/test/stack_context_test.py
tornado/test/web_test.py
==================
b9e2da20;Ben Darnell;2018-03-18 18:40:26 -0400;Merge pull request #2318 from bdarnell/concurrent-deprecation
concurrent: Add deprecation warning
==
==================
eecf05f0;Ben Darnell;2018-03-18 18:22:13 -0400;escape: Fix doc formatting

==

tornado/escape.py
==================
568897d2;Ben Darnell;2018-03-18 18:14:33 -0400;concurrent: Deprecate callback argument with run_on_executor

==

tornado/concurrent.py
tornado/netutil.py
tornado/test/netutil_test.py
==================
f98d06dd;Ben Darnell;2018-03-18 17:45:47 -0400;Merge pull request #2317 from bdarnell/auth-deprecation
auth: Add deprecation warnings for callback-based interfaces
==
==================
f6f56f58;Ben Darnell;2018-03-18 17:21:27 -0400;auth: Touch up docs

==

tornado/auth.py
==================
2ae97fdf;Ben Darnell;2018-03-18 17:12:28 -0400;auth: Accept native coroutines in _oauth_get_user_future

==

tornado/auth.py
==================
1a0714e7;Ben Darnell;2018-03-18 17:07:42 -0400;auth: Deprecated _oauth_get_user

==

tornado/auth.py
tornado/test/auth_test.py
==================
089b5e7e;Ben Darnell;2018-03-18 16:57:49 -0400;concurrent,auth: Add deprecation warnings to concurrent.return_future

==

tornado/auth.py
tornado/concurrent.py
tornado/test/concurrent_test.py
tornado/test/util.py
tornado/web.py
==================
ba3a0e9d;Ben Darnell;2018-03-18 16:30:04 -0400;auth: Add deprecation warnings for anything using auth_return_future

==

tornado/auth.py
tornado/test/auth_test.py
==================
8cb645b8;Ben Darnell;2018-03-18 16:01:17 -0400;Merge pull request #2316 from bdarnell/work
Maintainer dependency updates
==
==================
59a8f663;Ben Darnell;2018-03-18 13:40:19 -0400;websocket_test: Wrap a long line
flake8 just started complaining about this line for some reason.

==

tornado/test/websocket_test.py
==================
cf977c19;Ben Darnell;2018-03-18 13:34:41 -0400;Update warning for missing C compiler on macOS

==

setup.py
==================
d55627b5;Ben Darnell;2018-03-18 13:31:29 -0400;Run new autopep8

==

tornado/gen.py
tornado/test/httpclient_test.py
tornado/test/import_test.py
==================
b7c59478;Ben Darnell;2018-03-18 13:29:49 -0400;Bump maint requirements

==

maint/requirements.txt
==================
d9f6e8f9;Ben Darnell;2018-03-18 12:01:01 -0400;Merge remote-tracking branch 'origin/branch5.0'

==
==================
b758925a;Ben Darnell;2018-03-18 11:39:19 -0400;Merge pull request #2315 from bdarnell/release-501
Set version to 5.0.1
==
==================
f7967d4b;Ben Darnell;2018-03-18 11:17:16 -0400;Set version to 5.0.1

==

docs/releases.rst
docs/releases/v5.0.1.rst
setup.py
tornado/__init__.py
==================
9a97ffb4;Ben Darnell;2018-03-17 14:18:29 -0400;Merge pull request #2310 from pcrespov/patch-1
Update running.rst
==
==================
394a4e91;Pedro Crespo;2018-03-14 02:22:00 +0100;Update running.rst
minor type
==

docs/guide/running.rst
==================
62e43f6b;Ben Darnell;2018-03-11 22:00:43 -0400;Merge pull request #2307 from bdarnell/work
concurrent,httputil,websocket: small bug fixes
==
==================
dc07ef1e;Ben Darnell;2018-03-11 18:34:32 -0400;httputil: Clean up error handling in HTTPHeaders.parse
Fixes #2280

==

tornado/http1connection.py
tornado/httputil.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
==================
e4e9dbb6;Ben Darnell;2018-03-11 18:09:05 -0400;concurrent: run_on_executor returns async futures, not concurrent ones
Fixes #2276

==

tornado/concurrent.py
tornado/test/concurrent_test.py
==================
cfd621a3;Ben Darnell;2018-03-11 16:13:51 -0400;websocket: Make ping() argument optional
Also accept both bytes and str, and add a client-side ping() method.

Fixes #2295

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
2bdc3cb9;Ben Darnell;2018-03-11 15:05:41 -0400;Merge pull request #2306 from bdarnell/cherrypick-jessie-compatibility
cherrypick-5.0: asyncio: Support Python 3.4.2 for compatibility with Debian jessie
==
==================
59763716;Ben Darnell;2018-03-11 13:20:26 -0400;asyncio: Support Python 3.4.2 for compatibility with Debian jessie
The ensure_future function was not introduced until 3.4.4, and
some exceptions were changed from AssertionError to RuntimeError in
3.4.3.

Fixes #2301

==

tornado/gen.py
tornado/ioloop.py
tornado/platform/asyncio.py
tornado/test/asyncio_test.py
==================
70af3ca0;Ben Darnell;2018-03-11 14:45:48 -0400;Merge pull request #2305 from bdarnell/jessie-compatibility
asyncio: Support Python 3.4.2 for compatibility with Debian jessie
==
==================
0c85b990;Ben Darnell;2018-03-11 13:38:07 -0400;Merge pull request #2282 from staticglobal/master
Only invoke select_subprotocol() when the client requests it
==
==================
26fcc8e4;Ben Darnell;2018-03-11 13:20:26 -0400;asyncio: Support Python 3.4.2 for compatibility with Debian jessie
The ensure_future function was not introduced until 3.4.4, and
some exceptions were changed from AssertionError to RuntimeError in
3.4.3.

Fixes #2301

==

tornado/gen.py
tornado/ioloop.py
tornado/platform/asyncio.py
tornado/test/asyncio_test.py
==================
8a73d592;Ben Darnell;2018-03-05 09:14:25 -0500;Bump master version to 5.1.dev1

==

setup.py
tornado/__init__.py
==================
3fc6aec1;Ben Darnell;2018-03-05 08:39:07 -0500;Merge pull request #2300 from bdarnell/release-5.0
Final release notes and version bump for 5.0
==
==================
f08f2e86;Ben Darnell;2018-03-04 20:43:52 -0500;Final release notes and version bump for 5.0

==

docs/releases/v5.0.0.rst
setup.py
tornado/__init__.py
==================
d6492cb6;Ben Darnell;2018-03-04 18:22:56 -0500;Merge pull request #2299 from bdarnell/docs
docs: Updates for 5.0
==
==================
a596a0d7;Ben Darnell;2018-03-04 17:50:58 -0500;docs: Updates for 5.0

==

docs/coroutine.rst
docs/gen.rst
docs/guide/coroutines.rst
docs/guide/structure.rst
docs/locks.rst
docs/utilities.rst
tornado/concurrent.py
tornado/gen.py
tornado/queues.py
tornado/web.py
==================
6c7aa1ca;Ben Darnell;2018-03-04 13:39:42 -0500;Merge pull request #2298 from bdarnell/travis-nightly
travis.yml: Fix build on nightly python
==
==================
a84b6857;Ben Darnell;2018-03-04 13:39:24 -0500;Merge pull request #2297 from bdarnell/dns-rebinding-docs
docs: Add warnings about DNS rebinding attacks
==
==================
77d278d5;Ben Darnell;2018-03-04 13:22:24 -0500;docs: Add a prominent warning against threads and WSGI

==

docs/index.rst
==================
475fd6ff;Ben Darnell;2018-03-04 12:37:34 -0500;travis.yml: Disable coverage in pypy builds

==

.travis.yml
==================
ddc02206;Ben Darnell;2018-03-04 12:12:41 -0500;travis.yml: Fix build on nightly python

==

.travis.yml
==================
9e21ef7b;Ben Darnell;2018-03-04 11:52:06 -0500;docs: Add warnings about DNS rebinding attacks
Fixes #2256

==

docs/guide/security.rst
tornado/web.py
==================
03f13800;Ben Darnell;2018-03-03 19:00:17 -0500;Merge pull request #2296 from bdarnell/docs
docs: Small updates
==
==================
30612160;Jacob Kristhammar;2018-02-26 12:14:44 +0100;Remove legacy author comment

==

tornado/websocket.py
==================
ce6222f7;Ben Darnell;2018-03-02 15:53:50 -0500;web: Document the type of xsrf_token
Fixes #2279

==

tornado/web.py
==================
e66af33d;Ben Darnell;2018-03-02 15:45:43 -0500;ioloop: Fix docstring typo
Fixes #2283

==

tornado/ioloop.py
==================
3fc1f622;Ben Darnell;2018-02-26 09:00:47 -0500;Merge pull request #2293 from bdarnell/docs
docs: Updates for sphinx 1.7
==
==================
47d59f17;Ben Darnell;2018-02-26 08:15:43 -0500;docs: Updates for sphinx 1.7
This introduced a new inherit-docstring option that we don't want
(it currently breaks our docs build) and got stricter about `:arg`
types.

==

docs/conf.py
tornado/httpclient.py
tornado/log.py
tornado/web.py
==================
39f46ce2;Brandon Holbrook;2018-02-20 20:22:54 -0600;Only invoke select_subprotocol() when the client requests it

==

tornado/websocket.py
==================
4adf5ec9;Ben Darnell;2018-02-12 09:39:35 -0500;Merge pull request #2277 from bdarnell/curl-debug
curl_httpclient: Only call native_str on debug message when needed
==
==================
27a61031;Ben Darnell;2018-02-11 22:21:11 -0500;curl_httpclient: Only call native_str on debug message when needed
Some debug messages are binary blobs that should not be decoded.

Fixes #2275

==

tornado/curl_httpclient.py
==================
6e601134;Ben Darnell;2018-02-05 22:04:22 -0500;docs: Clarify python version support release note

==

docs/releases/v5.0.0.rst
==================
24d2ebd8;Ben Darnell;2018-02-05 21:34:54 -0500;Merge pull request #2270 from polygon/fix/etag304
Fix/etag304
==
==================
139f9292;Ben Darnell;2018-02-04 22:49:02 -0500;Merge pull request #2268 from WouldYouKindly/WouldYouKindly-patch-1
Fix typo in URLSpec.__init__ docstring
==
==================
fcd0b0b5;Jan Dohl;2018-02-03 23:58:19 +0100;Fix erroneous 304 of StaticFileHandler
StaticFileHandler would return a 304 despite the client sending
a non-matching Etag header when If-Modified-Since matches

==

tornado/web.py
==================
c28cb62f;Jan Dohl;2018-02-03 23:47:47 +0100;Test to reproduce 304 on etag mismatch issue

==

tornado/test/web_test.py
==================
74b3a0c6;Alexey;2018-02-03 00:19:55 +0300;Fix typo in URLSpec.__init__ docstring

==

tornado/routing.py
==================
15e350aa;Ben Darnell;2018-02-01 20:50:28 -0500;Merge pull request #2266 from minrk/yield-null
fix gen.multi with gen.moment
==
==================
4b464ffc;Min RK;2018-02-01 11:25:41 +0100;allow NullFutures in gen.multi
is_future() only accepts 'real' futures, but NullFutures work here, too.

==

tornado/gen.py
tornado/test/gen_test.py
==================
f4e65292;Min RK;2018-01-31 18:08:40 +0100;fix gen.multi with gen.moment
fixes assertion in gen.multi when calling convert_yielded with more than one gen.moment or None

convert_yielded can be called with None or [None].
When it is called with [None], gen.multi gets [gen.moment],
which fails assert(is_future) since it is no longer a real Future

==

tornado/gen.py
tornado/test/gen_test.py
==================
f64470ec;Ben Darnell;2018-01-27 18:03:10 -0500;Merge pull request #2259 from bdarnell/5.0b1
Update release notes and set version to 5.0b1
==
==================
d1a98ec5;Ben Darnell;2018-01-27 17:25:34 -0500;Update release notes and set version to 5.0b1

==

docs/iostream.rst
docs/releases/v5.0.0.rst
setup.py
tornado/__init__.py
==================
5e68d4eb;Ben Darnell;2018-01-27 13:13:49 -0500;Merge pull request #2257 from bdarnell/http2
test: Adjust unittest for tornado_http2 compatibility
==
==================
b98db696;Ben Darnell;2018-01-27 11:44:29 -0500;test: Adjust unittests for tornado_http2 compatibility
Some recently-introduced tests are failing under tornado_http2, so fix
them.

==

tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/routing_test.py
tornado/test/websocket_test.py
==================
c0e1dcfe;Ben Darnell;2018-01-26 21:03:20 -0500;Merge pull request #2252 from bdarnell/ioloop-current
ioloop: current() and friends delegate to asyncio
==
==================
426b3812;Ben Darnell;2018-01-21 14:01:42 -0500;ioloop: Remove IOLoop.initialized()
It is no longer possible to provide this method with reasonable
semantics.

==

docs/ioloop.rst
docs/releases/v5.0.0.rst
tornado/ioloop.py
tornado/process.py
tornado/test/process_test.py
==================
df541dcc;Ben Darnell;2018-01-21 13:51:59 -0500;ioloop: current() and friends delegate to asyncio
Instead of a redundant IOLoop._current thread-local, pass through
directly to asyncio and maintain a one-to-one mapping of asyncio loops
to IOLoops. This brings us a bit closer to the asyncio-only future.

==

tornado/ioloop.py
tornado/platform/asyncio.py
tornado/test/ioloop_test.py
==================
3d680441;Ben Darnell;2018-01-26 20:30:34 -0500;Merge pull request #2253 from bdarnell/work
Misc small fixes for 5.0
==
==================
336da267;Ben Darnell;2018-01-26 20:09:42 -0500;travis: Ignore failures on nightly
This is currently failing with setuptools errors.

==

.travis.yml
==================
49804d9d;Ben Darnell;2018-01-26 18:03:58 -0500;asyncio_test: Fix compatibility with Python 3.7 nightlies

==

tornado/test/asyncio_test.py
==================
10056ae2;Ben Darnell;2018-01-21 21:23:50 -0500;test: It's no longer possible to use `async def` via cython on py34
The asyncio coroutine runner cannot be made to use backports_abc.

==

maint/test/cython/tox.ini
==================
6e8a137e;Ben Darnell;2018-01-21 20:12:06 -0500;concurrent: Fix importability of tornado.wsgi on app engine

==

tornado/concurrent.py
==================
606f0b5e;Ben Darnell;2018-01-21 18:17:47 -0500;locks: Avoid reusing Future objects in Event
Now that futures support cancellation, it is unsafe to return the same
Future object to multiple callers.

Fixes #2189

==

tornado/locks.py
==================
b66acec0;Ben Darnell;2018-01-21 17:48:55 -0500;websocket: write_message consistently raises WebSocketClosedError

==

docs/releases/v5.0.0.rst
tornado/test/websocket_test.py
tornado/websocket.py
==================
c1ae5167;Ben Darnell;2018-01-21 15:30:50 -0500;Revert "Fix error in coverage runs under Py3 with a C locale"
This reverts commit e0c489fd02b042a74845a07dd09e8ce66a2780ca.

That commit was a workaround for old versions of the coverage package.

Fixes #1895

==

tornado/test/template_test.py
tornado/test/util.py
==================
2ec7dca0;Ben Darnell;2018-01-21 15:27:34 -0500;gen_test: Add test for asyncio.gather
This is additional verification that the asyncio integration is
working as intended.

Fixes #1684

==

tornado/test/gen_test.py
==================
871358d4;Ben Darnell;2018-01-21 14:04:23 -0500;Merge pull request #2251 from bdarnell/read_into
iostream: Add read_into
==
==================
f2020e5d;Ben Darnell;2018-01-14 15:45:48 -0500;iostream: Add read_into method.
Tests come from Antoine Pitrou's #2193

Fixes #2176

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
1215cd26;Ben Darnell;2018-01-20 19:00:30 -0500;iostream: Use recv_into and friends in read_from_fd
This has the same memory-allocation behavior as before, but it moves
the buffer out of the recv() call to python code.

==

tornado/iostream.py
==================
67abb73d;Ben Darnell;2018-01-15 12:16:08 -0500;Merge pull request #2249 from bdarnell/pipe-iostream
iostream: Use file objects instead of raw descriptors in PipeIOStream
==
==================
5ab1eba2;Ben Darnell;2018-01-14 22:48:36 -0500;netutil_test: Disable error tests on TwistedResolver
These tests are flaky with the new "messages to stderr are errors"
check.

==

tornado/test/netutil_test.py
==================
37457551;Ben Darnell;2018-01-14 15:20:51 -0500;test: Count writes to stderr as failures
Python 3 logs warnings in destructors if objects responsible for file
descriptors are not explicitly closed. These warnings were previously
being ignored by our test suite unless a human was looking at the log
output, but several recent PRs have introduced these issues. This
change ensures we catch them (and fixes the most recent one in
process_test. The leak has always been there, but the previous commit
caused it to be logged).

==

tornado/process.py
tornado/test/process_test.py
tornado/test/runtests.py
tornado/test/testing_test.py
tornado/testing.py
==================
81dd461d;Antoine Pitrou;2017-10-22 19:05:41 +0200;iostream: Use file objects instead of raw descriptors in PipeIOStream
This makes the implementation of PipeIOStream more compatible with
socket streams, and allows for more of the test suite to be used with
it.

Extracted from PR #2193

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
f5df1e4d;Ben Darnell;2018-01-14 10:16:58 -0500;Merge pull request #2248 from bdarnell/work
ioloop,gen,asyncio: Improvements to IOLoop GC
==
==================
3e10b90e;David Walker;2018-01-13 17:01:51 -0700;Alter documentation to correctly state behavior (#2114)
Correctly document that the result of Condition.wait() is
not to raise a TimeoutError, but rather False.
==

tornado/locks.py
==================
e964f989;Ben Darnell;2018-01-13 17:31:32 -0500;ioloop,asyncio: Be more careful to restore old asyncio loop
Any asyncio event loop that was created but neither closed nor set as
current for some thread will log a warning at the end of the test (in
a way that doesn't cause the test to fail). Fix a bug in
make_current() (in which multiple calls would clobber
self.old_asyncio) and use it more consistently when "current" status
changes.

==

tornado/ioloop.py
tornado/platform/asyncio.py
==================
2d7fb199;Ben Darnell;2018-01-13 13:55:32 -0500;ioloop: Make clear_current work if called first in a thread
Fixes #2240

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
8c513117;Antoine Pitrou;2017-12-29 18:13:12 +0100;Issue #2229: allow GCing of suspended coroutines
A suspended coroutine should be GCed if the underlying loop is closed
and no other outside reference exists to it.  However, a suspended coroutine
with a refcycle would be kept alive by the _futures_to_runners mapping.
Instead use a private attribute on the future.

==

tornado/gen.py
tornado/test/concurrent_test.py
tornado/test/gen_test.py
==================
1294b076;Ben Darnell;2018-01-13 13:45:30 -0500;asyncio: AsyncIOMainLoop.close now closes the underlying loop

==

tornado/platform/asyncio.py
==================
023a9ac8;Ben Darnell;2018-01-13 13:54:23 -0500;Merge pull request #2245 from ploxiln/shebang_exec
make executable git and shebang consistent on various source files
==
==================
bfcf34a9;Jehiah Czebotar;2017-05-30 09:27:15 -0400;demos/file_uploader: add missing __name__ == __main__ stanza

==

demos/file_upload/file_uploader.py
==================
8906b3af;Jehiah Czebotar;2017-05-30 09:19:27 -0400;make executable bit and shebang consistent on various source files
setup.py is intended to be run with "python setup.py install"

sources in the tornado module which have main functions/clauses
are intended to be run with "python -m tornado.xxx"

various demos and scripts can be run directly

==

demos/appengine/blog.py
demos/benchmark/gen_benchmark.py
demos/file_upload/file_receiver.py
demos/s3server/s3server.py
demos/tcpecho/client.py
demos/tcpecho/server.py
demos/twitter/twitterdemo.py
demos/webspider/webspider.py
maint/circlerefs/circlerefs.py
maint/scripts/test_resolvers.py
maint/test/appengine/common/cgi_runtests.py
maint/test/appengine/common/runtests.py
maint/test/redbot/red_test.py
maint/test/websocket/client.py
maint/test/websocket/server.py
maint/vm/windows/bootstrap.py
setup.py
tornado/__init__.py
tornado/_locale_data.py
tornado/auth.py
tornado/autoreload.py
tornado/concurrent.py
tornado/curl_httpclient.py
tornado/escape.py
tornado/http1connection.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/log.py
tornado/netutil.py
tornado/options.py
tornado/platform/auto.py
tornado/platform/epoll.py
tornado/platform/interface.py
tornado/platform/kqueue.py
tornado/platform/posix.py
tornado/platform/select.py
tornado/process.py
tornado/simple_httpclient.py
tornado/stack_context.py
tornado/tcpclient.py
tornado/tcpserver.py
tornado/template.py
tornado/test/concurrent_test.py
tornado/test/escape_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/ioloop_test.py
tornado/test/log_test.py
tornado/test/process_test.py
tornado/test/runtests.py
tornado/test/stack_context_test.py
tornado/test/tcpclient_test.py
tornado/test/testing_test.py
tornado/testing.py
tornado/web.py
tornado/wsgi.py
==================
e5a21482;Ben Darnell;2018-01-06 19:26:00 -0500;Merge pull request #2244 from bdarnell/lint-ci
build: Enforce flake8-cleanliness in CI
==
==================
19e54b09;Ben Darnell;2018-01-06 18:49:58 -0500;lint: Check doctest code too

==

.flake8
tornado/locks.py
==================
3d9ae0e3;Ben Darnell;2018-01-06 18:32:44 -0500;lint: Un-skip a few rules

==

.flake8
demos/benchmark/template_benchmark.py
maint/test/appengine/common/runtests.py
tornado/test/gen_test.py
tornado/websocket.py
==================
f7a7026c;Ben Darnell;2018-01-06 18:22:41 -0500;build: Enforce flake8-cleanliness in CI

==

.flake8
.travis.yml
tox.ini
==================
61bfba41;Ben Darnell;2018-01-06 18:05:23 -0500;Merge pull request #2237 from ploxiln/flake8_trivial
trivial flake8/pyflakes style fixes
==
==================
0a06d4a4;Ben Darnell;2018-01-06 17:54:02 -0500;Merge branch 'branch4.5'

==
==================
8e9e7550;Ben Darnell;2018-01-06 12:48:56 -0500;Correct version and date on 4.5.3 release notes

==

docs/releases/v4.5.3.rst
==================
1cd0e9dd;Ben Darnell;2018-01-06 12:38:22 -0500;Merge pull request #2242 from bdarnell/release-4.5.3
Release 4.5.3
==
==================
09c63c55;Ben Darnell;2018-01-04 22:44:17 -0500;Release notes for 4.5.3

==

docs/releases.rst
docs/releases/v4.5.3.rst
setup.py
tornado/__init__.py
==================
7be09af3;Ben Darnell;2017-08-27 22:38:14 -0400;Get tests passing on latest version of pypy3

==

tornado/test/iostream_test.py
tornado/test/util.py
==================
716ab7d5;Ben Darnell;2018-01-05 09:59:00 -0500;Update travis-ci python versions to match master.
2.7.8 is no longer available and "pypy3" is old and has
other issues.

==

.travis.yml
==================
b525e423;Ben Darnell;2017-11-05 10:38:03 -0500;test: More robust ipv6 detection
There are many ways ipv6 can be disabled or broken (and it just
stopped working on travis-ci), so instead of checking flags like
socket.has_ipv6, attempt to actually bind to an ipv6 address.

Closes #2185

==

tornado/test/simple_httpclient_test.py
tornado/test/util.py
==================
84bb2e28;Ben Darnell;2017-11-05 10:32:10 -0500;testing: Connect to 127.0.0.1 instead of localhost
The servers used in tests are only listening for ipv4, not ipv6
(to avoid spurious firewall prompts on macos). In what is apparently
a recent macos change, connecting to `localhost` when the ipv6 port
is unbound now incurs a 200ms delay, slowing a full test run down
by a factor of 20.

==

tornado/test/simple_httpclient_test.py
tornado/test/web_test.py
tornado/testing.py
==================
f1f7d2ef;Pierce Lopez;2017-12-30 18:34:32 -0500;fix HTTPInputError reference for improperly terminated chunked request
bug introduced in #2225

==

tornado/http1connection.py
==================
17210e38;Pierce Lopez;2017-12-25 22:11:26 -0500;http: read final crlf of chunked requests
otherwise a subsequent request on the same connection
will fail to be parsed

thanks to @eeelin for the bug report

==

tornado/http1connection.py
tornado/test/httpserver_test.py
tornado/test/web_test.py
==================
a9110619;Antoine Pitrou;2017-10-21 22:05:19 +0200;Don't keep any reference to memoryviews
See https://github.com/tornadoweb/tornado/pull/2008 for reasons
why this might be necessary.

==

tornado/iostream.py
==================
fdc577f1;Antoine Pitrou;2017-10-21 20:47:29 +0200;Release memoryviews explicitly
See https://github.com/tornadoweb/tornado/pull/2008 for reasons why this
might be necessary.

==

tornado/iostream.py
==================
b7f9f0b9;Jungkook Park;2017-09-22 02:14:51 +0900;fix websocket handshake failure causes an exception

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
8851634d;Min RK;2017-07-11 12:07:34 +0200;cast curl debug messages to str
since they come in as bytes on Python 3

==

tornado/curl_httpclient.py
==================
7a232961;Sebastien Boving;2017-07-05 10:04:33 -0700;Handle 1xx's along 204/304's

==

tornado/web.py
==================
d67d4916;Sebastien Boving;2017-06-27 09:35:55 -0700;Do not send/expect Content-Length on 1xx

==

tornado/http1connection.py
tornado/web.py
==================
63e869f4;Ben Darnell;2017-05-20 13:44:08 -0400;options: Report redefinition errors when underscores are used
Fixes #2020

==

tornado/options.py
tornado/test/options_test.py
tornado/test/util.py
==================
cbd53e24;Pierce Lopez;2018-01-03 00:20:33 -0500;style fix: wrap or ignore long lines in remaining tests

==

tornado/test/auth_test.py
tornado/test/escape_test.py
tornado/test/gen_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/iostream_test.py
tornado/test/locale_test.py
tornado/test/log_test.py
tornado/test/netutil_test.py
tornado/test/routing_test.py
==================
120afef8;Pierce Lopez;2018-01-01 17:54:33 -0500;style fix: wrap or ignore long lines in some tests
template_test: rewrite long lambda to avoid long line

==

tornado/test/simple_httpclient_test.py
tornado/test/template_test.py
tornado/test/util_test.py
tornado/test/web_test.py
==================
6682d58b;Pierce Lopez;2018-01-01 17:46:05 -0500;style fix: wrap or ignore long lines in tornado lib sources
excluding tests

==

setup.py
tornado/auth.py
tornado/escape.py
tornado/ioloop.py
tornado/iostream.py
tornado/log.py
tornado/platform/twisted.py
tornado/platform/windows.py
tornado/routing.py
tornado/template.py
tornado/testing.py
tornado/web.py
tornado/websocket.py
==================
0a1565ab;Pierce Lopez;2018-01-01 15:27:34 -0500;style fix: misc indent flake warnings
E126 continuation line over-indented for hanging indent
E128 continuation line under-indented for visual indent
E129 visually indented line with same indent as next logical line

==

maint/scripts/custom_fixers/fix_future_imports.py
maint/test/websocket/server.py
tornado/gen.py
tornado/http1connection.py
tornado/ioloop.py
tornado/tcpclient.py
tornado/test/runtests.py
tornado/web.py
==================
d72dc543;Pierce Lopez;2018-01-01 15:01:22 -0500;fix python2.7 / python3 incompatibilities
convert remaining uses of python2 print statement to print function
add "xrange = range" for python3 where needed
add "ResourceWarning = None" for python2 where needed
a bit of long/unicode type aliasing

such issues only remained in tests/demos

==

demos/benchmark/chunk_benchmark.py
demos/s3server/s3server.py
maint/test/appengine/common/cgi_runtests.py
maint/test/appengine/common/runtests.py
maint/vm/windows/bootstrap.py
tornado/test/runtests.py
tornado/test/twisted_test.py
==================
7e2fef9f;Pierce Lopez;2018-01-01 14:43:18 -0500;style fix: 2 blank lines around top-level class and function defs
flake8 codes E302 and E305

==

demos/benchmark/benchmark.py
demos/benchmark/gen_benchmark.py
demos/benchmark/stack_context_benchmark.py
demos/benchmark/template_benchmark.py
demos/s3server/s3server.py
demos/twitter/twitterdemo.py
demos/websocket/chatdemo.py
maint/scripts/custom_fixers/fix_future_imports.py
maint/scripts/test_resolvers.py
maint/test/appengine/common/cgi_runtests.py
maint/test/cython/pythonmodule.py
maint/test/redbot/red_test.py
maint/test/websocket/client.py
maint/test/websocket/server.py
maint/vm/windows/bootstrap.py
tornado/test/util.py
==================
27bb4eab;Pierce Lopez;2018-01-01 14:22:58 -0500;fix "unused variable" flake warnings
in iostream_test, and
an exception var in tornado.routing that only python2 pyflakes caught

==

tornado/routing.py
tornado/test/iostream_test.py
==================
26591b51;Pierce Lopez;2018-01-01 14:10:18 -0500;style fix: multiple statements on one line
flake8 code E701

==

demos/appengine/blog.py
demos/blog/blog.py
demos/facebook/facebook.py
==================
376cfc21;Pierce Lopez;2018-01-01 13:43:55 -0500;style fix: missing whitespace around operators
flake8 codes E225 and E226

==

demos/benchmark/template_benchmark.py
maint/scripts/custom_fixers/fix_future_imports.py
maint/scripts/custom_fixers/fix_unicode_literal.py
maint/test/cython/setup.py
==================
a358a660;Pierce Lopez;2017-12-31 13:54:07 -0500;style fix: 3 blank lines is too many, 0 is too few
around functions and classes

E306 expected 1 blank line before a nested definition, found 0
E303 too many blank lines (3)

==

maint/circlerefs/circlerefs.py
maint/test/redbot/red_test.py
tornado/test/concurrent_test.py
tornado/test/gen_test.py
==================
48e042f2;Pierce Lopez;2017-12-31 13:44:42 -0500;style fix: closing bracket indent
E123 closing bracket does not match indentation of opening bracket's line

==

demos/benchmark/stack_context_benchmark.py
demos/chat/chatdemo.py
demos/websocket/chatdemo.py
docs/conf.py
maint/scripts/test_resolvers.py
maint/test/redbot/red_test.py
maint/test/websocket/server.py
maint/vm/windows/bootstrap.py
setup.py
tornado/test/ioloop_test.py
tornado/test/options_test.py
==================
9b60fc5f;Pierce Lopez;2017-12-31 13:42:29 -0500;style fix: remove trailing whitespace

==

maint/test/appengine/common/runtests.py
tornado/httputil.py
==================
a87fba76;Pierce Lopez;2017-12-31 13:36:58 -0500;fix "imported but unused" flake warnings

==

tornado/gen.py
tornado/httputil.py
tornado/platform/asyncio.py
tornado/tcpclient.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/routing_test.py
tornado/test/simple_httpclient_test.py
tornado/test/tcpclient_test.py
tornado/testing.py
==================
b9a7ee55;Pierce Lopez;2018-01-01 13:42:52 -0500;add flake8 config
ignore some style checks and subdirectories

==

.flake8
==================
ab13d199;Ben Darnell;2017-12-31 20:43:27 -0500;Merge pull request #2238 from bdarnell/misc
asyncio,options,httpclient: Various small updates
==
==================
98e0e76b;Ben Darnell;2017-12-31 20:29:09 -0500;Merge pull request #2135 from FlorianLudwig/master
update google oauth URLs
==
==================
90bc79fd;Ben Darnell;2017-12-31 18:30:40 -0500;gen_test: Mark a timing-sensitive test as skipped on travis

==

tornado/test/gen_test.py
==================
207ff24d;Ben Darnell;2017-12-31 17:05:05 -0500;asyncio: Don't raise "IOLoop is closing" in add_callback
This mirrors a previous change to PollIOLoop. Fix a test that had
rotted and become meaningless.

Fixes #2191

==

tornado/platform/asyncio.py
tornado/test/ioloop_test.py
==================
f2f2d6c2;Ben Darnell;2017-12-31 16:40:32 -0500;options: Rewrite docs
Clarify the overall philosophy of the module and divide up docs
between define() and the parse_* functions.

Adds a note about doubled log messages.

Fixes #1866

==

docs/options.rst
tornado/options.py
==================
5560b7a7;Ben Darnell;2017-12-31 14:56:56 -0500;asyncio: Add an event loop policy to allow creation on any thread
Fixes #2183

==

tornado/platform/asyncio.py
tornado/test/asyncio_test.py
==================
dbcfcdc5;Ben Darnell;2017-12-31 10:48:06 -0500;httpclient: Add proxy options to CLI
For testing #2145

==

tornado/httpclient.py
==================
4c8cace2;Ben Darnell;2017-12-31 10:02:08 -0500;Merge pull request #2235 from ploxiln/exc_info_var
fix iostream exc_info using missing Exception var
==
==================
f0a726ca;Ben Darnell;2017-12-31 10:00:44 -0500;Merge pull request #2236 from ploxiln/fix_chunked_exception
fix HTTPInputError reference for improperly terminated chunked request
==
==================
436e91e1;Pierce Lopez;2017-12-30 18:34:32 -0500;fix HTTPInputError reference for improperly terminated chunked request
bug introduced in #2225

==

tornado/http1connection.py
==================
92a3798d;Pierce Lopez;2017-12-30 18:22:38 -0500;fix iostream exc_info using missing Exception var
bug introduced in #2028
this fix very similar to #2155

==

tornado/iostream.py
==================
6fb82ae7;Ben Darnell;2017-12-30 14:48:26 -0500;Merge pull request #2225 from ploxiln/fix_chunked_requests
http: read final crlf of chunked requests
==
==================
c60c7f0e;Ben Darnell;2017-12-27 13:45:52 -0500;Merge pull request #2228 from bdarnell/5.0a1
setup: Set version number to 5.0a1
==
==================
b2468aec;Ben Darnell;2017-12-27 13:06:11 -0500;setup: Set version number to 5.0a1

==

setup.py
tornado/__init__.py
==================
be5d8114;Ben Darnell;2017-12-27 13:05:22 -0500;setup.py: Add python_requires

==

setup.py
==================
bc6f066c;Ben Darnell;2017-12-27 12:51:18 -0500;netutil: Update docs for OverrideResolver and release notes

==

docs/releases/v5.0.0.rst
tornado/netutil.py
==================
da3039b6;Ben Darnell;2017-12-27 12:31:26 -0500;Merge pull request #2227 from mivade/options-docs
Document that options can be booleans
==
==================
f8420314;Michael V. DePalatis;2017-12-26 20:40:43 -0600;Document that options can be booleans
Addresses #2222

==

tornado/options.py
==================
58434a04;Boris;2017-12-27 02:05:28 +0300;Add family argument to OverrideResolver->resolve method (#2201)

==

tornado/netutil.py
tornado/test/netutil_test.py
==================
9ffdefda;Pierce Lopez;2017-12-25 22:11:26 -0500;http: read final crlf of chunked requests
otherwise a subsequent request on the same connection
will fail to be parsed

thanks to @eeelin for the bug report

==

tornado/http1connection.py
tornado/test/httpserver_test.py
tornado/test/web_test.py
==================
c4bad500;Ben Darnell;2017-12-22 22:22:49 -0500;Merge pull request #2224 from bdarnell/default-resolver
netutil: Use a threaded resolver by default
==
==================
cfe8e9ea;Ben Darnell;2017-12-22 21:28:33 -0500;asyncio: Delegate executor methods to asyncio loop
Avoid creating a second default thread pool to be managed.

==

tornado/platform/asyncio.py
==================
1d113d86;Ben Darnell;2017-12-22 21:14:15 -0500;netutil: Use a threaded resolver by default
Uses IOLoop.run_in_executor.
concurrent.futures is now required on Python 2.

==

.travis.yml
docs/guide/async.rst
docs/index.rst
docs/releases/v5.0.0.rst
setup.py
tornado/netutil.py
tornado/platform/twisted.py
tox.ini
==================
0b235351;Ben Darnell;2017-12-22 20:22:24 -0500;Merge pull request #2220 from bdarnell/fix-multiprocess
tcpserver: Fix multiprocess modes
==
==================
bf1b21ab;Ben Darnell;2017-12-18 22:56:40 -0500;tcpserver: Fix multiprocess modes
Two recent changes broke Tornado's multiprocess modes by initializing
the event loop before the fork in typical patterns.
- The removal of `io_loop` arguments moved a call to
  IOLoop.current() earlier in TCPServer's constructor.
- The change to `asyncio.Future` initialized the asyncio event loop at
  import time.

Move the call in TCPServer earlier (and audit the rest of that change
to make sure this didn't happen anywhere else) and replace
`gen.moment` and `gen._null_future` with dummy objects that do not
involve the asyncio event loop.

==

tornado/gen.py
tornado/queues.py
tornado/tcpserver.py
tornado/test/tcpserver_test.py
==================
268aaf68;Ben Darnell;2017-12-17 22:35:10 -0500;Merge pull request #2219 from bdarnell/release-notes
docs: Start release notes for 5.0.
==
==================
121f85f8;Ben Darnell;2017-12-17 22:08:18 -0500;Merge branch 'branch4.5' into release-notes

==
==================
1e758ad5;Ben Darnell;2017-12-17 21:47:58 -0500;docs: Start release notes for 5.0.
Update versionadded/versionchanged tags. Misc other doc updates

==

docs/concurrent.rst
docs/conf.py
docs/guide/async.rst
docs/integration.rst
docs/ioloop.rst
docs/releases.rst
docs/releases/v5.0.0.rst
tornado/concurrent.py
tornado/gen.py
tornado/httputil.py
tornado/ioloop.py
tornado/platform/asyncio.py
tornado/tcpclient.py
tornado/testing.py
tornado/util.py
tornado/web.py
==================
35e3a0f0;Ben Darnell;2017-12-17 21:48:41 -0500;Merge pull request #2218 from bdarnell/current-asyncio
ioloop: Setting AsyncIOLoop as current also sets asyncio event loop
==
==================
5de0928e;Ben Darnell;2017-12-17 11:36:53 -0500;ioloop: Setting AsyncIOLoop as current also sets asyncio event loop
This should eliminate the need for explicit asyncio manipulations
from applications migrating to Tornado 5.0

==

tornado/ioloop.py
tornado/platform/asyncio.py
tornado/test/asyncio_test.py
tornado/test/twisted_test.py
tornado/testing.py
==================
ccd4930b;Ben Darnell;2017-12-09 20:24:54 -0500;Merge pull request #2213 from bdarnell/asyncio-task-runner
gen: Use the asyncio task runner for native coroutines
==
==================
91a2e3bd;Ben Darnell;2017-12-09 15:15:39 -0500;gen: Use the asyncio task runner for native coroutines

==

tornado/gen.py
tornado/ioloop.py
tornado/test/ioloop_test.py
tornado/testing.py
==================
8e2ade8e;Ben Darnell;2017-12-09 15:14:30 -0500;ioloop_test: Explicitly close an IOLoop
This avoids a warning logged at GC time.

==

tornado/test/ioloop_test.py
==================
b11bc45c;Ben Darnell;2017-12-08 12:52:46 -0500;Merge pull request #2212 from bdarnell/pypy3
travis.yml: Upgrade pypy3
==
==================
12a4627b;Ben Darnell;2017-12-08 12:32:51 -0500;travis.yml: Upgrade pypy3
This may fix weird test failures as seen in #2193

==

.travis.yml
==================
64a8fe49;Ben Darnell;2017-12-08 10:19:02 -0500;Merge pull request #2210 from hipro/patch-3
Update structure.rst `.get("Content-Type", "")`
==
==================
36cd58cf;Ben Darnell;2017-12-08 08:26:56 -0500;Merge pull request #2208 from shangdahao/impove_doc
Make the example code in the document "tornado.ioloop — Main event loop" can copy-paste-run directly.
==
==================
cffe8c8e;hipro;2017-12-08 17:43:12 +0800;Update structure.rst

==

docs/guide/structure.rst
==================
0ab82637;Ben Darnell;2017-12-06 20:42:51 -0500;Merge pull request #2200 from pitrou/set_result_unless_cancelled
Issue #2188: check whether a future was cancelled before calling set_result()
==
==================
3f599293;shanghui;2017-12-06 14:45:21 +0800;Make the example code in the document "tornado.ioloop — Main event loop" can copy-paste-run directly.

==

tornado/ioloop.py
==================
cb9e11ef;Antoine Pitrou;2017-11-16 18:28:20 +0100;Issue #2188: check whether a future was cancelled before calling set_result()

==

tornado/auth.py
tornado/concurrent.py
tornado/gen.py
tornado/http1connection.py
tornado/httpclient.py
tornado/locks.py
tornado/process.py
tornado/queues.py
tornado/test/concurrent_test.py
tornado/web.py
tornado/websocket.py
==================
5fcfb427;Min RK;2017-11-16 04:21:52 +0100;handle multiple values in X-Forwarded-Proto (#2162)

==

tornado/httpserver.py
tornado/test/httpserver_test.py
==================
1b464c48;Antoine Pitrou;2017-11-16 04:18:06 +0100;Issue #2147: avoid copies on non-small writes (#2169)

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
59087aa6;Ben Darnell;2017-11-15 22:17:16 -0500;Merge pull request #2195 from kkopachev/circular-refs
Break circular references when async request handler raises exception
==
==================
e8d39dbe;Ben Darnell;2017-11-15 22:06:52 -0500;Merge pull request #2192 from pitrou/asyncio_future_debug_info
Improve debug support for asyncio futures
==
==================
6e266a31;Konstantin Kopachev;2017-11-09 21:19:42 -0800;Break circular references when async request handler raises exception

==

maint/circlerefs/circlerefs.py
tornado/gen.py
tornado/web.py
==================
18dd6827;Antoine Pitrou;2017-11-07 22:19:39 +0100;Improve debug support for asyncio futures
When in debug mode, asyncio returns the instantiation place of a Future
and places it in its repr(), for example:

  <Future finished result=None created at /home/antoine/distributed/distributed/worker.py:1223>

This is useful when asyncio logs cancelled futures or futures that were not
waited upon after erroring out.

However, when using @gen.coroutine, we need to fix the recorded stack trace
otherwise the display is much less useful:

  <Future finished result=None created at /home/antoine/tornado/tornado/gen.py:295>

==

tornado/gen.py
tornado/test/gen_test.py
==================
cccd5fad;Ben Darnell;2017-11-05 18:31:53 -0500;routing_test: Remove test of log message

==

tornado/test/routing_test.py
==================
d7ef815c;andrew;2017-11-03 17:17:09 +0300;return 404 when routing delegate is not found

==

tornado/routing.py
tornado/test/routing_test.py
==================
4d4c1e0a;Ben Darnell;2017-11-05 18:07:15 -0500;Merge pull request #2073 from bdarnell/asyncio-future
concurrent: Use asyncio.Future when available
==
==================
ac13ee5f;Ben Darnell;2017-06-04 23:55:59 -0400;concurrent: Use asyncio.Future when available
This improves compatibility with asyncio, but required small tweaks to
various tests due to changes in callback timing (asyncio future
callbacks are always scheduled for the next IOLoop iteration)

concurrent: Always schedule Future callbacks on the IOLoop

Make the python 2/tornado-specific Future implementation more
consistent with asyncio's.

==

docs/concurrent.rst
docs/guide/security.rst
tornado/concurrent.py
tornado/gen.py
tornado/iostream.py
tornado/locks.py
tornado/platform/asyncio.py
tornado/queues.py
tornado/test/asyncio_test.py
tornado/test/concurrent_test.py
tornado/test/curl_httpclient_test.py
tornado/test/gen_test.py
tornado/test/httpserver_test.py
tornado/test/locks_test.py
tornado/test/runtests.py
tornado/test/tcpclient_test.py
tornado/test/tcpserver_test.py
tornado/test/twisted_test.py
tornado/testing.py
==================
42a1d23b;Ben Darnell;2017-10-29 20:14:05 -0400;gen: Correctly accept concurrent futures in gen.with_timeout.
The existing implementation happened to work for tornado's Future
implementation but breaks with the move to asyncio Futures.

==

tornado/concurrent.py
tornado/test/gen_test.py
==================
3fb845db;Ben Darnell;2017-10-22 23:36:30 -0400;twisted: Be more tolerant of leaked current IOLoops in tests

==

tornado/platform/twisted.py
tornado/test/twisted_test.py
==================
941d6f30;Ben Darnell;2017-10-23 00:24:02 -0400;asyncio: Drop support for trollius
This package is no longer maintained and was never widely used.

==

.travis.yml
tornado/platform/asyncio.py
tox.ini
==================
b7d2a152;Ben Darnell;2017-10-22 22:26:55 -0400;ioloop: Disallow non-asyncio IOLoops on python 3

==

.travis.yml
tornado/ioloop.py
tornado/test/ioloop_test.py
tox.ini
==================
89b46a51;Ben Darnell;2017-06-04 20:52:51 -0400;concurrent: Introduce future_add_done_callback
This function guarantees synchronous execution of the callback for
Futures that are already done, allowing the Future implementation to
change to one that does not provide this guarantee.

==

tornado/concurrent.py
tornado/gen.py
tornado/http1connection.py
tornado/ioloop.py
tornado/tcpclient.py
==================
4ccfc4c3;Ben Darnell;2017-06-04 20:39:44 -0400;concurrent: Remove TracebackFuture alias

==

docs/concurrent.rst
docs/conf.py
tornado/auth.py
tornado/concurrent.py
tornado/gen.py
tornado/httpclient.py
tornado/ioloop.py
tornado/iostream.py
tornado/websocket.py
==================
694a5a9c;Ben Darnell;2017-06-04 20:27:30 -0400;concurrent: Introduce future_set_exc_info function
This function is equivalent to future.set_exc_info for TracebackFuture
but also falls back to set_exception for other Futures.

==

tornado/auth.py
tornado/concurrent.py
tornado/gen.py
tornado/ioloop.py
tornado/platform/twisted.py
==================
a42b028c;Ben Darnell;2017-11-05 11:08:04 -0500;Merge pull request #2187 from bdarnell/ipv6-detection
test: More robust avoidance of broken ipv6
==
==================
33abbbd4;Ben Darnell;2017-11-05 10:38:03 -0500;test: More robust ipv6 detection
There are many ways ipv6 can be disabled or broken (and it just
stopped working on travis-ci), so instead of checking flags like
socket.has_ipv6, attempt to actually bind to an ipv6 address.

Closes #2185

==

tornado/test/simple_httpclient_test.py
tornado/test/util.py
==================
fab9550e;Ben Darnell;2017-11-05 10:32:10 -0500;testing: Connect to 127.0.0.1 instead of localhost
The servers used in tests are only listening for ipv4, not ipv6
(to avoid spurious firewall prompts on macos). In what is apparently
a recent macos change, connecting to `localhost` when the ipv6 port
is unbound now incurs a 200ms delay, slowing a full test run down
by a factor of 20.

==

tornado/test/simple_httpclient_test.py
tornado/test/web_test.py
tornado/testing.py
==================
def56207;Ben Darnell;2017-10-28 10:51:27 -0400;Merge pull request #2180 from EtiennePelletier/master
Don't let invalid bytes stop the Webspider demo
==
==================
5bc49249;Ben Darnell;2017-10-28 10:45:42 -0400;Merge pull request #2179 from pitrou/periodic_callback_ioloop_compat
Fetch IOLoop in PeriodicCallback.start(), not __init__()
==
==================
9f75d2d4;EtiennePelletier;2017-10-24 23:36:58 -0400;Bypass UnicodeDecodeErrors in Webspider demo

==

demos/webspider/webspider.py
==================
b1a73900;Antoine Pitrou;2017-10-24 11:09:44 +0200;Fetch IOLoop in PeriodicCallback.start(), not __init__()
See motivation at https://github.com/dask/distributed/pull/1172

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
5ee7f457;Ben Darnell;2017-10-22 17:07:42 -0400;Merge pull request #2178 from bdarnell/run-in-executor-fix
Fixes for IOLoop.run_in_executor
==
==================
a3b44cd7;Ben Darnell;2017-10-22 15:53:35 -0400;Fixes for IOLoop.run_in_executor
Correctly transform the concurrent Future into a Tornado Future
and test that the result is usable with await.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
0c2a2d5a;Ben Darnell;2017-10-22 14:43:01 -0400;Merge pull request #2167 from pitrou/remove_ssl_hack
Remove SSL hack
==
==================
7f2c9129;Ben Darnell;2017-10-22 14:42:48 -0400;Merge pull request #2177 from bdarnell/require-ssl
Require modern SSL features
==
==================
7484b61b;Ben Darnell;2017-10-22 13:23:12 -0400;Document ssl module requirements in index.rst

==

docs/index.rst
==================
30cc9fdb;Ben Darnell;2017-10-22 13:14:44 -0400;Use SSLContext APIs in simple_httpclient
Set OP_NO_COMPRESSION more consistently.

==

tornado/netutil.py
tornado/simple_httpclient.py
==================
b6b26e3d;Ben Darnell;2017-10-22 12:31:54 -0400;Remove some vestigial workarounds for py26

==

setup.py
tornado/test/runtests.py
tornado/test/twisted_test.py
tornado/test/util.py
==================
8cf55df4;Ben Darnell;2017-10-22 12:20:18 -0400;Require modern ssl features (SSLContext, etc)
Now that we've dropped python 3.3 (so create_default_context is
present on all supported versions), we can drop all ssl
backwards-compatibility and require the modern feature set.

==

maint/requirements.in
setup.py
tornado/iostream.py
tornado/netutil.py
tornado/simple_httpclient.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/simple_httpclient_test.py
==================
fa340917;Antoine Pitrou;2017-10-22 16:02:14 +0200;Don't keep any reference to memoryviews (#2173)
See https://github.com/tornadoweb/tornado/pull/2008 for reasons
why this might be necessary.

==

tornado/iostream.py
==================
648b3e9f;Mike DePalatis;2017-10-21 14:04:57 -0400;Implement IOLoop.run_in_executor (#2067)

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
3b374d59;Antoine Pitrou;2017-10-17 18:29:47 +0200;Remove SSL hack
All recent Python versions (including recent Python 2.7 updates)
set SSL_MODE_ACCEPT_MOVING_WRITE_BUFFER on OpenSSL sockets, so
we needn't freeze the write buffer anymore.

==

tornado/iostream.py
==================
37081d79;Ben Darnell;2017-09-23 13:07:07 -0400;Merge pull request #2157 from pjknkda/master
websocket: fix missing websocket header causes an exception
==
==================
ad088464;Ben Darnell;2017-09-23 12:52:27 -0400;Merge pull request #2155 from dawncold/fix-iostream-exception-alias
fix: iostream exception alias
==
==================
4bc35ee9;Ben Darnell;2017-09-23 12:51:10 -0400;Merge pull request #2154 from juanpabloaj/removed-unused-import-logging
removed unused import logging
==
==================
1c2eb672;Ben Darnell;2017-09-23 12:12:33 -0400;Merge pull request #2149 from ploxiln/file_upload_yield
file_upload demo: yield write() cb in body_producer
==
==================
5d4a9ab2;Jungkook Park;2017-09-22 02:14:51 +0900;fix websocket handshake failure causes an exception

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
f7046cfb;TianZhen;2017-09-19 17:44:15 +0800;fix: iostream exception alias

==

tornado/iostream.py
==================
5a40d216;JuanPablo;2017-09-18 22:19:17 -0300;removed unused import logging

==

demos/webspider/webspider.py
==================
e92aa20f;Pierce Lopez;2017-09-12 16:57:50 -0400;file_upload demo: write multi-part framing in one call

==

demos/file_upload/file_uploader.py
==================
ab42d837;Pierce Lopez;2017-09-08 17:49:55 -0400;file_upload demo: yield write() cb in body_producer

==

demos/file_upload/file_uploader.py
==================
34c43f47;Ben Darnell;2017-09-04 15:32:52 -0400;Drop support for python 3.3, 3.5.[01] (#2116)
* Drop support for python 3.3

In June 2017, Python 3.3 accounted for 0.2% of Tornado's downloads
from pypi.

* travis.yml: Use trusty, update pypy versions

Get a py35-compatible version of pypy3. Plain "pypy" no longer seems
to work in this environment, so specify a version.

Drop testing of python 2.7.8, which no longer seems to be available.

* gen,queues: Drop the "legacy aiter protocol"

This protocol changed in Python 3.5.2 (after being introduced in
3.5.0). Async iteration now requires that version of Python (or
newer).

Closes #2107

* travis.yml: Only run doctests on one version of python 3

* Get tests passing on latest version of pypy3

==

.travis.yml
docs/index.rst
maint/test/cython/tox.ini
maint/vm/windows/bootstrap.py
maint/vm/windows/tox.ini
setup.py
tornado/gen.py
tornado/netutil.py
tornado/platform/asyncio.py
tornado/queues.py
tornado/test/iostream_test.py
tornado/test/runtests.py
tornado/test/util.py
tox.ini
==================
395e5587;Josh Humphries;2017-09-03 18:48:54 +0100;Correctly clear and create a new ioloop during autoreload (#2137)
* Correctly clear and create a new ioloop during autoreload

After the removal of the deprecated io_loop arguments from all functions,
the autoreload module stopped working as the wait function's usage was
missed in the refactor. This resulted in the start function receiving an
IOLoop object as its only argument which it then used as the check_time
argument resulting in errors further down the line when the check_time
is expected to be an int.

* Use the ioloop's add_callback function to start the ioloop on wait

There's no need to stop and clear the loop here, just add start as
a callback and start up the ioloop.

==

tornado/autoreload.py
==================
810c341d;Ben Darnell;2017-08-27 14:50:20 -0400;Merge pull request #2143 from bdarnell/cherrypick-cloexec
Cherrypick FD_CLOEXEC change for 4.5.2
==
==================
7cb24cfb;Ben Darnell;2017-08-27 12:50:55 -0400;Merge pull request #2132 from felliott/stop-logging-headers
Remove headers from HTTPServerRequest repr
==
==================
f354f9b7;Ben Darnell;2017-08-27 12:27:29 -0400;Merge pull request #2130 from jaimegago/master
Add SSL/SSH handshake timing to response properties (curl client)
==
==================
c4911bf2;Ben Darnell;2017-08-27 12:17:55 -0400;Release version 4.5.2

==

docs/releases.rst
docs/releases/v4.5.2.rst
setup.py
tornado/__init__.py
==================
c85dfd2e;Ben Darnell;2017-05-28 20:10:01 -0400;tcpclient,netutil: Set FD_CLOEXEC on all sockets created by Tornado
PR #1984 was based on the mistaken belief that we were already
doing this (and in python 3.4+, it's true, thanks to PEP 446). This
fixes a regression introduced in Tornado 4.5 in which autoreload would
leak file descriptors and leave client connections hanging.

Fixes #2057

==

tornado/netutil.py
tornado/platform/common.py
tornado/tcpclient.py
==================
f64d4419;Florian Ludwig;2017-08-12 00:56:54 +0200;update google oauth URLs
Reference: https://developers.google.com/identity/protocols/OpenIDConnect

==

tornado/auth.py
==================
871bf81c;Fitz Elliott;2017-08-10 11:10:00 -0400;Remove headers from HTTPServerRequest repr
 * In tornadoweb/tornado#1112 it was decided to stop including headers
   in the request repr, since they are needlessly verbose and risk
   leaking user secrets into the application log.

==

tornado/httputil.py
tornado/test/httputil_test.py
==================
e6ebac17;Jaime Gago;2017-08-09 15:08:48 -0700;Add SSL/SSH handshake timing to response properties (curl client)

==

tornado/curl_httpclient.py
==================
d4094a0c;Ben Darnell;2017-07-23 14:48:37 -0400;Fix various typos in comments

==

docs/auth.rst
docs/releases/v3.0.0.rst
tornado/httpserver.py
tornado/log.py
tornado/test/httpclient_test.py
tornado/test/ioloop_test.py
==================
59d80a62;Ben Darnell;2017-07-16 11:30:41 -0400;Merge pull request #2109 from yiliangt5/fix/redirecthandler_passes_get_args
feat: RedirectHandler to pass GET query
==
==================
e5feb274;Yiliang Tang;2017-06-17 14:09:05 +0800;feat: RedirectHandler to pass GET query

==

tornado/httputil.py
tornado/test/httputil_test.py
tornado/test/web_test.py
tornado/web.py
==================
d0fd7977;Ben Darnell;2017-07-15 23:26:59 -0400;Merge pull request #2106 from minrk/pycurl-debug-str
cast pycurl debug messages to str
==
==================
3cc3e133;Lancher;2017-07-16 11:13:00 +0800;tcpclient: Introduce connect timeout (#2094)
Fixes #1219 

==

tornado/tcpclient.py
tornado/test/tcpclient_test.py
==================
b873c804;Ben Darnell;2017-07-15 15:56:52 -0400;Merge pull request #2098 from sebbov/master
Do not send/expect Content-Length on 1xx
==
==================
2fdf11ce;Min RK;2017-07-11 12:07:34 +0200;cast curl debug messages to str
since they come in as bytes on Python 3

==

tornado/curl_httpclient.py
==================
ee76ed4d;Sebastien Boving;2017-07-05 10:04:33 -0700;Handle 1xx's along 204/304's

==

tornado/web.py
==================
0e869e3f;Ben Darnell;2017-07-04 18:35:08 -0400;Merge pull request #2075 from pitrou/accept_ebadf_race
Fix #2069: Fix race condition between accept() handler and TCPServer.stop()
==
==================
e2677780;Chris Snow;2017-06-27 21:31:24 +0100;FriendFeed website seems to have gone

==

docs/guide/intro.rst
==================
38e9b6ca;Sebastien Boving;2017-06-27 09:35:55 -0700;Do not send/expect Content-Length on 1xx

==

tornado/http1connection.py
tornado/web.py
==================
52bec504;Ben Darnell;2017-06-17 22:24:50 -0400;Merge pull request #2081 from noyainrain/fix-autoreload-module
Fix module autoreload for __main__ with relative imports
==
==================
fcc21d4e;Sven;2017-06-16 10:43:29 +0200;Apply changes from review

==

tornado/autoreload.py
tornado/test/import_test.py
==================
a1abb710;Ben Darnell;2017-06-11 14:28:10 -0400;Merge pull request #2084 from bdarnell/docs
testing: Fix incorrect docs for gen_test
==
==================
0e5c9a36;Ben Darnell;2017-06-11 12:10:19 -0400;testing: Fix incorrect docs for gen_test
Pointed out in #1154

==

tornado/testing.py
==================
3a25d7a9;Ben Darnell;2017-06-11 09:36:00 -0400;Merge pull request #2083 from bdarnell/log-cleanup
Clean up test logging
==
==================
6b6d0e06;Antoine Pitrou;2017-06-11 10:41:45 +0200;Use getitem / setitem idiom on nonlocal list

==

tornado/netutil.py
==================
1be87fdd;Ben Darnell;2017-06-10 23:00:08 -0400;test: Make log detection sensitive to info logs
Silence one in httpserver_test

==

tornado/test/httpserver_test.py
tornado/test/runtests.py
==================
427d0e65;Ben Darnell;2017-06-10 22:47:55 -0400;testing: Remove deprecated LogTrapTestCase
Move the tests that relied on this in concurrent_test.py to use
log.debug instead. (The redbot test has been broken and needs work
anyway.

==

docs/releases/v3.0.0.rst
docs/releases/v3.0.1.rst
docs/testing.rst
maint/test/redbot/red_test.py
tornado/test/concurrent_test.py
tornado/testing.py
==================
d68abdb4;Ben Darnell;2017-06-10 22:12:23 -0400;Merge pull request #2082 from bdarnell/timeouterror
ioloop,gen: Unify TimeoutErrors
==
==================
edf1232c;Ben Darnell;2017-06-10 18:08:49 -0400;ioloop,gen: Unify TimeoutErrors
Fixes #1929

==

docs/gen.rst
docs/releases/v4.2.0.rst
tornado/gen.py
tornado/ioloop.py
tornado/locks.py
tornado/queues.py
tornado/test/import_test.py
tornado/util.py
==================
3163c606;Ben Darnell;2017-06-10 18:13:57 -0400;Merge pull request #2077 from vladimirbright/clarify_timeouts_in_queues
Added information about timeout arg in Queue get and put methods
==
==================
28e631ae;Ben Darnell;2017-06-10 17:20:14 -0400;Merge pull request #2074 from ploxiln/http1_connection_close
http1connection: add "Connection: close" header if appropriate
==
==================
cb8d4219;Ben Darnell;2017-06-10 17:18:42 -0400;Merge pull request #2058 from jehiah/http_request_line_bad_request_2058
Return HTTP 400 on bad request lines
==
==================
7f1a58f9;Sven;2017-06-09 18:38:51 +0200;Fix newline handling in autoreload test

==

tornado/test/autoreload_test.py
==================
c40cdb93;Sven;2017-06-09 16:50:34 +0200;Fix module autoreload for __main__ with relative imports
The fix works for Python >= 3.4, keeping the current workaround for previous
versions. Also introduce a first unit test for autoreload. Close #2044.

==

tornado/autoreload.py
tornado/test/autoreload_test.py
tornado/test/import_test.py
tornado/test/runtests.py
==================
e34ea5c7;Vladimir Prokhoda;2017-06-08 11:38:13 +0300;Added information about timeout arg in Queue get and put methods

==

tornado/queues.py
==================
f7d8ad2d;Antoine Pitrou;2017-06-06 11:03:22 +0200;Relax test failure when failing to reproduce the race condition

==

tornado/test/tcpserver_test.py
==================
21680e20;Antoine Pitrou;2017-06-06 10:43:14 +0200;Fix #2069: Fix race condition between accept() handler and TCPServer.stop()

==

tornado/netutil.py
tornado/tcpserver.py
tornado/test/tcpserver_test.py
==================
6d6d44e0;Pierce Lopez;2017-06-05 13:22:39 -0400;httpserver: remove unused no_keep_alive attribute
still a parameter passed on to HTTP1Connection

==

tornado/httpserver.py
==================
e7cb7977;Pierce Lopez;2017-06-05 00:48:45 -0400;http1connection: add "Connection: close" header if appropriate
When HTTP1Connection acts as the server, it closes the connection
after writing the response if the client includes the
"Connection: close" header in the request, or if the `no_keep_alive`
option is set to True in the constructor.

According to https://tools.ietf.org/html/rfc7230#section-6.6

> The server SHOULD send a "close" connection option in its final
response on that connection.

It was possible for an Application to set the Connection header
appropriately. But it is very helpful for tornado to take care of
this automatically, particularly if "close" was specified in a
request header.

==

tornado/http1connection.py
tornado/test/httpserver_test.py
==================
62e47215;Ben Darnell;2017-06-04 10:05:41 -0400;Merge pull request #2072 from bdarnell/asyncio-default
ioloop: Make asyncio the default when available
==
==================
dc7b58d8;Ben Darnell;2017-06-03 16:08:44 -0400;ioloop: Make asyncio the default when available
In addition to changing the configurable default, add a special case
in IOLoop.current() so that the current IOLoop will be backed by
the main asyncio event loop.

==

.travis.yml
tornado/ioloop.py
tornado/test/httpclient_test.py
tornado/test/ioloop_test.py
tornado/test/process_test.py
tox.ini
==================
30dd0a7a;Jehiah Czebotar;2017-05-26 09:15:26 -0400;Return HTTP 400 (Bad Request) on malformed requests

==

tornado/http1connection.py
tornado/httputil.py
tornado/test/httpserver_test.py
==================
ebf18ec8;Ben Darnell;2017-06-03 17:08:51 -0400;ioloop: Add tests for IOLoop configuration

==

tornado/test/ioloop_test.py
==================
09e25577;Ben Darnell;2017-05-29 12:05:11 -0400;Merge pull request #2063 from bdarnell/ioloop-instance
ioloop: Redefine instance() in terms of current()
==
==================
3236f070;Ben Darnell;2017-05-29 11:23:03 -0400;Merge pull request #2064 from bdarnell/cloexec
tcpclient,netutil: Set FD_CLOEXEC on all sockets created by Tornado
==
==================
92030232;Ben Darnell;2017-05-28 20:10:01 -0400;tcpclient,netutil: Set FD_CLOEXEC on all sockets created by Tornado
PR #1984 was based on the mistaken belief that we were already
doing this (and in python 3.4+, it's true, thanks to PEP 446). This
fixes a regression introduced in Tornado 4.5 in which autoreload would
leak file descriptors and leave client connections hanging.

Fixes #2057

==

tornado/netutil.py
tornado/platform/common.py
tornado/tcpclient.py
==================
1fd67df2;Ben Darnell;2017-05-28 10:44:55 -0400;ioloop: Redefine instance() in terms of current()
This aligns us more closely with asyncio, which only has a single
get_event_loop() function. Most uses of instance() are simply a
holdover from before current() was introduced and are not actually
relying on its slightly different behavior, so we redefine it (and the
related methods install(), initialized(), and clear_instance()) in
terms of current().

==

docs/ioloop.rst
tornado/ioloop.py
tornado/testing.py
==================
2e622ae7;Ben Darnell;2017-05-27 19:49:38 -0400;Merge pull request #2062 from bdarnell/configure-pollioloop
ioloop: Make PollIOLoop separately configurable
==
==================
ce0c4aaf;Ben Darnell;2017-05-27 19:11:35 -0400;ioloop: Make PollIOLoop separately configurable
This makes it possible to construct a PollIOLoop even when the default
IOLoop is configured to something else.

==

tornado/ioloop.py
tornado/platform/twisted.py
tornado/test/twisted_test.py
==================
6453ce8f;Ben Darnell;2017-05-27 19:10:45 -0400;util: Enable multiple configurable bases in one hierarchy
This allows a mid-level class like PollIOLoop to have its own
configurability.

==

tornado/test/util_test.py
tornado/util.py
==================
c2c0f383;Ben Darnell;2017-05-27 10:28:43 -0400;Merge pull request #2052 from bdarnell/deprecated
all: Remove deprecated io_loop arguments
==
==================
a73bfc9d;Ben Darnell;2017-05-25 22:13:49 -0400;Merge pull request #2028 from pitrou/close_exc_info
Avoid IOStream.close(exc_info=True)
==
==================
df0ee54c;Ben Darnell;2017-05-22 01:03:46 -0400;concurrent: Remove use of self.io_loop from run_on_executor

==

tornado/concurrent.py
tornado/test/concurrent_test.py
==================
547e0f98;Ben Darnell;2017-05-21 23:57:46 -0400;all: Remove deprecated io_loop arguments
IOLoop.current() is now used in all cases; it is no longer possible to
pass IOLoops around and use them directly. This occasionally requires
awkward workarounds with IOLoop.run_sync, but mainly in test code
(and the synchronous HTTPClient).

==

docs/httpclient.rst
tornado/autoreload.py
tornado/curl_httpclient.py
tornado/gen.py
tornado/http1connection.py
tornado/httpclient.py
tornado/httpserver.py
tornado/ioloop.py
tornado/iostream.py
tornado/netutil.py
tornado/platform/caresresolver.py
tornado/platform/twisted.py
tornado/process.py
tornado/simple_httpclient.py
tornado/tcpclient.py
tornado/tcpserver.py
tornado/test/concurrent_test.py
tornado/test/curl_httpclient_test.py
tornado/test/gen_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/netutil_test.py
tornado/test/process_test.py
tornado/test/simple_httpclient_test.py
tornado/test/stack_context_test.py
tornado/test/tcpclient_test.py
tornado/test/twisted_test.py
tornado/test/web_test.py
tornado/test/websocket_test.py
tornado/testing.py
tornado/websocket.py
==================
33072961;Ben Darnell;2017-05-21 19:16:58 -0400;testing: Remove deprecated get_unused_port()
This function never did a good job and has long since been deprecated
in favor of bind_unused_port.

==

docs/testing.rst
tornado/testing.py
==================
dce18664;Ben Darnell;2017-05-21 18:17:38 -0400;Merge pull request #2002 from nvllsvm/master
Fetch absolute URL in AsyncHTTPTestCase
==
==================
01dd415e;Ben Darnell;2017-05-21 16:42:40 -0400;Merge pull request #2051 from bdarnell/appveyor-speedup
build: Speed up appveyor tests by not running the full matrix.
==
==================
ae56c4d4;Ben Darnell;2017-05-21 12:15:19 -0400;build: Speed up appveyor tests by not running the full matrix.
Only run partial tests in two of the four environments.

==

appveyor.yml
==================
031641b5;Ben Darnell;2017-05-21 11:41:40 -0400;Merge pull request #2050 from bdarnell/appveyor-config
build: Don't double-test on appveyor
==
==================
69f2e698;Ben Darnell;2017-05-20 22:50:12 -0400;Merge pull request #2048 from bdarnell/option-redefinition
options: Report redefinition errors when underscores are used
==
==================
e9b3cee7;Ben Darnell;2017-05-20 22:49:47 -0400;Merge pull request #2045 from bdarnell/websocket-raise
websocket: Don't swallow exceptions in _write_frame
==
==================
74fff92c;Ben Darnell;2017-05-20 20:00:03 -0400;Merge pull request #2038 from schlamar/patch-2
don't check error code in test_set_close_exec
==
==================
c16c8415;Ben Darnell;2017-05-20 19:56:48 -0400;Merge pull request #2047 from bdarnell/assert-pid
ioloop: Document the incompatibility of IOLoop and fork()
==
==================
92919440;Ben Darnell;2017-05-20 17:47:56 -0400;Merge pull request #2046 from bdarnell/cookie-docs
web: Clarify cookie method docs
==
==================
02d8f02f;Ben Darnell;2017-05-20 15:41:07 -0400;build: Don't double-test on appveyor
Pointed out in #2028

==

appveyor.yml
==================
445c036b;Andrew Rabert;2017-04-04 22:29:46 -0400;Test fetch full URL if applicable

==

tornado/test/testing_test.py
==================
9a18f6cd;Ben Darnell;2017-05-20 14:53:19 -0400;Merge pull request #2024 from pjknkda/master
websocket: optimize C websocket_mask function
==
==================
230b16a0;Ben Darnell;2017-05-20 13:57:18 -0400;Merge pull request #2022 from coldnight/master
Fix CurlAsyncHTTPClient cause memory leak with `force_instance=True`
==
==================
4b36b4e7;Ben Darnell;2017-05-20 13:44:08 -0400;options: Report redefinition errors when underscores are used
Fixes #2020

==

tornado/options.py
tornado/test/options_test.py
tornado/test/util.py
==================
73c48f32;Ben Darnell;2017-05-20 12:09:58 -0400;websocket: Don't swallow exceptions in _write_frame
Swallowing the exception violated the method's interface (by returning
None instead of a Future), and differs from stream-closed behavior in
other contexts in Tornado.

Fixes #1980

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
d032618c;Ben Darnell;2017-05-20 13:01:07 -0400;ioloop: Document the incompatibility of IOLoop and fork()
Fixes #2004

==

tornado/ioloop.py
==================
f0d67b41;Ben Darnell;2017-05-20 12:29:55 -0400;web: Clarify cookie method docs
Be explicit that get_cookie cannot see the cookies set within the
current request, avoiding confusion as seen in #1993

==

tornado/web.py
==================
06be57c1;Ben Darnell;2017-05-20 12:19:04 -0400;Merge pull request #1979 from SuminAndrew/responses-py2-py34
web: Don't raise on unknown HTTP response codes
==
==================
6595297b;Ben Darnell;2017-05-20 11:40:08 -0400;Bump master version to 5.0.dev1

==

setup.py
tornado/__init__.py
==================
ff0b91a6;Marc Schlaich;2017-05-08 15:29:42 +0200;don't check error code in test_set_close_exec

==

tornado/test/windows_test.py
==================
7c969663;Antoine Pitrou;2017-04-27 16:29:10 +0200;Avoid IOStream.close(exc_info=True)
close(exc_info=True) calls sys.exc_info() to get the "current" exception.
Unfortunately, on Python 2 this is the last raised exception even if it
was caught and silenced (by contrast with Python 3, which has lexically
nested exceptions).  This could set ``IOStream.error`` and therefore
``TCPClient.connect``'s raised exception to the wrong error.

Fix by passing the explicit error instance instead.

==

tornado/iostream.py
==================
305d559f;A. Jesse Jiryu Davis;2017-04-26 08:44:17 -0500;Merge pull request #2025 from chrisgavin/python3
Fix file upload demo on Python 2.
==
==================
2cfc0d44;Jungkook Park;2017-04-26 13:12:28 +0900;fix build failure in MSVC compiler

==

tornado/speedups.c
==================
26e5779a;Chris Gavin;2017-04-25 21:40:22 +0100;Fix file upload demo on Python 2.

==

demos/file_upload/file_uploader.py
==================
63beb7a6;Jungkook Park;2017-04-25 23:45:40 +0900;websocket: optimize C mask extension

==

tornado/speedups.c
==================
07983e35;wanghui;2017-04-21 19:30:54 +0800;Fix CurlAsyncHTTPClient cause memory leak with `force_instance=True`
The CurlAsyncHTTPClient will cause memory leak when set `force_instance=True`,
because the `self._multi` and `self._force_timeout_callback` hold some methods
that belong the instance of `CurlAsyncHTTPClient`, it will cause circular reference.

==

tornado/curl_httpclient.py
==================
79b26834;Ben Darnell;2017-04-20 11:39:58 -0400;Fix header for 4.5.1 release notes

==

docs/releases/v4.5.1.rst
==================
e4f26acd;Ben Darnell;2017-04-20 09:32:04 -0400;Version 4.5.1

==

docs/releases.rst
docs/releases/v4.5.1.rst
setup.py
tornado/__init__.py
==================
ccf2e1ee;Ben Darnell;2017-04-19 23:16:38 -0400;Merge pull request #2019 from bdarnell/colorama-fix
log: Fix color logging detection
==
==================
57680da7;Ben Darnell;2017-04-19 21:38:57 -0400;log: Fix color logging detection
The previous logic would fail whenever curses is missing (which is
always true on windows, and is occasionally true on other platforms)
and colorama is installed but not initialized in this process (this is
a common occurrence for users of jupyter and ipython on windows).

Fixes #2013
Fixes #2015

==

tornado/log.py
==================
0f31bd6b;Ben Darnell;2017-04-19 21:35:38 -0400;Merge pull request #2018 from aetherson/master
fix backwards compatibility of url_concat for args=None
==
==================
86cc31f5;Andy Anderson;2017-04-19 10:43:43 -0500;fix backwards compatibility of url_concat for args=None

==

tornado/httputil.py
tornado/test/httputil_test.py
==================
c9d2a3fa;Ben Darnell;2017-04-16 19:46:22 -0400;Set version to 4.5

==

docs/releases/v4.5.0.rst
setup.py
tornado/__init__.py
==================
517fb7e3;Ben Darnell;2017-04-15 16:51:00 -0400;Merge pull request #2011 from bdarnell/websocket-render
websocket: Fix use of render_string in websocket handlers
==
==================
5931d913;Ben Darnell;2017-04-15 12:53:28 -0400;websocket: Fix use of render_string in websocket handlers
PR #1917 caused websocket connections to be "finished" early, which
broke the use of render_string by setting self.ui to None.

Fixes #2010

==

tornado/test/websocket_test.py
tornado/web.py
tornado/websocket.py
==================
ecd8968c;Ben Darnell;2017-04-15 12:45:33 -0400;Merge pull request #2009 from methane/travis
travis: fix using wrong Python version
==
==================
5570350d;Ben Darnell;2017-04-15 11:03:21 -0400;travis: Skip "nodeps" build on pypy3
virtualenv (or pip, or setuptools) no longer supports py32, so this
won't work until travis has pypy3 3.5 available.

==

.travis.yml
==================
6596545b;INADA Naoki;2017-04-13 11:21:32 +0900;use new virtualenv

==

.travis.yml
==================
6998310b;INADA Naoki;2017-04-13 10:57:40 +0900;travis: fix using wrong Python version

==

.travis.yml
==================
5dc6a1bf;Ben Darnell;2017-04-10 22:43:04 -0400;Bump to 4.5b2, update release notes

==

docs/releases/v4.5.0.rst
setup.py
tornado/__init__.py
==================
df9fb49d;Ben Darnell;2017-04-10 09:13:16 -0400;Merge pull request #2006 from bdarnell/cleanups
Cleanups from various linters
==
==================
0a706fa6;Ben Darnell;2017-04-10 09:08:37 -0400;Merge pull request #2005 from bdarnell/auth-facebook-expires
auth: Update, doc, and test the facebook session_expires field
==
==================
ed999977;Ben Darnell;2017-04-09 23:18:31 -0400;docs: Add uncovered function

==

docs/conf.py
docs/websocket.rst
==================
037bb0ed;Ben Darnell;2017-04-09 23:18:18 -0400;*: Fix pyflakes warnings

==

tornado/gen.py
tornado/log.py
tornado/websocket.py
==================
2e9bcce2;Ben Darnell;2017-04-09 23:07:00 -0400;*: Run the new autopep8
Mainly adds a bunch of blank lines.

==

tornado/autoreload.py
tornado/concurrent.py
tornado/curl_httpclient.py
tornado/escape.py
tornado/gen.py
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/iostream.py
tornado/netutil.py
tornado/platform/asyncio.py
tornado/platform/common.py
tornado/platform/interface.py
tornado/platform/twisted.py
tornado/stack_context.py
tornado/test/concurrent_test.py
tornado/test/gen_test.py
tornado/test/runtests.py
tornado/test/stack_context_test.py
tornado/test/tcpserver_test.py
tornado/test/web_test.py
tornado/test/windows_test.py
tornado/test/wsgi_test.py
tornado/testing.py
tornado/util.py
tornado/web.py
tornado/websocket.py
==================
6642df96;Ben Darnell;2017-04-09 23:04:28 -0400;maint: Update requirements

==

maint/requirements.txt
==================
2e25e817;Ben Darnell;2017-04-09 22:54:34 -0400;auth: Update, doc, and test the facebook session_expires field
This was recently broken by the move from url-encoding to json.

Closes #2001

==

tornado/auth.py
tornado/test/auth_test.py
==================
6e2bbdaf;Andrew Rabert;2017-04-04 22:29:34 -0400;Fetch full URL if applicable

==

tornado/testing.py
==================
608c6072;Ben Darnell;2017-04-02 16:46:51 -0400;Merge pull request #1999 from bdarnell/tcpclient-test
tcpclient_test: Attempt to deflake on windows
==
==================
104a302b;Ben Darnell;2017-04-02 10:52:43 -0400;websocket: Impose a size limit on incoming websocket messages (#1997)

==

docs/releases/v4.5.0.rst
tornado/test/websocket_test.py
tornado/websocket.py
==================
24ab3486;Ben Darnell;2017-04-02 10:51:41 -0400;tcpclient_test: Attempt to deflake on windows
It appears that on windows the client connect call can sometimes
succeed before the server has processed the request, so introduce
additional synchronization.

==

tornado/test/tcpclient_test.py
==================
4ff46dea;Ben Darnell;2017-04-01 14:27:25 -0400;Merge branch 'branch4.4'

==
==================
50f1890e;Ben Darnell;2017-03-30 09:17:36 -0400;Version bump and release notes for 4.4.3

==

docs/releases.rst
docs/releases/v4.4.3.rst
setup.py
tornado/__init__.py
==================
8bb87952;Dayne Jones;2017-03-29 21:43:07 -0400;auth: Facebook now returns auth tokens in json instead of url-encoded
Fixes #1992 
==

tornado/auth.py
tornado/test/auth_test.py
==================
28287ea8;Dayne Jones;2017-03-29 21:43:07 -0400;auth: Facebook now returns auth tokens in json instead of url-encoded
Fixes #1992 
==

tornado/auth.py
tornado/test/auth_test.py
==================
355315d2;Ben Darnell;2017-03-27 10:42:34 -0400;Merge pull request #1989 from bdarnell/appveyor36
appveyor: Build for python 3.5 and 3.6
==
==================
beb78f0f;Andrey Sumin;2017-03-24 17:03:27 +0300;do not raise exceptions on unknown status codes

==

tornado/test/web_test.py
tornado/web.py
==================
e5cedc0a;Ben Darnell;2017-03-26 18:34:25 -0400;appveyor: Build for python 3.5 and 3.6

==

appveyor.yml
==================
987291b4;Ben Darnell;2017-03-26 17:10:47 -0400;Release notes and doc updates for 4.5

==

docs/index.rst
docs/releases.rst
docs/releases/v4.5.0.rst
docs/web.rst
setup.py
tornado/__init__.py
tornado/gen.py
tornado/httpclient.py
tornado/httpserver.py
tornado/iostream.py
tornado/log.py
tornado/routing.py
tornado/tcpclient.py
tornado/web.py
tornado/websocket.py
==================
0ad63fcc;Ben Darnell;2017-03-26 14:56:25 -0400;Merge pull request #1917 from retinator/master
Allow custom websocket upgrade response headers
==
==================
50aeb5a1;Ben Darnell;2017-03-26 14:55:15 -0400;Merge pull request #1988 from bdarnell/subprocess-test-detail
process_test: Report more details when test_sigchild_signal fails
==
==================
8a4fc865;Ben Darnell;2017-03-26 14:43:23 -0400;Check in test script for circular references
From #1936

==

maint/circlerefs/circlerefs.py
==================
b642b83e;Ben Darnell;2017-03-26 14:03:50 -0400;Merge pull request #1936 from homm/break-circrefs
Break circular reference to exc_info when exception is thrown
==
==================
148b0c6b;Ben Darnell;2017-03-26 14:03:38 -0400;Merge pull request #1987 from bdarnell/iostream-orphan-future
Fix IOStream.write() to never orphan Future
==
==================
fc6bfe47;Ben Darnell;2017-03-26 13:46:36 -0400;Merge pull request #1927 from minrk/copy-list-in-close
copy handler list in IOLoop.close(all_fds=True)
==
==================
71a8d194;Ben Darnell;2017-03-26 13:41:36 -0400;Merge branch 'master' into master

==
==================
43614516;Ben Darnell;2017-03-26 13:13:27 -0400;process_test: Report more details when test_sigchild_signal fails
This test occasionally fails on pypy on travis-ci.

==

tornado/test/process_test.py
==================
d73210f0;Ben Darnell;2017-03-26 13:10:24 -0400;Merge pull request #1986 from bdarnell/yield-none-test
gen: Add tests for `yield None`
==
==================
7c40bedd;Antoine Pitrou;2016-11-14 19:38:25 +0100;Fix IOStream.write() to never orphan Future
The current behaviour is error-prone and makes it difficult to use the
Future-returning variant of IOStream.write().  This change makes sure
the returned Future is triggered as soon as the corresponding write
is issued.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
df31744f;Ben Darnell;2017-03-26 12:20:14 -0400;Merge pull request #1985 from bdarnell/websocket-convert-yielded
websocket: Avoid calling convert_yielded twice on the same object
==
==================
5d1a0758;Ben Darnell;2017-03-26 12:17:12 -0400;Merge pull request #1864 from leynos/master
Allow specificion of trusted downstream proxies for xheaders
==
==================
528ebe97;Ben Darnell;2017-03-26 11:57:09 -0400;gen: Add tests for `yield None`
See #1716

==

tornado/test/gen_test.py
==================
95e9ef9f;Ben Darnell;2017-03-26 11:46:00 -0400;Merge pull request #1716 from seirl/master
gen: handle None in convert_yielded
==
==================
62d1c620;Ben Darnell;2017-03-26 11:17:03 -0400;Merge pull request #1817 from mivade/colorama
Enable color logging on Windows via colorama
==
==================
e90ed039;Ben Darnell;2017-03-26 11:16:19 -0400;Merge pull request #1972 from andreasrosdal/master
Add compression_level and mem_level to WebSocketHandler.get_compression_options()
==
==================
b2a8a10c;Ben Darnell;2017-03-26 11:14:40 -0400;Merge pull request #1984 from bdarnell/autoreload-no-close
autoreload: Don't close the IOLoop on reload
==
==================
5a451d63;Ben Darnell;2017-03-26 11:12:37 -0400;websocket: Avoid calling convert_yielded twice on the same object
This is not allowed for native coroutines, although for reasons I
can't put my finger on it only fails intermittently (in the one test
we have that uses this with native coroutines).

==

tornado/websocket.py
==================
c610dd40;Michael V. DePalatis;2017-03-25 17:25:13 -0400;Replace func directive with double backticks

==

tornado/log.py
==================
745419bf;Andreas Røsdal;2017-03-25 20:16:10 +0100;Use the member variables instead of arguments for self._compression_level and self._mem_level.

==

tornado/websocket.py
==================
fa809ed1;Ben Darnell;2017-03-25 14:00:26 -0400;autoreload: Don't close the IOLoop on reload
This was a last-ditch effort to close file descriptors that were not
marked as CLOEXEC. However, it was never complete (it didn't touch
file descriptors that were not registered on the IOLoop), and it can't
work with asyncio (which does not allow closing the IOLoop without
stopping it and unwinding the stack first). Since Tornado (and
hopefully all major libraries using the IOLoop) is careful about
setting CLOEXEC when needed, just get rid of the close.

Fixes #1543

==

tornado/autoreload.py
==================
8ea13db1;Ben Darnell;2017-03-25 12:56:39 -0400;Merge pull request #1971 from SuminAndrew/remove-with_statement
remove redundant with_statement feature
==
==================
8cd37e04;Ben Darnell;2017-03-25 11:53:20 -0400;Merge pull request #1963 from protonpopsicle/master
HTTPServer pass no_keep_alive option to conn params
==
==================
8c94e8ea;Ben Darnell;2017-03-25 11:08:52 -0400;Merge pull request #1966 from JZQT/master
Make `tornado.log.LogFormatter` compatible with `logging.config.dictConfig`.
==
==================
5931f544;Andreas Røsdal;2017-03-08 21:29:17 +0100;Add parameter compression_options=None.

==

tornado/websocket.py
==================
e249267f;Andreas Røsdal;2017-03-08 21:20:32 +0100;Make compression options argument optional.

==

tornado/websocket.py
==================
0ee36275;Andreas Røsdal;2017-03-08 20:57:39 +0100;Fix for Python 2.7.

==

tornado/websocket.py
==================
a69b0498;Andreas Røsdal;2017-03-08 20:31:00 +0100;Add compression_level and mem_level to WebSocketHandler.get_compression_options().

==

tornado/websocket.py
==================
c162ebbc;Andrew Sumin;2017-03-07 12:07:06 +0300;remove redundant with_statement feature

==

maint/scripts/custom_fixers/fix_future_imports.py
tornado/__init__.py
tornado/_locale_data.py
tornado/auth.py
tornado/autoreload.py
tornado/concurrent.py
tornado/curl_httpclient.py
tornado/escape.py
tornado/gen.py
tornado/http1connection.py
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/locks.py
tornado/log.py
tornado/netutil.py
tornado/options.py
tornado/platform/asyncio.py
tornado/platform/auto.py
tornado/platform/caresresolver.py
tornado/platform/common.py
tornado/platform/epoll.py
tornado/platform/interface.py
tornado/platform/kqueue.py
tornado/platform/posix.py
tornado/platform/select.py
tornado/platform/twisted.py
tornado/platform/windows.py
tornado/process.py
tornado/queues.py
tornado/routing.py
tornado/simple_httpclient.py
tornado/stack_context.py
tornado/tcpclient.py
tornado/tcpserver.py
tornado/template.py
tornado/test/__main__.py
tornado/test/asyncio_test.py
tornado/test/auth_test.py
tornado/test/concurrent_test.py
tornado/test/curl_httpclient_test.py
tornado/test/escape_test.py
tornado/test/gen_test.py
tornado/test/gettext_translations/extract_me.py
tornado/test/http1connection_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/import_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/locale_test.py
tornado/test/locks_test.py
tornado/test/log_test.py
tornado/test/netutil_test.py
tornado/test/options_test.py
tornado/test/process_test.py
tornado/test/queues_test.py
tornado/test/resolve_test_helper.py
tornado/test/routing_test.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
tornado/test/stack_context_test.py
tornado/test/tcpclient_test.py
tornado/test/tcpserver_test.py
tornado/test/template_test.py
tornado/test/testing_test.py
tornado/test/twisted_test.py
tornado/test/util.py
tornado/test/util_test.py
tornado/test/web_test.py
tornado/test/websocket_test.py
tornado/test/windows_test.py
tornado/test/wsgi_test.py
tornado/testing.py
tornado/util.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
a0cce97f;A. Jesse Jiryu Davis;2017-03-05 14:15:04 -0500;Merge pull request #1969 from iver56/patch-1
Fix typo "you app" -> "your app"
==
==================
de977baa;Iver Jordal;2017-03-01 10:29:29 +0100;Fix typo "you app" -> "your app"

==

tornado/locale.py
==================
c2969acc;JZQT;2017-02-27 10:46:28 +0800;Make `tornado.log.LogFormatter` compatible with `logging.config.dictConfig`.

==

tornado/log.py
==================
9ffd08ff;Michael V. DePalatis;2017-02-26 18:25:33 -0500;Leave calling colorama.init to the user

==

tornado/log.py
==================
d456f1b3;Ben Darnell;2017-02-26 11:44:54 -0500;Merge pull request #1909 from ajdavis/on-message-coroutine
websocket: WebSocketHandler.on_message allows coroutines
==
==================
b343f6ec;A. Jesse Jiryu Davis;2017-01-08 21:43:42 -0500;websocket: WebSocketHandler.on_message allows coroutines
Fixes #1650

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
e15dbaa5;Ben Darnell;2017-02-25 17:35:22 -0500;Merge pull request #1957 from bdarnell/ws-ping
websocket: Periodic pinging for failure detection
==
==================
b926bde7;Ben Darnell;2017-02-25 17:34:47 -0500;Merge pull request #1964 from dv321/websocket-client-callback
websocket: fix client message callback error
==
==================
049d50d1;Doug Vargas;2017-02-24 12:36:53 -0800;websocket protocol callback error handling uses getattr instead of direct attr access

==

tornado/websocket.py
==================
1189d2a8;Scott Meisburger;2017-02-24 11:58:55 -0500;httpserver: pass no_keep_alive option to connection params

==

tornado/httpserver.py
==================
d32446df;Ben Darnell;2017-02-20 22:28:08 -0500;Merge pull request #1873 from pitrou/bytearray_buffers
Use bytearray buffers in IOStream
==
==================
72e86950;Ben Darnell;2017-02-20 22:14:34 -0500;web: Remove accidentally-set execute bit

==

tornado/web.py
==================
95c4408e;Ben Darnell;2017-02-20 22:01:01 -0500;Merge commit 'pull/origin/1653'

==
==================
fb10f7c2;Ben Darnell;2017-02-20 21:44:22 -0500;Merge pull request #1649 from xrmx/docwindows
docs: give more hints on why windows is unsupported
==
==================
816ebe6c;Ben Darnell;2017-02-20 19:32:54 -0500;websocket: Support periodic pings from client side

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
a4215304;Ben Darnell;2017-02-20 19:22:58 -0500;Merge commit 'pull/origin/1938' into ws-ping

==
==================
2a157f41;Ben Darnell;2017-02-20 19:22:05 -0500;websocket: Move periodic pings from handler to protocol
Add a basic test.

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
624f5d4f;Ben Darnell;2017-02-20 17:58:15 -0500;Merge pull request #1956 from bdarnell/master
Misc updates
==
==================
c45e10c9;Ben Darnell;2017-02-20 16:50:33 -0500;tox: Update some configs to use py36
Closes #1926

==

maint/test/cython/tox.ini
tox.ini
==================
4964ef77;Ben Darnell;2017-02-20 14:59:03 -0500;setup: Ship LICENSE file in tarball
Fixes #1897

==

MANIFEST.in
==================
0400845b;Ben Darnell;2017-02-20 14:55:31 -0500;docs: Remove direct tarball links and legacy install instructions
The tarball links were broken for many months without anyone noticing,
so apparently they weren't getting used (and anyone using them would
miss alternate release artifacts like the binary wheels we publish for
windows). Replace the hacks used to generate the tarball links with a
link to pypi and remove legacy manual installation instructions.

==

docs/conf.py
docs/index.rst
==================
e793ff89;Ben Darnell;2017-02-20 14:45:14 -0500;testing: Clarify docs of testing.main()

==

tornado/testing.py
==================
58f63b91;Ben Darnell;2017-02-20 14:41:30 -0500;docs: Clarify limitations of native coroutines.

==

docs/guide/coroutines.rst
==================
d1b83b8d;Ben Darnell;2017-02-20 14:35:34 -0500;process: Silence "subprocess still running" warnings on python3.6

==

tornado/process.py
tornado/test/process_test.py
==================
ad09f911;Ben Darnell;2017-02-20 14:18:22 -0500;tcpclient: Close socket on source_ip bind failure
Silences a warning on python 3

==

tornado/tcpclient.py
==================
0681ecf5;A. Jesse Jiryu Davis;2017-02-17 11:27:12 -0500;Merge pull request #1954 from dinever/patch-1
Fixed a simple typo in websocket.py
==
==================
dbab7409;Shawn Ding;2017-02-17 01:07:41 -0500;Fix a typo

==

tornado/websocket.py
==================
06399b7a;Ben Darnell;2017-02-09 19:21:35 -0500;Merge pull request #1948 from jeffhunter/master
add support for HTTP 308 redirects
==
==================
e704489d;Ben Darnell;2017-02-09 19:06:34 -0500;Merge pull request #1935 from mirceaulinic/SOURCE-IP
TCPClient: connect using specific source IP address and port
==
==================
f8aab76b;A. Jesse Jiryu Davis;2017-02-08 22:59:15 -0500;Merge pull request #1949 from ajdavis/asyncio-async-deprecated
Avoid deprecated asyncio.async() in test
==
==================
043e795e;A. Jesse Jiryu Davis;2017-02-08 20:23:39 -0500;Avoid deprecated asyncio.async() in test

==

tornado/test/asyncio_test.py
==================
a4b67ab4;Jeff Hunter;2017-02-08 17:17:31 -0800;add support for HTTP 308 redirects

==

tornado/simple_httpclient.py
==================
56f62f5e;A. Jesse Jiryu Davis;2017-02-08 18:59:05 -0500;Merge pull request #1945 from brianmego/patch-1
Documentation Typo
==
==================
0c6eec0b;Brian Mego;2017-02-08 15:30:41 -0600;Documentation Typo
I kept misspelling "response" in my own project's docstrings and upon grepping to make sure it was totally wiped out, discovered it was also misspelled in here. Clearly the word has been misspelled since it's inception, but since we can't change English, let's update it here.
==

tornado/http1connection.py
==================
1e39fd7a;Mircea Ulinic;2017-02-07 15:44:32 +0000;Skip port test if not unix

==

tornado/test/tcpclient_test.py
==================
0721917e;Ben Darnell;2017-02-05 17:58:38 -0500;web: Remove obsolete doc about stream_request_body and async prepare
Fixes #1933

==

tornado/web.py
==================
c4ab372a;Ben Darnell;2017-02-05 17:43:39 -0500;queues: Call out thread-unsafety in docs
Fixes #1923

==

docs/locks.rst
tornado/queues.py
==================
fab3b14b;Mircea Ulinic;2017-02-01 13:18:46 +0000;Add tests for source_ip and source_port

==

tornado/test/tcpclient_test.py
==================
ef299783;Artur Stawiarski;2017-02-01 14:24:25 +0000;Added option for triggering callbacks when PING frame is received In order to implement proper application-level handling of disconnections a developer may want to hook up into the standard "ping" mechanism of the websocket protocol. This is important for systems where both the client and the server need to keep track of disconnections, but based on client-intiated pings only.

==

tornado/websocket.py
==================
9cec2f7e;Mircea Ulinic;2017-02-01 12:02:36 +0000;Support also source_port

==

tornado/tcpclient.py
==================
c04e610a;Mircea Ulinic;2017-02-01 11:36:31 +0000;Remove source_ip from _Connector init kwargs

==

tornado/tcpclient.py
==================
6eb51a0b;Mircea Ulinic;2017-02-01 11:31:30 +0000;Move bindin into _create_stream

==

tornado/iostream.py
tornado/tcpclient.py
==================
4f353454;Alexander Karpinsky;2017-01-27 04:16:50 +0300;Merge branch 'master' into break-circrefs

==
==================
d2acc2bd;Alexander;2017-01-27 04:07:35 +0300;cleanups for python3

==

tornado/concurrent.py
tornado/gen.py
tornado/http1connection.py
tornado/util.py
==================
24eb6a67;Alexander;2017-01-27 03:08:27 +0300;add test add description

==

tornado/gen.py
tornado/test/gen_test.py
==================
aa5c6d9f;Alexander;2017-01-27 00:28:03 +0300;release exc_info even when exception is thrown remove extra references to the futures

==

tornado/gen.py
==================
14803ae4;Mircea Ulinic;2017-01-25 11:45:31 +0000;TCPClient: connect using specific source IP address

==

tornado/iostream.py
tornado/tcpclient.py
==================
69253c82;A. Jesse Jiryu Davis;2017-01-24 09:13:33 -0500;Merge pull request #1932 from tao12345666333/master
Fix document PyPI download url
==
==================
14d0dbd8;TaoBeier;2017-01-24 17:39:37 +0800;Fix document download url on pypi.

==

docs/conf.py
==================
eb7ef476;Min RK;2017-01-11 11:22:00 +0100;copy handler list in IOLoop.close(all_fds=True)
avoids modifying dict during iteration if close method on fd triggers something like `IOLoop.remove_handler`

==

tornado/ioloop.py
==================
7461d5c0;James Maier;2017-01-09 00:07:26 -0500;Fix Sphinx

==

tornado/websocket.py
==================
17da6545;James Maier;2017-01-08 22:52:02 -0500;WebSocket: misc. from code review

==

docs/websocket.rst
tornado/test/websocket_test.py
tornado/websocket.py
==================
70727e77;James Maier;2017-01-08 22:45:15 -0500;WebSocket: disable RequestHandler methods by patching the instance

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
68c15a14;James Maier;2017-01-08 22:11:51 -0500;WebSocket: fix 426 error code

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
0c9f3400;Ben Darnell;2017-01-08 13:57:07 -0500;Merge pull request #1924 from duboviy/master
Add Python 3.6 support
==
==================
9bad9e5d;Ben Darnell;2017-01-08 13:54:17 -0500;Merge pull request #1899 from mr-ping/master
Rewrite url_concat function using PythonStandardLibrary
==
==================
09caeaed;Eugene Dubovoy;2017-01-08 18:19:30 +0200;Add Python 3.6 support

==

.travis.yml
setup.py
tox.ini
==================
85f3d8bc;James Maier;2016-12-23 11:01:42 -0500;Do WebSocket upgrade using RequestHandler, allowing set_default_headers

==

docs/websocket.rst
tornado/test/websocket_test.py
tornado/websocket.py
==================
3e3a34df;James Maier;2016-12-20 15:32:22 -0500;Add upgrade_response_headers to docs/websocket.rst

==

docs/websocket.rst
==================
0ed1bb76;James Maier;2016-12-20 15:04:12 -0500;Allow custom websocket upgrade response headers via upgrade_response_headers

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
38e493ed;A. Jesse Jiryu Davis;2016-12-20 08:25:07 -0600;Merge pull request #1916 from SuminAndrew/routing-docs
improve routing module docs and tests
==
==================
0836315d;Andrew Sumin;2016-12-17 19:56:17 +0300;improve routing module docs and tests

==

tornado/routing.py
tornado/test/routing_test.py
tornado/web.py
==================
cfc20d12;Ben Darnell;2016-12-17 12:18:42 +0800;Merge pull request #1806 from SuminAndrew/routing
implement routing mechanism
==
==================
cadb2e4f;Ben Darnell;2016-12-13 21:46:01 +0800;Merge pull request #1906 from ajdavis/handle-stream-native-coro
tcpserver: handle_stream can be a native coroutine
==
==================
3e2856b4;Ben Darnell;2016-12-13 20:57:11 +0800;Merge pull request #1911 from medariox/patch-1
Catch AttributeError in cpu_count()
==
==================
f8282c3e;Ben Darnell;2016-12-13 20:54:15 +0800;Merge branch 'master' into handle-stream-native-coro

==
==================
d258c178;Ben Darnell;2016-12-13 20:52:37 +0800;Merge pull request #1910 from ajdavis/preload-latin1
netutil: Preload the "latin1" codec
==
==================
d1571a0e;Ben Darnell;2016-12-13 20:47:40 +0800;Merge pull request #1908 from takluyver/i1907
Use errno_from_exception on error caught in Waker
==
==================
56cedff3;Ben Darnell;2016-12-13 20:43:36 +0800;Merge pull request #1902 from pitrou/tcpserver_stop_twice
Fix #1901: fix TCPServer.stop() when called twice
==
==================
fec053eb;Dario;2016-12-11 17:57:31 +0100;Catch AttributeError in cpu_count()
Running
```Python 2.7.12 (v2.7.12:d33e0cf91556, Jun 27 2016, 15:24:40) [MSC v.1500 64 bit (AMD64)] on win32```
on Windows 10 64 Bit

Noticed this issue while running ```tox``` with ```pytest tornado 0.4.5``` and ```tornado 4.4.2```.
==

tornado/process.py
==================
0efe23ed;A. Jesse Jiryu Davis;2016-12-10 07:34:31 -0500;netutil: Preload the "latin1" codec
For reasons not yet understood, some Solaris users get intermittent
"LookupError: unknown encoding: latin1", this has been reported to
fix it.

Fixes #584

==

tornado/netutil.py
==================
b4b24513;Thomas Kluyver;2016-12-07 11:14:05 +0100;Use errno_from_exception on error caught in Waker
Addresses part of gh-1907

==

tornado/platform/common.py
==================
e09a6f82;A. Jesse Jiryu Davis;2016-12-05 06:37:19 -0500;tcpserver: handle_stream can be a native coroutine

==

tornado/tcpserver.py
tornado/test/tcpserver_test.py
==================
7d62ce89;Antoine Pitrou;2016-11-30 17:40:46 +0100;Fix #1901: fix TCPServer.stop() when called twice

==

tornado/tcpserver.py
tornado/test/tcpserver_test.py
==================
7bb6bb4d;Andrey Sumin;2016-11-29 11:41:02 +0300;allow HTTPServerConnectionDelegate as routing targets

==

tornado/httputil.py
tornado/routing.py
tornado/test/routing_test.py
==================
883ce6df;Ping;2016-11-24 14:19:11 +0800;Rewrite url_concat function using PythonStandardLibrary

==

tornado/httputil.py
tornado/test/httputil_test.py
==================
fb2a9412;Ben Darnell;2016-11-20 21:51:19 +0800;Merge pull request #1889 from pitrou/future_warnings_at_shutdown
Avoid spurious warnings at shutdown
==
==================
a391e126;Ben Darnell;2016-11-20 20:30:49 +0800;Update warning config to fix tests on python 3.6 nightly

==

tornado/test/runtests.py
==================
9fb41ed0;Ben Darnell;2016-11-20 20:13:24 +0800;Merge pull request #1893 from pitrou/coverage_failure_py3_c_locale
Fix error in coverage runs under Py3 with a C locale
==
==================
f31750f2;Ben Darnell;2016-11-20 17:40:34 +0800;Merge pull request #1890 from pitrou/coroutine_introspection
Improve introspection of coroutines
==
==================
6f73e9bb;Ben Darnell;2016-11-20 17:14:48 +0800;Merge pull request #1881 from ajdavis/file-example
docs: Demonstrate uploading and receiving files
==
==================
1d8c0617;Andrey Sumin;2016-11-15 13:50:09 +0300;add docs for web module

==

tornado/web.py
==================
e0c489fd;Antoine Pitrou;2016-11-16 11:57:00 +0100;Fix error in coverage runs under Py3 with a C locale

==

tornado/test/template_test.py
tornado/test/util.py
==================
4e836b43;Antoine Pitrou;2016-11-15 12:41:16 +0100;Fix for PyPy

==

tornado/test/concurrent_test.py
==================
e068d99c;Antoine Pitrou;2016-11-15 12:35:29 +0100;Improve introspection of coroutines

==

docs/gen.rst
tornado/gen.py
tornado/test/gen_test.py
==================
802a50a3;Antoine Pitrou;2016-11-15 10:44:16 +0100;Avoid referencing globals in emulated is_finalizing()

==

tornado/util.py
==================
d49e5e87;Antoine Pitrou;2016-11-15 10:38:18 +0100;Avoid spurious warnings at shutdown
When there are still active coroutines at interpreter shutdown, you can
see sometimes warnings such as:

Exception ignored in: <bound method Future.__del__ of <tornado.concurrent.Future object at 0x7f56a8b142e8>>
Traceback (most recent call last):
  File "/home/antoine/tornado/tornado/concurrent.py", line 338, in __del__
TypeError: 'NoneType' object is not callable

These are distracting and don't bear any useful information, so silence them.

==

tornado/concurrent.py
tornado/test/concurrent_test.py
tornado/test/util_test.py
tornado/util.py
==================
384f049d;Andrey Sumin;2016-11-10 13:39:35 +0300;add docs for routing module

==

docs/releases/v2.3.0.rst
docs/releases/v3.2.0.rst
docs/routing.rst
docs/webframework.rst
tornado/routing.py
==================
dd047596;Andrey Sumin;2016-09-15 14:02:42 +0300;[WIP] routing mechanism draft

==

tornado/httputil.py
tornado/routing.py
tornado/test/routing_test.py
tornado/test/runtests.py
tornado/test/web_test.py
tornado/web.py
==================
1030ac74;Antoine Pitrou;2016-11-09 22:22:08 +0100;Merge branch 'master' of https://github.com/tornadoweb/tornado into bytearray_buffers

==
==================
9e2d8243;Antoine Pitrou;2016-11-08 23:17:59 +0100;Add comments and a docstring

==

tornado/iostream.py
==================
9bdc3176;A. Jesse Jiryu Davis;2016-11-05 11:59:21 -0400;Merge pull request #1867 from ajdavis/redirecthandler-url-pattern
web: Add regex support to RedirectHandler
==
==================
0fcbadc7;A. Jesse Jiryu Davis;2016-11-04 21:42:01 -0400;docs: Demonstrate uploading and receiving files

==

demos/file_upload/file_receiver.py
demos/file_upload/file_uploader.py
docs/guide/structure.rst
docs/httpclient.rst
tornado/web.py
==================
ef6957d1;A. Jesse Jiryu Davis;2016-10-27 23:03:35 -0400;web: Add regex support to RedirectHandler
The docs had wrongly claimed this was supported before. Implement it,
and update the docs to show the str.format-style syntax we chose.

Closes #1861.

==

docs/guide/structure.rst
tornado/test/web_test.py
tornado/web.py
==================
3d2bcbed;Ben Darnell;2016-11-04 12:03:34 +0800;Merge pull request #1862 from SuminAndrew/httpserver-adapters-refactor
refactor httpserver request adapters
==
==================
804ae3f8;Ben Darnell;2016-11-04 12:00:48 +0800;Merge pull request #1876 from pitrou/lockless_add_callback
Lockless implementation of add_callback
==
==================
c40e3a9e;Antoine Pitrou;2016-11-03 11:57:33 +0100;Also catch "ValueError: I/O operation on closed file"

==

tornado/platform/common.py
tornado/platform/posix.py
==================
d509f72d;Antoine Pitrou;2016-11-03 11:44:30 +0100;Try to fix spurious close() errors

==

tornado/ioloop.py
tornado/platform/common.py
tornado/platform/interface.py
tornado/platform/posix.py
==================
71cfaf66;Antoine Pitrou;2016-11-03 11:23:39 +0100;Do what it says on the tin

==

tornado/ioloop.py
==================
29b1429b;Antoine Pitrou;2016-11-03 10:48:55 +0100;Lockless implementation of add_callback
Fixes #1874.

==

tornado/ioloop.py
tornado/platform/common.py
tornado/platform/interface.py
tornado/platform/posix.py
==================
236d70ce;Antoine Pitrou;2016-11-02 00:41:05 +0100;Fix freezing the SSL write buffer

==

tornado/iostream.py
==================
eaff9f21;Antoine Pitrou;2016-11-01 22:06:50 +0100;Remove erroneous comment

==

tornado/test/iostream_test.py
==================
70b075f6;Antoine Pitrou;2016-11-01 22:02:43 +0100;Fix handling _write_buffer_frozen

==

tornado/iostream.py
==================
61a84a99;Antoine Pitrou;2016-11-01 21:50:18 +0100;Delete from the bytearray's front, instead of creating a new object

==

tornado/iostream.py
==================
8fcae631;Antoine Pitrou;2016-11-01 21:39:39 +0100;Allow memoryview in write()

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
992a00e0;Antoine Pitrou;2016-11-01 21:28:17 +0100;Use bytearray buffers in IOStream

==

tornado/iostream.py
==================
43de62c8;Andrey Sumin;2016-10-20 14:31:15 +0300;refactor httpserver request adapters

==

tornado/httpserver.py
==================
1852a03b;Leynos;2016-10-23 15:40:29 +0100;Add a `trusted_downstream` argument to HTTPServer, allowing trusted proxy hosts to be skipped in the `X-Forwarded-For` chain when using the `xheaders` option.

==

tornado/httpserver.py
tornado/test/httpserver_test.py
==================
4d783c64;Ben Darnell;2016-10-13 13:11:27 +0800;Merge pull request #1857 from SuminAndrew/default-host-test
add unit tests for an application with default_host
==
==================
e1f661c8;Ben Darnell;2016-10-13 12:58:54 +0800;Merge pull request #1844 from ajdavis/document-httprequest-timeout
httpclient: Document the defaults.
==
==================
13f71d06;Andrey Sumin;2016-10-02 17:36:49 +0300;add unit tests for an application with default_host

==

tornado/test/web_test.py
tornado/web.py
==================
50f4ebc1;A. Jesse Jiryu Davis;2016-09-23 10:01:29 -0400;httpclient: Document the defaults.

==

tornado/httpclient.py
==================
53d23fbe;Ben Darnell;2016-10-01 12:38:04 +0800;Merge remote-tracking branch 'origin/branch4.4'

==
==================
c0f99bac;A. Jesse Jiryu Davis;2016-09-30 18:38:48 -0400;Merge pull request #1852 from bdarnell/parse-cookie
httputil: Rewrite cookie parsing
==
==================
1664ce3d;Ben Darnell;2016-10-01 00:03:23 +0800;Release notes and version bump for 4.4.2

==

docs/releases.rst
docs/releases/v4.4.2.rst
setup.py
tornado/__init__.py
==================
cb247cb8;Ben Darnell;2016-09-30 23:39:29 +0800;httputil: Rewrite cookie parsing
Move from the python standard library to a parsing function copied from
Django. This parser more closely matches browser behavior. The primary
motivation is that differences between server-side and browser cookie
parsing can lead to an XSRF bypass, as in
https://hackerone.com/reports/26647. A secondary benefit is that this
makes it possible to work with cookie headers containing cookies that
are invalid according to the spec, which is a surprisingly common
request.

Closes #1851
Closes #633
Closes #1434
Closes #1176

==

tornado/httputil.py
tornado/test/httputil_test.py
tornado/test/web_test.py
==================
f43ec69f;A. Jesse Jiryu Davis;2016-08-11 15:24:27 -0400;Update reference to asyncio's add_reader doc

==

tornado/platform/asyncio.py
==================
92f29b8f;Ben Darnell;2016-09-22 21:29:13 +0800;Merge pull request #1838 from ajdavis/issue-1803-callback-returns-dict
io_loop: Don't spin CPU if callback returns {}
==
==================
7c9ca507;A. Jesse Jiryu Davis;2016-09-21 15:47:39 -0400;io_loop: Don't spin CPU if callback returns {}
Fixes an infinite loop by preventing _run_callback from directly calling
add_callback again when a callback returns {} or [].

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
bec14a91;Ben Darnell;2016-09-21 11:06:28 +0800;Merge pull request #1834 from tornadoweb/stable
Merge pull request #1808 from darabos/patch-1
==
==================
4ecc31a5;Ben Darnell;2016-09-11 20:17:28 +0800;Merge pull request #1825 from samueldg/fix/testing_typos
Fix various typos in testing.py
==
==================
f6dc9683;Ben Darnell;2016-09-11 20:00:15 +0800;Merge pull request #1821 from lilydjwg/master
tcpclient: try next address when protocol not supported
==
==================
e40b89a8;依云;2016-09-05 18:03:36 +0800;tcpclient: catch any `socket()` errors
so we can try next addresses, e.g. when trying to connect to IPv6
addresses on OSes with IPv6 disabled which fails with a protocol not
supported error

This fixes #1809.

==

tornado/tcpclient.py
==================
93947fb3;Samuel Dion-Girardeau;2016-09-08 21:42:51 -0400;Fix various typos in testing.py

==

tornado/testing.py
==================
9d76ab92;Ben Darnell;2016-09-06 17:24:53 +0800;Merge pull request #1823 from SuminAndrew/update-curl-version
deprecate libcurl < 7.22.0 and remove Ubuntu 10.04 Vagrant configs
==
==================
e17bdfeb;Andrey Sumin;2016-09-06 11:28:28 +0300;deprecate libcurl < 7.22.0 and remove Ubuntu 10.04 Vagrant configs

==

maint/vm/README
maint/vm/ubuntu10.04/Vagrantfile
maint/vm/ubuntu10.04/setup.sh
maint/vm/ubuntu10.04/tox.ini
tornado/httpclient.py
==================
c9a4adb0;Michael V. DePalatis;2016-09-05 20:59:42 +0200;Only check if sys.stderr isatty once

==

tornado/log.py
==================
f8fa4a15;Michael V. DePalatis;2016-09-05 20:45:08 +0200;Properly condition color support with colorama

==

tornado/log.py
==================
c9269525;Ben Darnell;2016-09-05 21:35:57 +0800;docs: Document some subtleties of native coroutines

==

docs/guide/coroutines.rst
==================
ac340a73;Ben Darnell;2016-09-05 21:18:20 +0800;websocket: Add security warning to check_origin docs

==

tornado/websocket.py
==================
0207ec2b;Ben Darnell;2016-09-05 21:13:32 +0800;httpserver_test: increase timeout
This test was flaky in https://travis-ci.org/tornadoweb/tornado/jobs/157573739

==

tornado/test/httpserver_test.py
==================
1c21be08;Ben Darnell;2016-09-05 21:08:00 +0800;Merge pull request #1818 from zakkie/fix/doc-string-print
use print function insted of stetement at doc-string
==
==================
0707e943;Akihiro Yamazaki;2016-09-05 21:36:37 +0900;make sure to same output on python 2 and 3

==

tornado/httpclient.py
==================
9dbf1d8a;Ben Darnell;2016-09-05 19:52:31 +0800;Merge pull request #1819 from wonderay/master
curl_httpclient: Add proxy_auth_mode to support 'digest' for proxy authentication
==
==================
97c7ff2c;Ben Darnell;2016-09-05 16:06:51 +0800;Merge pull request #1782 from AaronOpfer/1769
Tie Runner lifetime to lifetime of result future or coroutine function (whichever is GCed first)
==
==================
3184e62c;zhimin;2016-09-02 17:23:09 +0800;curl_httpclient: Add proxy_auth_mode to support digest for proxy authentication

==

tornado/curl_httpclient.py
tornado/httpclient.py
tornado/simple_httpclient.py
==================
7d72786d;Akihiro Yamazaki;2016-09-02 14:52:06 +0900;use print function insted of stetement at doc-string

==

tornado/httpclient.py
tornado/locale.py
tornado/template.py
==================
43413a2c;Michael V. DePalatis;2016-08-31 13:59:18 +0200;Only use colorama when curses unavailable
This also uses dimmer colors for Windows. This can be tested with
the following script:

```python
import logging
from tornado.log import enable_pretty_logging

logger = logging.getLogger()
enable_pretty_logging()
logger.setLevel(logging.DEBUG)

logger.info("INFO")
logger.warning("WARNING")
logger.debug("DEBUG")
logger.error("ERROR")
print("normal")
```

==

tornado/log.py
==================
f539be14;A. Jesse Jiryu Davis;2016-08-29 12:42:04 -0400;Merge pull request #1815 from mike820324/master
Add import tcpclient test in import_test
==
==================
bd2f98f2;mike820324;2016-08-29 10:03:09 +0800;Update import_test.
- Add test for import tcpclient
- Remove comment line.

==

tornado/test/import_test.py
==================
524674ae;A. Jesse Jiryu Davis;2016-08-25 22:06:04 -0400;Merge pull request #1808 from darabos/patch-1
Fix "resuse_port" typo in documentation

==
==================
1d3d8013;A. Jesse Jiryu Davis;2016-08-24 15:28:01 -0400;Merge pull request #1808 from darabos/patch-1
Fix "resuse_port" typo in documentation
==
==================
e66728af;Daniel Darabos;2016-08-24 16:39:58 +0200;Fix typo in documentation.

==

tornado/netutil.py
==================
7b180041;Ben Darnell;2016-08-20 11:56:15 -0400;Merge pull request #1805 from nvllsvm/master
Fix comment typos
==
==================
5287f93c;Andrew Rabert;2016-08-20 11:25:21 -0400;Fix typos

==

tornado/web.py
==================
24a8b225;Aaron Opfer;2016-07-26 08:45:08 -0500;Tie Runner lifetime to Future's existence
Fixes #1769

==

tornado/gen.py
tornado/test/gen_test.py
==================
4c95212c;A. Jesse Jiryu Davis;2016-08-14 15:17:58 -0400;Merge pull request #1797 from mivade/chat-demo-update
Chat demo update
==
==================
54e9d565;Michael V. DePalatis;2016-08-12 16:53:05 +0200;Clear input when submitting message

==

demos/chat/static/chat.js
demos/chat/templates/index.html
==================
6fb84265;Michael V. DePalatis;2016-08-12 16:37:20 +0200;Update chat demo for jQuery 3.1

==

demos/chat/static/chat.js
demos/chat/templates/index.html
==================
28f6015d;Ben Darnell;2016-08-12 09:59:13 -0400;Merge pull request #1794 from mivade/tcp-demo
Add TCP echo demo
==
==================
85fb6a29;Michael V. DePalatis;2016-08-12 08:29:55 +0200;Add suffix to README

==

demos/tcpecho/README.md
==================
07f76904;Michael V. DePalatis;2016-08-12 08:29:24 +0200;Remove unused clients set

==

demos/tcpecho/server.py
==================
39c3d95d;Michael V. DePalatis;2016-08-10 22:04:20 +0200;Include pared-down version of echo server in docs

==

tornado/tcpserver.py
==================
1920c86d;Michael V. DePalatis;2016-08-10 21:55:55 +0200;Add TCP echo demo

==

demos/tcpecho/README
demos/tcpecho/client.py
demos/tcpecho/server.py
==================
32412692;Ben Darnell;2016-08-11 20:50:02 -0400;Merge pull request #1795 from ajdavis/fix-add-reader-sphinx-err
Update reference to asyncio's add_reader doc
==
==================
c9f2a669;A. Jesse Jiryu Davis;2016-08-11 15:24:27 -0400;Update reference to asyncio's add_reader doc

==

tornado/platform/asyncio.py
==================
4f894630;Michael V. DePalatis;2016-08-11 19:19:54 +0200;Use colorama for color logs when available

==

tornado/log.py
==================
8b98d657;A. Jesse Jiryu Davis;2016-08-08 22:19:50 -0400;Merge pull request #1792 from samuelchen/demo_websocket_update
update demo/websocket for updating JQuery to 3.1.0
==
==================
1330854b;Samuel Chen;2016-08-08 16:01:50 +0800;update demo/websocket for updating JQuery to 3.1.0

==

demos/websocket/static/chat.js
demos/websocket/templates/index.html
==================
6fd9c79c;A. Jesse Jiryu Davis;2016-08-02 08:46:51 -0400;Merge pull request #1786 from mr-ping/master
Change the address of Morsel description
==
==================
365aa643;Ping Yang;2016-08-02 19:37:37 +0800;Change the address of Morsel description

==

tornado/web.py
==================
26d536cb;Ben Darnell;2016-07-27 14:47:56 -0400;Merge pull request #1783 from matee911/master
docs: Fixed typo in release notes
==
==================
1dfe38e9;matee;2016-07-27 16:10:12 +0200;Fixed typo in release notes

==

docs/releases/v4.1.0.rst
==================
098be29c;Ben Darnell;2016-07-26 10:05:10 -0400;Merge pull request #1781 from bdarnell/options-path
options_test: Absolutize `__file__`
==
==================
d588bfb7;Ben Darnell;2016-07-26 00:03:11 -0400;options_test: Absolutize __file__
Python 3.4 guarantees an absolute path, but in older versions relative
paths are used in some cases.

Fixes #1780

==

tornado/test/options_test.py
==================
243feb9e;Ben Darnell;2016-07-25 23:45:45 -0400;travis.yml: Reproduce #1780 in CI

==

.travis.yml
==================
613299c6;Ben Darnell;2016-07-24 21:35:46 -0400;Merge pull request #1778 from protoss-player/master
Fix for uppercase "Transfer-Encoding" values
==
==================
d1cab4af;Ben Darnell;2016-07-24 20:58:27 -0400;httpclient: clarify docs of HTTPResponse.body
Closes #1775

==

tornado/httpclient.py
==================
ead84972;Ben Darnell;2016-07-24 20:52:23 -0400;Merge pull request #1776 from SuminAndrew/exec_in-rewrite
simplify tornado.util.exec_in
==
==================
e223ca5f;Ben Darnell;2016-07-24 20:45:13 -0400;Merge pull request #1772 from stiletto/master
curl_httpclient: Set curl PROTOCOLS and REDIR_PROTOCOLS to HTTP|HTTPS
==
==================
af332af2;Ben Darnell;2016-07-23 13:26:17 -0400;Bump master version number to 4.5.dev1

==

setup.py
tornado/__init__.py
==================
087085ab;Ben Darnell;2016-07-23 12:27:16 -0400;Set version number to 4.4.1

==

docs/releases.rst
docs/releases/v4.4.1.rst
setup.py
tornado/__init__.py
==================
c246ee88;Ben Darnell;2016-07-23 12:13:51 -0400;Merge pull request #1777 from bdarnell/non-reversible-url
web: URLs that cannot be unescaped should be allowed
==
==================
1131c9b5;Vadim Semenov;2016-07-22 22:28:30 +0300;Fix handling of chunked-encoded requests with uppercase "Transfer-Encoding" value
`HTTP1Connection._can_keep_alive` applied lower() to the header's value, but
`_read_body` didn't.

==

tornado/http1connection.py
tornado/test/httpserver_test.py
==================
c971a7da;Ben Darnell;2016-07-22 14:28:52 -0400;web: URLs that cannot be unescaped should be allowed
Fixes a regression in version 4.4

Fixes #1770

==

tornado/test/web_test.py
tornado/web.py
==================
c8c9a08c;Andrey Sumin;2016-07-21 16:11:06 +0300;simplify tornado.util.exec_in

==

tornado/util.py
==================
a9493d26;stiletto;2016-07-20 00:46:02 +0400;curl_httpclient: Set curl PROTOCOLS and REDIR_PROTOCOLS to HTTP|HTTPS

==

tornado/curl_httpclient.py
==================
79ef301e;Ben Darnell;2016-07-15 10:53:37 -0400;Set version number to 4.4

==

docs/releases/v4.4.0.rst
setup.py
tornado/__init__.py
==================
9c6d3aab;Ben Darnell;2016-07-12 22:52:05 -0400;Merge pull request #1544 from gitter-badger/gitter-badge
Add a Gitter chat badge to README.rst
==
==================
fd1f12d4;Ben Darnell;2016-07-10 11:04:21 -0400;Add ExpectLog to a noisy test case

==

tornado/test/simple_httpclient_test.py
==================
973e83e3;Ben Darnell;2016-07-10 09:54:22 -0400;demos/benchmark: use current() instead of instance()
Improves compatibility with some IOLoop implementations.

==

demos/benchmark/benchmark.py
==================
24660996;Ben Darnell;2016-07-08 14:16:41 -0400;Set version number to 4.4b1

==

setup.py
tornado/__init__.py
==================
b39858e2;Ben Darnell;2016-07-08 14:07:26 -0400;Docs and release notes for 4.4

==

docs/conf.py
docs/index.rst
docs/releases.rst
docs/releases/v4.4.0.rst
tornado/gen.py
tornado/tcpserver.py
tornado/testing.py
==================
57d15bb2;Ben Darnell;2016-07-01 18:06:39 +0200;Merge pull request #1743 from nickcoutsos/204-content-length
Allow 204 responses without Content-Length/Transfer-Encoding
==
==================
a0330fcc;Nick Coutsos;2016-06-22 22:45:53 -0400;Skip testing malformed 204 responses for curl http client

==

tornado/test/simple_httpclient_test.py
==================
1052e89a;Nick Coutsos;2016-06-21 19:34:55 -0400;Reorganize 204-related test cases

==

tornado/test/simple_httpclient_test.py
==================
72896e1f;Ben Darnell;2016-06-15 21:53:34 -0400;httputil: Remove extraneous whitespace in str(HTTPHeaders)

==

tornado/httputil.py
==================
d63cb6a7;zjjott;2016-05-04 17:52:33 +0800;httputil: add __str__ method to HTTPHeader

==

tornado/httputil.py
tornado/test/httputil_test.py
==================
113b9402;Ben Darnell;2016-06-12 15:40:11 -0700;Merge pull request #1750 from bdarnell/nightly
test: Silence PendingDeprecationWarning on nightly
==
==================
146a07e8;Ben Darnell;2016-06-12 16:28:35 -0400;test: Silence PendingDeprecationWarning on nightly python

==

tornado/test/runtests.py
==================
77e36a63;Ben Darnell;2016-06-12 12:26:27 -0700;Merge pull request #1744 from zhulongcheng/line-too-long
line too long
==
==================
7ec71d46;Ben Darnell;2016-06-12 14:12:45 -0400;netutil_test: use 127.0.0.1 instead of localhost
The first binding of the port was to 127.0.0.1, so the second should be
too. This may solve #1734.

==

tornado/test/netutil_test.py
==================
a48f65a4;Ben Darnell;2016-06-12 13:41:20 -0400;Allow any yieldable in with_timeout

==

tornado/gen.py
tornado/test/gen_test.py
==================
5ae36975;Ben Darnell;2016-06-12 12:22:44 -0400;Standardize exceptions raised by Resolvers
Fixes #1721

==

tornado/netutil.py
tornado/platform/caresresolver.py
tornado/platform/twisted.py
tornado/test/netutil_test.py
==================
0c439784;zhulongcheng;2016-06-08 22:41:27 +0800;line too long

==

tornado/ioloop.py
==================
48d8144a;Nick Coutsos;2016-06-07 21:15:17 -0400;Allow 204 responses without Content-Length/Transfer-Encoding

==

tornado/http1connection.py
tornado/test/simple_httpclient_test.py
tornado/test/web_test.py
tornado/web.py
==================
11bd951c;Ben Darnell;2016-06-04 18:13:31 -0400;Merge pull request #1728 from mivade/aiomainloop-hint
Add hint about installing AsyncIOMainLoop early
==
==================
11271af6;Ben Darnell;2016-06-04 18:12:26 -0400;Merge pull request #1731 from adamchainz/readthedocs.io
Convert readthedocs link for their .org -> .io migration for hosted projects
==
==================
a591d270;Adam Chainz;2016-05-29 15:04:33 +0100;Convert readthedocs link for their .org -> .io migration for hosted projects
As per their email ‘Changes to project subdomains’:

> Starting today, Read the Docs will start hosting projects from subdomains on the domain readthedocs.io, instead of on readthedocs.org. This change addresses some security concerns around site cookies while hosting user generated data on the same domain as our dashboard.

Test Plan: Manually visited all the links I’ve modified.

==

docs/guide/coroutines.rst
docs/releases/v4.2.0.rst
tox.ini
==================
2a62361d;Vincent Maillol;2016-05-29 10:43:47 +0200;test_options refactoring

==

tornado/test/options_test.py
tornado/test/options_test_types.cfg
==================
f1b0c0ef;Michael V. DePalatis;2016-05-28 19:37:48 +0200;Make note on alternative IOLoops more general

==

tornado/ioloop.py
tornado/platform/asyncio.py
tornado/platform/twisted.py
==================
6523b3ad;Ben Darnell;2016-05-28 13:29:56 -0400;Merge pull request #1727 from xiyanxiyan10/master
better format for process.py
==
==================
c26ccd97;Ben Darnell;2016-05-28 13:01:37 -0400;Merge pull request #1729 from dvolodin7/patch-1
_Timeout.__lt__ speedup
==
==================
dcc03a20;Ben Darnell;2016-05-28 12:43:01 -0400;Merge pull request #1725 from LocutusOfBorg/patch-1
Fix testsuite failure when sockets is not defined
==
==================
8bf93234;Ben Darnell;2016-05-28 12:08:27 -0400;Merge pull request #1720 from daftshady/master
Fixed #1718
==
==================
fb639dc7;Dmitry Volodin;2016-05-26 02:17:38 +0400;_Timeout.__lt__ speedup
One of our services uses a lots of callbacks (~15k per IOLoop) and performs massive network IO. During profiling we'd found that significant amount of time consumed in the _Timeout.__lt__ method. Current implementation constantly builds two tuples per comparison. Proposed one pre-builds tuple
during _Timeout creation. Its about ~40% faster. 

In [1]: from tornado.ioloop import _Timeout, IOLoop
In [2]: io = IOLoop.current()
In [3]: t0 = _Timeout(io.time(), None, io)
In [4]: t1 = _Timeout(io.time(), None, io)
In [5]: %timeit t0 < t1
1000000 loops, best of 3: 587 ns per loop
In [6]: %timeit t0 < t1
1000000 loops, best of 3: 336 ns per loop
==

tornado/ioloop.py
==================
5b8f6103;Vincent Maillol;2016-05-25 21:07:38 +0200;Parse option in config file when value is str

==

setup.py
tornado/options.py
tornado/test/options_test.py
tornado/test/options_test_types.cfg
tornado/test/options_test_types_str.cfg
==================
93ddccca;Michael V. DePalatis;2016-05-25 19:56:34 +0200;Add hint about installing AsyncIOMainLoop early

==

tornado/platform/asyncio.py
==================
12aa89f7;xiyanxiyan10;2016-05-25 17:27:06 +0800;better format for process.py

==

tornado/process.py
==================
dbde7cf1;Gianfranco Costamagna;2016-05-24 12:29:51 +0200;Fix testsuite failure when sockets is not defined
this fixes the UnboundLocalError issue
"UnboundLocalError: local variable 'sockets' referenced before assignment"
Thanks Ondřej Nový for the help
==

tornado/test/netutil_test.py
==================
0075fd9c;daftshady;2016-05-22 14:05:08 +0900;Used read_until_close instead of relying on timing

==

tornado/test/httpserver_test.py
==================
a97ec956;Ben Darnell;2016-05-22 00:35:44 -0400;Skip a flaky test on AsyncIOLoop

==

tornado/platform/asyncio.py
tornado/test/ioloop_test.py
==================
2c85f311;Ben Darnell;2016-05-22 00:09:58 -0400;Skip another subprocess test that is flaky on twisted

==

tornado/test/process_test.py
==================
8d1d89b0;Ben Darnell;2016-05-21 21:55:21 -0400;Merge pull request #1722 from bdarnell/windows-error-test
Fix error raised in set_close_exec on windows
==
==================
47af4c0b;Ben Darnell;2016-05-21 21:32:13 -0400;Document Subprocess as posix-only
Fixes #1585

==

tornado/process.py
==================
b49c87a7;Ben Darnell;2016-05-21 20:23:51 -0400;Fix error raised in set_close_exec on windows
This slightly improves error messaging when tornado.process.Subprocess
is used in windows.

Fixes #1703

==

tornado/platform/windows.py
tornado/test/runtests.py
tornado/test/windows_test.py
==================
555f3a06;Ben Darnell;2016-05-21 20:15:20 -0400;Increase timeout on a flaky test

==

tornado/test/ioloop_test.py
==================
44cf64f8;Ben Darnell;2016-05-21 19:44:54 -0400;Merge pull request #1712 from yegorich/python2-deps
Don't require backports.ssl_match_hostname on Python 2.7.9 and newer
==
==================
f79457a9;Ben Darnell;2016-05-21 18:51:33 -0400;Disable intrusive codecov features

==

codecov.yml
==================
1aa5a5bc;daftshady;2016-05-15 23:02:43 +0900;Add invalid content-length testcase

==

tornado/test/httpserver_test.py
==================
d8d9a84c;daftshady;2016-05-15 23:01:17 +0900;Handle invalid content-length

==

tornado/http1connection.py
==================
447bf2e0;Antoine Pietri;2016-05-09 11:08:07 +0000;gen: handle None in convert_yielded

==

tornado/gen.py
==================
4576fb07;Vincent Maillol;2016-04-30 22:40:03 +0200;Update options in order to have same behavior from config file or command line

==

setup.py
tornado/options.py
tornado/test/options_test.py
tornado/test/options_test_types.cfg
==================
24e7d3d1;Yegor Yefremov;2016-05-04 09:26:22 +0200;Don't require backports.ssl_match_hostname on Python 2.7.9 and newer
As Python 3.2 support was dropped one can check 2.7.x dependency only.

Tornado running on Python 2.7.9+ doesn't need this backported package,
but some Python packages like circus check package dependencies at
runtime and insist on having backports.ssl_match_hostname installed,
though they don't even use this particular feature.

So checking for exact version makes life of package maintainer easier
especially on embedded Linux distributions like Buildroot.

==

setup.py
==================
c20c44d7;Ben Darnell;2016-04-30 17:50:24 +0200;Merge pull request #1704 from thinkerou/master
Add shebang for webspider.py
==
==================
3dd1b182;thinkerou;2016-04-30 08:28:10 +0800;Add shebang for webspider.py

==

demos/webspider/webspider.py
==================
48a6bfb9;Ben Darnell;2016-04-24 14:39:10 -0400;Merge pull request #1689 from harboecp/master
Avoid uncaught exception when _xsrf argument could not be decoded
==
==================
bb36f19d;Ben Darnell;2016-04-24 12:43:14 -0400;Add type annotations to util.py
Mypy now reports "15% imprecise", down from 25%.

==

tornado/util.py
==================
fc87190c;Ben Darnell;2016-04-24 12:17:21 -0400;Add .mypy_cache to gitignore

==

.gitignore
==================
55e7730c;Ben Darnell;2016-04-24 10:04:15 -0400;Remove some no-longer-necessary mypy workarounds
Made obsolete by python/mypy#1010

==

tornado/template.py
tornado/test/template_test.py
tornado/test/web_test.py
==================
f4a306d7;Ben Darnell;2016-04-23 20:11:54 -0400;Merge pull request #1699 from bdarnell/header-types
Begin to fix type confusion in HTTPHeaders.
==
==================
10da549c;Ben Darnell;2016-04-23 19:34:23 -0400;Begin to fix type confusion in HTTPHeaders.
Values in HTTPHeaders were typed inconsistently: the class itself
assumed that values were of type str, while many callers assumed they
were bytes. Since headers are practically restricted to ascii, this
would work on python 2 but fail when certain combinations were
encountered on python 3 (notably the combination of GzipContentEncoding
with multiple preexisting Vary headers).

This commit adds a test and fixes the bug, and also adds enough type
annotations that mypy was able to report errors in the old incorrect
code.

Fixes #1670

==

tornado/escape.py
tornado/http1connection.py
tornado/httputil.py
tornado/test/web_test.py
tornado/util.py
tornado/web.py
==================
d71026ab;Ben Darnell;2016-04-19 22:37:15 -0400;Merge pull request #1694 from zakkie/fix/doc-string
options.parse_config_file also enable tornado.log.LogFormatter
==
==================
773ecb4e;Akihiro Yamazaki;2016-04-19 14:41:58 +0900;fix Formatter description in docstring

==

tornado/log.py
==================
49fef538;Ben Darnell;2016-04-17 13:01:41 -0400;More type:ignore comments for `mypy --py2`

==

tornado/gen.py
tornado/locale.py
tornado/log.py
tornado/platform/asyncio.py
tornado/testing.py
==================
ba81424a;harboecp;2016-04-12 15:14:01 +0200;Avoid uncaught exception when _xsrf argument could not be decoded. This is primarily to avoid "TypeError: a bytes-like object is required, not 'NoneType" in "check_xsrf_cookie"

==

tornado/test/web_test.py
tornado/web.py
==================
b6998247;Ben Darnell;2016-04-10 20:59:58 -0400;Add type: ignore comments to make mypy happy

==

tornado/auth.py
tornado/autoreload.py
tornado/curl_httpclient.py
tornado/gen.py
tornado/httpclient.py
tornado/httputil.py
tornado/iostream.py
tornado/locale.py
tornado/netutil.py
tornado/platform/asyncio.py
tornado/platform/caresresolver.py
tornado/platform/interface.py
tornado/platform/twisted.py
tornado/platform/windows.py
tornado/process.py
tornado/template.py
tornado/test/concurrent_test.py
tornado/test/curl_httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/import_test.py
tornado/test/iostream_test.py
tornado/test/netutil_test.py
tornado/test/options_test.py
tornado/test/twisted_test.py
tornado/test/util.py
tornado/test/util_test.py
tornado/test/web_test.py
tornado/test/wsgi_test.py
tornado/testing.py
tornado/web.py
==================
9f723211;Ben Darnell;2016-04-10 15:53:45 -0400;Fix nearly all flake8 warnings except long lines.

==

tornado/auth.py
tornado/concurrent.py
tornado/escape.py
tornado/http1connection.py
tornado/ioloop.py
tornado/locks.py
tornado/options.py
tornado/queues.py
tornado/test/ioloop_test.py
tornado/test/twisted_test.py
tornado/test/web_test.py
tornado/test/wsgi_test.py
tornado/web.py
==================
24111b6a;Ben Darnell;2016-04-10 15:43:51 -0400;Remove unused import and obsolete comment

==

tornado/_locale_data.py
==================
8e6a3bef;Ben Darnell;2016-04-10 15:42:50 -0400;Run autopep8

==

tornado/auth.py
tornado/test/auth_test.py
tornado/test/simple_httpclient_test.py
tornado/test/web_test.py
tornado/testing.py
==================
b9c87571;Ben Darnell;2016-04-10 15:41:29 -0400;Mass update of dependency versions

==

maint/requirements.in
maint/requirements.txt
==================
f568d276;Ben Darnell;2016-04-10 15:27:33 -0400;Switch to mypy-friendly conditional imports throughout

==

tornado/auth.py
tornado/httputil.py
tornado/process.py
tornado/simple_httpclient.py
tornado/test/options_test.py
tornado/test/twisted_test.py
tornado/test/web_test.py
tornado/testing.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
b3f5b676;Ben Darnell;2016-04-09 16:50:48 -0400;Merge pull request #1648 from zhicheng/master
render() should raise an error when finish() already called
==
==================
50f9eedd;Ben Darnell;2016-04-03 16:46:03 -0400;options: add __file__ to config file parsing
Fixes #1666

==

tornado/options.py
tornado/test/options_test.cfg
tornado/test/options_test.py
==================
0621a0ad;Ben Darnell;2016-04-01 19:28:04 -0400;Clarify comment in ioloop
"update" could be read as meaning `dict.update`, so use "modify" instead. (the only actual modification is a removal in `remove_handler`)
==

tornado/ioloop.py
==================
060c0a91;Ben Darnell;2016-03-31 16:57:26 -0400;Merge pull request #1678 from JZQT/master
Modify an inappropriate comments for tornado.httpclient.AsyncHTTPClient
==
==================
667883aa;JZQT;2016-03-31 23:30:01 +0800;Modify an inappropriate comments for tornado.httpclient.AsyncHTTPClient

==

tornado/httpclient.py
==================
350e6885;Ben Darnell;2016-03-31 08:27:40 -0400;Merge pull request #1677 from CaselIT/patch-1
Added missing % to format a string.
==
==================
1672bcca;Federico Caselli;2016-03-31 13:59:31 +0200;Added missing % to format a string.

==

tornado/web.py
==================
f0090f72;Ben Darnell;2016-03-25 17:13:36 +0100;Merge pull request #1674 from splinterific/patch-1
Updated Facebook permissions
==
==================
ec6470ef;Mark Preston;2016-03-25 14:08:17 +0000;Updated Facebook permissions

==

demos/facebook/facebook.py
==================
8fb0164e;A. Jesse Jiryu Davis;2016-03-13 13:11:05 -0400;Merge pull request #1664 from bretsko/master
fixed broken link (anchor)
==
==================
2ff349f6;Oleksandr Bretsko;2016-03-13 11:59:17 -0500;fixed broken link (anchor)

==

README.rst
==================
909852ca;Ben Darnell;2016-03-12 22:38:52 -0500;Merge pull request #1662 from malcm/patch-1
Verifying Facebook Graph API Calls
==
==================
4063e8e5;Martin Malchow;2016-03-11 14:29:51 +0100;fix missing comma

==

tornado/auth.py
==================
ae04e81d;malcm;2016-03-11 14:11:45 +0100;Verifying Facebook Graph API Calls
Verification with appsecret_proof can be used: See https://developers.facebook.com/docs/graph-api/securing-requests
==

tornado/auth.py
==================
3ca11422;A. Jesse Jiryu Davis;2016-03-03 21:13:06 -0500;Merge branch 'tao12345666333-hotfix-doc-web-current-user'
* tao12345666333-hotfix-doc-web-current-user:
  fix tornado/web.py #L1075 current_user docstring example

==
==================
48c71749;TaoBeier;2016-03-03 22:39:36 +0800;fix tornado/web.py #L1075 current_user docstring example
The example has unexpected indent.

==

tornado/web.py
==================
8ad43811;Mark Henderson;2016-02-26 10:46:40 -0500;Moved the rendering of CSS and JS assets to their own instance methods

==

tornado/web.py
==================
4e8ad475;Riccardo Magliocchetti;2016-02-22 17:45:21 +0100;docs: give more hints on why windows is unsupported

==

docs/index.rst
==================
d49643b5;Zhicheng Wei;2016-02-22 16:02:01 +0800;render() should raise an error when finish() already called

==

tornado/web.py
==================
0eab6312;Ben Darnell;2016-02-21 22:13:15 -0500;Merge pull request #1647 from jonathansp/improving-coverage
Add a test for HTTPError.__str__ when it uses httputils.
==
==================
cfde30d4;Jonathan Prates;2016-02-19 16:52:53 -0200;Add a test for HTTPError.__str__ when it uses httputils.

==

tornado/test/web_test.py
==================
078a4d1f;Thomas Kluyver;2016-02-15 14:41:27 +0000;Integrate websocket periodic pinging code from Jupyter
Closes gh-1640

As Ben requested on #1640, I've changed it to work in seconds rather
than milliseconds.

I'm not sure how we'd test something like this. I don't think we have
tests for it in Jupyter.

==

docs/web.rst
tornado/websocket.py
==================
34903f9e;Ben Darnell;2016-02-14 19:04:27 -0500;Fix HTTP1Connection for responses without content-length
Fixes #1598

==

tornado/http1connection.py
tornado/test/http1connection_test.py
tornado/test/runtests.py
==================
d7d9c467;Ben Darnell;2016-02-14 14:00:00 -0500;Handle non-ascii headers correctly in curl_httpclient.
Fixes #1608

==

tornado/curl_httpclient.py
tornado/test/httpclient_test.py
==================
7b61d9ea;Ben Darnell;2016-02-13 22:30:50 -0500;Document and test `{#!` syntax.
Fixes #1606

==

tornado/template.py
tornado/test/template_test.py
==================
8157a19a;Ben Darnell;2016-02-13 21:49:33 -0500;Update docs for re_unescape

==

tornado/util.py
tornado/web.py
==================
4cccd38a;Ben Darnell;2016-02-13 21:43:14 -0500;Merge pull request #1619 from afg984/urlspec-reverse-unescape
reverse_url should unescape regex string
==
==================
22d884c5;Ben Darnell;2016-02-13 21:15:34 -0500;Define `httpclient.HTTPError.__repr__`
This avoids stack overflow in the default `__repr__`.

Fixes #1624

==

tornado/httpclient.py
tornado/test/httpclient_test.py
==================
e2dac2cf;Ben Darnell;2016-02-13 19:40:49 -0500;Add defaults to template.ParseError arguments.
Fixes #1631

==

tornado/template.py
tornado/test/template_test.py
==================
b9919bf1;Ben Darnell;2016-02-13 19:11:41 -0500;Improve grammar in docs
Fixes #1629

==

docs/guide/intro.rst
==================
759ac2df;Ben Darnell;2016-02-13 19:09:07 -0500;Improve docs of URLSpec capturing groups
Inspired by https://groups.google.com/d/msg/python-tornado/eQ3wyusHCio/4eVVANYxAAAJ

==

docs/web.rst
tornado/web.py
==================
02dc4f7a;Ben Darnell;2016-02-07 20:30:14 -0500;Add a test for path arguments in websockets.

==

tornado/test/websocket_test.py
==================
4cd47d66;Jan van Hellemond;2016-02-06 15:13:04 +0100;Added SVG to compressible mime types
This adds the mime type `image/svg+xml` to the whitelist of compressible mime types for the tornado.web.GZipContentEncoding class.

SVG images are served with the mime type `image/svg+xml`, but are not compressed by the GZipContentEncoding transform. My first thought was to add all mime types ending with `+xml`, but that might need a bit more research.
==

tornado/web.py
==================
b22da52c;Ben Darnell;2016-01-16 17:07:48 -0500;Move towards mypy-friendly patterns.
This change eliminates warnings in several of Tornado's lower-level
modules (although there's not much actual type checking yet).

==

tornado/concurrent.py
tornado/escape.py
tornado/gen.py
tornado/ioloop.py
tornado/log.py
tornado/netutil.py
tornado/platform/auto.pyi
tornado/speedups.pyi
tornado/util.py
==================
e85e0b68;afg;2016-01-06 00:43:20 +0800;re_unescape with a much simpler method; raise TypeError on invalid input

==

tornado/test/util_test.py
tornado/util.py
tornado/web.py
==================
c42ebde1;Ben Darnell;2015-12-31 17:56:58 -0500;Merge pull request #1621 from bheesham/dnf
Update hints for popular operating systems.
==
==================
6b312f7a;Ben Darnell;2015-12-31 17:34:57 -0500;Merge pull request #1615 from ColorFuzzy/master
Differentiate HTTPError(599, "Timeout") raised by SimpleAsyncHTTPClient
==
==================
4583ee48;Ben Darnell;2015-12-31 13:56:03 -0500;Merge pull request #1604 from liaoxiaorong/master
httpclient: raise ValueError if given HTTPRequest and kwargs
==
==================
02df8f70;Bheesham Persaud;2015-12-29 17:15:35 -0500;Update hints for popular operating systems.
Fedora now uses `dnf`.

==

setup.py
==================
207a54a3;afg;2015-12-28 14:06:56 +0800;reverse_url should unescape regex string

==

tornado/test/util_test.py
tornado/test/web_test.py
tornado/util.py
tornado/web.py
==================
2c8a5f05;liaoxiaorong;2015-12-22 12:18:38 +0800;raise ValueError if supply both a request object and **kwargs

==

tornado/httpclient.py
==================
8fdffc4c;Color Fuzzy;2015-12-22 11:26:04 +0800;replace BlockingResolver with Resolver and update timeout value because of resolve never completes

==

tornado/test/simple_httpclient_test.py
==================
fa38173f;Color Fuzzy;2015-12-22 09:44:47 +0800;refractor test_connect_timeout with a never finished future

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
9a911b09;Color Fuzzy;2015-12-20 03:34:07 +0800;add more detailed information to HTTP Timeout error raised by SimpleAsyncHTTPClient

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
c2b4d052;Ben Darnell;2015-12-18 00:04:03 -0500;Merge pull request #1599 from emehrkay/patch-1
Update options.py
==
==================
bb263379;liaoxiaorong;2015-12-14 19:15:03 +0800;make kwargs always work in AsyncHTTPClient.fetch()

==

tornado/httpclient.py
==================
9f8fe7d4;A. Jesse Jiryu Davis;2015-12-08 17:34:09 -0500;Merge pull request #1600 from dinever/master
Use super() to call super "__init__()"
==
==================
f9741732;dinever;2015-12-08 00:37:43 -0500;Use super() to call super "__init__()"

==

demos/websocket/chatdemo.py
==================
35448d87;Ben Darnell;2015-12-08 00:14:38 -0500;Fix logging when running tests with twisted installed.

==

tornado/test/twisted_test.py
==================
db36a844;Mark Henderson;2015-12-07 23:27:47 -0500;Update options.py
Updated verbiage.
==

tornado/options.py
==================
b34dc5ce;Mark Henderson;2015-12-07 16:55:37 -0500;Update options.py

==

tornado/options.py
==================
97705b92;Mark Henderson;2015-12-07 16:35:52 -0500;Update options.py
It is unclear in the documentation what tornado.options.parse_config_file does and how it works. I added a little text to the copy that should clarify its purpose.
==

tornado/options.py
==================
43e23f97;Ben Darnell;2015-11-24 11:15:47 +0100;Merge pull request #1593 from Hardtack/patch-1
Use super() to call super "__init__()"
==
==================
20b6e9fe;GunWoo Choi;2015-11-24 14:12:07 +0900;Use super() to call super "__init__()"
Calling super method by Request.__init__(self) cannot handle MRO properly.
==

tornado/websocket.py
==================
8ea2780c;Ben Darnell;2015-11-23 11:53:44 +0100;Merge pull request #1591 from marrrvin/tcp-server-bind-reuse_port
Add reuse_port flag to TCPServer.bind method
==
==================
e09f18d4;Sergey Orlov;2015-11-22 14:35:04 +0300;Add reuse_port flag to TCPServer.bind method

==

tornado/tcpserver.py
==================
9c6222a1;Ben Darnell;2015-11-21 17:33:02 +0100;Merge pull request #1587 from hschachn/patch-1
Missing hint in documentation
==
==================
c8ca0129;A. Jesse Jiryu Davis;2015-11-20 09:04:29 -0500;Merge pull request #1586 from mivade/versionchanged_docfix
Correct version change in Lock docstring
==
==================
4e205197;Hermann Schachner;2015-11-20 13:59:58 +0100;Missing hint in documentation
I did not realize that RequestHandler.initialize() is called before every single request.
For me, 'subclass initialization' suggest that this function were called only once for each subclass definition.
(Seems like I am not the only one: http://stackoverflow.com/questions/15199028/does-initialize-in-tornado-web-requesthandler-get-called-every-time-for-a-reques)
==

tornado/web.py
==================
b387138e;Michael V. DePalatis;2015-11-20 12:20:25 +0100;Correct version change in Lock docstring

==

tornado/locks.py
==================
c4183b86;Ben Darnell;2015-11-14 12:09:03 -0500;httpclient: Document that HTTPError is not the only possible error

==

tornado/httpclient.py
==================
d5a4ebee;Ben Darnell;2015-11-11 20:14:02 -0500;Merge pull request #1582 from minrk/free-list-on-fail
CurlAsyncHTTPClient: free_list starvation if setup fails
==
==================
aabad7a1;Min RK;2015-11-11 14:32:00 +0100;test failure to set up curl http requests
ensure that it doesn't starve free curl client list
==

tornado/test/curl_httpclient_test.py
==================
dcb1f9a9;Min RK;2015-11-11 13:22:08 +0100;CurlAsyncHTTPClient: free_list starvation if setup fails
If `_curl_setup_request` fails,
the failing curl instance would be permanently excluded from free_list,
because `_finish` will never be called.
Once this has happens `max_clients` times,
no future request will ever complete.
==

tornado/curl_httpclient.py
==================
d9c5bc8f;Ben Darnell;2015-11-07 17:23:40 -0500;Merge pull request #1579 from felixonmars/monotonic
Add monotonic as an alternative to Monotime
==
==================
d0c60022;Felix Yan;2015-11-07 13:53:09 +0800;Add monotonic as an alternative to Monotime

==

.travis.yml
docs/index.rst
tornado/platform/auto.py
tox.ini
==================
8c04a788;Ben Darnell;2015-11-06 21:09:22 -0500;Merge pull request #1578 from bdarnell/streamline-travis
Streamline travis-ci build.
==
==================
153f61c5;Ben Darnell;2015-11-06 20:03:18 -0500;Streamline travis-ci build.
Instead of running a DEPS=false version of every test, just run one
test environment per version and use a separate virtualenv for basic
tests in the DEPS=false case.

==

.travis.yml
==================
7a96bcf1;Ben Darnell;2015-11-06 19:55:34 -0500;Merge pull request #1568 from chrisseto/patch-2
Cast start_line.code to an integer
==
==================
7da0d5bc;Ben Darnell;2015-11-06 19:55:18 -0500;Merge pull request #1576 from ewang/master
Override __setitem__ in tornado.options
==
==================
3dcb12c1;Ben Darnell;2015-11-06 19:54:48 -0500;Merge pull request #1574 from macro/master
Fixes #1573: Use 127.0.0.1 when binding test server socket
==
==================
51e1de15;Ben Darnell;2015-11-06 19:52:29 -0500;Merge pull request #1477 from bdarnell/drop-26
Drop support for Python 2.6 and 3.2
==
==================
2d780efd;Ben Darnell;2015-10-25 11:44:06 -0400;Remove the u() function and a few uses the script missed.

==

tornado/auth.py
tornado/escape.py
tornado/locale.py
tornado/netutil.py
tornado/test/auth_test.py
tornado/test/escape_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/locale_test.py
tornado/test/log_test.py
tornado/test/resolve_test_helper.py
tornado/test/template_test.py
tornado/test/util_test.py
tornado/test/web_test.py
tornado/test/websocket_test.py
tornado/test/wsgi_test.py
tornado/util.py
==================
3312ffb2;Ben Darnell;2015-10-25 11:25:38 -0400;Convert all uses of t.util.u() to real unicode literals.

==

tornado/_locale_data.py
tornado/auth.py
tornado/escape.py
tornado/locale.py
tornado/test/auth_test.py
tornado/test/escape_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/locale_test.py
tornado/test/log_test.py
tornado/test/resolve_test_helper.py
tornado/test/template_test.py
tornado/test/util_test.py
tornado/test/web_test.py
tornado/test/websocket_test.py
==================
f3628060;Ben Darnell;2015-10-25 11:07:27 -0400;Invert fix_unicode_literal to switch back to real literals.

==

maint/scripts/custom_fixers/fix_unicode_literal.py
==================
4d6fef78;Ben Darnell;2015-10-24 18:56:07 -0400;Drop support for Python 3.2.
Remove python 3.2 support from all test configurations and docs,
but do not actively remove code that exists for 3.2 compatibility.

==

.travis.yml
docs/guide/async.rst
docs/index.rst
maint/test/cython/tox.ini
maint/test/websocket/fuzzingclient.json
maint/test/websocket/run-client.sh
maint/test/websocket/run-server.sh
maint/test/websocket/tox.ini
maint/vm/ubuntu10.04/setup.sh
maint/vm/ubuntu10.04/tox.ini
maint/vm/ubuntu12.04/setup.sh
maint/vm/ubuntu12.04/tox.ini
maint/vm/windows/bootstrap.py
maint/vm/windows/tox.ini
setup.py
tox.ini
==================
02e67efa;Ben Darnell;2015-08-03 10:06:31 -0400;Drop Python 2.6 support.
Remove python 2.6 support from all test configurations and docs,
but do not actively remove code that exists for 2.6 compatibility.

==

.travis.yml
docs/index.rst
maint/test/websocket/fuzzingclient.json
maint/test/websocket/run-client.sh
maint/test/websocket/run-server.sh
maint/test/websocket/tox.ini
maint/vm/ubuntu10.04/tox.ini
maint/vm/windows/bootstrap.py
maint/vm/windows/tox.ini
setup.py
tox.ini
==================
1a256e3d;Ben Darnell;2015-11-06 18:52:44 -0500;Bump master version number to 4.4.dev1

==

setup.py
tornado/__init__.py
==================
26a5a6b8;Ben Darnell;2015-11-06 15:08:40 -0500;Set version number to 4.3

==

setup.py
tornado/__init__.py
==================
bd2d6807;Ben Darnell;2015-11-06 15:08:06 -0500;Rename next.rst to v4.3.0.rst

==

docs/releases.rst
docs/releases/v4.3.0.rst
==================
05f8c071;Ben Darnell;2015-11-05 21:54:38 -0500;Link to the users' guide from the release notes.

==

docs/guide/coroutines.rst
docs/releases/next.rst
==================
147861f2;Neil Chintomby;2015-10-29 16:33:30 -0700;Use `127.0.0.1` when binding test server socket.

==

tornado/testing.py
==================
a3d26180;Eric Wang;2015-11-03 20:56:39 -0800;Unset executable bit

==

tornado/options.py
==================
80df78ac;Eric Wang;2015-11-02 14:51:24 -0800;Make __getitem__ and __setitem__ mirror behavior of __getattr__ and __setattr__

==

tornado/options.py
tornado/test/options_test.py
==================
b507c9ac;Chris Seto;2015-10-26 01:23:50 -0400;Cast start_line.code to an integer
Allows use of http.client.HTTPStatus in self.write_status
'%s' % http.client.OK == 'HTTPStatus.OK'
'%d' % http.client.OK == '200'
==

tornado/http1connection.py
==================
1ecc7386;Ben Darnell;2015-10-25 13:52:25 -0400;Make "headers too large" test understand 431 response code.

==

tornado/test/httpserver_test.py
==================
a0dfdd84;Ben Darnell;2015-10-25 12:59:00 -0400;Mark another test as http/1 only

==

tornado/test/httpclient_test.py
==================
5268068c;Ben Darnell;2015-10-25 11:20:10 -0400;Re-run our custom fixers to normalize future imports

==

maint/scripts/custom_fixers/fix_unicode_literal.py
tornado/_locale_data.py
tornado/test/locks_test.py
tornado/test/queues_test.py
tornado/test/tcpserver_test.py
tornado/web.py
tornado/websocket.py
==================
2bc77f6e;Ben Darnell;2015-10-24 21:13:44 -0400;Fix firewall prompts when running tests.

==

tornado/test/web_test.py
==================
b3d64df0;Ben Darnell;2015-10-24 19:07:59 -0400;Rewrite prerequisites section of index.rst.
Remove redundant parts of README; link to tornadoweb.org instead.

==

README.rst
docs/index.rst
==================
aebf0088;Ben Darnell;2015-10-24 18:03:48 -0400;Set version number to 4.3b2

==

setup.py
tornado/__init__.py
==================
0f216872;Ben Darnell;2015-10-24 13:53:26 -0400;Find 'httponly' case-insensitively

==

tornado/test/web_test.py
==================
64c0f06d;Ben Darnell;2015-10-24 13:18:37 -0400;Update tests and docs for recent changes

==

docs/releases/next.rst
docs/web.rst
tornado/test/web_test.py
tornado/web.py
==================
f37d9b75;fernando;2015-10-17 09:24:23 -0500;Added xsrf_cookie_kwargs to control xsrf cookie settings

==

tornado/web.py
==================
0d3479b4;Ben Darnell;2015-10-24 12:00:18 -0400;Merge pull request #1558 from maartenbreddels/patch-1
Return HTTPServer in Application.listen
==
==================
eaf34865;Ben Darnell;2015-10-24 10:32:27 -0400;Merge pull request #1563 from szweep/response_hdrs_fix
Check for Content-Length and Transfer-Encoding
==
==================
8a228117;Ben Darnell;2015-10-24 10:22:51 -0400;Merge pull request #1567 from bdarnell/root-static-path-test
Make test_root_static_path more robust.
==
==================
dc5657c4;Ben Darnell;2015-10-24 09:57:16 -0400;Make test_root_static_path more robust.
Always convert `__file__` to an absolute path (this is already
guaranteed in Python 3.4+, but in older versions it would sometimes be
relative). Encode the path so the test can pass when run from a
directory containing spaces or other special characters.

Fixes #1565

==

tornado/test/web_test.py
==================
233e4df5;szweep;2015-10-23 12:23:09 -0400;Restrict header check to SimpleAsyncHTTPClient

==

tornado/test/simple_httpclient_test.py
==================
e8325114;szweep;2015-10-23 10:24:35 -0400;Check for Content-Length and Transfer-Encoding
If an HTTP response contains both Content-Length and
Transfer-Encoding headers, flag this as an error as
per RFC 7230, Section 3.3.3#3. Also added a unit test
to validate the code.

==

tornado/http1connection.py
tornado/test/simple_httpclient_test.py
==================
d50be4e5;Ben Darnell;2015-10-20 11:58:08 -0400;Merge pull request #1560 from pathcl/master
PEP8 fix docs/conf.py:91:1: E122 continuation line missing indentation
==
==================
65a5fe10;Luis San Martin;2015-10-20 12:28:52 -0300;PEP8 fix docs/conf.py:91:1: E122 continuation line missing indentation or outdented

==

docs/conf.py
==================
b5d67348;Maarten Breddels;2015-10-19 17:24:55 +0200;Return HTTPServer in Application.listen
For unittesting I start and stop the server in setUp and tearDown. If I use Application.listen I don't have a reference to the HTTPServer and cannot close the socket. Binding it to the same address the next time will result in a address in use error. If the server is returned, calling close on it will allow the address/port to be reused.
==

tornado/web.py
==================
2c543d27;Ben Darnell;2015-10-19 00:11:02 +0200;Set version number to 4.3b1

==

setup.py
tornado/__init__.py
==================
944cf2e4;Ben Darnell;2015-10-19 00:03:33 +0200;Update next-release notes

==

docs/releases/next.rst
==================
30bc9633;Ben Darnell;2015-10-18 23:50:41 +0200;Merge pull request #1557 from bdarnell/backports-abc-singledispatch
Make singledispatch and backports_abc mandatory dependencies.
==
==================
35467008;Ben Darnell;2015-10-18 23:08:00 +0200;Fix singledispatch for asyncio on py26.
Disable singledispatch tests for twisted on py26 because it doesn't
work.

==

setup.py
tornado/test/twisted_test.py
==================
7b3e31be;Ben Darnell;2015-10-18 22:34:47 +0200;Make singledispatch and backports_abc mandatory dependencies.
I anticipate confusion around the differing behavior based on whether or
not these packages are installed, so it's better to just make them
mandatory (except on app engine).

==

.travis.yml
setup.py
tornado/gen.py
tornado/test/asyncio_test.py
tornado/test/twisted_test.py
==================
b9d8e00a;Ben Darnell;2015-10-18 21:47:37 +0200;Slight update to bit-rotted test.
Currently failing because tornaduv doesn't support the new 4.2
make_current features.

==

maint/test/pyuv/tox.ini
==================
4747c95a;Ben Darnell;2015-10-18 21:39:43 +0200;Fix tests in the app engine sandbox

==

tornado/process.py
tornado/test/locale_test.py
tornado/test/util.py
==================
7a0b4aab;Ben Darnell;2015-10-18 15:44:27 +0200;Merge pull request #1553 from xbao/fix-gcc-warning
Add void to empty function parameter
==
==================
8b3a0869;Xiao Bao Clark;2015-10-16 22:50:24 +1100;Add void to empty function parameter
This fixes the gcc warning:

tornado/speedups.c:49:1: warning: function declaration isn’t a prototype
[-Wstrict-prototypes]
 initspeedups() {
 ^

==

tornado/speedups.c
==================
f2b3d8eb;Ben Darnell;2015-10-13 23:34:58 +0200;Merge pull request #1550 from ajdavis/gen_test-native-coroutines
Update gen_test for native coroutines.
==
==================
a02d4f67;A. Jesse Jiryu Davis;2015-10-12 13:45:15 -0400;Update gen_test for native coroutines.

==

tornado/test/testing_test.py
tornado/testing.py
==================
85e4e30a;The Gitter Badger;2015-10-07 03:03:58 +0000;Add Gitter badge

==

README.rst
==================
943e14e3;Ben Darnell;2015-10-04 00:24:53 -0400;Remove redundant travis_retry calls.
Thanks @ajdavis

==

.travis.yml
==================
d739c546;Ben Darnell;2015-10-03 23:13:54 -0400;Merge pull request #1542 from bdarnell/async-await
More polish for native coroutines
==
==================
99527e1f;Ben Darnell;2015-10-03 22:45:43 -0400;Document some subtleties of native coroutines

==

docs/guide/coroutines.rst
==================
5590741e;Ben Darnell;2015-10-03 21:57:33 -0400;Support other yieldables in to_asyncio_future.

==

tornado/platform/asyncio.py
tornado/test/asyncio_test.py
==================
53bf6648;Ben Darnell;2015-10-03 21:05:01 -0400;Modernize asyncio "yield from" test.

==

tornado/test/asyncio_test.py
==================
95a17c6c;Ben Darnell;2015-10-03 20:57:23 -0400;Recognize other yieldables in web.asynchronous.
Disallow non-None results.

==

tornado/test/web_test.py
tornado/web.py
==================
b20ca363;Ben Darnell;2015-10-03 20:52:04 -0400;Support other yieldables for httpclient body_producer

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
2237a72a;Ben Darnell;2015-10-03 20:42:48 -0400;Recognize other yieldables in IOLoop._run_callback.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
7bdbd0b2;Ben Darnell;2015-10-03 20:31:20 -0400;Add support for native coroutines in IOLoop.run_sync.
Remove support for synchronous functions with non-None results.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
abdb692d;Ben Darnell;2015-10-03 20:19:41 -0400;Allow mixes of native coroutines and YieldPoints in gen.multi.

==

tornado/gen.py
tornado/test/gen_test.py
==================
52f94d00;Ben Darnell;2015-10-03 18:44:01 -0400;Deprecate gen.maybe_future and remove all internal uses.
This allows native coroutines in the HTTPMessageDelegate.data_received
methods.

==

docs/gen.rst
tornado/gen.py
tornado/http1connection.py
tornado/test/web_test.py
==================
2d508a49;Ben Darnell;2015-10-03 14:20:55 -0400;Tweak a timing-sensitive test.
This one seems especially flaky on appveyor.

==

tornado/test/testing_test.py
==================
70b0cffa;Ben Darnell;2015-10-03 13:59:15 -0400;Merge pull request #1541 from bdarnell/test-fixes
Test fixes
==
==================
dddd721e;Ben Darnell;2015-10-03 12:00:59 -0400;Fix twistedlayered test.
Disable a test that fails under the trollius IOLoop.

Disable some additional logging.

==

tornado/test/twisted_test.py
==================
1a86cd14;Ben Darnell;2015-10-03 11:51:42 -0400;Merge pull request #1540 from bdarnell/ci-versions
Update versions in CI/tox configs.
==
==================
50665e0f;Ben Darnell;2015-10-03 11:40:22 -0400;Force simple_httpclient in path traversal test.
This fails with recent versions of libcurl because curl now processes
".." on the client side.

==

tornado/test/web_test.py
==================
fe02b565;Ben Darnell;2015-10-03 11:22:19 -0400;Update versions in CI/tox configs.

==

.travis.yml
tox.ini
==================
bef7b324;Ben Darnell;2015-10-03 10:43:22 -0400;Support PATCH with body in curl_httpclient.
This previously required `allow_nonstandard_methods`.

Refine the body sanity checks and tests (followup to #1531).

==

tornado/curl_httpclient.py
tornado/test/httpclient_test.py
==================
666e5561;Ben Darnell;2015-10-03 09:54:18 -0400;Merge pull request #1531 from stj/master
Perform sanity checks on request.body only if allow_nonstandard_metho…
==
==================
fd2b50ba;Ben Darnell;2015-10-01 16:53:55 -0400;Merge pull request #1538 from awsh/master
Removed links to facebook.com.
==
==================
0017a384;awsh;2015-10-01 15:47:00 -0400;Removed links to facebook.com as Tornado is no longer featured.

==

README.rst
docs/index.rst
==================
09ee625f;awsh;2015-10-01 14:35:40 -0400;Removed broken link.

==

docs/index.rst
==================
8942b5bb;Stefan Tjarks;2015-09-28 14:58:15 -0700;Perform sanity checks on request.body only if allow_nonstandard_methods is True. This makes CurlAsyncHTTPClient handle allow_nonstandard_methods the same as AsyncHTTPClient.

==

tornado/curl_httpclient.py
tornado/test/curl_httpclient_test.py
tornado/test/httpclient_test.py
==================
b0e97763;Ben Darnell;2015-10-01 10:22:37 -0400;Merge pull request #1536 from sieben/patch-1
Broken link fix
==
==================
ffd14ec1;Rémy Léone;2015-10-01 09:49:12 +0200;Broken link fix

==

README.rst
==================
70380285;Ben Darnell;2015-09-30 01:05:28 -0400;Support patchless use of backports_abc 0.4

==

maint/test/cython/cythonapp_test.py
maint/test/cython/tox.ini
tornado/gen.py
==================
d3ff7acc;Ben Darnell;2015-09-30 00:03:13 -0400;Remove stale comment.

==

maint/requirements.txt
==================
cf5f90af;Ben Darnell;2015-09-30 00:01:08 -0400;Verify extension build on appveyor

==

appveyor.yml
==================
bb59167e;Ben Darnell;2015-09-29 23:59:56 -0400;Remove some unused imports

==

tornado/test/log_test.py
tornado/test/queues_test.py
==================
4f03438d;Ben Darnell;2015-09-29 23:57:38 -0400;Run latest autopep8

==

tornado/iostream.py
tornado/test/auth_test.py
tornado/test/gen_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/ioloop_test.py
tornado/test/simple_httpclient_test.py
tornado/test/tcpserver_test.py
tornado/test/template_test.py
tornado/test/web_test.py
==================
8dfe52e9;Ben Darnell;2015-09-29 23:51:56 -0400;Update requirements

==

maint/requirements.txt
==================
38d7738a;Ben Darnell;2015-09-28 23:10:49 -0400;Merge pull request #1533 from bdarnell/facebook-auth
Fix a regression in FacebookGraphMixin in the 4.3 dev series.
==
==================
301f52b5;Ben Darnell;2015-09-28 22:38:16 -0400;Fix a regression in FacebookGraphMixin in the 4.3 dev series.
Return access tokens as strings instead of bytes on python 3,
making the user objects json-encodable.

Add a basic test for FacebookGraphMixin.

Fixes #1532

==

tornado/auth.py
tornado/test/auth_test.py
==================
4ee9ba94;Ben Darnell;2015-09-28 00:29:57 -0400;Update next-release notes.

==

docs/releases/next.rst
==================
ebc4500f;Ben Darnell;2015-09-28 00:11:06 -0400;Merge pull request #1497 from codeb2cc/ws-mulit-frames-compression
Fix incorrect inspection of WebSocket RSV1 bit.
==
==================
3ec2a3e8;Ben Darnell;2015-09-27 23:39:34 -0400;Merge pull request #1526 from bdarnell/streaming-callback-redirect
simple_httpclient: Don't call streaming_callback for redirects.
==
==================
c3345a9d;Ben Darnell;2015-09-27 23:21:23 -0400;Merge pull request #1530 from mr-ping/master
Change the implement of remove_fragment method
==
==================
f803e43e;Ping;2015-09-25 17:04:55 +0800;Change the implement of remove_fragment method

==

demos/webspider/webspider.py
==================
e438075d;Ben Darnell;2015-09-27 21:35:04 -0400;Merge pull request #1528 from bdarnell/misc
Misc updates
==
==================
e01b7f80;Ben Darnell;2015-09-27 21:09:09 -0400;Return a Future from websocket write_message methods.
Fixes #1478.

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
5390ea3d;Ben Darnell;2015-09-27 21:05:04 -0400;Accept arguments in `raise Finish()`.
Fixes #1474.

==

tornado/test/web_test.py
tornado/web.py
==================
f075f2e9;Ben Darnell;2015-09-27 20:55:09 -0400;Make HTTPError (both of them) copyable.
`Exception.__reduce__` causes copy.copy() to create a new argument
with the arguments from `Exception.__init__`, then overwrite
attributes from the original `__dict__`. This means that copying fails
if there are mandatory arguments that are not passed to `__init__`.

Fixes #1485

==

tornado/httpclient.py
tornado/test/httpclient_test.py
tornado/test/web_test.py
tornado/web.py
==================
61f7d104;Ben Darnell;2015-09-27 20:23:56 -0400;Handle EINTR in IOStream.
Fixes #1287

==

tornado/iostream.py
==================
e46e1056;Ben Darnell;2015-09-27 20:15:12 -0400;Merge pull request #1494 from gwillem/curl_multi_line_header
Allow multi-line headers in CurlAsyncHTTPClient
==
==================
81152998;Ben Darnell;2015-09-27 20:10:49 -0400;Remove "IOLoop is closing" error.
Callbacks added while the IOLoop is closing will now simply not be
called (which has always been a possible fate for callbacks added
just *before* the close). This exception has not proved to be very
useful and sometimes has false positives that are tricky to work around,
as seen in the linked issues.

Closes #1491.
Closes #1244.

==

tornado/ioloop.py
==================
67b39ad0;Ben Darnell;2015-09-27 20:08:12 -0400;Merge pull request #1527 from bdarnell/appveyor
Add appveyor.yml for windows CI.
==
==================
578347cc;Ben Darnell;2015-09-27 19:15:13 -0400;Skip root_static_path test on non-posix OSes

==

tornado/test/web_test.py
==================
662b7dd8;Ben Darnell;2015-09-27 19:05:22 -0400;Add appveyor.yml for windows CI.

==

appveyor.yml
==================
b3a6c413;Ben Darnell;2015-09-27 18:44:30 -0400;Unbreak static file paths of '/'.

==

tornado/test/web_test.py
tornado/web.py
==================
fc77d7fe;Ben Darnell;2015-09-27 18:29:54 -0400;Support non-ascii template filenames.
Fixes #1502.

==

tornado/template.py
tornado/test/template_test.py
==================
9ebfc397;Ben Darnell;2015-09-27 18:09:16 -0400;Document interactions with TornadoReactor and multi-process.
See #1501.

==

tornado/platform/twisted.py
==================
8a911d63;Ben Darnell;2015-09-27 16:52:04 -0400;Use autodoc for asyncio and twisted docs.

==

docs/asyncio.rst
docs/requirements.txt
docs/twisted.rst
tornado/platform/asyncio.py
tornado/platform/twisted.py
==================
d8e069ef;Ben Darnell;2015-09-27 16:03:54 -0400;ioloop: add_callback_from_signal() calls add_callback()
Now that add_callback checks thread.ident() and no longer deadlocks from
a signal handler, add_callback_from_signal can call it unconditionally.

==

tornado/ioloop.py
==================
8216a5e5;Ben Darnell;2015-09-27 16:00:45 -0400;Merge pull request #1511 from jampp/master
Remove synchronization in add_callback from the ioloop thread
==
==================
852c2098;Ben Darnell;2015-09-27 15:08:40 -0400;Move redirect streaming callback test to simple_httpclient only.
This test passes with recent versions of libcurl but fails
with the version available on travis-ci.

==

tornado/test/httpclient_test.py
tornado/test/simple_httpclient_test.py
==================
1453e665;Ben Darnell;2015-09-27 14:08:24 -0400;Add some diagnostics for travis versions.

==

.travis.yml
==================
7493c943;Ben Darnell;2015-09-27 14:06:55 -0400;Improve docs for current_user; describe async use from prepare()

==

tornado/web.py
==================
96dc7adc;Ben Darnell;2015-09-27 13:26:21 -0400;simple_httpclient: Don't call streaming_callback for redirects.
Fixes #1518.

==

tornado/simple_httpclient.py
tornado/test/httpclient_test.py
==================
fd077ac3;Ben Darnell;2015-09-27 13:05:58 -0400;Quiet another error that can be caused by port scans.

==

tornado/iostream.py
==================
901fc491;Ben Darnell;2015-09-27 12:33:30 -0400;Fix typo in websocket_connect docs.
Fixes #1522.

==

tornado/websocket.py
==================
7e625d0e;Michael V. DePalatis;2015-09-22 23:49:40 +0200;Remove unnecessary word from Application docstring

==

tornado/web.py
==================
518d4e7e;Ben Darnell;2015-09-27 12:29:33 -0400;Merge pull request #1524 from lichun19960112/master
Update webspider demo support Python 3
==
==================
c89a49f8;Ben Darnell;2015-09-27 12:28:00 -0400;Merge pull request #1525 from bdarnell/fix-coverage
Fix coverage installation for py32.
==
==================
006a93e9;Ben Darnell;2015-09-27 11:58:07 -0400;Fix coverage installation for py32.

==

.travis.yml
==================
08cc38e6;lichun;2015-09-26 12:23:58 +0800;Update webspider demo support Python 3

==

demos/webspider/webspider.py
==================
9091c9c1;Ben Darnell;2015-09-15 09:27:26 -0400;Remove stale comment.

==

tornado/concurrent.py
==================
addabd51;Ben Darnell;2015-09-14 23:27:18 -0400;Replace `gen.Multi` and `gen.multi_future` with `gen.multi`.
`multi_future` is awkward to type but is much more prominent
in native coroutines. The new function `multi` has a more
convenient name and delegates to either the YieldPoint
or Future version automatically.

For backwards compatibility, `multi_future` is still around,
and `Multi` was renamed to `MultiYieldPoint` so that we don't
have two different objects whose names differ only in case
(`Multi` is now an alias for `multi`).

See #1493.

==

docs/gen.rst
docs/releases/v4.2.0.rst
tornado/gen.py
==================
6a080814;Ben Darnell;2015-09-14 22:42:41 -0400;Import t.p.asyncio automatically when available in gen.
This makes the _wrap_awaitable infinite recursion less likely
to occur, although it could show up again when another coroutine
framework adopts PEP 492.

Fixes #1499.

==

tornado/gen.py
==================
e1397e3d;Ben Darnell;2015-09-14 09:50:48 -0400;Simplify OptionParser._TIMEDELTA_ABBREV_DICT.
Cython doesn't like having the more complex logic at class scope.

==

tornado/options.py
==================
631187ae;Ben Darnell;2015-09-14 20:29:53 -0400;Clarify comment about `@cython.binding`.
It's only necessary for static functions, not methods.

==

maint/test/cython/cythonapp.pyx
maint/test/cython/cythonapp_test.py
tornado/util.py
==================
4ccfe892;Ben Darnell;2015-09-14 00:50:26 -0400;Make ArgReplacer compatible with cython-compiled functions.
This requires a directive in the cython code to make the signature
introspectable.

==

maint/test/cython/cythonapp.pyx
maint/test/cython/cythonapp_test.py
tornado/util.py
==================
3463036d;Ben Darnell;2015-09-13 23:13:43 -0400;Support coroutines compiled with cython
On Python 3.5, this means supporting awaitables that are not
iterables. On older versions of python, this includes
* In `@gen.coroutine`, recognizing cython's coroutines
  via the backports_abc module.
* At various points in the gen module, recognize cython's
  use of `StopIteration.args[0]` in place of `StopIteration.value`.
* Implementing Future.__await__ and _wrap_awaitable for
  pre-3.3 versions of python.

==

maint/test/cython/.gitignore
maint/test/cython/MANIFEST.in
maint/test/cython/cythonapp.pyx
maint/test/cython/cythonapp_test.py
maint/test/cython/pythonmodule.py
maint/test/cython/setup.py
maint/test/cython/tox.ini
tornado/concurrent.py
tornado/gen.py
==================
f302e7e9;Ben Darnell;2015-09-13 13:15:06 -0400;Make HTTPHeaders a subclass of MutableMapping ABC instead of dict.
This simplifies the implementation since MutableMapping is designed
for subclassing while dict has many special cases that need to be
overridden. In particular, this change fixes the setdefault()
method.

Fixes #1500.

==

tornado/httputil.py
tornado/test/httputil_test.py
==================
e366c449;Ben Darnell;2015-09-12 20:31:18 -0400;Merge pull request #1514 from noxiouz/add_soreuseport
netutil.bind_sockets: add `reuse_port` option to set SO_REUSEPORT
==
==================
fffaa2f7;Anton Tiurin;2015-09-09 14:36:21 +0300;netutil.bind_sockets: add `reuse_port` option to set SO_REUSEPORT
This option is False by default, because not all platforms support
it.

Signed-off-by: Anton Tiurin <noxiouz@yandex.ru>

==

tornado/netutil.py
tornado/test/netutil_test.py
tornado/testing.py
==================
88eefe94;Ben Darnell;2015-09-06 10:24:59 -0400;Merge pull request #1479 from mr-ping/master
add timed rotating mode for logging into separated files in tornado.log
==
==================
a8949f9d;Ping;2015-09-06 14:56:34 +0800;Remove type-checker for log_rotate_mode option

==

tornado/log.py
tornado/test/log_test.py
==================
5d0ac1d2;Ping;2015-08-28 08:47:50 +0800;Raise an error when invalid option

==

tornado/log.py
tornado/test/log_test.py
==================
90d9f174;Ping;2015-08-11 13:41:44 +0800;Change variable names and streamline test method

==

tornado/log.py
tornado/test/log_test.py
==================
22a8c6ef;Ping;2015-08-05 15:15:31 +0800;add timed rotating mode for logging into separated files in tornado.log

==

tornado/log.py
tornado/test/log_test.py
==================
bbfd096f;fydot;2015-09-03 01:46:42 +0800;Remove useless lines, noused import and variable

==

tornado/concurrent.py
tornado/gen.py
tornado/locale.py
tornado/testing.py
tornado/web.py
==================
5353ac85;Claudio Freire;2015-09-02 16:10:19 -0300;Remove stale comment

==

tornado/ioloop.py
==================
6c8453bf;Claudio Freire;2015-09-02 16:09:52 -0300;Move closed check inside the callback_lock

==

tornado/ioloop.py
==================
8fffe300;Claudio Freire;2015-09-02 15:07:55 -0300;Fix comments around add_callback
Update the comments on the rationale for lock usage, and
make sure to always check self._closing

==

tornado/ioloop.py
==================
89f59cac;Claudio Freire;2015-09-02 14:32:46 -0300;Remove synchronization for add_callback in the ioloop thread
It is not necessary, since it will never need to invoke
wake, and as noted in add_callback_from_signal it would pose
no race risk, and it is a considerable performance penalty.

==

tornado/ioloop.py
==================
47c0dfa5;Ben Darnell;2015-08-26 20:13:23 +0200;Fix PDF doc build.
This appears to have been broken for a while but I've only recently been
getting notifications from readthedocs.org.

==

docs/conf.py
==================
3f3d2538;Ben Darnell;2015-08-26 15:16:31 +0200;Merge pull request #1495 from stevepeak/master
use Codecov as coverage provider
==
==================
fa2d6ee0;Steve Peak;2015-08-25 23:28:22 -0400;trigger travis, debug complete

==
==================
b0eb7e1e;Steve Peak;2015-08-25 19:43:46 -0400;trigger travis again for debugging

==
==================
94fe5692;Willem de Groot;2015-08-25 14:05:46 +0200;Test on str, not bytes for Python3x

==

tornado/test/httpclient_test.py
==================
6e0a0ca5;Willem de Groot;2015-08-25 13:34:52 +0200;Add multi-line header test

==

tornado/test/httpclient_test.py
==================
55b3b563;Steve Peak;2015-08-24 10:29:59 -0400;Only call on specific py versions

==

.travis.yml
==================
ac156424;Steve Peak;2015-08-24 10:21:26 -0400;Generate coverage reports in maint
This was when `codecov` is called from the project root the coverage xml files will be found and uploaded
==

.travis.yml
==================
7ee7338f;Steve Peak;2015-08-24 10:00:03 -0400;Debug .coverage

==

.travis.yml
==================
5ac06977;Codeb Fan;2015-08-24 15:02:55 +0800;Fix incorrect inspection of WebSocket RSV1 bit.
`_frame_compressed` should not be overwrite in continuation frames. According to the Protocol:
https://tools.ietf.org/html/draft-ietf-hybi-permessage-compression-13#section-8.2.3.1
"the RSV1 bit is set only on the first frame"

==

tornado/websocket.py
==================
836f7c27;Steve Peak;2015-08-21 14:36:29 -0400;use Codecov as coverage provider

==

.travis.yml
==================
e984e74d;Willem de Groot;2015-08-21 14:51:40 +0200;Allow multi-line headers

==

tornado/curl_httpclient.py
==================
1b6157dd;Ben Darnell;2015-08-16 19:28:14 +0200;Merge pull request #1488 from jsarenik/jasan/html5
Simplify HTML templates by using HTML5
==
==================
519bb7aa;Jan Sarenik;2015-08-16 08:51:06 +0200;Simplify HTML templates by using HTML5

==

demos/appengine/templates/base.html
demos/blog/templates/base.html
demos/chat/templates/index.html
demos/facebook/templates/stream.html
demos/websocket/templates/index.html
==================
6e96e778;Ben Darnell;2015-08-10 23:33:31 -0400;Merge pull request #1482 from ms7s/fix-read_until_close-callback
Fix error handling in read_until_close
==
==================
27f508f4;Martin Sucha;2015-08-07 15:42:48 +0200;Fix error handling in read_until_close
When a callback is supplied, the future is not created. Make sure
it is used only if it was initialized, otherwise we lose the
error that was originally raised.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
376e1cef;Ben Darnell;2015-08-08 23:04:27 -0400;Third time's the charm for _locale_data.py

==

tornado/_locale_data.py
==================
09d79245;Ben Darnell;2015-08-08 18:29:13 -0400;Fix _local_data.py for py32.

==

tornado/_locale_data.py
==================
d3827439;Ben Darnell;2012-12-02 18:57:30 -0500;Convert unicode escapes in _locale_data.py to real unicode characters.

==

tornado/_locale_data.py
==================
ec96a68d;Ben Darnell;2012-12-02 18:53:35 -0500;Move LOCALE_NAMES data into a separate file.

==

tornado/_locale_data.py
tornado/locale.py
==================
f061541d;Ben Darnell;2015-08-08 18:04:14 -0400;Update next-release notes

==

docs/releases/next.rst
==================
943003d7;Ben Darnell;2015-08-07 12:07:58 -0400;Add more warnings filters in twisted_test.
Necessary for green builds with Twisted 15.3 on Python 3.x.

==

tornado/test/twisted_test.py
==================
916cf575;Ben Darnell;2015-08-03 00:19:09 -0400;Merge pull request #1476 from bdarnell/async-statements
Support Python 3.5 `async` statements
==
==================
d7130c1e;Ben Darnell;2015-08-02 23:57:27 -0400;Expand comment on `async with`.

==

tornado/locks.py
==================
a7cddd3d;Ben Darnell;2015-08-02 23:56:22 -0400;Lazy-load StopAsyncIteration in a more future-proof way.
Fixes the test on nightly cpython.

==

tornado/gen.py
==================
135e2534;Ben Darnell;2015-08-02 22:40:16 -0400;Disable coverage collection on the 'nightly' python version.

==

.travis.yml
==================
0357e8fb;Ben Darnell;2015-08-02 22:05:41 -0400;Add versionchanged tags for async statements.

==

tornado/gen.py
tornado/locks.py
tornado/queues.py
==================
f90afbed;Ben Darnell;2015-08-02 22:03:20 -0400;Implement async iteration in WaitIterator.

==

tornado/gen.py
tornado/test/gen_test.py
==================
2caffda7;Ben Darnell;2015-08-02 21:23:55 -0400;Enable test runs on py35

==

.travis.yml
tox.ini
==================
995c79d1;Ben Darnell;2015-08-02 21:21:48 -0400;Support async iterator protocol in tornado.queues.

==

tornado/queues.py
tornado/test/queues_test.py
==================
3e89c199;Ben Darnell;2015-08-02 21:21:19 -0400;Reduce duplication in exec-based tests.

==

tornado/test/gen_test.py
tornado/test/locks_test.py
tornado/test/util.py
==================
05d53e8c;Ben Darnell;2015-08-02 18:08:11 -0400;Implement the async context manager protocol in tornado.locks.

==

tornado/locks.py
tornado/test/locks_test.py
==================
e831fe36;Ben Darnell;2015-08-02 17:39:46 -0400;Support other yieldables in `yield list`/`multi_future`.

==

tornado/gen.py
tornado/test/gen_test.py
==================
959da8f6;Ben Darnell;2015-08-02 16:21:32 -0400;Mention async/await in coroutine docs.

==

docs/guide/coroutines.rst
==================
70e52f9c;Ben Darnell;2015-08-02 16:17:31 -0400;Add docs about calling coroutines.
Show an alternative to PeriodicCallback.

Closes #1463.

==

docs/guide/coroutines.rst
==================
aa7ccba4;Ben Darnell;2015-08-02 15:32:24 -0400;Reduce default compression to level 6; raise min compressible length.
Partially addresses #1095.

==

tornado/test/simple_httpclient_test.py
tornado/test/web_test.py
tornado/web.py
tornado/websocket.py
==================
ccbfcbd8;Ben Darnell;2015-08-02 15:10:32 -0400;Remove hidden testsetup blocks from otherwise self-contained doctests.

==

docs/queues.rst
tornado/locks.py
tornado/queues.py
==================
d370183f;Ben Darnell;2015-07-30 21:10:48 -0400;Merge pull request #1468 from aebrahim/gzip_header
fix Content-Type for gzip in StaticFileHandler
==
==================
1ea6e91b;Ali Ebrahim;2015-07-30 13:57:27 -0700;Content-Type for compressed StaticFileHandler file
The python mimetypes module used by StaticFileHandler will recognize
compression (gzip, bz2, etc.) as the file encoding, and will give the
mime type for the uncompressed file. This commit will fix this
behavior, so a gzip file will end up as application/gzip.
Additionally, unknown file types (or known file types compressed with
anything other than gzip) are served as application/octet-stream.

==

tornado/web.py
==================
3a881d9c;Ali Ebrahim;2015-07-30 13:12:56 -0700;test Content-Type for static compressed files

==

MANIFEST.in
setup.py
tornado/test/static/sample.xml
tornado/test/static/sample.xml.bz2
tornado/test/static/sample.xml.gz
tornado/test/web_test.py
==================
8943ee06;Ben Darnell;2015-07-30 00:11:24 -0400;Restore IOLoop.current() when AsyncIOLoop exits.
Also make this process repeatable.

==

tornado/platform/asyncio.py
tornado/platform/twisted.py
tornado/test/ioloop_test.py
==================
8f697b49;Ben Darnell;2015-07-29 23:02:42 -0400;Correctly clear IOLoop.current() after TwistedIOLoop exits.

==

tornado/platform/twisted.py
==================
95c4dce4;Ben Darnell;2015-07-29 22:53:33 -0400;Remove arbitrary cap on length of outgoing headers.
The cap is too low for some uses, and it's unclear if it's worth
keeping.

Closes #1473.
Closes #1025.

==

tornado/web.py
==================
1d02ed60;Ben Darnell;2015-07-29 22:49:54 -0400;Fix incorrect check in IOLoop(make_current=True).
Expand tests.

Fixes #1469.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
81ee310a;Ben Darnell;2015-07-29 22:40:00 -0400;Merge pull request #1471 from gitchs/master
Remove an useless line
==
==================
46ca48ed;Leon Chan;2015-07-27 16:19:21 +0800;Remove an useless line

==

tornado/httpserver.py
==================
d53f72fe;Ben Darnell;2015-07-20 08:36:04 -0400;Update copyright line in docs.

==

docs/conf.py
==================
cb12ad04;Ben Darnell;2015-07-17 12:28:31 -0400;Merge branch 'branch4.2'

==
==================
5d4d1143;Ben Darnell;2015-07-17 11:48:58 -0400;Release version 4.2.1

==

docs/releases.rst
docs/releases/v4.2.1.rst
setup.py
tornado/__init__.py
==================
ecb3ea75;Ben Darnell;2015-07-17 11:36:53 -0400;Fix path traversal check in StaticFileHandler.
Previously StaticFileHandler would allow access to files whose name
starts with the static root directory, not just those that are actually
in the directory.

The bug was introduced in Tornado 3.1 via commits 7b03cd62fb and
60952528.

==

MANIFEST.in
setup.py
tornado/test/static_foo.txt
tornado/test/web_test.py
tornado/web.py
==================
d8d5f588;Ben Darnell;2015-07-05 18:40:14 -0400;Add `{% whitespace %}` template directive.
This allows per-template and even per-section changes to whitespace
handling.

Closes #178.

==

tornado/template.py
tornado/test/template_test.py
==================
254783a0;Ben Darnell;2015-07-05 17:13:07 -0400;Introduce `oneline` template whitespace mode.
This slightly-more-aggressive whitespace removal doesn't actually
save any space, but it removes the very conspicuous blank lines
that are often left around template directives.

Closes #291.
Closes #1083.

==

tornado/template.py
tornado/test/template_test.py
==================
72251a29;Ben Darnell;2015-07-05 17:03:45 -0400;Add Loader parameter to control whitespace mode.
Also add Application setting.

Closes #178.

==

docs/template.rst
docs/web.rst
tornado/template.py
tornado/test/template_test.py
tornado/web.py
==================
26a03dfc;Ben Darnell;2015-07-05 15:45:52 -0400;Move compress_whitespace setting from template writer to reader.
This ensures that the filename-based heuristic is applied correctly for
files included from another file.

==

tornado/template.py
tornado/test/template_test.py
==================
6285ac97;Ben Darnell;2015-07-05 00:07:50 -0400;Start next-release notes

==

docs/releases.rst
docs/releases/next.rst
==================
85484f66;Ben Darnell;2015-07-04 23:54:13 -0400;Add support for UTF-16 and UTF-8-with-BOM to CSV locale.
Auto-detect encoding based on BOM when possible.

Closes #1449

==

tornado/locale.py
tornado/test/locale_test.py
==================
023c6737;Ben Darnell;2015-07-04 23:09:12 -0400;Relax a test for SSL errors in start_tls.

==

tornado/test/iostream_test.py
==================
d74d5838;Ben Darnell;2015-07-04 22:40:23 -0400;Reduce logging of errors inside IOStream (especially SSLError).
Coroutine-style usage converts most errors into StreamClosedErrors,
which are logged less noisily while still allowing the original error
to be seen via the new real_error attribute. SSL errors now typically
result in a single log line instead of a full stack trace.

Closes #1304.

==

tornado/iostream.py
tornado/simple_httpclient.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/simple_httpclient_test.py
tornado/testing.py
==================
c91f7c3e;Ben Darnell;2015-07-04 20:20:17 -0400;Merge pull request #1461 from leeclemens/patch-1
Update travis-ci.org URL in comment
==
==================
4339c972;Lee Clemens;2015-07-04 20:00:29 -0400;Update travis-ci.org URL in comment

==

.travis.yml
==================
433e7f75;Ben Darnell;2015-07-04 18:24:24 -0400;Support pickling of HTTPHeaders.
Closes #1445

==

tornado/httputil.py
tornado/test/httputil_test.py
==================
463669e9;Ben Darnell;2015-07-04 15:18:26 -0400;Make dashes and underscores interchangeable in option names.
Closes #421.

==

tornado/options.py
tornado/test/options_test.cfg
tornado/test/options_test.py
==================
d7f8c16b;Ben Darnell;2015-07-04 14:32:53 -0400;Use unittest.mock in test_gaierror.
Attempts at generating errors in other ways have proven slow or
unreliable.

==

tornado/test/iostream_test.py
==================
5a2bb7e5;Ben Darnell;2015-07-04 14:13:58 -0400;Add filename to template.ParseError messages.
Closes #1453
Closes #1262

==

tornado/template.py
tornado/test/template_test.py
==================
52f3cb34;Ben Darnell;2015-07-04 13:42:45 -0400;Merge branch 'pr1456'

==
==================
4fb7d402;Ben Darnell;2015-07-04 13:41:34 -0400;Fix doctests.

==

docs/guide/structure.rst
==================
4b43e776;Ben Darnell;2015-07-04 11:22:12 -0400;Remove _OAUTH_USERINFO_URL.

==

tornado/auth.py
tornado/test/auth_test.py
==================
2d8e56e5;Ben Darnell;2015-07-03 18:35:26 -0400;Merge pull request #1460 from ianmackinnon/feature-google-oauth-user-data
Add Google OAuth2 user info request.
==
==================
500a2fae;Ian Mackinnon;2015-07-02 13:57:04 +0200;Fix unicode syntax for Python 3.

==

tornado/test/auth_test.py
==================
e2d6f000;Ian Mackinnon;2015-07-02 13:36:20 +0200;Add Google OAuth2 user info request.

==

tornado/auth.py
tornado/test/auth_test.py
==================
125e6f8f;Ben Darnell;2015-07-01 18:33:43 -0400;Update outdated comment.

==

tornado/concurrent.py
==================
617d41f2;Ben Darnell;2015-06-28 16:41:46 -0400;Introduce OAuth2Mixin.oauth2_request.
This method can serve as a general replacement for methods like
FacebookGraphMixin.facebook_request.

Update docs for GoogleOAuth2Mixin.get_authenticated_user to indicate
that only the tokens are returned, not other user information.

Add some basic tests for GoogleOAuth2Mixin.

This commit incorporates code from FanFani4 in #1212 and
kippandrew in #1454.

==

tornado/auth.py
tornado/test/auth_test.py
==================
577537cb;Ben Darnell;2015-06-21 14:08:21 -0400;Document StaticFileHandler's default_filename option.

==

tornado/web.py
==================
b647b842;Ben Darnell;2015-06-21 13:57:28 -0400;Clear __package__ in script run by autoreload CLI.
This prevents imports from incorrectly being interpreted as
relative to the 'tornado package, which would make the standard
'platform' module unimportable.

See bdarnell/plop#21

==

tornado/autoreload.py
==================
41c5f664;Greg Ward;2015-06-21 10:29:45 -0400;Tie the example for AsyncHTTPTestCase to real code.
Now all the reader has to do is copy one of the "Hello, world"
examples to hello.py, copy the test example to test_hello.py, import
AsyncHTTPTestCase, and run the test. It's still not entirely seamless
and idiot-proof, but it's progress!

Of note: the example test can now actually assert things about the
response it receives.

==

tornado/testing.py
==================
177e0341;Greg Ward;2015-06-21 10:20:31 -0400;Clarify the role and meaning of self.fetch() in AsyncHTTPTestCase.
The example code should just show the simple, obvious thing to do:
call self.fetch(). Text afterwards explains how this relates to stop()
and wait().

==

tornado/testing.py
==================
5039d3d2;Greg Ward;2015-06-21 10:04:21 -0400;Consistently format the three "Hello, world" examples (docs and README)
- encourage use of make_app() (makes testing easier)
- use fully-qualified module paths (painful in real-world code,
  but makes examples clearer)
- don't define a main() function that is never called: just
  use a boring old "__name__ == __main__" block, so the code
  can be copy + pasted + executed immediately
- just use a tuple when defining routes, not url(...): this is
  supposed to be a simple, minimalist example

==

README.rst
docs/guide/structure.rst
docs/index.rst
==================
45bea0dd;Ben Darnell;2015-06-11 00:05:36 -0400;Support Python 3.5 async/await native coroutines.
Requires changes to be included in 3.5b3.

==

tornado/concurrent.py
tornado/gen.py
tornado/test/gen_test.py
tornado/testing.py
tornado/web.py
==================
2971e857;Ben Darnell;2015-06-06 15:40:21 -0400;Get the tests passing under Python 3.5b2

==

tornado/test/web_test.py
tornado/util.py
==================
082ac5e8;Ben Darnell;2015-06-06 15:39:56 -0400;Bump version number to 4.3.dev1

==

setup.py
tornado/__init__.py
==================
fdfaf3df;Ben Darnell;2015-05-26 21:46:05 -0400;Set version number to 4.2.0

==

docs/releases/v4.2.0.rst
setup.py
tornado/__init__.py
==================
683429ac;Ben Darnell;2015-05-26 21:44:02 -0400;Clarify release notes about create_default_context.
Encourage use of SSLContext on the server side.

==

docs/releases/v4.2.0.rst
==================
433365ed;Ben Darnell;2015-05-25 10:24:22 -0400;Merge pull request #1446 from nero-luci/patch-1
[httputil.py] Word correction
==
==================
5b9ad455;Cornel Punga;2015-05-25 10:44:11 +0300;[httputil.py] Word correction

==

tornado/httputil.py
==================
f5380632;Ben Darnell;2015-05-19 21:46:21 -0400;Disable twisted's test_process on python 3.
The new twisted 15.2.0 has some failures in this test that appear to be
interactions between the two package's test suites rather than a problem
in the integration itself, so just disable the tests for now.

==

tornado/test/twisted_test.py
==================
61a16c90;Ben Darnell;2015-05-10 13:16:50 -0400;Fix title of 4.2 release notes page

==

docs/releases/v4.2.0.rst
==================
7041fd47;Ben Darnell;2015-05-10 13:12:52 -0400;Add missing release notes file.

==

docs/releases/v4.2.0.rst
==================
c46aaebe;Ben Darnell;2015-05-10 13:08:59 -0400;Set version number to 4.2b1

==

docs/releases.rst
docs/releases/next.rst
setup.py
tornado/__init__.py
==================
5fb7b06c;Ben Darnell;2015-05-09 22:28:35 -0400;Update release notes

==

docs/releases/next.rst
==================
01c78ebf;Ben Darnell;2015-05-09 21:55:00 -0400;Document RequestHandler.patch.
Add an example for overriding SUPPORTED_METHODS.

==

docs/web.rst
tornado/web.py
==================
2c401cf7;Ben Darnell;2015-05-07 23:03:27 -0400;Merge pull request #1436 from alunduil/add-dcos-to-sdist
add docs recursively to MANIFEST.in
==
==================
8e4ff358;Alex Brandt;2015-05-03 09:45:20 -0500;add docs recursively to MANIFEST.in
When packaging tornado for Gentoo I found the documentation was not
available in the sdist provided on pypi.  This adds the documentation so
that users can choose to install it locally.

==

MANIFEST.in
==================
c3aa6e5c;Ben Darnell;2015-05-05 22:16:30 -0700;Remove weak reference from WaitIterator.
This reference is the only thing holding the asynchronous "stack"
together in some cases, so making it weak could allow coroutines
to be garbage collected while running. This was mainly a problem
on Python 3.4, which is much better at garbage collecting generators
than older versions.

Fixes #1429.

==

tornado/gen.py
==================
62ecb802;Ben Darnell;2015-05-05 22:14:05 -0700;Echo the received websocket close code.
Fixes #1377.

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
dd3aabdd;Ben Darnell;2015-05-05 22:04:09 -0700;Document (ignored) timeout argument to Future methods.
Closes #1435.

==

tornado/concurrent.py
==================
bb77f288;Ben Darnell;2015-04-28 21:12:09 -0400;Merge pull request #1432 from szweep/unescape_fix
Modify xhtml_unescape to handle hex numeric refs
==
==================
598ffdac;szweep;2015-04-23 14:33:17 -0400;Modify xhtml_unescape to handle hex numeric refs
While the existing code handles references like &#32; properly,
it doesn't handle the valid case where the number is specified
in hex. For example 'foo&#32;bar', 'foo&#x20;bar' and 'foo&#X20;bar'
should all decode to 'foo bar'. The changes in escape.py check
for the 'x' and decode appropriately. Also added unit tests for
unescaping strings with numeric references.

==

tornado/escape.py
tornado/test/escape_test.py
==================
609dbb92;Ben Darnell;2015-04-24 10:01:30 -0400;Merge pull request #1431 from ajdavis/changelog-event-fix
More detail about porting from toro.Event.
==
==================
d327d8e6;Ben Darnell;2015-04-24 09:51:15 -0400;Merge pull request #1430 from ajdavis/spelling
Spelling.
==
==================
85ff3a08;A. Jesse Jiryu Davis;2015-04-24 09:32:34 -0400;More detail about porting from toro.Event.

==

docs/releases/next.rst
==================
eb58cb64;A. Jesse Jiryu Davis;2015-04-24 09:25:39 -0400;Spelling.

==

tornado/gen.py
==================
674d7eb5;Ben Darnell;2015-04-19 13:18:46 -0400;Make HTTPHeaders compatible with copy.copy and copy.deepcopy.

==

tornado/httputil.py
tornado/test/httputil_test.py
==================
ce16bf6c;Ben Darnell;2015-04-19 12:53:54 -0400;Merge pull request #1399 from martinhoefling/master
Cookie secret key versioning support
==
==================
5600fde8;Ben Darnell;2015-04-19 12:37:43 -0400;More doc updates.

==

docs/conf.py
docs/httpclient.rst
docs/process.rst
docs/releases/next.rst
tornado/httpserver.py
tornado/simple_httpclient.py
==================
7b2f9967;Ben Darnell;2015-04-19 12:05:29 -0400;Update release notes

==

docs/gen.rst
docs/ioloop.rst
docs/releases/next.rst
tornado/gen.py
==================
b567f413;Ben Darnell;2015-04-19 11:27:41 -0400;Merge pull request #1423 from ajdavis/changelog-locks-and-queues
Document Lock, notes for porting from Toro.
==
==================
86a2cab2;Ben Darnell;2015-04-19 11:22:13 -0400;Merge pull request #1422 from ajdavis/timeouts-not-deadlines
Timeouts not deadlines.
==
==================
7dc9f255;Martin Hoefling;2015-04-19 15:23:45 +0200;Merge branch 'master' of https://github.com/tornadoweb/tornado

==
==================
f3a7816e;Martin Hoefling;2015-04-19 15:13:51 +0200;Documentation for key versioning added

==

docs/guide/security.rst
docs/releases/next.rst
docs/web.rst
==================
b5fd020a;Martin Hoefling;2015-04-19 14:47:18 +0200;Key versioning: review comments addressed

==

tornado/test/web_test.py
tornado/web.py
==================
2cd010fb;A. Jesse Jiryu Davis;2015-04-18 23:10:56 -0400;Notes for porting from Toro to Tornado.

==

docs/releases/next.rst
==================
99a4e157;A. Jesse Jiryu Davis;2015-04-18 23:04:13 -0400;Document the Lock class.

==

docs/locks.rst
==================
0a4da491;Ben Darnell;2015-04-18 22:54:31 -0400;Delay shutdown of the IOLoop in sync HTTPClient test.
This appears to cause spurious logs in HTTP/2 tests.

==

tornado/test/httpclient_test.py
==================
8b1c466c;A. Jesse Jiryu Davis;2015-04-18 22:43:56 -0400;Replace 'deadline' with 'timeout' for Lock.acquire.

==

tornado/locks.py
tornado/test/locks_test.py
==================
b2e81f6b;A. Jesse Jiryu Davis;2015-04-18 22:40:34 -0400;Condition.wait examples should show timeout, not deadline.

==

tornado/locks.py
==================
d1676810;Ben Darnell;2015-04-18 19:19:00 -0400;Fix WaitIterator when no hard reference is kept.
Closes #1397.

==

tornado/gen.py
tornado/test/gen_test.py
==================
b450ff27;Ben Darnell;2015-04-18 18:53:38 -0400;Clean up and document run_on_executor kwargs change.

==

tornado/concurrent.py
tornado/test/concurrent_test.py
==================
9fa0740d;Ben Darnell;2015-04-18 18:41:53 -0400;Merge pull request #1406 from legnaleurc/run_on_executor
Add arguments to run_on_executor
==
==================
cf766125;Ben Darnell;2015-04-18 18:15:14 -0400;Fix exception handling in CurlAsyncHTTPClient._process_queue.
Previously it would allow exceptions to escape, which worked only if
_process_queue were called by fetch_impl instead of
_finish_pending_requests.

Closes #1413.

==

tornado/curl_httpclient.py
==================
2bd2f0db;Ben Darnell;2015-04-18 14:12:44 -0400;Add raise_error behavior to Subprocess.wait_for_exit.
Closes #1205.

==

tornado/process.py
tornado/test/process_test.py
==================
3daac1d7;Ben Darnell;2015-04-18 13:52:14 -0400;Merge pull request #1419 from kippandrew/fix-client-max-body
Add max_body_size parameter to SimpleHTTPClient
==
==================
616e9f0c;Ben Darnell;2015-04-18 12:21:10 -0400;Use the correct expression for detecting the presence of asyncio.

==

.travis.yml
==================
71d1cb48;Ben Darnell;2015-04-18 12:06:40 -0400;Fix typo in travis.yml

==

.travis.yml
==================
a80b353a;Ben Darnell;2015-04-18 12:00:31 -0400;Add AsyncIOLoop to travis.yml

==

.travis.yml
==================
838e1cf0;Ben Darnell;2015-04-18 11:57:22 -0400;Add **kwargs to IOLoop initializers.
This makes them compatible with the new make_current argument.

Add additional delay in test_streaming_until_close_future
for compatibility with AsyncIOLoop.

==

tornado/ioloop.py
tornado/platform/asyncio.py
tornado/platform/twisted.py
tornado/test/iostream_test.py
tornado/test/twisted_test.py
==================
3eb4e9f2;Ben Darnell;2015-04-17 10:29:38 -0400;Merge pull request #1421 from ajdavis/spider-example
Add a web spider example to demonstrate Queue.
==
==================
d1829969;A. Jesse Jiryu Davis;2015-04-17 10:04:35 -0400;Remove unnecessary "start-file" markup.

==

demos/webspider/webspider.py
docs/guide/queues.rst
==================
aed1fc45;A. Jesse Jiryu Davis;2015-04-14 21:29:23 -0400;Remove redundant description of web-spider demo.

==

demos/webspider/webspider.py
docs/guide/queues.rst
==================
41724baf;A. Jesse Jiryu Davis;2015-04-14 21:24:42 -0400;Add a web spider example to demonstrate Queue.

==

demos/webspider/webspider.py
docs/guide.rst
docs/guide/queues.rst
==================
e6589a7a;Andy Kipp;2015-04-14 11:27:55 -0400;Fix for python 3

==

tornado/test/simple_httpclient_test.py
==================
889e7f01;Andy Kipp;2015-04-14 10:18:54 -0400;Send max_body_size to HTTP1Connection

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
tornado/websocket.py
==================
c6a427ca;Ben Darnell;2015-04-13 20:25:43 +0100;Merge pull request #1417 from ajdavis/locks-doctests
Move doctests from locks.rst to locks.py.
==
==================
9f72157a;A. Jesse Jiryu Davis;2015-04-12 17:16:08 -0400;Move doctests from locks.rst to locks.py docstrings.
For consistency with queues doctests.

==

docs/locks.rst
tornado/locks.py
==================
303c09ce;Ben Darnell;2015-04-12 21:19:31 +0100;Merge pull request #1416 from ajdavis/reliable-queues-doctest
reliable-queues-doctest
==
==================
556a25da;A. Jesse Jiryu Davis;2015-04-12 13:28:46 -0400;Reliable Semaphore doctest.
100ms sleep doesn't always order the test output on Travis slaves.

==

docs/locks.rst
==================
d76755bf;Ben Darnell;2015-04-10 17:46:56 +0100;Merge pull request #1409 from ajdavis/document-queues
Document queues.
==
==================
a4473f67;Ben Darnell;2015-04-10 17:46:47 +0100;Merge pull request #1408 from ajdavis/doc-bounded-sem
Document locks.BoundedSemaphore.
==
==================
5a3d4bea;A. Jesse Jiryu Davis;2015-04-10 00:01:58 -0400;Remove redundant doctest of BoundedSemaphore.release.

==

docs/locks.rst
==================
8d468a25;A. Jesse Jiryu Davis;2015-04-09 23:58:17 -0400;Move doctests from queues.rst to queues.py.

==

docs/queues.rst
tornado/queues.py
==================
d25baa48;A. Jesse Jiryu Davis;2015-04-09 23:50:12 -0400;Add "autoclass" for PriorityQueue and LifoQueue.

==

docs/queues.rst
==================
054b8722;A. Jesse Jiryu Davis;2015-04-09 23:43:55 -0400;Use autoexception for QueueFull/Empty docs.

==

docs/queues.rst
==================
24aa16e8;Ben Darnell;2015-04-08 22:10:04 -0400;Merge pull request #1412 from abhinav/master
Allow the same future multiple times in `multi_future`
==
==================
ade343d0;Ben Darnell;2015-04-07 23:53:29 -0400;Merge pull request #1411 from Liuchang0812/fix-format
use key-word "super" replace hard code
==
==================
37217379;Abhinav Gupta;2015-04-07 11:57:45 -0700;Allow the same future multiple times in `multi_future`
This prevents failures in cases like the following:

    f = <some future>
    yield [f, f]

==

tornado/gen.py
tornado/test/gen_test.py
==================
1a8a4d3d;whu_liuchang;2015-04-05 20:04:50 +0800;Update blog.py
use recommended style
==

demos/blog/blog.py
==================
d1288380;A. Jesse Jiryu Davis;2015-04-04 09:08:22 -0400;Document queues.

==

docs/queues.rst
==================
d2a4a066;A. Jesse Jiryu Davis;2015-04-04 08:39:11 -0400;Document locks.BoundedSemaphore.

==

docs/locks.rst
==================
3e4a735f;Ben Darnell;2015-04-03 13:52:49 -0400;Merge pull request #1405 from scipetr/patch-1
Fixed autoreload for Python 3
==
==================
63f56d18;Wei-Cheng Pan;2015-04-02 23:22:36 +0900;Add testcases.

==

tornado/test/concurrent_test.py
==================
b235f583;Evgeniy Dobrohvalov;2015-04-02 16:49:36 +0300;Fixed autoreload for Python 3
Changed th system module values check to return a list.
In Python 3 it returns a dict_view which could occassionally produce
a runtime error of "dictionary changed size during iteration".
==

tornado/autoreload.py
==================
3d13a2f4;Wei-Cheng Pan;2015-03-31 18:15:49 +0800;Allow clients to specify attrs in decorator.
Clients can specify `executor` and `io_loop` attribute name in
`run_on_executor` decorator.

==

tornado/concurrent.py
==================
4823df25;Ben Darnell;2015-03-30 23:30:56 -0400;Merge pull request #1401 from ajdavis/document-semaphore
Document locks.Semaphore.
==
==================
71597180;A. Jesse Jiryu Davis;2015-03-30 22:41:05 -0400;Document locks.Semaphore.

==

docs/locks.rst
tornado/locks.py
==================
0f92f995;Ben Darnell;2015-03-29 23:22:55 -0400;Use more consistent language in exception logs.

==

tornado/concurrent.py
==================
00231e08;Ben Darnell;2015-03-29 20:55:28 -0400;Clean up some more tests that fail or log with HTTP/2.

==

tornado/test/httpserver_test.py
tornado/test/simple_httpclient_test.py
tornado/test/web_test.py
==================
4f86890c;Ben Darnell;2015-03-29 16:22:26 -0400;Add make_current keyword argument to IOLoop constructor.
This allows applications to create an IOLoop to be started in another
thread without making it current in the originating thread.

Update docs to use IOLoop.current() in place of IOLoop.instance() when
starting the loop.

Closes #1390.

==

demos/benchmark/chunk_benchmark.py
demos/blog/blog.py
demos/chat/chatdemo.py
demos/facebook/facebook.py
demos/helloworld/helloworld.py
demos/s3server/s3server.py
demos/twitter/twitterdemo.py
demos/websocket/chatdemo.py
docs/asyncio.rst
docs/index.rst
docs/twisted.rst
tornado/httpclient.py
tornado/httpserver.py
tornado/ioloop.py
tornado/iostream.py
tornado/platform/twisted.py
tornado/tcpserver.py
tornado/test/process_test.py
tornado/web.py
tornado/wsgi.py
==================
91f3f0fe;Ben Darnell;2015-03-29 14:17:36 -0400;Add a quiet_exceptions argument to gen.Multi and gen.multi_future.
Closes #1378.

==

tornado/gen.py
tornado/test/gen_test.py
==================
c95843cf;Ben Darnell;2015-03-29 14:04:46 -0400;gen.multi_future and gen.Multi log any exceptions after the first.
They were already logged when the Future was GC'd, but this is
cleaner and more reliable than the destructor hook.

See #1378.

==

tornado/gen.py
tornado/test/gen_test.py
==================
b5b0b37a;Ben Darnell;2015-03-29 12:55:21 -0400;Update next-release notes

==

docs/releases/next.rst
tornado/locale.py
==================
b22bec6c;Ben Darnell;2015-03-29 12:05:30 -0400;Remove the deprecated/obsolete auth mixins.
Both Google's OpenID service and FriendFeed are slated to shut down
before the next release of Tornado, and FacebookMixin has been
deprecated in favor of OAuth 2.0 for a long time.

==

docs/auth.rst
docs/guide/security.rst
docs/releases/v4.0.0.rst
tornado/auth.py
tornado/test/auth_test.py
==================
ad403acd;Ben Darnell;2015-03-29 11:47:32 -0400;Merge remote-tracking branch 'origin/stable'

==
==================
a8986e48;Ben Darnell;2015-03-29 11:45:50 -0400;Replace blog demo's google login with a simple email/password scheme.

==

demos/blog/Dockerfile
demos/blog/blog.py
demos/blog/docker-compose.yml
demos/blog/requirements.txt
demos/blog/schema.sql
demos/blog/templates/create_author.html
demos/blog/templates/login.html
==================
61817b4d;Martin Hoefling;2015-03-29 17:00:59 +0200;Cookie secret key versioning support

==

tornado/test/web_test.py
tornado/web.py
==================
c360c348;Ben Darnell;2015-03-28 15:27:56 -0400;Add a docker-based environment for running the blog demo.

==

demos/blog/Dockerfile
demos/blog/README
demos/blog/blog.py
demos/blog/docker-compose.yml
demos/blog/requirements.txt
==================
a4533b67;Ben Darnell;2015-03-28 12:43:09 -0400;Remove GoogleMixin auth demo.
GoogleMixin is going away, and the remaining auth varieties are covered
by the facebook and twitter demos.

==

demos/auth/authdemo.py
==================
bade3746;Ben Darnell;2015-03-28 12:34:14 -0400;Remove authentication from chat demo.
Google OpenID authentication is shutting down soon and its replacement
requires app registration, so it's better to make this demo like the
websocket one to show off long-polling concepts without auth-related
complexity.

==

demos/chat/chatdemo.py
demos/chat/templates/index.html
demos/chat/templates/message.html
==================
dcc8f361;Ben Darnell;2015-03-28 11:14:21 -0400;Merge pull request #1398 from ajdavis/event-doc
Document locks.Event.
==
==================
bb5c8bde;A. Jesse Jiryu Davis;2015-03-28 06:02:32 -0400;Clarify event.wait's blocking behavior.

==

docs/locks.rst
==================
83d07d80;A. Jesse Jiryu Davis;2015-03-27 06:20:40 -0400;More concise locks examples.

==

docs/locks.rst
==================
7ecc0312;A. Jesse Jiryu Davis;2015-03-27 06:17:31 -0400;Document locks.Event.

==

docs/locks.rst
==================
4dd78cff;Ben Darnell;2015-03-26 23:50:15 -0400;Fix read_until_close's Future return with streaming_callback.
Fixes #1395.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
24677828;Ben Darnell;2015-03-26 23:36:43 -0400;Add Subprocess.wait_for_exit, a coro-friendly set_exit_callback().
Fixes #1391.

==

tornado/process.py
tornado/test/process_test.py
==================
f69b8046;Ben Darnell;2015-03-26 23:20:58 -0400;Clarify documentation around `@asynchronous`.
The lack of `@asynchronous` is no longer the most likely cause
of write-after-finish errors, and we should discourage the
combination of `@asynchronous` and `@coroutine`.

Include some more context in the error message for RequestHandler.write(list).

==

tornado/web.py
==================
f5e19185;Ben Darnell;2015-03-26 08:30:31 -0400;Merge pull request #1396 from ajdavis/locks-doc
Document tornado.locks.
==
==================
42b38827;A. Jesse Jiryu Davis;2015-03-26 06:31:57 -0400;Make specific example code for Condition.

==

docs/locks.rst
==================
d75df2ac;A. Jesse Jiryu Davis;2015-03-26 06:19:47 -0400;Replace "loop" with "io_loop" in locks example.

==

docs/locks.rst
==================
fe662263;A. Jesse Jiryu Davis;2015-03-25 06:18:32 -0400;Document tornado.locks.

==

docs/locks.rst
==================
7568b9c9;Ben Darnell;2015-03-24 20:40:00 -0400;Merge pull request #1394 from ajdavis/queue-subclasses
Queue subclasses.
==
==================
79967e91;A. Jesse Jiryu Davis;2015-03-23 23:35:20 -0400;Add PriorityQueue and LifoQueue.

==

tornado/queues.py
tornado/test/queues_test.py
==================
6af64db7;A. Jesse Jiryu Davis;2015-03-23 23:16:22 -0400;Redundant sentence.

==

tornado/queues.py
==================
bb02cd70;Ben Darnell;2015-03-20 15:28:53 -0400;Guard against messages containing % signs in web.HTTPError.
This occurs in cases like RequestHandler.get_argument which
build their own message string instead of passing a printf
string and args to HTTPError.

Fixes #1393.

==

tornado/test/web_test.py
tornado/web.py
==================
d635c56e;Ben Darnell;2015-03-19 21:29:26 -0400;Finish incomplete sentence in docstring.
Fixes #1389

==

tornado/ioloop.py
==================
6d171185;Ben Darnell;2015-03-18 10:32:34 -0400;Merge pull request #1388 from arikfr/patch-1
Small documentation fix: "Google OpenID" -> "Google OAuth".
==
==================
fe438fa9;Arik Fraimovich;2015-03-18 15:51:40 +0200;Small documentation fix: "Google OpenID" -> "Google OAuth".

==

tornado/auth.py
==================
14ae309f;Ben Darnell;2015-03-16 21:53:18 -0400;Merge pull request #1381 from ajdavis/locks-cancel-timeouts
Cancel timeouts in Condition.wait and Semaphore.acquire.
==
==================
727d43e7;Ben Darnell;2015-03-16 21:52:27 -0400;Merge pull request #1382 from mgenti/appengine-fix
Fix for running tornado in app engine under Windows
==
==================
2aad9199;Mark Guagenti;2015-03-16 13:43:31 -0500;APPENGINE_RUNTIME should be checked before nt

==

tornado/platform/auto.py
==================
ba5843f1;A. Jesse Jiryu Davis;2015-03-16 09:04:04 -0400;Cancel timeouts in Condition.wait and Semaphore.acquire.

==

tornado/locks.py
tornado/test/locks_test.py
==================
f5c07047;Ben Darnell;2015-03-15 22:00:58 -0400;Merge pull request #1380 from ajdavis/queues
Add tornado.queues.
==
==================
486abfb8;A. Jesse Jiryu Davis;2015-03-15 21:09:12 -0400;Cancel timeouts if Queue.get or put are resolved first.

==

tornado/queues.py
tornado/test/queues_test.py
==================
42e01ed9;A. Jesse Jiryu Davis;2015-03-15 21:08:36 -0400;Unused import.

==

tornado/queues.py
==================
b1bd3221;A. Jesse Jiryu Davis;2015-03-15 17:47:13 -0400;Factor put with put_nowait, and get with get_nowait.

==

tornado/queues.py
==================
d8666b4e;A. Jesse Jiryu Davis;2015-03-15 17:41:55 -0400;put() doesn't defer unblocking get().

==

tornado/queues.py
tornado/test/queues_test.py
==================
08921218;A. Jesse Jiryu Davis;2015-03-14 17:52:39 -0400;Add tornado.queues.

==

docs/coroutine.rst
docs/queues.rst
tornado/queues.py
tornado/test/queues_test.py
tornado/test/runtests.py
==================
54a144db;Ben Darnell;2015-03-14 13:37:01 -0400;Make some tests less dependent on implementation details

==

tornado/test/httpclient_test.py
==================
9189e8a0;Ben Darnell;2015-03-14 10:15:57 -0400;Mark some tests as requiring HTTP/1.x

==

tornado/httputil.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/simple_httpclient_test.py
==================
859df388;Ben Darnell;2015-03-14 00:33:41 -0400;WSGIContainer now uses HTTPConnection to write its response.

==

tornado/wsgi.py
==================
42b9e6ff;Ben Darnell;2015-03-13 18:48:31 -0400;Also make certifi optional on app engine.

==

tornado/netutil.py
==================
16500b54;Ben Darnell;2015-03-13 18:45:00 -0400;Merge pull request #1379 from mgenti/appengine-fix
Fix for using Tornado in GAE
==
==================
724d4337;Mark Guagenti;2015-03-13 12:29:23 -0500;GAE does not have the ssl module so we can't access ssl.CERT_REQUIRED

==

tornado/netutil.py
==================
012eff38;Ben Darnell;2015-03-12 09:57:26 -0400;Merge pull request #1376 from rutsky/patch-1
fix typo: "javscript"
==
==================
dd77533d;Vladimir Rutsky;2015-03-12 13:34:27 +0300;fix typo: "javscript"

==

tornado/escape.py
==================
7445b584;Ben Darnell;2015-03-11 10:49:26 -0400;Merge pull request #1375 from rutsky/patch-1
fix typo: "initalization"
==
==================
9b3f414a;Vladimir Rutsky;2015-03-11 16:55:56 +0300;fix typo: "initalization"

==

docs/guide/structure.rst
==================
0dd94b9e;Ben Darnell;2015-03-09 22:25:50 -0400;Merge pull request #1373 from daftshady/patch
Fixed double slash redirect issue
==
==================
21657acf;daftshady;2015-03-09 13:06:33 +0900;temporarily fixed double slash redirect issue

==

tornado/test/web_test.py
tornado/web.py
==================
cf2a5479;Ben Darnell;2015-03-08 23:08:25 -0400;simple_httpclient: finish() should be called even for body-less GET.
This matters for HTTP2 where there is an explicit end-stream marker.

==

tornado/simple_httpclient.py
==================
0d4eaeb6;Ben Darnell;2015-03-08 22:04:59 -0400;Remove a special case that avoided using curl in tests for HTTPS.
This problem should have long since been fixed; any problematic
configurations don't deserve to misleadingly pass the tests.

==

tornado/testing.py
==================
d0cef40f;Ben Darnell;2015-03-08 20:18:15 -0400;Add a couple of private subclsasing hooks in simple_httpclient.

==

tornado/simple_httpclient.py
==================
b43fccbc;Ben Darnell;2015-03-08 19:05:28 -0400;Make HTTPServer Configurable.
Relax some overly-specific tests.

==

tornado/httpserver.py
tornado/test/httpserver_test.py
tornado/test/runtests.py
==================
00703240;Ben Darnell;2015-03-08 19:05:11 -0400;Support positional arguments to Configurable.initialize.

==

tornado/test/util_test.py
tornado/util.py
==================
e49a0c28;Ben Darnell;2015-03-08 10:33:40 -0400;Make _request_summary handle remote_ip of None.
HTTPServerRequest has a default of None here although it is
set by both HTTPServer and WSGIAdapter.

==

tornado/test/web_test.py
tornado/web.py
==================
4092f9dd;Ben Darnell;2015-03-08 10:23:05 -0400;Improve logging when _handle_request_exception fails.
Stop discarding the exception returned by _execute.

==

tornado/test/web_test.py
tornado/web.py
==================
6faa27fb;Ben Darnell;2015-03-08 10:02:19 -0400;Add @wsgi_safe decorator to a couple of web tests.

==

tornado/test/web_test.py
==================
b79f82aa;Ben Darnell;2015-03-07 23:12:41 -0500;Allow TCPServer.handle_stream to be a coroutine

==

tornado/tcpserver.py
tornado/test/runtests.py
tornado/test/tcpserver_test.py
==================
dfb752a7;Ben Darnell;2015-03-07 19:43:57 -0500;Add SSLIOStream.wait_for_handshake.
This allows server-side applications to wait for the handshake to
complete in order to verify client certificates or use NPN/ALPN.

Fix a discrepancy between the callback and Future modes of
SSLIOStream.connect; now they both wait for the handshake to
complete.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
6248b62a;Ben Darnell;2015-03-07 12:58:20 -0500;Merge pull request #1371 from ysimonson/feature/get-arguments-guard
Prevent bad calls to get_arguments with a presumed default value
==
==================
917c9cab;Yusuf Simonson;2015-03-07 12:34:37 -0500;Prevent bad calls to get_arguments with a presumed default value

==

tornado/web.py
==================
9a8a98ea;Ben Darnell;2015-03-05 22:56:48 -0500;Merge pull request #1274 from daftshady/etag
Fixed #1218.
==
==================
ddc84fd1;daftshady;2015-03-05 20:56:29 +0900;removed newline

==

tornado/test/web_test.py
==================
9275deb3;daftshady;2015-03-05 20:52:50 +0900;added etag tests to web_test

==

tornado/test/web_test.py
==================
196bcc68;daftshady;2015-03-05 17:58:55 +0900;fixed bytes error in `check_etag_header` so that it can run in python3

==

tornado/web.py
==================
89e153fc;daftshady;2015-03-02 17:35:50 +0900;added etag testcases to red_test

==

maint/test/redbot/red_test.py
==================
8db1f666;daftshady;2015-03-02 17:34:42 +0900;use weak comparison function when comparing entity-tags

==

tornado/web.py
==================
8024eee2;daftshady;2015-01-31 05:49:46 +0900;handle multiple etags with regex

==

tornado/web.py
==================
23f033d5;daftshady;2014-12-12 20:05:35 +0900;comment typo

==

tornado/web.py
==================
18a9e197;daftshady;2014-12-12 19:49:13 +0900;correctly parse If-None-Match header

==

tornado/web.py
==================
c60d6468;Ben Darnell;2015-03-04 23:25:59 -0500;Count SSL_ERROR_EOF as a kind of connection reset.
This reduces log spam and lets us remove an old (and timing-sensitive)
test workaround.

Closes #1362.

==

tornado/iostream.py
tornado/test/simple_httpclient_test.py
==================
733a0fa3;Ben Darnell;2015-03-04 22:27:41 -0500;Fix raise_error=False in synchronous HTTPClient.
The call to rethrow was redundant when raise_error was true,
and caused settings of raise_error=False to be ignored.

Closes #1351.

==

tornado/httpclient.py
==================
b52bb5c9;Ben Darnell;2015-03-04 22:23:24 -0500;Fix an error in autoreload on windows.
Our pre-exec cleanup causes problems on platforms where we spawn
a new process and call sys.exit.

Closes #1360.

==

tornado/autoreload.py
==================
6983d1ea;Ben Darnell;2015-03-04 00:01:43 -0500;Merge branch 'branch4.1'

==
==================
83a06917;Ben Darnell;2015-03-04 00:01:05 -0500;Add an FAQ page.

==

docs/faq.rst
docs/index.rst
==================
b06e7de2;Ben Darnell;2015-03-03 22:51:17 -0500;Fix the doc build.
Readthedocs' mirror of python's intersphinx index appears to
be gone.

==

docs/conf.py
==================
0087f091;Ben Darnell;2015-03-03 22:51:17 -0500;Fix the doc build.
Readthedocs' mirror of python's intersphinx index appears to
be gone.

==

docs/conf.py
==================
44c8c3d8;Ben Darnell;2015-03-03 20:32:08 -0500;Merge pull request #1366 from ajdavis/semaphore-garbage-collect
Clean up timed-out waiters in Semaphore.
==
==================
ad38e767;A. Jesse Jiryu Davis;2015-03-03 12:14:57 -0500;Clean up timed-out waiters in Semaphore.

==

tornado/locks.py
tornado/test/locks_test.py
==================
458cc4fe;Ben Darnell;2015-03-01 14:38:14 -0500;Remove some debugging code that was accidentally committed.

==

tornado/ioloop.py
==================
7ebed4ac;Ben Darnell;2015-02-28 14:47:23 -0500;Merge pull request #1356 from ajdavis/semaphore-memleak
Fix memory leak in Semaphore.
==
==================
c493323c;Ben Darnell;2015-02-28 14:47:02 -0500;Merge pull request #1353 from ajdavis/lock
Add tornado.locks.Lock.
==
==================
0c7c464a;A. Jesse Jiryu Davis;2015-02-28 13:44:27 -0500;Fix memory leak in Semaphore.

==

tornado/locks.py
tornado/test/locks_test.py
==================
b9223295;A. Jesse Jiryu Davis;2015-02-28 13:40:32 -0500;Restore LockTests.test_acquire_fifo.

==

tornado/test/locks_test.py
==================
30a80a09;A. Jesse Jiryu Davis;2015-02-28 13:35:36 -0500;Don't promise that coroutines waiting for a Lock are FIFO.

==

tornado/locks.py
tornado/test/locks_test.py
==================
15847e26;Ben Darnell;2015-02-28 13:08:52 -0500;Merge pull request #1355 from ajdavis/locks-repr
Define Condition's and Event's repr, not str.
==
==================
28b7f01f;Ben Darnell;2015-02-28 12:55:09 -0500;Merge pull request #1354 from ajdavis/bounded-semaphore-release-docstring
Add docstring to BoundedSemaphore.release.
==
==================
343abe6c;A. Jesse Jiryu Davis;2015-02-28 12:19:18 -0500;Define Condition's and Event's repr, not str.
Consistent with asyncio's Condition and Event.

==

tornado/locks.py
tornado/test/locks_test.py
==================
332ff754;A. Jesse Jiryu Davis;2015-02-28 12:14:29 -0500;Add docstring to BoundedSemaphore.release.

==

tornado/locks.py
==================
8e4f2b2a;A. Jesse Jiryu Davis;2015-02-28 12:08:46 -0500;Add tornado.locks.Lock.

==

tornado/locks.py
tornado/test/locks_test.py
==================
dee6ab5d;Ben Darnell;2015-02-26 22:50:03 -0500;Merge pull request #1352 from ajdavis/bounded-semaphore
Add tornado.locks.BoundedSemaphore.
==
==================
a7454fc6;A. Jesse Jiryu Davis;2015-02-26 22:11:00 -0500;Add tornado.locks.BoundedSemaphore.

==

tornado/locks.py
tornado/test/locks_test.py
==================
825eec05;Ben Darnell;2015-02-25 22:16:52 -0500;Merge pull request #1346 from ajdavis/semaphore
Add tornado.locks.Semaphore.
==
==================
bc1cb633;A. Jesse Jiryu Davis;2015-02-25 15:59:04 -0500;More tests of Semaphore, timeout, and with-statement.

==

tornado/test/locks_test.py
==================
897ef080;A. Jesse Jiryu Davis;2015-02-25 15:54:46 -0500;Remove Semaphore.io_loop.

==

tornado/locks.py
==================
7d9c893c;A. Jesse Jiryu Davis;2015-02-25 15:54:06 -0500;Remove public APIs Semaphore.counter and locked().

==

tornado/locks.py
tornado/test/locks_test.py
==================
a3d255d3;A. Jesse Jiryu Davis;2015-02-25 15:52:55 -0500;Simpler code for Semaphore.acquire() as a context manager.

==

tornado/locks.py
==================
5687cc79;Ben Darnell;2015-02-24 19:39:53 -0500;Merge pull request #1349 from st4lk/pgettext_ns
Add pgettext to default template namespace
==
==================
d5d23cb6;st4lk;2015-02-24 13:48:10 +0300;don't show pgettext en language warning

==

tornado/locale.py
==================
f55a8650;st4lk;2015-02-24 13:45:25 +0300;add pgettext to default template namespace

==

tornado/web.py
==================
1ceeb1ff;Ben Darnell;2015-02-23 10:49:23 -0500;Merge pull request #1348 from st4lk/locale_doc_fix
Fix doc typos (pgettext)
==
==================
809da9c2;st4lk;2015-02-23 12:16:02 +0300;Fix doc typos (pgettext)

==

tornado/locale.py
==================
c3160957;Ben Darnell;2015-02-21 19:46:44 -0500;Merge pull request #1317 from st4lk/locale_context
Locale context (pgettext support)
==
==================
497245e9;Ben Darnell;2015-02-21 17:55:29 -0500;Expand PeriodicCallback docs and testing.
Fixes #1345.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
0b2ecd3f;Ben Darnell;2015-02-19 23:08:25 -0500;Merge pull request #1344 from ajdavis/event-cleanups
Event cleanups.
==
==================
892f0ace;A. Jesse Jiryu Davis;2015-02-19 22:43:50 -0500;Be explicit: Event.wait raises tornado.gen.TimeoutError.

==

tornado/locks.py
==================
10fd9491;A. Jesse Jiryu Davis;2015-02-19 22:32:36 -0500;Add tornado.locks.Semaphore.

==

tornado/locks.py
tornado/test/locks_test.py
==================
22640a7c;A. Jesse Jiryu Davis;2015-02-19 22:04:49 -0500;Rename TestEvent to EventTest.

==

tornado/test/locks_test.py
==================
82ab31ca;A. Jesse Jiryu Davis;2015-02-19 22:03:19 -0500;Simpler markup in Event.wait docstring.

==

tornado/locks.py
==================
502b1ad7;Ben Darnell;2015-02-19 19:41:50 -0500;Merge pull request #1343 from browning/httpclient-exception-typo
Fix simple typo in httpclient exception message
==
==================
1f3f7e4a;Brian Browning;2015-02-19 16:17:46 -0800;Fix simple typo in httpclient exception message
Unelss should be unless
==

tornado/simple_httpclient.py
==================
89c663ec;Ben Darnell;2015-02-18 17:18:22 -0500;Remove long-forgotten (and overly pessimistic) README.

==

tornado/test/README
==================
9eb8520d;Ben Darnell;2015-02-18 17:17:26 -0500;Fix web_test for python 3.5a1.
Compare strings case-insensitively since the behavior of the
cookie library has changed.

==

tornado/test/web_test.py
==================
d4982e8b;Ben Darnell;2015-02-18 17:12:13 -0500;Fix SSLIOStream in Python 3.5a1.
The behavior of SSLSocket.send() with an unwriteable socket
has changed: http://bugs.python.org/issue20951

==

tornado/iostream.py
==================
6932b738;Ben Darnell;2015-02-18 09:54:44 -0500;Merge pull request #1341 from ajdavis/event
Add tornado.locks.Event.
==
==================
f5254112;A. Jesse Jiryu Davis;2015-02-18 08:57:09 -0500;Import unittest2 in locks_test if needed.

==

tornado/test/locks_test.py
==================
1c3d22fc;A. Jesse Jiryu Davis;2015-02-18 08:56:52 -0500;Fix multiple calls to Event.clear.

==

tornado/locks.py
tornado/test/locks_test.py
==================
fe9037a1;Ben Darnell;2015-02-17 22:33:36 -0500;Make "certifi" optional on py34.

==

setup.py
tornado/netutil.py
tornado/simple_httpclient.py
tornado/test/iostream_test.py
tornado/test/simple_httpclient_test.py
==================
dcd1ef81;Ben Darnell;2015-02-17 22:16:19 -0500;Start next-release notes

==

docs/releases.rst
docs/releases/next.rst
tornado/log.py
==================
a12d531a;Ben Darnell;2015-02-17 20:35:19 -0500;Bind options argument in define_logging_options.
This allows it to be used with non-default options instances.

Fixes #1342.

==

tornado/log.py
==================
d2114d9d;A. Jesse Jiryu Davis;2015-02-17 13:16:07 -0500;Combine lock tests into locks_test.py

==

tornado/test/event_test.py
tornado/test/locks_test.py
tornado/test/runtests.py
==================
17598514;A. Jesse Jiryu Davis;2015-02-17 13:09:09 -0500;Event.wait raises TimeoutError instead of returning False.

==

tornado/locks.py
tornado/test/event_test.py
==================
c229167e;A. Jesse Jiryu Davis;2015-02-17 13:05:33 -0500;Event.io_loop is unused.

==

tornado/locks.py
==================
d7cbb18f;A. Jesse Jiryu Davis;2015-02-15 20:20:18 -0500;Add tornado.locks.Event.
Copied from Toro with small improvements.

==

tornado/locks.py
tornado/test/event_test.py
tornado/test/runtests.py
==================
673b7593;A. Jesse Jiryu Davis;2015-02-15 19:16:11 -0500;Unused imports in locks.py.

==

tornado/locks.py
==================
553b5437;Ben Darnell;2015-02-15 19:02:11 -0500;Fix docs and relax a test.

==

tornado/httpclient.py
tornado/test/simple_httpclient_test.py
==================
4d38de67;Ben Darnell;2015-02-15 18:35:07 -0500;Disable SSL compression on py32-33.
This passes howsmyssl.com for python 2.7.9 and above; the older
versions are fairly hopeless.

==

tornado/netutil.py
==================
df6f4d58;Ben Darnell;2015-02-15 18:29:52 -0500;Fix tests on py26

==

tornado/test/simple_httpclient_test.py
==================
438b976b;Ben Darnell;2015-02-15 18:23:19 -0500;Reuse a global SSLContext by default in simple_httpclient

==

tornado/iostream.py
tornado/netutil.py
tornado/simple_httpclient.py
==================
4479de38;Ben Darnell;2015-02-15 18:06:07 -0500;Document that allow_ipv6 is now true in simple_httpclient.

==

tornado/httpclient.py
==================
588c4bdd;Ben Darnell;2015-02-15 18:04:52 -0500;Add ssl_options argument for simple_httpclient.

==

tornado/curl_httpclient.py
tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
308d8724;Ben Darnell;2015-02-15 17:40:40 -0500;Validate SSL certs by default at the IOStream level.
Use the system certificates instead of certifi when available.
Note that this does not change the behavior of simple_httpclient,
which always uses certifi but will be changing in a future commit.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
d41d1609;Ben Darnell;2015-02-15 12:12:25 -0500;Update ssl_options docs to use SSLContext.
Now that Python 2 has a modern SSL package, SSLContext can
be presented as the default instead of the dictionary of
options.

Fixes #1322.

==

tornado/httpserver.py
tornado/httputil.py
tornado/iostream.py
tornado/netutil.py
tornado/tcpserver.py
==================
3e311aaf;Ben Darnell;2015-02-15 11:40:46 -0500;Document the limitations of read_until_close(streaming_callback=).
As noted in #1334 and #1339.

==

tornado/iostream.py
==================
1b541525;Ben Darnell;2015-02-15 10:57:12 -0500;Merge pull request #1340 from jonashagstedt/master
_on_close_called is set to True (was always False)
==
==================
c18abd80;Ben Darnell;2015-02-15 10:56:15 -0500;Merge pull request #1338 from ajdavis/condition-squashed
Add tornado.locks.Condition.
==
==================
3ec5f7a5;Jonas Hagstedt;2015-02-15 01:56:31 +0100;_on_close_called is set to True (was always False)

==

tornado/websocket.py
==================
32acb5c0;A. Jesse Jiryu Davis;2015-02-14 14:30:48 -0500;Add tornado.locks.Condition.
Copied from Toro with small improvements.

==

docs/coroutine.rst
docs/locks.rst
tornado/locks.py
tornado/test/condition_test.py
tornado/test/runtests.py
==================
8b6bbba1;Ben Darnell;2015-02-12 18:15:38 -0500;Increase the timeout on a test that's failing on travis-ci.
It is inexplicably failing on py27 DEPS=false while passing in other
configurations.

==

tornado/test/ioloop_test.py
==================
a015429d;Ben Darnell;2015-02-12 18:06:51 -0500;Merge pull request #1333 from carlsverre/master
Coroutine exception __context__ leak in python 3
==
==================
35061911;Ben Darnell;2015-02-12 17:05:48 -0500;Merge pull request #1336 from grafuls/master
flake8 cleanup
==
==================
b2091c40;Carl Sverre;2015-02-11 20:00:02 -0800;Coroutine exception __context__ leak in python 3
In Python 3 every exception has an auto-attached __context__ exception if it was
raised while an existing exception was being handled.  This is often a very
useful property and allows users to see the underlying cause of many problems.

However, when dealing with async code via coroutines this feature can suddenly
become a pretty big issue.  Namely, if you generator.throw back into a coroutine
to raise an exception in the correct scope, and that coroutine raises an
exception at a later time you can have nested exceptions which shouldn't
logically be nested.

This patch resolves this issue in the coroutine code by moving the gen.throw
outside of the exception handler.  By doing this the user-code scope is able to
later raise exceptions without worrying about inheriting prior exception
context.

==

tornado/gen.py
tornado/test/gen_test.py
==================
a8687dad;Gonzalo Rafuls;2015-02-12 18:18:43 +0100;flake8 cleanup

==

tornado/web.py
==================
1188c010;Ben Darnell;2015-02-12 11:13:14 -0500;Merge pull request #1335 from grafuls/master
Added logging for debugging and fixes for flake8
==
==================
ace7dd61;Gonzalo Rafuls;2015-02-12 16:53:43 +0100;merge

==
==================
daf5eb39;Gonzalo Rafuls;2015-02-12 14:24:52 +0100;Added logging for debugging and fixes for flake8

==

tornado/websocket.py
==================
48193080;Gonzalo Rafuls;2015-02-12 14:24:52 +0100;Added logging for debugging and fixes for flake8

==

tornado/websocket.py
==================
9b35208a;Ben Darnell;2015-02-10 22:23:30 -0500;Merge pull request #1290 from nosyjoe/branch4.0-mrbeam
Avoid busy waiting in ioloop when system time is skipped forward 
==
==================
a5e7ee7a;Philipp Engel;2014-12-16 15:43:06 +0100;modified method _schedule_next of PeriodicCallback to handle sudden changes of the system time differently:  * calculating next timeout value directly while advancing by a multiple of callback_time  * when the system time changes, jumps into the future make the _schedule_next method do a busy wait.  * on slow machines (RPi), jumps of a few months into the future can block the loop for a few minutes => added a check for big differences in current system time and the current value of the next scheduled timeout
On a first boot of an older RPi image, tornado sometime starts before the date&time were updated through NTP, hence blocking the ioloop for several minutes.

==

tornado/ioloop.py
==================
76982577;Ben Darnell;2015-02-09 00:22:28 -0500;Enable sphinx doctests on travis-ci

==

.travis.yml
==================
b93b8405;Ben Darnell;2015-02-09 00:19:47 -0500;Make many doc code blocks into sphinx doctests.

==

docs/Makefile
docs/auth.rst
docs/concurrent.rst
docs/gen.rst
docs/guide/async.rst
docs/guide/coroutines.rst
docs/guide/running.rst
docs/guide/security.rst
docs/guide/structure.rst
docs/guide/templates.rst
docs/web.rst
docs/websocket.rst
tornado/auth.py
tornado/concurrent.py
tornado/gen.py
tornado/ioloop.py
tornado/iostream.py
tornado/web.py
tornado/websocket.py
tox.ini
==================
0f1c6eec;Ben Darnell;2015-02-08 16:09:00 -0500;Enable the sphinx doctest extension.

==

docs/Makefile
docs/conf.py
docs/httputil.rst
docs/util.rst
tox.ini
==================
e6da0c01;Ben Darnell;2015-02-08 15:02:49 -0500;More flake8 cleanup.
The only remaining flake8 errors are for line length.

==

tornado/auth.py
tornado/curl_httpclient.py
tornado/gen.py
tornado/iostream.py
tornado/options.py
tornado/platform/auto.py
tornado/platform/twisted.py
tornado/test/curl_httpclient_test.py
tornado/test/gen_test.py
tornado/test/gettext_translations/extract_me.py
tornado/test/httpserver_test.py
tornado/test/import_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/twisted_test.py
tornado/test/web_test.py
tornado/test/websocket_test.py
tornado/util.py
tornado/web.py
==================
f098ca1e;Ben Darnell;2015-02-08 14:40:04 -0500;Run autopep8

==

tornado/auth.py
tornado/concurrent.py
tornado/curl_httpclient.py
tornado/gen.py
tornado/http1connection.py
tornado/httputil.py
tornado/iostream.py
tornado/netutil.py
tornado/platform/asyncio.py
tornado/platform/select.py
tornado/simple_httpclient.py
tornado/test/asyncio_test.py
tornado/test/escape_test.py
tornado/test/gen_test.py
tornado/test/httpclient_test.py
tornado/test/httputil_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/locale_test.py
tornado/test/netutil_test.py
tornado/test/twisted_test.py
tornado/test/util.py
tornado/test/web_test.py
tornado/test/websocket_test.py
tornado/util.py
tornado/websocket.py
==================
2d33c945;Ben Darnell;2015-02-08 13:55:02 -0500;Update requirement versions; add flake8 and twine

==

maint/requirements.txt
==================
03c7ce3c;Ben Darnell;2015-02-08 13:26:56 -0500;Allow unicode strings in import_object in python 2.
Fixes #1316.

==

tornado/test/util_test.py
tornado/util.py
==================
db88a654;Ben Darnell;2015-02-07 13:19:37 -0500;Merge pull request #1327 from josephok/master
some modifications in demos/benchmark so it can run both in py2 and py3
==
==================
30631d45;Ben Darnell;2015-02-07 13:18:08 -0500;Merge pull request #1325 from ccampbell/master
Skip falsy values for some SimpleCookie flags
==
==================
24b41e70;Ben Darnell;2015-02-07 13:15:19 -0500;Bump master branch version number

==

setup.py
tornado/__init__.py
==================
a30dcd09;Ben Darnell;2015-02-07 12:47:11 -0500;Set version number to 4.1

==

setup.py
tornado/__init__.py
==================
58ecf90b;Ben Darnell;2015-02-07 12:46:33 -0500;Finalize 4.1 release notes.

==

docs/releases.rst
docs/releases/v4.1.0.rst
==================
c34b4f7d;Joseph;2015-02-06 10:29:13 +0800;some modifications in demos/benchmark so it can run both in py2 and py3

==

demos/benchmark/benchmark.py
demos/benchmark/gen_benchmark.py
demos/benchmark/stack_context_benchmark.py
demos/benchmark/template_benchmark.py
==================
73556c21;Craig Campbell;2015-02-03 16:05:48 -0500;Add unit tests for new cookie behavior

==

tornado/test/web_test.py
==================
ac0c5970;Craig Campbell;2015-02-03 16:05:01 -0500;Skip falsy values for SimpleCookie flags
Fixes #1324

==

tornado/web.py
==================
fff09e90;Ben Darnell;2015-02-01 14:27:54 -0500;Set version number to 4.1b2

==

setup.py
tornado/__init__.py
==================
96f81dfa;Ben Darnell;2015-02-01 14:17:25 -0500;Update docs for UIModule.

==

tornado/web.py
==================
27164584;A. Jesse Jiryu Davis;2015-01-30 15:08:08 -0500;Use self.io_loop in with_timeout tests.

==

tornado/test/gen_test.py
==================
eb4649e5;Ben Darnell;2015-02-01 10:52:30 -0500;Silence a warning on freebsd.
This was already changed for other platforms but the error behaves
a bit differently on freebsd.

==

tornado/iostream.py
==================
f87996ef;Ben Darnell;2015-01-31 23:00:20 -0500;Merge branch 'master' of github.com:tornadoweb/tornado

==
==================
64b6cc62;Ben Darnell;2015-01-31 22:52:07 -0500;Disable twisted_web tests on python 3.
The twisted.web modules are importable as of Twisted 15.0.0,
but appear to still have internal str/bytes issues.

==

tornado/test/runtests.py
tornado/test/twisted_test.py
==================
5e027f72;Ben Darnell;2015-01-30 12:15:17 -0500;Merge pull request #1319 from hfaran/patch-1
Add syntax highlighting to Hello World example
==
==================
49024f1b;Ben Darnell;2015-01-30 11:49:34 -0500;Fix a DeprecationWarning in twisted_test with Twisted 15.0.

==

tornado/test/twisted_test.py
==================
14173995;Hamza Faran;2015-01-30 02:47:16 -0800;Add syntax highlighting to Hello World example

==

README.rst
==================
9dabd91e;st4lk;2015-01-27 15:40:14 +0300;merge pgettext and npgettext into one pgettext

==

tornado/locale.py
tornado/test/gettext_translations/extract_me.py
tornado/test/locale_test.py
==================
cf2af098;st4lk;2015-01-27 15:05:01 +0300;add pgettext, npgettext docstrings

==

tornado/locale.py
==================
d9a9c931;st4lk;2015-01-27 14:45:13 +0300;add pgettext, npgettext

==

tornado/locale.py
tornado/test/gettext_translations/extract_me.py
tornado/test/gettext_translations/fr_FR/LC_MESSAGES/tornado_test.mo
tornado/test/gettext_translations/fr_FR/LC_MESSAGES/tornado_test.po
tornado/test/locale_test.py
==================
4eedb6f2;Ben Darnell;2015-01-25 10:44:11 -0500;Merge branch 'stable'

==
==================
c229e261;Ben Darnell;2015-01-25 10:35:59 -0500;Merge pull request #1312 from FreeAquar/patch-1
a wrong describle
==
==================
a9da1921;FreeAquar;2015-01-25 17:01:47 +0800;a wrong describle

==

docs/guide/security.rst
==================
4f56b76d;Ben Darnell;2015-01-24 19:50:04 -0500;Replace most testing uses of 'localhost' with '127.0.0.1'.
This may work around a suspected ipv6-related issue on travis.

==

tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/simple_httpclient_test.py
tornado/test/twisted_test.py
tornado/test/web_test.py
tornado/test/websocket_test.py
==================
ce4a6481;Ben Darnell;2015-01-24 19:21:34 -0500;Include the ability to yield asyncio and twisted objects in highlights

==

docs/releases/next.rst
==================
343ceb10;Ben Darnell;2015-01-24 19:12:08 -0500;Set version number to 4.1b1

==

setup.py
tornado/__init__.py
==================
bc786fab;Ben Darnell;2015-01-24 18:38:18 -0500;Fix doc coverage for WaitIterator.

==

docs/gen.rst
tornado/gen.py
==================
def70b4d;Ben Darnell;2015-01-24 18:35:18 -0500;Clean up release notes

==

docs/releases/next.rst
==================
615db3ed;Ben Darnell;2015-01-24 18:18:09 -0500;Update release notes and docs.

==

docs/gen.rst
docs/releases/next.rst
tornado/websocket.py
==================
73ffb310;Ben Darnell;2015-01-24 17:29:03 -0500;Merge remote-tracking branch 'Caligatio/ws_message_callback'
Conflicts:
	tornado/websocket.py

==
==================
bff8603d;Ben Darnell;2015-01-24 17:14:20 -0500;Give curl_httpclient its own logger for its verbose debug output.
This makes it easier to filter it separately.

This commit is an updated recreation of
https://github.com/SuminAndrew/tornado/commit/88809314e853fb69610cf44095612e78b0882c3e
to account for code movement.

Closes #1093.

==

tornado/curl_httpclient.py
==================
84babf0c;Ben Darnell;2015-01-24 17:06:34 -0500;Merge pull request #1286 from vovanec/patch-1
Added support for custom web socket protocols.
==
==================
022c46c8;Ben Darnell;2015-01-19 15:38:59 -0500;Introduce gen.sleep().
Closes #1146.

==

tornado/gen.py
tornado/test/gen_test.py
==================
841b2d4d;Ben Darnell;2015-01-19 13:50:12 -0500;Singledispatch and twisted don't work well together on py26.
Only install singledispatch on py27.

==

.travis.yml
tornado/test/twisted_test.py
tox.ini
==================
b85f775f;Ben Darnell;2015-01-19 12:34:19 -0500;Document convert_yielded.

==

docs/asyncio.rst
docs/gen.rst
tornado/gen.py
==================
531c798a;Ben Darnell;2015-01-19 11:43:52 -0500;Add bidirectional asyncio future conversion.

==

tornado/platform/asyncio.py
==================
5add5a91;Ben Darnell;2015-01-19 11:20:45 -0500;Add a convert_yield adapter for twisted Deferreds.

==

tornado/platform/twisted.py
tornado/test/twisted_test.py
==================
88f28760;Ben Darnell;2015-01-19 10:20:33 -0500;Document the AsyncIOLoop.asyncio_loop attribute for public use.

==

docs/asyncio.rst
==================
d6a94092;Ben Darnell;2015-01-18 23:54:41 -0500;Use functools.singledispatch for convert_yielded when available.
Register a converter for asyncio.Future and add tests.

==

.travis.yml
tornado/gen.py
tornado/platform/asyncio.py
tornado/test/asyncio_test.py
tornado/test/runtests.py
tox.ini
==================
f7167d05;Ben Darnell;2015-01-18 22:54:34 -0500;Refactor coroutine yield handling.
Extract a convert_yielded function that can be extended with other types.

==

tornado/gen.py
==================
05c3073c;Ben Darnell;2015-01-18 20:40:09 -0500;Call the WebSocketHandler.on_close method regardless of which side closed.
Closes #1173.

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
7ce0df4c;Ben Darnell;2015-01-18 17:06:53 -0500;Convert WaitIterator to use while-like iteration instead of for-like.
Make current_future and current_index attributes instead of methods.
Restructure the internals to avoid quadratic performance.

==

tornado/gen.py
tornado/test/gen_test.py
==================
1c72fb2e;Ben Darnell;2015-01-18 16:33:11 -0500;Fix test; cleanup whitespace.

==

tornado/gen.py
tornado/test/gen_test.py
==================
caacf865;Ben Darnell;2015-01-18 16:28:46 -0500;Merge remote-tracking branch 'jordanbettis/feature-waitany' into wait-any

==
==================
a6740e31;Ben Darnell;2015-01-18 16:20:55 -0500;Work around an occasional EPROTOTYPE error on OSX.

==

tornado/iostream.py
==================
ceb2ad12;Ben Darnell;2015-01-18 13:33:45 -0500;Fix broken link in docs.

==

docs/releases/next.rst
==================
ab6b980c;Ben Darnell;2015-01-18 13:13:41 -0500;A new IOLoop is automatically "current" if there isn't already one.
IOLoop keyword arguments throughout the library are now deprecated
in favor of IOLoop.current(). This is because the gen module
uses IOLoop.current() with no opportunity to pass in a different
instance, making it impossible in some cases to use a non-current
IOLoop with AsyncHTTPClient.

Closes #1252.

==

tornado/autoreload.py
tornado/gen.py
tornado/httpclient.py
tornado/ioloop.py
tornado/iostream.py
tornado/netutil.py
tornado/platform/caresresolver.py
tornado/platform/twisted.py
tornado/process.py
tornado/tcpclient.py
tornado/websocket.py
==================
98119734;Ben Darnell;2015-01-18 12:17:35 -0500;Update next-release notes.

==

docs/releases/next.rst
==================
59491e96;Ben Darnell;2015-01-18 12:07:54 -0500;Add a blanket try/except when parsing multipart form bodies.
This mirrors the behavior for form-urlencoded bodies, as well as the
handling of selected errors in parse_multipart_form_data.

Closes #1267.

==

tornado/httputil.py
==================
76f20eca;Ben Darnell;2015-01-18 11:35:20 -0500;Document PeriodicCallback.is_running.

==

tornado/ioloop.py
==================
5ce8b9c9;Ben Darnell;2015-01-18 11:34:26 -0500;Merge pull request #1303 from ami-GS/external
add is_running to get PeriodicCallback state
==
==================
3a293354;Ben Darnell;2015-01-18 11:31:26 -0500;Prevent a double-timeout in TCPClient.
This fixes a non-deterministic failure in the tests.
Also fix another less-common failure in test.util.refusing_port.

==

tornado/tcpclient.py
tornado/test/util.py
==================
6dc5dd97;Daiki Aminaka;2015-01-18 17:58:54 +0900;add is_running to get callback state

==

tornado/ioloop.py
==================
be31c92e;Ben Darnell;2015-01-17 17:38:35 -0500;Allow SSLError or socket.error in this test.

==

tornado/test/iostream_test.py
==================
929dd804;Ben Darnell;2015-01-17 17:25:15 -0500;Fix LogCounter on py26

==

tornado/test/runtests.py
==================
89c2ef61;Ben Darnell;2015-01-17 16:43:37 -0500;Fix another unexamined Future

==

tornado/test/iostream_test.py
==================
93ceedfc;Ben Darnell;2015-01-17 16:39:29 -0500;Merge branch 'log_future'

==
==================
cc2fb15a;Ben Darnell;2015-01-17 16:37:49 -0500;Consider the tests failed if they log any non-filtered warnings or errors.

==

tornado/test/runtests.py
tornado/testing.py
==================
02030119;Ben Darnell;2015-01-17 15:26:03 -0500;Log more uncaught exceptions instead of suppressing them.
Add more docs about Future exception logging.

==

tornado/concurrent.py
tornado/gen.py
tornado/http1connection.py
tornado/iostream.py
tornado/web.py
==================
23e6098a;Ben Darnell;2015-01-15 22:53:08 -0500;travis-ci: don't install pycurl on pypy3.

==

.travis.yml
==================
f030fb2d;Ben Darnell;2015-01-15 22:37:03 -0500;Merge pull request #1299 from ysimonson/feature/ignore-xsrf-errors
Handle bad xsrf tokens more gracefully
==
==================
27c54653;Ben Darnell;2015-01-14 08:59:21 -0500;Merge commit 'bbd1f9'
Conflicts:
	.travis.yml

==
==================
433badc0;vovanec;2015-01-12 08:06:44 -0800;Addressed comments from Ben
Addressed comments from Ben. Added get_websocket_protocol() to WebSocketClientConnection class as well.
==

tornado/websocket.py
==================
2a24e12a;Yusuf Simonson;2015-01-12 10:45:52 -0500;More aggressive capturing of xsrf cookie errors

==

tornado/web.py
==================
2e5c6d7f;Ben Darnell;2015-01-11 22:22:16 -0500;Make Application.start_request match HTTPServerConnectionDelegate.start_request.
This was always intended, but unfortunately the change to HTTPServer
is backwards-incompatible.

==

tornado/httpserver.py
tornado/test/httpserver_test.py
tornado/web.py
==================
1ebdf8cb;Ben Darnell;2015-01-11 20:15:36 -0500;Merge pull request #1270 from djvis/master
Use server_hostname parameter in call to ssl_wrap_socket
==
==================
dd6c849a;Ben Darnell;2015-01-11 18:58:53 -0500;Catch up on next-release notes.

==

docs/releases/next.rst
tornado/httputil.py
==================
889e1f37;Ben Darnell;2015-01-11 13:50:58 -0500;Correct handling of HTTP version numbers.
Per RFC 7230 section 2.6, we always output HTTP/1.1 even if the
request was HTTP/1.0 (and we accept any 1.x version).

==

tornado/http1connection.py
tornado/httputil.py
tornado/simple_httpclient.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/web.py
==================
a0569678;Ben Darnell;2015-01-11 13:29:57 -0500;Fix regression in support for both CRLF and bare LF in headers.
Closes #1297.

==

tornado/http1connection.py
tornado/test/httpserver_test.py
==================
9347de40;Ben Darnell;2015-01-11 13:00:00 -0500;Fix httputil_test on python 3.2.

==

tornado/test/httputil_test.py
==================
88cfbc2b;Ben Darnell;2015-01-11 12:40:51 -0500;Fix header parsing with unicode newline-like characters.
We were using python's unicode.splitlines(), which recognizes
more characters than just CRLF and could cause problems if those
characters appeared in header values.

Fixes #1291.

==

tornado/httputil.py
tornado/test/httputil_test.py
==================
8a298693;Ben Darnell;2015-01-11 11:21:42 -0500;Refactor connection-closed tests.
On CI servers, port numbers get reused frequently, so a closed
port cannot be relied upon to refuse connections for long.
We now use an open client-side socket's ephemeral port,
which will always refuse connections and cannot be reused
for as log as the socket is open.

==

tornado/test/iostream_test.py
tornado/test/simple_httpclient_test.py
tornado/test/tcpclient_test.py
tornado/test/util.py
==================
d6e70d08;Ben Darnell;2015-01-11 10:29:36 -0500;Merge pull request #1296 from asvetlov/master
Mention in Sec-WebSocket-Version all versions supported by tornado
==
==================
1c58eed0;Ben Darnell;2015-01-11 10:27:07 -0500;Merge pull request #1294 from lmas/master
Fixed TCPServer not setting the correct read_chunk_size.
==
==================
eab34a91;Ben Darnell;2015-01-10 11:11:30 -0500;Merge pull request #1285 from lwzm/master
Ensure that HTTPServerRequest.body is a byte string
==
==================
dca3f6bf;Ben Darnell;2015-01-10 10:47:19 -0500;Clarify docs: `return` in generator is new in 3.3.

==

docs/guide/async.rst
==================
7b82e98d;Ben Darnell;2015-01-10 10:08:46 -0500;Merge pull request #1300 from arihantagarwal/arihant
Changed 'return' to 'raise gen.Return()' to fix Issue #1292
==
==================
e10e16fc;Arihant Agarwal;2015-01-10 11:32:24 +0530;Changed 'return' to 'raise gen.Return()' to fix Issue #1292, explanation added.

==

docs/guide/async.rst
==================
7ae9f485;Yusuf Simonson;2015-01-07 11:01:55 -0500;Handle bad xsrf tokens more gracefully

==

tornado/web.py
==================
2e9c43b2;Andrew Svetlov;2015-01-05 21:15:40 +0200;Mention in Sec-WebSocket-Version all versions supported by tornado  As RFC 6455 recommends for asnwer for unsopported protocol.

==

tornado/websocket.py
==================
2e466c19;A. Svensson;2015-01-04 11:33:17 +0100;Fixed TCPServer not setting the correct read_chunk_size.

==

tornado/tcpserver.py
==================
e5afc259;vovanec;2014-12-24 11:43:00 -0800;Added support for custom web socket protocols.
Added support for custom web socket protocols.

To add custom protocol implementation user should override get_websocket_protocol_subclass() method in WebSocketHandler subclass.
==

tornado/websocket.py
==================
429aae47;felloak;2014-12-23 16:28:36 +0800;Ensure that HTTPServerRequest.body is a byte string
HTTPServerRequest.body should be bytes but it is an empty string that
occurs in Python3 when pass no body to HTTPServerRequest.

==

tornado/httputil.py
tornado/test/httputil_test.py
tornado/wsgi.py
==================
48457db3;Daniel James Visentin;2014-12-23 12:34:04 +1100;Skip test if check_hostname functionality not available

==

tornado/test/iostream_test.py
==================
e9f14510;Daniel James Visentin;2014-12-23 12:09:48 +1100;Add test to ensure stream start_tls calls use the server_hostname parameter

==

tornado/test/iostream_test.py
==================
32e82f88;Ben Darnell;2014-12-18 10:16:18 -0500;Merge pull request #1281 from nordaux/master
Fixed error that the web.asynchronous doesn't complete python3 concurrent.Futures
==
==================
683d4220;Andrew Glinskiy;2014-12-18 16:38:20 +0200;Fixed error that the web.asynchronous doesn't complete python3 concurrent.Futures

==

tornado/web.py
==================
ebc59b4b;Ben Darnell;2014-12-17 11:09:16 -0500;Merge pull request #1279 from chrisseto/patch-1
Fix typo in `stream_request_body`
==
==================
2edace47;Chris Seto;2014-12-17 10:55:05 -0500;Fix typo in `stream_request_body`

==

tornado/web.py
==================
a894d1c0;Ben Darnell;2014-12-15 21:22:52 -0500;Merge pull request #1261 from lilydjwg/fix-ipv6-host
fix matching an IPv6 address as host
==
==================
44beea37;依云;2014-12-14 18:12:26 +0800;move code to seperate function 'split_host_and_port'

==

tornado/httputil.py
tornado/simple_httpclient.py
tornado/web.py
==================
03d72277;依云;2014-12-14 18:01:26 +0800;remove executable permission from tornado.web

==

tornado/web.py
==================
b100b5ff;依云;2014-12-14 18:00:08 +0800;Merge branch 'master' into fix-ipv6-host

==
==================
2195f0b7;Ben Darnell;2014-12-12 10:17:32 -0500;Merge pull request #1268 from schlamar/win-timeout
fix test_request_timeout on Windows
==
==================
4d09030b;Marc Schlaich;2014-12-12 08:31:13 +0100;tox: add optional pyxx-no-ext environments
These can be run on systems without an available C compiler.

==

tox.ini
==================
e8bcff47;Marc Schlaich;2014-12-10 16:18:30 +0100;fix test_request_timeout on Windows by increasing timeout

==

tornado/test/simple_httpclient_test.py
==================
241956a6;Ben Darnell;2014-12-11 09:24:54 -0500;Add support for Future.exc_info when logging abandoned futures.
Simplify some Future internals.

Add enough magic calls to Future.exception that the test suite
passes without warning (at least on py34)

==

tornado/concurrent.py
tornado/gen.py
tornado/http1connection.py
tornado/iostream.py
tornado/test/gen_test.py
tornado/test/iostream_test.py
tornado/web.py
==================
ab706d69;Daniel James Visentin;2014-12-11 11:01:40 +1100;Use server_hostname parameter in call to ssl_wrap_socket

==

tornado/iostream.py
==================
6613adf6;Ben Darnell;2014-12-08 23:30:17 -0500;Merge branch 'master' into log_future

==
==================
a7544b18;Ben Darnell;2014-12-05 21:20:18 -0500;Merge pull request #1258 from tdyas/no_raise_error
http client: option to not raise errors
==
==================
9dbc989b;Ben Darnell;2014-12-05 09:51:00 -0500;Merge pull request #1264 from nbargnesi/master
swap platform.system() for sys.platform
==
==================
547b412f;Nick Bargnesi;2014-12-05 01:37:45 -0500;swap platform.system() for sys.platform; #1263

==

tornado/netutil.py
==================
1cc15c42;Ben Darnell;2014-11-30 12:34:56 -0500;Merge pull request #1260 from lilydjwg/no-handler-redirect
use the same protocol when redirecting to default host
==
==================
2a20e2da;依云;2014-11-25 21:45:45 +0800;use the same protocol when redirecting to default host

==

tornado/web.py
==================
36b35653;依云;2014-11-25 21:36:28 +0800;fix matching a IPv6 address as host
When the host is something like '[::1]' or '[::1]:8080',
_get_host_handlers gets wrong hosts string.

==

tornado/web.py
==================
b2f8f997;Tom Dyas;2014-06-23 14:21:46 -0400;http client: option to not raise errors
Pass raise_error=False to the fetch method to disable the raising of
HTTPError on errors.

==

tornado/httpclient.py
tornado/test/httpclient_test.py
==================
20bf1653;Ben Darnell;2014-11-15 19:15:12 -0500;Also fix flow control for the select IOLoop.

==

tornado/platform/select.py
==================
41ff81b2;Ben Darnell;2014-11-15 19:08:21 -0500;Fix IOStream flow control under kqueue.
An early attempt to detect closed connections in kqueue led
us to always read from the socket when data was available,
defeating any higher-level flow control.

Add a test to verify this behavior.

==

tornado/platform/kqueue.py
tornado/test/iostream_test.py
==================
a80d99d4;Ben Darnell;2014-11-10 23:13:40 -0500;Fix typo in docs.
Closes #1247.

==

docs/guide/security.rst
==================
6245a5b1;Ben Darnell;2014-11-09 10:59:30 -0500;Merge pull request #1246 from heewa/cleanup_subprocess_in_tests
Cleanup Subprocess when tearing down AsyncTestCase
==
==================
21227fff;Heewa Barfchin;2014-11-08 14:40:51 -0500;Cleanup Subprocess when tearing down AsyncTestCase
Since an ioloop is created and destroyed between a test's `setUp` and
`tearDown`, and Subprocess holds on to an ioloop until `uninitialize`,
this allows the next test case to use Subprocess correctly.

==

tornado/testing.py
==================
55d75e10;Ben Darnell;2014-11-08 13:01:01 -0500;Add *args, **kw to WebSocketHandler.open.
This matches the default implementations of get/post/put/etc.

Closes #1242

==

tornado/websocket.py
==================
15028950;Ben Darnell;2014-11-05 09:36:28 -0500;Merge pull request #1241 from heewa/find_option_definer
Find real option definer.
==
==================
049ca4f7;Heewa Barfchin;2014-11-02 19:38:36 -0500;Find real option definer.
When an option is defined through the module level "define" fn, not
directly through the class method, we should look one frame up to
find the real caller.

==

tornado/options.py
==================
06638c8a;Ben Darnell;2014-10-28 09:16:28 -0400;Fix compatibility with just-released unittest2 0.6.
This release added some PendingDeprecationWarnings that were
not there previously (and were DeprecationWarnings instead
in newer pythons)

==

tornado/test/runtests.py
==================
a5b2d4a6;Jordan Bettis;2014-10-28 01:08:50 -0500;[feature-waitany] fix py3 bug, weakref for callback, doc cleanup

==

tornado/gen.py
tornado/test/gen_test.py
==================
689f2603;Jordan Bettis;2014-10-27 06:08:48 -0500;Merge branch 'master' of github.com:jordanbettis/tornado into feature-waitany

==
==================
5dd93381;Jordan Bettis;2014-10-27 06:05:01 -0500;[feature-waitany] Created WaitIterator + tests

==

tornado/gen.py
tornado/test/gen_test.py
==================
26cb9b3f;Ben Darnell;2014-10-26 22:15:31 -0400;Remove example of the legacy HTTPServer callback interface.
Even before the HTTPServerConnectionDelegate interface replaced it,
direct use of this callback interface should have been rare.

This untested example was incorrect when first written and
once fixed only worked on python 2.

==

tornado/httpserver.py
==================
9a527205;Ben Darnell;2014-10-26 21:16:41 -0400;Merge pull request #1227 from jvetterick/patch-1
adding hint to supervisord minfds
==
==================
785decbb;Ben Darnell;2014-10-26 20:52:16 -0400;Merge pull request #1231 from daftshady/master
fixed error message in iostream
==
==================
09e7e2d1;daftshady;2014-10-26 21:06:59 +0900;fixed error message in iostream

==

tornado/iostream.py
==================
3a967948;Jonas Vetterick;2014-10-20 17:07:07 +0200;adding hint to supervisord minfds

==

docs/guide/running.rst
==================
e1b306ce;Ben Darnell;2014-10-18 12:08:03 -0400;Change connection-refused test from localhost to 127.0.0.1.
This might be contributing to occasional timeouts on travis-ci
(on the theory that some other test may be listening on the
same port on ::1).

Also explicitly stop the test if connect_callback is called.

==

tornado/test/iostream_test.py
==================
c616cd77;Ben Darnell;2014-10-18 11:48:00 -0400;Merge pull request #1225 from jvetterick/patch-1
Update running.rst
==
==================
1b18d3da;Jonas Vetterick;2014-10-17 16:12:05 +0200;Update running.rst
Hint on [Errno 24] "Too many open files" (http://stackoverflow.com/a/20894374)
==

docs/guide/running.rst
==================
e2e35dbb;Ben Darnell;2014-10-13 22:13:31 -0400;Merge pull request #1222 from glaslos/patch-1
Fixed example in doc string
==
==================
b92326eb;Lukas Rist;2014-10-13 14:06:02 +0200;Fixed example in doc string
We have to pass a HTTPHeaders object to write_headers()
==

tornado/httpserver.py
==================
72920458;Ben Darnell;2014-10-11 22:59:15 -0400;Add another ignore_bytes_warning call to log_test.
This fixes a failure apparently introduced by changes to warning
logic in python 3.4.2.

==

tornado/test/log_test.py
==================
c372a05f;Ben Darnell;2014-10-11 22:13:15 -0400;Handle closed connections in WebSocketHandler.
Closes #1174.

==

tornado/websocket.py
==================
86333d04;Ben Darnell;2014-10-11 22:05:31 -0400;Catch StreamClosedError in StaticFileHandler.
Closes #1208.

==

tornado/web.py
==================
a9c0e563;Ben Darnell;2014-10-11 20:07:54 -0400;Document that the blog demo is py2-only.

==

demos/blog/README
==================
3b7f2f6d;Ben Darnell;2014-10-11 12:01:24 -0400;Disable pycares tests on travis due to ipv6 issues.

==

.travis.yml
==================
34dbe87d;Ben Darnell;2014-10-11 11:25:36 -0400;Fix byte strings as header values in curl_httpclient and python3.
Add the -bb flag to all py3 tests, which uncovered this bug.

==

tornado/curl_httpclient.py
tornado/test/httpclient_test.py
tox.ini
==================
ea943e32;Ben Darnell;2014-10-11 10:39:39 -0400;Streamline tox configuration using new features in tox 1.8.

==

tox.ini
==================
212c0c8d;Ben Darnell;2014-10-05 15:52:58 -0400;Update dependency versions in maint/requirements.txt

==

maint/requirements.txt
==================
1eeea5d4;Ben Darnell;2014-10-10 10:40:03 -0400;Merge pull request #1217 from noxiouz/http_server_doc__fix
Fix an example in docstring of HTTPServer
==
==================
2669394a;Anton Tiurin;2014-10-10 14:10:08 +0400;Fix an example in docstring of HTTPServer

==

tornado/httpserver.py
==================
d572ea2d;Ben Darnell;2014-10-05 15:43:05 -0400;Add a test for removing an IOLoop handler from another handler.
Related to #1214.

==

tornado/test/ioloop_test.py
==================
542c8a51;Ben Darnell;2014-10-05 15:17:27 -0400;Clarify error messages about http request bodies.
Change AssertionError to ValueError and s/empty/None.

Closes #1213.

==

tornado/curl_httpclient.py
tornado/simple_httpclient.py
tornado/test/httpclient_test.py
==================
27d67a2c;Ben Darnell;2014-10-05 15:01:11 -0400;Document the ability to pass lists of kv pairs to url-concat.
Closes #1216.

==

tornado/httputil.py
==================
f2986e34;Ben Darnell;2014-10-04 12:29:12 -0400;Merge pull request #1215 from mayhewj/master
Fix typo
==
==================
1f4de38b;Justin Mayhew;2014-10-03 23:39:00 -0300;Fix typo

==

docs/guide/structure.rst
==================
6f3f2561;Ben Darnell;2014-09-25 21:27:49 -0400;Merge pull request #1207 from leekchan/locale_test
Add some unit tests for tornado.locale
==
==================
8a74d218;Ben Darnell;2014-09-25 21:25:46 -0400;Merge pull request #1206 from leekchan/test_web_redirect
Add a unit test for tornado.web.RedirectHandler
==
==================
8d708fb7;Lee Kyoung chan;2014-09-24 21:37:37 +0900;Add a unit test for locale.format_day

==

tornado/test/locale_test.py
==================
ebbf2e3b;Lee Kyoung chan;2014-09-23 20:44:49 +0900;Add a unit test for locale.list

==

tornado/test/locale_test.py
==================
cf67a172;Lee Kyoung chan;2014-09-23 19:35:13 +0900;Add a unit test for locale.friendly_number

==

tornado/test/locale_test.py
==================
e9b305a1;Lee Kyoung chan;2014-09-23 19:13:22 +0900;Improve test_format_date

==

tornado/test/locale_test.py
==================
df4ba9b9;Lee Kyoung chan;2014-09-23 17:46:24 +0900;Add a unit test for tornado.web.RedirectHandler

==

tornado/test/web_test.py
==================
4ad3e1eb;Ben Darnell;2014-09-21 12:25:11 -0400;curl_httpclient: run streaming and header callbacks on the IOLoop.
This ensures a more consistent execution environment and allows
a streaming or header callback to invoke other CurlAsyncHTTPClient
methods.

This change also fills in HTTPResponse.headers even when a header_callback
is used, similar to simple_httpclient's behavior.

Closes #1188.

==

tornado/curl_httpclient.py
==================
05c933de;Ben Darnell;2014-09-21 12:18:16 -0400;Move static functions in curl_httpclient to methods of CurlAsyncHTTPClient.
No functional changes in this commit, just code movement.

==

tornado/curl_httpclient.py
==================
9e5430d6;Ben Darnell;2014-09-21 12:06:00 -0400;Document Tornado's incompatibility with asyncio.ProactorEventLoop.
Closes #1201.

==

docs/asyncio.rst
==================
0c61cccd;Ben Darnell;2014-09-17 22:04:29 -0400;Merge pull request #1197 from Parkayun/master
Remove unused module in tornado.platform.asyncio
==
==================
82b516b4;Ben Darnell;2014-09-16 08:37:55 -0400;Merge pull request #1194 from leekchan/test_if_modified_since
Add a test for if_modified_since parameter of httpclient.HTTPRequest
==
==================
31d68738;Lee Kyoung chan;2014-09-16 16:48:34 +0900;Add a test for if_modified_since parameter of httpclient.HTTPRequest

==

tornado/test/httpclient_test.py
==================
26454ffb;Parkayun;2014-09-16 15:43:06 +0900;Remove unused module in tornado.platform.asyncio

==

tornado/platform/asyncio.py
==================
aaec44c6;Ben Darnell;2014-09-15 22:26:48 -0400;Merge remote-tracking branch 'leekchan/set_cookie_expires_days'
Conflicts:
	tornado/test/web_test.py

==
==================
e08d0ec1;Lee Kyoung chan;2014-09-16 11:08:07 +0900;Fixed test_set_cookie_expires_days

==

tornado/test/web_test.py
==================
7fb9d5a4;Ben Darnell;2014-09-15 19:38:20 -0400;Merge pull request #1189 from Parkayun/master
Add few tests and remove unused module.
==
==================
bbd1f901;Omer Katz;2014-09-15 13:12:14 +0300;Excluded more non-PyPy related build steps that I missed.

==

.travis.yml
==================
451fc005;Parkayun;2014-09-15 19:10:37 +0900;remove unused module in test

==

tornado/test/httpserver_test.py
tornado/test/simple_httpclient_test.py
==================
5ddf3c34;Omer Katz;2014-09-15 12:57:15 +0300;Build should fast finish since matrix is large.

==

.travis.yml
==================
db881d6e;Omer Katz;2014-09-15 12:56:15 +0300;Added travis_retry to all network operations in order to avoid build errors due to connections being dropped.

==

.travis.yml
==================
00813362;Parkayun;2014-09-15 18:54:48 +0900;Add test for httputil.parse_requset_start_line

==

tornado/test/httputil_test.py
==================
3af4823a;Omer Katz;2014-09-15 12:54:12 +0300;Any pypy version probably shouldn't be installing/running those tests.
Correct me if I'm wrong.
==

.travis.yml
==================
30aa673f;Omer Katz;2014-09-15 12:52:24 +0300;Added pypy3 to the build matrix.

==

.travis.yml
==================
4c9d131e;Parkayun;2014-09-15 15:55:35 +0900;add test for util.timedelta_to_seconds

==

tornado/test/util_test.py
==================
24c2f577;Ben Darnell;2014-09-14 23:55:59 -0400;Update example for HTTPClient exception handling.
Eliminate the implication that HTTPError is the only
error that can be raised.  See #1168.

==

tornado/httpclient.py
==================
09bc9827;Ben Darnell;2014-09-14 23:02:32 -0400;Handle multiple exceptions in AsyncTestCase.
Previously we would silently swallow all but the last; now we
raise the first and log all the rest.

Closes #1177.

==

tornado/test/testing_test.py
tornado/testing.py
==================
037e05ad;Ben Darnell;2014-09-14 23:11:24 -0400;Merge pull request #1175 from virtuald/coroutine-warning
Add documentation warning about exceptions in coroutines
==
==================
f10e4a0c;Ben Darnell;2014-09-14 22:39:03 -0400;Merge commit 'f40d39b'

==
==================
f40d39be;Ben Darnell;2014-09-14 22:38:14 -0400;Capture stack context in gen.engine's wrapper function.
This was an error that went unnoticed in earlier versions
because Futures passed through exceptions in their callbacks.

==

tornado/gen.py
==================
ca2cf40c;Ben Darnell;2014-09-14 22:02:27 -0400;Merge branch 'branch4.0'
Conflicts:
	docs/releases.rst
	setup.py
	tornado/__init__.py

==
==================
6729952c;Ben Darnell;2014-09-14 09:40:26 -0400;Merge pull request #1185 from leekchan/master
Added unit tests for tornado.web.removeslash and tornado.web.addslash
==
==================
7dfebdbc;Lee Kyoung chan;2014-09-14 22:22:24 +0900;Added a unit test for setting a cookie with expires_days

==

tornado/test/web_test.py
==================
ada55ccb;Lee Kyoung chan;2014-09-14 18:47:10 +0900;Fixed some typos

==

tornado/test/README
tornado/test/httpclient_test.py
tornado/test/iostream_test.py
==================
6df2748a;Lee Kyoung chan;2014-09-14 13:01:49 +0900;Added unit tests for tornado.web.removeslash and tornado.web.addslash

==

tornado/test/web_test.py
==================
5adb981a;Ben Darnell;2014-09-13 17:44:55 -0400;Merge pull request #1179 from leekchan/master
Added a unit test for setting a cookie with max_age
==
==================
b4763337;Ben Darnell;2014-09-12 09:20:54 -0400;Merge pull request #1182 from Parkayun/master
Add test for tornado.escape.recursive_unicode
==
==================
13029968;Neilen Marais;2014-09-12 13:38:48 +0200;Add callback error handling to Future
Catches and logs to the application log exceptions raised by each callback. This
more or less mirrors what concurrent.futures.Future does.

==

tornado/concurrent.py
==================
ce868a0e;Parkayun;2014-09-12 16:24:02 +0900;Add test for tornado.escape.recursive_unicode

==

tornado/test/escape_test.py
==================
36249478;Lee Kyoung chan;2014-09-11 22:16:44 +0900;Added a unit test for setting a cookie with max_age

==

tornado/test/web_test.py
==================
8238c08b;Ben Darnell;2014-09-11 08:51:32 -0400;Merge pull request #1178 from leekchan/master
Fixed some typos
==
==================
cf724c37;Lee Kyoung chan;2014-09-11 20:49:05 +0900;Added a unit test for tornado.escape.squeeze

==

tornado/test/escape_test.py
==================
61e87cd8;Lee Kyoung chan;2014-09-11 14:37:43 +0900;Fixed some typos

==

tornado/auth.py
tornado/ioloop.py
tornado/iostream.py
tornado/platform/twisted.py
tornado/process.py
tornado/stack_context.py
tornado/tcpclient.py
tornado/util.py
==================
b18b12b5;Ben Darnell;2014-09-10 23:47:51 -0400;Set version number to 4.0.2

==

docs/releases/v4.0.2.rst
setup.py
tornado/__init__.py
==================
cf9a1e95;Dustin Spicuzza;2014-09-05 11:57:15 -0400;Add documentation warning about exceptions in coroutines

==

tornado/gen.py
==================
5d0d8cba;Ben Darnell;2014-09-01 11:12:27 -0400;Add release notes for 4.0.2.

==

docs/releases.rst
docs/releases/v4.0.2.rst
==================
39fd0eee;Ben Darnell;2014-08-31 23:33:28 -0400;Fix an erroneous return of None in IOStream.connect.
This causes AttributeErrors in TCPClient, although I can only
reproduce this case reliably on freebsd.

Closes #1168.

==

tornado/iostream.py
==================
f16aa39c;Ben Darnell;2014-08-30 22:52:54 -0400;Limit the number of connections we will accept per call to accept_handler.
This ensures that other callbacks scheduled on the IOLoop have a chance
to run.  This shows up as increased memory usage in benchmark scenarios
(since 4.0 allowed simple http transactions to be processed synchronously).

==

tornado/netutil.py
==================
c1a123a8;Ben Darnell;2014-08-30 15:27:31 -0400;Fix a subtle reference cycle that can lead to increased memory consumption.
Closes #1165.

==

tornado/gen.py
==================
fc9a3acd;Eddie Mishelevich;2014-08-26 17:04:06 +0300;Add missing argument max_buffer_size to TCPClient.connect in SimpleAsyncHTTPClient

==

tornado/simple_httpclient.py
==================
15c82cbe;Ben Darnell;2014-08-31 23:33:28 -0400;Fix an erroneous return of None in IOStream.connect.
This causes AttributeErrors in TCPClient, although I can only
reproduce this case reliably on freebsd.

Closes #1168.

==

tornado/iostream.py
==================
429e4991;Ben Darnell;2014-08-31 23:32:41 -0400;Modernize freebsd vagrant config.

==

maint/vm/freebsd/Vagrantfile
maint/vm/freebsd/setup.sh
maint/vm/freebsd/tox.ini
==================
ce7261d4;Ben Darnell;2014-08-30 22:52:54 -0400;Limit the number of connections we will accept per call to accept_handler.
This ensures that other callbacks scheduled on the IOLoop have a chance
to run.  This shows up as increased memory usage in benchmark scenarios
(since 4.0 allowed simple http transactions to be processed synchronously).

==

tornado/netutil.py
==================
0357565a;Ben Darnell;2014-08-30 15:27:31 -0400;Fix a subtle reference cycle that can lead to increased memory consumption.
Closes #1165.

==

tornado/gen.py
==================
13970840;Ben Darnell;2014-08-26 22:42:14 -0400;Reinstate the bytes_type alias in case anyone is depending on it.

==

tornado/util.py
==================
cca1f743;Ben Darnell;2014-08-26 22:39:50 -0400;Merge pull request #1166 from quatrix/master
Add missing argument max_buffer_size to TCPClient.connect in SimpleAsyncHTTPClient
==
==================
fd300891;Eddie Mishelevich;2014-08-26 17:04:06 +0300;Add missing argument max_buffer_size to TCPClient.connect in SimpleAsyncHTTPClient

==

tornado/simple_httpclient.py
==================
ef77e798;Ben Darnell;2014-08-25 22:56:38 -0400;Merge pull request #1162 from methane/remove-bytes-type
Replace tornado.util.bytes_type to bytes
==
==================
c6596d55;INADA Naoki;2014-08-25 14:56:49 +0900;Replace tornado.util.bytes_type to bytes

==

demos/s3server/s3server.py
maint/test/websocket/server.py
tornado/auth.py
tornado/curl_httpclient.py
tornado/escape.py
tornado/httputil.py
tornado/iostream.py
tornado/template.py
tornado/test/escape_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/log_test.py
tornado/test/template_test.py
tornado/test/web_test.py
tornado/util.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
d9689739;Ben Darnell;2014-08-23 18:12:19 -0400;Fix a regression in gzip output for StaticFileHandler.
Streaming static responses confused the gzip output transform since
it could no longer set the correct outgoing content-length.  Now
it will fall back to chunked encoding in this case.

Closes #1156.

==

tornado/test/web_test.py
tornado/web.py
==================
ed7bd3a2;Niko Wilbert;2014-08-22 10:48:42 +0200;Fixed support for test generators
This fixes the problem that AsyncTestCase no longer seemed to work with test generators (as supported by Nose, http://nose.readthedocs.org/en/latest/writing_tests.html#test-generators).

==

tornado/testing.py
==================
7bf3b143;Ben Darnell;2014-08-19 23:01:28 -0400;Fix a regression in which a timeout could fire after being cancelled.
Closes #1148.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
fe43646e;Ben Darnell;2014-08-24 12:00:49 -0400;Set version number in branch4.0 to 4.0.2.dev1

==

setup.py
tornado/__init__.py
==================
7d3f710e;Ben Darnell;2014-08-24 11:50:47 -0400;Remove the default facebook api key from the demo.
This app has apparently been deactivated by facebook.

Closes #1132.

==

demos/facebook/README
demos/facebook/facebook.py
==================
1e1d61ab;Ben Darnell;2014-08-24 11:45:41 -0400;s/SIGCHILD/SIGCHLD/ in docs.

==

tornado/ioloop.py
tornado/process.py
==================
e8884732;Ben Darnell;2014-08-23 18:12:19 -0400;Fix a regression in gzip output for StaticFileHandler.
Streaming static responses confused the gzip output transform since
it could no longer set the correct outgoing content-length.  Now
it will fall back to chunked encoding in this case.

Closes #1156.

==

tornado/test/web_test.py
tornado/web.py
==================
55932a74;Ben Darnell;2014-08-22 20:48:15 -0400;Merge pull request #1153 from nwilbert/patch-1
Fixed support for test generators
==
==================
9bbf1c98;Niko Wilbert;2014-08-22 10:48:42 +0200;Fixed support for test generators
This fixes the problem that AsyncTestCase no longer seemed to work with test generators (as supported by Nose, http://nose.readthedocs.org/en/latest/writing_tests.html#test-generators).
==

tornado/testing.py
==================
63033590;Ben Darnell;2014-08-19 23:01:28 -0400;Fix a regression in which a timeout could fire after being cancelled.
Closes #1148.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
bb00b7ed;Ben Darnell;2014-08-12 09:50:02 -0400;Add property setter for RequestHandler.locale

==

docs/releases/next.rst
docs/web.rst
tornado/test/web_test.py
tornado/web.py
==================
fc8264ae;Ben Darnell;2014-08-12 09:17:49 -0400;Remove entries from next.rst that made it in to v4.0.1.

==

docs/releases/next.rst
==================
b1fc1f48;Ben Darnell;2014-08-12 09:17:01 -0400;Merge branch 'branch4.0'
Conflicts:
	docs/releases.rst
	setup.py
	tornado/__init__.py

==
==================
54bfbee5;Ben Darnell;2014-08-12 09:11:20 -0400;Set version number to 4.0.1.

==

docs/releases/v4.0.1.rst
setup.py
tornado/__init__.py
==================
afea02e1;Ben Darnell;2014-08-12 08:51:27 -0400;Specify a non-zero port when testing localhost resolution.
Some getaddrinfo implementations (including OS X 10.6) fail
if we try to resolve port 0 without AI_PASSIVE.

Closes #1136.

==

tornado/test/tcpclient_test.py
==================
6c6d16a9;Ben Darnell;2014-08-10 15:19:48 -0400;Add release notes for 4.0.1 and update version number.

==

docs/releases.rst
docs/releases/v4.0.1.rst
setup.py
tornado/__init__.py
==================
c7ae10d6;Ben Darnell;2014-08-10 14:02:39 -0400;Correctly handle 204 response codes that do not include a content-length.
If a server sends a 204 with no content-length we would wait for the server
to close the connection instead of ending the request (any such servers
are ignoring the "Connection: close" header we send, but apparently exist).

Move some content-length logic from simple_httpclient.py to http1connection.py.

Fix the client-side use of on_connection_close; this affects the
handling of any HTTPInputException.

This fixes regressions relative to Tornado 3.2.

Conflicts:
	tornado/websocket.py

==

tornado/http1connection.py
tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
tornado/websocket.py
==================
5a7719e0;Ben Darnell;2014-08-09 14:09:22 -0400;Fix an AttributeError in WebSocketClientConnection._on_close.
Fix an issue that was preventing this issue from showing up in my
tests.

Closes #1140.

==

tornado/websocket.py
==================
87fa80c9;WEI Zhicheng;2014-08-08 01:49:39 +0800;Fix `IOStream' when callback function return `Future' and has `Exception' will silence ignore

==

tornado/iostream.py
==================
a78184f9;WEI Zhicheng;2014-08-06 18:35:24 +0800;Fix `PeriodicCallback' when callback function return `Future' and has `Exception' will silence ignore

==

tornado/ioloop.py
==================
7550e8bb;Ben Darnell;2014-07-17 23:33:34 -0400;Add missing return statements to call_at and call_later.
Closes #1119.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
fd9b9952;Ben Darnell;2014-07-16 20:23:42 -0400;Fall back to pure-python mode on any exception during the build.
Stop the futile process of trying to enumerate which kinds of exceptions
distutils may throw (the latest potential addition: ValueError).

Closes #1115.

==

setup.py
==================
93ae0797;Ben Darnell;2014-08-10 14:02:39 -0400;Correctly handle 204 response codes that do not include a content-length.
If a server sends a 204 with no content-length we would wait for the server
to close the connection instead of ending the request (any such servers
are ignoring the "Connection: close" header we send, but apparently exist).

Move some content-length logic from simple_httpclient.py to http1connection.py.

Fix the client-side use of on_connection_close; this affects the
handling of any HTTPInputException.

This fixes regressions relative to Tornado 3.2.

==

tornado/http1connection.py
tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
tornado/websocket.py
==================
2026dba3;Ben Darnell;2014-08-09 14:09:22 -0400;Fix an AttributeError in WebSocketClientConnection._on_close.
Fix an issue that was preventing this issue from showing up in my
tests.

Closes #1140.

==

tornado/websocket.py
==================
6d9826c2;Ben Darnell;2014-08-09 13:40:46 -0400;Merge pull request #1142 from zhicheng/master
Fix `IOStream' when callback function return `Future' and has `Exception' will silence ignore
==
==================
23e5092e;WEI Zhicheng;2014-08-08 01:49:39 +0800;Fix `IOStream' when callback function return `Future' and has `Exception' will silence ignore

==

tornado/iostream.py
==================
692e76d8;WEI Zhicheng;2014-08-08 01:46:23 +0800;Merge pull request #1 from tornadoweb/master
update from upstream
==
==================
afc3ddec;Ben Darnell;2014-08-06 23:03:27 -0400;Forgot to git add the new file.

==

docs/releases/next.rst
==================
c288edb6;Ben Darnell;2014-08-06 22:48:20 -0400;Start the next-release notes doc.

==

docs/releases.rst
docs/websocket.rst
tornado/websocket.py
==================
e7a0c753;Ben Darnell;2014-08-06 20:54:45 -0400;Merge pull request #1138 from zhicheng/master
Fix `PeriodicCallback' when callback function return `Future' and has
==
==================
2d6c02ac;WEI Zhicheng;2014-08-06 18:35:24 +0800;Fix `PeriodicCallback' when callback function return `Future' and has `Exception' will silence ignore

==

tornado/ioloop.py
==================
dbab7921;Ben Darnell;2014-08-04 23:46:03 -0400;Fix a memory leak and test timeout in websockets.
In some cases (primarily when prepare() is asynchronous), an
HTTP1ServerConnection could be left waiting forever for a connection
to finish when that connection has been detached and handed off to a
WebSocketHandler.  This would manifest as a leak and a timeout in
tests as the HTTPServer waited for all its existing connections to
finish.

Also fix a bug in the test tearDown method that would actually
wait forever for connections to finish instead of timing out.

Closes #1133.

==

tornado/http1connection.py
tornado/test/websocket_test.py
tornado/testing.py
==================
4f38a044;Dustin Spicuzza;2014-07-31 00:58:31 -0400;Add code from asyncio that detects whether a future object is discarded
- This is only a proof of concept

==

tornado/concurrent.py
==================
fec81f65;Ben Darnell;2014-07-27 18:29:06 -0400;Support the max_wbits websocket deflate parameters.
Slightly improve error handling in the websocket handshake.

==

tornado/httputil.py
tornado/websocket.py
==================
576c1c43;Ben Darnell;2014-07-27 01:26:11 -0400;Implement permessage-deflate websocket extension.
Parameters to the extension are not fully supported (the client side
supports client_no_context_takeover which is mandatory to implement,
but the server rejects any parameters offered by the client, and neither
side supports setting wbits).

Closes #308.
Closes #668.

==

demos/websocket/chatdemo.py
maint/test/websocket/client.py
maint/test/websocket/fuzzingclient.json
maint/test/websocket/fuzzingserver.json
maint/test/websocket/server.py
tornado/httputil.py
tornado/test/websocket_test.py
tornado/websocket.py
==================
db4876e9;Ben Darnell;2014-07-26 16:50:16 -0400;Merge branch 'branch4.0'

==
==================
3c27a919;Ben Darnell;2014-07-26 16:48:38 -0400;Expand documentation of WebSocketHandler.check_origin.
Document the potential problems that arise with websockets and
self-signed certificates.

==

tornado/websocket.py
==================
7b62519b;Ben Darnell;2014-07-24 23:41:49 -0400;Improve error handling during ssl handshake.
Previously if do_handshake raised an error not in CONNRESET,
the socket would not be closed properly and the server would start
using 100% of the cpu.

Also handle EBADF errors from do_handshake without logging since
they can be generated by some modes of nmap scans.

==

tornado/iostream.py
==================
20ef21d2;Ben Darnell;2014-07-24 23:38:00 -0400;Merge pull request #1090 from tatiana/master
Improve curl_httpclient so it supports custom methods with payload.
==
==================
1635b409;Ben Darnell;2014-07-24 22:28:45 -0400;Add "sudo: false" to .travis.yml in an attempt to stop the random build failures.

==

.travis.yml
==================
21458a76;Ben Darnell;2014-07-24 22:23:46 -0400;Merge branch 'branch4.0'

==
==================
bcdbd946;Ben Darnell;2014-07-24 22:22:59 -0400;Fix a dangling reference to callback in chatdemo.py.

==

demos/chat/chatdemo.py
==================
522b2c70;Tatiana Al-Chueyr;2014-07-24 12:30:36 -0700;Merge branch 'master' of github.com:tornadoweb/tornado

==
==================
b4aec6dd;Tatiana Al-Chueyr;2014-07-24 12:30:22 -0700;Code cleanup with guided by @bdarnell at #1090

==

tornado/test/httpclient_test.py
==================
5b8fb4ee;Ben Darnell;2014-07-23 22:27:08 -0400;Merge pull request #1125 from duedil-ltd/chunked-encoding-keep-alive
Fixed a bug with keep-alive chunked requests
==
==================
af463164;Ben Darnell;2014-07-23 22:24:04 -0400;Cite RFC 2730 when stripping extraneous line breaks.

==

tornado/http1connection.py
==================
8940beca;Ben Darnell;2014-07-23 22:22:36 -0400;Merge pull request #1124 from duedil-ltd/non-rfc-crlf
Support for non-RFC compliant header prefixes
==
==================
253607ec;Ben Darnell;2014-07-23 22:18:27 -0400;Fix a potential leak of an unclosed AsyncHTTPClient.

==

tornado/test/httpclient_test.py
==================
404ec8bd;Tom Arnfeld;2014-07-23 18:27:03 +0100;Fixed a bug with keep-alive chunked requests
If you make a POST request with 'Connection: Keep-Alive' and use chunked body encoding, tornado will not interpret that as a connection that can be kept alive, and will close the connection.

==

tornado/http1connection.py
==================
425e207b;Tom Arnfeld;2014-07-23 18:26:50 +0100;Added a regression test for keep-alive chunked POST

==

tornado/test/httpserver_test.py
==================
016fa926;Tom Arnfeld;2014-07-22 17:50:16 +0100;Support for non-RFC compliant header prefixes
When using keep-alive connections, some HTTP implementations insert unexpected and extra CRLF tokens between each connection, which can result in the next request being prefixed with a CRLF.

Some other client/server implementations are tollerant of this, and for example this bug doesn't show up when using the Go net/http library.

==

tornado/http1connection.py
==================
b91284f9;Tom Arnfeld;2014-07-23 09:28:08 +0100;Added a test for extra CRLF lines in keep-alive connections

==

tornado/test/httpserver_test.py
==================
a3bf5314;Tatiana Al-Chueyr;2014-07-21 16:33:00 -0700;Fix tests so they are compatible with python 3.x

==

tornado/test/httpclient_test.py
==================
3573f2a6;Tatiana Al-Chueyr;2014-07-21 15:53:17 -0700;Move patch test to httpclient_test, according to @bdarnell recommendation using httpclient_test.py instead of curl_httpclient_test.py so simple_httpclient_test.py is benefit from it as well #1090

==

tornado/test/curl_httpclient_test.py
tornado/test/httpclient_test.py
==================
ca7ae5fd;Tatiana Al-Chueyr;2014-07-21 15:28:41 -0700;Refactor: simplify patch test according to @bdarnell recommendations at #1090

==

tornado/test/curl_httpclient_test.py
==================
52760e51;Tatiana Al-Chueyr;2014-07-21 15:10:45 -0700;Merge branch 'master' of github.com:tornadoweb/tornado

==
==================
a8e272ad;Ben Darnell;2014-07-19 11:18:24 -0400;Add an ubuntu 14.04 vagrant config; drop 12.10.

==

maint/vm/ubuntu12.10/Vagrantfile
maint/vm/ubuntu14.04/Vagrantfile
maint/vm/ubuntu14.04/setup.sh
maint/vm/ubuntu14.04/tox.ini
==================
8ca94a8c;Ben Darnell;2014-07-19 11:13:54 -0400;Refactor Resolver error tests to mock getaddrinfo.
This appears to be necessary in a vagrant ubuntu/trusty64 VM,
where the resolver takes over 5 seconds before returning an error.

==

tornado/test/netutil_test.py
==================
b2f98d6c;Ben Darnell;2014-07-18 22:09:43 -0400;Merge branch 'branch4.0'

==
==================
dacf2102;Ben Darnell;2014-07-18 22:09:11 -0400;Merge pull request #1120 from Mouchh/patch-1
Typing error
==
==================
848c5175;Cyril Mouchel;2014-07-18 19:21:35 +0200;Typing error

==

docs/guide/structure.rst
==================
45f96b87;Ben Darnell;2014-07-18 01:12:52 -0400;Disable test_post_307 due to a libcurl bug that manifests with TwistedIOLoop on linux.

==

tornado/test/httpclient_test.py
==================
a983616e;Ben Darnell;2014-07-17 23:33:34 -0400;Add missing return statements to call_at and call_later.
Closes #1119.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
13c02a36;Ben Darnell;2014-07-17 23:26:12 -0400;Add a default value to a getaddr() call in HTTPServerRequest.
Closes #1118.

==

tornado/httputil.py
tornado/test/httputil_test.py
==================
50d2468c;Ben Darnell;2014-07-17 23:17:32 -0400;Add test for curl_httpclient ioctl change.

==

tornado/test/httpclient_test.py
==================
58370bd2;Ben Darnell;2014-07-16 20:23:42 -0400;Fall back to pure-python mode on any exception during the build.
Stop the futile process of trying to enumerate which kinds of exceptions
distutils may throw (the latest potential addition: ValueError).

Closes #1115.

==

setup.py
==================
52b6d1d1;Ben Darnell;2014-07-16 20:16:38 -0400;Merge pull request #1116 from homm/curl-put-redirects
make IOCMD_RESTARTREAD available for PUT requests
==
==================
8ef2a845;homm;2014-07-16 17:43:12 +0400;make IOCMD_RESTARTREAD available for PUT requests

==

tornado/curl_httpclient.py
==================
446d2e68;Ben Darnell;2014-07-16 00:29:27 -0400;Read config file in binary mode instead of try/except TypeError.

==

tornado/options.py
==================
42ba1086;Ben Darnell;2014-07-16 00:19:10 -0400;Merge pull request #1086 from likang/master
Make options.parse_config_file supporting custom encoding
==
==================
6c48936b;Ben Darnell;2014-07-16 00:06:54 -0400;Merge pull request #1102 from pekrau/master
Add 'reason' kwarg to send_error.
==
==================
6ef4608b;Ben Darnell;2014-07-15 22:54:16 -0400;Merge pull request #1109 from kmike/bytesio
Removed dead "io.BytesIO vs cStringIO.StringIO" code
==
==================
52133109;Ben Darnell;2014-07-15 22:47:50 -0400;Merge branch 'branch4.0'

==
==================
b96b6adf;Ben Darnell;2014-07-15 22:47:21 -0400;Fix example in docs.

==

docs/guide/structure.rst
==================
15769140;Ben Darnell;2014-07-15 09:43:32 -0400;Bump master branch version number

==

setup.py
tornado/__init__.py
==================
f1824029;Ben Darnell;2014-07-15 08:42:27 -0400;Set version number to 4.0

==

setup.py
tornado/__init__.py
==================
b7bcc2ec;Ben Darnell;2014-07-15 08:41:54 -0400;Move next.rst to 4.0.0.rst

==

docs/releases.rst
docs/releases/v4.0.0.rst
==================
dade9f13;Mikhail Korobov;2014-07-15 16:50:21 +0600;remove dead code
io.BytesIO is available since Python 2.6; Tornado doesn't support Python 2.5, so there won't be ImportError.

==

tornado/curl_httpclient.py
tornado/simple_httpclient.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/web.py
tornado/wsgi.py
==================
8dcbb600;Ben Darnell;2014-07-14 21:18:42 -0400;Drop the 3.2-era "upgrade notes" from the homepage.
The need to install dependencies is well-established by now.

==

docs/index.rst
==================
670176c0;Ben Darnell;2014-07-14 21:14:01 -0400;Reorganize top-level doc navigation.

==

docs/coroutine.rst
docs/http.rst
docs/index.rst
docs/integration.rst
docs/networking.rst
docs/utilities.rst
docs/webframework.rst
==================
b4ecbf96;Ben Darnell;2014-07-14 21:05:33 -0400;Flatten doc navigation
sphinx_rtd_theme's sidebar will not go deeper than two levels
in the table of contents, so remove the extra index->documentation
indirection.

==

docs/documentation.rst
docs/index.rst
==================
3cdb0e19;Ben Darnell;2014-07-14 10:05:11 -0400;Add a Highlights section to the 4.0 release notes.

==

docs/releases/next.rst
==================
3bcbb55d;Ben Darnell;2014-07-13 18:19:29 -0400;Update gen docs: deemphasize Task, Callback, and Wait.

==

docs/gen.rst
docs/guide/intro.rst
tornado/gen.py
==================
625bb0e0;Ben Darnell;2014-07-12 23:07:01 -0400;Install sphinx_rtd_theme when running sphinx tests.

==

.travis.yml
tox.ini
==================
b96d6f6b;Ben Darnell;2014-07-12 22:57:16 -0400;Use sphinx_rtd_theme instead of our lightly-customized version of sphinx default.
The main benefit of this change is the responsive layout for phones and
tablets.

==

docs/Makefile
docs/conf.py
docs/tornado.css
maint/requirements.txt
==================
7f0ffa4c;Ben Darnell;2014-07-12 22:40:32 -0400;Merge pull request #1107 from ajdavis/patch-3
Properly restore ASYNC_TEST_TIMEOUT after test.
==
==================
5cae3ff5;Ben Darnell;2014-07-12 22:39:31 -0400;Merge pull request #1106 from ajdavis/patch-2
Bugfix in asynchronous_fetch example code.
==
==================
812f4403;Ben Darnell;2014-07-12 22:39:15 -0400;Merge pull request #1105 from ajdavis/patch-1
Complete the Motor example.
==
==================
cd420dd5;A. Jesse Jiryu Davis;2014-07-12 14:25:13 -0400;Properly restore ASYNC_TEST_TIMEOUT after test.

==

tornado/test/testing_test.py
==================
ec37d01f;A. Jesse Jiryu Davis;2014-07-11 13:05:18 -0400;Bugfix in asynchronous_fetch example code.

==

docs/guide/async.rst
==================
c7f21fae;A. Jesse Jiryu Davis;2014-07-11 13:03:16 -0400;Complete the Motor example.

==

docs/guide/coroutines.rst
==================
1e337973;Ben Darnell;2014-07-10 14:24:30 -0400;Merge pull request #1101 from tioover/master
typo
==
==================
590ce3f3;Per Kraulis;2014-07-10 15:47:28 +0200;Fixes bug disallowing custom-made reason phrase
The send_error method is, I believe, supposed to allow sending an HTTP reason phrase that is not one of the standard ones. This change corrects an apparent bug which made this impossible. With the correction, specifying an 'error' keyword argument to send_error actually sends the specified
reason phrase to the client.
==

tornado/web.py
==================
69ce14e9;Tengfei Tsui;2014-07-10 17:15:43 +0800;typo

==

tornado/log.py
==================
8b5c4ae2;Ben Darnell;2014-07-08 22:50:05 -0400;Set version number to 4.0b3.

==

setup.py
tornado/__init__.py
==================
943dbdf3;Ben Darnell;2014-07-08 22:49:30 -0400;Add XSRF change to the release notes.

==

docs/releases/next.rst
==================
dba499ce;Ben Darnell;2014-07-08 22:27:35 -0400;Merge remote-tracking branch 'tictail/branch3.2'
Closes #1097

==
==================
ab688e7a;William Tisäter;2014-07-08 15:52:25 +0200;Catch `binascii.a2b_hex` errors on Python 3

==

tornado/web.py
==================
2299cf96;William Tisäter;2014-07-08 09:07:48 +0200;Don't raise when failing to hex decode XSRF v1

==

tornado/web.py
==================
d881dd2f;William Tisäter;2014-07-08 09:07:18 +0200;Turn short and hex XSRF tests into success tests

==

tornado/test/web_test.py
==================
22e8614f;William Tisäter;2014-07-07 23:29:44 +0200;Remove length requirement from v1 XSRF tokens

==

tornado/test/web_test.py
tornado/web.py
==================
9788e4f1;Ben Darnell;2014-07-06 11:10:09 -0400;Fix outdated variable name in docs.

==

tornado/web.py
==================
6a588143;Ben Darnell;2014-07-05 18:49:36 -0400;Add a test for exception in websocket callbacks.

==

tornado/test/websocket_test.py
==================
2fdfcb1b;Ben Darnell;2014-07-05 17:55:44 -0400;Rewrite chatdemo to use a coroutine instead of callbacks.

==

demos/chat/chatdemo.py
==================
f1edd3dd;Ben Darnell;2014-07-04 16:04:09 -0400;Merge branch 'guide'
* guide:
  Expand and rewrite the guide docs.
  Split overview.rst into separate files.

==
==================
1b0cc391;Ben Darnell;2014-06-30 12:59:58 -0400;Expand and rewrite the guide docs.

==

docs/guide/async.rst
docs/guide/running.rst
docs/guide/security.rst
docs/guide/structure.rst
docs/guide/templates.rst
docs/web.rst
tornado/httpclient.py
tornado/web.py
==================
235e52d5;Ben Darnell;2014-07-02 22:01:22 -0400;Disable twisted tests on pypy on travis-ci since they seem to be flaky.
They were already disabled in tox.ini.

==

.travis.yml
==================
f708fe01;Ben Darnell;2014-07-02 22:00:14 -0400;Add tests for both binary and unicode messages in websockets.

==

tornado/test/websocket_test.py
==================
b8d68809;Ben Darnell;2014-07-02 21:37:19 -0400;Merge branch 'master' of github.com:tornadoweb/tornado

==
==================
622139eb;Ben Darnell;2014-07-02 21:37:11 -0400;Merge pull request #1091 from xose/patch-1
Fix binary websocket connections
==
==================
2169e1be;José Martínez;2014-07-02 23:11:51 +0200;Fix binary websocket connections

==

tornado/websocket.py
==================
882254fa;Tatiana Al-Chueyr;2014-07-01 14:50:31 -0300;Merge branch 'master' of github.com:tatiana/tornado

==
==================
c957a5d4;Tatiana Al-Chueyr;2014-07-01 14:39:14 -0300;Improve curl_httpclient so it supports custom methods with payload. Before this, no custom method (e.g. PATCH) added body to the CURL request.

==

tornado/curl_httpclient.py
tornado/test/curl_httpclient_test.py
==================
aa7b15f0;Ben Darnell;2014-07-01 08:37:02 -0400;Set version number to 4.0b2

==

setup.py
tornado/__init__.py
==================
159e10d6;Ben Darnell;2014-06-30 23:28:10 -0400;Rename the new-in-4.0 gzip parameter to HTTPServer.
All the gzip-related parameters are now explicit about whether
they compress or decompress and whether they apply to requests or
responses.  For all the parameters that existed prior to 4.0
the old names are accepted as well, but for the new ones in 4.0
we don't need to worry about backwards-compatibility.

This is motivated by the potential confusion around the use of
gzip as a parameter to the Application constructor to indicate
compression of responses and to the HTTPServer constructor to
indicate decompression of requests.

==

docs/releases/next.rst
docs/web.rst
tornado/curl_httpclient.py
tornado/http1connection.py
tornado/httpclient.py
tornado/httpserver.py
tornado/simple_httpclient.py
tornado/test/httpserver_test.py
tornado/web.py
==================
76b8ab66;Ben Darnell;2014-06-28 15:40:55 -0700;Split overview.rst into separate files.

==

docs/documentation.rst
docs/guide.rst
docs/guide/running.rst
docs/guide/security.rst
docs/guide/structure.rst
docs/guide/templates.rst
docs/overview.rst
==================
5110b039;likang;2014-06-26 10:41:47 +0800;Assume all config files are encoded in UTF-8

==

tornado/options.py
tornado/test/options_test.py
==================
a91b15c3;Ben Darnell;2014-06-25 19:00:35 -0700;Merge pull request #1084 from ukoethe/master
check for errno.WSA* on 64-bit Windows (fixes #1052)
==
==================
58323f06;likang;2014-06-25 15:31:17 +0800;Make options.parse_config_file supporting custom encoding

==

tornado/options.py
tornado/test/options_test.cfg
tornado/test/options_test.py
==================
5d838906;Ben Darnell;2014-06-24 18:58:35 -0700;Add the start of a new user guide.

==

docs/documentation.rst
docs/guide.rst
docs/guide/async.rst
docs/guide/coroutines.rst
docs/guide/intro.rst
==================
fe6a3a87;Ullrich Koethe;2014-06-23 14:40:40 +0200;check for errno.WSA* on 64-bit Windows (fixes #1052)

==

tornado/iostream.py
tornado/netutil.py
tornado/test/iostream_test.py
tornado/test/simple_httpclient_test.py
==================
681882b0;Ben Darnell;2014-06-21 16:02:18 -0400;Set version number to 4.0b1

==

setup.py
tornado/__init__.py
==================
1535dac8;Ben Darnell;2014-06-21 14:20:15 -0400;Update docs for deprecations and removals.

==

docs/overview.rst
docs/releases/next.rst
docs/releases/v2.2.0.rst
docs/websocket.rst
tornado/auth.py
tornado/testing.py
==================
3824b4c8;Ben Darnell;2014-06-21 13:50:56 -0400;Drop support for the draft76 version of WebSockets.
Browsers that only support draft76 are now less common than those
that do not support websockets at all, so applications should
use their non-websocket workarounds for these browsers.

==

demos/websocket/chatdemo.py
docs/releases/next.rst
docs/releases/v2.2.0.rst
tornado/websocket.py
==================
3a62caf9;Ben Darnell;2014-06-21 13:37:59 -0400;Edit comments to discourage creation of new OutputTransforms.

==

tornado/web.py
==================
b3ccb7b9;Ben Darnell;2014-06-21 14:05:49 -0400;Update tests after the removal of get_error_html.

==

tornado/test/stack_context_test.py
tornado/test/web_test.py
==================
f5ffe7ad;Ben Darnell;2014-06-21 13:34:03 -0400;Increase the test timeout on travis.

==

.travis.yml
==================
3d5c48f8;Ben Darnell;2014-06-21 13:32:44 -0400;Remove support for the old get_error_html function.

==

docs/releases/next.rst
tornado/web.py
==================
c9cac24d;Ben Darnell;2014-06-21 13:05:57 -0400;Remove workarounds for ancient versions of libcurl.

==

docs/releases/next.rst
tornado/curl_httpclient.py
tornado/httpclient.py
==================
fb246549;Ben Darnell;2014-06-21 12:47:40 -0400;Add pypy3 to tox.ini.

==

tox.ini
==================
2719ed62;Ben Darnell;2014-06-20 00:37:11 -0400;Release note updates.

==

docs/ioloop.rst
docs/iostream.rst
docs/releases/next.rst
docs/websocket.rst
==================
596038c2;Ben Darnell;2014-06-19 09:28:45 -0400;Add new exception tornado.web.Finish to quietly end a request.
This allows error pages to be generated inline with the main code
instead of in write_error and is friendlier to generating error pages
from library code.

Closes #1064.

==

docs/web.rst
tornado/test/web_test.py
tornado/web.py
==================
2cec3195;Ben Darnell;2014-06-18 10:29:28 -0400;Introduce IOLoop.call_later and call_at.
call_later is a less-verbose alternative to add_timeout with a
timedelta; call_at exists for symmetry.  Both are named after
methods on the asyncio event loop, although there are small
variations (we support both args and kwargs while asyncio only supports
args; we use remove_timeout(handle) instead of handle.cancel()).

Closes #1049.

==

docs/ioloop.rst
tornado/ioloop.py
tornado/platform/asyncio.py
tornado/platform/twisted.py
tornado/test/ioloop_test.py
tornado/util.py
==================
8953e9be;Ben Darnell;2014-06-17 10:09:15 -0400;Fix a leak in AsyncHTTPClient shutdown.
Clients created without force_instance=True were never getting
GC'd because we were using the wrong reference for the async_clients
instance cache.

To guard against future errors, failure to remove an instance
from the cache when we expected to now raises an error instead of
failing silently.

Closes #1079.

==

tornado/httpclient.py
==================
4e9de2e4;Ben Darnell;2014-06-15 23:49:39 -0400;Introduce IOLoop.spawn_callback.
This makes it easier and more discoverable to run a callback without
stack_context.

Closes #867.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
a0fe9344;Ben Darnell;2014-06-15 23:39:00 -0400;Rename HTTP{In,Out}putException to HTTP{In,Out}putError.
This follows the standard python naming convention for exceptions.

==

tornado/curl_httpclient.py
tornado/http1connection.py
tornado/httputil.py
tornado/wsgi.py
==================
66b06d7c;Ben Darnell;2014-06-15 23:35:02 -0400;Relax restrictions on HTTP methods in WebSocketHandler.
Methods like set_status are now disallowed once the websocket handshake
has begun, but may be used before then.  This applies to application
overrides of prepare() and to WebSocketHandler.get's internal error
handling.

Closes #1065.

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
d100cdf7;Ben Darnell;2014-06-15 13:36:10 -0400;Document that IOStream.connect blocks on DNS and recommend TCPClient instead.
Closes #861.

==

tornado/iostream.py
==================
c1ba948d;Ben Darnell;2014-06-15 12:39:38 -0400;Add clearer message for fetch() on closed AsyncHTTPClient.
Closes #866.

==

tornado/curl_httpclient.py
tornado/httpclient.py
==================
ac05c50c;Ben Darnell;2014-06-15 12:36:28 -0400;Document AsyncHTTPClient's defaults argument.
Closes #762.

==

tornado/httpclient.py
==================
1591ade4;Ben Darnell;2014-06-15 12:11:22 -0400;Improve callback scheduling.
Collect all timeouts to be run before running any of them; this
prevents starvation when a slow callback reschedules itself.

Call time() again before setting poll_timeout to avoid scheduling
anomalies with slow callbacks.

Closes #947.

==

tornado/ioloop.py
==================
7a0eda13;Ben Darnell;2014-06-15 11:52:34 -0400;Remove async_callback wrapper functions, which have been obsolete since 1.1.
Closes #283.

==

demos/blog/blog.py
docs/web.rst
docs/websocket.rst
tornado/web.py
tornado/websocket.py
==================
409ddc47;Ben Darnell;2014-06-15 11:33:46 -0400;Add ETIMEDOUT to the list of relatively benign unclean-close errnos.

==

tornado/iostream.py
==================
99aa924c;Ben Darnell;2014-06-15 11:32:11 -0400;When a function on the IOLoop returns a Future, log its exception.

==

tornado/ioloop.py
tornado/platform/asyncio.py
tornado/platform/twisted.py
tornado/test/ioloop_test.py
==================
00229a21;Ben Darnell;2014-06-07 11:22:58 -0400;The next version will be 4.0, not 3.3, so update all references to 3.3.

==

setup.py
tornado/__init__.py
tornado/auth.py
tornado/concurrent.py
tornado/gen.py
tornado/http1connection.py
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/testing.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
9fa52d78;Ben Darnell;2014-06-07 11:08:52 -0400;Broaden catch clause in extension building.
This should allow Tornado to be installed again on OSX with no
compiler available.

Closes #1074.

==

setup.py
==================
967dd227;Ben Darnell;2014-06-04 00:04:26 -0400;Merge branch 'master' of github.com:tornadoweb/tornado

==
==================
72a5e4ce;Ben Darnell;2014-06-03 23:48:51 -0400;Merge branch 'branch3.2'
Conflicts:
	docs/releases.rst
	setup.py
	tornado/__init__.py
	tornado/websocket.py

==
==================
67655497;Ben Darnell;2014-06-03 23:30:18 -0400;Set version number to 3.2.2

==

setup.py
tornado/__init__.py
==================
edfeb88d;Ben Darnell;2014-06-03 23:16:00 -0400;Docs for xsrf cookie change; 3.2.2 release notes.

==

docs/releases.rst
docs/releases/v3.2.2.rst
docs/web.rst
tornado/web.py
==================
45e339fa;Ben Darnell;2014-06-03 19:49:40 -0400;Merge pull request #1069 from drewbrew/master
ioloop.py: use itertools.count() as tiebreaker to preserve FIFO in case of tie
==
==================
5fc96e6f;drewbrew;2014-06-03 13:22:08 -0500;ioloop.py: use itertools.count() as tiebreaker to preserve FIFO in case of tie
Current implementation does not function as a FIFO.  When adding multiple
timeouts with the same deadline, order is currently consistently mangled in the
event of a garbage collect.

As suggested by Ben Darnell at
https://groups.google.com/forum/#!topic/python-tornado/w8aKm6ZabUQ/discussion,
we need to add a sequence number to the Timeout class to serve as tiebreaker.
This code uses the model suggested by
https://docs.python.org/2/library/heapq.html#priority-queue-implementation-notes,
which uses itertools.count() to serve as our counter.

==

tornado/ioloop.py
==================
53e4bad9;Ben Darnell;2014-06-01 18:45:10 -0400;Add threadedresolver configuration to tox.ini (it was already in travis)

==

tox.ini
==================
7c3b360a;Ben Darnell;2014-06-01 18:31:12 -0400;Fix another ipv6 test that was flaky on travis due to port conflicts.

==

tornado/test/simple_httpclient_test.py
==================
f2711408;Ben Darnell;2014-06-01 18:14:14 -0400;Refine logging in http1connection.py.
Exceptions raised by delegate methods go to app_log; all others to gen_log.

==

tornado/http1connection.py
tornado/test/httpserver_test.py
tornado/test/simple_httpclient_test.py
==================
1d1b0dec;Ben Darnell;2014-06-01 16:36:52 -0400;Remove all use of async_callback in tornado.auth.
This was swallowing exceptions before they could be given to the returned
Future.

==

tornado/auth.py
tornado/test/auth_test.py
==================
6f46e703;Ben Darnell;2014-06-01 10:22:09 -0700;Merge pull request #1068 from patrickfuller/master
From #1067, updated Google Auth docs to reflect API changes
==
==================
7d0e9b3b;Patrick Fuller;2014-05-28 13:47:32 -0500;Updated Google Auth docs to reflect API changes

==

tornado/auth.py
==================
c2a8c322;Ben Darnell;2014-05-26 21:18:36 -0400;Add the option to request an older xsrf cookie version.
Fix an issue with v1 cookies on py32.

==

tornado/test/web_test.py
tornado/web.py
==================
1c363074;Ben Darnell;2014-05-26 15:44:58 -0400;Change the xsrf cookie format to be masked with a random salt.
This protects against the BREACH attack.

==

tornado/test/web_test.py
tornado/test/websocket_test.py
tornado/util.py
tornado/web.py
tornado/websocket.py
==================
7279a303;Ben Darnell;2014-05-26 13:33:21 -0400;Small security improvements to xsrf tokens; add tests.
Use os.urandom(16) instead of uuid.uuid4(), to reclaim a few bits of
entropy.  Use _time_independent_equals for comparison.

==

tornado/test/web_test.py
tornado/web.py
==================
f76f51a3;Ben Darnell;2014-05-26 20:41:52 -0400;Fix imports for the new version of trollius, which changed its package name.

==

tornado/platform/asyncio.py
==================
8b7bd067;Ben Darnell;2014-05-26 20:41:52 -0400;Fix imports for the new version of trollius, which changed its package name.

==

tornado/platform/asyncio.py
==================
12ba59f9;Ben Darnell;2014-05-25 23:03:13 -0400;Run the sphinx tests under py3.4 instead of py2.7.

==

.travis.yml
tox.ini
==================
6403cb91;Ben Darnell;2014-05-25 21:41:44 -0400;Disallow non-absolute urls in origin field.
Update docs for websocket check_origin.

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
cc8dcece;Ben Darnell;2014-05-25 20:49:00 -0400;Merge remote-tracking branch 'rgbkrk/cross_origin' into merge

==
==================
142c00c0;Ben Darnell;2014-05-25 16:52:29 -0400;Document max_write_buffer_size.
StreamBufferFullError is no longer an IOError, and is now used for
the read buffer as well.

==

tornado/iostream.py
==================
4de52a52;Ben Darnell;2014-05-25 16:34:41 -0400;Merge remote-tracking branch 'methane/write-buffer-size'
Conflicts:
	tornado/iostream.py

==
==================
c93e961f;Ben Darnell;2014-05-25 12:50:51 -0400;Stream large response bodies from StaticFileHandler.
The get_content interface is still synchronous so it's not a complete
solution, but this will keep the server from buffering the whole file in
memory while writing it out to the client.

Return Futures from the wsgi interface, allowing @gen.coroutine to be
used there in limited circumstances.

==

tornado/http1connection.py
tornado/test/web_test.py
tornado/web.py
tornado/wsgi.py
==================
59fee55e;Ben Darnell;2014-05-25 12:24:55 -0400;Improve performance of HEAD requests on large static files.
StaticFileHandler would previously read the entire file and throw it
away just to compute its length; now it uses get_content_size()
instead().

Added extra validation in tests by performing both GET and HEAD
versions of all requests and ensuring the content headers match.

Closes #988.

==

tornado/test/web_test.py
tornado/web.py
==================
fa29f20d;Ben Darnell;2014-05-25 11:39:12 -0400;Remove HTTP method check from HTTPServerRequest._parse_body.
The semantics of a body are not well-defined for some methods,
but if a client sends a body with the correct content-type,
we might as well parse it no matter what the method.

Closes #1011.

==

tornado/httputil.py
==================
8e006fc7;Ben Darnell;2014-05-25 10:54:26 -0400;Doc and release note updates.

==

docs/conf.py
docs/networking.rst
docs/releases/next.rst
docs/tcpclient.rst
==================
6b81d126;Ben Darnell;2014-05-25 09:01:47 -0400;Fix syntax error in travis.yml

==

.travis.yml
==================
e777e6fd;Ben Darnell;2014-05-25 00:48:15 -0400;Add TwistedIOLoop test on python 3 to tox and travis.

==

.travis.yml
tox.ini
==================
1299bd6e;Ben Darnell;2014-05-24 23:35:27 -0400;Autopep8 formatting updates.

==

tornado/auth.py
tornado/concurrent.py
tornado/gen.py
tornado/http1connection.py
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/iostream.py
tornado/log.py
tornado/netutil.py
tornado/platform/auto.py
tornado/simple_httpclient.py
tornado/tcpclient.py
tornado/tcpserver.py
tornado/template.py
tornado/test/curl_httpclient_test.py
tornado/test/gen_test.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/runtests.py
tornado/test/tcpclient_test.py
tornado/test/template_test.py
tornado/test/web_test.py
tornado/testing.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
04db7536;Ben Darnell;2014-05-24 23:24:55 -0400;Bump required autopep8 version.
This version can be installed on py3 but was having problems on py2.

==

maint/requirements.txt
==================
faa56d33;Ben Darnell;2014-05-24 23:23:46 -0400;Pyflakes cleanup.
Includes real python3 bugfixes for tornado.auth.FacebookMixin and
tornado.platform.twisted.

==

tornado/auth.py
tornado/platform/twisted.py
tornado/simple_httpclient.py
tornado/tcpclient.py
tornado/test/web_test.py
==================
0d3e2d33;Ben Darnell;2014-05-24 23:18:46 -0400;Switch to python 3.4 for maint/requirements.txt.

==

maint/requirements.txt
==================
883b6635;Ben Darnell;2014-05-24 22:32:26 -0400;Update maint/requirements.txt versions.
Everything but autopep8, which seems to have trouble installing on py27.

==

maint/requirements.txt
==================
2aed36fa;Ben Darnell;2014-05-24 17:47:14 -0400;Skip dual-stack ipv4/ipv6 tests on travis.
These tests occasionally fail (they bind to an unused ipv6 port but cannot
bind that same port on ipv4), and I'm not sure how to fix/workaround.

==

tornado/test/netutil_test.py
tornado/test/tcpclient_test.py
==================
da552790;Ben Darnell;2014-05-24 17:40:23 -0400;Add a future-based alternative to gen.Multi to avoid stack_context overhead.

==

tornado/gen.py
tornado/test/gen_test.py
==================
652ed91a;Ben Darnell;2014-05-24 17:00:53 -0400;TCPClient: connect without SSL and wrap the connection later.
This prevents us from potentially starting two SSL handshakes
at the same time.

==

tornado/tcpclient.py
==================
db795310;Ben Darnell;2014-05-24 16:38:37 -0400;Implement IOStream.start_tls to convert an IOStream to an SSLIOStream.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
d3dc2c9d;Ben Darnell;2014-05-20 22:34:20 -0400;Better logging to diagnose this flaky test on travis.

==

tornado/test/tcpclient_test.py
==================
9f850225;Ben Darnell;2014-05-19 23:05:22 -0400;Add some logging to diagnose this flaky test on travis.

==

tornado/test/tcpclient_test.py
==================
7d56c5c2;Ben Darnell;2014-05-19 22:00:15 -0400;Change an assert to an explicit exception.
Use normalized Http-Header-Case for X-Http-Reason header.

==

tornado/curl_httpclient.py
tornado/httputil.py
==================
9c0450dc;Ben Darnell;2014-05-19 21:56:34 -0400;Merge remote-tracking branch 'dano/master'

==
==================
1f897ae6;dano;2014-05-19 11:38:23 -0400;Fixes based on code review.
Don't fall through if regex doesn't match.
Use 'X-HTTP-Reason' instead of 'Reason'.

==

tornado/curl_httpclient.py
==================
518ecf83;Ben Darnell;2014-05-18 23:19:41 -0400;Make gen.Task a function returning a Future instead of a YieldPoint subclass.
This improves performance of applications that mix Tasks and Futures
by only entering a stack context for the duration of the Tasks. It
also fixes an obscure regression (#1058).  This might get reverted before
the final release if any backwards-compatibility issues turn up, but
since the status quo also had a regression it's worth a try.

Closes #1058.

==

docs/gen.rst
tornado/gen.py
tornado/test/gen_test.py
==================
ce62ed9b;Ben Darnell;2014-05-18 21:57:27 -0400;Remove test_websocket_network_timeout.
It wasn't testing what it appeared to be (it was hitting exactly the
same code paths as test_websocket_network_fail on posix, but was failing
on windows).

Closes #1054.

==

tornado/test/websocket_test.py
==================
db917733;Ben Darnell;2014-05-18 20:34:30 -0400;Use Resolver instead of socket.getaddrinfo to decide whether localhost is ipv6.
The results can differ with different resolvers.  Add a CaresResolver
configuration to tox (it was already in travis).

==

tornado/test/tcpclient_test.py
tox.ini
==================
5a9333d5;Ben Darnell;2014-05-18 20:20:29 -0400;Raise StreamClosedError instead of IOError for ECONNRESET.
This allows application code to only catch one kind of exception
(an ECONNRESET exception is raised from
tornado.test.httpserver_test.KeepAliveTest.test_pipeline_cancel
on linux but not on mac)

==

tornado/iostream.py
==================
1cddd018;Ben Darnell;2014-05-18 19:56:17 -0400;Fix tcpclient test when ipv6 is available but 'localhost' is only ipv4.

==

tornado/test/tcpclient_test.py
==================
602f40da;Ben Darnell;2014-05-04 19:05:07 -0400;Allow ipv6 in simple_httpclient by default.
Improve connection error handling (especially for SelectIOLoop).

==

tornado/iostream.py
tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
tornado/test/tcpclient_test.py
==================
cc0e7624;Ben Darnell;2014-05-04 13:13:49 -0400;Implement the "happy eyeballs" algorithm for ipv4/ipv6 selection.
IOStream.connect's Future resolves to the stream itself,
which streamlines some connection scenarios.

==

tornado/iostream.py
tornado/tcpclient.py
tornado/test/iostream_test.py
tornado/test/simple_httpclient_test.py
tornado/test/tcpclient_test.py
tornado/test/util.py
==================
a6e83a6c;Ben Darnell;2014-05-03 14:41:51 -0400;Hack around mac ipv6 firewall problems in bind_sockets to reenable tests.
Fix a test ResourceWarning.

==

tornado/netutil.py
tornado/test/netutil_test.py
==================
2278cef7;Ben Darnell;2014-05-03 11:40:01 -0400;Refactor connection logic from simple_httpclient to a new tcpclient module.
This is preparation for introducing connection pooling and better
handling of ipv6.

If an IOStream was closed due to an exception, its Futures will
now raise that exception instead of StreamClosedError.

==

tornado/http1connection.py
tornado/iostream.py
tornado/simple_httpclient.py
tornado/tcpclient.py
tornado/test/httpserver_test.py
tornado/test/runtests.py
tornado/test/tcpclient_test.py
tornado/websocket.py
==================
4b6fc9cb;Ben Darnell;2014-05-17 10:56:35 -0400;Fix Tornado on Google App Engine.
Imports of tornado.ioloop have crept into more places, so the old
app engine policy of never importing these modules doesn't work.
Instead, we add guards around imports of unavailable modules
(fcntl, ssl, multiprocessing) so that everything is at least importable.

Closes #1059.

==

maint/test/appengine/common/cgi_runtests.py
tornado/iostream.py
tornado/netutil.py
tornado/platform/auto.py
tornado/process.py
tornado/simple_httpclient.py
tornado/tcpserver.py
tornado/test/import_test.py
==================
5a542d88;Ben Darnell;2014-05-17 10:19:17 -0400;Point all links to the 'demos' directory to the stable branch instead of master.

==

README.rst
docs/index.rst
docs/overview.rst
tornado/wsgi.py
==================
c5118576;Ben Darnell;2014-05-17 10:17:01 -0400;Document gen_test change.

==

docs/releases/next.rst
tornado/testing.py
==================
b9d6c971;Ben Darnell;2014-05-17 10:04:02 -0400;Merge pull request #1061 from stj/master
Extended gen_test decorator to pass args and kwargs.
==
==================
5eb39608;Stefan Tjarks;2014-05-16 16:03:01 -0700;Extended gen_test decorator to pass args and kwargs. A use case might be a decorated test class that passes arguments to each class method, like mock.patch for instance.

==

tornado/test/testing_test.py
tornado/testing.py
==================
33bab42e;dano;2014-05-14 11:14:28 -0400;Merge remote-tracking branch 'upstream/master'

==
==================
5176866c;dano;2014-05-14 10:48:38 -0400;Use parse_response_start_line instead of re

==

tornado/curl_httpclient.py
==================
f91b8357;Ben Darnell;2014-05-13 21:07:38 -0400;Ensure that travis test runs can see .coveragerc

==

.travis.yml
==================
a47c2c5e;Ben Darnell;2014-05-13 21:05:29 -0400;Merge branch 'branch3.2'
Conflicts:
	tornado/tcpserver.py

==
==================
7b225f8e;Ben Darnell;2014-05-13 20:51:23 -0400;Update links to github repo; add announcement mailing list.

==

README.rst
docs/index.rst
docs/overview.rst
docs/releases/v1.2.0.rst
tornado/escape.py
tornado/tcpserver.py
tornado/wsgi.py
==================
6bdf7013;Ben Darnell;2014-05-13 20:35:59 -0400;Also exclude pycares from pypy on travis.

==

.travis.yml
==================
0b441c52;Ben Darnell;2014-05-13 19:57:43 -0400;.travis.yml: don't install Twisted on 3.2 or pycurl on pypy.

==

.travis.yml
==================
c85be5e2;Ben Darnell;2014-05-13 11:02:03 -0400;Fix .travis.yaml syntax error.
Remove deprecated --use-mirrors flag to pip.

==

.travis.yml
==================
00d9ac38;Ben Darnell;2014-05-13 10:35:48 -0400;Twisted 14.0.0 is now (partially) installable on python 3, so test with it.
Consolidate the dependency section of the .travis.yml now that more of our
dependencies are cross-version.

==

.travis.yml
tornado/test/runtests.py
tox.ini
==================
9d0a2b1a;Ben Darnell;2014-05-12 14:49:57 -0400;Merge pull request #1055 from schlamar/patch-1
Test Python 3.4 on Travis.
==
==================
d77eb7f6;Marc Schlaich;2014-05-12 10:00:35 +0200;Test Python 3.4 on Travis.

==

.travis.yml
==================
f16ef3c1;Ben Darnell;2014-05-11 23:43:55 -0400;Decouple read_from_buffer's search for the endpoint from consuming the data.
This lets us call find_read_pos from read_to_buffer_loop, avoiding some
unnecessary reads (e.g. it previously took a minimum of two recv calls
to serve an http request, but now we can do it in one).

==

tornado/iostream.py
==================
a15eccec;dano;2014-05-11 23:29:46 -0400;Update documentation

==

tornado/httpclient.py
==================
4ee968c1;Ben Darnell;2014-05-11 20:23:33 -0400;IOStream: do not listen for close events if there is no close_callback.
HTTP1Connection now only registers its close callback when it is done
reading.  This improves performance for synchronous handlers, which no
longer interact with the IOLoop as often.

==

tornado/http1connection.py
tornado/iostream.py
tornado/test/iostream_test.py
tornado/websocket.py
==================
4f0d837e;Ben Darnell;2014-05-11 18:49:40 -0400;Add gen.moment, a yieldable object that resumes after one IOLoop iteration.
Use this between requests in HTTP1ServerConnection to keep one connection
from monopolizing the IOLoop when there are pipelined (or just fast) requests
available.  This was causing increased variance in benchmarks using "ab -k"
(it also increased throughput, for reasons that are not yet clear, so this
change reduces observed speed in these benchmarks).

==

docs/gen.rst
tornado/gen.py
tornado/http1connection.py
tornado/test/gen_test.py
==================
185a246b;dano;2014-05-10 22:31:35 -0400;Another test

==

tornado/test/curl_httpclient_test.py
==================
ea0df97a;dano;2014-05-10 22:27:40 -0400;Add tests

==

tornado/test/curl_httpclient_test.py
==================
93b81576;dano;2014-05-10 22:08:18 -0400;Improve custom reason code support.
Adds support for custom reason messages to curl_httpclient.
Make custom reason code HTTPError.message if one is available.

==

tornado/curl_httpclient.py
tornado/httpclient.py
==================
302f57ee;Ben Darnell;2014-05-10 13:27:46 -0400;Improve performance by using Future interface when writing HTTP responses.
Previously, we passed a callback to IOStream.write() and also checked
IOStream.writing() to see if the write completed synchronously (which is
the common case).  If it did, we would complete the request immediately
but the write callback would remain on the IOLoop until its next iteration,
keeping the request state from being garbage collected.

In benchmarks, this would manifest as as something like a memory leak,
since benchmarks often handle many requests in one IOLoop iteration.
This slowed things down (by about 10% in my benchmarks) by increasing
pressure on the garbage collector.

==

tornado/http1connection.py
==================
33a84e01;Ben Darnell;2014-05-08 20:54:42 -0400;Merge pull request #1042 from moijes12/fix1033_2
Changed _on_close method tornado/simple_httpclient.py to raise the error instead of raising an HTTPError
==
==================
7fcbe30b;Kyle Kelley;2014-05-08 13:57:39 -0500;Clean up style when rejecting/passing on origin

==

tornado/websocket.py
==================
bc2b146f;Kyle Kelley;2014-05-08 13:53:11 -0500;Test when origin contains a path.

==

tornado/test/websocket_test.py
==================
fb39ba2c;Kyle Kelley;2014-02-24 20:32:36 -0600;Move origin parsing in to check_origin

==

tornado/websocket.py
==================
47a85301;Kyle Kelley;2014-01-27 20:22:59 -0700;Move nil origin check out to execute

==

tornado/websocket.py
==================
9963e737;Kyle Kelley;2014-01-25 17:07:44 -0700;Modify origin handling & normalization. Add tests.

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
8cf5f0a0;Kyle Kelley;2014-01-25 08:22:10 -0700;Response of None on failure

==

docs/overview.rst
tornado/test/websocket_test.py
==================
217ba684;Kyle Kelley;2014-01-24 13:47:49 -0600;Add tests, fix allowed_origins, rebase tests

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
75fd4db1;Kyle Kelley;2014-01-24 10:20:59 -0600;Change to check_origin, add override statement.

==

tornado/websocket.py
==================
27637a30;Kyle Kelley;2014-01-24 00:17:57 -0600;Handle varying origin name

==

tornado/websocket.py
==================
917b54af;Kyle Kelley;2014-01-23 23:25:44 -0600;Disable cross origin websockets by default.

==

tornado/websocket.py
==================
7849162c;Ben Darnell;2014-05-07 23:06:01 -0400;Add a test with newlines in template tags to control whitespace in output.

==

tornado/test/template_test.py
==================
41c4116a;Ben Darnell;2014-05-06 08:57:17 -0400;Merge pull request #1045 from schlamar/fix-win-tests
Fixed tests on Windows.
==
==================
63ff9d69;Ben Darnell;2014-05-06 08:55:34 -0400;Merge pull request #1044 from schlamar/wouldblock-const
Use constant for blocking errnos.
==
==================
a1bc78b4;schlamar;2014-05-06 11:35:51 +0200;Fixed tests on Windows.

==

tornado/test/ioloop_test.py
tornado/test/netutil_test.py
==================
702892a6;schlamar;2014-05-06 11:20:37 +0200;Use constant for blocking errnos.

==

tornado/netutil.py
==================
d19cba34;Ben Darnell;2014-05-05 22:53:07 -0400;Merge branch 'branch3.2'
Conflicts:
	docs/releases.rst
	setup.py
	tornado/__init__.py
	tornado/test/web_test.py
	tornado/web.py

==
==================
636965fd;Ben Darnell;2014-05-05 22:44:01 -0400;Give credit to Joost Pol for reporting the security issue.

==

docs/releases/v3.2.1.rst
==================
98969318;Ben Darnell;2014-05-05 22:28:23 -0400;Set version number to 3.2.1

==

setup.py
tornado/__init__.py
==================
3488413e;Ben Darnell;2014-05-05 22:27:20 -0400;v3.2.1 release notes

==

docs/releases.rst
docs/releases/v3.2.1.rst
==================
ae864fa1;Ben Darnell;2014-05-05 21:58:22 -0400;Document the cookie versioning interface.

==

docs/web.rst
tornado/web.py
==================
dd7bc466;Ben Darnell;2014-05-04 22:59:12 -0400;Add a v2 secure cookie format.
This format fixes some weaknesses in the original format that would allow
characters to be shifted from the "value" field to the "name" or "timestamp"
fields.  It also upgrades the signature from HMAC-SHA1 to HMAC-SHA256,
adds an explicit version field, and adds an as-yet-unused field to
support key rotation in the future.

==

tornado/test/web_test.py
tornado/web.py
==================
eed7975d;Ben Darnell;2014-05-04 20:03:09 -0400;Add versioning parameters to secure_cookie/signed_value APIs.

==

tornado/web.py
==================
b68ade80;Ben Darnell;2014-05-05 21:30:33 -0400;Merge branch 'stable' into branch3.2

==
==================
1f33de04;Matthew Brett;2014-04-08 11:23:21 -0700;Add SystemError to errors from compilation
OSX generates a SystemError from a missing compiler; trap with other
compilation errors.

==

setup.py
==================
292f8fd6;moijes12;2014-05-04 23:52:05 +0530;Changed tornado/simple_httpclient.py to raise the error instead of storing the error message and then raising an HTTPError. Changed the websocket tests for network_fail and network timeout to expect an IOError instead of an HTTPError.

==

tornado/simple_httpclient.py
tornado/test/websocket_test.py
==================
ab27cabc;Ben Darnell;2014-05-03 12:09:35 -0400;Relax this timing-sensitive test

==

tornado/test/ioloop_test.py
==================
aa5ca2ab;Abhishek Kumar Singh;2014-04-16 14:36:33 +0530;Update overview.rst with typos in nginx conf.
Minor correction in the production nginx server conf with proxy_redirect as off; previously it was false.

==

docs/overview.rst
==================
3d87bf59;Ben Darnell;2014-04-27 23:20:16 -0400;Document @authenticated's behavior around query parameters.
Closes #998.

==

tornado/web.py
==================
a255719a;Ben Darnell;2014-04-27 23:15:19 -0400;Merge pull request #1017 from SuminAndrew/curl-dns-timeouts
fix timeouts less than 1 sec when libcurl is compiled without c-ares
==
==================
ec4b7e46;Ben Darnell;2014-04-27 21:03:08 -0400;Remove ca-certificates bundle and instead depend on the certifi package.

==

MANIFEST.in
README.rst
docs/index.rst
docs/releases/next.rst
maint/requirements.txt
setup.py
tornado/ca-certificates.crt
tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
72732270;Ben Darnell;2014-04-27 14:14:14 -0400;Merge pull request #1021 from bdarnell/http_refactor
Major HTTP refactoring for streaming uploads
==
==================
073a535d;Ben Darnell;2014-04-27 12:58:40 -0400;Fix unix socket test on linux.
Unix socket addresses are bytes on linux (but str on mac).  This mostly
works but causes errors in py3's -bb strict mode.

==

maint/vm/ubuntu12.04/tox.ini
tornado/httpserver.py
==================
61c05ab4;Ben Darnell;2014-04-27 12:25:12 -0400;Remove the has_body flag from write_headers.
It was only used client-side and we can infer whether we need to add
a framing mechanism from the method instead.

==

tornado/http1connection.py
tornado/httputil.py
tornado/simple_httpclient.py
tornado/wsgi.py
==================
8630b3b7;Ben Darnell;2014-04-27 11:36:54 -0400;Test and document the legacy HTTPRequest.write interface.

==

tornado/http1connection.py
tornado/test/httpserver_test.py
==================
42a00ef9;Ben Darnell;2014-04-27 00:31:30 -0400;Make HTTP1Connection and WSGIConnection subclasses of HTTPConnection.

==

tornado/http1connection.py
tornado/httputil.py
tornado/wsgi.py
==================
b4dc5aef;Ben Darnell;2014-04-27 00:07:15 -0400;Remove unused protocol field from HTTP1ConnectionParams

==

tornado/http1connection.py
tornado/httpserver.py
tornado/simple_httpclient.py
==================
425a31d2;Ben Darnell;2014-04-26 23:56:16 -0400;Document all the new HTTP stuff

==

docs/conf.py
docs/gen.rst
docs/http1connection.rst
docs/iostream.rst
docs/networking.rst
docs/releases/next.rst
docs/web.rst
tornado/gen.py
tornado/http1connection.py
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/web.py
tornado/wsgi.py
==================
500a6055;Ben Darnell;2014-04-26 20:32:10 -0400;Merge branch 'master' into http_refactor
Conflicts:
	tornado/iostream.py

==
==================
5a1497df;Ben Darnell;2014-04-26 20:13:46 -0400;Update docs for changes in 3.3.

==

docs/concurrent.rst
docs/ioloop.rst
docs/releases/next.rst
docs/releases/v3.2.0.rst
tornado/concurrent.py
tornado/iostream.py
tornado/web.py
==================
217de139;Ben Darnell;2014-04-26 19:23:42 -0400;Catch up on next-release notes.

==

docs/releases/next.rst
==================
d007a2f9;Ben Darnell;2014-04-26 19:11:09 -0400;Return Futures from RequestHandler.flush and HTTP1Connection.write{,_headers}

==

tornado/http1connection.py
tornado/test/simple_httpclient_test.py
tornado/test/web_test.py
tornado/web.py
==================
544887c3;Ben Darnell;2014-04-26 17:07:41 -0400;Add client-side support for Expect: 100-continue.
Don't send the 100-continue response if the header callback already sent
a response.

==

tornado/http1connection.py
tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
0d215897;Ben Darnell;2014-04-26 14:39:59 -0400;Call the superclass's on_connection_close in this test.
This fixes the last py3.3 uncollectable garbage warning.

==

tornado/test/web_test.py
==================
41597204;Ben Darnell;2014-04-26 14:26:41 -0400;Add on_close to HTTPServerConnectionDelegate.
Add close_all_connections method to HTTPServer for testing cleanup.
On Python versions before 3.4, the GC has problems with generators,
so the previous approach of closing all the file descriptors and
leave the rest to the GC no longer works.  (Only Python 3.3 prints
the uncollectable garbage warnings, but the problem is present
in earlier versions).

==

tornado/http1connection.py
tornado/httpserver.py
tornado/httputil.py
tornado/testing.py
==================
fd00f9ca;Ben Darnell;2014-04-26 13:06:15 -0400;Add on_connection_close to the HTTPMessageDelegate interface.
This allows handlers to detect when the connection was closed during
the upload of the request body.

==

tornado/http1connection.py
tornado/httpserver.py
tornado/httputil.py
tornado/test/web_test.py
tornado/web.py
==================
33370aa7;Ben Darnell;2014-04-21 00:26:40 -0400;Help out the CPython GC by clearing some references in IOLoop.close.
This prevents some of the ResourceWarnings from the test suite on python
3.3 (older versions didn't report the leaks; newer versions are better
at freeing generators).  Since this is in IOLoop.close, it mainly
affects tests.

==

tornado/ioloop.py
==================
ce3ca514;Ben Darnell;2014-04-20 23:26:11 -0400;Move HTTP/1.0 Connection: keep-alive behavior to http1connection.
Also remove the supports_http_1_1 check from GzipContentEncoding
since versions don't really matter with the accept-encoding check.

==

tornado/http1connection.py
tornado/test/httpserver_test.py
tornado/web.py
==================
894bab4d;Ben Darnell;2014-04-20 17:01:43 -0400;Move address manipulation from HTTP1Connection to HTTPServer.
The connection now contains only an opaque 'origin' object to which
the caller can attach address info.  This object can also be mutated
as in HTTPServer's xheader support.

==

tornado/http1connection.py
tornado/httpserver.py
tornado/httputil.py
tornado/simple_httpclient.py
tornado/test/httpserver_test.py
tornado/wsgi.py
==================
f2d4b8ec;Ben Darnell;2014-04-20 16:16:39 -0400;Clean up and comment http1connection internals.
Be specific about read/write vs request/response; the code moved from
HTTPServer often conflated the two.

==

tornado/http1connection.py
tornado/simple_httpclient.py
==================
292e72d5;Ben Darnell;2014-04-20 13:58:49 -0400;Make HTTP1Connection single-use-only.
The server loop is now on a separate HTTP1ServerConnection class.

==

tornado/http1connection.py
tornado/httpserver.py
tornado/simple_httpclient.py
tornado/test/httpserver_test.py
==================
a92b4ac0;Ben Darnell;2014-04-20 10:28:23 -0400;Synchronize chunk size between HTTP1Connection and IOStream.
Increase IOStream default chunk size to 64KB.

==

tornado/httpserver.py
tornado/iostream.py
tornado/tcpserver.py
==================
adba10d6;Ben Darnell;2014-04-20 10:22:32 -0400;Remove HTTPServer.__init__'s **kwargs.
New keyword arguments to this constructor are no longer likely to
be simple pass-through arguments to TCPServer.

==

tornado/http1connection.py
tornado/httpserver.py
==================
89d794c9;Ben Darnell;2014-04-20 01:01:20 -0400;Add max_body_size and body_timeout limits to http1connection.
These limits can be set on a per-request basis during headers_received.

==

tornado/http1connection.py
tornado/httpserver.py
tornado/test/httpserver_test.py
==================
d3bf5868;Ben Darnell;2014-04-19 21:22:43 -0400;Optimize gen.with_timeout for tornado futures.
We can avoid some IOLoop and stack_context interactions if we know
that the Future will resolve on the IOLoop's thread.

==

tornado/gen.py
tornado/test/gen_test.py
==================
5faab93a;Ben Darnell;2014-04-19 20:13:40 -0400;Timeout micro-optimizations.
Use the (C) timedelta.total_seconds function when available.  But it's
still a bit faster to use numeric timeouts instead of back-and-forth
through timedelta, so do that instead in http1connection.

==

tornado/http1connection.py
tornado/ioloop.py
==================
e239a8a7;Ben Darnell;2014-04-19 18:51:36 -0400;Use add_callback_from_signal in benchmark.py's sigchld handler.
This would manifest as an occasional deadlock when an 'ab' process
finished.

==

demos/benchmark/benchmark.py
==================
18cfb371;Ben Darnell;2014-04-19 16:04:53 -0400;Don't log errors about content-length mismatch when the connection closes.

==

tornado/http1connection.py
tornado/test/web_test.py
==================
ae7447ab;Ben Darnell;2014-04-19 15:05:56 -0400;Add a max_bytes to one remaining read_until in http1connection.

==

tornado/http1connection.py
==================
7335cc24;Ben Darnell;2014-04-18 22:16:55 -0400;Read less aggressively in IOStream.
Previously, we would drain the socket buffer into the IOStream read buffer
before trying to satisfy application requests.  This would result in
unnecessary memory use, and on a fast network reads could fail because the
buffer would fill up.  Now we stop reading when we can satisfy the current
request (at least for read_bytes and read_until with max_bytes; unbounded
read_until still reads aggressively).

This commit includes a change to IOStream close_callback semantics.  Since
the only way to reliably detect a closed connection (across all IOLoop
implementations) is to read past the end of the stream, the IOStream will
not detect a closed connection while there is some buffered data that could
satisfy a future read.

Closes #772.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
049ab336;Ben Darnell;2014-04-16 09:27:13 -0400;Merge pull request #1037 from toanant/patch-1
Update overview.rst with typos in nginx conf.
==
==================
d39c65e3;Abhishek Kumar Singh;2014-04-16 14:36:33 +0530;Update overview.rst with typos in nginx conf.
Minor correction in the production nginx server conf with proxy_redirect as off; previously it was false.
==

docs/overview.rst
==================
243f2827;Ben Darnell;2014-04-13 21:25:10 -0400;Add a `streaming` option to _run_read_callback and move all calls to _consume into that method.

==

tornado/iostream.py
==================
ce4eb7f5;Ben Darnell;2014-04-13 20:52:26 -0400;Fix IOStream.reading when Futures are used.
Reduce some duplication in IOStream _handle_read and _try_inline_read.

==

tornado/iostream.py
==================
c5292057;bdarnell;2014-04-13 11:22:55 -0400;Merge pull request #1034 from kouki-dan/work
Delete description for cookie capacity
==
==================
73c8c218;Kouki Saito;2014-04-09 19:31:27 +0900;Delete description for cookie capacity

==

demos/twitter/twitterdemo.py
==================
213d7214;bdarnell;2014-04-08 21:13:22 -0400;Merge pull request #1030 from matthew-brett/fix-osx-no-compiler
Add SystemError to errors from compilation
==
==================
99c326dd;bdarnell;2014-04-08 21:12:12 -0400;Merge pull request #1029 from daftshady/master
fixed broken reference link
==
==================
5347ae21;Matthew Brett;2014-04-08 11:23:21 -0700;Add SystemError to errors from compilation
OSX generates a SystemError from a missing compiler; trap with other
compilation errors.

==

setup.py
==================
f9a44f0c;daftshady;2014-04-09 02:50:36 +0900;fixed broken reference link

==

tornado/platform/common.py
==================
3c66b6a5;bdarnell;2014-04-08 08:04:37 -0400;Fix typo
Closes #1028
==

tornado/httpclient.py
==================
587ed89a;Ben Darnell;2014-04-06 14:17:59 +0100;Add timeouts for idle keepalive connections in HTTPServer.
Add gen.with_timeout wrapper.

==

tornado/concurrent.py
tornado/gen.py
tornado/http1connection.py
tornado/httpserver.py
tornado/test/gen_test.py
tornado/test/httpserver_test.py
==================
5b624ab7;Ben Darnell;2014-04-06 13:10:16 +0100;Add a configurable header size limit to HTTPServer and simple_httpclient.

==

tornado/http1connection.py
tornado/httpserver.py
tornado/simple_httpclient.py
tornado/test/httpserver_test.py
tornado/test/simple_httpclient_test.py
tornado/websocket.py
==================
8999596d;Ben Darnell;2014-04-06 12:43:33 +0100;Add max_bytes parameter to read_until and read_until_regex.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
b489ef6d;Ben Darnell;2014-04-06 11:53:50 +0100;Guard against framing errors when applications manually specify a Content-Type that doesn't match the data they send.
Split HTTPMessageException into HTTPInputException and HTTPOutputException.

==

tornado/http1connection.py
tornado/httputil.py
tornado/test/simple_httpclient_test.py
tornado/test/web_test.py
tornado/wsgi.py
==================
c20ab354;bdarnell;2014-03-31 10:54:15 -0400;Merge pull request #1023 from zakkie/feature/fix-testcase
put assertion outside of the exception handler
==
==================
32c7a328;Akihiro Yamazaki;2014-03-30 23:15:46 +0900;correct testcases

==

tornado/test/concurrent_test.py
tornado/test/ioloop_test.py
tornado/test/template_test.py
tornado/test/testing_test.py
tornado/test/util_test.py
==================
f95b4d7a;Ben Darnell;2014-03-29 17:23:32 +0000;Implement flow control for streaming RequestHandlers.

==

tornado/http1connection.py
tornado/httpserver.py
tornado/test/web_test.py
tornado/web.py
==================
800d1dce;Ben Darnell;2014-03-29 16:22:55 +0000;Add a chunk_size limitation to HTTP1Connection.
HTTPMessageDelegate will no longer receive more than chunk_size bytes
in a single call.

==

tornado/http1connection.py
tornado/httpserver.py
tornado/test/httpserver_test.py
tornado/util.py
==================
c39e69f4;Ben Darnell;2014-03-29 15:45:52 +0000;Add a 'partial' flag to IOStream.read_bytes.
This is a more coroutine-friendly alternative to streaming_callback.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
681e51b3;Ben Darnell;2014-03-29 15:01:14 +0000;Add body_producer argument to httpclient.HTTPRequest.
This allows for sending non-contiguous or asynchronously-produced
request bodies, including chunked encoding when the content-length
is not known in advance.

==

tornado/http1connection.py
tornado/httpclient.py
tornado/httpserver.py
tornado/simple_httpclient.py
tornado/test/httpserver_test.py
tornado/test/simple_httpclient_test.py
==================
e63b4cb9;Ben Darnell;2014-03-29 14:03:15 +0000;Add option to disable the Resolver tests with an environment variable.
The resolver tests depend on external network resources; the twisted
resolver will time out when the network is unvailable instead of
returning an immediate failure like the other implementations.

==

tornado/test/netutil_test.py
tornado/test/util.py
==================
e914a514;Akihiro Yamazaki;2014-03-28 00:27:39 +0900;use "with self.assertRaises" pattern

==

tornado/test/concurrent_test.py
tornado/test/httpclient_test.py
tornado/test/ioloop_test.py
tornado/test/template_test.py
tornado/test/testing_test.py
tornado/test/util_test.py
==================
ccbe5a27;Akihiro Yamazaki;2014-03-27 09:37:29 +0900;put assertion outside of the exception handler

==

tornado/test/concurrent_test.py
tornado/test/httpclient_test.py
tornado/test/ioloop_test.py
tornado/test/template_test.py
tornado/test/testing_test.py
tornado/test/util_test.py
==================
7508e216;bdarnell;2014-03-25 21:56:01 -0400;Merge pull request #1022 from shinriyo/master
tab to space
==
==================
142b5fb9;shinriyo;2014-03-26 10:04:07 +0900;tab to space
tab to space and indent fix
==

demos/websocket/static/chat.js
==================
42df0361;Ben Darnell;2014-03-23 22:22:39 -0400;When a streaming-body request finishes early, stop reading the request data.
delegate.data_received should no longer be called after conn.finish().

==

tornado/http1connection.py
tornado/test/web_test.py
==================
02579a35;Ben Darnell;2014-03-23 21:31:33 -0400;Introduce streaming request body support for RequestHandler.

==

tornado/test/web_test.py
tornado/web.py
==================
b5b21327;bdarnell;2014-03-23 21:28:29 -0400;Merge pull request #1020 from dhcmrlchtdj/fix-template-doc
Fix a mistake in template document.
==
==================
adea4f51;Andrey Sumin;2014-03-23 18:19:17 +0400;suggest to use libcurl with async dns resolver in httpclient docs

==

tornado/httpclient.py
==================
958c3f32;huangxiaokai;2014-03-23 18:25:25 +0800;Fix a mistake in template document.

==

tornado/template.py
==================
37cf8b9e;Ben Darnell;2014-03-22 13:48:59 -0400;Introduce a fast path for coroutines that run to completion without yielding.
This mitigates the performance impact of allowing coroutines in
RequestHandler._execute when that capability is not actually used.

==

tornado/gen.py
tornado/web.py
==================
4b8a9943;bdarnell;2014-03-22 13:20:06 -0400;Merge pull request #1019 from minrk/clear_instance
add IOLoop.clear_instance
==
==================
dd450263;MinRK;2014-03-21 10:59:25 -0700;add IOLoop.clear_instance
like clear_current, but for the global IOLoop instance
==

tornado/ioloop.py
==================
d41caf16;Ben Darnell;2014-03-17 00:25:10 -0400;Simplify RequestHandler._execute by making it a coroutine.

==

tornado/gen.py
tornado/web.py
==================
c8ce4517;Ben Darnell;2014-03-16 22:17:38 -0400;Stop overriding _execute in WebSocketHandler; use get() instead.
Revise HTTP1Connection detach protocol.

As a side effect, this now decodes the arguments to open() in the same
way as the arguments to get().

==

maint/test/websocket/client.py
tornado/http1connection.py
tornado/websocket.py
==================
adc7e4f1;Ben Darnell;2014-03-16 18:43:49 -0400;Add chunk and callback arguments to write_headers.
This restores an optimization that allows small responses to be written out
in the same system call as the headers.

==

tornado/http1connection.py
tornado/web.py
tornado/wsgi.py
==================
10e1108a;Ben Darnell;2014-03-16 12:57:54 -0400;Make Application an HTTPServerConnectionDelegate.
HTTPServer now forwards delegate events to its request callback
if it implements this interface.  This allows the application to be
in the loop as the request is being read.

==

tornado/http1connection.py
tornado/httpserver.py
tornado/httputil.py
tornado/web.py
==================
e9c83cbb;Ben Darnell;2014-03-16 00:21:51 -0400;HTTPServer: Support requests that are received in multiple chunks.

==

tornado/httpserver.py
tornado/test/httpserver_test.py
==================
4f734ddc;Ben Darnell;2014-03-15 23:42:16 -0400;Allow gzip to be used with WSGIApplication.
Now that transfer encodings have been moved to http1connection,
the content-level output transforms can be used with wsgi.

==

tornado/test/web_test.py
tornado/wsgi.py
==================
ca7f4d07;Ben Darnell;2014-03-15 23:39:59 -0400;Move chunked-response generation into http1connection.

==

tornado/http1connection.py
tornado/web.py
==================
39f18880;Ben Darnell;2014-03-15 23:00:13 -0400;Pass start_line to headers_received as a tuple instead of a string.

==

tornado/http1connection.py
tornado/httpserver.py
tornado/httputil.py
tornado/simple_httpclient.py
tornado/websocket.py
==================
6c7eac6c;Ben Darnell;2014-03-15 22:30:23 -0400;Unify WSGI support with the HTTPConnection abstraction.
Deprecate WSGIApplication in favor of a WSGIAdapter that can wrap
an ordinary Application.

Remove the wsgi module's separate HTTPRequest variant and tornado.web's
wsgi special cases.

==

demos/appengine/blog.py
docs/wsgi.rst
tornado/httpserver.py
tornado/httputil.py
tornado/test/wsgi_test.py
tornado/web.py
tornado/wsgi.py
==================
361b6126;Ben Darnell;2014-03-15 20:11:02 -0400;Move outgoing HTTP header generation to HTTP1Connection.

==

tornado/http1connection.py
tornado/httputil.py
tornado/simple_httpclient.py
tornado/web.py
==================
4ff47bb4;Ben Darnell;2014-03-15 00:50:25 -0400;Update links for comments about json list output.
The vulnerability in the older link affects only ancient browsers,
but there are other issues that are more recent.

Fixes #1009.

==

tornado/web.py
==================
99474fe8;Ben Darnell;2014-03-15 00:45:09 -0400;Refactor unittest/unittest2 imports to fix issues with unittest2 on py3.
Never use unittest2 on python 3 (it appears to not interoperate with
the standard unittest module).  On python 2, use the same logic in
tornado.testing and tornado.test.util to select an implementation.

Fixes #1005.

==

tornado/test/util.py
tornado/testing.py
tox.ini
==================
d2226ff8;Ben Darnell;2014-03-13 10:15:41 -0400;Improve simple_httpclient ssl configuration to pass howsmyssl.com.
Remove insecure cipher suites and disable TLS compression.  The option
to disable compression was only added in Python 3.3 so we do not
pass the test on older versions, but we come as close as possible with
the APIs available.

Closes #1014.

==

tornado/netutil.py
tornado/simple_httpclient.py
==================
2aef15df;Ben Darnell;2014-03-13 10:04:36 -0400;Fix command-line tornado.httpclient on python 3.

==

tornado/httpclient.py
==================
180e8186;bdarnell;2014-03-11 00:09:28 -0400;Merge pull request #1012 from dlutxx/br310
remove a redundant assignment in read_until_close.
==
==================
f1f66d1b;bdarnell;2014-03-10 22:32:17 -0400;Merge pull request #1008 from yaccz/fix/1007
twisted can be installed without twisted.names fixes #1007
==
==================
1759dc69;xuxiang;2014-03-10 18:22:39 +0800;remove useless code of BaseIOStream

==

tornado/iostream.py
==================
a749b999;yac;2014-03-08 01:20:09 +0100;twisted can be installed without twisted.names fixes #1007

==

tornado/test/netutil_test.py
==================
753de8d0;INADA Naoki;2014-03-04 15:54:42 +0900;Remove `write_buffer_size` read-only property.

==

tornado/iostream.py
==================
b1f5cc59;bdarnell;2014-03-03 10:59:18 -0500;Merge pull request #996 from cardoe/exception-fix
use errno attr instead of index into args for errno
==
==================
76cba7eb;INADA Naoki;2014-03-03 14:06:37 +0900;Add max_write_buffer_size to iostream.

==

tornado/iostream.py
==================
9cb44229;INADA Naoki;2014-03-03 13:58:09 +0900;Add iostream.write_buffer_size property.

==

tornado/iostream.py
==================
122be5ed;Ben Darnell;2014-03-02 23:10:48 -0500;Add a test for HTTPServer's recently-acquired support for chunked requests.

==

tornado/test/httpserver_test.py
==================
16b9bc34;Ben Darnell;2014-03-02 22:42:11 -0500;Add support for gzipped request bodies to HTTPServer.

==

tornado/http1connection.py
tornado/httpserver.py
tornado/httputil.py
tornado/test/httpserver_test.py
tornado/test/web_test.py
tornado/wsgi.py
==================
a47e500d;Ben Darnell;2014-03-02 21:26:15 -0500;Move gzip decompression from simple_httpclient to http1connection.

==

tornado/http1connection.py
tornado/simple_httpclient.py
==================
90dcf5a3;Ben Darnell;2014-03-02 21:15:22 -0500;Some cleanup and renamings.
Replaced some server-specific names and cut down on overuse of "process"
as a generic verb.

==

tornado/http1connection.py
tornado/httpserver.py
tornado/httputil.py
tornado/simple_httpclient.py
tornado/test/httpserver_test.py
==================
a3d6fc6d;Ben Darnell;2014-03-02 15:42:19 -0500;Use HTTP1Connection in SimpleAsyncHTTPClient.
This incidentally adds support for chunked request bodies on the server side.

==

tornado/http1connection.py
tornado/httpserver.py
tornado/httputil.py
tornado/simple_httpclient.py
tornado/test/httpserver_test.py
tornado/test/simple_httpclient_test.py
tornado/websocket.py
==================
d4627e09;Ben Darnell;2014-03-02 11:06:06 -0500;Exclude another timing-sensitive test from the travis build.

==

tornado/test/httpclient_test.py
==================
e52db2f1;bdarnell;2014-03-02 11:03:29 -0500;Merge pull request #999 from mengzhuo/master
update Template Loader with 'with' statement
==
==================
41a8f1a3;Meng Zhuo;2014-03-02 22:20:49 +0800;update Template Loader with 'with' statment

==

tornado/template.py
==================
f81a25e1;Doug Goldstein;2014-02-28 08:48:26 -0600;define and use errno_from_exception abstraction
If an OSError or IOError are instantiated without an errno value, e.g.
e = OSError(). The existing code would give an IndexError: tuple index
out of range. However there have been cases that the errno attribute
wasn't populated so instead of switching to it this introduces a helper
function to ensure we get the errno value through whatever means
possible.

==

tornado/ioloop.py
tornado/iostream.py
tornado/netutil.py
tornado/process.py
tornado/tcpserver.py
tornado/util.py
==================
e564ddbe;Ben Darnell;2014-02-24 00:53:53 -0500;Move HTTPServerRequest-specific logic from http1connection to httpserver.

==

tornado/http1connection.py
tornado/httpserver.py
tornado/httputil.py
==================
5c283f9c;Ben Darnell;2014-02-23 16:39:29 -0500;Refactor HTTP1Connection to use coroutines.

==

tornado/http1connection.py
==================
5d7e37c0;Ben Darnell;2014-02-23 15:57:18 -0500;Fix doc references to HTTPRequest.

==

docs/httpserver.rst
docs/overview.rst
docs/releases/v2.1.0.rst
docs/releases/v2.3.0.rst
docs/releases/v3.0.0.rst
docs/releases/v3.1.0.rst
docs/releases/v3.2.0.rst
docs/web.rst
tornado/httpserver.py
tornado/httputil.py
tornado/web.py
tornado/wsgi.py
==================
e22cd67d;Ben Darnell;2014-02-23 15:30:47 -0500;Fix close_callback handling when the Future read interface is used.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
a7cda608;Ben Darnell;2014-02-23 12:28:02 -0500;Move some logic from HTTPRequest to HTTP1Connection.
This removes some imports from httputil that are not allowed on app engine.

==

tornado/http1connection.py
tornado/httputil.py
==================
656f78e1;Ben Darnell;2014-02-23 11:59:56 -0500;HTTP refactoring part 1: move shareable parts out of httpserver.py.
tornado.httpserver.HTTPRequest -> tornado.httputil.HTTPServerRequest
tornado.httpsrever.HTTPConnection -> tornado.http1connection.HTTP1Connection

==

tornado/http1connection.py
tornado/httpserver.py
tornado/httputil.py
==================
824226d7;Ben Darnell;2014-02-23 12:49:11 -0500;Fix bit-rotted app engine tests.
sys.argv is no longer empty in dev_appserver.

==

maint/test/appengine/common/cgi_runtests.py
==================
f55f9d07;Ben Darnell;2014-02-22 23:25:51 -0500;Add a warning label to WSGIContainer.

==

tornado/wsgi.py
==================
559514de;Ben Darnell;2014-02-21 20:42:10 -0500;Disable port-allocation test on mac to avoid annoying firewall prompts.

==

tornado/test/netutil_test.py
==================
2ad4a908;bdarnell;2014-02-21 20:27:30 -0500;Merge pull request #977 from schlamar/fix-port-allocation
Fixed automatic port allocation in bind_sockets.
==
==================
151eef74;schlamar;2014-01-23 12:23:53 +0100;Fixed automatic port allocation in bind_sockets.
bind_sockets should use the same port on IPv4 and IPv6 if port=None.

==

tornado/netutil.py
tornado/test/netutil_test.py
==================
b9c6c33e;Ben Darnell;2014-02-18 23:52:58 -0500;Catch up on next-release notes.

==

docs/releases/next.rst
==================
2dc57c57;Ben Darnell;2014-02-18 23:15:19 -0500;Document the fact that tornado.options configures logging by default.
Add tests and comments for how to disable this configuration.
Make it slightly easier to disable by making the command line
flag case-insensitive and allowing `None` instead of the string "none"
when setting the flag in code.

Closes #952.

==

tornado/log.py
tornado/options.py
tornado/test/log_test.py
==================
1eb003f2;Ben Darnell;2014-02-18 00:08:09 -0500;Add python 3.4 tests to tox

==

tox.ini
==================
58d5ffc2;Ben Darnell;2014-02-17 18:46:40 -0500;Add support for the websocket close status code and reason fields.
Closes #890.

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
175da105;Ben Darnell;2014-02-16 23:59:17 -0500;Compress all text/* content types, not just a whitelist.
Closes #982.

==

tornado/web.py
==================
f2cae31d;Ben Darnell;2014-02-16 23:41:15 -0500;Add a py26-trollius test case and fix a bug with timedelta on 2.6.

==

tornado/platform/asyncio.py
tox.ini
==================
47c7f63f;Ben Darnell;2014-02-16 23:06:18 -0500;Add a fast path to stack_context when there are no active contexts.
This case is increasingly common now that coroutines are decoupled
from stack contexts.

==

tornado/stack_context.py
==================
5c32f9d1;Ben Darnell;2014-02-16 22:05:55 -0500;Remove _iostream_return_future from write and connect as well.

==

tornado/iostream.py
==================
16533508;Ben Darnell;2014-02-16 21:39:19 -0500;Bring Future support for IOStream read operations into IOStream itself.
This speeds things up in comparison to the _iostream_return_future
decorator by removing unnecessary abstraction and especially by allowing
Futures to bypass some of the hoops IOStream jumps through to ensure a
clean slate for its callbacks.

==

tornado/iostream.py
==================
7aa1de9f;Ben Darnell;2014-02-16 20:34:02 -0500;Microoptimizations for coroutines * Lazily initialize data structures for YieldPoints * Get rid of Runner.exc_info

==

tornado/gen.py
==================
8e07f3d8;Ben Darnell;2014-02-16 20:29:37 -0500;Fold TracebackFuture into Future.
Since it is no longer possible for TracebackFuture to modify
concurrent.futures.Future instead, there is no need for separate
classes.  Removing the subclass speeds things up a bit by removing
a level of indirection.

Also microoptimized a few methods of Future.

==

tornado/concurrent.py
==================
184d796b;Ben Darnell;2014-01-26 13:55:57 -0500;gen: Defer creation of stack context until a YieldPoint is reached.
The runner alone can catch all necessary exceptions as long as Futures
are used; stack contexts are only needed for YieldPoints (especially
Callback/Wait; Task could be changed to use a local-only stack
context).

This is slightly backwards incompatible for code that assumes the existence
of a stack context without yielding anything.

==

tornado/gen.py
tornado/test/gen_test.py
==================
71158fe8;Ben Darnell;2014-01-26 19:11:51 -0500;Detect stack context inconsistency in gen.Runner.
The existing checks in StackContext.__exit__ are run after the damage has
been done and may raise exceptions in the wrong place; gen.Runner
is a more reliable place to detect this problem.

Throwing the exception into the generator provides a better stack trace
for the problem and also simplifies some of the complexity of testing for
this feature.

==

tornado/gen.py
tornado/test/stack_context_test.py
==================
0ea4de34;Ben Darnell;2014-01-26 15:25:10 -0500;gen.Runner now communicates back to the decorator via a Future instead of a callback.
This allows for failures to be reported without relying on stack_context.

==

tornado/gen.py
==================
b2ee3321;Ben Darnell;2014-01-26 15:16:36 -0500;Consolidate implementations of gen.engine and gen.coroutine.
The shared implementation is nearly identical to the old gen.coroutine,
with a small tweak for the callback argument.

==

tornado/gen.py
==================
9cf95ff7;Ben Darnell;2014-01-20 17:57:57 -0500;Pivot tornado.gen to use Futures natively.
This improves performance of applications using @coroutine and Futures,
at the expense of some performance degradation for the older YieldPoint
interfaces.

==

tornado/gen.py
==================
dce2ffe1;Ben Darnell;2014-01-25 22:18:08 -0500;tornado.concurrent.Future is now always thread-unsafe.
This improves performance and provides more consistent semantics
(independent of the presence or absence of the concurrent.futures
package).

The parts of Tornado that accept Futures will accept both Tornado's
thread-unsafe Futures and the thread-safe concurrent.futures.Future.

==

tornado/concurrent.py
tornado/gen.py
tornado/ioloop.py
tornado/test/concurrent_test.py
==================
b1482368;Ben Darnell;2014-01-20 17:23:20 -0500;Add a benchmark for coroutine processing.

==

demos/benchmark/gen_benchmark.py
==================
d0ee6db9;Ben Darnell;2014-01-25 18:15:55 -0500;Improve the stack traces given for timeouts with @gen_test.

==

tornado/test/testing_test.py
tornado/testing.py
==================
869fb744;Ben Darnell;2014-01-25 17:16:17 -0500;Raise an error if IOLoop.start() is called while it is already running.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
80694289;Ben Darnell;2014-01-25 13:43:27 -0500;Add support in AsyncTestCase for detecting undecorated generators.
Fix a test that was not being run because of this issue.

==

tornado/test/testing_test.py
tornado/test/websocket_test.py
tornado/testing.py
==================
b1ff5391;bdarnell;2014-01-24 17:59:44 -0800;Merge pull request #979 from mike4999/simple_fix
 Fix for RequestHandler.write   to check for NoneType in argument
==
==================
e442a6dc;Michael Atambo;2014-01-24 14:04:00 +0300;This is a fix to check  the argument to RequestHandler.write() is one of the accepted types: dict, bytes or unicode and raise a TypeError otherwise

==

tornado/web.py
==================
66a647d2;Ben Darnell;2014-01-19 22:59:37 -0500;Return a Future from IOStream methods.
This makes it easier to use IOStreams directly from coroutines.

Closes #953.

==

tornado/iostream.py
tornado/test/iostream_test.py
tornado/test/util_test.py
tornado/util.py
==================
c51970d7;bdarnell;2014-01-20 08:58:09 -0800;Merge pull request #976 from daftshady/master
removed unnecessary else statements
==
==================
43f2f4c4;Ben Darnell;2014-01-20 11:57:16 -0500;Pin sphinx version to 1.2 in tests.
Sphinx 1.2.1 has a bug that breaks our build:
https://bitbucket.org/birkenfeld/sphinx/pull-request/212/fix-an-exception-introduced-by/diff

==

.travis.yml
tox.ini
==================
d29ab8a5;daftshady;2014-01-20 22:33:38 +0900;removed unnecessary else statements

==

tornado/iostream.py
==================
4057cc78;Ben Darnell;2014-01-19 19:01:07 -0500;Remove some unused imports (found by pyflakes)

==

tornado/platform/asyncio.py
tornado/test/httpclient_test.py
tornado/test/ioloop_test.py
==================
ef72aac8;Ben Darnell;2014-01-19 18:58:06 -0500;Add tornado.test.__main__ so the tests can be run with "-m tornado.test".
(This doesn't work on python 2.6)

==

tornado/test/__main__.py
tornado/test/runtests.py
==================
665bd981;Ben Darnell;2014-01-19 18:55:53 -0500;Remove some vestigial references to 2to3.

==

maint/test/websocket/tox.ini
runtests.sh
tox.ini
==================
6a859357;Ben Darnell;2014-01-18 17:55:09 -0500;Fix a typo that snuck into the autoreload docs.

==

tornado/autoreload.py
==================
35ae2c53;Ben Darnell;2014-01-18 16:42:06 -0500;Make tornado.netutil.add_accept_handler pass a fileobj to the IOLoop.
Officially allow mixing of fds and file objects so that callers of
add_accept_handler don't need to know about this change.

As a side effect, fixes a problem with autoreload on windows.

Closes #737.

==

tornado/netutil.py
tornado/platform/asyncio.py
tornado/test/ioloop_test.py
==================
0416a689;Ben Darnell;2014-01-18 16:04:49 -0500;Pass the correct file object to IOLoop handler functions.

==

tornado/ioloop.py
tornado/platform/twisted.py
tornado/test/ioloop_test.py
==================
df6db559;Ben Darnell;2014-01-18 15:41:03 -0500;Document file descriptor change and start new release notes.

==

docs/ioloop.rst
docs/releases.rst
docs/releases/next.rst
tornado/ioloop.py
==================
7552caed;Ben Darnell;2014-01-18 13:09:18 -0500;Allow and encourage the use of file objects instead of integer fds in IOLoop.
This fixes a problem in tests in which a closing IOLoop would os.close()
all of its file descriptors while socket objects for those fds still
existed.  When those socket objects were garbage collected, they would
close the fd a second time (by which time it may have been reassigned
to a new socket).

Due to subtleties of garbage collection this has only been observed
with the asyncio event loop in tests of curl_httpclient.

==

tornado/ioloop.py
tornado/iostream.py
tornado/platform/asyncio.py
tornado/platform/kqueue.py
tornado/platform/select.py
tornado/platform/twisted.py
tornado/test/ioloop_test.py
tox.ini
==================
f52976ae;Ben Darnell;2014-01-17 20:57:57 -0500;Add pycares to the -full tox configs and remove custom resolver tests.
The resolvers are tested in netutil_test when their dependencies are
available, and re-running the entire test suite with a different resolver
is unlikely to expose any new problems.  (the resolver tests are still
present in travis.yml for now, though)

==

tox.ini
==================
fda31703;Ben Darnell;2014-01-16 23:33:00 -0500;Require the extension to be built in tox -full runs.

==

tox.ini
==================
de480f94;Ben Darnell;2014-01-16 23:12:59 -0500;Merge branch 'branch3.2'

==
==================
1cb446e0;Ben Darnell;2014-01-16 23:12:42 -0500;Don't require the extension to be present when building docs.

==

.travis.yml
==================
1cc39293;Ben Darnell;2014-01-16 23:00:26 -0500;Reinstate the 'cd maint' in .travis.yml.
This turned out to be breaking the speedups module.

==

.travis.yml
==================
18676fa9;Ben Darnell;2014-01-16 22:49:31 -0500;Add better debugging for ImportErrors resulting from TORNADO_EXTENSION=1

==

tornado/test/websocket_test.py
==================
70659cbc;Ben Darnell;2014-01-16 22:32:32 -0500;Add a new TORNADO_EXTENSION environment variable for testing purposes.
This variable can be set to 0 to suppress or 1 to require the use of the
extension (instead of the default to use it when it is available but silently
fall back).  Require the extension to be present on travis-ci.

==

.travis.yml
setup.py
tornado/websocket.py
==================
21d6cde1;bdarnell;2014-01-15 18:10:51 -0800;Merge pull request #973 from cgohlke/patch-1
Fix msvc compile error and improve 64 bit compatibility
==
==================
57a02223;cgohlke;2014-01-14 21:47:35 -0800;Fix msvc compile error and improve 64 bit compatibility

==

tornado/speedups.c
==================
5a9194f7;Ben Darnell;2014-01-14 23:16:26 -0500;Refactor the unwieldy tox.ini file.
Fill in some gaps in the coverage (mostly on the python 3 side, and
using more consistent dependencies throughout) and move the 3.x tests
that don't care about a specific 3.x version to 3.3.

This is still less thorough than the travis.yml, which runs everything for
every python version.

==

tox.ini
==================
ff2b777e;Ben Darnell;2014-01-14 21:42:24 -0500;Bump version number to 3.3.dev1

==

setup.py
tornado/__init__.py
==================
0e1a8305;Ben Darnell;2014-01-14 08:51:32 -0500;Update README.rst to match docs/index.rst.

==

README.rst
==================
76a6987a;Ben Darnell;2014-01-14 08:41:27 -0500;Set version number to 3.2.

==

setup.py
tornado/__init__.py
==================
defcb473;Ben Darnell;2014-01-14 08:40:48 -0500;Finalize 3.2 release notes

==

docs/releases.rst
docs/releases/v3.2.0.rst
==================
cfe10ee2;Ben Darnell;2014-01-10 23:31:29 -0500;Fix shell quoting in travis config.

==

.travis.yml
==================
a02729d3;Ben Darnell;2014-01-10 23:27:33 -0500;Pin pycurl on travis to <7.19.3, removing it from py3.x.
SSL issues prevent pycurl 7.19.3 from being installed on travis.

==

.travis.yml
==================
db93108d;Ben Darnell;2014-01-10 23:19:25 -0500;Now that pycurl 7.19.3 with py3 support is out, add it to tox/travis.

==

.travis.yml
tox.ini
==================
24ccf2fe;Ben Darnell;2014-01-09 20:15:41 -0500;Add a link to the Stack Overflow 'tornado' tag from the docs.

==

docs/index.rst
==================
c2043a33;Ben Darnell;2014-01-09 20:12:34 -0500;Replace redundant dict.get() with [].

==

tornado/log.py
==================
b2039a3d;Ben Darnell;2014-01-07 22:01:38 -0500;Set version number to 3.2b2

==

setup.py
tornado/__init__.py
==================
bc0103ac;Ben Darnell;2014-01-07 22:00:53 -0500;Update release notes for 3.2.0b2

==

docs/releases/next.rst
==================
2b9f7925;Ben Darnell;2014-01-07 01:14:37 -0500;Add trollius (py2 backport of asyncio) to tox config.
This passes the twisted integration tests but currently has some issues
with pycurl.

==

tornado/platform/asyncio.py
tornado/test/twisted_test.py
tox.ini
==================
f9c8664e;Ben Darnell;2014-01-06 22:39:29 -0500;Rename "normal" to "end_color" in log format strings.
When not colorizing, use empty strings instead of two copies of "normal".

Update docs.

==

docs/releases/next.rst
tornado/log.py
==================
d2a56867;Andrea Ratto;2013-12-25 02:02:31 +0100;Improved extensibility of LogFormatter
* refactored code separating coloring logic
* allow full line customization of the format
* possibly faster operation

==

tornado/log.py
tornado/test/log_test.py
==================
1a2460ca;Ben Darnell;2014-01-06 18:51:07 -0500;Move _setup_logging to BaseIOLoop and use it in asyncio and twisted implementations.

==

tornado/ioloop.py
tornado/platform/asyncio.py
tornado/platform/twisted.py
==================
daab25b9;Ben Darnell;2014-01-06 18:49:33 -0500;Remove inaccurate IOLoop logging test cases.

==

tornado/test/ioloop_test.py
==================
902e6a2c;Ben Darnell;2014-01-06 18:19:57 -0500;Merge commit 'c2a25a'
* commit 'c2a25a':
  Correct example variable, use consistant quoting

Closes #972

==
==================
7bb05359;bdarnell;2014-01-06 15:08:18 -0800;Merge pull request #971 from gmr/logging-patch
Don't call logging.basicConfig if logging is already configured (#775). Replaces #887
==
==================
c2a25ac3;Gavin M. Roy;2014-01-06 16:55:35 -0500;Correct example variable, use consistant quoting

==

tornado/auth.py
==================
6e287d8c;Gavin M. Roy;2014-01-06 16:47:54 -0500;Don't call logging.basicConfig if logging is already configured (#775). Will not call logging.basicConfig if there is a root logger, tornado logger or tornado.application logger.
Updated patch to reflect comments about tests and method privacy.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
48a5969c;Ben Darnell;2014-01-04 11:33:50 -0500;Add a warning to the StaticFileHandler docs against overriding .get().

==

tornado/web.py
==================
c9af9a72;Ben Darnell;2014-01-02 20:51:59 -0500;Remove redundant uses of @asynchronous with @gen.coroutine.

==

demos/auth/authdemo.py
demos/chat/chatdemo.py
tornado/auth.py
tornado/gen.py
tornado/test/gen_test.py
==================
be70cb08;Ben Darnell;2013-12-31 17:50:12 -0500;Doc updates.
* Version-added tags
* Add some missing methods
* Ignore asyncio module for coverage reports
* Work around a sphinx 1.2 regression

==

docs/asyncio.rst
docs/conf.py
docs/web.rst
tornado/auth.py
tornado/escape.py
tornado/log.py
tornado/web.py
==================
de6fa77d;Ben Darnell;2013-12-31 13:47:28 -0500;Update future imports for recently added files.
(This is most meaningful for tornado.platform.asyncio, which needs
absolute imports for the python 2 backport of asyncio).

==

tornado/platform/asyncio.py
tornado/platform/caresresolver.py
tornado/test/resolve_test_helper.py
tornado/test/websocket_test.py
==================
d7d24217;Ben Darnell;2013-12-31 12:28:44 -0500;Add usage comement to run_fixers.py.

==

maint/scripts/run_fixers.py
==================
9577776e;bdarnell;2013-12-30 14:18:58 -0800;Merge pull request #969 from ronnix/patch-1
Fix asyncio code example
==
==================
f414b491;Ronan Amicel;2013-12-30 22:35:33 +0100;Fix asyncio code example

==

docs/asyncio.rst
==================
541331a0;Ben Darnell;2013-12-30 14:18:28 -0500;Set version number to 3.2b1.

==

setup.py
tornado/__init__.py
==================
bf2cf0e2;Ben Darnell;2013-12-30 14:17:57 -0500;Add python 3.4 tag to setup.py

==

setup.py
==================
326d283c;Ben Darnell;2013-12-30 13:24:53 -0500;Reorganize and expand next-release notes.

==

docs/releases/next.rst
==================
ada9c0a4;Ben Darnell;2013-12-30 12:19:50 -0500;Fix doc build on travis after removal of 'cd maint'

==

.travis.yml
==================
bdee92ac;Ben Darnell;2013-12-30 12:10:55 -0500;Remove 'cd maint' from travis script.
This was needed for 2to3, which we no longer use.  The changed
directory meant that coveralls wasn't seeing our .coveragerc.

==

.travis.yml
==================
275da3c2;Ben Darnell;2013-12-30 11:58:31 -0500;Correctly skip coverage collection on 2.6.

==

.travis.yml
==================
ea6cb29b;Ben Darnell;2013-12-30 11:52:49 -0500;Disable coverage collection on python 2.6.

==

.travis.yml
==================
9360bbfc;Ben Darnell;2013-12-30 11:37:58 -0500;Add coveralls to travis config.

==

.travis.yml
==================
0f6caf59;Ben Darnell;2013-12-30 11:32:38 -0500;Disable --pre flag in tox installs to fix environment recreation.
Remove an old hack for monotime package.

==

tox.ini
==================
b2b83348;Ben Darnell;2013-12-29 23:56:37 -0500;autopep8 whitespace fixes.

==

tornado/auth.py
tornado/gen.py
tornado/iostream.py
tornado/platform/asyncio.py
tornado/simple_httpclient.py
tornado/test/httpserver_test.py
tornado/test/web_test.py
tornado/test/websocket_test.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
647dce98;Ben Darnell;2013-12-29 23:43:23 -0500;Update run_autopep8.sh flags.

==

maint/scripts/run_autopep8.sh
==================
93714293;Ben Darnell;2013-12-29 23:33:47 -0500;Upgrade maint/requirements.txt versions.

==

maint/requirements.txt
==================
a48831ca;Ben Darnell;2013-12-29 20:41:17 -0500;Disallow ipv6 in curl-based tests.
The test servers only listen on ipv4, and it appears that libcurl 7.19.34
has regressed in its ability to handle the case when localhost resolves
to both v4 and v6 variants but only one works.

IPv6 was already disabled by default in simple_httpclient tests.

==

tornado/test/curl_httpclient_test.py
tornado/test/httpclient_test.py
tornado/test/runtests.py
==================
4dfb5195;Ben Darnell;2013-12-29 19:45:34 -0500;Use a more reliable method to generate resolver errors.
On some platforms even getaddrinfo is fooled by the fake NXDOMAIN results.

==

tornado/test/netutil_test.py
==================
f5ac2102;Ben Darnell;2013-12-29 14:57:29 -0500;Fixes for soon-to-be-released py3-compatible version of pycurl.

==

tornado/curl_httpclient.py
tornado/test/curl_httpclient_test.py
==================
f55e0703;Ben Darnell;2013-12-28 20:11:58 -0500;Mark another timing-sensitive test as skipOnTravis.

==

tornado/test/websocket_test.py
==================
9d57a0cd;Ben Darnell;2013-12-28 20:11:20 -0500;Disable the "bad_host" tests on CaresResolver
This is an unfortunate hack, but c-ares doesn't handle fake NXDOMAIN
responses in the same way as other resolvers.

==

tornado/test/netutil_test.py
==================
de39a398;bdarnell;2013-12-28 16:44:20 -0800;Merge pull request #965 from ajdavis/twisted-resolver-err
Error handling in TwistedResolver
==
==================
f5d3b5db;Ben Darnell;2013-12-28 19:38:16 -0500;Add some markup to the old template intro docs.
Closes #967.

==

tornado/template.py
==================
465e15f3;A. Jesse Jiryu Davis;2013-12-24 15:02:07 -0600;Error handling in TwistedResolver

==

tornado/platform/twisted.py
tornado/test/netutil_test.py
==================
893c30d2;Ben Darnell;2013-12-23 17:33:46 -0500;Improve log message for invalid unicode.
Truncate long values, and include the argument name if available.

==

tornado/web.py
==================
511df843;bdarnell;2013-12-23 14:25:46 -0800;Merge pull request #963 from minrk/invalid-unicode
bad unicode in URLs shouldn't cause 500
==
==================
dbc2c53d;MinRK;2013-12-23 14:23:36 -0800;expect log message in test_decode_argument_invalid_unicode

==

tornado/test/web_test.py
==================
34796817;Ben Darnell;2013-12-23 17:08:01 -0500;Remove new HTTPRequest.if_modified_since property.
This property was unusual in that its getter returned a value its
setter would not accept, and was redundant with direct access to the
headers.

Use the property setters in the constructor instead of duplicating logic.

==

tornado/httpclient.py
tornado/test/httpclient_test.py
==================
12d1ed56;MinRK;2013-12-22 16:34:06 -0800;rase 400, not 500 on invalid unicode in decode_argument

==

tornado/web.py
==================
d0e27f1a;bdarnell;2013-12-23 13:58:10 -0800;Merge pull request #945 from chrismcguire/request_body_property
Add properties corresponding to HTTPRequest constructor arguments
==
==================
58633428;Ben Darnell;2013-12-23 16:10:42 -0500;Minor cleanups for import deadlock test: * Avoid _test.py suffix for file that doesn't contain test cases. * Resolve localhost instead of tornadoweb.org to avoid network dependency. * Tighten timeout and add an alarm so failed tests don't leave orphaned   child processes. * Avoid busy loop while waiting for child to exit.

==

tornado/test/netutil_test.py
tornado/test/resolve_test_helper.py
==================
d3f22273;bdarnell;2013-12-23 13:01:48 -0800;Merge pull request #964 from ajdavis/resolver-deadlock
Prevent a deadlock if ThreadedResolver resolves a unicode hostname at module-import time.
==
==================
6049e2db;A. Jesse Jiryu Davis;2013-12-16 18:56:05 -0500;Prevent a deadlock if ThreadedResolver resolves a unicode hostname at module-import time.

==

tornado/netutil.py
tornado/test/netutil_test.py
tornado/test/resolve_test.py
==================
1c0f4257;MinRK;2013-12-21 22:29:40 -0800;test that invalid unicode doesn't raise 500

==

tornado/test/web_test.py
==================
f79bc418;Anton Shestakov;2013-12-22 13:07:10 +0800;Un-force relative in format_date

==

tornado/locale.py
==================
7963f1d6;Chris McGuire;2013-11-25 13:08:03 -0500;Set altered HTTPRequest attributes as parameters.

==

tornado/httpclient.py
tornado/test/httpclient_test.py
==================
1e8582f3;Brian Turek;2013-12-07 08:02:24 -0500;Fixed bad Sphinx target reference

==

tornado/websocket.py
==================
fec89881;Brian Turek;2013-12-07 07:49:08 -0500;Added support for on_message_callback for WebSocket clients

==

tornado/websocket.py
==================
03d41df7;bdarnell;2013-12-02 04:55:49 -0800;Merge pull request #949 from Lardjo/patch-1
Added closing parenthesis
==
==================
c04c5252;Konstantin;2013-12-02 11:04:01 +0300;Update gen.py
Docs. Missing closing parenthesis on example.
==

tornado/gen.py
==================
e952de3f;bdarnell;2013-12-01 13:14:42 -0800;Merge pull request #944 from anton-ryzhov/reset_flags
Reset state on `start()` end
==
==================
840d4334;bdarnell;2013-12-01 13:09:59 -0800;Merge pull request #940 from klaussfreire/master
Speed up gen.corouting when yielding done Futures
==
==================
08d75e19;Ben Darnell;2013-12-01 16:01:35 -0500;Make setuptools optional again in setup.py.

==

setup.py
==================
179ac959;Ben Darnell;2013-12-01 15:47:05 -0500;Update docs for LogFormatter constructor arguments.

==

tornado/log.py
==================
0ca65d1f;bdarnell;2013-12-01 12:43:46 -0800;Merge pull request #931 from SuminAndrew/LogFormatter-format
add custom fmt and datefmt to LogFormatter
==
==================
19bdb153;Ben Darnell;2013-12-01 15:07:16 -0500;Avoid a quote mark that renders incorrectly in PDF mode.
Closes #935.

==

docs/overview.rst
==================
cb653c5e;Ben Darnell;2013-12-01 15:04:02 -0500;Document the attributes required by @run_on_executor.
Closes #933.

==

tornado/concurrent.py
==================
237018db;bdarnell;2013-12-01 06:44:09 -0800;Merge pull request #936 from ticosax/add-timeout-on-future
Pass timeout argument to Future.result
==
==================
4ec4d8db;bdarnell;2013-11-30 10:21:44 -0800;Merge pull request #937 from lepture/fix-assert
Raise TypeError instead of AssertionError.
==
==================
7700df76;Anton Ryzhov;2013-11-25 19:06:08 +0400;Reset state on `start()` end

==

tornado/ioloop.py
==================
2f856f6f;Claudio Freire;2013-11-19 14:24:48 -0300;Speed up gen.corouting when yielding done Futures

==

tornado/gen.py
==================
eece1318;Hsiaoming Yang;2013-11-18 10:17:50 +0800;Raise TypeError instead of AssertionError.

==

tornado/escape.py
==================
932dcc7d;Nicolas Delaby;2013-11-17 19:36:28 +0100;Pass timeout argument to Future.result

==

tornado/concurrent.py
tornado/test/concurrent_test.py
==================
a25aebb5;AndreySumin;2013-11-06 11:15:03 +0400;add custom fmt and datefmt to LogFormatter

==

tornado/log.py
==================
87ef2a8f;Ben Darnell;2013-11-04 08:33:40 -0500;Document the HTTPResponse.effective_url attribute.

==

tornado/httpclient.py
==================
473821f4;Ben Darnell;2013-11-07 15:11:48 -0500;Update next-release notes and document the asyncio module.

==

docs/asyncio.rst
docs/integration.rst
docs/releases/next.rst
tornado/web.py
==================
372ebb56;Ben Darnell;2013-11-06 16:44:15 -0500;Clean up some uncollectable garbage in the test suite.

==

tornado/test/stack_context_test.py
==================
6f56d1a4;Ben Darnell;2013-11-06 14:57:31 -0500;Document the fact that WebSocketClientConnection should not be used directly.
Closes #929.

==

tornado/websocket.py
==================
463d9ecd;Ben Darnell;2013-11-06 14:16:01 -0500;Catch exceptions from parse_qs_bytes in POST bodies and log them.
This is consistent with error handling for multipart/form-data.
parse_qs is very liberal, but the conversion to unicode
on python 3 may fail.  This is most common for binary data sent from
clients where x-www-form-urlencoded is the default, which is not
actually intended to be interpreted as arguments.

Closes #921.

==

tornado/httputil.py
tornado/test/httpserver_test.py
==================
fa47362e;Ben Darnell;2013-11-06 11:53:23 -0500;Fix speedups.c when compiled with gcc instead of clang.

==

tornado/speedups.c
==================
a3246808;Ben Darnell;2013-11-06 11:53:00 -0500;Point Ubuntu 12.04 Vagrant file to a readily-available base image.

==

maint/vm/ubuntu12.04/Vagrantfile
==================
4ec9831f;Ben Darnell;2013-11-05 17:58:45 -0500;Make the C extension optional.

==

setup.py
==================
0ca7fa01;Ben Darnell;2013-11-05 17:39:03 -0500;Replace cython-based extension module with a hand-written one.
This avoids the complexity of ensuring that cython is installed
at build time.

==

.gitignore
MANIFEST.in
setup.py
tornado/speedups.c
tornado/speedups.pyx
tornado/websocket.py
tox.ini
==================
4a5fdb1e;Ben Darnell;2013-11-05 15:53:51 -0500;Add backports.ssl_match_hostname dependency in place of our copy.
This function has changed recently and it makes more sense to stop
maintaining a separate copy, even though it does introduce our first
required dependency.

==

docs/index.rst
maint/requirements.txt
setup.py
tornado/netutil.py
==================
4f276caf;bdarnell;2013-11-04 12:23:26 -0800;Merge pull request #928 from ajdavis/better-assertion-in-httpclient
Better AsyncHTTPClient error for GET with body or POST without one. Fixes #927.
==
==================
5896bbec;Ben Darnell;2013-11-04 15:19:32 -0500;simple_httpclient: Start the connection timeout before the Resolver call.
Timeouts were previously unenforced during DNS resolution.

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
126645d4;A. Jesse Jiryu Davis;2013-11-04 14:57:05 -0500;Better AsyncHTTPClient error for GET with body or POST without one.

==

tornado/curl_httpclient.py
tornado/simple_httpclient.py
tornado/test/httpclient_test.py
==================
99609569;bdarnell;2013-11-04 11:42:09 -0800;Merge pull request #926 from liangsun/master
Add `name` parameter for URLSpec in tuple/list format.
==
==================
228bc8c5;Liang Sun;2013-11-04 18:03:33 +0800;Add name parameter for URLSpec in tuple/list format.

==

tornado/web.py
==================
cd8c2918;Ben Darnell;2013-11-03 21:10:56 -0500;Update next-release notes.

==

docs/releases/next.rst
docs/web.rst
docs/websocket.rst
tornado/gen.py
tornado/httpserver.py
tornado/web.py
tornado/websocket.py
==================
36fb165a;Ben Darnell;2013-11-03 16:20:01 -0500;Fix --debug_gc option on python 3.

==

tornado/test/runtests.py
==================
b61ce6dc;Ben Darnell;2013-11-03 16:18:40 -0500;Don't make the request if it timed out in the queue.
Use IOLoop time instead of request.start_time (which is wall time).
Misc test fixes.

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
1195a23f;Ben Darnell;2013-11-03 15:07:34 -0500;Merge remote-tracking branch 'codeb2cc/async-request-timeout' into merge

==
==================
46c67e1d;Ben Darnell;2013-11-03 15:02:24 -0500;Rearrange newly-added optional arguments for backwards compatibility.

==

tornado/auth.py
==================
92ac5012;Ben Darnell;2013-11-03 14:37:43 -0500;Merge remote-tracking branch 'sclm/GoogleOAuth2' into merge
Conflicts:
	docs/releases/next.rst

==
==================
15bccd8a;Ben Darnell;2013-11-03 14:01:41 -0500;Add test for the websocket connection-refused fix.

==

tornado/test/websocket_test.py
==================
086de753;bdarnell;2013-11-03 10:52:31 -0800;Merge pull request #910 from Caligatio/patch-1
Fixed WebSocketClient connections not closing on initial connection failure
==
==================
160adb03;Ben Darnell;2013-11-03 13:43:09 -0500;Change hard-coded SSL protocol version for Python 2.6 to TLSv1.
The compatibility advantage of SSLv3 was always small, and it's probably
better to use TLSv1 than SSLv3 now.

Closes #911.

==

tornado/simple_httpclient.py
==================
d0cf31c4;Ben Darnell;2013-11-03 13:22:17 -0500;Fix some cases where curl_httpclient options could leak to subsequent requests.
Document the remaining cases which cannot cleanly be set back to their default
values.

Uncovered by #912.

==

tornado/curl_httpclient.py
tornado/httpclient.py
==================
8b5f3f46;Ben Darnell;2013-11-02 16:46:32 -0400;Add generated speedups.c to .gitignore.

==

.gitignore
==================
10c0e77b;Ben Darnell;2013-11-02 15:55:45 -0400;Add test for specifying handlers by name.

==

tornado/test/web_test.py
==================
c95464fc;bdarnell;2013-11-02 12:10:35 -0700;Merge pull request #925 from mengzhuo/master
unify web.handlers
==
==================
d6add0cb;Meng Zhuo;2013-11-01 10:11:31 +0800;unify web.handlers

==

tornado/web.py
==================
b3520e5d;Ben Darnell;2013-10-26 22:47:42 -0400;Remvoe auto2to3 exclusion rules.
auto2to3 is no longer a part of the Tornado development process,
and the MANIFEST exclusion rule just results in scary-looking warnings
when installing.

==

.gitignore
MANIFEST.in
==================
0500ad6e;Ben Darnell;2013-10-26 22:42:26 -0400;Add more tests for the cython websocket mask function

==

tornado/test/websocket_test.py
==================
e8dc5e42;Ben Darnell;2013-10-25 15:46:13 -0400;Add cython-based speedup for websocket mask function.
This optimization is currently activated only if Cython is present
when Tornado is installed.

==

MANIFEST.in
setup.py
tornado/speedups.pyx
tornado/test/websocket_test.py
tornado/websocket.py
tox.ini
==================
0d0f5835;Ben Darnell;2013-10-26 20:00:27 -0400;Add a tox config for the py33 backport of asyncio.
Update some old comments.

==

tox.ini
==================
e074040c;Ben Darnell;2013-10-18 16:07:11 -0400;Split AsyncIOLoop to make it possible to use the global asyncio event loop.
AsyncIOLoop works more like Tornado's native IOLoop so it's better for
our tests, but AsyncIOMainLoop is more appropriate for most real-world
usage.

==

tornado/platform/asyncio.py
tornado/test/httpclient_test.py
tornado/test/process_test.py
==================
9194631a;Ben Darnell;2013-10-18 15:46:55 -0400;Initial version of asyncio/tulip-based IOLoop.
Currently always creates a new asyncio event loop instead of using
an existing one.

==

tornado/platform/asyncio.py
==================
491ec5ce;Ben Darnell;2013-10-18 11:49:25 -0400;Add close method to websocket client; fix socket leaks in websocket_test.
These leaks are detected only in python 3.4 thanks to its improved
generator GC.

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
add55d51;Ben Darnell;2013-10-26 19:43:48 -0400;Disable test_subprocess on LayeredTwistedIOLoop.
This test fails occasionally in this configuration (but strangely, the
other subprocess tests work).  I haven't been able to track it down
so just disable it for now to prevent spurious travis-ci errors.

==

tornado/test/process_test.py
==================
689d9c8e;Ben Darnell;2013-10-26 18:27:25 -0400;Check for the existence of sys.stderr.isatty before calling it.
Only the `write` method is guaranteed to exist on sys.stderr and sys.stdout.

Closes #920.

==

tornado/log.py
==================
95a25b19;Ben Darnell;2013-10-20 15:26:27 -0400;Return the correct type when yielding an empty dict.

==

tornado/gen.py
tornado/test/gen_test.py
==================
9cc94a29;bdarnell;2013-10-20 12:10:56 -0700;Merge pull request #915 from anton-ryzhov/yield_dict
Yielding dicts from coroutine
==
==================
15e2812a;Anton Ryzhov;2013-10-17 19:44:09 +0400;Documentation for yielding dicts

==

docs/gen.rst
tornado/gen.py
==================
71c0a9b8;Anton Ryzhov;2013-10-17 19:37:00 +0400;Yielding dict in coroutine

==

tornado/gen.py
tornado/test/gen_test.py
==================
a10c1646;bdarnell;2013-10-13 14:11:10 -0700;Merge pull request #913 from tahajahangir/patch-1
Don't raise connection reset errors in `set_nodelay`
==
==================
0581156e;Ben Darnell;2013-10-13 17:07:18 -0400;Fix double logging of exceptions with both @asynchronous and @coroutine.
Tornado 3.1 made the @asynchronous decorator optional when @coroutine
is used, but if it was used anyway both @asynchronous and the new code
would log any uncaught exceptions.

==

tornado/web.py
==================
311126cd;Taha Jahangir;2013-10-13 21:13:45 +0330;Don't raise connection reset errors in `set_nodelay`
If connection was reset, `request.finish()` wrongly raises socket.error instead of ignoring the error.
==

tornado/iostream.py
==================
36e7de9d;Brian Turek;2013-10-08 16:24:29 -0400;Fixed WebSocketClient connections not closing on initial connection failure

==

tornado/websocket.py
==================
fd3d1919;Ben Darnell;2013-10-05 20:38:39 -0400;Polish for extra debug-mode settings.
Split template_cache into two settings, for template and static files.
Rename several options.  Update docs.

==

docs/overview.rst
tornado/autoreload.py
tornado/web.py
==================
8c4392ae;bdarnell;2013-10-05 17:32:23 -0700;Merge pull request #896 from jniznan/master
Possibility to disable autoreload when debug is on
==
==================
8ca89169;Ben Darnell;2013-10-05 20:26:14 -0400;Expand argument-origin tests to include the plural methods.

==

tornado/test/web_test.py
==================
8fc7a26e;Ben Darnell;2013-10-05 20:02:03 -0400;Undo erronous chmod +x's

==

tornado/escape.py
tornado/httpserver.py
tornado/httputil.py
tornado/test/httputil_test.py
tornado/test/runtests.py
tornado/web.py
tornado/wsgi.py
==================
f4f85959;bdarnell;2013-10-05 17:01:03 -0700;Merge pull request #907 from MrTravisB/master
Support distinguishing argument origin between query and body.
==
==================
010728ad;Travis Beauvais;2013-10-05 10:26:15 -0700;ise items() since iteritems() not in py3

==

tornado/httpserver.py
tornado/wsgi.py
==================
e7ed9d31;Travis Beauvais;2013-10-05 10:13:17 -0700;Fix wsgi

==

tornado/wsgi.py
==================
30d15413;Travis Beauvais;2013-10-05 09:45:45 -0700;- Plural query/body arg methods. - Updated Tests. - Don't change signature of public methods.

==

docs/web.rst
tornado/escape.py
tornado/httpserver.py
tornado/httputil.py
tornado/test/httputil_test.py
tornado/test/runtests.py
tornado/test/web_test.py
tornado/web.py
tornado/wsgi.py
==================
d45711ab;Travis Beauvais;2013-09-28 12:53:16 -0700;Support argument origin

==

tornado/httpserver.py
tornado/httputil.py
tornado/test/httputil_test.py
tornado/test/web_test.py
tornado/web.py
tornado/wsgi.py
==================
26cb4268;Juraj Niznan;2013-09-04 15:36:00 +0200;possibility to disable autoreload when debug is on

==

tornado/autoreload.py
tornado/process.py
tornado/tcpserver.py
tornado/web.py
==================
38330def;Ben Darnell;2013-09-22 13:02:11 -0400;Fix unix socket error test on python 3 on linux.
The remote address of a unix socket is apparently an empty character
string on mac but an empty byte string on linux.

==

tornado/test/httpserver_test.py
==================
8fa3bec8;Ben Darnell;2013-09-22 12:50:19 -0400;Don't assume IP-style socket addresses in error messages.
Closes #900.

==

tornado/httpserver.py
tornado/test/httpserver_test.py
==================
8bd3ef08;Ben Darnell;2013-09-08 14:02:21 -0400;Fix warnings during final GC of the test suite in python 3.4a1.
3.4 can GC things that were uncollectable before, like abandoned generators.
It also seems generates ResourceWarnings for unclosed files in places
where older versions did not.

==

tornado/test/httpclient_test.py
tornado/test/simple_httpclient_test.py
tornado/test/stack_context_test.py
==================
51c9796b;Ben Darnell;2013-09-08 12:15:53 -0400;Add a default_handler_class setting for custom 404 pages.
The previous solution for custom 404s (a r'.*' rule at the end of the
handlers list) proved to be undiscoverable for many users, and it
could be nontrivial to put the rule in the right place in the presence
of multiple add_handlers calls and the implicit StaticFileHandler rules.

==

tornado/test/web_test.py
tornado/web.py
==================
684fda2b;Ben Darnell;2013-09-07 21:15:59 -0400;Set Connection: keep-alive header directly without going through set_header.
set_header is not allowed in WebSocketHandler, but some proxies add
this header unconditionally.

Closes #897.

==

tornado/web.py
==================
b5ec807e;Ben Darnell;2013-09-07 21:14:26 -0400;Allow preconstructed HTTPRequest objects in websocket_connect.
In particular this allows for headers to be passed in to simulate
browser authentication behavior.

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
13c149a5;Stephen McMillen;2013-09-04 08:41:24 -0400;Clean up GoogleOAuth2Mixin, fold scope and response_type into the base OAuth2Mixin

==

tornado/auth.py
==================
2d5f3964;Codeb Fan;2013-09-02 13:12:58 +0800;Remove `async_timeout` and use `connect_timeout` instead

==

tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
0352fe00;Ben Darnell;2013-09-01 14:37:40 -0400;Merge branch 'branch3.1'
Conflicts:
	docs/releases.rst
	setup.py
	tornado/__init__.py

==
==================
f36652d4;Ben Darnell;2013-09-01 14:21:36 -0400;Set version number to 3.1.1

==

setup.py
tornado/__init__.py
==================
203f3b85;Ben Darnell;2013-09-01 14:20:03 -0400;Add 3.1.1 release notes.

==

docs/releases.rst
docs/releases/v3.1.1.rst
==================
3755fb84;Ben Darnell;2013-08-04 18:10:21 -0400;RequestHandler sets its close callback on the HTTPConnection, not the IOStream.
Fixes a bug in which close callbacks would never be called for subsequent
requests on a reused connection.

==

tornado/web.py
==================
a82336b0;Ben Darnell;2013-07-11 14:00:37 -0400;Fix exception in StaticFileHandler when range requested is larger than file.

==

tornado/test/web_test.py
tornado/web.py
==================
83782256;Stephen McMillen;2013-09-01 12:02:08 -0400;Stop making an absolute URL for GoogleOAuth2Mixin

==

tornado/auth.py
==================
fd3ea209;Stephen McMillen;2013-09-01 11:48:46 -0400;Rename the object param in GoogleOAuth2Mixin from overwrites to extra_params.

==

tornado/auth.py
==================
ff9f9c3c;Ben Darnell;2013-08-29 17:32:49 -0400;Bump verison number to 3.2.dev2

==

setup.py
tornado/__init__.py
==================
5b818902;Martin von Gagern;2013-08-28 22:41:53 +0200;Remove disabled code, and test for backslash removal.

==

tornado/httputil.py
==================
f4ad3b77;Ben Darnell;2013-08-24 22:06:00 -0400;Check for empty strings and zero bytes in is_valid_ip.
Closes #893.

==

tornado/netutil.py
tornado/test/netutil_test.py
==================
8e0e4e1c;bdarnell;2013-08-22 18:03:24 -0700;Merge pull request #889 from pabelanger/temp/license
Add top level LICENSE file
==
==================
7614acb4;Paul Belanger;2013-08-22 19:28:35 -0400;Add top level LICENSE file
Simlpe commit to add the Apache License, Version 2.0 to the top level
directory.

Signed-off-by: Paul Belanger <paul.belanger@polybeacon.com>

==

LICENSE
==================
65a4f8a7;Codeb Fan;2013-08-21 15:48:55 +0800;Add a test case for async_timeout in SimpleAsyncHTTPClient.

==

tornado/test/simple_httpclient_test.py
==================
e48c794c;Codeb Fan;2013-08-21 14:56:29 +0800;Add timeout for requests in SimpleAsyncHTTPClient's queue.
The connect_timeout and request_timeout in HTTPRequest only matter when
the _HTTPConnection get created. In heavy-loadded situation requests in
SimpleAsyncHTTPClient may have already timeouted before they pop out
from queue and get actual processed. This commit adds an timeout
callback for every request appended to SimpleAsyncHTTPClient's request
queue that cannot be processed immediately.

==

tornado/httpclient.py
tornado/simple_httpclient.py
==================
8e7effda;Ben Darnell;2013-08-18 23:54:59 -0400;In add_callback, hold the lock while writing to the waker pipe.
This protects against a shutdown race condition seen occasionally in
the ThreadedResolver unittests.  This slightly increases contention
on the callback lock in multi-threaded scenarios, but the cost is
limited by the fact that we only write to the pipe once per IOLoop
iteration.

Closes #875.

==

tornado/ioloop.py
==================
6ec711cd;Ben Darnell;2013-08-18 19:24:14 -0400;Add a distinct exception for writing a WebSocket message on a closed connection.
This replaces an AttributeError on NoneType.

Closes #879.

==

tornado/websocket.py
==================
fdbebacb;Ben Darnell;2013-08-18 19:20:48 -0400;Document the fact that the {% module %} directive requires a RequestHandler.
Closes #880.

==

tornado/template.py
==================
96977453;Ben Darnell;2013-08-18 19:17:15 -0400;Emphasize and clarify docs for AsyncHTTPClient.close.

==

tornado/httpclient.py
==================
e03e8263;Ben Darnell;2013-08-18 19:12:07 -0400;Document Windows support (or lack thereof).
Closes #871.

==

docs/index.rst
==================
5a4410d8;Ben Darnell;2013-08-13 00:02:34 -0400;Update next-release notes.

==

docs/releases/next.rst
==================
4a1f0246;Ben Darnell;2013-08-12 23:52:30 -0400;Add comments for domain and path arguments to cookie-clearing methods.

==

tornado/web.py
==================
54c7ed3d;bdarnell;2013-08-12 20:47:39 -0700;Merge pull request #874 from skazhy/clear-all-cookies-custom-domain
Allow deleting all cookies on custom domains
==
==================
6d7ae043;Ben Darnell;2013-08-12 23:34:00 -0400;Update ca-certificates.crt to the current Mozilla version.
This file was generated by downloading
https://mxr.mozilla.org/mozilla/source/security/nss/lib/ckfw/builtins/certdata.txt?raw=1
in a web browser to avoid the chicken-and-egg problem with mk-ca-bundle's
built-in downloading, and then running "mk-ca-bundle.pl -n".

Note that we were not affected by the recently-fixed curl bug
(https://github.com/bagder/curl/commit/51f0b798fa), but only because
it had been so long since we had updated this file.

==

tornado/ca-certificates.crt
==================
55a6b825;Karlis Lauva;2013-08-09 13:43:20 +0300;Allow deleting all cookies on custom domains

==

tornado/web.py
==================
fca6c539;Martin von Gagern;2013-08-07 10:30:36 +0200;Format doctest suitable for Python 2

==

tornado/httputil.py
==================
e04f1ad1;Martin von Gagern;2013-08-07 06:20:26 +0200;Accept header parameters in RFC 2231 format.
This should fix facebook/tornado#868.

==

tornado/httputil.py
==================
1037f083;Ben Darnell;2013-08-04 18:35:50 -0400;Less crude fix for #855: only do anything for already-connected sockets.

==

tornado/iostream.py
==================
62d8f121;Ben Darnell;2013-08-04 18:33:37 -0400;Merge remote-tracking branch 'pitrou/issue855-ssl-auto-handshake'

==
==================
38f90072;Ben Darnell;2013-08-04 18:10:21 -0400;RequestHandler sets its close callback on the HTTPConnection, not the IOStream.
Fixes a bug in which close callbacks would never be called for subsequent
requests on a reused connection.

==

tornado/web.py
==================
f2e23670;Ben Darnell;2013-08-04 18:08:01 -0400;Clear the IOStream buffers on close even when there is no close callback.
Closes #828. (again)

==

tornado/iostream.py
==================
bfba45ba;Ben Darnell;2013-08-04 15:45:35 -0400;Route all callback error logging in IOLoop through handle_callback_exception.

==

tornado/ioloop.py
==================
d35e5b8a;bdarnell;2013-07-19 19:42:54 -0700;Merge pull request #859 from schlamar/patch-1
Make poll timeout patchable.
==
==================
fa41dd7d;Marc Schlaich;2013-07-19 13:36:00 +0200;Make poll timeout patchable.

==

tornado/ioloop.py
==================
3b1ae9d0;Stephen McMillen;2013-07-17 19:30:24 -0400;Fix up documentation for the class and the Sphinx reference.

==

docs/auth.rst
tornado/auth.py
==================
1942f97d;Stephen McMillen;2013-07-17 18:59:13 -0400;Add in Google OAuth2 support.

==

docs/releases/next.rst
tornado/auth.py
==================
0f032042;Antoine Pitrou;2013-07-17 15:09:05 +0200;Crude fix for issue #855: automatically initiate SSL handshake in SSLIOStream. Perhaps this should be exposed as an option instead?

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
191972be;bdarnell;2013-07-15 18:10:05 -0700;Merge pull request #851 from taguchimail/master
Correctly handle EAGAIN when writing to PipeIOStreams
==
==================
e4e93e9b;bdarnell;2013-07-15 18:04:09 -0700;Merge pull request #848 from SuprDewd/issue_820
Fixed laziness of current_user in UI modules, and added tests for current_user.
==
==================
11236e77;Ben Dyer;2013-07-12 16:35:09 +1000;Correctly handle EAGAIN when writing to PipeIOStreams
BaseIOStream._handle_write needs to catch IOError and OSError as
well as socket.error in order to handle EAGAIN when writing to a
PipeIOStream (which doesn't appear to raise socket.error when the
buffer is full).

This also provides consistency with the exceptions caught by
BaseIOStream._read_to_buffer.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
6ccd3aef;Ben Darnell;2013-07-11 14:00:37 -0400;Fix exception in StaticFileHandler when range requested is larger than file.

==

tornado/test/web_test.py
tornado/web.py
==================
29e067f0;SuprDewd;2013-07-10 00:10:34 +0000;Fixed laziness of current_user in UI modules, and added tests for current_user. #820

==

tornado/test/web_test.py
tornado/web.py
==================
c4399628;Ben Darnell;2013-07-07 13:38:08 -0400;Clear the write buffer when an IOStream is closed.
Closes #828.

==

tornado/iostream.py
==================
a33d48d3;Ben Darnell;2013-07-07 13:30:00 -0400;Unify lists of errnos used in IOStream.
We generally want to treat aborted connections the same regardless of the
specific errno, but some calls caught ECONNRESET and ECONNABORTED
while others only caught ECONNRESET.  Reported in #828.

==

tornado/iostream.py
==================
459a9d83;Ben Darnell;2013-07-07 12:29:09 -0400;Start next release notes

==

docs/releases.rst
docs/releases/next.rst
==================
4851494a;Ben Darnell;2013-07-07 12:13:52 -0400;Clear the loop variable in addition to the callback list.
Closes #844.

==

tornado/ioloop.py
==================
403d1321;Ben Darnell;2013-07-05 13:13:40 -0400;Update FacebookGraphMixin with new authorization url.
The old url still works, but results in an extra redirect.

==

tornado/auth.py
==================
8bc337a9;Ben Darnell;2013-07-05 13:08:44 -0400;Use TracebackFuture for all internal Futures for better tracebacks on py2.x.

==

tornado/auth.py
tornado/httpclient.py
tornado/ioloop.py
tornado/websocket.py
==================
a5ab2db7;Ben Darnell;2013-07-05 12:57:03 -0400;Clear local variables in IOLoop to allow GC before we start polling.
Closes #836.

==

tornado/ioloop.py
==================
c82e97ff;Ben Darnell;2013-07-05 12:53:37 -0400;Close pipe file descriptors if subprocess.Popen fails.
Closes #834.

==

tornado/process.py
==================
5f2c3b36;Ben Darnell;2013-07-05 12:46:49 -0400;Add apostrophes to xhtml_escape.
Closes #833.

==

tornado/escape.py
tornado/test/escape_test.py
==================
eea50c08;Ben Darnell;2013-06-30 20:25:16 -0400;Update twisted test blacklist for the newly-released 13.1.0.

==

tornado/test/twisted_test.py
tox.ini
==================
99c911f4;bdarnell;2013-06-30 16:38:44 -0700;Merge pull request #831 from erkyrath/master
Fixed incorrect error message in _when_complete (#829)
==
==================
cb0dd065;Ben Darnell;2013-06-24 16:39:25 -0700;Fix run_with_stack_context test.
This test would never fail because it didn't check the result of its
Future.  Thanks to Florian Ludwig for pointing this out.

==

tornado/test/stack_context_test.py
==================
50d7a19f;Andrew Plotkin;2013-06-22 14:03:50 -0400;Fix issue 829 -- error message is displaying wrong incorrect result.

==

tornado/web.py
==================
913997eb;bdarnell;2013-06-17 19:51:22 -0700;Merge pull request #824 from GrahamDumpleton/master
WSGI specification requires that close() be called on iterable no matter what happens.
==
==================
bc955f44;Ben Darnell;2013-06-17 22:49:27 -0400;Set master branch version to 3.2.dev1

==

setup.py
tornado/__init__.py
==================
72556cf9;Graham Dumpleton;2013-06-17 15:49:42 +1000;WSGI specification requires that close() be called on iterable no matter what happens.

==

tornado/wsgi.py
==================
2d7ce584;Ben Darnell;2013-06-15 14:15:54 -0400;Set version to 3.1.

==

setup.py
tornado/__init__.py
==================
21b20760;Ben Darnell;2013-06-15 14:15:24 -0400;Move next release notes to v3.1.

==

docs/releases.rst
docs/releases/v3.1.0.rst
==================
d2df3539;Ben Darnell;2013-06-15 14:03:25 -0400;Release note updates.

==

docs/releases/next.rst
==================
cdd57fab;Ben Darnell;2013-06-14 19:30:30 -0400;Remove obsolete comment about twitter's support for callback urls.

==

tornado/auth.py
==================
7faf5735;Ben Darnell;2013-06-13 12:14:52 -0400;Add another small encoding test for xhtml_escape.

==

tornado/test/escape_test.py
==================
d088cb69;Ben Darnell;2013-06-11 23:52:36 -0400;Fix default IOLoop in Subprocess.
Exit callbacks would fail for Subprocesses that did not explicitly
set an IOLoop.

==

tornado/process.py
==================
3cf90980;Ben Darnell;2013-06-11 23:32:40 -0400;Set CLOEXEC on subprocess pipe endpoints so they are not inherited by the child.
This is what the subprocess module does when it creates pipes, and is
necessary so that a close of the writing side of the stdin pipe will
be recognized by the child process.

==

tornado/process.py
tornado/test/process_test.py
==================
44dbe6a0;bdarnell;2013-06-11 19:16:12 -0700;Merge pull request #823 from schlamar/bind-sockets-ipv6
Fix bind_sockets if OS does not support IPv6
==
==================
6161d0f9;Ben Darnell;2013-06-11 22:11:49 -0400;Doc updates from Zhigang Wang

==

tornado/gen.py
==================
be65543b;schlamar;2013-06-11 14:38:32 +0200;Fix bind_sockets if OS does not support IPv6

==

tornado/netutil.py
==================
3638ce49;bdarnell;2013-06-06 06:32:07 -0700;Merge pull request #819 from dominiqueplante/master
update comparison check to follow PEP8
==
==================
63328eb5;Dominique Plante;2013-06-05 23:37:13 -0700;update comparison to follow pep8

==

tornado/template.py
==================
62374071;Ben Darnell;2013-06-05 21:57:03 -0400;Document websocket error handling change (and StreamClosedError).

==

docs/iostream.rst
docs/releases/next.rst
tornado/iostream.py
==================
60693e01;Ben Darnell;2013-06-05 21:43:16 -0400;Catch StreamClosedErrors in WebSocketHandler and abort.
When the stream is closed with buffered data, the close callback won't
be run until all buffered data is consumed, but any attempt to write
to the stream will fail, as will reading past the end of the buffer.
This requires a try/except around each read or write, analogous to the
one introduced in HTTPServer in commit 3258726f.

Closes #604.
Closes #661.

==

tornado/test/websocket_test.py
tornado/websocket.py
==================
b61bc5a7;Ben Darnell;2013-06-05 09:21:52 -0400;Set version number to 3.1b1

==

setup.py
tornado/__init__.py
==================
279d5d30;Ben Darnell;2013-06-05 01:00:09 -0400;Release note updates

==

docs/releases/next.rst
==================
e4c266a6;Ben Darnell;2013-06-02 21:18:32 -0400;gen.coroutine works with auth now so we can use it in the docs.

==

tornado/auth.py
==================
e8fae5cf;Ben Darnell;2013-06-02 21:16:48 -0400;Merge branch 'branch3.0'
Conflicts:
	docs/releases.rst
	setup.py
	tornado/__init__.py
	tornado/auth.py

==
==================
1a3088b5;Ben Darnell;2013-06-02 16:27:28 -0400;Version bump and release notes for 3.0.2.

==

docs/releases.rst
docs/releases/v3.0.2.rst
setup.py
tornado/__init__.py
==================
64d8b86d;Ben Darnell;2013-05-31 21:49:08 -0400;Update twitter base urls to use api 1.1 and HTTPS.
This is in preparation for the shutdown of version 1 of the API on
June 11.

Closes #809.

==

tornado/auth.py
==================
39d89b62;Ben Darnell;2013-06-02 16:04:57 -0400;Copy .gitignore update from master to branch3.0

==

.gitignore
==================
03578d96;Ben Darnell;2013-06-01 17:36:20 -0400;Restore a recently-removed ExpectLog in simple_httpclient_test.
Some IOLoops still log warnings when a connection is refused.

==

tornado/test/simple_httpclient_test.py
==================
be529443;Ben Darnell;2013-06-01 17:30:33 -0400;Reuse a single ThreadPoolExecutor for all ThreadedResolvers.
The primary motivation is that shutting down a ThreadPoolExecutor takes
100ms in the 2.x backported version of concurrent.futures.  It's also
generally unnecessary to create lots of DNS resolver threads just
because multiple resolver objects are used.

Document ExecutorResolver for public use.

==

tornado/netutil.py
tornado/test/netutil_test.py
==================
c938106f;Ben Darnell;2013-05-31 22:34:54 -0400;Fix tests broken by move to verify_credentials

==

tornado/test/auth_test.py
==================
85ff9eb1;Ben Darnell;2013-05-31 22:27:02 -0400;Get the current user's twitter information with /account/verify_credentials.
This is more robust against potentially-changing screen names.

Closes #51.

==

tornado/auth.py
==================
5d131ca6;Ben Darnell;2013-05-31 21:49:08 -0400;Update twitter base urls to use api 1.1 and HTTPS.
This is in preparation for the shutdown of version 1 of the API on
June 11.

Closes #809.

==

tornado/auth.py
==================
9298756e;Ben Darnell;2013-05-31 21:46:53 -0400;Add a simple end-to-end demo of TwitterMixin.

==

.gitignore
demos/twitter/home.html
demos/twitter/twitterdemo.py
tornado/auth.py
==================
fafa9d32;Ben Darnell;2013-05-31 20:45:42 -0400;Make the auth*_redirect methods all return Futures.
The OAuth 1.0 authorize_redirect is asynchronous, but this is not obvious
since it doesn't take a callback and instead just calls self.finish.
This fails in coroutines because the request will be auto-finished too soon.
Add Future returns to this method, and to all the rest for consistency.

Update docs and add tests for the various styles of login handlers.

==

tornado/auth.py
tornado/test/auth_test.py
==================
57eb740c;Ben Darnell;2013-05-31 20:03:02 -0400;Doc patch for 3.0: replace @gen.coroutine with @gen.engine.
The oauth 1.0 redirect methods are asynchronous even though they don't
take a callback, so we don't want the end of the coroutine to trigger
a call to self.finish.

==

tornado/auth.py
==================
78390909;bdarnell;2013-05-31 16:32:22 -0700;Merge pull request #817 from ysimonson/feature/no-body-in-logs
Hide request body on error dump
==
==================
fd4d8997;Ben Darnell;2013-05-31 19:30:37 -0400;Remove logging of uncaught exceptions from SimpleAsyncHTTPClient.
This logging was basically redundant since the exception is still
made available to the caller through the response's error object.

Closes #815.

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
9036f061;Yusuf Simonson;2013-05-31 14:05:57 -0400;Do not include body in HTTPRequest's __repr__

==

tornado/httpserver.py
==================
8516e6bb;bdarnell;2013-05-30 07:18:43 -0700;Merge pull request #808 from wolever/standards-complient-range
Edge cases of Range header are standards compliant
==
==================
1f45fc82;David Wolever;2013-05-29 15:04:15 -0400;Edge cases of Range header are standards compliant
Fix a few Range header edge cases to ensure that it is as
standards-compliant as possible.

==

tornado/httputil.py
tornado/test/web_test.py
tornado/web.py
==================
eff4c5e7;David Wolever;2013-05-29 14:37:51 -0400;Return a valid Content-Range header

==

tornado/httputil.py
tornado/test/web_test.py
==================
d68b6295;Ben Darnell;2013-05-27 18:01:08 -0400;Add versionadded tags throughout the docs.

==

docs/releases/next.rst
tornado/auth.py
tornado/escape.py
tornado/httpclient.py
tornado/httpserver.py
tornado/ioloop.py
tornado/iostream.py
tornado/netutil.py
tornado/options.py
tornado/stack_context.py
tornado/tcpserver.py
tornado/testing.py
tornado/web.py
tornado/websocket.py
==================
210312c4;Ben Darnell;2013-05-27 17:18:38 -0400;Autopep8 fixes.

==

tornado/gen.py
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/iostream.py
tornado/test/curl_httpclient_test.py
tornado/test/gen_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/runtests.py
tornado/test/stack_context_test.py
tornado/test/web_test.py
tornado/test/websocket_test.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
9ce47af0;Ben Darnell;2013-05-27 17:15:24 -0400;Update autopep8 blacklist

==

maint/scripts/run_autopep8.sh
==================
86143dfe;Ben Darnell;2013-05-27 17:15:12 -0400;Update development dependency versions.

==

maint/requirements.txt
==================
e2af4cf2;Ben Darnell;2013-05-27 15:34:35 -0400;Remove unused imports identified by pyflakes.

==

tornado/httputil.py
tornado/platform/twisted.py
tornado/stack_context.py
==================
929f8d11;Ben Darnell;2013-05-27 15:29:07 -0400;Fix exception name in backported ssl fix.

==

tornado/netutil.py
==================
7e5d58b0;Ben Darnell;2013-05-27 15:19:04 -0400;Add an overridable attribute FacebookGraphMixin._FACEBOOK_BASE_URL.
Closes #241.

==

docs/releases/next.rst
tornado/auth.py
==================
d904186b;bdarnell;2013-05-27 09:02:38 -0700;Merge pull request #805 from chinyue/master
Add check in case email.utils.parsedate failed
==
==================
65acce1b;Chinyue Chen;2013-05-27 11:57:26 +0800;Add check in case parsedate failed.
email.utils.parsedate returns None if failed to parse date, add a check
to handle that.

==

tornado/web.py
==================
822e91a4;Ben Darnell;2013-05-26 21:54:07 -0400;Use py26-compatible syntax in tests.

==

tornado/test/stack_context_test.py
==================
46850a7b;Ben Darnell;2013-05-26 17:50:09 -0400;Fix an exception when the outermost stack_context is deactivated.
Add more tests for deactivation in various scenarios.

==

tornado/stack_context.py
tornado/test/stack_context_test.py
==================
c7bc4b61;Ben Darnell;2013-05-26 14:15:12 -0400;Add a stack_context benchmark.

==

demos/benchmark/stack_context_benchmark.py
==================
4b88839a;Ben Darnell;2013-05-26 12:44:00 -0400;Merge remote-tracking branch 'mrjoes/master' into merge

==
==================
f55614a6;Ben Darnell;2013-05-25 19:15:24 -0400;Organize release notes by module

==

docs/releases/next.rst
==================
dedc6f61;Ben Darnell;2013-05-25 18:48:30 -0400;Update release notes

==

docs/releases/next.rst
==================
467a2973;Ben Darnell;2013-05-25 18:38:11 -0400;Remove a seemingly unneded timeout that made this test timing-sensitive.

==

tornado/test/iostream_test.py
==================
60952528;Ben Darnell;2013-05-25 18:31:20 -0400;Re-add a missing abspath call.
This is needed when __file__ is not absolute.

==

tornado/web.py
==================
7b03cd62;Ben Darnell;2013-05-25 18:20:01 -0400;Avoid references to self.settings in StaticFileHandler instance methods.
This fixes support for secondary StaticFileHandlers configured separately
from the default static_path.

Changed the interfaces of some new-to-3.1 methods to avoid passing in
settings to class methods used in both class and instance contexts.

Closes #796.

==

tornado/test/web_test.py
tornado/web.py
==================
9c4a59e1;Ben Darnell;2013-05-25 17:51:46 -0400;Merge remote-tracking branch 'wolever/fix-staticfile-serving' into merge
Conflicts:
	tornado/test/web_test.py

==
==================
94198fac;Ben Darnell;2013-05-25 15:26:37 -0400;Use remove and add instead of update_handler in curl_httpclient.
Curl sometimes fails to tell us that it has closed a socket
and reopened a new one with the same file descriptor, leading
to problems in some IOLoops.  This should fix the recurring problem
of update_handler errors in various less-common use cases.

Closes #801.
Closes #538.

==

tornado/curl_httpclient.py
==================
ec7fd4e5;Ben Darnell;2013-05-25 15:02:08 -0400;Add a test for digest auth in curl_httpclient.
I wrote this to test for a file descriptor bug, but can't reproduce it
on my system.

==

tornado/test/curl_httpclient_test.py
==================
e7d28e4e;Ben Darnell;2013-05-24 20:36:31 -0400;Improve error messages bytes/unicode conversion functions.

==

tornado/escape.py
==================
d2e57a33;Ben Darnell;2013-05-24 00:41:23 -0400;Revert change to use time.strftime (from 3.0).
time.strftime is influenced by the user's locale (if one is set with
locale.setlocale), so it's not what we want.  Go back to the (slower)
email.utils functions.

Fixes #800.

==

tornado/httputil.py
tornado/test/runtests.py
tornado/test/web_test.py
tornado/web.py
tox.ini
==================
5037e323;Ben Darnell;2013-05-24 00:19:46 -0400;Add py27-docs to tox envlist.

==

tox.ini
==================
a9c94f32;Ben Darnell;2013-05-23 23:57:30 -0400;Backport changes from ssl.match_hostname in Python 3.3.
Includes two commits:
* Fix potential CPU DoS via abusive wildcard pattern
  http://hg.python.org/cpython/rev/fafd33db6ff6
* Fall back to common name when SAN doesn't contain any DNS names
  http://hg.python.org/cpython/rev/1b37827984ba

Closes #799.

==

tornado/netutil.py
==================
a965b360;Ben Darnell;2013-05-23 23:52:19 -0400;Fix regression in async prepare: don't continue of prepare called finish.

==

tornado/test/web_test.py
tornado/web.py
==================
8e2052f6;Ben Darnell;2013-05-23 23:12:05 -0400;$TMPDIR isn't set on travis-ci.

==

.travis.yml
==================
3d5333f7;Ben Darnell;2013-05-23 23:02:37 -0400;Actually install sphinx on travis; fix directory reference.

==

.travis.yml
==================
a0c4003a;Ben Darnell;2013-05-23 22:57:27 -0400;Fix a dangling doc reference, and add a doc check to tox and travis.

==

.travis.yml
tornado/web.py
tox.ini
==================
dc8316bc;cloudaice;2013-05-22 19:55:23 +0200;fixed bugs

==

tornado/auth.py
==================
5398252b;bdarnell;2013-05-23 19:36:43 -0700;Merge pull request #789 from ajdavis/opts-enhancements
Make options instance more dict-like.
==
==================
f57fd525;A. Jesse Jiryu Davis;2013-05-23 17:06:35 -0400;OptionParser.group_dict() now requires a group. Add as_dict().

==

tornado/options.py
tornado/test/options_test.py
==================
86c2bf83;David Wolever;2013-05-21 17:06:53 -0400;Test revealing StaticFileHandler path regression.
A bisect suggests that the regression was introduced in
3f04edf5546e388293d8d1d2f015ca74f8a93217

==

tornado/test/web_test.py
==================
2dfbbd61;bdarnell;2013-05-20 22:06:19 -0700;Merge pull request #794 from wolever/accept-range-in-static-file-handler
Send HTTP 200 in response to `Range: bytes=0-`
==
==================
55ae667b;David Wolever;2013-05-21 00:47:15 -0400;Only send Content-Range with HTTP 206

==

tornado/test/web_test.py
tornado/web.py
==================
a1adcaf0;David Wolever;2013-05-21 00:40:50 -0400;Note about conditional return of HTTP 206

==

tornado/web.py
==================
96e0ea55;David Wolever;2013-05-21 00:37:35 -0400;Merge master

==
==================
5b794dee;David Wolever;2013-05-21 00:14:46 -0400;Send HTTP 200 in response to Range: bytes=0-

==

tornado/test/web_test.py
tornado/web.py
==================
1b2901f0;Serge S. Koval;2013-05-20 14:43:12 +0300;Parameter is no longer necessary

==

tornado/stack_context.py
==================
a8bbe101;Serge S. Koval;2013-05-20 14:35:21 +0300;Unnecessary import removed

==

tornado/stack_context.py
==================
6de33e28;Serge S. Koval;2013-05-20 14:34:19 +0300;stack_context deactivation support

==

tornado/gen.py
tornado/stack_context.py
tornado/test/gen_test.py
tornado/test/stack_context_test.py
==================
2b054d4d;Ben Darnell;2013-05-19 23:19:53 -0400;Release note updates.

==

docs/releases/next.rst
==================
0c238d6f;Ben Darnell;2013-05-19 14:23:17 -0400;Read static files in 64-KB chunks.
Based on #526, but updated for the new interfaces in StaticFileHandler.

Unlike #526, this change does not actually wait for each chunk to be
flushed before reading the next one.  Flushing raises some additional
complications (wsgi compatibility, chunked encoding vs content-length)
that are probably not worthwhile for the intended use of StaticFileHandler.
Reading in chunks has benefits even if we don't wait for the flush
(i.e. memory fragmentation), and this change establishes the necessary
subclass interfaces so we can add flushing in the future.

==

tornado/web.py
==================
2e73d4b6;Ben Darnell;2013-05-19 13:57:31 -0400;Add start and end parameters to get_content() instead of reading everything.

==

tornado/httputil.py
tornado/test/web_test.py
tornado/web.py
==================
e59aa2f4;Ben Darnell;2013-05-19 13:18:53 -0400;Make static_url pass arbitrary kwargs to make_static_url.
The include_version argument to make_static_url is no longer mandatory
in subclasses.

==

tornado/test/web_test.py
tornado/web.py
==================
aadfa668;Ben Darnell;2013-05-19 13:11:53 -0400;Merge remote-tracking branch 'birknilson/static_version_override' into merge
Conflicts:
	tornado/test/web_test.py

==
==================
1ccf71a5;Ben Darnell;2013-05-19 12:41:12 -0400;Add method StaticFileHandler.get_content_version.
This method is easier for subclasses to override (the base class still
handles caching) and lets us use the post-validation absolute path,
fixing some issues with default_filename support.

Improve StaticFileHandler test coverage.

==

MANIFEST.in
setup.py
tornado/test/static/dir/index.html
tornado/test/web_test.py
tornado/web.py
==================
9f96115b;Ben Darnell;2013-05-19 12:02:03 -0400;Add back a lost call to abspath (which may or may not cause test failures depending on how they were run).

==

tornado/web.py
==================
e8fa7465;Ben Darnell;2013-05-19 11:53:43 -0400;Document recent additions to StaticFileHandler.
Make httputil's range functions private.

==

tornado/httputil.py
tornado/test/web_test.py
tornado/web.py
==================
7e95b7cf;Ben Darnell;2013-05-19 10:55:13 -0400;Cleanups after the big StaticFileHandler merge.
Some reshuffling of logic between class and instance methods.

==

tornado/test/web_test.py
tornado/web.py
==================
3f04edf5;Ben Darnell;2013-05-19 00:18:08 -0400;Rough merge of the birknilson and wolever StaticFileHandler branches.
Some of Birk's new methods become classmethods so they can be used
in get_version.

This silences the warning logged in CustomStaticFileTest.

==

tornado/test/web_test.py
tornado/web.py
==================
f0e37159;Ben Darnell;2013-05-18 23:59:00 -0400;Merge remote-tracking branch 'birknilson/refactoring/reduce_statichandler_complexity' into merge
Conflicts:
	tornado/web.py

==
==================
25506060;Ben Darnell;2013-05-18 23:50:19 -0400;Merge remote-tracking branch 'wolever/accept-range-in-static-file-handler' into merge

==
==================
c022f7c9;Ben Darnell;2013-05-18 19:58:18 -0400;Update redbot tests to work with current versions of redbot.

==

maint/test/redbot/red_test.py
maint/test/redbot/tox.ini
==================
8a0e824b;David Wolever;2013-05-18 16:36:37 -0400;206 in response to Range, refactor ETag checking

==

tornado/test/web_test.py
tornado/web.py
==================
2d683cd9;Ben Darnell;2013-05-18 16:34:10 -0400;Add PATCH and OPTIONS support by default to curl_httpclient.
Add some tests to cover all the standard (and non-standard) http methods.

Closes #792.

==

tornado/curl_httpclient.py
tornado/test/httpclient_test.py
tornado/test/web_test.py
==================
4791695b;Ben Darnell;2013-05-18 16:03:45 -0400;Remove redundant call to find_named_blocks in template processing.
self._get_ancestors already returns self.file in the appropriate position.

Closes #791.

==

tornado/template.py
==================
640db694;David Wolever;2013-05-18 16:00:06 -0400;Fixing errant paren, missing format value

==

tornado/httputil.py
tornado/web.py
==================
907216ea;David Wolever;2013-05-18 15:30:41 -0400;Return HTTP 416 Range Not Satisfiable, not 406

==

tornado/test/web_test.py
tornado/web.py
==================
225aceb6;A. Jesse Jiryu Davis;2013-05-17 12:01:22 -0400;Replace options.as_dict() with group_dict()

==

tornado/options.py
tornado/test/options_test.py
==================
f253bea3;A. Jesse Jiryu Davis;2013-05-17 09:49:05 -0400;options[key] should return a value, not an _Option instance

==

tornado/options.py
tornado/test/options_test.py
==================
802bb9c6;David Wolever;2013-05-17 00:34:36 -0400;Handle negative byte ranges

==

tornado/httputil.py
tornado/test/web_test.py
==================
167acb0f;David Wolever;2013-05-17 00:11:40 -0400;Tests for Range header

==

tornado/test/web_test.py
==================
b9352f8a;David Wolever;2013-05-17 00:11:22 -0400;Set Accept-Range header, return 406 on invalid range

==

tornado/web.py
==================
54d7594b;Ben Darnell;2013-05-17 00:08:33 -0400;Merge branch 'branch3.0'

==
==================
6fce4f80;Ben Darnell;2013-05-17 00:07:25 -0400;Dereference the current YieldPoint as soon as it resolves.
These references could otherwise keep a chain of old references alive
(test code: https://groups.google.com/group/python-tornado/browse_thread/thread/37d3928817e4924d)

==

tornado/gen.py
==================
6f2ac240;David Wolever;2013-05-16 23:59:30 -0400;Fix bytes/str issues

==

tornado/test/web_test.py
==================
2e79c063;Ben Darnell;2013-05-16 22:56:14 -0400;Add test for option redefinition error.

==

tornado/test/options_test.py
==================
02e9e68f;David Wolever;2013-05-16 19:37:30 -0400;(incomplete) Honnoring Range request header

==

tornado/httputil.py
tornado/web.py
==================
5dd18d30;David Wolever;2013-05-16 18:45:06 -0400;Use 'get_version' to calculate static file hashes.

==

tornado/test/web_test.py
tornado/web.py
==================
5868b7ed;A. Jesse Jiryu Davis;2013-05-16 14:14:27 -0400;Make options instance more dict-like.

==

tornado/options.py
tornado/test/options_test.py
==================
91a2a059;cloudaice;2013-05-16 11:06:41 +0200;comparison to None should be 'if cond is not None'

==

tornado/options.py
==================
66b5db04;cloudaice;2013-05-16 10:54:37 +0200;fixed bug when raise error in options

==

tornado/options.py
==================
81935f56;项超;2013-05-16 01:44:45 -0700;Merge pull request #1 from facebook/master
merge master from facebook tornado
==
==================
833d6975;Ben Darnell;2013-05-15 22:47:35 -0400;Add a close method to Resolver and use it where necessary.
This fixes a thread leak when running the test suite with
ThreadedResolver.

==

tornado/concurrent.py
tornado/netutil.py
tornado/simple_httpclient.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/simple_httpclient_test.py
tornado/websocket.py
==================
34a28586;Ben Darnell;2013-05-15 21:44:34 -0400;Add a missing stack_context.wrap in SSLIOStream.connect.
Run some of simple_httpclient test in both HTTP and HTTPS modes, which
would have detected this bug.

Closes #787.

==

tornado/iostream.py
tornado/test/simple_httpclient_test.py
==================
6f9cbabe;Ben Darnell;2013-05-13 00:49:16 -0400;Release note updates

==

docs/releases/next.rst
==================
582106b9;Ben Darnell;2013-05-13 00:08:04 -0400;Remove whitespace/control-character check from RequestHandler.redirect.
Control characters (and newlines and tabs) will be caught in
set_header (which will raise an exception instead of silently
stripping them).  Spaces will now be allowed through, producing
invalid urls, but at least they won't mess up the header framing.

Closes #617.

==

tornado/web.py
==================
a6d158f1;Ben Darnell;2013-05-12 23:32:24 -0400;Clean up cancelled timeout handles when the queue gets full of them.
Based on a patch by Giampaolo Radola:
https://github.com/facebook/tornado/issues/408

Closes #408.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
6b8a38f0;Ben Darnell;2013-05-12 20:26:44 -0400;Respect HTTPServer's no_keep_alive option in RequestHandler.clear.
Also make the keep-alive header check case-insensitive for consistency
with the corresponding code in HTTPServer.

Fixes #31.

==

tornado/web.py
==================
8b0f5d6c;Ben Darnell;2013-05-12 20:02:54 -0400;Allow handlers to assign to self.current_user

==

tornado/test/web_test.py
tornado/web.py
==================
ca8495d9;Ben Darnell;2013-05-12 19:34:12 -0400;Allow prepare to be asynchronous, and detect coroutines by their result.
The prepare method does not use the @asynchronous decorator, only
@gen.coroutine (or @return_future; it detects the Future return type).
The same logic is now available for the regular http verb methods as well.

Closes #605.

==

docs/web.rst
tornado/test/gen_test.py
tornado/web.py
==================
5c47e5d5;Ben Darnell;2013-05-12 19:32:20 -0400;Don't try sending another error response in _handle_request_exception if the stack context catches an error after the request is done.
(this may be related to the error discussed in the comments of #751)

==

tornado/test/web_test.py
tornado/web.py
==================
e2896587;Ben Darnell;2013-05-12 18:08:23 -0400;Release note and doc updates

==

docs/iostream.rst
docs/releases/next.rst
docs/testing.rst
docs/web.rst
docs/websocket.rst
tornado/websocket.py
==================
e6aaaf01;bdarnell;2013-05-12 13:36:56 -0700;Merge pull request #748 from wsantos/fix732
Add max_buffer_size argument to TCPServer's constructor
==
==================
47ab0ce2;Ben Darnell;2013-05-12 16:24:19 -0400;Check for ECONNRESET in addition to EPIPE on send().
ECONNRESET appears to be the error code used here on Windows.

Closes #757.
Closes #758.

==

tornado/iostream.py
==================
ea37c2ac;bdarnell;2013-05-12 13:16:13 -0700;Merge pull request #784 from tahajahangir/patch-1
Don't log EPIPE (broken pipe) errors as warnings
==
==================
917fe80f;Ben Darnell;2013-05-12 16:12:27 -0400;Use plus=False when constructing and decoding url paths.

==

tornado/test/web_test.py
tornado/web.py
tornado/wsgi.py
==================
7056d6fb;Ben Darnell;2013-05-12 15:48:52 -0400;Add a 'plus' argument to url_{un,}escape, defaulting to True.
Closes #25.

==

tornado/escape.py
tornado/test/escape_test.py
==================
0b397cce;Taha Jahangir;2013-05-12 22:46:13 +0430;Don't log EPIPE (broken pipe) errors as warnings
Broken pipe errors are usually caused by connection reset, and its better to not log EPIPE errors to minimize log spam
==

tornado/iostream.py
==================
3305d192;Ben Darnell;2013-05-12 13:17:20 -0400;Add a run_with_stack_context function to more easily use stack contexts in coroutines.

==

tornado/stack_context.py
tornado/test/stack_context_test.py
==================
4dee9157;Ben Darnell;2013-05-12 12:47:27 -0400;Add a distinct MissingArgumentError class for get_argument.
Closes #782.

==

docs/web.rst
tornado/test/web_test.py
tornado/web.py
==================
5f98cfd2;Ben Darnell;2013-05-12 12:37:11 -0400;Move _UIModuleNamespace from the top of web.py to the UIModule implementation.

==

tornado/web.py
==================
0d91e8b4;bdarnell;2013-05-10 18:45:33 -0700;Merge pull request #783 from gwk/master
Add note about handler regex capture to StaticFileHandler documentation.
==
==================
f3f59420;gwk;2013-05-10 17:32:28 -0400;Added note regarding regex group capture to StaticFileHandler docs.

==

tornado/web.py
==================
833fb21c;bdarnell;2013-05-08 20:47:57 -0700;Merge pull request #777 from mauriciosl/master
bind_unused_port raising gaierror: [Errno 8]
==
==================
10cb3988;Ben Darnell;2013-05-08 22:40:27 -0400;Add note about frequently-seen pull request to add **kwargs to json_encode.

==

tornado/escape.py
==================
c54c0bf6;bdarnell;2013-05-07 21:31:46 -0700;Merge pull request #780 from keakon/patch-1
add missing parameter doc
==
==================
2a727d91;bdarnell;2013-05-07 21:31:15 -0700;Merge pull request #779 from clowwindy/master
fix a typo in httpclient docs
==
==================
fb4a1c4e;keakon;2013-05-08 11:44:12 +0800;add missing parameter doc

==

tornado/httpclient.py
==================
896d8ac4;clowwindy;2013-05-08 11:28:03 +0800;Update httpclient.py
fix typo
==

tornado/httpclient.py
==================
dceb544f;Mauricio Souza Lima;2013-05-07 18:00:23 -0300;change bind_unused_port to pass None as port
bind_unused_port was passing 0 as port number to the socket module.
This generated some exceptional behaviour on systems where nslookup of
localhost didn't returned the loopback interface.

==

tornado/testing.py
==================
84bd64bd;Ben Darnell;2013-05-05 12:58:34 -0400;Create UIModule proxies on demand instead of in RequestHandler init.
It would be nice to do something similar for UI methods, but it's tricker
and they are less common (there are three UIModules defined by default
for every handler).

==

tornado/web.py
==================
4eacb896;Ben Darnell;2013-05-05 12:31:30 -0400;Add a test that covers creation and binding of UIModules and methods.

==

tornado/test/web_test.py
==================
671f9924;Ben Darnell;2013-05-05 11:46:55 -0400;Precompile the regex used on severy set_header call.
The regex was cached by the re module, but the overhead of looking it
up in the cache added up to almost 1% of the time in benchmark.py.

==

tornado/web.py
==================
28746b94;Ben Darnell;2013-05-05 10:45:36 -0400;Rewrite HTTPHeaders normalization to limit the growth of the cache.
Reorganize the code into a dict subclass for speed: cache hits are now
just a dict lookup, with no python function call.  (this saves about 1%
on demos/benchmark/benchmark.py on cpython 2.7)

Remove the regex-based fast path, which has not had any real impact since
we added the dict cache.

==

tornado/httputil.py
==================
91fd578d;Ben Darnell;2013-05-05 10:18:13 -0400;Catch and ignore EINVAL errors from setsockopt.
This seems to happen a lot in benchmark runs when sockets are closed
after a request.

==

tornado/iostream.py
==================
56e56f2a;Ben Darnell;2013-05-05 09:55:37 -0400;Clear the NODELAY flag in set_nodelay(False).

==

tornado/iostream.py
==================
0fe807b5;Ben Darnell;2013-05-04 21:50:31 -0400;Add an interface to set the TCP_NODELAY flag on an IOStream.
Use this flag from simple_httpclient (always) and httpserver (when a complete
response is available), and add an accessor for WebSocketHandler.

Also make simple_httpclient send headers and body in a single
IOStream.write call.

==

tornado/httpserver.py
tornado/iostream.py
tornado/simple_httpclient.py
tornado/websocket.py
==================
1b4556f1;Ben Darnell;2013-05-04 00:13:53 -0400;Add overrideable method RequestHandler.log_exception.
Most apps that currently override _handle_request_exception can now
use a combination of log_exception and write_error.

Closes #730.

==

tornado/test/web_test.py
tornado/web.py
==================
8512ec47;Ben Darnell;2013-05-03 22:45:12 -0400;Update docs for AsyncTestCase to make @gen_test more prominent.

==

tornado/testing.py
==================
5cb85426;Ben Darnell;2013-04-30 23:37:37 -0400;Add an exception handler in _try_inline_read to ensure close_callback is run.
This is probably just a stopgap until some larger refactoring around
pending_callbacks, but will help with the max_buffer_size leak.

==

tornado/iostream.py
==================
c633aa50;Ben Darnell;2013-04-30 23:01:54 -0400;Fix another case in which streaming read_until_close passed data to the final callback.
Closes #774.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
a9b1e8b3;Ben Darnell;2013-04-29 00:08:41 -0400;Release note updates.

==

docs/releases/next.rst
==================
12780c1f;Ben Darnell;2013-04-28 23:25:23 -0400;Fix a memory leak in HTTPServer with very large file uploads.
This is not quite a true leak since the garbage collector will
reclaim everything when it runs, but it might as well be a leak
because CPython's garbage collector uses heuristics based on the
number of allocated objects to decide when to run.  Since this
scenario resulted in a small number of very large objects, the process
could consume a large amount of memory.

The actual change is to ensure that HTTPConnection always sets a
close_callback on the IOStream instead of waiting for the Application
to set one.  I also nulled out a few more references to break up cycles.

Closes #740.
Closes #747.
Closes #760.

==

tornado/httpserver.py
==================
8fdd57d2;Ben Darnell;2013-04-28 18:40:31 -0400;Fix locale.format_date on python 3.
There's probably more work to be done on this largely-untested code,
but this was the case I could find by grepping for stray references
to `long`.

==

tornado/locale.py
tornado/test/locale_test.py
==================
1a1b0498;Ben Darnell;2013-04-28 18:31:57 -0400;Prefix all "reserved" names used by the template system with _tt_ to avoid collisions with user-defined names.
Inspired by #768.

==

tornado/template.py
tornado/test/template_test.py
tornado/web.py
==================
9b28d605;Ben Darnell;2013-04-28 18:17:15 -0400;Use weakrefs instead of __del__ in reference cycle test.
This avoids an awkward and otherwise meaningless use of Task(None).

==

tornado/test/gen_test.py
==================
572a400a;Ben Darnell;2013-04-28 18:10:16 -0400;Merge remote-tracking branch 'homm/master'

==
==================
cf59ed64;homm;2013-04-29 01:32:53 +0400;Use add_callback to trigger ioloop in test.

==

tornado/test/gen_test.py
==================
a2d2eb2c;Ben Darnell;2013-04-28 17:29:26 -0400;Add a --debug_gc flag to runtests to easily turn on extra logging.

==

tornado/test/runtests.py
==================
13aa5a18;Ben Darnell;2013-04-28 17:28:02 -0400;Fix options with multiple=True on python 3; add tests.

==

tornado/options.py
tornado/test/options_test.py
==================
3acb7494;homm;2013-04-29 00:28:03 +0400;Fix typo.

==

tornado/test/gen_test.py
==================
d1cc3c99;homm;2013-04-28 23:25:28 +0400;Avoid circular references in StackContext and ExceptionStackContext.

==

tornado/stack_context.py
==================
b4f36e70;homm;2013-04-28 21:35:48 +0400;Remove reference to last task and his arguments in engine to free memory.

==

tornado/gen.py
tornado/test/gen_test.py
==================
520b02f3;Ben Darnell;2013-04-28 12:17:00 -0400;Fix resolver implementation on Solaris.
Closes #766.

==

tornado/netutil.py
==================
0bb4d9b9;Ben Darnell;2013-04-27 22:54:55 -0400;Catch additional errors to prevent warnings logged when connections are closed immediately after opening.
Closes #750.

==

tornado/iostream.py
tornado/netutil.py
tornado/tcpserver.py
==================
2faa4b61;Waldecir Santos;2013-04-24 13:30:43 -0300;Corrected or logic to make use of max_buffer_size if it is setted

==

tornado/iostream.py
==================
1ec7dfe2;Waldecir Santos;2013-04-17 15:00:09 -0300;Expose IOStream's max_buffer_size, so we can set it in TCPServer and others.

==

tornado/iostream.py
tornado/tcpserver.py
==================
13ee29d1;bdarnell;2013-04-23 20:21:50 -0700;Merge pull request #752 from oyerli/patch-1
Unnecessary MozWebSocket in the WebSocket demo
==
==================
54916851;Ben Darnell;2013-04-23 23:17:24 -0400;Don't try to run HTTPConnection._close_callback if it is None.
This was the case for WSGIContainer.

Closes #751.

==

tornado/httpserver.py
==================
1a3eb799;bdarnell;2013-04-23 19:13:34 -0700;Merge pull request #745 from davidwilemski/xheaders
support ip lists in X-Forwarded-For headers
==
==================
449652b6;Ozan Yerli;2013-04-21 21:30:23 +0300;Unnecessary MozWebSocket in the WebSocket demo
WebSocket is implemented in all modern web browsers.
==

demos/websocket/static/chat.js
==================
e23cbd47;David Wilemski;2013-04-18 14:20:37 -0400;support ip lists in X-Forwarded-For headers

==

tornado/httpserver.py
tornado/test/httpserver_test.py
==================
e4bba5ce;Ben Darnell;2013-04-18 10:40:20 -0400;Expand docs for @asynchronous decorator and other cleanups.
Closes #742.

==

docs/web.rst
tornado/gen.py
tornado/testing.py
tornado/web.py
==================
efeb3500;Ben Darnell;2013-04-18 09:33:57 -0400;Fix the same typo in docs/index.rst

==

docs/index.rst
==================
40a53533;bdarnell;2013-04-18 06:33:39 -0700;Merge pull request #739 from eguven/master
Fix typo in README
==
==================
9cb9fd9b;Eren Güven;2013-04-18 10:26:08 +0300;Fix typo in README

==

README.rst
==================
0d44009c;bdarnell;2013-04-17 20:33:18 -0700;Merge pull request #723 from ajdavis/gen-test-timeout
Make gen_test's timeout configurable
==
==================
d80fa56c;MinRK;2013-04-15 18:12:48 -0700;use getattr to check for close method in IOLoop.close
instead of catching AttributeError directly
==

tornado/ioloop.py
==================
a4279d24;MinRK;2013-04-15 11:36:58 -0700;try close method to close FDs in IOLoop
If an object has a `close` method, use that first,
then fallback on `os.close`.

This is useful in subclasses that support polling things (zmq sockets, specifically)
that are not simple FDs (and Jython, I hear?).

==

tornado/ioloop.py
==================
688afb5c;Ben Darnell;2013-04-14 17:03:46 -0400;Start a new next-release-notes file

==

docs/releases.rst
docs/releases/next.rst
==================
eb710ff0;Ben Darnell;2013-04-14 16:07:40 -0400;Fix the import_object ImportError on Python 3.
Python 3 also changed exception messages slightly so remove one case
from the doctest.

==

tornado/util.py
==================
55d33945;Ben Darnell;2013-04-14 16:03:08 -0400;Merge remote-tracking branch 'kachayev/import-object'

==
==================
2744f370;Ben Darnell;2013-04-14 15:58:02 -0400;Break up a reference cycle with RequestHandler.ui when handler exits cleanly.
This is not strictly necessary, but allows for CPython's refcounting
GC to reclaim the handler sooner than waiting for a full GC.

Closes #383.

==

tornado/web.py
==================
3e4b4cac;Ben Darnell;2013-04-14 15:42:24 -0400;Break reference cycle between WebSocketHandler and WebSocketProtocol on close.
This isn't strictly necessary, but it allows the refcounting CPython GC
to clean things up without waiting for a full GC.

Closes #382.

==

tornado/websocket.py
==================
6e00a75a;Ben Darnell;2013-04-14 15:31:50 -0400;Always send oauth_version=1.0, even when using 1.0a.
This is required by the spec (http://oauth.net/core/1.0/#auth_step1).
Many providers (including Google and Twitter) allow a value of either
1.0 or 1.0a here, but e.g. LinkedIn requires 1.0.

Closes #236.

==

tornado/auth.py
tornado/test/auth_test.py
==================
227ca881;Ben Darnell;2013-04-14 13:58:55 -0400;Add link to PDF docs.

==

docs/documentation.rst
==================
0d80ca78;Ben Darnell;2013-04-13 20:39:24 -0400;Merge commit '0771f'

==
==================
8ca13ef0;Ben Darnell;2013-04-13 20:35:24 -0400;Handle malformed headers more gracefully.
Closes #699.

==

tornado/httpserver.py
tornado/test/httpserver_test.py
==================
75a29468;bdarnell;2013-04-13 17:15:11 -0700;Merge pull request #693 from apieceofredcloth/master
Allow lists as well as tuples in handler definitions
==
==================
8eacd5ba;Ben Darnell;2013-04-13 19:35:39 -0400;Document the fact that auth_mode="digest" only works with curl.
Add check in simple_httpclient that only basic mode is used.

==

tornado/curl_httpclient.py
tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/httpclient_test.py
==================
98b0262d;bdarnell;2013-04-13 16:21:03 -0700;Merge pull request #700 from icaromedeiros/master
Digest authentication for curl_httpclient
==
==================
e0e8f7e1;Ben Darnell;2013-04-13 18:22:16 -0400;Merge remote-tracking branch 'mrjoes/perf'

==
==================
d2457ec1;Ben Darnell;2013-04-13 18:15:49 -0400;Parse if-modified-since timestamps without going through time_t or local time.
This fixes a bug on windows in which mktime cannot work with times before
the epoch.

Closes #713.

==

tornado/test/web_test.py
tornado/web.py
==================
7485f2a0;Serge S. Koval;2013-04-14 00:28:36 +0300;_handle_exception in testing.py ignores passed exception

==

tornado/testing.py
==================
4059df20;Ben Darnell;2013-04-13 17:20:07 -0400;Ignore negative return values from CurlMulti.timeout.
pycurl has a wraparound bug that can turn very large timeouts into
negative numbers.

Closes #712.

==

tornado/curl_httpclient.py
==================
78d9cc65;Serge S. Koval;2013-04-14 00:02:49 +0300;Don't use range for performance reasons

==

tornado/stack_context.py
==================
f716564d;Serge S. Koval;2013-04-14 00:00:27 +0300;Use range instead of xrange

==

tornado/stack_context.py
==================
74c6075d;Ben Darnell;2013-04-13 16:39:58 -0400;Fix escaping error in blog demo
Closes #726.

==

demos/blog/templates/base.html
==================
fd728664;Serge S. Koval;2013-04-13 23:12:37 +0300;Comparison fix

==

tornado/stack_context.py
==================
681e76a4;Serge S. Koval;2013-04-13 23:09:50 +0300;Optimized StackContext implementation

==

tornado/gen.py
tornado/stack_context.py
tornado/test/gen_test.py
tornado/test/stack_context_test.py
==================
62dde35e;A. Jesse Jiryu Davis;2013-04-13 14:31:07 -0400;Configurable timeout for gen_test and AsyncTestCase.wait()

==

tornado/test/testing_test.py
tornado/testing.py
==================
526f94e5;A. Jesse Jiryu Davis;2013-04-13 14:29:22 -0400;testing_test style cleanup

==

tornado/test/testing_test.py
==================
741e9c8e;A. Jesse Jiryu Davis;2013-04-12 15:40:33 -0400;Fix and simplify testing of gen_test

==

tornado/test/testing_test.py
==================
bf21f83c;A. Jesse Jiryu Davis;2013-04-12 15:39:43 -0400;gen_test requires `timeout` passed as a keyword argument

==

tornado/testing.py
==================
7cb8072e;Ben Darnell;2013-04-12 10:15:21 -0400;Bump version number in the master branch

==

setup.py
tornado/__init__.py
==================
cab39beb;A. Jesse Jiryu Davis;2013-04-11 15:17:26 -0400;Make gen_test's timeout configurable

==

tornado/test/testing_test.py
tornado/testing.py
==================
8b728248;Ben Darnell;2013-04-10 23:53:58 -0400;Re-add google webmaster tools site verification code.

==

docs/index.rst
==================
e5559087;Ben Darnell;2013-04-08 23:26:51 -0400;Set version number to 3.0.1

==

setup.py
tornado/__init__.py
==================
1e69faa1;Ben Darnell;2013-04-08 23:11:08 -0400;Make the websocket_connect error handling more comprehensive.
Now covers successful http responses that return a non-websocket body
and network errors that prevent a body from being returned.

Added a connect_timeout parameter to websocket_connect.

==

docs/releases/v3.0.1.rst
tornado/test/websocket_test.py
tornado/websocket.py
==================
cc745780;bdarnell;2013-04-08 19:49:29 -0700;Merge pull request #707 from protoss-player/master
websocket_connect should not hang on HTTP errors
==
==================
f229efbf;Ben Darnell;2013-04-08 22:46:30 -0400;Update debug mode docs.

==

docs/overview.rst
==================
5b3e9ec4;Ben Darnell;2013-04-08 22:22:34 -0400;Add 3.0.1 release notes.

==

docs/releases.rst
docs/releases/v3.0.1.rst
==================
d42ccf03;bdarnell;2013-04-08 19:00:19 -0700;Merge pull request #704 from chrislea/master
Add check for ssl.CertificateError in netutil.py
==
==================
6e63b238;Ben Darnell;2013-04-08 21:47:35 -0400;HTTPResponse.request should always be an HTTPRequest, never a _RequestProxy.
Closes #718.

==

tornado/httpclient.py
tornado/test/httpclient_test.py
==================
fedb7f68;bdarnell;2013-04-08 18:14:26 -0700;Merge pull request #720 from wsantos/facebook_future
Add future interface to FacebookGraphMixin
==
==================
5a42c4b9;Waldecir Santos;2013-04-08 15:41:09 -0300;Add future interface to FacebookGraphMixin

==

tornado/auth.py
==================
d02b031b;Ben Darnell;2013-04-07 13:07:23 -0400;Add an ioloop command line flag to the benchmark script.

==

demos/benchmark/benchmark.py
==================
0de3de6f;Ben Darnell;2013-04-04 22:30:52 -0400;Update pyuv test for latest version of pyuv and tornado-pyuv

==

maint/test/pyuv/tox.ini
==================
218ec037;Ben Darnell;2013-04-02 20:29:34 -0400;Fix precedence of StringIO imports for LogTrapTestCase.
io.StringIO doesn't allow byte strings even on python 2, which causes
it to fail with the standard log formatter (but not tornado's "pretty
logging").

Closes #708.

==

tornado/testing.py
==================
1ebd2457;Vadim Semenov;2013-04-02 19:27:26 +0400;tests: test for websocket_connect failure

==

tornado/test/websocket_test.py
==================
fc967002;Ben Darnell;2013-04-02 00:11:10 -0400;Set the __test__ attribute on gen_test to False.
Without this, if a nose-using project imported gen_test nose would try
to run it as a test.

==

tornado/testing.py
==================
a69a43b5;Vadim Semenov;2013-04-02 03:03:12 +0400;websocket_connect: don't hang on HTTP errors

==

tornado/websocket.py
==================
85478c54;Ben Darnell;2013-03-31 18:34:48 -0400;Fix exceptions in the gen module to work correctly with tuple keys.
Previously this would result in a TypeError instead of the intended exception.

==

tornado/gen.py
tornado/test/gen_test.py
==================
476767c4;Ben Darnell;2013-03-31 17:45:19 -0400;Merge branch 'branch3.0'

==
==================
86c07fb4;Ben Darnell;2013-03-31 17:44:22 -0400;Copy the notice about dict-style access to options to the backwards-compat section.

==

docs/releases/v3.0.0.rst
==================
a8d8c38e;Chris Lea;2013-03-29 15:33:02 -0700;add check for ssl.CertificateError

==

tornado/netutil.py
==================
6a8bfce5;Ben Darnell;2013-03-29 09:48:45 -0400;Include readme in the setup.py long_description field.
This should let pypi pick it up automatically on upload.

==

MANIFEST.in
setup.py
==================
bba0838e;Ben Darnell;2013-03-29 09:47:52 -0400;Bump version number in the master branch

==

setup.py
tornado/__init__.py
==================
c64d3d15;Ben Darnell;2013-03-29 09:32:15 -0400;Pypi's rst rendering doesn't like it when the same anchortext is reused for different targets.

==

README.rst
==================
6c6b72f3;Ben Darnell;2013-03-29 09:02:04 -0400;Set version number to 3.0

==

setup.py
tornado/__init__.py
==================
660f75fa;Ben Darnell;2013-03-29 09:01:44 -0400;Finalize 3.0 release notes.

==

docs/releases.rst
docs/releases/v3.0.0.rst
==================
c3cc5563;Ben Darnell;2013-03-29 08:55:39 -0400;Downloads are now hosted on pypi instead of github.

==

docs/conf.py
setup.py
==================
4cdf3007;Ben Darnell;2013-03-28 00:13:20 -0400;Fix another broken link on readme.

==

README.rst
==================
144968b1;Ben Darnell;2013-03-28 00:12:10 -0400;Fix rst markup in readme

==

README.rst
==================
06e6c078;Ben Darnell;2013-03-28 00:11:06 -0400;Replace the outdated README.md with a lightly-edited version of docs/index.rst

==

README.md
README.rst
==================
9a193ae5;Ben Darnell;2013-03-27 23:29:01 -0400;Update pypi description field.

==

setup.py
==================
dd388bf1;Ben Darnell;2013-03-27 22:55:04 -0400;Fix options.parse_config_file on Python 3.
Add a test for this function.

Closes #702.

==

MANIFEST.in
setup.py
tornado/options.py
tornado/test/options_test.cfg
tornado/test/options_test.py
==================
e48cf355;Ben Darnell;2013-03-24 23:22:20 -0400;Bump version to 3.0b2

==

setup.py
tornado/__init__.py
==================
646f92fc;Ben Darnell;2013-03-24 23:21:08 -0400;Delete HTTPConnection._close_callback in between requests.
Previously the close callback would cause a reference to the previous
RequestHandler to be retained while waiting for the next request.

==

tornado/httpserver.py
==================
e00e4c61;Ben Darnell;2013-03-23 21:25:14 -0400;Fix error handling with the combination of @asynchronous and @gen.coroutine.
Also make self.finish() optional for coroutines since we can finish
if the future resolves successfully.

==

tornado/test/gen_test.py
tornado/web.py
==================
e8bc6afd;icaromedeiros;2013-03-22 11:24:49 -0300;digest authentication

==

tornado/curl_httpclient.py
tornado/httpclient.py
==================
8ddc760f;Ben Darnell;2013-03-18 20:52:23 -0400;Fix draft76 websocket protocol; fix websocket demo for python 3.

==

demos/websocket/chatdemo.py
tornado/websocket.py
==================
b5a27a3a;Ben Darnell;2013-03-17 13:42:12 -0400;Document tornado.concurrent.Future.
All internal links now point there instead of to concurrent.future.Futures.

==

docs/concurrent.rst
docs/gen.rst
docs/releases/next.rst
tornado/auth.py
tornado/concurrent.py
tornado/gen.py
tornado/httpclient.py
tornado/ioloop.py
tornado/netutil.py
==================
004bf1c3;Ben Darnell;2013-03-16 19:34:01 -0400;Bump version number to 3.0b1

==

setup.py
tornado/__init__.py
==================
813f89cf;Ben Darnell;2013-03-16 19:12:20 -0400;Convert auth demo to coroutines.

==

demos/auth/authdemo.py
==================
088489ab;Ben Darnell;2013-03-16 19:05:11 -0400;Move gen from "utilities" to "asynchronous networking"

==

docs/networking.rst
docs/utilities.rst
==================
6bf30d08;Ben Darnell;2013-03-16 18:52:07 -0400;Add/update docs for twisted, caresresolver, and util modules

==

docs/caresresolver.rst
docs/integration.rst
docs/releases/next.rst
docs/twisted.rst
docs/util.rst
docs/utilities.rst
tornado/netutil.py
tornado/platform/caresresolver.py
tornado/platform/twisted.py
tornado/util.py
==================
8525507e;Ben Darnell;2013-03-16 18:01:57 -0400;Doc updates: modules starting with W.

==

tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
17c0e496;Ben Darnell;2013-03-16 13:43:04 -0400;Skip ThreadedResolver tests on pypy.
There seem to be problems with thread/signal interactions.

==

.travis.yml
==================
693ebbe1;Ben Darnell;2013-03-16 13:13:58 -0400;Doc updates, modules N-T.

==

tornado/netutil.py
tornado/options.py
tornado/process.py
tornado/stack_context.py
tornado/tcpserver.py
tornado/template.py
tornado/testing.py
==================
c11f8d0e;Ben Darnell;2013-03-16 11:50:31 -0400;Doc updates, modules H-L

==

docs/httpclient.rst
docs/ioloop.rst
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
==================
e4feeba2;Ben Darnell;2013-03-16 10:34:00 -0400;Turn on dangling-reference warning in sphinx for local builds.
Reformat the HTTPFile docs where were causing odd reference errors.

==

docs/Makefile
tornado/httputil.py
==================
ae61c719;Ben Darnell;2013-03-16 01:41:50 -0400;Fix dangling references in old release notes.

==

docs/releases/v2.1.0.rst
docs/releases/v2.2.0.rst
docs/releases/v2.2.1.rst
docs/releases/v2.3.0.rst
docs/releases/v2.4.0.rst
docs/releases/v2.4.1.rst
==================
1d698551;Ben Darnell;2013-03-16 01:25:22 -0400;Fix docstring for locale.load_translations.
When unicode strings started using the u() function, this string
was no longer considered a docstring.

==

tornado/locale.py
==================
9f3dec0c;Ben Darnell;2013-03-16 01:21:53 -0400;Fix most of the rest of the dangling references.

==

docs/tcpserver.rst
docs/twisted.rst
docs/web.rst
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/netutil.py
tornado/options.py
tornado/process.py
tornado/stack_context.py
tornado/tcpserver.py
tornado/template.py
tornado/testing.py
tornado/web.py
tornado/websocket.py
==================
974c229c;Ben Darnell;2013-03-16 00:52:04 -0400;Update chat demo to be more exemplary.
Use gen.coroutine in auth handler (but not in wait_for_messages
because it makes things less clear and we don't have good cancellation
support).  No more mixin.  Python 3 compatible.

==

demos/chat/chatdemo.py
==================
53fc8fd3;Ben Darnell;2013-03-16 00:18:46 -0400;Rewrite gen docs to make coroutine the primary decorator.

==

docs/conf.py
docs/gen.rst
tornado/gen.py
==================
9c1b189f;Ben Darnell;2013-03-15 23:29:42 -0400;Fix dangling links in next.rst

==

docs/releases/next.rst
==================
b166bdf4;Ben Darnell;2013-03-15 23:09:49 -0400;Fix dangling references in recently-revised docs.

==

docs/index.rst
tornado/auth.py
tornado/autoreload.py
tornado/concurrent.py
==================
0984b2cf;Ben Darnell;2013-03-15 22:56:03 -0400;Turn on intersphinx support for links to the standard library.

==

docs/conf.py
==================
f7a2fad7;Ben Darnell;2013-03-15 22:46:51 -0400;Minor doc updates for modules A-E

==

tornado/autoreload.py
tornado/concurrent.py
tornado/curl_httpclient.py
tornado/escape.py
==================
d577bc51;Ben Darnell;2013-03-15 22:24:13 -0400;Convert auth module code samples to use gen.coroutine.

==

tornado/auth.py
==================
950d7d38;Ben Darnell;2013-03-15 22:16:37 -0400;Doc updates for the auth module.

==

docs/auth.rst
tornado/auth.py
==================
059f0e8d;Ben Darnell;2013-03-14 23:45:48 -0400;Rename WebSocketConnect to websocket_connect.
Add docs for undocumented functions and modules.

==

docs/concurrent.rst
docs/ioloop.rst
docs/networking.rst
docs/releases/next.rst
docs/tcpserver.rst
docs/utilities.rst
docs/websocket.rst
tornado/concurrent.py
tornado/httpserver.py
tornado/ioloop.py
tornado/netutil.py
tornado/test/websocket_test.py
tornado/websocket.py
==================
6e3c288e;Ben Darnell;2013-03-14 23:07:58 -0400;Add new methods to docs, found by sphinx coverage extension.

==

docs/gen.rst
docs/ioloop.rst
docs/testing.rst
tornado/testing.py
==================
ebac4c0d;Ben Darnell;2013-03-14 22:44:18 -0400;Fix bad merge

==

tornado/httputil.py
==================
ae166d72;Ben Darnell;2013-03-14 21:36:34 -0400;Merge remote-tracking branch 'norman-labs/branch2.4'
Conflicts:
	tornado/httputil.py

==
==================
0771f8c8;Vladlen Y. Koshelev;2013-03-13 19:21:23 +0400;Add hooks for HTTPClient and HTTPConnection customization.

==

tornado/simple_httpclient.py
==================
330d8ecf;bdarnell;2013-03-12 18:54:24 -0700;Merge pull request #695 from evanj/master
httpserver: If no X-Scheme header, use the normal request value.
==
==================
081af7c4;Evan Jones;2013-03-12 16:23:52 -0400;httpserver: If no X-Scheme header, use the normal request value.
Previously, if xheaders is True and there are no X headers passed (e.g. when
developing locally), scheme was always "http". This makes in "http" or
"https", based on what was actually used for the request.

Add tests for the X-Scheme and X-Forwarded-Proto headers.

==

tornado/httpserver.py
tornado/test/httpserver_test.py
==================
16932d8c;Ben Darnell;2013-03-10 23:04:06 -0400;Rewrite text on index page.

==

docs/index.rst
==================
1dad2811;yushengjun;2013-03-11 10:54:05 +0800;update the statement of testing if a handler is a list or tuple

==

tornado/web.py
==================
22756928;Ben Darnell;2013-03-10 21:32:36 -0400;Build pdfs from documentation.rst, not index.rst

==

docs/conf.py
==================
abc5780a;Ben Darnell;2013-03-10 19:11:59 -0400;Just skip all timing-sensitive tests on travis-ci.

==

tornado/test/gen_test.py
tornado/test/ioloop_test.py
tornado/test/simple_httpclient_test.py
tornado/test/util.py
==================
d2a9b85d;Ben Darnell;2013-03-10 16:49:19 -0400;Fix internal links for pdf output.

==

docs/index.rst
docs/tornado.css
==================
4ea711af;Ben Darnell;2013-03-10 16:24:38 -0400;Fix sphinx config in its new home, restore Makefile and custom css.

==

docs/Makefile
docs/conf.py
docs/releases/next.rst
docs/tornado.css
==================
5872959a;Ben Darnell;2013-03-10 16:05:20 -0400;Move website/sphinx/ to docs/, remove rest of appengine website dir.

==

docs/auth.rst
docs/autoreload.rst
docs/conf.py
docs/documentation.rst
docs/escape.rst
docs/favicon.ico
docs/gen.rst
docs/httpclient.rst
docs/httpserver.rst
docs/httputil.rst
docs/index.rst
docs/integration.rst
docs/ioloop.rst
docs/iostream.rst
docs/locale.rst
docs/log.rst
docs/netutil.rst
docs/networking.rst
docs/options.rst
docs/overview.rst
docs/process.rst
docs/releases.rst
docs/releases/next.rst
docs/releases/v1.0.0.rst
docs/releases/v1.0.1.rst
docs/releases/v1.1.0.rst
docs/releases/v1.1.1.rst
docs/releases/v1.2.0.rst
docs/releases/v1.2.1.rst
docs/releases/v2.0.0.rst
docs/releases/v2.1.0.rst
docs/releases/v2.1.1.rst
docs/releases/v2.2.0.rst
docs/releases/v2.2.1.rst
docs/releases/v2.3.0.rst
docs/releases/v2.4.0.rst
docs/releases/v2.4.1.rst
docs/stack_context.rst
docs/template.rst
docs/testing.rst
docs/tornado.png
docs/twisted.rst
docs/utilities.rst
docs/web.rst
docs/webframework.rst
docs/websocket.rst
docs/wsgi.rst
website/Makefile
website/app.yaml
website/index.yaml
website/static/base.css
website/static/facebook.png
website/static/favicon.ico
website/static/friendfeed.png
website/static/robots.txt
website/static/sphinx.css
website/static/tornado.png
website/static/twitter.png
website/templates/base.html
website/templates/index.html
website/tornado
website/website.py
==================
4b182cee;Ben Darnell;2013-03-10 16:00:58 -0400;Merge branch 'branch2.4'

==
==================
7ce64842;Ben Darnell;2013-03-10 15:58:05 -0400;Add favicon to sphinx config

==

website/sphinx/conf.py
website/sphinx/favicon.ico
==================
95c2ff87;Ben Darnell;2013-03-10 15:30:18 -0400;Merge branch 'branch2.4'

==
==================
e49ba0c5;Ben Darnell;2013-03-10 15:08:43 -0400;Add a max-width for body text to match the appengine site

==

website/static/sphinx.css
==================
0b9e5ce9;Ben Darnell;2013-03-10 15:04:06 -0400;Get the tricky parts of the sphinx conversion working.

==

website/sphinx/conf.py
website/sphinx/index.rst
==================
11af3765;Ben Darnell;2013-03-10 14:25:06 -0400;Add a sphinx/rst version of the tornadoweb.org index page. (WIP)

==

website/sphinx/documentation.rst
website/sphinx/index.rst
website/sphinx/tornado.png
==================
73ed33ed;Ben Darnell;2013-03-09 12:30:36 -0500;sphinx: Set the html_theme variable explicitly.
This should let our custom css show on readthedocs.org.

==

website/sphinx/conf.py
==================
9ec81761;Ben Darnell;2013-03-09 22:05:00 -0500;Relax a timing sensitive test that fails occasionally on travis-ci

==

tornado/test/simple_httpclient_test.py
==================
76a4b1f2;Ben Darnell;2013-03-09 21:43:11 -0500;Update release notes

==

website/sphinx/releases/next.rst
==================
fb743545;Ben Darnell;2013-03-09 12:30:36 -0500;sphinx: Set the html_theme variable explicitly.
This should let our custom css show on readthedocs.org.

==

website/sphinx/conf.py
==================
1b578ebd;Ben Darnell;2013-03-08 21:29:13 -0500;travis.yml: skip caresresolver test on pypy.

==

.travis.yml
==================
9e66435e;Ben Darnell;2013-03-08 19:04:08 -0500;Fix the inevitable typos in .travis.yml.

==

.travis.yml
==================
7431ffe1;Ben Darnell;2013-03-08 19:03:49 -0500;Fix TwistedIOLoop on python 2.6.

==

tornado/platform/twisted.py
tox.ini
==================
20afb404;Ben Darnell;2013-03-08 18:26:36 -0500;Rewrite travis.yml to make it simpler and more comprehensive.
Unlike tox, travis never reuses virtualenvs so setup/install time dominates.
Each test configuration only takes a few seconds once everything is
installed, so it's better to run fewer environments with lots of tests
in each.

This reduces the configuration to 10 environments (two for each python version,
with and without dependencies installed).  All tests are run in every
environment where they can run (unlike the tox config, which has many
variants that only run under py27)

==

.travis.yml
==================
8a198cc4;Ben Darnell;2013-03-08 17:03:38 -0500;On python 3, json_encode no longer supports byte strings as input.
This matches the behavior of the underlying json library.
recursive_unicode was more expensive than the actual json encoding for
complex structures, and was useless on python 2.

==

tornado/escape.py
tornado/test/escape_test.py
==================
e72eee12;Ben Darnell;2013-03-08 16:47:30 -0500;Use native strings instead of byte strings for oauth responses.

==

tornado/auth.py
tornado/test/auth_test.py
==================
14531ee3;Ben Darnell;2013-03-08 16:18:22 -0500;Capture the stack context of gen callbacks as they are generated.
This guards against functions that add their own stack context
without wrapping their callbacks.

==

tornado/gen.py
tornado/test/gen_test.py
==================
73c0aee4;Ben Darnell;2013-03-05 21:53:40 -0500;Use _try_inline_read instead of _read_from_buffer in read_until_close.
Closes #686.

==

tornado/iostream.py
==================
dbff2b52;Ben Darnell;2013-03-04 00:00:59 -0500;Update and expand travis.yml.
This should cover everything from tox.ini

==

.travis.yml
==================
95508549;Ben Darnell;2013-03-03 23:09:57 -0500;Re-apply autopep8.

==

tornado/auth.py
tornado/concurrent.py
tornado/gen.py
tornado/httpclient.py
tornado/httputil.py
tornado/ioloop.py
tornado/netutil.py
tornado/platform/caresresolver.py
tornado/platform/twisted.py
tornado/tcpserver.py
tornado/test/auth_test.py
tornado/test/concurrent_test.py
tornado/test/curl_httpclient_test.py
tornado/test/gen_test.py
tornado/test/httpclient_test.py
tornado/test/iostream_test.py
tornado/test/netutil_test.py
tornado/test/simple_httpclient_test.py
tornado/test/util_test.py
tornado/test/web_test.py
tornado/test/websocket_test.py
tornado/testing.py
tornado/web.py
tornado/websocket.py
==================
680c4402;Ben Darnell;2013-03-03 23:07:44 -0500;Update import_test.
(although I think autoreload is the last module left with no real test
coverage)

==

tornado/test/import_test.py
==================
44215060;Ben Darnell;2013-03-03 23:04:23 -0500;Pyflakes cleanups.

==

tornado/curl_httpclient.py
tornado/httputil.py
tornado/platform/caresresolver.py
tornado/simple_httpclient.py
tornado/testing.py
tornado/websocket.py
==================
9364e5e1;Ben Darnell;2013-03-03 22:54:38 -0500;Fix type check that pep8 complains about.

==

tornado/curl_httpclient.py
==================
7f2bcfe8;Ben Darnell;2013-03-03 22:47:30 -0500;Organize release notes and add highlights section.

==

website/sphinx/releases/next.rst
==================
b8063e48;Ben Darnell;2013-03-03 20:47:15 -0500;Introduce TracebackFuture and use it where applicable.
This allows for better tracebacks when using Futures on Python 2.

==

tornado/concurrent.py
tornado/gen.py
tornado/ioloop.py
tornado/test/concurrent_test.py
==================
e9e003eb;Ben Darnell;2013-03-03 20:14:22 -0500;When @return_future's callback is run with no args, don't pass an arg to client callback.

==

tornado/concurrent.py
tornado/test/concurrent_test.py
==================
94a5a402;Ben Darnell;2013-03-03 19:29:39 -0500;Allow the callback in @return_future to be run with no arguments.

==

tornado/concurrent.py
tornado/test/concurrent_test.py
==================
a522a2f1;Ben Darnell;2013-03-03 18:22:52 -0500;Bump version to 2.4.post4

==

setup.py
tornado/__init__.py
==================
e97f9afe;Ben Darnell;2013-03-03 18:17:29 -0500;return_future and friends now pass the result, not the Future, to the callback.
Functions and decorators that take an optional callback and return
a future (return_future, gen.concurrent, and run_executor) no longer pass
the Future object to the callback.  This results in somewhat less flexible
error handling, but is more consistent with prevailing practice without
Futures.

==

tornado/concurrent.py
tornado/gen.py
tornado/netutil.py
tornado/simple_httpclient.py
tornado/test/concurrent_test.py
tornado/test/gen_test.py
tornado/test/netutil_test.py
==================
bc4917b6;Ben Darnell;2013-03-03 12:23:28 -0500;Use autoescape in websocket chat demo.

==

demos/websocket/chatdemo.py
demos/websocket/templates/index.html
demos/websocket/templates/message.html
==================
5c7d6d3e;Ben Darnell;2013-03-03 12:18:34 -0500;Autoescaping is now the default, so remove the explicit setting in chatdemo.

==

demos/chat/chatdemo.py
==================
920f96db;Ben Darnell;2013-03-03 12:16:03 -0500;Use distinct cookie names across all the demo apps.

==

demos/auth/authdemo.py
demos/blog/blog.py
demos/chat/chatdemo.py
demos/facebook/facebook.py
==================
17ec459c;Ben Darnell;2013-03-03 12:09:29 -0500;Use autoescape in blog demo.

==

demos/blog/blog.py
demos/blog/templates/archive.html
demos/blog/templates/compose.html
demos/blog/templates/entry.html
demos/blog/templates/feed.xml
demos/blog/templates/home.html
demos/blog/templates/modules/entry.html
==================
9876ede0;Ben Darnell;2013-03-03 11:56:47 -0500;Remove embedded copy of markdown.py from blog demo.

==

demos/blog/README
demos/blog/markdown.py
==================
f220182a;Ben Darnell;2013-03-03 11:54:35 -0500;Use autoescape in appengine blog demo.

==

demos/appengine/blog.py
demos/appengine/templates/archive.html
demos/appengine/templates/base.html
demos/appengine/templates/compose.html
demos/appengine/templates/entry.html
demos/appengine/templates/feed.xml
demos/appengine/templates/home.html
demos/appengine/templates/modules/entry.html
==================
19f7351d;Ben Darnell;2013-03-03 11:16:07 -0500;Remove markdown support from app engine blog demo.

==

demos/appengine/blog.py
demos/appengine/markdown.py
demos/appengine/static/blog.css
demos/appengine/templates/compose.html
==================
b00167b9;Ben Darnell;2013-03-03 11:08:25 -0500;Modernize app engine demo: py27, non-CGI interface, get_template_namespace.

==

demos/appengine/app.yaml
demos/appengine/blog.py
==================
d5426b86;Ben Darnell;2013-03-02 19:37:02 -0500;Upgrade requirement packages.
Upgrades are available for tox and virtualenv, but don't work for me
because of https://github.com/pypa/virtualenv/issues/366 (to be fixed
in virtualenv 1.9).

==

maint/requirements.txt
==================
56393ac9;Ben Darnell;2013-03-02 19:29:04 -0500;Release note updates

==

website/sphinx/releases/next.rst
==================
2ad9659f;Ben Darnell;2013-03-02 19:08:22 -0500;All functions that take an IOLoop default to current() instead of instance().
This means among other things that it's no longer necessary to pass
IOLoops explicitly in tests.

==

tornado/autoreload.py
tornado/httpclient.py
tornado/ioloop.py
tornado/iostream.py
tornado/netutil.py
tornado/platform/caresresolver.py
tornado/platform/twisted.py
tornado/process.py
tornado/tcpserver.py
tornado/test/iostream_test.py
tornado/websocket.py
==================
80bee0c2;Ben Darnell;2013-03-02 18:58:02 -0500;Add IOLoop.run_sync convenience method.

==

maint/scripts/test_resolvers.py
tornado/httpclient.py
tornado/ioloop.py
tornado/test/ioloop_test.py
tornado/testing.py
==================
7c85e784;Ben Darnell;2013-03-02 18:46:07 -0500;Test the IOLoop.current method and add it to TwistedIOLoop.

==

tornado/platform/twisted.py
tornado/test/ioloop_test.py
tornado/test/twisted_test.py
==================
0e15cdca;Ben Darnell;2013-03-02 17:27:02 -0500;Make DummyFuture class private.
It's now only exposed and used when concurrent.futures is not available.

==

tornado/concurrent.py
tornado/ioloop.py
==================
75851332;Ben Darnell;2013-03-02 14:55:10 -0500;Fix twisted version check.

==

tornado/test/netutil_test.py
==================
4d51ee80;bdarnell;2013-03-02 11:48:53 -0800;Merge pull request #686 from omribahumi/master
Flushing the buffer when calling IOStream.read_until_close()
==
==================
4bfbbad3;Ben Darnell;2013-03-02 14:45:43 -0500;Fix resolver test script.

==

maint/scripts/test_resolvers.py
==================
fbba77ea;Ben Darnell;2013-03-02 14:30:42 -0500;Convert resolvers to @gen.coroutine.
This adds a requirement that there be a "current" IOLoop, which introduced
a few ripples.

==

tornado/httpclient.py
tornado/platform/caresresolver.py
tornado/platform/twisted.py
tornado/test/netutil_test.py
tornado/test/twisted_test.py
==================
b0212d54;Ben Darnell;2013-03-02 14:00:53 -0500;Test twisted and cares resolvers in netutil_test.

==

tornado/test/netutil_test.py
==================
6c6aba46;Ben Darnell;2013-03-02 13:55:35 -0500;Convert auth methods from return_future plus gen.engine to gen.coroutine.

==

tornado/auth.py
==================
58b0dabd;Ben Darnell;2013-03-02 13:29:48 -0500;Add @gen.coroutine and gen.Return for future-based (and py33-style) coroutines.

==

tornado/gen.py
tornado/test/gen_test.py
tornado/testing.py
==================
a070dec2;Omri Bahumi;2013-02-28 20:18:22 +0200;Python3 compatibility for test_streaming_callback_with_data_in_buffer

==

tornado/test/iostream_test.py
==================
abaecb03;Omri Bahumi;2013-02-28 19:49:50 +0200;Added test_streaming_callback_with_data_in_buffer to iostream_test.py

==

tornado/test/iostream_test.py
==================
4de9ab87;Omri Bahumi;2013-02-28 00:11:32 +0200;Flushing the buffer when calling IOStream.read_until_close()
Ran into this when calling IOStream.read_until_close() after calling
IOStream.read_until("\r\n"), leaving data in the buffer.

==

tornado/iostream.py
==================
bdede4c9;Ben Darnell;2013-02-26 22:53:46 -0500;Accumulated release note updates.

==

website/sphinx/releases/next.rst
==================
054e644e;Ben Darnell;2013-02-24 14:19:23 -0500;Simplify the Resolver interface.
Most callers do not need the full generality of getaddrinfo, and
most alternative resolver implementations cannot provide it.

==

tornado/netutil.py
tornado/platform/caresresolver.py
tornado/platform/twisted.py
tornado/simple_httpclient.py
tornado/test/netutil_test.py
==================
d735bd81;Ben Darnell;2013-02-24 12:43:06 -0500;Add a resolver test script for external queries that cannot be unittested.
Note an issue with CaresResolver (it cannot resolve www.dropbox.com when
family==AF_UNSPEC)

==

maint/requirements.txt
maint/scripts/test_resolvers.py
tornado/platform/caresresolver.py
tornado/platform/twisted.py
==================
b02c202b;Ben Darnell;2013-02-24 12:25:04 -0500;Add a c-ares-based resolver implementation.

==

tornado/platform/caresresolver.py
tox.ini
==================
7069d183;Ben Darnell;2013-02-24 11:47:30 -0500;Move HTTPServer's valid_ip function to netutil.

==

tornado/httpserver.py
tornado/netutil.py
tornado/test/netutil_test.py
==================
0e44baf7;Ben Darnell;2013-02-23 18:46:08 -0500;Add a test that runs TwistedIOLoop on top of TornadoReactor.
This exposed a few more small bugs.

==

tornado/platform/twisted.py
tornado/test/process_test.py
tornado/test/twisted_test.py
tox.ini
==================
57130dfb;Ben Darnell;2013-02-23 13:15:04 -0500;Add TwistedResolver for non-threaded async DNS resolution.

==

tornado/platform/twisted.py
tox.ini
==================
5d230aa0;Ben Darnell;2013-02-23 12:53:04 -0500;If a @return_future function raises immediately, don't run the callback.

==

tornado/concurrent.py
tornado/test/concurrent_test.py
==================
99188df2;Ben Darnell;2013-02-23 10:59:13 -0500;stack_context.wrap() the callback passed in to a @return_future function.

==

tornado/concurrent.py
tornado/test/concurrent_test.py
==================
4731072f;Ben Darnell;2013-02-23 10:53:31 -0500;Move fallback exception raising in AsyncTestCase from run() to tearDown().
This allows the exception to be reported as a test failure instead of
making the test run blow up.

==

tornado/testing.py
==================
4e156a97;Ben Darnell;2013-02-23 10:31:53 -0500;Add a test case for the synchronous HTTPClient.

==

tornado/test/httpclient_test.py
==================
d4167f97;Ben Darnell;2013-02-20 22:03:28 -0500;Clean up more timeouts when shutting down HTTP clients or finishing tests.

==

tornado/curl_httpclient.py
tornado/test/httpclient_test.py
tornado/testing.py
==================
88e94c81;bdarnell;2013-02-20 18:51:54 -0800;Merge pull request #684 from vkosh/master
Remove timeout callback on errors during connect or request.
==
==================
f5c6a4d4;Vladlen Y. Koshelev;2013-02-20 02:27:11 +0400;Remove timeout callback on errors during connect or request.

==

tornado/simple_httpclient.py
==================
1c1f85d0;Ben Darnell;2013-02-18 23:20:16 -0500;Test the @return_future return value assertion and move it again.

==

tornado/concurrent.py
tornado/test/concurrent_test.py
==================
f695e4e4;Ben Darnell;2013-02-18 23:03:19 -0500;Exceptions in a @return_future function go to both the caller and the Future.
Add a test for the UnboundLocal error seen here and remove the
no-longer-needed initialization.  I'm not 100% sure we want to do both
(due to the risk of callback-doubling), but the old way where the caller
saw one error and the future resolved to a different error was clearly
incorrect, and leaving the future unresolved doesn't seem right either.

==

tornado/concurrent.py
tornado/test/concurrent_test.py
==================
7368cfcc;bdarnell;2013-02-18 16:23:36 -0800;Merge pull request #683 from vkosh/master
Unshadow list built-in in httputil.HTTPHeaders.get_all()
==
==================
b3585b0e;Vladlen Y. Koshelev;2013-02-19 01:16:54 +0400;Fix docstrings quoting.

==

tornado/stack_context.py
tornado/test/httpserver_test.py
tornado/testing.py
==================
4a5c2673;Vladlen Y. Koshelev;2013-02-19 00:39:17 +0400;Rename local var so it doesn't shadow the "list" built-in.

==

tornado/httputil.py
==================
ff2e119a;Ben Darnell;2013-02-18 10:46:48 -0500;Add pypi classifiers so we'll show up on python3-compatible lists.

==

setup.py
==================
96f654ed;Ben Darnell;2013-02-18 00:28:05 -0500;Ensure the result variable is initialized even when an exception is handled.

==

tornado/concurrent.py
==================
b605c0a5;Ben Darnell;2013-02-17 23:57:38 -0500;Make Resolver's callback argument optional when the Future result is used.

==

tornado/concurrent.py
tornado/test/netutil_test.py
==================
21acd099;Ben Darnell;2013-02-17 23:12:15 -0500;Make Resolver Configurable and test with a threaded resolver.

==

tornado/netutil.py
tornado/simple_httpclient.py
tornado/test/httpserver_test.py
tornado/test/netutil_test.py
tornado/test/runtests.py
tornado/websocket.py
tox.ini
==================
5ba5cdcc;Ben Darnell;2013-02-17 22:46:52 -0500;Add a future-based interface to AsyncHTTPClient.fetch.

==

tornado/curl_httpclient.py
tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/httpclient_test.py
==================
1785e0a7;Ben Darnell;2013-02-17 19:16:14 -0500;simple_httpclient._HTTPConnection now takes a resolver directly.
This makes the "client" parameter optional for websocket connections.

==

tornado/simple_httpclient.py
tornado/test/httpserver_test.py
tornado/websocket.py
==================
20a3d626;Ben Darnell;2013-02-17 19:08:10 -0500;Make simple_httpclient's hostname_mapping a Resolver wrapper.

==

tornado/netutil.py
tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
909c0336;Ben Darnell;2013-02-17 18:40:51 -0500;Add a test for simple_httpclient's hostname_mapping.

==

tornado/test/simple_httpclient_test.py
==================
5b459c07;Ben Darnell;2013-02-17 18:28:44 -0500;Centralize some shared logic bewteen HTTPClient implementations.

==

tornado/curl_httpclient.py
tornado/httpclient.py
tornado/simple_httpclient.py
==================
1824da47;Ben Darnell;2013-02-17 17:54:09 -0500;Use the future interface internally for _oauth_get_user.
Added a new method _oauth_get_user_future because the old method was
de facto public for third-party auth plugins.

==

tornado/auth.py
==================
6fd76976;Ben Darnell;2013-02-17 17:13:45 -0500;Add future interface to most of the rest of the auth module.
_oauth_get_user still uses callbacks internally, and I haven't
changed the old deprecated FacebookMixin.

==

tornado/auth.py
tornado/concurrent.py
==================
a3a709ae;Ben Darnell;2013-02-17 16:21:01 -0500;Add a Future-based interface to tornado.auth's twitter_request.
This allows new clients to receive exception messages from failed
requests, without breaking compatibility with existing callback-based
clients.

==

tornado/auth.py
tornado/test/auth_test.py
==================
c567f04f;Ben Darnell;2013-02-17 12:25:22 -0500;Factor argument replacement logic out of @return_future

==

tornado/concurrent.py
tornado/test/util_test.py
tornado/util.py
==================
75176a01;Ben Darnell;2013-02-17 00:20:01 -0500;Add autobahn tests for client side of websockets.

==

maint/test/websocket/client.py
maint/test/websocket/fuzzingclient.json
maint/test/websocket/fuzzingserver.json
maint/test/websocket/run-client.sh
maint/test/websocket/run-server.sh
==================
8e290020;Ben Darnell;2013-02-17 00:03:45 -0500;Add a simple websocket client and unittest

==

tornado/simple_httpclient.py
tornado/test/runtests.py
tornado/test/websocket_test.py
tornado/websocket.py
==================
ddbb7e8a;Ben Darnell;2013-02-16 11:18:50 -0500;Add a test for subprocess with stderr as a separate stream

==

tornado/test/process_test.py
==================
e7665ccf;bdarnell;2013-02-16 08:15:20 -0800;Merge pull request #682 from martynsmith/patch-1
Fix typo in stream setup for stderr
==
==================
7b7c4274;Ben Darnell;2013-02-16 11:07:23 -0500;Use xrange instead of range on python 2.
Closes #681.

==

tornado/websocket.py
==================
08898b35;Martyn Smith;2013-02-16 15:25:26 +1300;Fix typo in stream setup for stderr

==

tornado/process.py
==================
9bf6dd15;Ben Darnell;2013-02-15 20:30:50 -0500;s/xrange/range/ for python 3.
Closes #681.

==

tornado/websocket.py
==================
1282b6ef;Ben Darnell;2013-02-15 19:45:53 -0500;Add an assertion for inconsistent StackContexts when used with generators.

==

tornado/stack_context.py
tornado/test/stack_context_test.py
==================
d98afd41;Ben Darnell;2013-02-13 23:03:25 -0500;Add a tox config for testing with the pyuv-based IOLoop.

==

maint/test/pyuv/tox.ini
==================
0126e2ea;Ben Darnell;2013-02-13 22:52:17 -0500;Document and test the ability to call remove_timeout after it has fired.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
7327cde9;Ben Darnell;2013-02-13 22:35:14 -0500;Fix a straggling reference to netutil.TCPServer in comments.

==

tornado/httpserver.py
==================
3b109377;Ben Darnell;2013-02-13 21:05:41 -0500;Prevent __future__ imports in tornado from leaking into user code.
This could happen with the command-line mode of autoreload or
in templates.

==

tornado/template.py
tornado/test/template_test.py
tornado/test/util_test.py
tornado/util.py
==================
b07a4c36;Ben Darnell;2013-02-13 13:31:02 -0500;Remove epoll.c from MANIFEST.in

==

MANIFEST.in
==================
336e134b;Ben Darnell;2013-02-13 13:30:18 -0500;Bump version number to 2.4.post3

==

setup.py
tornado/__init__.py
==================
da5c2be0;Ben Darnell;2013-02-11 19:13:25 -0500;Fix quadratic performance in gen.engine when yielding a large list.

==

tornado/gen.py
tornado/test/gen_test.py
==================
534c5569;Ben Darnell;2013-02-09 15:52:47 -0500;Make LogTrapTestCase fail more gracefully in unknown logging configurations.
This allows LogTrapTestCases to be run under nose, which does its own
log buffering.

Closes #674

==

tornado/testing.py
==================
7623dbfe;Ben Darnell;2013-02-09 13:59:00 -0500;Add a workaround for a bug in the latest version of libcurl

==

tornado/curl_httpclient.py
==================
e20d2f68;Ben Darnell;2013-02-09 12:55:06 -0500;Escape non-ascii bytes in tracebacks line-by-line instead of all at once.
Previously if there were any bytes that needed escaping, the newlines
would get escaped as well, ruining the message formatting.

Closes #675 (again)

==

tornado/log.py
tornado/test/log_test.py
==================
280c2863;Ben Darnell;2013-02-08 20:14:13 -0500;Clarify docstring of IOLoop.stop.
The mention of "after the current iteration" was meant to emphasize that the
stop was not instantaneous, but it could have also been read as a guarantee
that one more poll call would take place.

Closes #672.

==

tornado/ioloop.py
==================
84a6ff02;Ben Darnell;2013-02-08 19:40:27 -0500;Merge commit 'e3f8aa' from heynemann/master
Closes #677

==
==================
f6f78cbb;Ben Darnell;2013-02-08 19:21:10 -0500;Handle non-ascii data in logged exceptions like in the main message.
Closes #675

==

tornado/log.py
tornado/test/log_test.py
==================
e3f8aa81;Bernardo Heynemann;2013-02-06 15:35:35 -0200;Pre-compiling regex that removes control characters.
Given that this regex might be used a lot in the lifetime of a given server (each request that uses get_argument for unicode strings) it seems sensible to store the compiled version of the regex.

==

tornado/web.py
==================
172e095e;Ben Darnell;2013-02-05 20:00:17 -0500;Switch one last test from get_unused_port to bind_unused_port.
Closes #676.

==

tornado/test/concurrent_test.py
==================
e7d9e8a5;Ben Darnell;2013-02-05 19:51:51 -0500;Update pyflakes version.
The new version no longer complains about all our conditional imports.

==

maint/requirements.txt
==================
d6d5e272;Ben Darnell;2013-02-03 19:28:30 -0500;Add a test for non-login use of twitter_request.

==

tornado/test/auth_test.py
==================
fa9534bb;Ben Darnell;2013-02-02 22:40:53 -0500;Add a script for setting up a windows VM for testing.
This works with the images provided by http://modern.ie.

==

maint/vm/windows/bootstrap.py
maint/vm/windows/tox.ini
==================
5db74ae4;Ben Darnell;2013-01-27 20:16:58 -0500;Protect the tornado.gen import in testing.py for app engine.

==

tornado/testing.py
==================
34edd2e8;Ben Darnell;2013-01-27 18:07:21 -0500;Support lists of futures in @gen.engine.

==

tornado/gen.py
tornado/test/gen_test.py
==================
8a9179f2;Ben Darnell;2013-01-27 17:47:37 -0500;Add decorator for @gen.engine-like tests.
Futures are awkward to use in stop/wait tests, and this makes it possible
to be consistent between tests and regular code.

Uses the (now-renamed) deactivate_stack_context callback
to detect when a test finishes cleanly.

==

tornado/gen.py
tornado/test/concurrent_test.py
tornado/test/testing_test.py
tornado/testing.py
website/sphinx/releases/next.rst
==================
3a428c03;Ben Darnell;2013-01-27 17:03:15 -0500;Rename future_wrap to return_future.
Allow exceptions from the initial synchronous phase to pass through
to the caller.  Add docs and tests.

==

tornado/concurrent.py
tornado/test/concurrent_test.py
==================
747b8950;Ben Darnell;2013-01-27 16:28:35 -0500;A couple of small 2.6-isms.
We can use namedtuple and the new 0o octal literal notation.

==

tornado/gen.py
tornado/netutil.py
website/sphinx/gen.rst
==================
2baf3c02;Ben Darnell;2013-01-27 14:01:59 -0500;Centralize formatting of HTTP-style dates.
Use time.strftime, which turns out to be a bit faster than either
datetime.strftime or email.utils.formatdate.

==

tornado/httpclient.py
tornado/httputil.py
tornado/test/httputil_test.py
tornado/web.py
==================
e5f47639;Ben Darnell;2013-01-27 10:53:39 -0500;Fix typo in next.rst.

==

website/sphinx/releases/next.rst
==================
9df23246;Ben Darnell;2013-01-26 15:43:01 -0500;Use httputil.HTTPHeaders for outgoing headers in RequestHandler.
It's still a bit slower, but less than the 10% noted in the old comment.
Case sensitivity here has proven more surprising and problematic than
expected as users try to overwrite headers set by the framework.

==

tornado/httputil.py
tornado/test/web_test.py
tornado/web.py
tornado/wsgi.py
website/sphinx/releases/next.rst
==================
bace5883;Ben Darnell;2013-01-26 14:53:12 -0500;Note a performance improvement on PyPy in the release notes.
sys.exc_info() is very slow on pypy.  Commit
24c3d41748728cf4f3ea1509044b4abc7cea666e removed an unconditional
call to sys.exc_info when there is no error.  Performance on
demo/benchmark/benchmark.py went from 3k qps to 5k.

==

website/sphinx/releases/next.rst
==================
65984591;Ben Darnell;2013-01-26 13:33:52 -0500;Split up next.rst by module.

==

website/sphinx/releases/next.rst
==================
b26c07b6;Ben Darnell;2013-01-24 23:13:00 -0500;Get the test suite passing on windows again.

==

tornado/test/iostream_test.py
tornado/test/netutil_test.py
==================
279aaffa;Ben Darnell;2013-01-23 23:23:57 -0500;Get twisted_test running on python 3 too.
Twisted 12.3.0 can be installed from a source checkout on python3.
Some modules, including twisted.web, are not available so skip those
tests separately.

==

tornado/test/twisted_test.py
==================
efae6e04;Ben Darnell;2013-01-23 22:35:16 -0500;Document --disable-ipv6 fix and only apply it when family==AF_UNSPEC.

==

tornado/netutil.py
website/sphinx/releases/next.rst
==================
1316fd60;bdarnell;2013-01-23 19:32:38 -0800;Merge pull request #670 from schlamar/patch-1
Fix bind_sockets when python is compiled with --disable-ipv6
==
==================
a5c1b541;Ben Darnell;2013-01-23 22:27:00 -0500;Preliminary support for ubuntu's python3-pycurl port.

==

tornado/curl_httpclient.py
website/sphinx/releases/next.rst
==================
60cc236c;Ben Darnell;2013-01-23 21:22:34 -0500;Add vagrant config for ubuntu 12.10.
This release is interesting because it includes a python3 port of
pycurl (which is difficult to use from tox but can at least be tested
manually).

==

maint/vm/ubuntu12.10/Vagrantfile
maint/vm/ubuntu12.10/setup.sh
maint/vm/ubuntu12.10/tox.ini
==================
48e81bae;Marc Schlaich;2013-01-22 09:33:03 +0100;Update tornado/netutil.py
`socket.getadrrinfo` yields some strange output if Python is compiled with `--disable-ipv6`, resulting in a `bad family` error.
See http://bugs.python.org/issue16208
==

tornado/netutil.py
==================
443c7f34;Ben Darnell;2013-01-20 22:22:02 -0500;Add server_hostname to IOStream.connect, for SNI and cert verification
SSL hostname verification now happens in SSLIOStream instead of
simple_httpclient (and supporting code has moved to netutil).

==

tornado/iostream.py
tornado/netutil.py
tornado/simple_httpclient.py
website/sphinx/releases/next.rst
==================
6355af95;Ben Darnell;2013-01-20 21:28:04 -0500;On py32+, methods that take ssl_options now also accept SSLContext objects.
This is necessary to support SNI and NPN.

==

tornado/httpserver.py
tornado/iostream.py
tornado/netutil.py
tornado/tcpserver.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
website/sphinx/releases/next.rst
==================
b3d8cd30;Ben Darnell;2013-01-20 19:58:35 -0500;Move TCPServer to its own module.
It's backwards-incompatible for people who used it directly, but that's
what 3.0 is for. ;)  TCPServer made it impossible to import netutil
from iostream due to cyclic imports, which seems backwards.

==

tornado/httpserver.py
tornado/netutil.py
tornado/tcpserver.py
tornado/test/concurrent_test.py
website/sphinx/releases/next.rst
==================
ec884dbe;bdarnell;2013-01-20 19:32:27 -0800;Merge pull request #669 from mleonhard/master
Fix s3server.py to stop truncating downloads of images and other non-text files
==
==================
56fcc364;Michael Leonhard;2013-01-20 16:48:05 -0800;Fix s3server.py to stop truncating downloads of images and other non-text files

==

demos/s3server/s3server.py
==================
553145c7;Ben Darnell;2013-01-20 16:05:37 -0500;Fix typos in TwistedIOLoop that always sent both read and write events to all handlers.

==

tornado/platform/twisted.py
tornado/test/ioloop_test.py
==================
0c3c8f76;Ben Darnell;2013-01-20 15:46:01 -0500;Make autoreload close the IOLoop through the standard interface.
This makes it compatible with TwistedIOLoop.

==

tornado/autoreload.py
==================
9c26f969;Ben Darnell;2013-01-20 15:40:31 -0500;Fix some iter{items,keys,values} calls that slipped through the cracks.
Add tests for the functions that were thereby revealed to have none.

==

tornado/auth.py
tornado/curl_httpclient.py
tornado/httpclient.py
tornado/test/auth_test.py
tornado/test/httpclient_test.py
tornado/test/twisted_test.py
tornado/test/web_test.py
tornado/web.py
==================
769bc52e;Ben Darnell;2013-01-20 11:39:18 -0500;Fix memory leak with gen.engine, RequestHandler.flush, and closed connections.
This was unfortunately difficult to reproduce in a unit test, even though
the test program attached to bug 660 easily reproduces it.

Closes #660.

==

tornado/httpserver.py
tornado/iostream.py
tornado/web.py
website/sphinx/releases/next.rst
==================
45b2c30e;Ben Darnell;2013-01-19 17:14:25 -0500;web_test's wsgi_safe can be a class decorator too.

==

tornado/test/web_test.py
tornado/test/wsgi_test.py
==================
15329144;Ben Darnell;2013-01-19 17:05:32 -0500;Save the address family when an HTTPConnection is created.
Previously, if a non-IP socket was closed prematurely,
we would still try to reference stream.socket.family to decide
what format self.address was in, resulting in an uncaught exception.

Closes #656.

==

tornado/httpserver.py
==================
dec2d744;Ben Darnell;2013-01-19 14:35:28 -0500;No more  need to check for 'ssl is None' or 'multiprocessing is None'

==

tornado/process.py
tornado/simple_httpclient.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
==================
05b8d051;Ben Darnell;2013-01-19 14:33:37 -0500;Use real class decorators and remove other py25-era workarounds

==

tornado/httpserver.py
tornado/locale.py
tornado/platform/twisted.py
tornado/simple_httpclient.py
tornado/test/curl_httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/log_test.py
tornado/test/netutil_test.py
tornado/test/process_test.py
tornado/test/twisted_test.py
==================
e582e587;Ben Darnell;2013-01-19 13:48:02 -0500;Update autopep8 to 0.8.5 and run it.

==

maint/requirements.txt
tornado/auth.py
tornado/autoreload.py
tornado/concurrent.py
tornado/curl_httpclient.py
tornado/escape.py
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/log.py
tornado/netutil.py
tornado/options.py
tornado/platform/common.py
tornado/platform/epoll.py
tornado/platform/kqueue.py
tornado/platform/select.py
tornado/platform/twisted.py
tornado/process.py
tornado/simple_httpclient.py
tornado/template.py
tornado/test/auth_test.py
tornado/test/concurrent_test.py
tornado/test/curl_httpclient_test.py
tornado/test/escape_test.py
tornado/test/gen_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/log_test.py
tornado/test/netutil_test.py
tornado/test/options_test.py
tornado/test/process_test.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
tornado/test/stack_context_test.py
tornado/test/template_test.py
tornado/test/twisted_test.py
tornado/test/util_test.py
tornado/test/web_test.py
tornado/test/wsgi_test.py
tornado/testing.py
tornado/util.py
tornado/web.py
tornado/websocket.py
==================
3a8a0ebf;Ben Darnell;2013-01-19 13:38:48 -0500;Remove conditional imports for py25.
ssl, json, and multiprocessing are now ubiquitous.

Also misc pyflakes cleanups (unused imports)

==

tornado/auth.py
tornado/concurrent.py
tornado/escape.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/netutil.py
tornado/platform/epoll.py
tornado/platform/twisted.py
tornado/process.py
tornado/simple_httpclient.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/template_test.py
tornado/test/testing_test.py
tornado/testing.py
tornado/wsgi.py
==================
92530260;Ben Darnell;2013-01-19 13:29:10 -0500;Remove the remaining traces of tornado.util.b.

==

tornado/auth.py
tornado/httpserver.py
tornado/httputil.py
tornado/iostream.py
tornado/platform/common.py
tornado/platform/posix.py
tornado/simple_httpclient.py
tornado/test/auth_test.py
tornado/test/concurrent_test.py
tornado/test/escape_test.py
tornado/test/gen_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/iostream_test.py
tornado/test/locale_test.py
tornado/test/log_test.py
tornado/test/process_test.py
tornado/test/simple_httpclient_test.py
tornado/test/stack_context_test.py
tornado/test/template_test.py
tornado/test/util_test.py
tornado/test/web_test.py
tornado/test/wsgi_test.py
tornado/util.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
website/sphinx/releases/next.rst
==================
16c6893a;Ben Darnell;2013-01-19 13:16:30 -0500;Replace (most) calls to tornado.util.b() with byte literals.
sed -E -e "s/b\('([^']*)'\)/b'\1'/g" -i '' tornado/*.py
sed -E -e 's/b\("([^"]*)"\)/b"\1"/g' -i '' tornado/*.py

==

tornado/auth.py
tornado/httpserver.py
tornado/httputil.py
tornado/iostream.py
tornado/platform/common.py
tornado/platform/posix.py
tornado/simple_httpclient.py
tornado/test/auth_test.py
tornado/test/concurrent_test.py
tornado/test/escape_test.py
tornado/test/gen_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/iostream_test.py
tornado/test/locale_test.py
tornado/test/log_test.py
tornado/test/process_test.py
tornado/test/simple_httpclient_test.py
tornado/test/stack_context_test.py
tornado/test/template_test.py
tornado/test/util_test.py
tornado/test/web_test.py
tornado/test/wsgi_test.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
356045e7;Ben Darnell;2013-01-19 12:58:54 -0500;Doc updates for py25 removal

==

README.md
website/sphinx/releases/next.rst
website/templates/index.html
==================
6abdb916;Ben Darnell;2013-01-13 22:30:22 -0500;Remove py25 from travis.yml

==

.travis.yml
==================
217b7eb5;Ben Darnell;2013-01-13 21:59:21 -0500;Remove our custom epoll module now that we only support 2.6+.

==

setup.py
tornado/epoll.c
tornado/ioloop.py
tornado/platform/epoll.py
==================
7faeeb15;Ben Darnell;2013-01-13 21:53:12 -0500;Remove more py25 testing configs

==

maint/test/appengine/py25/app.yaml
maint/test/appengine/py25/cgi_runtests.py
maint/test/appengine/py25/runtests.py
maint/test/appengine/py25/tornado
maint/test/appengine/tox.ini
maint/test/websocket/run.sh
maint/test/websocket/tox.ini
maint/vm/ubuntu10.04/setup.sh
maint/vm/ubuntu10.04/tox.ini
maint/vm/ubuntu12.04/setup.sh
maint/vm/ubuntu12.04/tox.ini
==================
900d5a26;Ben Darnell;2013-01-13 21:31:55 -0500;Get all the tests passing under py3 without 2to3

==

setup.py
tornado/auth.py
tornado/escape.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/netutil.py
tornado/options.py
tornado/process.py
tornado/template.py
tornado/test/auth_test.py
tornado/test/escape_test.py
tornado/test/gen_test.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/locale_test.py
tornado/test/log_test.py
tornado/test/template_test.py
tornado/test/web_test.py
tornado/testing.py
tornado/web.py
tornado/wsgi.py
==================
ed786510;Ben Darnell;2013-01-13 21:19:45 -0500;Get autoreload working in py3 without 2to3.

==

tornado/autoreload.py
tornado/ioloop.py
tornado/util.py
==================
051cd609;Ben Darnell;2013-01-13 21:15:45 -0500;Checkpoint: tests can now be imported in python 3 without 2to3.
The tests are not passing, but this fixes up all the import-time problems.
The tests still work under 2to3 or python 2.

==

tornado/auth.py
tornado/escape.py
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/log.py
tornado/netutil.py
tornado/options.py
tornado/simple_httpclient.py
tornado/template.py
tornado/test/escape_test.py
tornado/test/twisted_test.py
tornado/testing.py
tornado/util.py
tornado/web.py
tornado/wsgi.py
==================
65df55da;Ben Darnell;2013-01-13 19:35:04 -0500;Convert print to a function and add future imports.
Automated with 2to3 and custom fixer.
2to3 -f print tornado > print.diff
2to3 -f print -d tornado > print_doctest.diff
maint/scripts/run_fixers.py -f future_import tornado > future.diff
cd tornado
git apply ../{print,print_doctest,future}.diff

==

maint/scripts/custom_fixers/fix_future_imports.py
tornado/__init__.py
tornado/auth.py
tornado/autoreload.py
tornado/concurrent.py
tornado/curl_httpclient.py
tornado/escape.py
tornado/gen.py
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/log.py
tornado/netutil.py
tornado/options.py
tornado/platform/auto.py
tornado/platform/common.py
tornado/platform/epoll.py
tornado/platform/interface.py
tornado/platform/kqueue.py
tornado/platform/posix.py
tornado/platform/select.py
tornado/platform/twisted.py
tornado/platform/windows.py
tornado/process.py
tornado/simple_httpclient.py
tornado/stack_context.py
tornado/template.py
tornado/test/auth_test.py
tornado/test/concurrent_test.py
tornado/test/curl_httpclient_test.py
tornado/test/escape_test.py
tornado/test/gen_test.py
tornado/test/gettext_translations/extract_me.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/import_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/locale_test.py
tornado/test/log_test.py
tornado/test/netutil_test.py
tornado/test/options_test.py
tornado/test/process_test.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
tornado/test/stack_context_test.py
tornado/test/template_test.py
tornado/test/testing_test.py
tornado/test/twisted_test.py
tornado/test/util.py
tornado/test/util_test.py
tornado/test/web_test.py
tornado/test/wsgi_test.py
tornado/testing.py
tornado/util.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
0d693ee0;Ben Darnell;2013-01-13 19:16:33 -0500;Change "except Type, value" to "except Type as value".
Necessary for py3, supported since py26.
2to3 -n -w -f except tornado

==

tornado/autoreload.py
tornado/concurrent.py
tornado/curl_httpclient.py
tornado/httpclient.py
tornado/httpserver.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/log.py
tornado/netutil.py
tornado/platform/common.py
tornado/process.py
tornado/test/concurrent_test.py
tornado/test/ioloop_test.py
tornado/test/process_test.py
tornado/test/simple_httpclient_test.py
tornado/test/util_test.py
tornado/test/web_test.py
tornado/testing.py
tornado/web.py
==================
d1bb68e3;Ben Darnell;2013-01-13 19:11:03 -0500;Convert all unicode literals to tornado.util.u.
Mostly done by the fixer script with manual import updates,
although the raw literal in escape.py needed special handling.

==

tornado/auth.py
tornado/escape.py
tornado/locale.py
tornado/test/auth_test.py
tornado/test/escape_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/locale_test.py
tornado/test/log_test.py
tornado/test/template_test.py
tornado/test/web_test.py
tornado/test/wsgi_test.py
==================
45789e3f;Ben Darnell;2013-01-13 18:41:26 -0500;Add a simple sanity-check test for locale data.

==

tornado/test/locale_test.py
==================
8b40fafe;Ben Darnell;2013-01-13 18:10:01 -0500;Add tornado.util.u and a fixer script to start using it.

==

maint/scripts/custom_fixers/fix_unicode_literal.py
tornado/test/util_test.py
tornado/util.py
==================
5cb63c9c;Ben Darnell;2013-01-13 18:09:43 -0500;Drop py25 from the main tox.ini

==

tox.ini
==================
35cdbf05;Ben Darnell;2013-01-12 12:19:30 -0500;Fix typo in docs

==

tornado/ioloop.py
==================
0b43aef0;Ben Darnell;2012-12-30 21:38:09 +0100;Fix an import that's been missing since the options/log refactoring.
Add a test for this previously-uncovered code.

==

tornado/log.py
tornado/test/log_test.py
==================
a8cb0ee5;Ben Darnell;2012-12-27 15:50:53 +0100;Test with twisted 12.3

==

tox.ini
==================
800ebbf0;Ben Darnell;2012-12-22 12:08:03 -0500;Allow tuples for the IOStream.close exc_info argument.
Update release notes.

==

tornado/iostream.py
website/sphinx/releases/next.rst
==================
51703de1;Ben Darnell;2012-12-22 11:49:35 -0500;Merge remote-tracking branch 'ajdavis/issue-651'

==
==================
ffd129ab;Ben Darnell;2012-12-20 23:51:17 -0500;Release notes for add_headers change

==

website/sphinx/releases/next.rst
==================
4088c8e5;Ben Darnell;2012-12-20 23:42:38 -0500;Merge remote-tracking branch 'jparise/append-handlers' into merge

==
==================
190d47e7;bdarnell;2012-12-20 20:17:47 -0800;Merge pull request #654 from davidwilemski/patch-1
Fix typo in releases/next.rst
==
==================
edce0448;David Wilemski;2012-12-14 21:15:53 -0500;Fix typo in releases/next.rst

==

website/sphinx/releases/next.rst
==================
24c3d417;A. Jesse Jiryu Davis;2012-12-11 11:45:21 -0500;Avoid setting IOStream.error to wrong exception, close #651

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
440e5355;Ben Darnell;2012-12-08 19:34:16 -0500;Replace a couple of contextmanager functions with ExceptionStackContext.

==

tornado/simple_httpclient.py
tornado/testing.py
==================
ec55acbe;Ben Darnell;2012-12-08 19:21:25 -0500;Merge remote-tracking branch 'rhettg/master' into work

==
==================
6d9407f9;Ben Darnell;2012-12-08 18:37:45 -0500;Run AsyncHTTPClient callbacks on the IOLoop for a clean stack.
Closes #652.

==

tornado/simple_httpclient.py
tornado/test/httpclient_test.py
website/sphinx/releases/next.rst
==================
5b4f0282;Ben Darnell;2012-12-08 19:17:27 -0500;TwistedIOLoop now supports overriding handle_callback_exception.

==

tornado/platform/twisted.py
tornado/test/ioloop_test.py
==================
3c24b7b9;Ben Darnell;2012-12-08 18:32:17 -0500;Remove some now-unnecessary calls to functools.partial

==

tornado/ioloop.py
tornado/process.py
==================
1ddbe823;Ben Darnell;2012-12-08 18:27:12 -0500;Add forgotten release note.

==

website/sphinx/releases/next.rst
==================
ea79e8a9;Ben Darnell;2012-12-08 18:25:11 -0500;add_callback now takes *args, **kwargs.
This reduces the need for functools.partial or lambda wrappers, and
works better with stack_context in some cases since binding the
arguments within IOLoop lets it see whether the function is already
wrapped.

==

tornado/ioloop.py
tornado/platform/twisted.py
tornado/test/ioloop_test.py
tornado/test/stack_context_test.py
website/sphinx/releases/next.rst
==================
11f90d07;Rhett Garber;2012-12-07 16:13:57 -0800;Don't catch and hide exceptions caused by callbacks in http client

==

tornado/simple_httpclient.py
==================
6cf1fa13;Ben Darnell;2012-12-07 14:28:13 -0500;curl_httpclient: don't call remove_handler if we never added it.
Re-order IOLoop and self._fds operations for consistency.

==

tornado/curl_httpclient.py
==================
c6593a38;Ben Darnell;2012-12-07 14:19:48 -0500;Catch all exceptions, not just {OS,IO}Error in IOLoop.remove_handler.
Attempting to remove a non-existent fd raises IOError on epoll
but KeyError on kqueue; this change swallows any exeption to make
both platforms consistent.

==

tornado/ioloop.py
tornado/platform/twisted.py
tornado/test/ioloop_test.py
==================
4ca0a0f2;Ben Darnell;2012-12-02 13:37:54 -0500;Add path_{kw,}args attributes to RequestHandler.

==

tornado/test/web_test.py
tornado/web.py
website/sphinx/releases/next.rst
website/sphinx/web.rst
==================
69ead028;Ben Darnell;2012-12-02 12:33:51 -0500;Return a Vary: Accept-Encoding header whenever gzip is enabled.
This is one of two problems found with redbot.  The other,
that etags should change when content-encoding is used, is trickier to
fix and seems to be less problematic.

Closes #578.

==

maint/test/redbot/red_test.py
tornado/test/web_test.py
tornado/web.py
==================
0b1b515f;Ben Darnell;2012-12-02 11:13:42 -0500;Add tests using the Redbot library for HTTP validation and caching.

==

maint/test/redbot/README
maint/test/redbot/red_test.py
maint/test/redbot/tox.ini
==================
eea63fc2;Ben Darnell;2012-12-01 21:27:34 -0500;Document the use of self.xsrf_token to set the cookie for ajax-only apps.
Closes #645.

==

website/sphinx/overview.rst
==================
e25b753e;Ben Darnell;2012-12-01 18:17:07 -0500;Document the need to pass Connection: close when using no_keep_alive.
Closes #641.

==

tornado/httpserver.py
==================
e4ebf8be;Ben Darnell;2012-12-01 15:50:40 -0500;Add a mock.patch-compatible wrapper for options objects.

==

maint/requirements.txt
tornado/options.py
tornado/test/options_test.py
tox.ini
website/sphinx/releases/next.rst
==================
8c5ad60d;Ben Darnell;2012-11-26 21:46:16 -0500;Doc cleanups.
* Fix doc generation for httpclient.py (unescaped \r\n)
* Manually specify signature of Template constructor
* Include IOLoop.time

Closes #644.

==

tornado/httpclient.py
tornado/template.py
website/sphinx/conf.py
website/sphinx/ioloop.rst
website/sphinx/template.rst
==================
12c4e9ff;Ben Darnell;2012-11-25 12:01:14 -0500;ErrorHandler no longer requires XSRF tokens.
Closes #638.

==

tornado/test/web_test.py
tornado/web.py
website/sphinx/releases/next.rst
==================
d6f583fc;Ben Darnell;2012-11-25 11:38:25 -0500;Add protocol kwarg to HTTPServer constructor.

==

tornado/httpserver.py
tornado/test/httpserver_test.py
website/sphinx/releases/next.rst
==================
5f4d98c4;Ben Darnell;2012-11-25 11:26:13 -0500;Accept Content-Length headers in 304 responses.
Closes #639.

==

tornado/simple_httpclient.py
tornado/test/httpclient_test.py
website/sphinx/releases/next.rst
==================
6683077a;Ben Darnell;2012-11-24 22:28:13 -0500;Remove now-redundant entries from next.rst, bump version to 2.4.post2.

==

setup.py
tornado/__init__.py
website/sphinx/releases/next.rst
==================
307c5237;Ben Darnell;2012-11-24 21:54:18 -0500;Merge branch 'branch2.4'
Conflicts:
	setup.py
	tornado/__init__.py
	tornado/test/auth_test.py
	website/sphinx/releases.rst

==
==================
169ac4ef;Ben Darnell;2012-11-24 21:22:10 -0500;Bump version to 2.4.1, update release notes.

==

setup.py
tornado/__init__.py
website/sphinx/releases.rst
website/sphinx/releases/v2.4.1.rst
==================
722731d5;Ben Darnell;2012-11-08 23:29:45 -0500;Fix a bug with IOStream.read_until_close with a streaming_callback.
If the underlying socket was already closed the buffered data
would be passed to the final callback rather than the streaming callback.

Conflicts:
	website/sphinx/releases/next.rst

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
c113ac17;Ben Darnell;2012-11-17 15:15:31 -0500;Fix TwitterMixin on Python 3.
Also add tests, and add get_auth_http_client method to all auth mixins.

Closes #634.

Conflicts:
	tornado/test/auth_test.py
	website/sphinx/releases/next.rst

==

tornado/auth.py
tornado/test/auth_test.py
==================
18a66beb;Ben Darnell;2012-11-17 16:35:42 -0500;Fix a memory leak in stack_context.
The old_contexts reference in StackContexts could maintain a chain of
old irrelevant contexts, so clear it once it's no longer needed.
This was mainly a problem in gen.engine, where additional contexts
would accumulate in memory (but not on the stack) for each asynchronous
operation.

Also clear the deactivate_stack_context in gen.Runner to allow
the StackContext to be garbage-collected sooner.

==

tornado/gen.py
tornado/stack_context.py
tornado/test/gen_test.py
==================
080f285b;Ben Darnell;2012-11-19 10:14:01 -0500;Use AsyncHTTPClient's defaults option in AsyncHTTPSTestCase.
Fix test_non_ssl_request, which has apparently been testing the wrong
thing for some time.

==

tornado/test/httpserver_test.py
tornado/testing.py
==================
26078cdb;Ben Darnell;2012-11-18 21:35:36 -0500;Remove redundant logging of read errors in IOStream.
The logging in read_from_fd is generally redundant with logging at
higher levels - the error would be logged again in _handle_read,
or propagated from _try_inline_read.

Closes #632.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
1a5b3375;Ben Darnell;2012-11-18 19:29:18 -0500;Allow default HTTPRequest attributes to be set globally via configure.
Closes #379.

==

tornado/curl_httpclient.py
tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
website/sphinx/releases/next.rst
==================
aeff86a0;Ben Darnell;2012-11-18 17:13:31 -0500;Remove outdated warnings and config instructions from simple_httpclient.

==

tornado/simple_httpclient.py
==================
d42de2d0;Ben Darnell;2012-11-18 16:24:49 -0500;Merge branch 'branch2.4'
Conflicts:
	website/sphinx/database.rst

==
==================
488c0d27;Ben Darnell;2012-11-18 16:19:33 -0500;Upgrade appengine website to python 2.7.

==

website/app.yaml
website/website.py
==================
05e0a386;Ben Darnell;2012-11-18 16:09:45 -0500;Update app engine id for HRD migration.

==

website/app.yaml
==================
f5d4a92e;Ben Darnell;2012-11-18 15:27:22 -0500;Document the deprecation of tornado.database in the 2.4 branch.

==

website/sphinx/database.rst
==================
36432165;Jon Parise;2012-11-18 11:45:38 -0800;_get_host_handlers() now returns all host matches.
This approach has more clearly defined precedence rules than the
previous insertion-time strategy implemented in add_handlers().

It also correctly leaves pattern matching in the hands of the regular
expression evaluator as opposed to directly comparing pattern strings.

==

tornado/test/web_test.py
tornado/web.py
==================
a5fffe32;Jon Parise;2012-11-18 10:38:09 -0800;Merge branch 'master' into append-handlers

==
==================
65d27e5a;Ben Darnell;2012-11-18 12:25:13 -0500;Make header_callback behavior consistent across both HTTP clients.
SimpleAsyncHTTPClient now sends the first and last lines to the callback,
matching CurlAsyncHTTPClient's behavior.

All secondary callbacks are now wrapped for stack_context.

Closes #637.

==

tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/curl_httpclient_test.py
tornado/test/httpclient_test.py
website/sphinx/releases/next.rst
==================
3f5e6589;Ben Darnell;2012-11-17 23:37:42 -0500;Fix If-None-Match support for StaticFileHandler.
No longer set Cache-Control: public on static files; redbot.org says
it generally doesn't do anything useful.

==

tornado/test/web_test.py
tornado/web.py
website/sphinx/releases/next.rst
==================
bff07405;Ben Darnell;2012-11-17 16:35:42 -0500;Fix a memory leak in stack_context.
The old_contexts reference in StackContexts could maintain a chain of
old irrelevant contexts, so clear it once it's no longer needed.
This was mainly a problem in gen.engine, where additional contexts
would accumulate in memory (but not on the stack) for each asynchronous
operation.

Also clear the deactivate_stack_context in gen.Runner to allow
the StackContext to be garbage-collected sooner.

==

tornado/gen.py
tornado/stack_context.py
tornado/test/gen_test.py
==================
b7246521;Ben Darnell;2012-11-17 15:44:21 -0500;Ensure that add_callback fails cleanly if called while IOLoop is closing.
Previously there would (sometimes) be an exception when writing to the
waker pipe.

Closes #635.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
e7485f85;Ben Darnell;2012-11-17 15:15:31 -0500;Fix TwitterMixin on Python 3.
Also add tests, and add get_auth_http_client method to all auth mixins.

Closes #634.

==

tornado/auth.py
tornado/test/auth_test.py
website/sphinx/releases/next.rst
==================
5f597b58;bdarnell;2012-11-10 19:18:28 -0800;Merge pull request #627 from jparise/urlspec-repr
Add a helpful __repr__ implementation to URLSpec.
==
==================
465f572d;bdarnell;2012-11-10 19:17:37 -0800;Merge pull request #624 from pablopda/master
Move README so github web interface recognize its markup language
==
==================
b71650ff;Ben Darnell;2012-11-08 23:29:45 -0500;Fix a bug with IOStream.read_until_close with a streaming_callback.
If the underlying socket was already closed the buffered data
would be passed to the final callback rather than the streaming callback.

==

tornado/iostream.py
tornado/test/iostream_test.py
website/sphinx/releases/next.rst
==================
68f52c12;Jon Parise;2012-11-06 17:33:24 -0800;Allow add_handlers() to append to existing hosts.
This change removes the restriction that all handlers for a given host
pattern be registered in a single call to add_handlers().

==

tornado/web.py
==================
b27c54c2;Jon Parise;2012-11-06 16:04:36 -0800;Add a helpful __repr__ implementation to URLSpec.

==

tornado/web.py
==================
5ee48f9d;Pablo Perez De Angelis;2012-11-02 18:29:40 -0300;Mv README so github web interface recognize its markup language

==

README.md
==================
958301dd;Ben Darnell;2012-11-01 10:23:27 -0700;Release notes for 302/303 change.

==

website/sphinx/releases/next.rst
==================
ff343ae9;Ben Darnell;2012-10-31 22:53:08 -0700;simple_httpclient: Treat 302 like 303.
Cherry-picked from https://github.com/bergundy/tornado/commit/e49b263de2f4aa7b9748531b2ccf6b50b28b1bd5

Closes #623.

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
81475d51;Ben Darnell;2012-10-29 22:33:54 -0700;AsyncHTTPTestCase no longer closes AsyncHTTPClients on the global IOLoop.
Code that uses the global IOLoop may retain a global reference to
an AsyncHTTPClient as well, which would become inoperable after a test
had closed it.

==

tornado/testing.py
website/sphinx/releases/next.rst
==================
317508b7;Peter Sobot;2012-10-23 18:06:08 -0300;Added more sensical callback time verification.

==

tornado/ioloop.py
==================
041388cb;Peter Sobot;2012-10-23 15:33:17 -0300;Added period check in PeriodicCallback
If a user currently passes in 0ms (hopefully by accident) as the
callback time for a periodic callback, Tornado consumes a huge amount
of CPU and never calls the function.
==

tornado/ioloop.py
==================
db843a59;Ben Darnell;2012-10-18 21:20:53 -0400;Add a comment to runtests.sh about python 3.
Closes #612.

==

runtests.sh
==================
c791984d;Jonathan Camp;2012-10-18 10:32:45 +0200;correctly handle empty POST parameters

==

tornado/httputil.py
tornado/test/httpserver_test.py
==================
15d1746a;Ben Darnell;2012-10-07 19:11:37 -0700;Actually use add_callback_from_signal from the SIGCHLD handler.

==

tornado/process.py
==================
c04005b7;Ben Darnell;2012-10-07 16:59:36 -0700;Fix TwistedIOLoop on epoll.
Twisted's removeAll doesn't like it if a socket is closed without being
unregistered.  EPoll generates events slightly differently so be more
careful about doubled connectionLost events.

==

maint/vm/ubuntu12.04/tox.ini
tornado/platform/twisted.py
tornado/test/httpclient_test.py
tornado/test/ioloop_test.py
tornado/test/process_test.py
==================
3654790f;Ben Darnell;2012-10-07 14:21:42 -0700;Implement TwistedIOLoop, to bridge the gap with Twisted in the other direction.
This also serves as a proof of concept for the refactored IOLoop interface.

==

tornado/platform/twisted.py
tornado/test/process_test.py
tornado/test/twisted_test.py
tornado/util.py
tox.ini
website/sphinx/releases/next.rst
website/sphinx/twisted.rst
==================
4afeef8e;Ben Darnell;2012-10-07 16:02:50 -0700;Remove the method IOLoop.running.

==

tornado/ioloop.py
website/sphinx/ioloop.rst
website/sphinx/releases/next.rst
==================
1a66183f;Ben Darnell;2012-10-07 11:16:41 -0700;Split IOLoop into a base class and poll-based implementation.
The base class has all the methods with docstrings; nearly all the
implementation is in a new subclass PollIOLoop.

==

tornado/ioloop.py
tornado/platform/epoll.py
tornado/platform/kqueue.py
tornado/platform/select.py
==================
8b32830d;Ben Darnell;2012-10-06 12:52:34 -0700;Move IOLoop subclasses to their own modules under platform.

==

maint/vm/ubuntu12.04/tox.ini
tornado/ioloop.py
tornado/platform/epoll.py
tornado/platform/kqueue.py
tornado/platform/select.py
tox.ini
==================
832ac4f6;Ben Darnell;2012-10-06 12:51:25 -0700;Add a little more slack to this timing test.
It seems to fail a lot on VMs.

==

tornado/test/testing_test.py
==================
2d7520e7;Ben Darnell;2012-10-06 21:06:52 -0700;Check self.closed() in the inner read loop of IOStream.
This was causing error logs in the keepalive tests (but only on epoll)

==

tornado/iostream.py
==================
50e0a97f;Ben Darnell;2012-10-05 22:09:07 -0700;Avoid creating multiple redundant autoreload callbacks.

==

tornado/autoreload.py
website/sphinx/releases/next.rst
==================
773cbf66;Ben Darnell;2012-10-04 21:35:02 -0700;One more log spam test: connect then immediately close the connection.

==

tornado/test/httpserver_test.py
==================
c5908622;Ben Darnell;2012-10-04 21:14:41 -0700;Add tests and release notes for {% apply %} unicode fix.

==

tornado/test/template_test.py
website/sphinx/releases/next.rst
==================
54c807cc;Ben Darnell;2012-10-04 21:08:27 -0700;Merge remote-tracking branch 'dmitric/master'

==
==================
7c34eeca;Ben Darnell;2012-10-04 21:01:56 -0700;Fix typo in release notes (thanks jparise!))

==

website/sphinx/releases/next.rst
==================
5339614d;Dmitri Cherniak;2012-10-04 14:07:29 -0400;Ensure result from apply block is utf8

==

tornado/template.py
==================
3258726f;Ben Darnell;2012-10-03 22:36:46 -0700;Reduce log spam from closed client connections.
Added a bunch of tests for keepalive functionality and fixed two cases
where we'd log an exception when the client was gone.  ECONNRESET
errors in IOStream reads now just close the connection instead of
logging an error (the exception information is still available on
stream.error in the close callback for apps that want it).
HTTPConnection now also checks for a closed connection and cleans up
instead of logging an error.

IOStream now raises a new exception class StreamClosedError instead of
IOError.

==

tornado/httpserver.py
tornado/iostream.py
tornado/test/httpserver_test.py
website/sphinx/releases/next.rst
==================
20deb5ca;Ben Darnell;2012-09-30 23:57:49 -0700;Add time_func parameter to IOLoop, and make it possible to use time.monotonic.
This means that calls to IOLoop.add_timeout that pass a number must be
updated to use IOLoop.time instead of time.time.

There are still some places where we use time.time in the code, but they
are either places where wall time is desired, or non-critical deltas (e.g.
printing elapsed time at the end of a request).

Thanks to apenwarr and mgenti for pull requests and discussion relating to
this change. (#558 and #583)

==

tornado/curl_httpclient.py
tornado/ioloop.py
tornado/platform/auto.py
tornado/platform/twisted.py
tornado/simple_httpclient.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/runtests.py
tornado/test/testing_test.py
tornado/testing.py
tornado/websocket.py
tox.ini
website/sphinx/releases/next.rst
==================
469e2274;Ben Darnell;2012-09-30 22:57:32 -0700;IOLoop poller implementations are now subclasses of IOLoop.
Update testing command-line flags to allow configuration of a non-default
IOLoop.

==

tornado/ioloop.py
tornado/test/runtests.py
tornado/testing.py
tox.ini
website/sphinx/releases/next.rst
==================
91c5eb83;Ben Darnell;2012-09-30 22:19:59 -0700;Extract configure logic from AsyncHTTPClient to a base class.
IOLoop now extends this base class as well, although no other
implementations are provided yet.  This does not include the
pseudo-singleton magic from AsyncHTTPClient.

==

tornado/httpclient.py
tornado/ioloop.py
tornado/test/util_test.py
tornado/util.py
==================
13a62380;Ben Darnell;2012-09-30 19:10:16 -0700;AsyncHTTPClient: remove legacy magic around max_clients arg.
Fix a bug in which configured kwargs would be applied to a non-configured
class.

==

tornado/httpclient.py
tornado/test/simple_httpclient_test.py
website/sphinx/releases/next.rst
==================
9a04c2b6;Ben Darnell;2012-09-30 16:13:49 -0700;OptionParser now contains a dict rather than subclassing dict.

==

tornado/options.py
website/sphinx/releases/next.rst
==================
2aab06ba;Ben Darnell;2012-09-30 16:06:21 -0700;Doc updates for the options module

==

tornado/options.py
website/sphinx/options.rst
==================
9229d59c;Ben Darnell;2012-09-30 15:44:45 -0700;Rename _Options to OptionParser, and fix bugs with --help

==

tornado/options.py
tornado/test/options_test.py
website/sphinx/releases/next.rst
==================
f61352c8;Ben Darnell;2012-09-30 15:28:33 -0700;Add per-option callbacks, and implement --help with them.

==

tornado/options.py
tornado/test/options_test.py
website/sphinx/releases/next.rst
==================
fc6f1d5e;Ben Darnell;2012-09-30 15:05:29 -0700;Introduce parse callbacks in the options module.
This is a generalization of the existing magic for logging.  Logging
configuration is now moved to log.py.

==

tornado/log.py
tornado/options.py
tornado/test/options_test.py
website/sphinx/releases/next.rst
==================
fe0182da;Ben Darnell;2012-09-30 12:00:10 -0700;AsyncHTTPTestCase: bind the server port earlier so it's available in user-overridable methods like get_app.

==

tornado/testing.py
==================
3747af59;Ben Darnell;2012-09-29 17:47:41 -0700;Add futures to travis and vm tests, update assorted dependency versions.

==

.travis.yml
maint/requirements.txt
maint/vm/freebsd/setup.sh
maint/vm/freebsd/tox.ini
maint/vm/ubuntu10.04/setup.sh
maint/vm/ubuntu10.04/tox.ini
maint/vm/ubuntu12.04/setup.sh
maint/vm/ubuntu12.04/tox.ini
==================
6e40f506;Ben Darnell;2012-09-29 17:46:50 -0700;Cleanly shut down the ThreadPoolExecutor in Resolver tests.
This was somehow causing a problem on Ubuntu 10.04.

==

tornado/test/netutil_test.py
==================
03b00ae4;Ben Darnell;2012-09-29 16:57:04 -0700;Doc coverage updates

==

tornado/ioloop.py
website/sphinx/ioloop.rst
website/sphinx/websocket.rst
==================
5f5aae9d;Ben Darnell;2012-09-29 16:49:42 -0700;Release notes for futures branch merge.

==

website/sphinx/releases/next.rst
==================
6e7488fb;Ben Darnell;2012-09-29 16:39:44 -0700;Merge branch 'futures'

==
==================
541160cb;Ben Darnell;2012-09-29 16:35:57 -0700;Drop twisted tests from pypy-full configuration.
These tests seem to fail much more often on the futures branch than
master for some unknown reason. (the failures are in the
subprocess-related tests)

==

tox.ini
==================
58bc5d34;Ben Darnell;2012-09-29 16:20:51 -0700;Release notes for stack_context changes

==

website/sphinx/releases/next.rst
==================
aaf8c368;Ben Darnell;2012-09-29 15:55:47 -0700;Merge branch 'master' into futures
Conflicts:
	tornado/autoreload.py
	tornado/ioloop.py
	tornado/netutil.py
	tornado/simple_httpclient.py
	tornado/test/ioloop_test.py
	tornado/test/runtests.py
	tox.ini

==
==================
2ded2661;Ben Darnell;2012-09-29 14:29:22 -0700;Simplify StackContext logic and behavior.
Previously, there was an optimization to avoid recreating contexts
that were already on the stack.  This optimization rarely mattered
(especially given the movement to run all callbacks through
IOLoop.add_callback), and sometimes caused surprising behavior as
other exception handlers could be inserted between stack contexts that
expected to be adjacent to each other or to the wrapped function.  Now
each wrapped function recreates its full stack of contexts, even if
some of those contexts were already on the stack.

This change allows a use of NullContext in testing.py to be
removed.

==

tornado/stack_context.py
tornado/testing.py
==================
69e44920;Ben Darnell;2012-09-29 14:07:10 -0700;Improve isolation of stack contexts.
Previously, a chain of callbacks started without any contexts could
accidentally pick up other contexts based on where the callbacks
were run.  This was due to a mistaken optimization in the no-context
case; now the behavior is the same whether the initial context was empty
or not.

==

tornado/stack_context.py
tornado/test/stack_context_test.py
==================
98177912;Ben Darnell;2012-09-29 13:16:23 -0700;Release note updates

==

website/sphinx/releases/next.rst
==================
ae7cfe40;Ben Darnell;2012-09-29 13:08:10 -0700;Add IOLoop.add_callback_from_signal, which avoids deadlocks which can occur when calling add_callback from a signal handler.
Also fix an issue in the recent set_wakeup_fd change when running
an IOLoop on a non-main thread.

==

tornado/ioloop.py
tornado/process.py
tornado/test/ioloop_test.py
==================
a759f9a0;Ben Darnell;2012-09-29 11:27:46 -0700;Python 3.3 includes a fast time-independent comparison function, so use it when available.

==

tornado/web.py
==================
e5805a95;Ben Darnell;2012-09-24 00:21:38 -0400;Apply my own suggested changes from pull request #555.

==

tornado/httpclient.py
tornado/web.py
tornado/wsgi.py
==================
719215b9;Ben Darnell;2012-09-24 00:13:25 -0400;Allow non-standard HTTP codes to be passed with HTTPError.

==

tornado/test/web_test.py
tornado/web.py
==================
54f1bd33;Ben Darnell;2012-09-23 23:26:24 -0400;Merge branch 'master' into merge
Conflicts:
	tornado/simple_httpclient.py
	tornado/test/web_test.py

==
==================
5c0c05d9;Ben Darnell;2012-09-23 23:12:17 -0400;Fix status/reason tests for py3, -curl, and -opt modes

==

tornado/test/web_test.py
tornado/web.py
==================
d7f1bf05;Ben Darnell;2012-09-19 23:26:01 -0700;Set Date header by default on all responses.

==

tornado/test/web_test.py
tornado/web.py
==================
21552e6c;Joachim Bauch;2012-09-18 10:56:54 +0200;Support sending ping frames, trigger callback on pong frames.

==

tornado/websocket.py
==================
a8a7ee40;Ben Darnell;2012-09-19 23:02:56 -0700;Don't try to call set_wakeup_fd on windows, it crashes the process.

==

tornado/ioloop.py
==================
18af6c79;Ben Darnell;2012-09-17 00:22:39 -0700;Use signal.set_wakeup_fd in IOLoop to close a race with signal handlers.

==

tornado/ioloop.py
tornado/platform/common.py
tornado/platform/interface.py
tornado/platform/posix.py
==================
200c607f;Ben Darnell;2012-09-16 23:39:10 -0700;Subprocess.returncode should match subprocess.Popen.returncode.

==

tornado/process.py
tornado/test/process_test.py
==================
ca22303f;Ben Darnell;2012-09-16 23:35:20 -0700;Skip pipe and subprocess tests on windows.

==

tornado/iostream.py
tornado/test/iostream_test.py
tornado/test/process_test.py
tornado/test/util.py
==================
2a2b4050;Ben Darnell;2012-09-16 23:24:45 -0700;Add a SIGCHILD handler to Subprocess.

==

tornado/process.py
tornado/test/process_test.py
==================
0eb16fc5;Ben Darnell;2012-09-16 19:53:32 -0700;Release notes.

==

website/sphinx/releases/next.rst
==================
4cf8344d;Ben Darnell;2012-09-16 19:26:03 -0700;Add tornado.process.Subprocess

==

tornado/iostream.py
tornado/process.py
tornado/test/process_test.py
==================
6449189d;Ben Darnell;2012-09-16 17:13:53 -0700;Add PipeIOStream

==

tornado/iostream.py
tornado/test/iostream_test.py
website/sphinx/iostream.rst
==================
e88f02ef;Ben Darnell;2012-09-16 16:58:48 -0700;Split IOStream into BaseIOStream and IOStream.
IOStream the socket-specific code; BaseIOStream will be the basis
for non-socket-based streams (i.e. pipes)

==

tornado/iostream.py
website/sphinx/iostream.rst
==================
186e9471;Ben Darnell;2012-09-16 14:02:49 -0700;Remove tornado.database, which is now distributed separately.

==

.travis.yml
demos/blog/README
demos/blog/blog.py
maint/requirements.txt
maint/test/appengine/common/cgi_runtests.py
maint/vm/ubuntu10.04/setup.sh
maint/vm/ubuntu10.04/tox.ini
maint/vm/ubuntu12.04/setup.sh
maint/vm/ubuntu12.04/tox.ini
tornado/database.py
tornado/test/import_test.py
tox.ini
website/sphinx/database.rst
website/sphinx/integration.rst
website/sphinx/releases/next.rst
==================
4044f96c;Ben Darnell;2012-09-16 13:01:16 -0700;Mention HTTPError explicitly in the write_error docs.
Closes #594.

==

tornado/web.py
==================
95414238;Ben Darnell;2012-09-10 09:53:08 -0700;Replace get_unused_port with bind_unused_port, which binds to port 0 to allow the OS to select a port for us.
Closes #590.

==

tornado/test/httpclient_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/process_test.py
tornado/test/simple_httpclient_test.py
tornado/test/twisted_test.py
tornado/testing.py
website/sphinx/releases/next.rst
website/sphinx/testing.rst
==================
76109201;Ben Darnell;2012-09-09 21:34:58 -0700;Run more of web_test in wsgi_test.  Fix a bug with 304 in wsgi.

==

tornado/test/web_test.py
tornado/test/wsgi_test.py
tornado/wsgi.py
==================
070e08a2;Ben Darnell;2012-09-09 21:04:58 -0700;Keep empty arguments in WSGI mode too.
Add another test and release notes.

==

tornado/test/web_test.py
tornado/wsgi.py
website/sphinx/releases/next.rst
==================
f1ae3988;Ben Darnell;2012-09-09 20:52:13 -0700;Merge commit 'ebf17aa'
Closes #585.

==
==================
6c0ee8d7;Ben Darnell;2012-09-09 18:55:47 -0700;Add additional command-line arguments to tornado.testing.main

==

tornado/testing.py
website/sphinx/releases/next.rst
==================
dd3b0c2c;Ben Darnell;2012-09-09 18:43:52 -0700;Document the logging changes

==

tornado/log.py
tornado/testing.py
website/sphinx/log.rst
website/sphinx/releases/next.rst
website/sphinx/testing.rst
website/sphinx/utilities.rst
==================
a1f6beec;Ben Darnell;2012-09-09 15:45:53 -0700;Introduce ExpectLog as a finer-grained alternative to LogTrapTestCase, and use it throughout the test suite.

==

tornado/test/gen_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/iostream_test.py
tornado/test/process_test.py
tornado/test/simple_httpclient_test.py
tornado/test/stack_context_test.py
tornado/test/template_test.py
tornado/test/web_test.py
tornado/testing.py
==================
97d64236;Ben Darnell;2012-09-09 15:43:24 -0700;Errors while rendering templates no longer log the generated code.
Now that stack traces have source line info, the full code is hopefully
unnecessary (and if it is needed, this isn't the best way to get it).
Syntax errors in the generated code will still dump the whole thing
to the log.

==

tornado/template.py
==================
ba0b9d43;Ben Darnell;2012-09-09 13:23:49 -0700;Suppress tornado.access logs in tests, and remove LogTrapTestCase from tests that no longer produce any logs.

==

tornado/test/auth_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/ioloop_test.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
tornado/test/template_test.py
tornado/test/testing_test.py
tornado/test/web_test.py
tornado/test/wsgi_test.py
==================
2bc828b5;Ben Darnell;2012-09-09 13:23:32 -0700;autoreload also needs to guarantee that logging is configured.

==

tornado/autoreload.py
==================
1bc087c0;Ben Darnell;2012-09-08 21:35:51 -0700;Move LogFormatter from options.py to log.py

==

tornado/log.py
tornado/options.py
tornado/test/log_test.py
tornado/test/options_test.py
tornado/test/runtests.py
==================
7d07525c;Ben Darnell;2012-09-08 21:06:46 -0700;Compensate for move to non-root loggers by calling basicConfig in IOLoop.start.
The root logging methods call basicConfig automatically, but non-root loggers
do not.

==

tornado/ioloop.py
==================
9b944aa2;Ben Darnell;2012-09-08 20:51:31 -0700;Switch from root logger to separate loggers.
Rather than using one logger per module, use three semantically-defined
loggers:  tornado.access, tornado.application, and tornado.general.

==

tornado/auth.py
tornado/autoreload.py
tornado/curl_httpclient.py
tornado/database.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/log.py
tornado/netutil.py
tornado/platform/twisted.py
tornado/process.py
tornado/simple_httpclient.py
tornado/template.py
tornado/testing.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
18819583;Ben Darnell;2012-09-08 12:49:22 -0700;Start new release notes

==

website/sphinx/releases.rst
website/sphinx/releases/next.rst
==================
58316a4d;Ben Darnell;2012-09-06 21:38:20 -0700;Merge branch 'master' into futures

==
==================
bcaaad19;Ben Darnell;2012-09-05 17:54:47 -0700;Merge branch 'tornado3'

==
==================
5b7ebadd;Ben Darnell;2012-09-05 17:54:21 -0700;Add unittest2 to other test configurations.

==

.travis.yml
maint/vm/ubuntu10.04/tox.ini
maint/vm/ubuntu12.04/tox.ini
==================
f50ef8e3;bdarnell;2012-09-04 22:20:03 -0700;Merge pull request #593 from phihag/correct-AI_ADDRCONFIG
Do not set AI_ADDRCONFIG in netutils.bind_sockets
==
==================
7a2442d9;Ben Darnell;2012-09-04 21:50:58 -0700;Post-release version bump

==

setup.py
tornado/__init__.py
==================
b85e2f6e;Philipp Hagemeister;2012-09-04 17:04:47 +0200;Add an example for flags

==

tornado/netutil.py
==================
587ef5ee;Philipp Hagemeister;2012-09-04 12:34:00 +0200;Do not set AI_ADDRCONFIG in netutil.bind_sockets

==

tornado/netutil.py
==================
c744288f;Philipp Hagemeister;2012-09-04 12:33:38 +0200;Add a flags= option to netutil.bind_sockets

==

tornado/netutil.py
==================
648bebf0;Ben Darnell;2012-09-03 22:09:29 -0700;Final 2.4 release notes

==

website/sphinx/releases.rst
website/sphinx/releases/v2.4.0.rst
==================
0846140f;Ben Darnell;2012-09-03 22:07:23 -0700;Set version number to 2.4

==

setup.py
tornado/__init__.py
==================
0cc0df77;Ben Darnell;2012-09-03 12:10:57 -0700;Add magic for yielding futures.
Introduce IOLoop.current() as a thread-local counterpart to IOLoop.instance().

gen.engine now recognizes Futures directly.

==

tornado/gen.py
tornado/ioloop.py
tornado/test/concurrent_test.py
tornado/testing.py
==================
5587a45e;Ben Darnell;2012-09-03 12:00:26 -0700;Add gen.YieldFuture.

==

tornado/gen.py
tornado/test/concurrent_test.py
==================
cd8862d6;Ben Darnell;2012-09-02 10:50:57 -0700;Flesh out future-oriented client interfaces.
Make DummyFuture a more complete imitation of Future.

Add tests demonstrating various implementation styles.

Add a decorator that simplifies use of futures.

==

tornado/concurrent.py
tornado/test/concurrent_test.py
tornado/test/runtests.py
==================
fd9bcb2e;Ben Darnell;2012-09-02 09:55:31 -0700;Improve autoreload for import-time errors.
We already had a special case for SyntaxErrors, but NameErrors and other
import-time errors could leave a file unwatched.

==

tornado/autoreload.py
==================
f4c037c8;bdarnell;2012-09-01 14:30:55 -0700;Merge pull request #591 from taylorhughes/master
Change example to not include legit-random-looking cookie secrets
==
==================
35b432fe;Taylor Hughes;2012-08-31 23:47:11 -0700;Make it obvious to anyone reading copy-pasted example code that the cookie secret is not suitable for production use.

==

demos/auth/authdemo.py
demos/blog/blog.py
demos/chat/chatdemo.py
demos/facebook/facebook.py
demos/websocket/chatdemo.py
==================
764b443b;Taylor Hughes;2012-08-31 23:46:56 -0700;Make it obvious to anyone reading copy-pasted example code that the cookie secret is not suitable for production use.

==

website/sphinx/overview.rst
==================
df620e43;Ben Darnell;2012-08-31 16:44:06 -0400;Use new async resolver interface in simple_httpclient.

==

tornado/simple_httpclient.py
tornado/test/httpserver_test.py
==================
e5e15314;Ben Darnell;2012-08-31 16:13:40 -0400;Capture stack_context in IOLoop.add_future

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
47bb3824;Ben Darnell;2012-08-30 23:10:45 -0400;Add futures-based Resolver interface, and test with both sync and thread pool.

==

tornado/concurrent.py
tornado/ioloop.py
tornado/netutil.py
tornado/test/ioloop_test.py
tornado/test/netutil_test.py
tornado/test/runtests.py
==================
cb2c088b;Ben Darnell;2012-08-30 21:58:40 -0400;Add IOLoop.add_future to return to the IOLoop after a future has completed.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
eef8d9ff;Ben Darnell;2012-08-30 21:55:34 -0400;Add concurrent.futures as an optional dependency for -full builds

==

tox.ini
==================
e1a0aea3;Ben Darnell;2012-08-30 19:44:42 -0400;Replace our hacky homegrown test skipping with unittest.skip.
Add a test runner that makes the output for skipped tests more informative.

==

tornado/test/curl_httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/process_test.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
tornado/test/twisted_test.py
tornado/test/wsgi_test.py
==================
4e91f672;Ben Darnell;2012-08-30 17:43:54 -0400;Start using new unittest features from py27/unittest2.
Tornado's test suite now requires unittest2 on py25 and py26.
tornado.testing will use unittest2 if available but does not require
it.

This means we can no longer run the test suite under app engine 2.5,
although it still works for app engine 2.7.

==

maint/test/appengine/tox.ini
tornado/test/escape_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/import_test.py
tornado/test/ioloop_test.py
tornado/test/locale_test.py
tornado/test/options_test.py
tornado/test/runtests.py
tornado/test/stack_context_test.py
tornado/test/testing_test.py
tornado/test/twisted_test.py
tornado/test/util.py
tornado/test/util_test.py
tornado/testing.py
tox.ini
==================
73c1ddfe;Ben Darnell;2012-08-30 14:41:24 -0400;Move maint/appengine to maint/test/appengine

==

maint/appengine/py25/tornado
maint/appengine/py27/tornado
maint/test/appengine/README
maint/test/appengine/common/cgi_runtests.py
maint/test/appengine/common/runtests.py
maint/test/appengine/py25/app.yaml
maint/test/appengine/py25/cgi_runtests.py
maint/test/appengine/py25/runtests.py
maint/test/appengine/py25/tornado
maint/test/appengine/py27/app.yaml
maint/test/appengine/py27/cgi_runtests.py
maint/test/appengine/py27/runtests.py
maint/test/appengine/py27/tornado
maint/test/appengine/setup.py
maint/test/appengine/tox.ini
==================
3474d5f9;Ben Darnell;2012-08-30 13:42:54 -0400;Twisted is dropping python 2.5 support in their upcoming 12.2.0 release.

==

tox.ini
==================
0148fda3;Ben Darnell;2012-08-29 13:33:00 -0400;Autobahn websocket test has moved to a separate package.

==

maint/test/websocket/client.py
maint/test/websocket/tox.ini
==================
b76e7961;Ben Darnell;2012-08-28 15:24:55 -0400;Fix tests on windows

==

tornado/test/options_test.py
tornado/test/simple_httpclient_test.py
==================
38077c5e;Ben Darnell;2012-08-28 13:43:13 -0400;Add link to new settings docs in release notes

==

website/sphinx/releases/next.rst
==================
a2e746c0;Ben Darnell;2012-08-27 19:18:38 -0400;Organize next-release notes.

==

website/sphinx/releases/next.rst
==================
790d86a4;Ben Darnell;2012-08-27 18:56:34 -0400;Document all available application settings.

==

tornado/web.py
website/sphinx/overview.rst
website/sphinx/web.rst
==================
5eb9821e;Ben Darnell;2012-08-27 17:49:20 -0400;Fill in missing docs and other minor doc updates.

==

tornado/httputil.py
website/sphinx/releases/next.rst
website/sphinx/testing.rst
website/sphinx/web.rst
==================
b8d0742b;Ben Darnell;2012-08-27 17:45:50 -0400;Run twisted tests in a temporary directory so they don't leak temp files.
This mainly affected the unix socket tests.

==

tornado/test/twisted_test.py
==================
06c09038;Ben Darnell;2012-08-27 17:33:01 -0400;Autopep8 cleanups.

==

tornado/auth.py
tornado/iostream.py
tornado/platform/twisted.py
tornado/stack_context.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/locale_test.py
tornado/test/options_test.py
tornado/test/runtests.py
tornado/test/twisted_test.py
tornado/test/wsgi_test.py
tornado/testing.py
tornado/web.py
==================
0cb3924a;Ben Darnell;2012-08-27 17:30:06 -0400;Don't let autopep8 rewrite all the lines longer than 80 chars.

==

maint/scripts/run_autopep8.sh
==================
84df7ad4;Ben Darnell;2012-08-27 10:43:13 -0700;Release note updates

==

website/sphinx/releases/next.rst
==================
54d91d5e;Ben Darnell;2012-08-26 18:03:12 -0700;Fix template errors with empty blocks.
Emits a "pass" statement in every generated block whether it's empty or not;
I verified with the disassembler that the unnecessary pass statements
don't generate extra bytecodes.

Closes #546.

==

tornado/template.py
tornado/test/template_test.py
==================
58671703;Ben Darnell;2012-08-26 17:43:38 -0700;Refactor template namespace from render_string to its own method.
This method may be overridden as an alternative to overriding render_string
and adding to kwargs, or may be used directly to render templates
without going through render_string (as when templates are constructed
directly; see https://github.com/facebook/tornado/issues/564)

==

tornado/web.py
website/sphinx/web.rst
==================
30bc2332;Ben Darnell;2012-08-26 16:45:35 -0700;Make the openid claimed_id available in OpenIDMixin
This should be used as a persistent identifier for the user
since it is the only field guaranteed not to change.

Closes #568.

==

tornado/auth.py
==================
4386f1b0;Ben Darnell;2012-08-26 16:23:30 -0700;Make authdemo's logout less confusing.
Closes #376.

==

demos/auth/authdemo.py
==================
8dc3a5d4;Ben Darnell;2012-08-24 20:26:46 -0700;Release note updates

==

website/sphinx/releases.rst
website/sphinx/releases/next.rst
==================
df9a59a2;Ben Darnell;2012-08-19 19:31:15 -0700;Fix test for pre-2.7 assertions

==

tornado/test/simple_httpclient_test.py
==================
b9d94fd1;Ben Darnell;2012-08-19 19:20:58 -0700;Merge remote-tracking branch 'evanj/master' into merge

==
==================
0e6540bf;Ben Darnell;2012-08-19 19:02:56 -0700;When closing an HTTPConnection, also clear a circular reference to self.
This reference could cause garbage collection of the connection object
to be delayed.

Closes #586.

==

tornado/httpserver.py
==================
302c5032;Ben Darnell;2012-08-19 12:16:15 -0700;Allow calls to SSLIOStream.write while the connection is in progress.
Skip fast-path writes while connecting, and rework the interaction
between base class and subclass to avoid the possibility of doubly-wrapped
sockets.

Closes #587.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
0147ac24;Ben Darnell;2012-08-18 22:56:14 -0700;Reorganize IOStream tests and run them in both regular and ssl mode.
In the process, discover a quirk of the server-side SSL handshake and
a possible bug with ssl in pypy.

==

tornado/test/iostream_test.py
==================
cbc84bc5;Ben Darnell;2012-08-18 19:39:57 -0700;Add binary_form argument to get_ssl_certificate.
The default form contains only basic information; the binary form is more
complete.

==

tornado/httpserver.py
==================
ebf17aa1;Yusuf Simonson;2012-08-15 17:54:56 -0700;Do not remove empty GET/POST parameters

==

tornado/httpserver.py
tornado/test/httpserver_test.py
==================
2b073850;Ben Darnell;2012-08-15 10:38:09 -0700;Test cleanup.
Listen on 127.0.0.1 to avoid firewall warnings. Move to AsyncHTTPTestCase
to reduce boilerplate.  Close a leaking file descriptor (ResourceWarnings
are still just printing out instead of making the tests fail)

==

tornado/test/simple_httpclient_test.py
==================
986f415e;Ben Darnell;2012-08-15 10:22:12 -0700;Merge remote-tracking branch 'bergundy/upstream'

==
==================
0e1863c6;Roey Berman;2012-08-15 14:48:20 +0300;added b() to string assertion in simple_httpclient_test:HTTP100ContinueTestCase (python3)

==

tornado/test/simple_httpclient_test.py
==================
b399c011;Roey Berman;2012-08-15 14:36:51 +0300;added b to stream write (for passing python3 tests

==

tornado/test/simple_httpclient_test.py
==================
954777f3;Roey Berman;2012-08-15 14:15:31 +0300;ignore 1xx headers prev commit was incomplete, fixed

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
4daeaeb1;Ben Darnell;2012-08-13 10:06:48 -0700;Blacklist a few more twisted tests that seem flaky

==

tornado/test/twisted_test.py
==================
685a4cd9;Ben Darnell;2012-08-13 10:06:10 -0700;Update docutils dependency version.
0.9 doesn't appear to be in pypi any more.

==

maint/requirements.txt
==================
ec498169;Ben Darnell;2012-08-11 17:51:27 -0700;Fix str/bytes problems in the auth module on python 3.
In some cases signatures were being computed on str(byte object),
which is incorrect.  Enable python -bb flag to catch this class of
errors and fix up a few more instances.

Fixes #581.

==

tornado/auth.py
tornado/test/options_test.py
tornado/test/runtests.py
tornado/test/web_test.py
tox.ini
==================
6385cfaa;Ben Darnell;2012-08-11 12:42:49 -0700;Remove httpclient max_simultaneous_connections argument.
This argument doesn't do anything in modern versions of libcurl,
and is confusingly similar to max_clients.

==

tornado/curl_httpclient.py
tornado/simple_httpclient.py
==================
91b7c473;Ben Darnell;2012-08-11 12:27:23 -0700;Merge branch 'branch2.3'

==
==================
1acac15d;Ben Darnell;2012-08-11 12:14:09 -0700;Update doc examples for xsrf_form_html.
{% module %} or {% raw %} must be used now due to auto-escaping.

==

website/sphinx/overview.rst
==================
359f5a3c;Ben Darnell;2012-08-11 12:09:57 -0700;Latex output file must end in .tex

==

website/Makefile
website/sphinx/conf.py
==================
30ee00b3;Ben Darnell;2012-08-11 09:07:33 -0700;Add latex_documents configuration so readthedocs can build pdfs of the docs.

==

website/sphinx/conf.py
==================
90617dfe;Ben Darnell;2012-08-11 12:09:57 -0700;Latex output file must end in .tex

==

website/Makefile
website/sphinx/conf.py
==================
c9f0a904;Ben Darnell;2012-08-11 09:07:33 -0700;Add latex_documents configuration so readthedocs can build pdfs of the docs.

==

website/sphinx/conf.py
==================
f594c7b2;Stiletto;2012-08-06 19:43:27 +0400;Fire shutdown event from main loop

==

tornado/platform/twisted.py
tornado/test/twisted_test.py
==================
53738a9c;Stiletto;2012-07-31 00:25:04 +0400;Fixed shutdown sequence in twisted reactor

==

tornado/platform/twisted.py
==================
aaab26a4;Evan Jones;2012-08-02 11:13:58 -0400;simple_httpclient: Report errno and reason for connection errors.
Previously, this reported "Connection closed" for everything. This change
adds the exception info: HTTP 599: [Errno 61] Connection refused

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
121604bc;Roey Berman;2012-07-31 17:43:12 +0300;simple_httpclient: ignore 1xx headers

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
303e9635;bdarnell;2012-07-31 04:17:47 -0700;Merge pull request #573 from ewdurbin/master
Allow 'oob' as a callback_uri per OAuth spec section 2.1
==
==================
9ddbd7c1;Roey Berman;2012-07-30 13:37:17 +0300;iostream_test: moved the server.close() call from write the after write callback to just before the second read_until().

==

tornado/test/iostream_test.py
==================
ae536157;Ernest W. Durbin III;2012-07-30 11:16:56 -0400;more oob changes

==

tornado/auth.py
==================
e2009030;bdarnell;2012-07-29 08:45:20 -0700;Merge pull request #569 from MartinMartimeo/patch-1
Adding super(...).__init__ in web.py
==
==================
68b5808e;MartinMartimeo;2012-07-21 22:55:38 +0300;Omitting super(...).__init__() causes python, when RequestHandler is extended with multiple class inheritance, to not execute all __init__ methods of all super classes.

==

tornado/web.py
==================
b5288cf0;bdarnell;2012-07-14 10:56:03 -0700;Merge pull request #560 from ei-grad/master
[trivial] Output a peer name to log message on ssl errors
==
==================
5edd8daf;Roey Berman;2012-07-12 19:57:38 +0300;Fixed and added regression test for a bug that was introduced in 2.3 where the IOStream._close_callback would never be called if there were pending reads.
(Cherry-picked from https://github.com/facebook/tornado/pull/561 with
amendments for compatibility with python 2.5-2.6 -bdarnell)

Closes #561.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
3b56036f;Andrew Grigorev;2012-07-09 15:17:07 +0400;formatting

==

tornado/iostream.py
==================
e9acb43f;Andrew Grigorev;2012-07-09 14:47:51 +0400;output a peer name to log message on ssl errors

==

tornado/iostream.py
==================
00688f9a;bdarnell;2012-07-03 23:03:05 -0700;Merge pull request #557 from raullenchai/master
Fix handling of a limited form of secure_cookie tampering
==
==================
61007f88;Ben Darnell;2012-07-03 22:24:28 -0700;Fix sphinx formatting of new docstring

==

tornado/testing.py
==================
3ae8915e;bdarnell;2012-07-03 22:19:51 -0700;Merge pull request #556 from yoinc/master
Forward testing.main kwargs to unittest.main
==
==================
1ca245f0;Raullen;2012-07-02 17:28:44 -0700;return None when a secure-cookie is forged

==

tornado/web.py
==================
44aebc2d;Joey Liaw;2012-06-14 18:27:40 -0700;Forward testing.main kwargs to unittest.main

==

tornado/testing.py
==================
481c2440;Alek Storm;2012-06-30 23:40:14 -0400;Add ability to get/set HTTP response reason phrase in RequestHandler and HTTPResponse

==

tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/web_test.py
tornado/web.py
tornado/wsgi.py
==================
ed7030d2;Ben Darnell;2012-06-29 00:53:22 -0700;Disallow multiple calls to add_handler for the same fd in IOLoop.
This was already true for epoll; this change adds a check for
kqueue and select implementations.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
cfd7a96c;bdarnell;2012-06-28 23:57:11 -0700;Merge pull request #551 from minrk/reuseaddr
Don't set SO_REUSEADDR on Windows
==
==================
a240c768;bdarnell;2012-06-28 23:54:04 -0700;Merge pull request #547 from evanj/master
Detect SSL option errors at start up
==
==================
ff12f295;bdarnell;2012-06-28 23:53:22 -0700;Merge pull request #552 from vigasin/master
Fix SSL error handling bug that could result in 100% cpu usage.

Possibly platform-specific; observed on windows.
==
==================
b04e5b62;Ben Darnell;2012-06-28 23:50:23 -0700;Use non-deprecated zope.interface methods in twisted bridge.

==

tornado/platform/twisted.py
tornado/test/runtests.py
tornado/test/twisted_test.py
==================
8e2f3b85;MinRK;2012-06-28 11:29:05 -0700;skip EXCLUSIVEADDRUSE on Windows

==

tornado/netutil.py
==================
32017dc6;Ivan Vigasin;2012-06-28 20:01:34 +0400;Fix ssl socket error handling.

==

tornado/iostream.py
==================
73d26a47;Evan Jones;2012-06-26 12:17:13 -0400;TCPServer: Do some validation of ssl_options
Previously, errors aren't detected until a client connects.

==

tornado/netutil.py
tornado/test/httpserver_test.py
==================
4e152b54;MinRK;2012-06-27 21:08:12 -0700;set SO_EXCLUSIVEADDRUSER on Windows instead of SO_REUSEADDR
closes #550

==

tornado/netutil.py
==================
83b38823;Ben Darnell;2012-06-27 00:02:58 -0700;Fix (and test and document) logging on py2 with non-ascii bytestrings.
The immediate motivation was an error in request logging when the
request contains non-ascii characters, but a more general fix is
desirable since there are probably more cases where we log utf8 byte
strings, and in general a logging system that blows up on data that
has a perfectly useful representation is not ideal.

Closes #544.

==

tornado/options.py
tornado/test/options_test.py
==================
c469936e;bdarnell;2012-06-26 21:04:44 -0700;Merge pull request #549 from polymorphm/bugfix_stack_context_wrap_kwargs
tornado.stack_context.wrap must not to restrict kwargs for function
==
==================
aff68344;Andrej A Antonov;2012-06-27 05:18:54 +0400;fixed the bug that tornado.stack_context.wrap restricts kwargs for function

==

tornado/stack_context.py
==================
9267fa3b;Ben Darnell;2012-06-24 19:52:53 -0700;Tests and docs for break/continue in templates

==

tornado/template.py
tornado/test/template_test.py
==================
3e508b3b;Felinx Lee;2012-06-19 11:25:51 +0800;Add continue and break statement support in while and for loop for template

==

tornado/template.py
==================
31c3f14a;bdarnell;2012-06-24 19:09:31 -0700;Merge pull request #530 from alekstorm/body_args
Factored out body argument-parsing code into httputil.parse_body_arguments
==
==================
ef9df4d0;Ben Darnell;2012-06-24 18:41:11 -0700;Encourage "python -m tornado.test.runtests" as the way to run the tests.
Remove execute bit from tornado/test/runtests.py, which would unexpectedly
run the tests from a globally-installed version of tornado when run directly.
Add a new runtests.sh to make the recommended behavior more discoverable.
Remove run_pyversion_tests.py, which has been superceded by tox.
Update docs.

Closes #545.

==

MANIFEST.in
runtests.sh
tornado/test/run_pyversion_tests.py
tornado/test/runtests.py
tornado/testing.py
==================
d37ac924;Ben Darnell;2012-06-18 00:37:55 -0700;Add pypy-full to default envlist too

==

tox.ini
==================
a310102c;Ben Darnell;2012-06-18 00:30:11 -0700;Add a pypy-full test configuration.
Pypy compatibility has improved to the point that we can run twisted_test
under it (with one small issue that we can work around).

==

tornado/test/twisted_test.py
tox.ini
==================
56da4149;Ben Darnell;2012-06-17 23:04:56 -0700;Get rid of test_sslv2_fail.
This test is more trouble than it's worth since many distributions have
hacked sslv2 support out of their builds in various ways, and at least
one (python 2.6 on ubuntu 11.10, which happens to be the platform used
on travis-ci) has a bug that results in a segfault, killing the whole
test process.

==

.travis.yml
tornado/test/httpserver_test.py
==================
ca378b9c;Ben Darnell;2012-06-17 22:57:23 -0700;Run some (synchronous) web.py tests via wsgi too.
There's probably a more principled way to do this, but for now just port
this batch of tests, which would have caught the add_header bug from
the previous commit, and uncovered an encoding problem on python 3.

==

tornado/test/web_test.py
tornado/test/wsgi_test.py
tornado/wsgi.py
==================
1924392a;bdarnell;2012-06-17 21:48:09 -0700;Merge pull request #540 from zhuzhuor/master
fix RequestHandler.add_header() for WSGIApplication
==
==================
ea646987;Bo Zhu;2012-06-17 22:30:29 -0400;fixed the bug that RequestHandler.add_header doesn't work for WSGI applications

==

tornado/wsgi.py
==================
49fede6a;bdarnell;2012-06-17 14:45:45 -0700;Merge pull request #539 from msabramo/travis-py26-allow-failure
Enhance the set of configurations tested by Travis CI
==
==================
c7fe53b0;Marc Abramowitz;2012-06-17 00:30:31 -0700;.travis.yml: Test py32 with LANG=C and LANG=en_US.utf-8

==

.travis.yml
==================
d02f5999;Marc Abramowitz;2012-06-17 00:07:37 -0700;.travis.yml: Test with more full dependencies using "matrix: include:" feature of .travis.yml

==

.travis.yml
==================
ee5af796;Marc Abramowitz;2012-06-16 23:58:54 -0700;Add py25 (depends on simplejson) to .travis.yml

==

.travis.yml
==================
10ba26da;Marc Abramowitz;2012-06-16 23:56:42 -0700;Add pypy to .travis.yml

==

.travis.yml
==================
d9d90e33;Marc Abramowitz;2012-06-16 23:46:03 -0700;Add py26 back but make it an allowable failure

==

.travis.yml
==================
4cdc02fa;bdarnell;2012-06-14 21:40:42 -0700;Merge pull request #536 from evanj/master
Documentation fixes: auto-reloading
==
==================
ae3d20f5;Ben Darnell;2012-06-14 21:29:21 -0700;Update dependency versions

==

maint/requirements.txt
==================
753bbbff;Evan Jones;2012-06-14 15:34:42 -0400;Documentation: Application(debug=True); autoreload limitations.
Application: Document debug=True and cross-link to the overview.
autoreload: Note that this can lose flags and fail if you touch sys.argv.

==

tornado/autoreload.py
tornado/web.py
website/sphinx/overview.rst
==================
489997d1;Ben Darnell;2012-06-14 01:41:04 -0700;Fix load_gettext_translations on python 3

==

MANIFEST.in
setup.py
tornado/locale.py
tornado/test/gettext_translations/extract_me.py
tornado/test/gettext_translations/fr_FR/LC_MESSAGES/tornado_test.mo
tornado/test/gettext_translations/fr_FR/LC_MESSAGES/tornado_test.po
tornado/test/locale_test.py
==================
562d9602;Ben Darnell;2012-06-14 01:03:17 -0700;Better ($LANG-independent) fix for csv translation loading on py3.

==

MANIFEST.in
setup.py
tornado/locale.py
tornado/test/csv_translations/fr_FR.csv
tornado/test/locale_test.py
tornado/test/runtests.py
==================
fb5a62df;Ben Darnell;2012-06-14 00:28:15 -0700;Ignore ImportWarnings in tests.
I can't reproduce this, but apparently in some situations setuptools
throws warnings about unrelated packages, so just turn them all off.

Closes #524

==

tornado/test/runtests.py
==================
a0b4260a;Ben Darnell;2012-06-13 23:09:15 -0700;Give test_request_timeout another 10ms slack.
This has been failing a lot on my freebsd VM.

==

tornado/test/simple_httpclient_test.py
==================
f48578cc;Ben Darnell;2012-06-13 23:08:06 -0700;Better way to force a getaddrinfo error.
This fixes the tests for users behind misbehaving DNS servers.

Closes #534.

==

tornado/test/iostream_test.py
==================
577e9a0c;Ben Darnell;2012-06-13 10:55:46 -0700;Run the tests in optimized mode too to ensure that things still work without assertions.
Fix one assert that should have been a runtime error (there are probably
more, but this is the only one currently covered by the test suite).

==

.gitignore
tornado/simple_httpclient.py
tox.ini
==================
4c230609;Ben Darnell;2012-06-13 10:42:14 -0700;Replace all assert statements in test code.
Use self.assertFoo where TestCase instances are available, otherwise
raise an exception manually.

==

tornado/test/auth_test.py
tornado/test/gen_test.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/process_test.py
tornado/test/simple_httpclient_test.py
tornado/test/twisted_test.py
tornado/test/web_test.py
==================
a303c01a;bdarnell;2012-06-12 21:57:01 -0700;Merge pull request #532 from splav/master
to_unicode fix in locale.load_translations
==
==================
5f0d4698;Ben Darnell;2012-06-08 12:04:52 -0700;Rename AsyncSSLTestCase to AsyncHTTPTestCase.
Move get_ssl_version to the httpserver_test subclasses.
Add some quick docs.

==

tornado/test/httpserver_test.py
tornado/testing.py
==================
181fdf5f;Ben Darnell;2012-06-08 11:50:06 -0700;Merge remote-tracking branch 'alekstorm/ssl_test' into merge

==
==================
04c161e8;Ben Darnell;2012-06-08 11:42:05 -0700;Merge remote-tracking branch 'alekstorm/httpclient_stack_context' into merge

==
==================
7a2779e9;Ben Darnell;2012-06-08 11:11:28 -0700;Add flush method to GzipDecompressor interface and use it.

==

tornado/simple_httpclient.py
tornado/util.py
==================
6b757584;sergey aleksandrov;2012-06-08 09:16:21 +0400;python3k to_unicode fix in locale.load_translations

==

tornado/locale.py
==================
df099865;Alek Storm;2012-06-07 23:23:04 -0400;Add testing.AsyncSSLTestCase
Allow subclasses of AsyncHTTPTestCase to provide their own http client
and server implementations.

==

tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/testing.py
==================
4b4e8905;Alek Storm;2012-06-07 16:59:05 -0400;Factored out body argument-parsing code into httputil.parse_body_arguments
Parses application/x-www-form-urlencoded or multipart/form data)

Was duplicated in httpserver and wsgi

==

tornado/httpserver.py
tornado/httputil.py
tornado/wsgi.py
==================
fc006405;Alek Storm;2012-06-07 16:43:57 -0400;Factor out gzip decompressor from SimpleAsyncHTTPClient into util.GzipDecompressor

==

tornado/simple_httpclient.py
tornado/util.py
==================
0b432be3;Ben Darnell;2012-06-03 17:37:36 -0700;Use https for all links to github.
Github redirects everything to https anyway, so the links might as well
start out secure.

==

website/sphinx/overview.rst
website/sphinx/releases/v1.0.0.rst
website/sphinx/releases/v1.1.0.rst
website/sphinx/releases/v1.1.1.rst
website/sphinx/releases/v1.2.0.rst
website/sphinx/releases/v1.2.1.rst
website/templates/index.html
website/website.py
==================
72e1330d;Ben Darnell;2012-06-03 17:33:30 -0700;Update README to match tornadoweb.org

==

README
==================
3451019e;Ben Darnell;2012-06-03 13:28:44 -0700;Set alarms on child processes in process_test.
These alarms used to be there, but got dropped in a previous change
because I had assumed the child processes would inherit the parent's
alarm.

==

tornado/test/process_test.py
==================
efcab59b;Ben Darnell;2012-06-03 13:26:32 -0700;Post-release version bump

==

setup.py
tornado/__init__.py
==================
4965811f;Alek Storm;2012-06-03 15:14:55 -0400;Timeouts in SimpleAsyncHTTPClient now raise HTTPError
Previously, they ran the callbacks themselves.

==

tornado/simple_httpclient.py
==================
13598908;Ben Darnell;2012-05-31 21:39:21 -0700;Set version number to 2.3

==

setup.py
tornado/__init__.py
==================
be957adf;Ben Darnell;2012-05-31 21:39:07 -0700;Final 2.3 release notes

==

website/sphinx/releases.rst
website/sphinx/releases/v2.3.0.rst
==================
2321542c;bdarnell;2012-05-31 10:46:42 -0700;Merge pull request #521 from yoinc/master
Restore context for all read methods
==
==================
4c193331;Eden Li;2012-05-30 17:32:29 -0700;Restore context for all read methods.
Prior to 2db0aceb32f5c042f5306e72a4679580b4359f34 this was being done
properly, but the refactor removed stack_context.wrap causing some issues
in our upstream context managers.

==

tornado/iostream.py
==================
5cd350ac;Ben Darnell;2012-05-27 22:10:03 -0700;Set version number to 2.3rc1

==

setup.py
tornado/__init__.py
==================
a358a735;Ben Darnell;2012-05-27 22:09:47 -0700;Quick hack to make this test pass on cygwin

==

tornado/test/iostream_test.py
==================
67d69340;Ben Darnell;2012-05-27 21:35:27 -0700;Fix zope.interface/py25 dependencies for other tox.ini files

==

maint/vm/ubuntu10.04/tox.ini
maint/vm/ubuntu12.04/tox.ini
==================
0219bd5e;Ben Darnell;2012-05-27 20:41:48 -0700;Doc updates

==

tornado/stack_context.py
website/sphinx/releases/next.rst
website/static/sphinx.css
==================
c11efb48;Ben Darnell;2012-05-27 20:16:42 -0700;Release note updates

==

website/sphinx/releases/next.rst
==================
af7fb080;Ben Darnell;2012-05-27 20:11:52 -0700;Remove unused variables

==

tornado/httpserver.py
tornado/test/web_test.py
tornado/wsgi.py
==================
085f1f19;Ben Darnell;2012-05-27 20:08:46 -0700;Add future import to this new file for consistency

==

tornado/test/options_test.py
==================
dd9a8ac1;Ben Darnell;2012-05-27 20:07:56 -0700;Another round of minor whitespace cleanups from autopep8

==

tornado/auth.py
tornado/curl_httpclient.py
tornado/database.py
tornado/httputil.py
tornado/iostream.py
tornado/options.py
tornado/platform/common.py
tornado/platform/windows.py
tornado/stack_context.py
tornado/test/gen_test.py
tornado/test/options_test.py
tornado/test/simple_httpclient_test.py
tornado/test/stack_context_test.py
tornado/test/template_test.py
tornado/test/testing_test.py
tornado/test/twisted_test.py
tornado/test/util_test.py
tornado/test/web_test.py
tornado/testing.py
tornado/web.py
==================
5e514195;Ben Darnell;2012-05-27 18:37:10 -0700;Remove use of string exceptions in gen_test.
These lines are not reached, but if they were they would fail with
a less clear message than intended.

Closes #520.

==

tornado/test/gen_test.py
==================
91180286;Ben Darnell;2012-05-27 15:09:52 -0700;Connection errors can happen here too.

==

tornado/iostream.py
==================
33094192;Ben Darnell;2012-05-27 15:04:03 -0700;IOStreams now save the exception object that caused them to close.
Closes #494.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
e5d5d324;Ben Darnell;2012-05-26 11:35:42 -0700;Delay check for socket.family (and make it jython-friendly).
Now HTTPConnection.address will always be the socket address,
and the fake "0.0.0.0" IP is only used in contexts that want an IP
(i.e. HTTPRequest.remote_ip) but the connection is a non-IP socket.

==

tornado/httpserver.py
==================
7d4623bc;bdarnell;2012-05-26 11:22:52 -0700;Merge pull request #514 from ahassany/fix-connectin-check
Better connection check in RequestHandler
==
==================
3dcf497f;Ben Darnell;2012-05-26 11:05:16 -0700;Extract constant, add comments

==

tornado/iostream.py
==================
227becd6;Ben Darnell;2012-05-26 10:56:17 -0700;Merge remote-tracking branch 'ei-grad/master'

==
==================
f41306da;Ben Darnell;2012-05-26 10:54:34 -0700;Override dict.copy in HTTPHeaders to return the correct type.
Closes #519.

==

tornado/httputil.py
==================
b8e44661;Andrew Grigorev;2012-05-24 16:53:51 +0400;Split large chunks of data in IOStream.write.
Closes #515.

==

tornado/iostream.py
==================
b6ea32d3;Ahmed El-Hassany;2012-05-24 13:23:34 -0400;Better connection check in RequestHandler

==

tornado/web.py
==================
e101397b;Ben Darnell;2012-05-20 23:03:53 -0700;Ignore any data after the final multipart boundary.
Closes #489.

==

tornado/httputil.py
tornado/test/httputil_test.py
==================
57a3f83f;Ben Darnell;2012-05-20 22:08:59 -0700;Prevent leak of StackContexts in repeated gen.engine functions.
Internally, StackContexts now return a deactivation callback,
which can be used to prevent that StackContext from propagating
further.  This is used in gen.engine because the decorator doesn't know
which arguments are callbacks that need to be wrapped outside of its
ExceptionStackContext.  This is deliberately undocumented for now.

Closes #507.

==

tornado/gen.py
tornado/stack_context.py
tornado/test/gen_test.py
tornado/test/stack_context_test.py
==================
1be0cc4c;Ben Darnell;2012-05-20 17:06:03 -0700;Release note updates

==

website/sphinx/releases/next.rst
==================
4c6f1137;Ben Darnell;2012-05-20 16:57:36 -0700;Fix docstring formatting

==

tornado/escape.py
==================
e4ee4709;Ben Darnell;2012-05-20 16:54:16 -0700;Merge remote-tracking branch 'jjwchoy/master'
Modified linkify to accept a callable for extra_params.

Closes #506.

==
==================
b1df6635;Ben Darnell;2012-05-20 16:51:02 -0700;304 responses no longer include entity headers like Content-Length
This is required by the RFC as it may confuse caches.

==

tornado/test/web_test.py
tornado/web.py
==================
dd765596;Ben Darnell;2012-05-20 16:27:28 -0700;Add status_code to the OutputTransform.transform_first_chunk interface.
This is needed for correct support of the 304 status code, which
has no body and should not have either a Content-Length or
Transfer-Encoding.  This is a backwards-incompatible change to an
interface that was never technically private, but not included in the
documentation and as far as I can tell was never used outside
tornado itself.

==

tornado/web.py
==================
53452e8d;Ben Darnell;2012-05-19 14:22:03 -0700;Fight bitrot in tornado.platform.twisted.
A new release of zope.interface breaks things on python 2.5, and
sets off our (overly-sensitive?) deprecation checking.

==

tornado/platform/twisted.py
tornado/test/runtests.py
tox.ini
==================
f618c2f6;Ben Darnell;2012-05-11 22:14:08 -0700;Ignore .class files (create by jython)

==

.gitignore
==================
d7945815;Ben Darnell;2012-05-11 21:48:21 -0700;Move tornado.platform.windows.Waker to new module platform.common.
Cleaned up the few windows-specific bits of code.  The socket-based
Waker is also usable on Jython.

==

tornado/platform/auto.py
tornado/platform/common.py
tornado/platform/windows.py
==================
a9443b7f;Ben Darnell;2012-05-10 23:26:34 -0700;Replace all occurrences of 3-argument raise statements with the version from testing.py, which works better with 2to3.
Closes #508

==

tornado/stack_context.py
tornado/test/runtests.py
tornado/test/util_test.py
tornado/testing.py
tornado/util.py
tornado/web.py
==================
25f49900;Ben Darnell;2012-05-09 21:57:44 -0700;Fix path parsing in HTTPServer.
urlparse.urlsplit expects a full url, but we were using it for a bare path.
This mostly worked but would parse paths beginning with "//" incorrectly.
Fortunately all we really need to do is split the path on "?".

Closes #509.

==

tornado/httpserver.py
tornado/test/httpserver_test.py
==================
783d76cb;Jason Choy;2012-05-08 10:24:46 +0100;Test strip and add space still works when extra_params is a callable

==

tornado/test/escape_test.py
==================
4fd35b8c;Jason Choy;2012-05-08 10:15:24 +0100;Added a test case for extra_params as a callable

==

tornado/test/escape_test.py
==================
28590fce;Ben Darnell;2012-05-07 00:18:55 -0700;Fix handling of non-ascii data in reverse_url.
Closes #490.

==

tornado/test/web_test.py
tornado/web.py
==================
2a1601fd;Ben Darnell;2012-05-06 22:59:56 -0700;Update next release notes

==

website/sphinx/releases/next.rst
==================
a548ab67;Ben Darnell;2012-05-06 22:46:53 -0700;Refactor tornado.options to make it testable.
Now most code is in methods of the _Options class, and it is possible
to create isolated instances of that class.  The test is pretty
rudimentary, but it's a start.

==

tornado/options.py
tornado/test/options_test.py
tornado/test/runtests.py
website/sphinx/options.rst
==================
625c6e05;bdarnell;2012-05-06 21:43:25 -0700;Merge pull request #498 from mckoss/feature/set-option
fix bug setting options programatically
==
==================
de3cf92a;bdarnell;2012-05-06 21:36:39 -0700;Merge pull request #484 from vadimg/master
make commandline args override config file args when multiple=True
==
==================
fde872df;Ben Darnell;2012-05-06 21:10:05 -0700;Merge remote-tracking branch 'mckoss/feature/pretty-help' into merge

==
==================
62ff417c;Ben Darnell;2012-05-06 18:39:57 -0700;Fix test on python 3

==

tornado/test/simple_httpclient_test.py
==================
91ea7757;Ben Darnell;2012-05-06 18:30:16 -0700;Merge remote-tracking branch 'screeley/master'
Conflicts:
	tornado/simple_httpclient.py

==
==================
6dbce939;Ben Darnell;2012-05-06 18:10:13 -0700;Fix bug when max_clients kwarg is passed to AsyncHTTPClient.configure.
Closes #493.

==

tornado/httpclient.py
tornado/test/simple_httpclient_test.py
==================
9ef20e3f;Ben Darnell;2012-05-06 18:09:51 -0700;Make autoreload a little more robust against weird import failures

==

tornado/autoreload.py
==================
8f44acda;bdarnell;2012-05-06 17:41:29 -0700;Merge pull request #497 from polymorphm/master
tornado.ioloop.IOLoop.instance() should be threadsafe
==
==================
f5012b42;Ben Darnell;2012-05-06 17:29:02 -0700;Document and test for type differences between get_cookie and get_secure_cookie.
Closes #501.

==

tornado/test/web_test.py
tornado/web.py
==================
088f0c14;Ben Darnell;2012-05-06 16:46:28 -0700;Expand path encoding test to cover issues raised by pull request 505 (unicode in URLSpecs).

==

tornado/test/web_test.py
==================
930c945c;bdarnell;2012-05-06 15:20:46 -0700;Merge pull request #503 from jparise/http-patch-method
Add support for the HTTP PATCH method.
==
==================
c3ed68a3;Casey Muller;2012-05-06 11:18:29 -0700;Fix setting cookies under WSGI, broken by the rename from _new_cookies to _new_cookie in https://github.com/facebook/tornado/commit/70ea7a5a6ca956b613168c9d123ee7cc951054bf

==

tornado/wsgi.py
==================
53e7c751;Jason Choy;2012-05-06 13:22:40 +0100;Modified linkify to accept a callable for extra_params. This allows different params based for each link, for example to treat internal and external links differently

==

tornado/escape.py
==================
bd1fdaab;Jon Parise;2012-05-02 13:41:10 -0700;Add support for the HTTP PATCH method.
PATCH is a proposed standard described by RFC 5789:

    http://tools.ietf.org/html/rfc5789

==

tornado/httpserver.py
tornado/simple_httpclient.py
tornado/web.py
==================
50244877;Ben Darnell;2012-04-27 20:50:01 -0700;Ubuntu 12.04 is out, so add a vagrant config for it.
Replace the 11.04 config, but keep 10.04 to cover the two LTS releases.

==

maint/vm/ubuntu12.04/Vagrantfile
maint/vm/ubuntu12.04/setup.sh
maint/vm/ubuntu12.04/tox.ini
==================
dd3ff7f8;Mike Koss;2012-04-27 04:16:28 -0700;fix bug when no help text given for option - wrap returns empty list

==

tornado/options.py
==================
47860908;Mike Koss;2012-04-25 17:34:26 -0700;fix bug setting options programatically

==

tornado/options.py
==================
29f98d07;Ben Darnell;2012-04-23 22:41:11 -0700;Remove python 3 colored logging fix from next release notes since it went out in 2.2.1.

==

website/sphinx/releases/next.rst
==================
3df46ee3;Ben Darnell;2012-04-23 22:34:42 -0700;Merge branch 'branch2.2'
Conflicts:
	setup.py
	tornado/__init__.py
	tornado/test/web_test.py
	tox.ini
	website/sphinx/releases.rst

==
==================
235cb17a;Ben Darnell;2012-04-23 22:25:16 -0700;Add .travis.yml file to branch2.2 just to make everything green.

==

.travis.yml
==================
a1bb6635;Ben Darnell;2012-01-30 11:10:17 -0800;Cherry-pick cc8e893 into branch2.2
Original commit message:

Revert "Run the website in python2.7 mode"

Can't use python2.7 mode without migrating to the "high-replication
datastore", and even though we don't have any data "migration" is a
pain.

This reverts commit e960e9bc9d48906ed37b65ad6eb774ab33637170.

==

website/app.yaml
==================
8d7f9f01;Ben Darnell;2012-04-23 22:04:06 -0700;Version number bump for 2.2.1

==

setup.py
tornado/__init__.py
==================
c135c368;Ben Darnell;2012-04-23 22:03:17 -0700;Release notes for 2.2.1

==

website/sphinx/releases.rst
website/sphinx/releases/v2.2.1.rst
==================
1ae91f6d;Ben Darnell;2012-04-23 21:55:05 -0700;Fix reponse header sanitization.

==

tornado/test/web_test.py
tornado/web.py
==================
15798a1d;Ben Darnell;2012-01-31 00:34:12 -0800;Cherry-pick b151a1ee967 into branch2.2.
Original commit message:

Add a version check for the curses unicode hack so it won't break when
python 3.2.3 or 3.3 are released.

Closes #450.

==

tornado/options.py
==================
c1f72d50;Ben Darnell;2012-04-23 21:35:15 -0700;Pin twisted versions in the 2.2 branch to 11.1.0 since that release doesn't pass its tests with newer versions.

==

tox.ini
==================
5ae39bc6;Ben Darnell;2012-04-23 01:12:09 -0700;Update vagrant configs for vagrant 1.0

==

maint/vm/freebsd/Vagrantfile
maint/vm/ubuntu10.04/Vagrantfile
maint/vm/ubuntu11.04/Vagrantfile
==================
840392fa;Andrej A Antonov;2012-04-21 01:34:00 +0400;double-checked-locking in tornado.ioloop.IOLoop.instance()

==

tornado/ioloop.py
==================
b082051f;Ben Darnell;2012-04-18 22:56:14 -0700;Disable python 2.6 on travis-ci, since I don't have enough visibility to dig into the SSL segfault.

==

.travis.yml
==================
bcc9a0a6;Ben Darnell;2012-04-18 22:42:34 -0700;Increase verbosity for tests on travis-ci to track down a segfault on 2.6

==

.travis.yml
==================
351c3223;Ben Darnell;2012-04-18 22:22:06 -0700;The RequestHandler.flush callback should be run even if there is no data.
Also IOStream._try_inline_read needs the same fake-callback change
as _handle_read (I can't seem to come up with a good isolated test for this,
but it's tickled by the empty-flush test).

Closes #492.

==

tornado/iostream.py
tornado/test/web_test.py
tornado/web.py
==================
b875a8b5;bdarnell;2012-04-18 21:31:39 -0700;Merge pull request #495 from alekstorm/template_try_else
Add `else` as possible sub-clause in `try` blocks in templates.
==
==================
983fb8ba;Ben Darnell;2012-04-18 17:45:09 -0700;Open template files in binary mode (to be decoded as utf8 later)
Text mode in python 3 uses an environment-dependent encoding, so
add a test and run it in both C and utf-8 locales.

==

MANIFEST.in
setup.py
tornado/template.py
tornado/test/template_test.py
tornado/test/templates/utf8.html
tox.ini
==================
4e989593;Ben Darnell;2012-04-18 18:32:59 -0700;Tweak a timing-sensitive test to have fewer false failures.

==

tornado/test/testing_test.py
tornado/testing.py
==================
4416c0a6;Alek Storm;2012-04-17 14:55:05 -0400;Add `else` as possible sub-clause in `try` blocks in templates.
Add test case.

==

tornado/template.py
tornado/test/template_test.py
==================
e4e85da3;Mike Koss;2012-02-13 14:17:11 -0800;pretty up --help formatting

==

tornado/options.py
==================
38908bf6;Ben Darnell;2012-04-01 14:41:47 -0700;Make tornado.database importable when MySQLdb is not available.
This fixes the docs build on readthedocs.org.

Closes #485.

==

tornado/database.py
==================
92d1eb0f;Vadim Graboys;2012-03-27 15:17:48 -0400;fix handling of multiple commandline args
make commandline args override config file args when multiple=True
instead of appending to config file args

==

tornado/options.py
==================
38cccf8e;Birk Nilson;2012-03-26 12:02:13 +0200;Cache the computed absolute path to the requested resource in StaticFileHandler. The cache is cleared on_finish of each request in order to ensure recomputation on each request.

==

tornado/web.py
==================
2ff579a6;Ben Darnell;2012-03-25 17:22:33 -0700;Release note updates

==

website/sphinx/releases/next.rst
==================
41463a98;Ben Darnell;2012-03-25 17:12:00 -0700;Increase performance of IOStream.read_until and read_until_regex.
_handle_read and _try_inline_read now only call _read_from_buffer
once, after calling _read_to_buffer as many times as they can.  This
allows the progressive _double_prefix calls in _read_from_buffer to
work as efficiently as possible.

In testing with a 4MB read, performance improved by a factor of 32 (8
seconds to 0.25 seconds)

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
c86b8ce0;Ben Darnell;2012-03-25 12:37:37 -0700;Clean up alarm signals in process_test when the test fails

==

tornado/test/process_test.py
==================
e81f42b3;Ben Darnell;2012-03-24 16:05:11 -0700;Add python 3.3 (alpha) to the tox config.

==

tox.ini
==================
2f0fbd9b;Ben Darnell;2012-03-24 15:07:26 -0700;Expand documentation for IOLoop.stop and IOLoop.close

==

tornado/ioloop.py
==================
b41734bc;Ben Darnell;2012-03-24 14:53:06 -0700;Rename example in docs for clarity

==

website/sphinx/overview.rst
==================
40dc1f09;Ben Darnell;2012-03-24 14:40:10 -0700;Merge branch 'master' of github.com:facebook/tornado

==
==================
4cae7b2c;Ben Darnell;2012-03-24 14:35:55 -0700;Merge remote-tracking branch 'alekstorm/read_from_buffer_refactor' into merge

==
==================
3803fd66;bdarnell;2012-03-24 13:56:05 -0700;Merge pull request #482 from wsantos/patch-2
Don't try to send post_args in the url with FacebookGraphMixin
==
==================
6ffd170b;Ben Darnell;2012-03-24 13:46:06 -0700;Add HTTPServer's type test to WSGIApplication, and fix another python3 bug.

==

tornado/test/wsgi_test.py
tornado/wsgi.py
==================
04188130;Ben Darnell;2012-03-24 13:23:55 -0700;Merge remote-tracking branch 'jsamuel/wsgi-arg-keys' into merge

==
==================
cdaa99af;bdarnell;2012-03-24 13:06:50 -0700;Merge pull request #475 from andrew-d/master
addslash / removeslash modification
==
==================
c3ca9a3a;Ben Darnell;2012-03-24 12:53:58 -0700;Disable twisted process tests, which don't work for me on OSX 10.6

==

tornado/test/twisted_test.py
==================
68449f0b;Waldecir Loureiro dos Santos Filho;2012-03-21 16:56:30 -0300;we dont need post_args in url, post_args will be sended in http body.

==

tornado/auth.py
==================
1c6dc7c3;Justin Samuel;2012-03-19 15:09:23 -0700;Fix keys in wsgi request arguments being bytes in python3 when content-type is application/x-www-form-urlencoded.

==

tornado/wsgi.py
==================
b3989173;Alek Storm;2012-03-15 17:50:46 -0400;Refactor IOStream.read_from_buffer() for speed, clarity

==

tornado/iostream.py
==================
c34888b0;Birk Nilson;2012-03-11 18:06:22 +0100;Move retrieval of absolute path to separate method which is also in charge of validation.

==

tornado/web.py
==================
e0048efc;Birk Nilson;2012-03-09 18:46:21 +0100;Fixed syntax error in the altered StaticFileHandler.get() method

==

tornado/web.py
==================
ac45401f;Birk Nilson;2012-03-09 18:25:52 +0100;Introduce StaticFileHandler.(get_content|set_headers) which reduces the complexity of the HTTP GET handler of static resources.

==

tornado/web.py
==================
722d978a;AndrewD;2012-03-07 22:15:36 -0500;Modified addslash & removeslash to use permanent redirect

==

tornado/web.py
==================
bcbef8c7;Ben Darnell;2012-03-05 23:25:06 -0800;One more autoreload path tweak:  set $PYTHONPATH just before exec, whether autoreload is __main__ or not.

==

tornado/autoreload.py
==================
6bbf4674;Ben Darnell;2012-03-05 22:25:25 -0800;Fix signal handlers clobbered by twisted tests.
The most visible effect of the bug was that test runs with autoreload
would not respond to ctrl-c.

==

tornado/test/twisted_test.py
==================
d0c206aa;Ben Darnell;2012-02-20 20:31:33 -0800;Move autoreload's sys.path manipulations earlier in the file, before as many imports as possible.
This fixes an edge case discovered in a branch where I introduced
a module named tornado.concurrent.

==

tornado/autoreload.py
==================
aa7ac690;Ben Darnell;2012-03-05 21:49:41 -0800;Fix some mutable values used as default arguments.
Also fix a doc discrepancy in which HTTPResponse.headers could be
a plain dict instead of an HTTPHeaders object (for errors that returned
no headers).

==

tornado/httpclient.py
tornado/web.py
==================
2f35821c;Ben Darnell;2012-03-05 21:38:47 -0800;Avoid modifying the headers object passed in by the client.
This fixes a problem in which the header object was reused across requests
and behavior became inconsistent when following redirects.

Closes #459.

==

tornado/httputil.py
tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
daeb7c41;Ben Darnell;2012-02-27 10:15:48 -0800;Fix travis build for python3

==

.travis.yml
==================
6c16f8ca;Ben Darnell;2012-02-27 10:09:46 -0800;Try out travis-ci.org

==

.travis.yml
==================
94dc4c78;Ben Darnell;2012-02-25 16:50:51 -0800;Don't swallow exceptions that escape from TestCase.run().
This fixes a case in which nose would fail to report a failing test
(if the exception's str() method raised an exception).

Closes #466.

==

tornado/testing.py
==================
12b8c2e5;Sean Creeley;2012-02-23 09:58:58 -0500;RequestHander is set up to handle "OPTIONS" requests, but the SimpleAsyncHTTPClient does not allow "OPTIONS" requests. This is a pain when you are trying to write test cases for CORS. This simple patch adds "OPTIONS" to the supported _SUPPORTED_METHODS in _HTTPConnection and a test case to go along with it.

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
2ead3a81;Ben Darnell;2012-02-22 11:47:34 -0800;Merge remote-tracking branch 'bergundy/master' into work

==
==================
d1429ff8;Ben Darnell;2012-02-20 01:12:27 -0800;Update twisted test blacklist for Twisted 12.0.0

==

tornado/test/twisted_test.py
tox.ini
==================
3b181f54;Ben Darnell;2012-02-20 00:40:19 -0800;Revert "Remove optional setuptools import."
This reverts commit 50b28c5d7a1ccfc3cc3a5a8fc5cf664880598fc6.

Turns out we do need setuptools in at least one situation:
distutils chokes if there are broken symlinks anywhere in the source
tree, but in testing with a VM there may be "broken" symlinks that point
outside the directory shared with the VM.

==

setup.py
website/sphinx/releases/next.rst
==================
530731cc;Ben Darnell;2012-02-19 22:17:45 -0800;Fix the Host header when using basic auth credentials in the URL.

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
website/sphinx/releases/next.rst
==================
0f30e150;Ben Darnell;2012-02-19 21:57:52 -0800;Release note updates for the last wave of merges

==

website/sphinx/releases/next.rst
==================
e1dca57b;Ben Darnell;2012-02-19 21:47:07 -0800;Return the Etag header on 304 responses to an If-None-Match request.

==

tornado/web.py
==================
2c83f471;Ben Darnell;2012-02-19 21:37:50 -0800;Revert "Use copy.deepcopy to clone HTTPRequest when following redirects."
This reverts commit b7e604646537984e967dd25447a8df3e221bf9ed.

Something about this broke the tests.

==

tornado/simple_httpclient.py
==================
b7e60464;Ben Darnell;2012-02-19 21:30:15 -0800;Use copy.deepcopy to clone HTTPRequest when following redirects.
This gives each request in a redirect chain its own copy of the
headers dictionary.

Closes #459.

==

tornado/simple_httpclient.py
==================
eac1e538;Olivier Hardy;2012-02-06 16:01:11 +0100;In template, use handler reverse_url instead of application one

==

tornado/web.py
==================
99d9d74c;Olivier Hardy;2012-02-06 15:40:51 +0100;Fix locale.get_supported_locales(): remove cls parameter

==

tornado/locale.py
==================
63a3ed65;Ben Darnell;2012-02-19 20:31:48 -0800;Merge remote-tracking branch 'jehiah/max_simultaneous_connections_457'

==
==================
9431921b;Ben Darnell;2012-02-19 20:25:43 -0800;Merge remote-tracking branch 'grydstedt/master' into work

==
==================
ceabffe2;Ben Darnell;2012-02-19 20:08:26 -0800;Test for https://github.com/facebook/tornado/pull/454

==

tornado/test/web_test.py
website/sphinx/releases/next.rst
==================
dca74f67;Ben Darnell;2012-02-19 20:04:13 -0800;Merge remote-tracking branch 'minrk/strkeys' into work

==
==================
2db0aceb;Ben Darnell;2012-02-19 19:50:01 -0800;Further refactoring of duplicated IOStream logic

==

tornado/iostream.py
==================
01dd70c5;Ben Darnell;2012-02-19 19:41:50 -0800;Merge remote-tracking branch 'birknilson/iostream_refactoring_read' into work
Conflicts:
	tornado/iostream.py

==
==================
56ec1ee5;Ben Darnell;2012-02-19 19:33:08 -0800;Pass parsed hostname around explictly instead of storing it on the urlsplit result.
In some versions of python (including 2.5 and 3.2 but not 2.6 or 2.7),
urlsplit results use __slots__ and therefore don't allow artibrary attributes
to be set.

Also move the storing of the parsed hostname above hostname_mapping,
since the cert should be checked against the requested url, not the remapped
one.

Closes #448.

==

tornado/simple_httpclient.py
tornado/test/httpserver_test.py
website/sphinx/releases/next.rst
==================
83a0eedf;Ben Darnell;2012-02-19 19:22:31 -0800;Merge remote-tracking branch 'ei-grad/master' into work

==
==================
70ea7a5a;Ben Darnell;2012-02-19 18:47:46 -0800;Use a single Cookie.SimpleCookie for outgoing cookies instead of a list.
The main reason for this change is to repeated calls to set_cookie
overwrite rather than append.

Closes #445.

==

tornado/test/web_test.py
tornado/web.py
website/sphinx/releases/next.rst
==================
2539f837;Ben Darnell;2012-02-19 18:25:24 -0800;Start a new release-notes file

==

website/sphinx/releases.rst
website/sphinx/releases/next.rst
==================
6ed1eaf1;Roey Berman;2012-02-13 15:23:24 +0200;Fixed: Subsequent calls to AsyncTestCase.wait() now clear previously set timeouts. See: http://groups.google.com/group/python-tornado/browse_thread/thread/cc77a08b15c39a14

==

tornado/test/testing_test.py
tornado/testing.py
==================
2d665a41;Ben Darnell;2012-02-09 01:08:04 -0800;Check in autopep8 script

==

maint/requirements.txt
maint/scripts/run_autopep8.sh
==================
605c5213;Ben Darnell;2012-02-09 01:00:11 -0800;Fix weird indentation in auth.py and simple_httpclient_test.py

==

tornado/auth.py
tornado/test/simple_httpclient_test.py
==================
c152b784;Ben Darnell;2012-02-09 00:55:27 -0800;While I'm touching every file, run autopep8 too.
Might as well get all the merge headaches over with at once :)

Ran with
$ autopep8 --ignore=E111,W602 i tornado/*.py tornado/platform/*.py tornado/test/*.py

==

tornado/auth.py
tornado/autoreload.py
tornado/curl_httpclient.py
tornado/database.py
tornado/escape.py
tornado/gen.py
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/netutil.py
tornado/options.py
tornado/platform/interface.py
tornado/platform/posix.py
tornado/platform/twisted.py
tornado/platform/windows.py
tornado/process.py
tornado/simple_httpclient.py
tornado/stack_context.py
tornado/template.py
tornado/test/auth_test.py
tornado/test/curl_httpclient_test.py
tornado/test/escape_test.py
tornado/test/gen_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/import_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/process_test.py
tornado/test/run_pyversion_tests.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
tornado/test/stack_context_test.py
tornado/test/template_test.py
tornado/test/testing_test.py
tornado/test/twisted_test.py
tornado/test/web_test.py
tornado/test/wsgi_test.py
tornado/testing.py
tornado/util.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
58a7ff10;Ben Darnell;2012-02-09 00:17:58 -0800;Turn on __future__ division too.
All existing uses of division were already using a float for at least
one operand (except the tests that just do 1/0 as a quick way to throw
an exception).

We have now turned on all the __future__ options available in python2.5.

==

maint/scripts/custom_fixers/fix_future_imports.py
tornado/__init__.py
tornado/auth.py
tornado/autoreload.py
tornado/curl_httpclient.py
tornado/database.py
tornado/escape.py
tornado/gen.py
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/netutil.py
tornado/options.py
tornado/platform/auto.py
tornado/platform/interface.py
tornado/platform/posix.py
tornado/platform/twisted.py
tornado/platform/windows.py
tornado/process.py
tornado/simple_httpclient.py
tornado/stack_context.py
tornado/template.py
tornado/test/auth_test.py
tornado/test/curl_httpclient_test.py
tornado/test/escape_test.py
tornado/test/gen_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/import_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/process_test.py
tornado/test/run_pyversion_tests.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
tornado/test/stack_context_test.py
tornado/test/template_test.py
tornado/test/testing_test.py
tornado/test/twisted_test.py
tornado/test/web_test.py
tornado/test/wsgi_test.py
tornado/testing.py
tornado/util.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
837da79e;Ben Darnell;2012-02-08 23:38:34 -0800;Fix one last implicit relative import

==

tornado/ioloop.py
==================
da6d821e;Ben Darnell;2012-02-08 23:22:51 -0800;Standardize future imports for all files in the package.

==

tornado/__init__.py
tornado/auth.py
tornado/autoreload.py
tornado/curl_httpclient.py
tornado/database.py
tornado/escape.py
tornado/gen.py
tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/netutil.py
tornado/options.py
tornado/platform/auto.py
tornado/platform/interface.py
tornado/platform/posix.py
tornado/platform/twisted.py
tornado/platform/windows.py
tornado/process.py
tornado/simple_httpclient.py
tornado/stack_context.py
tornado/template.py
tornado/test/auth_test.py
tornado/test/curl_httpclient_test.py
tornado/test/escape_test.py
tornado/test/gen_test.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
tornado/test/import_test.py
tornado/test/ioloop_test.py
tornado/test/iostream_test.py
tornado/test/process_test.py
tornado/test/run_pyversion_tests.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
tornado/test/stack_context_test.py
tornado/test/template_test.py
tornado/test/testing_test.py
tornado/test/twisted_test.py
tornado/test/web_test.py
tornado/test/wsgi_test.py
tornado/testing.py
tornado/util.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
27f9c3a7;Ben Darnell;2012-02-08 23:16:56 -0800;Add a script to rewrite __future__ imports

==

maint/scripts/custom_fixers/__init__.py
maint/scripts/custom_fixers/fix_future_imports.py
maint/scripts/run_fixers.py
==================
58727227;Jehiah Czebotar;2012-02-03 23:46:31 -0500;pass kwargs through HTTPClient

==

tornado/httpclient.py
==================
1157a55a;Gustav Rydstedt;2012-02-03 15:28:31 -0800;Add support for client certificates in curl http client

==

tornado/curl_httpclient.py
==================
0b75124b;MinRK;2012-02-02 14:05:59 -0800;coerce kwarg keys to str
If handler regex is unicode, the keys of groupdict are unicode, but should be
str, as Python < 2.6.5 does not accept unicode keys in:

    _execute(*args, **kwargs)

Since they are for keyword args, they will be valid identifiers, and thus ascii.

==

tornado/web.py
==================
05ab0be9;Birk Nilson;2012-02-02 21:35:24 +0100;Move identical IOStream read handling in read_until, read_until_regex and read_bytes to private method.

==

tornado/iostream.py
==================
7d0af33c;Birk Nilson;2012-02-02 20:27:46 +0100;Adding support to override, via static_url, whether the generated URLs should include the version signature or not.

==

tornado/test/web_test.py
tornado/web.py
==================
ffc9b3d4;Ben Darnell;2012-02-02 09:56:47 -0800;Remove unused __main__ block that ran doctests from a non-test module.

==

tornado/httputil.py
==================
de4c5fa6;Ben Darnell;2012-02-02 09:44:18 -0800;Merge remote-tracking branch 'igorsobreira/master'

==
==================
65531eda;Ben Darnell;2012-02-01 09:15:23 -0800;Enable strict warnings in test runs.
This includes python 3.2's ResourceWarnings, which exposed the
socket leaks fixed in the previous commit.

==

tornado/test/runtests.py
==================
fa643437;Ben Darnell;2012-02-01 09:17:03 -0800;Always close sockets in simple_httpclient instead of leaving them for the GC.
Also fix some other sockets left open in tests.

Closes #451.

==

tornado/simple_httpclient.py
tornado/test/httpserver_test.py
tornado/test/iostream_test.py
tornado/test/simple_httpclient_test.py
==================
b151a1ee;Ben Darnell;2012-01-31 00:34:12 -0800;Add a version check for the curses unicode hack so it won't break when python 3.2.3 or 3.3 are released.
Closes #450.

==

tornado/options.py
==================
50b28c5d;Ben Darnell;2012-01-30 23:46:36 -0800;Remove optional setuptools import.
We don't rely on any setuptools features for python2 builds, and the
optional import makes our builds depend on the environment in subtle
ways (egg-info directories, etc).

==

setup.py
==================
501a551e;Ben Darnell;2012-01-30 23:39:31 -0800;Bump post-release version number (now pep 386 compliant!)

==

setup.py
tornado/__init__.py
==================
cc8e8932;Ben Darnell;2012-01-30 11:10:17 -0800;Revert "Run the website in python2.7 mode"
Can't use python2.7 mode without migrating to the "high-replication
datastore", and even though we don't have any data "migration" is a
pain.

This reverts commit e960e9bc9d48906ed37b65ad6eb774ab33637170.

==

website/app.yaml
==================
02bc7615;Ben Darnell;2012-01-30 11:01:44 -0800;Set version number to 2.2.

==

setup.py
tornado/__init__.py
==================
61ba1fb6;Ben Darnell;2012-01-30 11:01:35 -0800;Final release notes for 2.2

==

website/sphinx/releases.rst
website/sphinx/releases/v2.2.0.rst
==================
e960e9bc;Ben Darnell;2012-01-29 21:56:53 -0800;Run the website in python2.7 mode

==

website/app.yaml
==================
1910ea15;Ben Darnell;2012-01-29 21:53:45 -0800;Add a highlights section to the release notes.

==

website/sphinx/releases/next.rst
==================
42656e69;Andrew Grigorev;2012-01-30 08:12:24 +0400;fixed usage of bad hostname (ipv6 addresses support is broken in urlparse until 2.7)

==

tornado/simple_httpclient.py
==================
b12edb12;Igor Sobreira;2012-01-25 00:19:40 -0200;Add test to parse_multipart_form_data() when no "name" parameter is found

==

tornado/test/httputil_test.py
==================
97009a38;Igor Sobreira;2012-01-25 00:14:17 -0200;Add test to parse_multipart_form_data() when line does not end with the correct line break (\r\n)

==

tornado/test/httputil_test.py
==================
e5a60378;Igor Sobreira;2012-01-24 23:48:54 -0200;Add test to parse_multipart_form_data() when invalid Content-Disposition

==

tornado/test/httputil_test.py
==================
76b002e8;Igor Sobreira;2012-01-24 23:43:47 -0200;Add test to parse_multipart_form_data() when missing headers

==

tornado/test/httputil_test.py
==================
554570d6;Igor Sobreira;2012-01-24 22:45:18 -0200;Add test to parse_multipart_form_data() on httputil when "boundary" parameter has quotes

==

tornado/test/httputil_test.py
==================
54f56d42;Alexey S. Kachayev;2012-01-24 00:03:52 +0200;import_object will raise standard ImportError even in case of Value/Attribute error

==

tornado/util.py
==================
5d1ce40c;Alexey S. Kachayev;2012-01-23 23:29:50 +0200;Merge remote-tracking branch 'upstream/master' into import-object

==
==================
067e465b;Ben Darnell;2012-01-23 10:20:35 -0800;Document curl_httpclient empty password fix.
Accept None as auth_password in simple_httpclient for consistency with
curl_httpclient.

==

tornado/simple_httpclient.py
website/sphinx/releases/next.rst
==================
9a8e5e4d;Ben Darnell;2012-01-23 10:12:56 -0800;Merge commit 'df23c'

==
==================
7fd17884;Ben Darnell;2012-01-23 09:45:29 -0800;Fix gen.engine docs on decorator order.
Add some more test cases that use gen.engine and web.asynchronous together.

==

tornado/gen.py
tornado/test/gen_test.py
==================
df23c039;dave mankoff;2012-01-23 08:33:51 -0500;change encode('ascii') to utf8()

==

tornado/curl_httpclient.py
==================
463baf43;Ben Darnell;2012-01-22 18:15:01 -0800;Add a timeout to test_sslv2_fail so it passes on cygwin.

==

tornado/test/httpserver_test.py
==================
e04957d5;Ben Darnell;2012-01-22 17:52:43 -0800;Doc updates

==

tornado/websocket.py
website/sphinx/web.rst
website/sphinx/websocket.rst
==================
9c3afde8;Ben Darnell;2012-01-22 17:04:51 -0800;Release note updates

==

website/sphinx/releases/next.rst
==================
98b08863;Ben Darnell;2012-01-22 15:26:35 -0800;Make StaticFileHandler.parse_url_path an instance method, and make it responsible for os.path.sep conversion.
Assorted doc updates for StaticFileHandler.

==

tornado/web.py
==================
983fdbbe;Ben Darnell;2012-01-22 14:56:21 -0800;Merge commit '59812' into work

==
==================
7f7928f2;Ben Darnell;2012-01-22 14:25:16 -0800;Merge remote-tracking branch 'birknilson/static_url_override' into work

==
==================
3bb80eb8;Ben Darnell;2012-01-22 14:19:19 -0800;Always set Etag in StaticFileHandler so it won't break if the default Etag implementation in RequestHandler changes.

==

tornado/web.py
==================
bcb30e56;dave mankoff;2012-01-22 17:15:10 -0500;fix curl basic auth

==

tornado/curl_httpclient.py
==================
76dd88f1;Ben Darnell;2012-01-22 14:10:14 -0800;Merge remote-tracking branch 'lerks/master' into work

==
==================
1b38b58d;Ben Darnell;2012-01-21 17:39:37 -0800;Update websocket chat demo to work when not addressed as localhost.
Turn on draft76 support.

==

demos/websocket/chatdemo.py
demos/websocket/static/chat.js
==================
3beb8ce4;Ben Darnell;2012-01-21 17:28:07 -0800;Merge remote-tracking branch 'MrJoes/master' into work
Conflicts:
	tornado/websocket.py

==
==================
442b49f8;Ben Darnell;2012-01-21 17:20:10 -0800;Refactor websocket close logic; remove dependency on singleton IOLoop.

==

tornado/websocket.py
==================
5a18d50f;Ben Darnell;2012-01-21 17:12:22 -0800;Disable slow websocket performance tests by default.
Add pypy to the mix for when we do run the perf tests.  Depending on
the benchmark pypy is ~twice as fast as cpython 2.7

==

maint/test/websocket/client.py
maint/test/websocket/run.sh
maint/test/websocket/server.py
maint/test/websocket/tox.ini
==================
bc28966e;Ben Darnell;2012-01-21 16:16:36 -0800;Remove stray log line

==

tornado/websocket.py
==================
ea0291b2;Ben Darnell;2012-01-21 15:58:35 -0800;Check if the stream is closed before writing final websocket close packet.
Closes #390.

==

tornado/websocket.py
==================
eee9953d;Ben Darnell;2012-01-21 15:34:11 -0800;Websocket subprotocol updates.
Failure to select a subprotocol is not fatal, so rename method from
validate_subprotocol to select_subprotocol.  Subprotocols are a
comma-separated list in the RFC version, but a single value in
draft76.

==

tornado/websocket.py
==================
1cfcc4a7;Ben Darnell;2012-01-21 15:15:12 -0800;Merge remote-tracking branch 'davidgaleano/master' into work
Conflicts:
	tornado/websocket.py

==
==================
cc671cb5;Ben Darnell;2012-01-21 14:56:43 -0800;Allow handlers to override the selection of "ws" or "wss" in the draft76 handshake, to work with SSL proxies that do not insert an X-Scheme header.
Closes #437.

==

tornado/websocket.py
==================
4edf2782;Ben Darnell;2012-01-21 14:45:51 -0800;Merge remote-tracking branch 'nephics/master' into work

==
==================
1014d568;Ben Darnell;2012-01-21 14:35:21 -0800;Check in a requirements file for the tools I use while working on tornado.

==

.gitignore
maint/requirements.txt
==================
35139ff8;Ben Darnell;2012-01-21 14:09:18 -0800;Add .coveragerc for test coverage reporting.
Closes #439.

==

.coveragerc
.gitignore
==================
8b668633;Ben Darnell;2012-01-18 01:17:30 -0800;Add 307 too and update release notes.

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
website/sphinx/releases/next.rst
==================
24d96f02;Ben Darnell;2012-01-18 01:11:21 -0800;Merge remote-tracking branch 'amorton/master'
Conflicts:
	tornado/test/simple_httpclient_test.py

==
==================
97b4b15c;Ben Darnell;2012-01-18 01:00:06 -0800;Release note updates for twitter client changes

==

website/sphinx/releases/next.rst
==================
76ba2323;Ben Darnell;2012-01-18 00:57:55 -0800;Make TwitterMixin.twitter_request accept complete urls, not just partial paths.
Closes #418.

==

tornado/auth.py
==================
cadfb901;Ben Darnell;2012-01-18 00:51:30 -0800;Merge remote-tracking branch 'gutomaia/master'

==
==================
6dfc1b75;Ben Darnell;2012-01-18 00:43:38 -0800;Add RequestHandler.on_finish method.
Closes #367.

==

tornado/web.py
website/sphinx/overview.rst
website/sphinx/releases/next.rst
==================
af940f4e;Ben Darnell;2012-01-16 23:23:21 -0800;Major update to tornado.platform.twisted.
Significantly improved compatibility (most important changes are in
TornadoReactor._invoke_callback) and expanded test coverage.

==

tornado/platform/twisted.py
tornado/test/twisted_test.py
tox.ini
website/sphinx/releases/next.rst
website/sphinx/twisted.rst
==================
36226505;Ben Darnell;2012-01-13 23:12:39 -0800;Support non-integer timeouts for curl_httpclient.
Closes #399.

==

tornado/curl_httpclient.py
website/sphinx/releases/next.rst
==================
4457f2b9;Ben Darnell;2012-01-13 23:07:37 -0800;Add a fourth release status field to tornado.version_info.
Closes #432.

==

tornado/__init__.py
website/sphinx/releases/next.rst
==================
fea44c7b;Ben Darnell;2012-01-13 23:06:49 -0800;Release note update

==

website/sphinx/releases/next.rst
==================
9fcf106a;Ben Darnell;2012-01-13 22:51:26 -0800;Merge remote-tracking branch 'pkienzle/master'

==
==================
e552346a;Ben Darnell;2012-01-13 22:42:16 -0800;The Connection request header should be case-insensitive.

==

tornado/httpserver.py
website/sphinx/releases/next.rst
==================
26a06a0b;Ben Darnell;2012-01-10 10:26:15 -0800;Add a new(er) ubuntu vm setup to test missing SSLv2

==

maint/vm/ubuntu11.04/Vagrantfile
maint/vm/ubuntu11.04/setup.sh
maint/vm/ubuntu11.04/tox.ini
==================
b8939293;Ben Darnell;2012-01-10 10:24:10 -0800;Some python/openssl builds don't have SSLv2 compiled in, so skip the test in this case.

==

tornado/test/httpserver_test.py
==================
5d240e49;Paul Kienzle;2012-01-10 12:41:43 -0500;make sure addresses returned from getaddrinfo are unique

==

tornado/netutil.py
==================
f62e9154;Ben Darnell;2012-01-09 23:50:43 -0800;Release notes for the last two ssl changes

==

website/sphinx/releases/next.rst
==================
dbe1c9bc;Ben Darnell;2012-01-09 11:59:24 -0800;Disable SSLv2 in simple_httpclient.
Contrary to the python documentation, SSLv2 is enabled by default
unless openssl version 1.0 or newer is used; older versions appear
to still be in use (e.g. in Ubuntu 10.04 LTS and Mac OS X Lion)

==

tornado/simple_httpclient.py
tornado/test/httpserver_test.py
==================
17052f33;Ben Darnell;2012-01-09 10:33:01 -0800;Make SSLIOStream compatible with SSLv3- and TLSv1-only servers.
Due to some implementation detail the default SSLv23 mode allows reads
before the handshake has completed, but the other modes do not.

Closes #431.

==

tornado/httpclient.py
tornado/iostream.py
tornado/test/httpserver_test.py
==================
98f77972;Ben Darnell;2012-01-08 13:49:30 -0800;Make it possible to run the test suite with --httpclient=CurlAsyncHTTPClient

==

tornado/curl_httpclient.py
tornado/httpclient.py
tornado/test/httpserver_test.py
tornado/test/process_test.py
tornado/test/simple_httpclient_test.py
tox.ini
==================
0a949c07;Ben Darnell;2012-01-08 00:01:18 -0800;Update docs for recent websocket changes

==

tornado/websocket.py
website/sphinx/conf.py
website/sphinx/releases/next.rst
website/sphinx/websocket.rst
==================
ef4f2bb0;Ben Darnell;2012-01-07 23:24:30 -0800;Disable websocket draft76 protocol by default.

==

tornado/websocket.py
==================
33cd3456;Ben Darnell;2012-01-07 17:31:56 -0800;Add an explicit binary option to WebSocketHandler.write_message.
Switching automatically based on python's bytes vs unicode types is
error-prone in python2 where e.g. json_encode returns bytes.

Closes #429.

==

maint/test/websocket/server.py
tornado/websocket.py
==================
7dabdd55;Alexey S. Kachayev;2012-01-06 22:49:48 +0200;Implement additional error handling in utils.import_object function

==

tornado/util.py
==================
756fadac;Jacob Sondergaard;2012-01-05 12:17:01 +0100;Set the request cookies property to an empty dict if cookie parsing fails
This commit reverses the bug introduced in commit 4a4d871, leaving an
undefined cookies property on failure to parse a request cookie.

The bug results in a 'NoneType is not iterable' error when calling
RequestHandler.get_cookie() after a cookie parsing exception.

==

tornado/httpserver.py
==================
bd034933;Ben Darnell;2012-01-05 00:27:45 -0800;Handle redirects before processing data and sending it to streaming_callback.
Previously, if you were using follow_redirects and streaming_callback
and hit a redirect with a non-empty body, that body would be passed
to streaming_callback as well.

As a side effect, this improves compatibility with some misconfigured
sites that send Content-Encoding: gzip on redirects without actually
compressing the body.

==

tornado/httpclient.py
tornado/simple_httpclient.py
==================
4c23ba7e;Ben Darnell;2012-01-03 21:19:51 -0800;Make fork_processes raise SystemExit instead of returning None when all child processes exit cleanly.

==

tornado/process.py
tornado/test/process_test.py
website/sphinx/releases/next.rst
==================
ffa8f152;Ben Darnell;2012-01-02 19:17:57 -0800;Add comment about (non-)thread-safety of IOLoop.add_timeout.

==

tornado/ioloop.py
==================
468754e3;Ben Darnell;2012-01-01 23:19:48 -0800;Release note updates

==

website/sphinx/releases/next.rst
==================
8fbe7c7d;Ben Darnell;2012-01-01 22:54:36 -0800;Rewrite IP check to use getaddrinfo instead of inet_pton (more portable).
Closes #392.

==

tornado/httpserver.py
tornado/test/httpserver_test.py
==================
5650d907;Ben Darnell;2012-01-01 22:26:12 -0800;Merge remote-tracking branch 'davidwilemski/xheaders-xss' into work

==
==================
ac9902cb;Ben Darnell;2012-01-01 19:20:05 -0800;Use a StackContext to allow exceptions thrown from asynchronous functions called by a generator to be caught normally.
Closes #405.
Closes #411.

==

tornado/gen.py
tornado/test/gen_test.py
==================
008e605e;Ben Darnell;2012-01-01 16:17:35 -0800;Allow exceptions thrown in the first (synchronous) phase of a gen.Task to be caught by the generator.

==

tornado/gen.py
tornado/test/gen_test.py
==================
494ae50a;Ben Darnell;2012-01-01 14:00:13 -0800;Increase maximum IOLoop poll timeout.
I believe the previous 0.2s limit was there to work around an old bug in
the add_callback waker that has since been fixed.

==

tornado/ioloop.py
==================
ad632653;Ben Darnell;2011-12-30 20:20:25 -0800;Support status codes other than 301 and 302 in RequestHandler.redirect().
Closes #228.
Closes #424.

==

tornado/test/web_test.py
tornado/web.py
==================
7f5d4de7;Ben Darnell;2011-12-30 16:02:40 -0800;Avoid merging the entire read buffer for IOStream.read_until.
Among other things, this dramatically speeds up downloads of large
chunked files over a fast network with SimpleHTTPClient.

Fixes #425.

==

demos/benchmark/chunk_benchmark.py
tornado/iostream.py
==================
0b31d8de;Ben Darnell;2011-12-30 14:47:21 -0800;bytearray is a 2.6ism; use array.array("B") instead for 2.5 compatibility.

==

maint/test/websocket/run.sh
maint/test/websocket/tox.ini
tornado/websocket.py
==================
84250a37;Ben Darnell;2011-12-30 13:29:12 -0800;Invert fragment-handling logic for clarity

==

tornado/websocket.py
==================
9f32af17;Ben Darnell;2011-12-30 12:54:36 -0800;Improve websocket conformance as reported by autobahn.
Of note:
* It's now possible to send binary frames (auto-switched based on
  whether the argument to write_message is bytes or unicode)
* Invalid utf8 in text frames is now an error
* Lots of fragmentation-related improvements

==

tornado/websocket.py
==================
34b59827;Ben Darnell;2011-12-30 12:53:11 -0800;Add websocket conformance tests using autobahn

==

maint/test/README
maint/test/websocket/.gitignore
maint/test/websocket/client.py
maint/test/websocket/run.sh
maint/test/websocket/server.py
maint/test/websocket/tox.ini
==================
877aa9d8;Ben Darnell;2011-12-30 00:49:19 -0800;Install more python versions in the linux VM so we can test epoll.c too.
Also fix a bug in the test for python 2.5 on systems where ipv6 is not
configured (socket.gaierror didn't have an `errno` attribute until 2.6)

==

maint/vm/shared-setup.sh
maint/vm/ubuntu10.04/setup.sh
maint/vm/ubuntu10.04/tox.ini
tornado/test/simple_httpclient_test.py
==================
f27b49a7;Ben Darnell;2011-12-29 22:58:03 -0800;Misc doc updates.

==

tornado/curl_httpclient.py
tornado/httpclient.py
tornado/stack_context.py
tornado/testing.py
website/sphinx/releases/next.rst
==================
4f64fbe9;David Wilemski;2011-12-17 14:48:23 -0500;A typo fix I noticed while fixing bug 392

==

tornado/httpserver.py
==================
06352848;David Wilemski;2011-12-17 14:45:59 -0500;Fix for bug #392
Validates the remote_ip from xheaders using socket.inet_pton

==

tornado/httpserver.py
==================
112fdb48;Ben Darnell;2011-12-16 00:07:25 -0800;Fix an implicit relative import

==

tornado/web.py
==================
44a97bdb;Ben Darnell;2011-12-15 23:59:42 -0800;Start accumulating release notes

==

website/sphinx/releases.rst
website/sphinx/releases/next.rst
==================
dae7c0f2;Ben Darnell;2011-12-15 23:35:48 -0800;Merge remote-tracking branch 'alekstorm/master' into merge

==
==================
54b244d2;Ben Darnell;2011-12-15 23:27:30 -0800;Merge remote-tracking branch 'alekstorm/template_comment' into merge

==
==================
e7a47e7b;Ben Darnell;2011-12-15 22:54:51 -0800;Improve app engine tests now that SDK 1.6.1 is compatible with virtualenv

==

maint/appengine/README
maint/appengine/common/cgi_runtests.py
maint/appengine/common/runtests.py
maint/appengine/setup.py
maint/appengine/tox.ini
==================
3537a66e;Serge S. Koval;2011-12-10 11:58:16 +0200;Minor cleanup.

==

tornado/websocket.py
==================
93465a1b;Serge S. Koval;2011-12-10 11:56:45 +0200;Removed unnecessary checks from appropriate websocket protocol implementations.

==

tornado/websocket.py
==================
0b5e73b0;Serge S. Koval;2011-12-08 14:48:38 +0200;Connection header must include "Upgrade", but should not be equal to.

==

tornado/websocket.py
==================
70bb948f;Serge S. Koval;2011-12-08 14:42:37 +0200;Additional checks for WebSocket protocol handshake.

==

tornado/websocket.py
==================
597f70b3;Ben Darnell;2011-12-07 00:36:33 -0800;A different approach to template stack traces:
Include the template source line as a comment in the generated code,
and add the magic necessary for python's normal stack traces to print
the (generated) source.

==

tornado/template.py
tornado/test/template_test.py
tornado/testing.py
tornado/util.py
==================
45ca697f;Ben Darnell;2011-12-07 00:18:42 -0800;Merge remote-tracking branch 'alekstorm/template_trace' into merge
Conflicts:
	tornado/template.py

==
==================
59812edc;Birk Nilson;2011-12-02 14:28:31 +0000;Add ability to parse static path before using it as though it was a relative filesystem path. Thereby enabling developers to add the versioning string as a component in the path rather than a query string. Which is required when working with CloudFront for instance.

==

tornado/test/web_test.py
tornado/web.py
==================
782c4def;Birk Nilson;2011-12-02 14:25:45 +0000;Fixed issue when slicing static_url version string when none exists.

==

tornado/web.py
==================
2468216f;Birk Nilson;2011-12-02 12:28:03 +0000;Separate generation of static URLs and versioning in order ease customization of how versioning is handled in subclasses.

==

tornado/web.py
==================
52c83a41;Ben Darnell;2011-11-30 22:59:09 -0800;Our tests don't work with the recently-released Twisted 11.1.0, so pin the tests to 11.0.0 until we figure out what's going on.

==

tox.ini
==================
9484eb08;Birk Nilson;2011-11-30 20:51:33 +0000;Allow override of include_host in static_url. Thereby supporting the generation of absolute URLs even though the handler - by default - would have generated a relative URL for instance. The reverse scenario is of course supported also.

==

tornado/test/web_test.py
tornado/web.py
==================
eb79f0dd;bdarnell;2011-11-26 12:42:19 -0800;Merge pull request #403 from jparise/log-levels
Mention the 'debug' level in --logging's help.
==
==================
0b06f4a0;Ben Darnell;2011-11-26 12:32:22 -0800;Merge commit '7d32d64' into merge

==
==================
d81851cd;Jon Parise;2011-11-26 11:21:04 -0500;Mention the 'debug' level in --logging's help.
There are a number of places in the Tornado code base where log
messages are logged at the logging.DEBUG level.  It's useful to
advertise this here.

==

tornado/options.py
==================
da783840;MinRK;2011-11-22 15:48:46 -0800;use '%s' formatting instead of '%d' for fds in IOLoop log messages
In case some poller implementations accept sockets or values other than
integer file descriptors, this prevents tornado's log messages from
raising errors.

==

tornado/ioloop.py
==================
e8b4c7d6;MinRK;2011-11-22 15:46:19 -0800;fix milliseconds -> seconds typo
in ioloop, a variable was called milliseconds, but its units were seconds,
which is confusing.

==

tornado/ioloop.py
==================
7d32d649;Thomas Miedema;2011-11-22 11:15:44 +0100;Fix _reseed_random when os.urandom is not implemented

==

tornado/process.py
==================
fc7a3dba;bdarnell;2011-11-13 22:52:36 -0800;Merge pull request #396 from justinrosenthal/master
Prevent duplicate callbacks when PeriodicCallback is stopped and restarted before _next_timeout
==
==================
48459e31;bdarnell;2011-11-13 22:51:51 -0800;Merge pull request #397 from swies/master
Invalid Cookie header crashes get_cookie
==
==================
6560b773;bdarnell;2011-11-13 22:50:25 -0800;Merge pull request #398 from phleet/patch-1
Documentation fix for AsyncTestCase
==
==================
7a487155;Ben Darnell;2011-11-13 21:22:21 -0800;Add very basic testing for app engine

==

maint/appengine/README
maint/appengine/common/cgi_runtests.py
maint/appengine/common/runtests.py
maint/appengine/py25/app.yaml
maint/appengine/py25/cgi_runtests.py
maint/appengine/py25/runtests.py
maint/appengine/py25/tornado
maint/appengine/py27/app.yaml
maint/appengine/py27/cgi_runtests.py
maint/appengine/py27/runtests.py
maint/appengine/py27/tornado
tornado/testing.py
==================
0b8adeb3;Ben Darnell;2011-11-13 20:15:44 -0800;Thread safety for shared data structures (templates and static file hashes)
These data structures were basically safe before thanks to the GIL, but could
lead to wasted work in multithreaded environments (such as the new python2.7
app engine)

Also fixed a bug that made debug mode not invalidate static files.

==

tornado/template.py
tornado/web.py
==================
89f35bc1;Ben Darnell;2011-11-13 18:07:32 -0800;Add an option to the test runner to kill the process on SIGINT instead of raising an exception.
This makes it easier to work with tests that get into uninterruptible
states (such as threading.Lock deadlocks)

==

tornado/testing.py
==================
c7c0cafa;Jamie Wong;2011-11-12 22:56:52 -0800;Documentation fix for AsyncTestCase

==

tornado/testing.py
==================
b4e73a73;Ben Darnell;2011-11-11 20:35:26 -0800;Local copy of sphix coverage plugin is no longer needed in version 1.1

==

website/sphinx/conf.py
website/sphinx/sphinx_coverage.py
==================
f0df94ca;Patrick Swieskowski;2011-11-06 08:56:00 -0800;fix crash on invalid Cookie header

==

tornado/test/web_test.py
tornado/web.py
==================
700f5a70;Justin Rosenthal;2011-11-03 23:31:49 -0700;Prevent duplicate callbacks when PeriodicCallback is stopped and restarted before _next_timeout

==

tornado/ioloop.py
==================
848244ad;Luca Wehrstedt;2011-10-30 17:37:29 +0100;Add Etag header on HEAD requests for StaticFileHandler.

==

tornado/web.py
==================
60b3e662;Luca Wehrstedt;2011-10-30 01:15:19 +0300;Add Content-Length header on HEAD requests for StaticFileHandler.

==

tornado/web.py
==================
066a0c38;David Koblas;2011-10-25 15:24:41 -0700;Use a AND instead of an OR to determine if the bits are set on the event mask.  Also, handle some basic error cases in the event bits and twisted callback.

==

tornado/platform/twisted.py
==================
326523be;Ben Darnell;2011-10-25 10:50:22 -0700;Add return statements missing from HEAD/204 fix

==

tornado/simple_httpclient.py
==================
bf755719;Ben Darnell;2011-10-24 22:02:15 -0700;Fix zero-byte writes in IOStream.
Previously zero-byte writes would cause the CPU to run at 100% and
would never call their callback (if any).

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
45752bfd;Aaron Morton;2011-10-24 23:38:54 +1300;Clear Content-Encoding and Transfer-Encoding
Also better test names.

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
a9e92e21;Ben Darnell;2011-10-23 14:43:20 -0700;Fix hang on HEAD requests and on 204/304 responses with no content-length.
Closes #386.

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
84d7b458;Ben Darnell;2011-10-23 13:39:19 -0700;Sigh... More websocket protocol changes.
Closes #385.

==

tornado/websocket.py
==================
95b90423;Guto Maia;2011-10-07 16:21:10 -0300;allows the TwitterMixin define the callback_uri, that solves issue #377

==

tornado/auth.py
==================
970b43bd;Ben Darnell;2011-10-07 01:06:01 -0700;Add configs for testing on Vagrant-managed VMs.

==

.gitignore
maint/README
maint/vm/README
maint/vm/freebsd/Vagrantfile
maint/vm/freebsd/setup.sh
maint/vm/freebsd/tox.ini
maint/vm/shared-setup.sh
maint/vm/ubuntu10.04/Vagrantfile
maint/vm/ubuntu10.04/setup.sh
maint/vm/ubuntu10.04/tox.ini
tox.ini
==================
6dd03c06;Ben Darnell;2011-10-07 01:07:58 -0700;Bump version number in the master branch

==

setup.py
tornado/__init__.py
==================
fa159286;Ben Darnell;2011-10-04 09:59:49 -0700;Set version number to 2.1.1

==

setup.py
tornado/__init__.py
==================
ea25c04a;Ben Darnell;2011-10-04 09:50:47 -0700;Add release notes for 2.1.1

==

website/sphinx/releases.rst
website/sphinx/releases/v2.1.1.rst
==================
c5e19a04;Ben Darnell;2011-10-04 08:54:38 -0700;Always advance _next_timeout in PeriodicCallback._schedule_next().
On fast machines (and platforms where time.time() has low resolution),
it's possible to make it through an IOLoop iteration with time.time()
unchanged, which would cause the callback to be run multiple times
regardless of the requested interval.

Closes #366.

==

tornado/ioloop.py
==================
0ea54f98;David Galeano;2011-10-04 13:09:15 +0100;Added support for subprotocols.

==

tornado/websocket.py
==================
93415225;bdarnell;2011-10-03 22:45:18 -0700;Merge pull request #372 from WGH-/patch-1
tornado/iostream.py - long type in read_bytes
==
==================
420ad086;Ben Darnell;2011-10-03 22:28:33 -0700;Errors from socket.connect() should be treated the same way as async failures.
On freebsd non-blocking connect() may return certain errors (such as
ECONNREFUSED from localhost) immediately instead of returning EINPROGRESS
and then giving the error later.

Also improve the test for ipv6 compatibility, since freebsd returns a different
error than other platforms when ipv6 is not available.

==

tornado/iostream.py
tornado/test/simple_httpclient_test.py
==================
1057260a;WGH-;2011-10-03 21:03:14 +0400;Edited tornado/iostream.py via GitHub

==

tornado/iostream.py
==================
6cd8e08f;Aaron Morton;2011-10-02 21:07:02 +1300;remove content headers for 303 redirect
when doing a GET request for a 303 redirect clear the Content-Length
and Content-Type headers, they are set during the initial POST.

==

tornado/simple_httpclient.py
==================
1667e0b7;Aaron Morton;2011-09-28 23:26:58 +1300;handle HTTP 303 redirects correctly
see http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.4

In response to a 303 the client SHOULD make a GET to the Location,
was using the original method.

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
4b346bdd;Ben Darnell;2011-09-22 10:38:35 -0700;Fix a case in which chunked responses could be closed prematurely.
The bug manifests with certain patterns of fast-path/slow-path writes
on the IOStream, so it's difficult to test (it was more likely to occur in
2.0 than in 2.1).

http://groups.google.com/group/python-tornado/browse_thread/thread/7228881f7af38070

==

tornado/httpserver.py
==================
8572cc40;Ben Darnell;2011-09-22 00:10:43 -0700;Fix connection-close detection for epoll.
Previously, closed connections with epoll sent an IOLoop.ERROR event
while there was still data in the OS's socket buffers.  Event handlers
that did not drain the entire socket buffer before processing the
close event would lose data. (this was primarily an issue for
SimpleAsyncHTTPClient)

IOLoop.ERROR no longer includes EPOLLRDHUP (which is only supposed to be
used in edge-triggered mode: https://lkml.org/lkml/2003/7/12/132), so closed
connections while reading are signaled as zero-byte reads once the buffer
is drained (this was already the behavior of the select-based IOLoop).
Closed connections while writing are still signaled with EPOLLHUP.

Backwards-compatibility note:  Listening for IOLoop.ERROR alone is no longer
sufficient for detecting closed connections on an otherwise unused socket.
IOLoop.ERROR must always be used in combination with READ or WRITE.

==

tornado/ioloop.py
tornado/iostream.py
tornado/test/iostream_test.py
==================
fe955fec;Ben Darnell;2011-09-22 00:31:28 -0700;Bump version number in the master branch

==

setup.py
tornado/__init__.py
==================
d03e60d0;Alek Storm;2011-09-22 02:41:37 +0000;Print only the template trace of the bottommost UI module call, move testing.LogHandler to util.LogCaptureHandler, and rename testing.LogTestCase to testing.LogCaptureTestCase

==

tornado/template.py
tornado/test/template_test.py
tornado/testing.py
tornado/util.py
==================
b419316c;Ben Darnell;2011-09-20 21:21:52 -0700;Set version number to 2.1

==

setup.py
tornado/__init__.py
==================
a9980ac1;Ben Darnell;2011-09-20 21:21:07 -0700;Move next.rst to v2.1.0.rst

==

website/sphinx/releases.rst
website/sphinx/releases/v2.1.0.rst
==================
189c268a;bdarnell;2011-09-19 10:45:37 -0700;Merge pull request #363 from daharon/master
Make HTTPHeaders.__contains__() case-insensitive, like the rest of the object
==
==================
f6b2dbea;Daniel Aharon;2011-09-19 09:32:27 -0700;Make HTTPHeaders.__contains__() case-insensitive, like the rest of the object.

==

tornado/httputil.py
==================
5cf9890b;Ben Darnell;2011-09-18 16:44:32 -0700;Add a test for the bug fixed in commit e811959

==

tornado/test/iostream_test.py
==================
662d8ace;Florian Diebold;2011-09-18 00:17:47 +0200;Fix the handling of messages of length 126 in the draft-10 Websocket implementation.

==

tornado/websocket.py
==================
e8119595;Florian Diebold;2011-09-04 18:47:01 +0200;Fix the IOStream close callback not getting called if there are pending callbacks.
_maybe_add_error_listener only does anything if _state is None.

==

tornado/iostream.py
==================
95b70733;Ben Darnell;2011-09-17 22:00:00 -0700;Close leaking listener socket in tests

==

tornado/test/iostream_test.py
==================
7dba811d;Ben Darnell;2011-09-17 13:14:11 -0700;More release note updates

==

website/sphinx/releases/next.rst
==================
53bf14c7;Ben Darnell;2011-09-15 11:22:22 -0700;Update ca-certs file to remove Diginotar

==

tornado/ca-certificates.crt
==================
ff4be521;Ben Darnell;2011-09-14 22:30:11 -0700;Put overview documentation back in HTTPServer docstring, and other doc and import cleanups

==

tornado/httpserver.py
tornado/netutil.py
==================
593102d1;Ben Darnell;2011-09-14 21:22:32 -0700;Merge remote-tracking branch 'alekstorm/tcpserver' into merge

==
==================
363e3739;Alek Storm;2011-09-13 16:20:19 +0000;Add {# ... #} construct to comment out entire sections

==

tornado/template.py
tornado/test/template_test.py
==================
abcac64c;Alek Storm;2011-09-12 18:18:35 +0000;Log "stacktrace" of templace source lines when an exception is raised for more convenient debugging

==

tornado/template.py
tornado/test/template_test.py
tornado/testing.py
==================
b8fd0c19;Ben Darnell;2011-09-11 23:16:08 -0700;Remove doc warnings about tornado.auth in python3

==

tornado/auth.py
website/templates/index.html
==================
eb5f2ceb;Ben Darnell;2011-09-11 22:50:13 -0700;Add crude tests for the auth module, and fix python3 issues with oauth1

==

tornado/auth.py
tornado/test/auth_test.py
tornado/test/runtests.py
==================
437c477a;Alek Storm;2011-09-12 05:32:43 +0000;Move `TCPServer` to `netutil`, change `handle_stream` callback to overridden method hook, move IP address hack for unix domain sockets to `HTTPConnection`

==

tornado/httpserver.py
tornado/netutil.py
==================
ef788bce;Ben Darnell;2011-09-11 20:42:22 -0700;Merge branch 'branch2.0'

==
==================
5872db2e;Ben Darnell;2011-09-11 15:50:34 -0700;Add support for callbacks that take more than a single positional argument.
Closes #351.

==

tornado/gen.py
tornado/test/gen_test.py
website/sphinx/gen.rst
==================
94b483ef;Ben Darnell;2011-09-11 15:09:25 -0700;Add support for lists of YieldPoints in the gen framework.

==

tornado/gen.py
tornado/test/gen_test.py
website/sphinx/conf.py
==================
3496f757;bdarnell;2011-09-10 16:38:21 -0700;Merge pull request #356 from alekstorm/files
Convert dictionaries representing HTTP files to HTTPFile objects
==
==================
ec953d2d;Alek Storm;2011-09-10 23:27:40 +0000;Convert dictionaries representing HTTP files to HTTPFile objects, with dictionary access for attributes retained for backwards compatibility

==

tornado/httpserver.py
tornado/httputil.py
tornado/test/httpserver_test.py
==================
452ebff3;Alek Storm;2011-09-10 23:25:10 +0000;Move web._O to util.ObjectDict

==

tornado/httputil.py
tornado/test/web_test.py
tornado/util.py
tornado/web.py
==================
d5e924a8;Ben Darnell;2011-09-10 15:10:31 -0700;Add reference docs for all template directives.
Closes #355.

==

tornado/template.py
tornado/test/template_test.py
website/sphinx/template.rst
==================
1a6dd4c0;Ben Darnell;2011-09-10 14:18:51 -0700;Reorder tox environments so the most important/likely-to-fail ones run first.

==

tox.ini
==================
1b5adf99;Ben Darnell;2011-09-08 22:51:45 -0700;Add on_connection_close hook to chat demo to clean up after closed connections.
Closes #354.

==

demos/chat/chatdemo.py
==================
12c5699e;Ben Darnell;2011-09-08 22:45:30 -0700;Extract cookie-signing methods from RequestHandler so they can be used outside the web stack.
Closes #339.

==

tornado/test/web_test.py
tornado/web.py
==================
c9fb8e03;Ben Darnell;2011-09-08 22:07:32 -0700;Add streaming_callback to IOStream.read_bytes and read_until_close.
Closes #300.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
dfda3a55;Alek Storm;2011-09-08 00:09:52 +0000;Factor HTTP-specific code into HTTPServer subclass of TCPServer

==

tornado/httpserver.py
==================
c36e482d;Ben Darnell;2011-09-05 14:00:51 -0700;Remove unused variables (discovered by pyflakes)

==

tornado/auth.py
tornado/httpserver.py
tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
tornado/testing.py
==================
5997f411;Ben Darnell;2011-09-05 13:23:57 -0700;Improve exception handling for gen module.

==

tornado/gen.py
tornado/test/gen_test.py
==================
2f914601;Ben Darnell;2011-09-05 12:15:50 -0700;Allow any sequence in gen.WaitAll, not just lists.

==

tornado/gen.py
==================
39de229e;Ben Darnell;2011-09-05 12:12:07 -0700;Add test for 100-continue functionality, and fix it on python 3
Closes #350.

==

tornado/httpserver.py
tornado/test/httpserver_test.py
tornado/test/wsgi_test.py
website/sphinx/releases/next.rst
==================
f28674d3;Ben Darnell;2011-09-04 18:00:06 -0700;Document tornado.platform.twisted, and rename ioloop parameter to io_loop for consistency with other modules.

==

tornado/platform/twisted.py
website/Makefile
website/sphinx/conf.py
website/sphinx/integration.rst
website/sphinx/twisted.rst
==================
f05f9b9e;Ben Darnell;2011-09-04 17:47:39 -0700;Reorganize release notes

==

website/sphinx/releases/next.rst
==================
b266561d;Ben Darnell;2011-09-04 15:51:25 -0700;Accumulated release note updates.

==

website/sphinx/releases/next.rst
==================
b2de4b83;Ben Darnell;2011-09-04 15:39:55 -0700;Update docs with new methods

==

website/sphinx/conf.py
website/sphinx/gen.rst
website/sphinx/ioloop.rst
website/sphinx/web.rst
==================
93a0dc82;Ben Darnell;2011-09-04 12:52:43 -0700;Fix error in docs

==

tornado/gen.py
==================
09659523;Ben Darnell;2011-09-04 11:26:36 -0700;Add gen.WaitAll

==

tornado/gen.py
tornado/test/gen_test.py
==================
e4ead597;Ben Darnell;2011-09-04 00:59:57 -0700;Add tornado.gen module for simpler generator-based async code.

==

tornado/gen.py
tornado/test/gen_test.py
tornado/test/runtests.py
website/sphinx/gen.rst
website/sphinx/utilities.rst
==================
c0142d2e;Ben Darnell;2011-09-03 13:27:28 -0700;Various minor test changes for windows.

==

tornado/autoreload.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/process_test.py
tornado/test/simple_httpclient_test.py
tornado/test/twisted_test.py
==================
86e4c5f5;Ben Darnell;2011-09-03 12:20:43 -0700;Remove test_connect_timeout, which was only passing before due to a bug in the timeout implementation.

==

tornado/test/simple_httpclient_test.py
==================
70cd9120;bdarnell;2011-08-30 20:27:19 -0700;Merge pull request #349 from milkinc/master
Correct on_connect timeout for simple http client
==
==================
d4afb131;bdarnell;2011-08-30 20:26:04 -0700;Merge pull request #347 from ContextLogic/optiongroup
'group' parameter in options.define()
==
==================
525b5da5;Jeff Hodsdon;2011-08-30 19:05:55 -0700;Corrected on_connect timeout for simplehttpclient

==

tornado/simple_httpclient.py
==================
16d492e7;Jeeyoung Kim;2011-08-30 14:47:34 -0700;In define(), added option to define our own option group, which is used in print_help().

==

tornado/options.py
==================
b2cdb440;bdarnell;2011-08-29 22:14:54 -0700;Merge pull request #346 from mikejthompson/master
adding 'cookies' property to wsgi.HTTPRequest
==
==================
3627fb54;Mike Thompson;2011-08-29 21:18:35 -0700;add 'cookies' property to wsgi.HTTPRequest

==

tornado/wsgi.py
==================
129d77d6;Ben Darnell;2011-08-28 18:42:35 -0700;Watch the main module for tornado.autoreload's -m mode

==

tornado/autoreload.py
==================
51b88268;Ben Darnell;2011-08-27 23:59:48 -0700;Merge commit '864044' into merge

==
==================
e5d96e1f;Maciej Małecki;2011-08-23 00:24:36 +0200;Fix typos (argh!). #319

==

tornado/autoreload.py
==================
874aa201;Maciej Małecki;2011-08-22 15:01:01 +0200;Use subprocess.Popen on Windows, fixes #319

==

tornado/autoreload.py
==================
7f6c66e4;Ben Darnell;2011-08-27 23:24:56 -0700;Add a version of database.Connection.execute that returns the rowcount.
Closes #333.

==

tornado/database.py
==================
59286267;Ben Darnell;2011-08-27 23:08:48 -0700;Merge remote-tracking branch 'alekstorm/static_args' into merge

==
==================
3066dfe8;Ben Darnell;2011-08-27 23:04:26 -0700;Merge branch 'master' into merge

==
==================
3a85ec90;Ben Darnell;2011-08-27 23:02:57 -0700;Reinstate RequestHandler.cookies property

==

tornado/test/web_test.py
tornado/web.py
==================
b52a4d9a;Jehiah Czebotar;2011-08-27 20:51:45 -0400;implement request_time in simplehttp_client (and tests)

==

tornado/simple_httpclient.py
tornado/test/httpclient_test.py
tornado/test/simple_httpclient_test.py
==================
e4c154c5;bdarnell;2011-08-27 12:31:17 -0700;Merge pull request #344 from akrymski/master
javascript not being gzipped
==
==================
727299d9;Artemi Krymski;2011-08-27 16:02:00 +0100;application/json was missing from GZIP CONTENT_TYPES

==

tornado/web.py
==================
af520f63;Wojciech Polak;2011-08-25 17:29:32 +0200;Improve template execution performance.

==

tornado/template.py
==================
a727d7af;bdarnell;2011-08-23 20:24:28 -0700;Merge pull request #342 from davidwilemski/master
Template documentation fix
==
==================
8e83af7e;David Wilemski;2011-08-23 23:14:08 -0400;Fixed typo in template documentation

==

tornado/template.py
==================
e91d4a3a;Ben Darnell;2011-08-23 10:38:11 -0700;Support max_age as an alias for max-age in set_cookie(**kwargs)

==

tornado/web.py
==================
6b7ddc91;Ben Darnell;2011-08-22 22:45:27 -0700;timedelta.total_seconds() is new in python2.7, so do the math ourselves.

==

tornado/ioloop.py
tornado/test/ioloop_test.py
==================
86404402;Jeeyoung Kim;2011-08-22 15:14:39 -0700;Implemented read_until_regex in tornado. This is similar to read_until(), except it looks for a specific delimiter. This function is used to parse the header of the website, where it is delimited by '\n' only (like http://news.ycombinator.com/rss)

==

tornado/iostream.py
tornado/simple_httpclient.py
==================
66a82a9b;bdarnell;2011-08-21 16:54:43 -0700;Merge pull request #340 from alekstorm/template_namespace
Add 'namespace' parameter to template.BaseLoader constructor
==
==================
437274ac;Ben Darnell;2011-08-21 15:53:00 -0700;When following redirects, release connection resources immediately

==

tornado/simple_httpclient.py
tornado/test/httpserver_test.py
tornado/test/simple_httpclient_test.py
==================
0373c7a3;Alek Storm;2011-08-20 15:20:16 +0000;Add 'namespace' parameter to template.BaseLoader constructor
Specifies custom entries in the global namespace of loaded templates.

==

tornado/template.py
tornado/test/template_test.py
==================
4a4d8717;Alek Storm;2011-08-18 06:01:50 +0000;Move 'cookies' property from RequestHandler to HTTPRequest

==

tornado/httpserver.py
tornado/test/httpserver_test.py
tornado/test/web_test.py
tornado/web.py
==================
2affc6d3;Alek Storm;2011-08-17 00:19:40 +0000;Add 'static_handler_args' application setting to pass extra keyword arguments to static file handler constructor.

==

tornado/web.py
==================
00bb10c4;Ben Darnell;2011-08-14 14:38:42 -0700;Add static_handler_class application setting, and move most of static_url into the handler class where it can be overridden.

==

tornado/test/web_test.py
tornado/web.py
website/sphinx/releases/next.rst
==================
c1493114;Ben Darnell;2011-08-14 14:20:09 -0700;Add tests for static file functionality

==

MANIFEST.in
setup.py
tornado/test/static/robots.txt
tornado/test/web_test.py
==================
1882670c;Ben Darnell;2011-08-14 12:03:07 -0700;In case the callback_uri and the uri that called authenticate_redirect are different, use the callback as the openid realm.

==

tornado/auth.py
website/sphinx/releases/next.rst
==================
a8241193;Ben Darnell;2011-08-14 11:40:10 -0700;Release note updates

==

tornado/websocket.py
website/sphinx/releases/next.rst
==================
04cf5c56;Ben Darnell;2011-08-14 10:55:10 -0700;Clean up after the _check_file refactoring.

==

tornado/autoreload.py
==================
15ebe764;Ben Darnell;2011-08-14 10:38:52 -0700;Add the option to run application hooks before autoreloading.
Closes #331

==

tornado/autoreload.py
==================
225bf2ac;Ben Darnell;2011-08-14 09:53:55 -0700;Remove tox config for pypy with mysql.
The module builds on pypy, but doesn't work (and having it loaded causes
non-deterministic failures in the process-related tests)

==

tox.ini
==================
688d59d4;Ben Darnell;2011-08-06 14:21:19 -0700;Accept timedelta objects in IOLoop.add_timeout.
Closes #329.

==

tornado/ioloop.py
==================
8e274f08;Ben Darnell;2011-08-06 13:23:35 -0700;Speed up _convert_header_value

==

tornado/web.py
==================
bbb2d38c;Ben Darnell;2011-08-06 13:06:54 -0700;Add RequestHandler.add_header to allow headers to occur multiple times.

==

tornado/test/web_test.py
tornado/web.py
==================
ef907902;Ben Darnell;2011-08-06 12:23:12 -0700;Better path surgery in autoreload

==

tornado/autoreload.py
==================
c95be878;Alek Storm;2011-08-03 08:25:31 +0000;Allow template directives to span multiple lines

==

tornado/template.py
==================
ef95c11f;Ben Darnell;2011-08-02 23:58:41 -0700;Fix style, add comments

==

tornado/web.py
==================
256c004d;Ben Darnell;2011-08-02 23:54:28 -0700;Merge remote-tracking branch 'alekstorm/master' into merge

==
==================
7aec8fc9;Ben Darnell;2011-08-02 23:47:55 -0700;If a PeriodicCallback runs longer than its period, skip the missed callbacks instead of trying to run all the missed callbacks to catch up.

==

tornado/ioloop.py
==================
01be222e;Ben Darnell;2011-08-02 23:44:21 -0700;Merge remote-tracking branch 'jfisteus/periodic_callback' into merge

==
==================
6ec7b47c;Ben Darnell;2011-08-02 23:33:39 -0700;Add install() method to IOLoop to allow a custom subclass as the singleton.
Singleton-related methods are now static, not class methods.

==

tornado/ioloop.py
==================
677c987a;Ben Darnell;2011-08-02 23:26:50 -0700;Test that tornado.database is at least importable on all supported pythons.
Fix a problem preventing import on pypy (but apparently there are still other
issues with running MySQLdb on pypy, so the module will not actually work yet).

==

tornado/database.py
tornado/test/import_test.py
tox.ini
==================
a286935b;Alek Storm;2011-07-29 21:02:57 +0000;Add extra '_modules' reference to modules list in template parameters, which is used by {% module ... %} directive to avoid naming conflicts with Python modules named 'modules'

==

tornado/template.py
tornado/web.py
==================
c4c59604;Jesus Arias Fisteus;2011-07-28 18:44:29 +0200;Stabilization of the period of ioloop.PeriodicCallback.
Previously, the timeout for the following event was computed by adding
callback_time to the actual time the callback finished, which caused
calls to the callback not being trully periodic.

This commit makes callback_time be a stable period by scheduling the
next timeout callback_time after the previous timeout was scheduled.

==

tornado/ioloop.py
==================
8c3e46c4;Ben Darnell;2011-07-27 22:09:49 -0700;Add option to print out generated template code in benchmark

==

demos/benchmark/template_benchmark.py
==================
fa5b0f26;Ben Darnell;2011-07-27 22:03:50 -0700;Speed up xhtml_escape (template benchmark goes from 49ms to 32ms)

==

tornado/escape.py
==================
3a7e3089;Ben Darnell;2011-07-27 22:01:05 -0700;Add a template benchmark, based on one in jinja2

==

demos/benchmark/template_benchmark.py
==================
71abb9fd;Ben Darnell;2011-07-27 21:04:22 -0700;More defensiveness about patterns that could lead to double callbacks.

==

tornado/simple_httpclient.py
==================
a0ff0ed9;Ben Darnell;2011-07-26 10:50:32 -0700;Allow unicode string literals to appear in template expressions.
Closes #313.

==

tornado/template.py
tornado/test/template_test.py
==================
6fcc459e;Ben Darnell;2011-07-24 19:59:14 -0700;Support Content-Length headers that have been duplicated by a proxy.
Closes #249.

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
5c6a91dd;Ben Darnell;2011-07-24 19:24:23 -0700;Merge branch 'httpclient_buffer'

==
==================
f2142ee2;Ben Darnell;2011-07-24 19:23:38 -0700;Fix test that depended on simple_httpclient implementation detail.

==

tornado/test/httpserver_test.py
==================
aa777a07;David Recordon;2011-07-20 21:23:01 -0700;Allow setting the maximum read buffer size when constructing a SimpleAsyncHTTPClient. Defaults to 100mb like the underlying IOStream. Tested that fetching a file over 100mb no longer gives a "Maximum read buffer size" exception.

==

tornado/simple_httpclient.py
==================
080dab2d;Ben Darnell;2011-07-19 19:35:22 -0700;Consistently guard against uncaught exceptions leading to multiple callback invocations in SimpleAsyncHTTPClient.

==

tornado/simple_httpclient.py
==================
b4324c1e;David Recordon;2011-07-19 19:12:28 -0700;Noticed that a max_clients around 50 would cause us to run out of file descriptors. lsof showed that TCP connections would remain in the established state versus being closed. stream.close is called in error states but not success. Thus call stream.close after passing the response to the callback. Result was seeing the TCP connections being properly closed as well as no change in fetching data.

==

tornado/simple_httpclient.py
==================
e360c72a;Ben Darnell;2011-07-18 23:52:27 -0700;Delay IOStream close callback until all pending callbacks have been processed.
This fixes an issue with SimpleAsyncHTTPClient when the server closes the
connection and the close is processed before all of the data is read.

Closes #306.

==

tornado/iostream.py
tornado/test/httpclient_test.py
==================
6f9e2f61;Ben Darnell;2011-07-18 22:59:01 -0700;Move httpclient_tests that never worked with curl to simple_httpclient_test.
curl_httpclient_test was previously creating SimpleAsyncHTTPClients due to a
bug, so these failing tests went unnoticed.

==

tornado/test/httpclient_test.py
tornado/test/simple_httpclient_test.py
==================
5d895f04;Ben Darnell;2011-07-18 22:34:19 -0700;Fix HTTP client selection as used in curl_httpclient_test.
AsyncHTTPClient.configure() was working, but it didn't work to instantiate
the client directly like the unit tests were using.

==

tornado/httpclient.py
tornado/test/curl_httpclient_test.py
tornado/test/simple_httpclient_test.py
==================
0d31f1c6;Ben Darnell;2011-07-18 21:25:59 -0700;Make "python -m tornado.autoreload" run with a consistent sys.path.

==

tornado/autoreload.py
==================
f376841b;Ben Darnell;2011-07-17 16:52:56 -0700;Add a config file to run tornado tests under multiple python versions with tox.
Also fix a setup.py problem that was leaving files out of the sdist output.

==

.gitignore
MANIFEST.in
tox.ini
==================
e13594da;Ben Darnell;2011-07-17 15:18:49 -0700;Merge branch 'master' into twisted

==
==================
379cd3d6;Ben Darnell;2011-07-17 15:17:36 -0700;Change binary literals to hex for compatibility with python2.5

==

tornado/websocket.py
==================
ef42bd8a;Ben Darnell;2011-07-17 15:13:04 -0700;Fix WebSocketProtocol8 on python3

==

tornado/websocket.py
==================
c91df197;Ben Darnell;2011-07-17 15:01:07 -0700;Make websocket demo work on firefox 6 beta

==

demos/websocket/static/chat.js
==================
5abfc795;Ben Darnell;2011-07-17 15:00:52 -0700;Merge remote-tracking branch 'flodiebold/master' into merge-websocket

==
==================
27951ad1;Ben Darnell;2011-07-17 14:07:19 -0700;Rename twistedreactor -> twisted

==

tornado/platform/twisted.py
tornado/test/import_test.py
tornado/test/runtests.py
tornado/test/twisted_test.py
==================
1264faa3;Ben Darnell;2011-07-17 14:03:42 -0700;Run parts of twisted's test suite on the tornado reactor

==

tornado/platform/twistedreactor.py
tornado/test/twistedreactor_test.py
==================
9d41c834;Florian Diebold;2011-07-17 22:15:21 +0200;Handle the hybi-07 version of the WebSocket protocol with the 08 implementation.
There don't seem to be any differences on the server side.

==

tornado/websocket.py
==================
b19a6d31;Ben Darnell;2011-07-17 12:46:22 -0700;Make twisted tests run under python 2.5

==

tornado/platform/twistedreactor.py
tornado/test/twistedreactor_test.py
==================
b202daa6;Florian Diebold;2011-07-17 21:25:05 +0200;Send the data of the ping frame back in the pong, as specified.

==

tornado/websocket.py
==================
dc74565a;Florian Diebold;2011-07-17 21:16:30 +0200;Fix an exception when connecting with an unsupported WebSocket version.

==

tornado/websocket.py
==================
7a70185a;Ben Darnell;2011-07-17 10:25:53 -0700;Remove new backwards-incompatible arguments from StaticFileHandler.set_extra_headers

==

tornado/web.py
==================
110de61b;Ben Darnell;2011-07-17 10:45:54 -0700;Merge commit '8dbe9ba' into work

==
==================
a026a784;Ovidiu Predescu;2011-07-14 19:00:44 -0700;Removed run() method.

==

tornado/platform/twistedreactor.py
==================
051a6cac;Ovidiu Predescu;2011-07-14 16:24:42 -0700;New test to check that addWriter followed by removeWriter properly removes the writer from IOLoop.

==

tornado/test/twistedreactor_test.py
==================
5eaa84b7;Ovidiu Predescu;2011-07-14 16:00:02 -0700;Moved twisted/reactor.py to platform/twistedreactor.py.
twistedreactor.py:
  - cleaned up logging
  - don't try to crash if stop has been called (uses _running to check it)
  - don't add reader and writers if they've already been added
  - use a NullContext when calling add_handler
  - call IOLoop.close() to properly close file descriptors
  - implement run() and instruct the reactor to not install signal handlers.

import_test.py:
  - import twistedreactor too

twistedreactor_test.py:
  - do conditional includes based on twisted
  - remove superfluous logging
  - don't use assertGreater
  - use threading instead of the thread module. Join threads at the end of test.
  - properly close the file descriptor in Reader/Writer's connectionLost().
  - make use of tornado.platform.auto's set_close_exec.
  - write only one in the pipe, and check for that.

==

tornado/platform/twistedreactor.py
tornado/test/import_test.py
tornado/test/twistedreactor_test.py
tornado/twisted/__init__.py
==================
99b3a9a7;Ovidiu Predescu;2011-07-14 15:52:35 -0700;Fix misspelling.

==

tornado/stack_context.py
==================
f0438e5d;Ben Darnell;2011-07-13 20:09:02 -0700;Add a callback for flow control to RequestHandler.flush

==

tornado/httpserver.py
tornado/test/web_test.py
tornado/web.py
==================
d227f3ba;Florian Diebold;2011-07-13 21:12:48 +0200;Implement the hybi-10 version of the WebSocket protocol.

==

tornado/websocket.py
==================
48e60770;Florian Diebold;2011-07-09 22:33:21 +0200;Refactor WebSocket support to prepare for multiple protocol versions.
All protocol-specific functions are moved to the former
WebSocketRequest class, which is renamed to WebSocketProtocol76. The
WebSocketHandler chooses the right WebSocketProtocol implementation by
looking at the request headers.

==

tornado/websocket.py
==================
8dbe9ba9;Krzysztof Tarnowski;2011-07-13 19:56:24 +0200;Enabled subclasses to specify expiration time.

==

tornado/web.py
==================
3bb589fb;Ovidiu Predescu;2011-07-12 13:32:59 -0700;Don't use defaults in reactor.py as they cause unneeded initializations.
Fix the unittest to not initialize IOLoop's global instance.

==

tornado/test/runtests.py
tornado/test/twistedreactor_test.py
tornado/twisted/reactor.py
==================
ec838edc;Ovidiu Predescu;2011-07-12 12:08:50 -0700;Added the twistedreactor_test to runtests.py.

==

tornado/test/runtests.py
==================
e1043bed;Ovidiu Predescu;2011-07-12 12:04:26 -0700;Added author and copyright info.

==

tornado/test/twistedreactor_test.py
tornado/twisted/reactor.py
==================
7326a150;Ovidiu Predescu;2011-07-12 11:39:21 -0700;Updated to not depend on IOLoop's _set_nonblocking and _set_close_exec, which were moved to a separate file.

==

tornado/test/twistedreactor_test.py
==================
a45f6735;Ovidiu Predescu;2011-07-12 11:28:24 -0700;Added twisted-style reactor for Tornado.

==

tornado/test/twistedreactor_test.py
tornado/twisted/__init__.py
tornado/twisted/reactor.py
==================
2ee58f1f;Ben Darnell;2011-07-12 10:26:33 -0700;Fix race condition in cross-thread IOLoop.add_callback

==

tornado/ioloop.py
==================
631d2f42;Ben Darnell;2011-07-12 09:14:16 -0700;Better error message

==

tornado/web.py
==================
e4146307;Ben Darnell;2011-07-10 17:13:00 -0700;Doc and release note updates.

==

website/sphinx/overview.rst
website/sphinx/releases/next.rst
==================
67ff311a;Ben Darnell;2011-07-10 16:13:45 -0700;Support multi-line headers
Closes #9.

==

tornado/httputil.py
tornado/test/httputil_test.py
==================
f771360a;Ben Darnell;2011-07-10 15:30:52 -0700;Properly quote and unquote cookie values.
Closes #36.

==

tornado/test/web_test.py
tornado/web.py
==================
f249ee3e;Ben Darnell;2011-07-10 14:00:09 -0700;Fix parsing of uploaded filenames with special characters.
Closes #24.

==

tornado/httputil.py
tornado/test/httpserver_test.py
tornado/test/httputil_test.py
==================
a93ccd72;Ben Darnell;2011-07-10 12:11:43 -0700;Allow any properly-formatted locale, not just ones in LOCALE_NAMES.

==

tornado/locale.py
==================
e354dd15;Ben Darnell;2011-07-09 17:39:55 -0700;Re-enable default_certificates test

==

tornado/test/simple_httpclient_test.py
==================
acdf7038;Ben Darnell;2011-07-09 17:20:29 -0700;allow_nonstandard_methods now also skips the check that only POST and PUT requests have bodies

==

tornado/simple_httpclient.py
==================
57f5c57d;Ben Darnell;2011-07-09 14:35:59 -0700;Move socket accept loop from HTTPServer to netutil.

==

tornado/httpserver.py
tornado/netutil.py
==================
ea2a5cf4;Krzysztof Tarnowski;2011-07-08 13:40:11 +0200;Add a way of customizing cache control behavior for static files.

==

tornado/web.py
==================
dd4b0fbf;Ben Darnell;2011-07-07 22:14:36 -0700;Add basic unix socket support.
tornado.netutil.bind_unix_socket can create non-blocking listening unix
sockets, and HTTPServer can use them.  (no client-side support for this yet)
This is useful e.g. with nginx proxying incoming TCP traffic to
a backend over a unix socket (which may be easier to manage than a set of
TCP ports)

==

tornado/httpserver.py
tornado/iostream.py
tornado/netutil.py
tornado/test/httpserver_test.py
==================
18759049;Ben Darnell;2011-07-06 09:56:46 -0700;Speed up Application.__call__ when there are no matched groups

==

tornado/web.py
==================
845950af;Ben Darnell;2011-07-06 10:00:17 -0700;Better benchmark script

==

demos/benchmark/benchmark.py
==================
c55a68f0;bdarnell;2011-07-06 17:00:28 -0700;Merge pull request #297 from funtoo/patch-1
Install platform files too.
==
==================
c17dddb9;Daniel Robbins;2011-07-06 15:00:11 -0700;Install platform files too.

==

setup.py
==================
30c1f269;Ben Darnell;2011-07-05 23:53:38 -0700;Don't keep the entire output in a cStringIO when gzipping chunks

==

tornado/web.py
==================
64d8ce60;Ben Darnell;2011-07-05 22:51:37 -0700;Document IOStream fast-path/slow-path, and allow for chains of fast-path ops.

==

tornado/iostream.py
==================
894fa93e;Ben Darnell;2011-07-05 22:34:26 -0700;Add a fast path for IOStream writes in addition to reads.
This is a significant speedup for small requests, since it is now
possible to do a request and (synchronous) response without calling
IOLoop.add_handler.

==

tornado/iostream.py
==================
2603b3c1;Ben Darnell;2011-07-05 22:31:24 -0700;Don't add an event handler for IOStream until we've done a read or write.
This speeds things up a bit by avoiding a system call to add a handler
for errors that is just replaced by the first read or write.

==

tornado/iostream.py
==================
12709437;Ben Darnell;2011-07-05 21:53:08 -0700;Make this test more robust against the timing of server exits.

==

tornado/test/process_test.py
==================
b9a68ee3;Ben Darnell;2011-07-05 00:12:30 -0700;Use lists of tuples instead of dicts since this test cares about order

==

tornado/test/httputil_test.py
==================
180b2136;Ben Darnell;2011-07-04 22:34:13 -0700;Non-file-based template loaders should always use posix filename semantics

==

tornado/template.py
==================
d732f9d1;Ben Darnell;2011-07-04 22:26:39 -0700;Disable this test on non-unix platforms

==

tornado/test/process_test.py
==================
2963eed3;Ben Darnell;2011-07-04 21:04:53 -0700;Move the waker pipe into tornado.platform.

==

tornado/ioloop.py
tornado/platform/auto.py
tornado/platform/interface.py
tornado/platform/posix.py
tornado/platform/windows.py
==================
7e0e73b3;Ben Darnell;2011-07-04 20:37:52 -0700;Clean up hacky fcntl emulation for windows.

==

tornado/ioloop.py
tornado/netutil.py
tornado/platform/auto.py
tornado/platform/interface.py
tornado/platform/posix.py
tornado/platform/windows.py
==================
d27fc356;Ben Darnell;2011-07-04 20:33:21 -0700;This looks like it's always been backwards.

==

tornado/platform/windows.py
==================
a89d2dc7;Ben Darnell;2011-07-04 20:20:26 -0700;Move win32_support to a new tornado.platform package

==

tornado/httpserver.py
tornado/ioloop.py
tornado/netutil.py
tornado/platform/__init__.py
tornado/platform/windows.py
tornado/test/import_test.py
==================
b0e4bedb;Ben Darnell;2011-07-04 19:24:20 -0700;Release notes for multi-process stuff

==

website/sphinx/releases/next.rst
==================
fa9a1767;Ben Darnell;2011-07-04 19:15:37 -0700;Check for forked status in autoreload

==

tornado/autoreload.py
==================
5ef04877;Ben Darnell;2011-07-04 19:11:32 -0700;Better fork_processes:  Restart processes when they exit abnormally.  Tests!

==

tornado/process.py
tornado/test/process_test.py
tornado/test/runtests.py
==================
93e22bb7;Ben Darnell;2011-07-04 18:12:15 -0700;Don't initialize the singleton IOLoop from tearDown

==

tornado/testing.py
==================
70bcb6e3;Ben Darnell;2011-07-04 17:32:31 -0700;Refactor random-seed code out of fork_processes

==

tornado/process.py
==================
b2579a89;Ben Darnell;2011-07-04 17:17:00 -0700;Better documentation for HTTPServer startup

==

tornado/httpserver.py
==================
1b27d3f2;Ben Darnell;2011-07-04 17:00:27 -0700;Add the HTTPServer.add_sockets interface

==

tornado/httpserver.py
tornado/test/httpclient_test.py
==================
6a7ff97a;Ben Darnell;2011-07-04 16:32:14 -0700;Pull process forking out of HTTPServer into a new module

==

tornado/httpserver.py
tornado/process.py
tornado/test/import_test.py
website/sphinx/process.rst
website/sphinx/utilities.rst
==================
767d83d5;Ben Darnell;2011-07-04 15:58:17 -0700;Pull socket creation out of HTTPServer into a new module.

==

tornado/httpserver.py
tornado/netutil.py
tornado/test/import_test.py
website/sphinx/netutil.rst
website/sphinx/networking.rst
==================
e5136bd3;Ben Darnell;2011-07-04 13:20:19 -0700;Add a better error message for a common assertion

==

tornado/web.py
==================
5de86843;Ben Darnell;2011-07-04 12:16:50 -0700;Revamp error handling: replace get_error_html with write_error.

==

tornado/test/web_test.py
tornado/web.py
website/sphinx/overview.rst
website/sphinx/releases/next.rst
website/sphinx/web.rst
==================
9481ce17;Ben Darnell;2011-07-04 10:17:32 -0700;Add RequestHandler.set_default_headers, which may be overridden to set headers that will not be reset during error handling.

==

tornado/web.py
website/sphinx/overview.rst
website/sphinx/releases/next.rst
website/sphinx/web.rst
==================
9c17711e;Ben Darnell;2011-07-03 11:06:27 -0700;Create the StackContext in @asynchronous instead of on all requests, to improve performance in the synchronous case.

==

tornado/stack_context.py
tornado/web.py
==================
1e4f3236;Ben Darnell;2011-07-03 10:53:03 -0700;Better handling of errors not generated by an exception; add to release notes

==

tornado/web.py
website/sphinx/releases/next.rst
==================
fab11e5c;Ben Darnell;2011-07-02 19:32:51 -0700;Update next release notes for recent changes

==

website/sphinx/releases/next.rst
==================
0f621fe4;Ben Darnell;2011-07-02 18:34:23 -0700;Add support for client SSL certificates in simple_httpclient

==

tornado/curl_httpclient.py
tornado/httpclient.py
tornado/simple_httpclient.py
==================
57178528;Ben Darnell;2011-07-02 18:21:53 -0700;Merge remote-tracking branch 'eklitzke/tracebacks' into merge

==
==================
ebc2cc41;Ben Darnell;2011-07-02 17:29:08 -0700;Merge remote-tracking branch 'davidwilemski/master' into merge

==
==================
3f41d054;David Wilemski;2011-07-02 18:22:51 -0400;Used tornado.util.import_object

==

tornado/web.py
==================
92fa99f9;Ben Darnell;2011-07-02 14:36:37 -0700;Allow the caller to specify the listen() backlog in HTTPServer.bind.

==

tornado/httpserver.py
==================
69e35c76;Ben Darnell;2011-07-02 14:20:30 -0700;Merge branch 'master' into merge

==
==================
39935ac5;Ben Darnell;2011-07-02 13:08:03 -0700;Properly check for errors on async connect instead of relying on the order of events from the IOLoop.

==

tornado/iostream.py
==================
6130ea63;Ben Darnell;2011-07-02 13:07:46 -0700;Skip ipv6 tests if the system isn't configured for it.

==

tornado/test/httpclient_test.py
==================
463e3fbc;Ben Darnell;2011-07-02 12:37:07 -0700;Fix websocket handshake status line

==

tornado/websocket.py
==================
bc42fc14;David Wilemski;2011-07-02 03:06:25 -0400;Added dynamic loading of request handlers
This commit implements gh-124.

Users can specify "module.ClassName" rather than load a module that
contains a request handler and then refering to the request handler
class.

==

tornado/web.py
==================
7fd7f1a5;Ben Darnell;2011-06-29 19:41:02 -0700;Check for the existence of callbacks after running all timeouts

==

tornado/ioloop.py
==================
6ac8a059;Evan Klitzke;2011-06-29 17:50:13 -0700;improve the speed of add_callback by avoiding the waker pipe when possible

==

tornado/ioloop.py
==================
3b6c8047;Ben Darnell;2011-06-27 23:44:11 -0700;Correct documentation for HTTPRequest.arguments

==

tornado/httpserver.py
==================
ae12bccf;Ben Darnell;2011-06-27 23:40:01 -0700;Document the auth module's lack of python3 support

==

tornado/auth.py
website/templates/index.html
==================
495b39ce;Ben Darnell;2011-06-27 23:36:20 -0700;Improve auth module on python 3 (covers openid and oauth2, but not oauth1.x)

==

tornado/auth.py
==================
82382be0;Ben Darnell;2011-06-27 23:04:52 -0700;Add more docs around autoescape changes

==

website/sphinx/overview.rst
website/sphinx/releases/v2.0.0.rst
==================
17eed4fe;Ben Darnell;2011-06-26 18:51:12 -0700;Replace all bare "except:" blocks with "except Exception:" so we don't accidentally catch KeyboardInterrupt.

==

tornado/auth.py
tornado/autoreload.py
tornado/curl_httpclient.py
tornado/database.py
tornado/escape.py
tornado/httpserver.py
tornado/ioloop.py
tornado/iostream.py
tornado/options.py
tornado/stack_context.py
tornado/template.py
tornado/testing.py
tornado/web.py
==================
b0750cb8;Ben Darnell;2011-06-26 18:43:17 -0700;Reduce logging verbosity in curl_httpclient to match simple_httpclient.

==

tornado/curl_httpclient.py
==================
5d36a5d9;Ben Darnell;2011-06-26 18:32:41 -0700;Remove support for cookies set by pre-1.0 releases of Tornado.

==

tornado/web.py
website/sphinx/releases/next.rst
==================
84c5ddbb;Ben Darnell;2011-06-26 18:30:19 -0700;Add max_age_days parameter to RequestHandler.get_secure_cookie.
Closes #27.
Closes #189.

==

tornado/web.py
website/sphinx/releases/next.rst
==================
c4bba5a9;Ben Darnell;2011-06-26 17:00:02 -0700;Remove debugging print statement, log on clean exits too.

==

tornado/autoreload.py
==================
815a1f06;Ben Darnell;2011-06-26 15:24:23 -0700;Add command-line interface to tornado.autoreload

==

tornado/autoreload.py
tornado/testing.py
website/sphinx/releases/next.rst
==================
9d1af053;Ben Darnell;2011-06-26 14:21:02 -0700;Clean up shutdown process for IOLoop and HTTPClient.
This fixes an exception on exit from tornado.httpclient.main().

==

tornado/httpclient.py
tornado/ioloop.py
tornado/testing.py
website/sphinx/releases/next.rst
==================
5fb6e395;Ben Darnell;2011-06-26 14:03:51 -0700;Consolidate httpclient main() functions

==

tornado/curl_httpclient.py
tornado/simple_httpclient.py
==================
b881ec49;Ben Darnell;2011-06-26 12:27:54 -0700;Add read_until_close method to IOStream and use it in SimpleAsyncHTTPClient.

==

tornado/iostream.py
tornado/simple_httpclient.py
tornado/test/iostream_test.py
website/sphinx/releases/next.rst
==================
7829333a;Ben Darnell;2011-06-26 11:56:18 -0700;Move read_bytes(0) special-case into _consume so it uses more of the regular code path.

==

tornado/iostream.py
==================
a1cb42e8;Ben Darnell;2011-06-26 11:24:29 -0700;Fail more gracefully when SSL is not supported, and on non-HTTP urls

==

tornado/simple_httpclient.py
==================
56b0e366;Ben Darnell;2011-06-25 19:35:04 -0700;Remove unused imports and variables.
Closes #278.

==

tornado/httpclient.py
tornado/websocket.py
website/website.py
==================
612821ff;Ben Darnell;2011-06-25 19:04:27 -0700;Make websocket work in python3.
Closes #288.

==

tornado/websocket.py
website/sphinx/releases/next.rst
==================
81dea5fb;Ben Darnell;2011-06-25 19:02:55 -0700;Accept utf8-encoded byte strings in json_encode

==

tornado/escape.py
tornado/test/escape_test.py
==================
b641cff9;Ben Darnell;2011-06-25 18:54:37 -0700;Allow non-ascii (but still latin1) in our fake byte literals

==

tornado/test/httpserver_test.py
tornado/util.py
==================
84acb204;Ben Darnell;2011-06-25 18:36:48 -0700;Fixed error in HTTPServer when AI_ADDRCONFIG is not available (as on WinXP)
Closes #287

==

tornado/httpserver.py
website/sphinx/releases.rst
website/sphinx/releases/next.rst
==================
5fde3f5f;Ben Darnell;2011-06-25 18:25:37 -0700;Bump version number for the master branch

==

setup.py
tornado/__init__.py
==================
cfb8b809;Evan Klitzke;2011-06-23 11:14:16 -0700;add text tracebacks on 500s when in debug mode

==

tornado/web.py
==================
3486b46f;Ben Darnell;2011-06-21 23:04:39 -0700;Add more prominent warning about incompatible changes in 2.0

==

website/templates/index.html
==================
81e7a684;Ben Darnell;2011-06-21 23:00:15 -0700;Add more setup.py debris to .gitignore

==

.gitignore
==================
94078a68;Ben Darnell;2011-06-21 22:28:35 -0700;Set version number to 2.0

==

setup.py
tornado/__init__.py
==================
a3391633;Ben Darnell;2011-06-21 22:28:20 -0700;Add 2.0 release notes

==

website/sphinx/releases.rst
website/sphinx/releases/v2.0.0.rst
==================
3e2ed8c0;Ben Darnell;2011-06-21 20:43:14 -0700;Add test for unicode domain and path arguments to set_cookie

==

tornado/test/web_test.py
==================
2f2659b4;Ben Darnell;2011-06-19 15:40:16 -0700;Update homepage

==

website/sphinx/index.rst
website/templates/index.html
website/website.py
==================
4c643dc3;Ben Darnell;2011-06-19 14:25:19 -0700;Misc updates

==

website/sphinx/index.rst
website/sphinx/overview.rst
==================
c1b832a9;Ben Darnell;2011-06-19 13:29:31 -0700;Remove old markdown version of overview page

==

website/app.yaml
website/markdown/__init__.py
website/markdown/blockparser.py
website/markdown/blockprocessors.py
website/markdown/commandline.py
website/markdown/etree_loader.py
website/markdown/extensions/__init__.py
website/markdown/extensions/toc.py
website/markdown/html4.py
website/markdown/inlinepatterns.py
website/markdown/odict.py
website/markdown/postprocessors.py
website/markdown/preprocessors.py
website/markdown/treeprocessors.py
website/templates/overview.html
website/templates/overview.txt
website/website.py
==================
5ec2ab02;Ben Darnell;2011-06-19 13:01:22 -0700;Remove some redundant sections; flatten document structure

==

website/sphinx/index.rst
website/sphinx/overview.rst
website/static/sphinx.css
==================
3907686f;Ben Darnell;2011-06-19 12:37:10 -0700;Fix formatting that didn't convert correctly

==

website/sphinx/index.rst
website/sphinx/overview.rst
==================
ad58facb;Ben Darnell;2011-06-19 12:10:26 -0700;Convert overview from markdown to rst with pandoc

==

website/sphinx/overview.rst
==================
994555f3;Ben Darnell;2011-06-19 12:05:28 -0700;Style updates

==

website/static/sphinx.css
==================
55d3be10;Ben Darnell;2011-06-19 11:23:53 -0700;Run coverage check and fill in the blanks

==

tornado/httpserver.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/options.py
tornado/template.py
tornado/web.py
tornado/wsgi.py
website/sphinx/conf.py
website/sphinx/httpserver.rst
website/sphinx/ioloop.rst
website/sphinx/testing.rst
website/sphinx/web.rst
==================
300d2311;Ben Darnell;2011-06-19 10:45:35 -0700;Finish this round of doc updates

==

tornado/auth.py
tornado/autoreload.py
tornado/options.py
tornado/stack_context.py
tornado/testing.py
tornado/websocket.py
tornado/wsgi.py
website/sphinx/auth.rst
website/sphinx/testing.rst
website/sphinx/wsgi.rst
==================
6d5ebabd;Ben Darnell;2011-06-17 00:16:40 -0700;IOLoop and HTTPClient docs

==

tornado/httpclient.py
tornado/ioloop.py
tornado/iostream.py
website/sphinx/httpclient.rst
website/sphinx/ioloop.rst
website/static/sphinx.css
==================
cdc76f2f;Ben Darnell;2011-06-16 22:36:33 -0700;More doc updates

==

tornado/escape.py
tornado/httpserver.py
tornado/template.py
tornado/web.py
website/Makefile
website/sphinx/conf.py
website/sphinx/escape.rst
website/sphinx/httpserver.rst
website/sphinx/template.rst
website/sphinx/web.rst
==================
db579dad;Ben Darnell;2011-06-15 19:34:49 -0700;New method to_basestring replaces some use of native_str.
native_str would force the argument to (utf8) bytes, while in python2
it is often more appropriate to preserve the type of the input data.

Closes #280

==

tornado/escape.py
tornado/test/escape_test.py
==================
3d64c890;Ben Darnell;2011-06-14 14:38:42 -0700;Unquote PATH_INFO in wsgi.
Closes #281
Closes #282

==

tornado/test/wsgi_test.py
tornado/wsgi.py
==================
31e7b78d;Ben Darnell;2011-06-11 21:57:53 -0700;Update overview for new 2.0 features

==

website/templates/overview.html
website/templates/overview.txt
==================
4e892013;Ben Darnell;2011-06-11 21:32:45 -0700;Add past release notes to sphinx docs

==

website/sphinx/index.rst
website/sphinx/releases.rst
website/sphinx/releases/v1.0.0.rst
website/sphinx/releases/v1.0.1.rst
website/sphinx/releases/v1.1.0.rst
website/sphinx/releases/v1.1.1.rst
website/sphinx/releases/v1.2.0.rst
website/sphinx/releases/v1.2.1.rst
==================
2f52f686;Ben Darnell;2011-06-11 19:14:41 -0700;Bump version number to 2.0rc1.

==

setup.py
tornado/__init__.py
==================
26feb663;Ben Darnell;2011-06-11 17:22:09 -0700;BACKWARDS-INCOMPATIBLE: turn on template autoescaping by default.
Disable autoescaping in demos that don't already use it.

==

demos/appengine/blog.py
demos/blog/blog.py
demos/facebook/facebook.py
demos/websocket/chatdemo.py
tornado/template.py
==================
342c6566;Ben Darnell;2011-06-11 15:15:39 -0700;Merge branch 'docs'

==
==================
678d2eb2;Ben Darnell;2011-06-11 15:09:05 -0700;Serve sphinx docs from app engine

==

website/app.yaml
website/templates/documentation.html
website/templates/overview.html
website/templates/overview.txt
website/website.py
==================
824c07f6;Ben Darnell;2011-06-11 14:53:28 -0700;Include __init__ methods in autodoc too

==

tornado/web.py
website/sphinx/conf.py
==================
8fd9413f;Ben Darnell;2011-06-11 14:48:46 -0700;Add titles to table of contents

==

website/sphinx/auth.rst
website/sphinx/autoreload.rst
website/sphinx/database.rst
website/sphinx/escape.rst
website/sphinx/httpclient.rst
website/sphinx/httpserver.rst
website/sphinx/httputil.rst
website/sphinx/index.rst
website/sphinx/ioloop.rst
website/sphinx/iostream.rst
website/sphinx/locale.rst
website/sphinx/options.rst
website/sphinx/stack_context.rst
website/sphinx/template.rst
website/sphinx/testing.rst
website/sphinx/web.rst
website/sphinx/webframework.rst
website/sphinx/websocket.rst
website/sphinx/wsgi.rst
==================
0747607c;Ben Darnell;2011-06-11 14:35:54 -0700;Use real section headers

==

website/sphinx/web.rst
==================
79a9052b;Ben Darnell;2011-06-11 14:32:54 -0700;One more autodoc cleanup

==

tornado/iostream.py
==================
38927944;Ben Darnell;2011-06-11 14:30:51 -0700;Style sphinx docs to match the rest of the site

==

website/sphinx/conf.py
website/static/sphinx.css
==================
96c2f2f2;Ben Darnell;2011-06-11 13:31:29 -0700;Finish automatic documentation

==

tornado/auth.py
tornado/database.py
tornado/options.py
tornado/stack_context.py
tornado/testing.py
tornado/websocket.py
tornado/wsgi.py
website/sphinx/auth.rst
website/sphinx/autoreload.rst
website/sphinx/database.rst
website/sphinx/httputil.rst
website/sphinx/options.rst
website/sphinx/stack_context.rst
website/sphinx/testing.rst
website/sphinx/websocket.rst
website/sphinx/wsgi.rst
==================
0af13b0f;Ben Darnell;2011-06-11 12:45:33 -0700;Document debug mode and autoreload

==

website/templates/documentation.txt
==================
482ccefa;Ben Darnell;2011-06-11 12:33:34 -0700;Give template-generated code a fake "filename" to avoid confusing code-coverage tools

==

tornado/template.py
==================
696d9785;Ben Darnell;2011-06-11 12:19:13 -0700;Demote s3server.py to a demo

==

demos/s3server/s3server.py
tornado/test/import_test.py
website/templates/documentation.txt
==================
ca148606;Ben Darnell;2011-06-11 11:51:19 -0700;Replace tornado.web._unicode with tornado.escape._unicode.
Add a test case where this matters (when the argument is None)

==

tornado/test/web_test.py
tornado/web.py
==================
f6b36515;Ben Darnell;2011-06-10 00:13:20 -0700;More autodoc fixes

==

tornado/escape.py
tornado/httpclient.py
tornado/httpserver.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/template.py
website/sphinx/escape.rst
website/sphinx/httpclient.rst
website/sphinx/httpserver.rst
website/sphinx/ioloop.rst
website/sphinx/iostream.rst
website/sphinx/locale.rst
website/sphinx/template.rst
==================
050797cc;Ben Darnell;2011-06-09 11:03:49 -0700;Use coverage checker instead of automatic member extraction

==

website/Makefile
website/sphinx/conf.py
website/sphinx/sphinx_coverage.py
website/sphinx/web.rst
==================
53f5f3ca;Ben Darnell;2011-06-09 01:15:56 -0700;Fix up docs for web.py

==

tornado/web.py
website/sphinx/web.rst
==================
4fec6aeb;Ben Darnell;2011-06-08 23:58:58 -0700;Skeletal autogenerated reference documentation

==

website/Makefile
website/sphinx/auth.rst
website/sphinx/autoreload.rst
website/sphinx/conf.py
website/sphinx/database.rst
website/sphinx/escape.rst
website/sphinx/httpclient.rst
website/sphinx/httpserver.rst
website/sphinx/httputil.rst
website/sphinx/index.rst
website/sphinx/integration.rst
website/sphinx/ioloop.rst
website/sphinx/iostream.rst
website/sphinx/locale.rst
website/sphinx/networking.rst
website/sphinx/options.rst
website/sphinx/stack_context.rst
website/sphinx/template.rst
website/sphinx/testing.rst
website/sphinx/utilities.rst
website/sphinx/web.rst
website/sphinx/webframework.rst
website/sphinx/websocket.rst
website/sphinx/wsgi.rst
==================
b92e70d0;Ben Darnell;2011-06-08 23:58:30 -0700;Fix a non-ascii docstring

==

tornado/locale.py
==================
02ce53b1;Ben Darnell;2011-06-07 23:27:05 -0700;Add the ability to escape template commands with {{! and {%!

==

tornado/template.py
tornado/test/template_test.py
==================
4264418a;Ben Darnell;2011-06-07 21:57:22 -0700;Merge remote-tracking branch 'inferno-/master'

==
==================
a04baf5f;Rickard B;2011-06-07 12:22:23 +0200;Replace IOStream._read_buffer_size() with a simple counter to speed up performance when buffer contains many chunks.

==

tornado/iostream.py
==================
bc0ac367;Ben Darnell;2011-06-05 16:20:37 -0700;Remove dead code

==

demos/facebook/uimodules.py
==================
cdc1dbf5;Ben Darnell;2011-06-05 16:11:05 -0700;Remove unused imports, add a few missing ones

==

demos/facebook/facebook.py
tornado/auth.py
tornado/curl_httpclient.py
tornado/httpclient.py
tornado/httputil.py
tornado/ioloop.py
tornado/iostream.py
tornado/simple_httpclient.py
tornado/stack_context.py
tornado/test/httpclient_test.py
tornado/test/httpserver_test.py
tornado/test/ioloop_test.py
tornado/test/web_test.py
tornado/test/wsgi_test.py
tornado/testing.py
tornado/web.py
tornado/websocket.py
==================
5664bf07;Ben Darnell;2011-06-05 15:41:25 -0700;Add a Template UIModule, allowing templates to be called with keyword arguments instead of inheriting the caller's namespace with {% include %}.

==

demos/chat/templates/index.html
tornado/test/web_test.py
tornado/web.py
==================
ce3e1ded;Ben Darnell;2011-06-05 13:47:02 -0700;Introduce {% module %} syntax for calling UIModules.
Add linkify and xsrf_form_html as default modules.

==

demos/chat/templates/index.html
demos/chat/templates/message.html
tornado/template.py
tornado/test/web_test.py
tornado/web.py
==================
4686042f;Ben Darnell;2011-06-05 13:10:07 -0700;Refactor redundant code out of httpserver.py and wsgi.py to httputil.py

==

tornado/httpserver.py
tornado/httputil.py
tornado/wsgi.py
==================
41b4af9c;Ben Darnell;2011-06-05 12:58:26 -0700;Test multipart/form-data parsing in wsgi and fix it for python3

==

tornado/test/wsgi_test.py
tornado/wsgi.py
==================
6268052c;Ben Darnell;2011-06-05 12:13:08 -0700;Only listen on localhost so unittests don't cause firewall warnings

==

tornado/httpserver.py
tornado/test/httpclient_test.py
tornado/testing.py
==================
0f378465;Ben Darnell;2011-06-04 14:35:25 -0700;Documentation fix

==

website/templates/documentation.txt
==================
b26cda15;Ben Darnell;2011-06-01 00:22:55 -0700;Test use of a custom escaping function

==

tornado/test/template_test.py
==================
6a85be45;Ben Darnell;2011-05-30 19:03:54 -0700;Add autoescape application setting and convert chatdemo to use it.

==

demos/chat/chatdemo.py
demos/chat/templates/index.html
demos/chat/templates/message.html
tornado/web.py
==================
ebe191e1;Ben Darnell;2011-05-30 18:51:31 -0700;Add raw expressions to templates with {% raw [expr] %}

==

tornado/template.py
tornado/test/template_test.py
==================
708cd9e3;Ben Darnell;2011-05-30 14:58:00 -0700;First pass at template autoescaping

==

tornado/template.py
tornado/test/template_test.py
==================
3acda21a;Ben Darnell;2011-05-30 14:07:10 -0700;Make template.Loader and DictLoader share a common base class

==

tornado/template.py
tornado/test/template_test.py
==================
25494d18;Ben Darnell;2011-05-30 12:11:42 -0700;Fix template rendering for non-string expressions.
Template.generate() now always returns byte strings.

==

tornado/template.py
tornado/test/template_test.py
==================
619bbf7c;Ben Darnell;2011-05-30 01:09:11 -0700;Extract etag computation so it can be customized or disabled.

==

tornado/web.py
==================
2f8dd6e4;Ben Darnell;2011-05-29 23:32:22 -0700;Allow the application to determine the encoding used for url parameters (previously hard-coded to utf8).
HTTPRequest.arguments now maps from native strings to bytes.  That's slightly
inconsistent, but having byte strings as dictionary keys is awkward.

==

tornado/escape.py
tornado/httpserver.py
tornado/test/httpserver_test.py
tornado/test/web_test.py
tornado/web.py
==================
a8603159;Ben Darnell;2011-05-29 21:57:35 -0700;Add an encoding argument to tornado.escape.url_unescape.

==

tornado/escape.py
tornado/test/escape_test.py
==================
d5a94e42;Ben Darnell;2011-05-29 19:33:42 -0700;Add type checks for web.py methods.
Undo some unnecessary unicodification from the python3 changes.

==

tornado/escape.py
tornado/test/web_test.py
==================
79073dbe;Ben Darnell;2011-05-29 18:39:23 -0700;Type checks for httpserver.HTTPRequest fields

==

tornado/httpserver.py
tornado/test/httpserver_test.py
==================
e5265194;Ben Darnell;2011-05-29 18:12:16 -0700;Check types of HTTPClient response objects and make them consistent

==

tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/httpclient_test.py
==================
014b76d7;Ben Darnell;2011-05-29 18:02:13 -0700;Move most simple_httpclient tests to httpclient_test.py where they can be run against both AsyncHTTPClient implementations.

==

tornado/test/curl_httpclient_test.py
tornado/test/httpclient_test.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
==================
f09a4a92;Ben Darnell;2011-05-29 17:27:48 -0700;Add AI_ADDRCONFIG to getaddrinfo call, which may fix ipv6-related issues report on the mailing list

==

tornado/httpserver.py
==================
bced671d;Ben Darnell;2011-05-29 16:07:20 -0700;Test template include/extend operations

==

tornado/template.py
tornado/test/template_test.py
==================
6f7e8850;Ben Darnell;2011-05-29 15:54:53 -0700;Test WSGIApplication and make it work on python3

==

tornado/test/wsgi_test.py
tornado/wsgi.py
==================
cab718ae;Ben Darnell;2011-05-29 15:45:41 -0700;Make WSGIContainer work on python 3

==

tornado/httpserver.py
tornado/test/runtests.py
tornado/test/wsgi_test.py
tornado/wsgi.py
==================
6439fd32;Ben Darnell;2011-05-29 15:21:07 -0700;Add a simple template test and make it pass in python 3

==

tornado/template.py
tornado/test/runtests.py
tornado/test/template_test.py
==================
63a161f5;Ben Darnell;2011-05-29 15:04:24 -0700;Add script to run test suite with multiple python versions at once

==

tornado/test/run_pyversion_tests.py
==================
05fd0fcb;Ben Darnell;2011-05-29 14:02:27 -0700;Make tornado.testing.main with no arguments work in python 3.2

==

tornado/testing.py
==================
155c20fe;Ben Darnell;2011-05-28 18:24:07 -0700;Don't add an extra delimter when no arguments are given

==

tornado/httputil.py
tornado/test/httputil_test.py
==================
27bf4d85;Ben Darnell;2011-05-28 15:03:35 -0700;Remove execute permission from files not intended to be entry points

==

tornado/httputil.py
tornado/test/ioloop_test.py
tornado/test/stack_context_test.py
website/static/facebook.png
website/static/friendfeed.png
website/static/twitter.png
==================
1d4d241a;Ben Darnell;2011-05-28 14:59:49 -0700;Add a test that imports all tornado modules to at least ensure there are no syntax errors in otherwise-untested modules like auth and websocket.

==

tornado/test/import_test.py
tornado/test/runtests.py
==================
68a268f7;Ben Darnell;2011-05-28 14:51:05 -0700;Make OAuth2Mixin work even when OAUTH_AUTHORIZE_URL doesn't end with "?"
Based on https://github.com/facebook/tornado/pull/269

==

tornado/auth.py
tornado/httputil.py
tornado/test/httputil_test.py
tornado/test/runtests.py
==================
e36c9b46;Ben Darnell;2011-05-28 14:23:36 -0700;Convert path components to unicode for consistency with get_argument().

==

tornado/test/web_test.py
tornado/web.py
==================
298a438d;Ben Darnell;2011-05-28 13:40:38 -0700;Fix HTTPServer on windows, where IPPROTO_IPV6 options are not available

==

tornado/httpserver.py
==================
50c2e49b;Ben Darnell;2011-05-24 22:29:53 -0700;Fix decoding of non-ascii characters in query strings

==

tornado/httpserver.py
tornado/test/httpserver_test.py
==================
ca2be3e9;Ben Darnell;2011-05-23 23:23:39 -0700;Inner headers for multipart/form-data default to utf-8

==

tornado/httpserver.py
tornado/test/httpserver_test.py
==================
a4d4c237;Ben Darnell;2011-05-23 22:08:22 -0700;Fix and test encoding handling for multipart/form-data.  Now works with non-ascii data in all parts of the request in both python2 and python3.

==

tornado/httpserver.py
tornado/test/httpserver_test.py
==================
381f01f1;Ben Darnell;2011-05-20 20:10:06 -0700;Make xhtml_escape work in python3; add test.

==

tornado/escape.py
tornado/test/escape_test.py
==================
f5fd90fe;Ben Darnell;2011-05-18 23:35:35 -0700;Use the standard mime type application/json when producing json output

==

tornado/web.py
==================
c3ec7ffd;bdarnell;2011-05-18 23:26:23 -0700;Merge pull request #260 from alanhogan/documentation-improvement
Document redirections and StaticFileHandler
==
==================
4f911478;Alan Hogan;2011-05-18 19:51:31 -0700;Typo, restore missing path setting, and mention the capturing group

==

website/templates/documentation.txt
==================
cad4a308;Ben Darnell;2011-05-17 23:14:02 -0700;Add simple test application for websockets

==

demos/websocket/chatdemo.py
demos/websocket/static/chat.css
demos/websocket/static/chat.js
demos/websocket/templates/index.html
demos/websocket/templates/message.html
==================
c5b5a6ad;Ben Darnell;2011-05-17 23:13:36 -0700;Fix websocket after string type changes introduced by python3 merge

==

tornado/websocket.py
==================
d9648660;Ben Darnell;2011-05-15 20:10:42 -0700;Run SSL tests even when pycurl is not present.

==

tornado/test/httpserver_test.py
==================
0ec8dcec;Ben Darnell;2011-05-15 20:01:58 -0700;Client-side ipv6 support (disabled by default)

==

tornado/curl_httpclient.py
tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
4ac778e0;Ben Darnell;2011-05-15 00:54:29 -0700;Server-side ipv6 support.
Also support multiple bind addresses in one HTTPServer

==

tornado/httpserver.py
==================
2bd2a0ff;Ben Darnell;2011-05-15 16:59:43 -0700;Fix cookie handling after python3 encoding changes.  Add tests.

==

tornado/test/web_test.py
tornado/web.py
==================
bd1c8ca6;Ben Darnell;2011-05-15 16:58:29 -0700;Add tornado.escape.native_str() for dealing with python 2 vs 3 issues.
Rename _unicode() to to_unicode() so it doesn't look private, make its
implementation match utf8(), and document both functions.

==

tornado/escape.py
==================
6894ba7c;Ben Darnell;2011-05-15 16:30:41 -0700;Python3-ify this test

==

tornado/test/simple_httpclient_test.py
==================
031dc679;Ben Darnell;2011-05-15 16:30:13 -0700;Help 2to3 with a tricky three-argument raise statement

==

tornado/testing.py
==================
6569f2a5;Ben Darnell;2011-05-15 16:29:19 -0700;Python3 doesn't have a useful basestring type any more :(

==

tornado/auth.py
tornado/httpclient.py
tornado/s3server.py
tornado/web.py
==================
1100a523;Alan Hogan;2011-05-15 12:05:13 -0700;Document how to fake other root files despite serving with StaticFileHandler

==

website/templates/documentation.txt
==================
910a0b54;Alan Hogan;2011-05-15 12:04:01 -0700;Document RedirectHandler

==

website/templates/documentation.txt
==================
a287c203;Ben Darnell;2011-05-14 22:53:29 -0700;Add keepalive support to benchmark, add other command-line args

==

demos/benchmark/benchmark.py
==================
3205b368;Ben Darnell;2011-05-14 22:35:23 -0700;Fix a StackContext leak introduced by the delayed IOStream callbacks

==

tornado/iostream.py
==================
a723690e;Ben Darnell;2011-05-14 21:29:58 -0700;Convert http request bodies to utf8 earlier so content-length is correct

==

tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
af29183d;Ben Darnell;2011-05-14 21:25:31 -0700;Small speedups

==

tornado/ioloop.py
tornado/iostream.py
tornado/stack_context.py
tornado/web.py
==================
5f953f6f;Ben Darnell;2011-05-14 21:18:11 -0700;Freeze the iostream write buffer when send() returns 0.

==

tornado/iostream.py
==================
6cb775c0;Ben Darnell;2011-05-14 20:52:42 -0700;Fix handling of closed connections with epoll.  This fixes a problem with simple_httpclient and servers that close the connection after sending the response.

==

tornado/iostream.py
tornado/test/iostream_test.py
==================
2f5f51b5;Ben Darnell;2011-05-14 20:21:05 -0700;Tolerate servers that don't include reason text in the status line.

==

tornado/simple_httpclient.py
==================
5e916c27;Ben Darnell;2011-05-14 18:47:12 -0700;Automatically run 2to3 when installing on python 3

==

setup.py
==================
3b3534c2;Ben Darnell;2011-05-14 18:06:34 -0700;Merge branch 'python3'

==
==================
7f17ee1b;Ben Darnell;2011-05-14 16:58:23 -0700;Slightly faster utf8 function

==

tornado/escape.py
==================
eb1e5f08;Ben Darnell;2011-05-14 16:19:51 -0700;Fix deprecation warnings in python 3

==

tornado/httpserver.py
tornado/test/simple_httpclient_test.py
tornado/test/stack_context_test.py
tornado/test/web_test.py
==================
4eb36de7;Ben Darnell;2011-05-14 16:15:39 -0700;types.NoneType no longer exists in python 3

==

tornado/stack_context.py
==================
70f08bf3;Ben Darnell;2011-05-14 16:04:54 -0700;Merge branch 'master' into python3

==
==================
699318c8;Alan Hogan;2011-05-12 10:50:00 -0700;Describe redirections and the permanent argument

==

website/templates/documentation.txt
==================
2b417a15;bdarnell;2011-05-05 22:51:26 -0700;Merge pull request #258 from kmike/master
Better error handling for websockets
==
==================
9d9b5e26;Mikhail Korobov;2011-05-04 21:17:51 +0600;Better error handling for exceptions in on_message for websockets: avoid extra IOErrors

==

tornado/websocket.py
==================
d762011c;Ben Darnell;2011-05-01 20:55:38 -0700;Speed up a common case in iostream._merge_prefix

==

tornado/iostream.py
==================
3cc7f2c5;Ben Darnell;2011-05-01 20:48:55 -0700;Memoize HTTPHeaders._normalize_name

==

tornado/httputil.py
==================
336bad31;Ben Darnell;2011-05-01 20:39:18 -0700;StackContext speedups: special-case some common situations, and stop using function attributes.

==

tornado/stack_context.py
==================
7c3dea75;Ben Darnell;2011-05-01 14:33:28 -0700;Fix for python2.5:  heapq used to use __le__ instead of __lt__

==

tornado/ioloop.py
==================
338ba140;Ben Darnell;2011-05-01 14:09:11 -0700;Make a recently-added test pass in python3

==

tornado/test/simple_httpclient_test.py
==================
b7cbcf87;Ben Darnell;2011-05-01 14:06:00 -0700;Merge branch 'master' into python3
Conflicts:
	tornado/simple_httpclient.py
	tornado/web.py

==
==================
b6c4d6d2;Ben Darnell;2011-05-01 13:54:46 -0700;Change IOLoop._timeouts from a sorted list to a heapq.
Closes #195

==

tornado/ioloop.py
==================
f8f3a9bf;Ben Darnell;2011-05-01 12:55:08 -0700;Run all IOStream callbacks via IOLoop.add_callback.
Closes #252

==

tornado/iostream.py
==================
fb9e40b7;Ben Darnell;2011-05-01 12:17:00 -0700;Document the ability to modify XSRF protection by overriding check_xsrf_cookie.
Closes #254

==

website/templates/documentation.txt
==================
bae1b571;Ben Darnell;2011-05-01 11:59:11 -0700;Support https for UIModule javascript_files and css_files.
Closes #256.

==

tornado/web.py
==================
f04b2dc4;bdarnell;2011-05-01 11:51:16 -0700;Merge pull request #253 from mcella/patch-1.
RequestHandler.get_argument should raise an HTTP 400 Bad Request
==
==================
1c446409;Michele Cella;2011-04-28 03:49:03 -0700;RequestHandler.get_argument should raise an HTTP 400 Bad Request if the argument is missing, not a misleading HTTP 404 Not Found.

==

tornado/web.py
==================
e805590e;Ben Darnell;2011-04-24 23:16:31 -0700;Better check for missing messages in facebook demo

==

demos/facebook/templates/modules/post.html
==================
cd94d92b;Ben Darnell;2011-04-24 23:15:08 -0700;Check to see if actions field is present in facebook demo
Closes #251.

==

demos/facebook/templates/modules/post.html
==================
b8faecd7;Ben Darnell;2011-04-24 23:13:13 -0700;Add **kwargs to WebSocketHandler.__init__
Closes #250.

==

tornado/websocket.py
==================
8a2c4172;Ben Darnell;2011-04-24 23:11:42 -0700;Infer option types from the default when possible.
Closes #248.

==

tornado/options.py
==================
f7d25fcb;Ben Darnell;2011-04-24 22:57:12 -0700;Ignore hidden directories (e.g. .svn) in load_gettext_translations.
Closes #247.

==

tornado/locale.py
==================
a0e63597;Ben Darnell;2011-04-16 13:44:51 -0700;Fix broken link

==

website/templates/base.html
==================
8b4a66cb;Ben Darnell;2011-04-16 13:41:40 -0700;str.encode('base64') != base64.b64encode()
Add check for newlines in request headers.

Closes #246

==

tornado/simple_httpclient.py
==================
8eef796a;Ben Darnell;2011-04-16 13:26:03 -0700;Convert WSGI content-length variable to an int at the right place
Closes #245

==

tornado/wsgi.py
==================
3ae67873;Ben Darnell;2011-04-16 13:23:39 -0700;Make template constructor accept unicode strings
Closes #244

==

tornado/template.py
==================
2afc7bab;Ben Darnell;2011-03-30 21:08:12 -0700;Move another curl hack (disabling Pragma: no-cache) to curl_httpclient.py

==

tornado/curl_httpclient.py
tornado/httpclient.py
==================
ef895e29;Ben Darnell;2011-03-30 21:04:42 -0700;Add appengine config for /favicon.ico

==

website/app.yaml
==================
2ac99d86;Peter Bengtsson;2011-03-30 18:36:57 +0100;adding favicon.ico for website

==

website/static/favicon.ico
website/templates/base.html
==================
c5b98477;Neil Rahilly;2011-03-28 17:13:06 -0400;Disable Expect header in curl_httpclient.py without clearing all headers.
Fixes previous fix (18f942b).

==

tornado/curl_httpclient.py
==================
18f942b2;Neil Rahilly;2011-03-28 11:11:04 -0400;Fix Expect header bug in curl_httpclient.py.
setopt, when used with HTTPHEADER, takes a list, not a string.

==

tornado/curl_httpclient.py
==================
8eb6dd24;Ben Darnell;2011-03-27 20:30:42 -0700;Add support for username/password in url for simple_httpclient.
I considered making this functionality opt-in, but decided to allow it
for consistency with curl.

Closes #230.

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
5970af4e;Ben Darnell;2011-03-24 19:21:37 -0700;Document the fact that CSV files should not have spaces after commas

==

tornado/locale.py
==================
425f069e;Ben Darnell;2011-03-14 23:06:05 -0700;Move curl Expect: header hack from httpclient.py to curl_httpclient.py.
Fixes: #233.

==

tornado/curl_httpclient.py
tornado/httpclient.py
==================
6f0a8a75;Brian Beach;2011-03-14 11:34:19 -0400;Make AsyncTestCase call tearDown in super class.
The setUp method was calling super, but tearDown wasn't.  Now they
both are.

This change includes a new unit test case to verify the fix.

==

tornado/test/testing_test.py
tornado/testing.py
==================
6923539b;Ben Darnell;2011-03-06 18:31:51 -0800;Update docstrings for get_user_locale and get_error_html.

==

tornado/web.py
==================
f43dd141;Ben Darnell;2011-03-03 13:45:58 -0800;Update facebook demo to use the graph api instead of the older api.

==

demos/facebook/facebook.py
demos/facebook/templates/modules/post.html
demos/facebook/templates/stream.html
==================
e3397c46;Ben Darnell;2011-03-03 12:49:58 -0800;Merge commit 'v1.2.1'

==
==================
f36fb66f;Ben Darnell;2011-03-03 12:41:26 -0800;Set version number to 1.2.1

==

setup.py
tornado/__init__.py
website/templates/documentation.txt
website/templates/index.html
==================
7d304034;Ben Darnell;2011-03-03 12:38:31 -0800;In FacebookGraphMixin, explicitly request required user fields.
This is necessary due to a recent change in the facebook API.

Closes #227.

==

tornado/auth.py
==================
2089a131;Ben Darnell;2011-02-28 16:19:31 -0800;Python3 decodes sys.argv for us, so only decode when necessary.

==

tornado/options.py
==================
7281ff90;Ben Darnell;2011-02-24 16:55:35 -0800;Open static files in binary mode in static_url.

==

tornado/web.py
==================
5b4e02cc;Ben Darnell;2011-02-24 16:46:42 -0800;_request_summary should return a string, not bytes

==

tornado/web.py
==================
737f80fd;Ben Darnell;2011-02-24 16:44:54 -0800;Make escape.json_decode accept either unicode or (utf8) bytes

==

tornado/escape.py
tornado/test/web_test.py
==================
6f2ea772;Ben Darnell;2011-02-24 16:44:36 -0800;Convert cookie value to bytes in get_secure_cookie

==

tornado/web.py
==================
e38923ee;Ben Darnell;2011-02-24 16:38:24 -0800;Convert some byte strings to unicode.
Using latin1 for HTTP headers, and utf8 elsewhere.

This gets all the tests passing under python 3.2 after running 2to3.

==

tornado/httpserver.py
tornado/simple_httpclient.py
tornado/test/web_test.py
tornado/web.py
==================
cb75ec7e;Ben Darnell;2011-02-24 15:22:05 -0800;Use our own copy of contextlib.nested (which no longer exists in py3)

==

tornado/stack_context.py
==================
a64ca0ef;Ben Darnell;2011-02-24 15:17:41 -0800;Use the appropriate version of ''.join() in _merge_prefix

==

tornado/iostream.py
==================
a795c937;Ben Darnell;2011-02-24 15:11:38 -0800;Make time_independent_equals work with python3 byte strings

==

tornado/web.py
==================
a4b5323d;Ben Darnell;2011-02-24 14:43:58 -0800;On python3, use BytesIO instead of StringIO

==

tornado/simple_httpclient.py
tornado/web.py
==================
344fb21f;Ben Darnell;2011-02-24 14:36:32 -0800;Mark many of our internal string literals as byte literals.
Use a function wrapper b() instead of real byte literals so we
can continue to support 2.5.

==

tornado/httpserver.py
tornado/iostream.py
tornado/simple_httpclient.py
tornado/test/iostream_test.py
tornado/test/simple_httpclient_test.py
tornado/test/stack_context_test.py
tornado/test/web_test.py
tornado/util.py
tornado/web.py
==================
a3ee8cf6;Ben Darnell;2011-02-24 11:25:01 -0800;Get rid of web.py's redundant utf8 function

==

tornado/web.py
==================
6d0f4041;Ben Darnell;2011-02-23 22:53:59 -0800;Ignore auto2to3 cache files

==

.gitignore
==================
8792d74f;Ben Darnell;2011-02-23 21:00:57 -0800;Test improvement:  order-independent comparison, better cleanup.
For some reason the results are coming back out of order in python2.5
(select vs kqueue, maybe?)

==

tornado/test/simple_httpclient_test.py
==================
130040a8;Ben Darnell;2011-02-23 17:15:36 -0800;Python3 fixes in IOLoop * __lt__ instead of __cmp__ * Write bytes instead of str to waker pipe * Reading from the waker pipe returns '' at EOF instead of raising error

==

tornado/ioloop.py
==================
6822bb74;Ben Darnell;2011-02-23 16:59:49 -0800;Fix references to str() type for python3

==

tornado/escape.py
==================
a72cc17f;Ben Darnell;2011-02-23 16:53:32 -0800;Fix encoding issues in options.py for python3.

==

tornado/options.py
==================
e42c99ff;Ben Darnell;2011-02-23 14:51:35 -0800;Make SimpleAsyncHTTPClient the default.
Get rid of the environment variable hack for selecting client
implementations.

==

tornado/httpclient.py
==================
9fc882a4;Ben Darnell;2011-02-23 14:50:43 -0800;Add a new method to configure AsyncHTTPClient.
Deprecate most keyword arguments to AsyncHTTPClient in favor of the new
configure method.

==

tornado/httpclient.py
tornado/testing.py
==================
a785a128;Ben Darnell;2011-02-23 14:22:23 -0800;Add a utility function to import an object by name.

==

tornado/test/runtests.py
tornado/util.py
==================
bfb171fb;Ben Darnell;2011-02-23 14:03:49 -0800;Move AsyncHTTPClient creation logic to httpclient.py.

==

tornado/curl_httpclient.py
tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
e7ae6c91;Ben Darnell;2011-02-23 10:08:00 -0800;OPTIONS should not require an XSRF token.
Closes #225.

==

tornado/web.py
==================
fb8736cd;Ben Darnell;2011-02-22 13:35:41 -0800;Check for EOF in the kqueue-based IOLoop to avoid incorrectly calling the connect callback when the connection was refused.
Closes #223.

==

tornado/ioloop.py
tornado/test/iostream_test.py
==================
2f4835a3;Ben Darnell;2011-02-22 13:01:05 -0800;Read a fixed number of bytes for wsgi input, since some wsgi containers do not signal EOF.

==

tornado/wsgi.py
==================
83d4e933;Ben Darnell;2011-02-22 12:14:32 -0800;Move USE_SIMPLE_HTTPCLIENT environment check out of curl_httpclient

==

tornado/curl_httpclient.py
tornado/httpclient.py
tornado/simple_httpclient.py
==================
b9ba0258;Ben Darnell;2011-02-22 11:45:48 -0800;Implement synchronous HTTPClient in terms of AsyncHTTPClient.
Move curl_httpclient.main to httpclient.py

==

tornado/curl_httpclient.py
tornado/httpclient.py
==================
cf915bff;Ben Darnell;2011-02-22 11:32:01 -0800;Fix imports

==

tornado/httpclient.py
==================
60c7e911;Ben Darnell;2011-02-22 11:23:32 -0800;Move request and response classes to httpclient.py

==

tornado/curl_httpclient.py
tornado/httpclient.py
==================
c62fd267;Ben Darnell;2011-02-22 11:21:54 -0800;Make tornado.escape.utf8 None-safe and use it in curl_httpclient.

==

tornado/curl_httpclient.py
tornado/escape.py
==================
3facb214;Ben Darnell;2011-02-22 11:09:22 -0800;Rename httpclient to curl_httpclient

==

tornado/curl_httpclient.py
tornado/httpclient.py
==================
cc2363a1;Ben Darnell;2011-02-22 11:00:02 -0800;Revert "Declare dependencies in setup.py for automatic installation."
This reverts commit 19f850e19b4e432e0faed630b748e58069214300.

This turned out to be more trouble than it's worth, since it doesn't
interact well with external installations of pycurl (e.g. from a .deb).
These dependencies are going away soon anyway.

==

setup.py
==================
f5436204;Ben Darnell;2011-02-20 12:56:18 -0800;Update version number to 1.2

==

setup.py
tornado/__init__.py
website/templates/documentation.txt
website/templates/index.html
==================
210c5c82;Ben Darnell;2011-02-20 12:49:53 -0800;Document the fact that tornado can be installed with pip/etc.

==

website/templates/documentation.txt
website/templates/index.html
==================
d8b6d985;Ben Darnell;2011-02-20 12:33:00 -0800;Check that the default certificates file exists in a unit test.

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
19f850e1;Ben Darnell;2011-02-20 12:16:43 -0800;Declare dependencies in setup.py for automatic installation.

==

setup.py
==================
c7b118fc;Ben Darnell;2011-02-19 15:57:12 -0800;Add ca-certificates.crt as a data file in setup.py

==

setup.py
==================
d470b359;Ben Darnell;2011-02-19 15:39:27 -0800;Track SSL handshake state separately from calling _add_io_state directly.
Calling _add_io_state would set a flag that immediately gets overwritten
in _handle_events when it sees that the application-level read/write
operations are idle.  This happens to work with kqueue but not with epoll.

==

tornado/iostream.py
==================
5b8b935e;Ben Darnell;2011-02-19 15:35:37 -0800;Clear the Host header when following redirects

==

tornado/simple_httpclient.py
==================
907a9b46;Ben Darnell;2011-02-19 15:31:11 -0800;Add more debugging options to command-line mode of simple_httpclient

==

tornado/simple_httpclient.py
==================
5f73de9f;Ben Darnell;2011-02-19 14:59:39 -0800;Call listen() on low-level socket test.
This is apparently required on linux but not on mac.

==

tornado/test/simple_httpclient_test.py
==================
dc10fcea;Ben Darnell;2011-02-19 14:29:35 -0800;Set both VERIFYPEER and VERIFYHOST according to the validate_cert setting.

==

tornado/httpclient.py
==================
6fa950ce;Ben Darnell;2011-02-19 13:58:56 -0800;Fix a case where callbacks could be called more than once in error conditions.

==

tornado/simple_httpclient.py
==================
3951d599;Ben Darnell;2011-02-19 13:43:33 -0800;Don't call curl.unsetopt(pycurl.CAINFO) to reset CA certificates to default.
This doesn't work because it clobbers the default CA certs, causing all
certificates to be rejected.  There doesn't seem to be any way to restore
the defaults, so just leave it untouched in the default case and document
the requirement that all requests use ca_certs if any do.

==

tornado/httpclient.py
==================
e7ee4e1f;Ben Darnell;2011-02-19 13:33:21 -0800;Add logout link to authdemo for testing purposes.

==

demos/auth/authdemo.py
==================
2ab94651;Ben Darnell;2011-02-16 13:36:50 -0800;Document new behavior of XSRF tokens.

==

website/templates/documentation.txt
==================
4e6b96fb;Ben Darnell;2011-02-16 13:34:35 -0800;Add linkify to the default template namespace.

==

tornado/template.py
website/templates/documentation.txt
==================
05b62938;Ben Darnell;2011-02-16 13:21:40 -0800;Use SO_REUSEADDR in low-level socket tests.

==

tornado/test/simple_httpclient_test.py
==================
64d9c630;Ben Darnell;2011-02-16 13:05:23 -0800;Update docs for simple_httpclient.

==

tornado/simple_httpclient.py
==================
b8500d3c;Ben Darnell;2011-02-16 11:52:06 -0800;Revert "Undo documentation changes from the introduction of Application.listen()."
This reverts commit 2d42c18c36bb9bd6ff67dc71786cd6ce9332dd31.

==

website/templates/documentation.txt
website/templates/index.html
==================
f69b24d6;Ben Darnell;2011-02-15 14:46:16 -0800;Don't modify the IOStream write buffer if the previous socket.send returned EWOULDBLOCK.
This satisfies openssl's requirement that the write buffer address
not change between calls to send.

==

tornado/iostream.py
==================
beee1c28;Ben Darnell;2011-02-15 14:25:38 -0800;Change IOStream._read_buffer from cStringIO to a deque.
This change is mainly for consistency with the _write_buffer change.

==

tornado/iostream.py
==================
d91f5dc8;Ben Darnell;2011-02-15 14:18:34 -0800;Change IOStream._write_buffer from cStringIO to a deque.
This lays the groundwork for a future change to fix an issue with openssl.

==

tornado/iostream.py
==================
02599094;Ben Darnell;2011-02-15 14:14:37 -0800;Add utility method for dealing with deques of strings, in preparation for moving from cStringIO to deques for IOStream buffers.

==

tornado/iostream.py
tornado/test/runtests.py
==================
6ac2c58d;Ben Darnell;2011-02-14 20:51:19 -0800;Add follow_redirects support to SimpleAsyncHTTPClient.

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
ab217b6b;Ben Darnell;2011-02-14 20:19:58 -0800;Last part of certificate validation: check that the hostname matches.

==

tornado/simple_httpclient.py
==================
372e5454;Ben Darnell;2011-02-14 20:14:43 -0800;Add ssl.match_hostname function backported from Python 3.2.
https://bitbucket.org/brandon/backports.ssl_match_hostname

==

tornado/simple_httpclient.py
==================
4191ed34;Ben Darnell;2011-02-14 20:10:27 -0800;Detect the connection being closed by the server in SimpleAsyncHTTPClient.

==

tornado/simple_httpclient.py
==================
5bff06d7;Ben Darnell;2011-02-14 20:05:47 -0800;Make certificate validation optional with an HTTPRequest parameter for consistency between curl and simple HTTPClients.

==

tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/httpserver_test.py
==================
cfa8857b;Ben Darnell;2011-02-14 19:48:25 -0800;Part 1 of certificate validation: Require that the cert be signed by a CA.

==

tornado/iostream.py
tornado/simple_httpclient.py
==================
d14cb064;Ben Darnell;2011-02-14 19:23:56 -0800;In SSLIOStream, delay the connect_callback until the SSL handshake finishes.

==

tornado/iostream.py
==================
f2f504ca;Ben Darnell;2011-02-14 18:58:02 -0800;Add a set of default SSL CA certificates for use with SimpleAsyncHTTPClient.
This data was copied from the Ubuntu package ca-certificates (and is
ultimately derived for the most part from Mozilla).  Its license is
MPL/GPL, unlike the rest of tornado, but for an optional data file it
ought to be fine.

==

tornado/ca-certificates.crt
==================
e965299b;Ben Darnell;2010-12-05 17:07:46 -0800;Add a simple mechanism to override DNS lookups in SimpleAsyncHTTPClient.
Intended for use in SSL unittests, where we will need to make requests to
localhost using different domain names.

==

tornado/simple_httpclient.py
==================
88833c11;Ben Darnell;2011-02-11 20:25:06 -0800;Make @removeslash a no-op when applied to a request for '/'.
This prevents a redirect loop as browsers interpret an empty redirect
as a redirect to /.

==

tornado/web.py
==================
73d3c82b;Jon Parise;2011-02-11 17:52:12 -0800;Removing the *.png pattern for the 'demos' line.
Because there aren't any .png files in the 'demos' hierarchy, this was causing
a warning when the 'egg_info' setup command was run.

==

MANIFEST.in
==================
b7e8930b;Ben Darnell;2011-02-09 17:09:57 -0800;Check XSRF tokens on all non-idempotent requests instead of just POST.

==

tornado/web.py
==================
2d42c18c;Ben Darnell;2011-02-09 17:01:53 -0800;Undo documentation changes from the introduction of Application.listen().
The examples given do not work in the 1.1.1 release.  This change should be
reverted when 1.2 is released and the new examples work.

==

website/templates/documentation.txt
website/templates/index.html
==================
4170d351;Ben Darnell;2011-02-08 22:53:59 -0800;Merge commit 'v1.1.1'
Conflicts:
	setup.py

==
==================
b9124542;Ben Darnell;2011-02-08 22:43:07 -0800;Tag release 1.1.1

==

setup.py
tornado/__init__.py
website/templates/documentation.txt
website/templates/index.html
==================
90b80787;Ben Darnell;2011-02-08 22:29:40 -0800;BACKWARDS-INCOMPATIBLE: Fix XSRF security vulnerability.
This is a backwards-incompatible change.  Applications that previously
relied on a blanket exception for XMLHTTPRequest may need to be modified
to explicitly include the XSRF token when making ajax requests.

The tornado chat demo application demonstrates one way of adding this
token (specifically the function postJSON in demos/chat/static/chat.js).

More information about this change and its justification can be found at
http://www.djangoproject.com/weblog/2011/feb/08/security/
http://weblog.rubyonrails.org/2011/2/8/csrf-protection-bypass-in-ruby-on-rails

Closes #214.

==

tornado/web.py
==================
c32ad6b0;Ben Darnell;2011-02-06 18:58:58 -0800;Fix error in docstring.
Closes #209.

==

tornado/template.py
==================
8ff8535d;Ben Darnell;2011-02-06 18:42:04 -0800;Add a test to verify reasonable behavior when HTTPS server is sent non-SSL request.
Prompted by issue #211.

==

tornado/test/httpserver_test.py
==================
0687800b;Ben Darnell;2011-01-25 12:15:37 -0800;Use request.uri instead of request.path in websocket handshake.
Closes #208.

==

tornado/websocket.py
==================
b733c91f;Ben Darnell;2011-01-25 12:02:11 -0800;Update example in XSRF section.
Login forms don't actually need XSRF protection, so use a message-posting
form instead.

==

website/templates/documentation.txt
==================
5ab27b2f;Ben Darnell;2011-01-21 13:14:06 -0800;Move request logging from RequestHandler to Application.
Logging can now be configured with either a subclass or setting of
Application.  This replaces the previous method of overriding a private
method of RequestHandler, which was difficult to do for built-in handlers
(StaticFileHandler and RedirectHandler).

==

tornado/web.py
==================
84fea83b;Ben Darnell;2011-01-20 22:13:12 -0800;Fix commit 377c160 when connection is None.

==

tornado/httpserver.py
==================
377c160a;Ben Darnell;2011-01-20 11:59:45 -0800;Set HTTPRequest.protocol correctly when using the built-in SSL support.
Closes #202.

==

tornado/httpserver.py
tornado/test/httpserver_test.py
==================
498438b1;Ben Darnell;2011-01-20 11:52:53 -0800;Use kwargs when constructing RedirectHandlers.
Closes #205.

==

tornado/web.py
==================
a2728596;rickard.bottcher;2011-01-19 15:18:30 +0100;Added missing attribute "stream" in call to getpeercert() in HTTPRequest.get_ssl_certificate().

==

tornado/httpserver.py
==================
b7dd49cd;Ben Darnell;2011-01-13 10:51:35 -0800;Replace more uses of cStringIO.getvalue() with .tell().

==

tornado/iostream.py
==================
f531bae7;Ben Darnell;2011-01-13 10:50:30 -0800;Merge remote branch 'didip/master' into merge

==
==================
c270662d;Ben Darnell;2011-01-12 12:14:57 -0800;Add some comments about thread safety.

==

tornado/ioloop.py
tornado/web.py
==================
bba5a45c;Didip Kerabat;2011-01-10 11:56:28 -0800;reset() only set current position back to 0. What we want here is truncate().
But, per http://stackoverflow.com/questions/4330812/how-do-i-clear-a-stringio-object discussion, creating new StringIO() is cheaper.
==

tornado/iostream.py
==================
2514e88a;Didip Kerabat;2011-01-10 11:45:08 -0800;Further optimization by using tell() and reset()

==

tornado/iostream.py
==================
c47fcf99;Didip Kerabat;2011-01-09 19:34:38 -0800;use cStringIO on _read_buffer and _write_buffer

==

tornado/iostream.py
==================
0d7a3f08;Ben Darnell;2011-01-06 12:36:46 -0800;Use a list instead of a set for IOLoop callbacks.  This preserves order and allows the same callback object to be reused.
A set was originally used to support remove_callback(), but that method
was removed in the 1.1 release.

==

tornado/ioloop.py
==================
daf9669e;Ben Darnell;2011-01-03 13:45:52 -0800;Use absolute paths in RequestHandler._static_hashes to allow for different static_paths.

==

tornado/web.py
==================
adafcc06;Ben Darnell;2011-01-03 12:32:44 -0800;Log exceptions with exc_info=True instead of exc_info=e.
The logging module checks to see if the value passed for exc_info is a
tuple, and if so assumes it contains (type, value, traceback).
A bug in python 2.5 and 2.6 causes context manager's __exit__ methods
to sometimes receive a tuple instead of an exception object, which causes
a nonsensical message to be logged.

==

tornado/web.py
==================
f63525f7;Ben Darnell;2010-12-27 18:30:21 -0800;Fix stack trace logging for uncaught RequestHandler exceptions.
_handle_request_exception is a private method, but since I've endorsed
overriding it on the mailing list preserve backwards compatibility by
re-raising the exception so it appears in sys.exc_info().

Closes #199.

==

tornado/web.py
==================
d677b158;Ben Darnell;2010-12-17 13:42:33 -0800;Remove logging for EINTR in IOLoop, since this is not really an error.

==

tornado/ioloop.py
==================
f73f135d;Ben Darnell;2010-12-14 12:22:17 -0800;Construct ErrorHandler with kwargs instead of positional arguments for consistency with normal handler construction (and compatibility with the initialize() changes from a couple of commits ago).
Closes #194.

==

tornado/web.py
==================
26751424;Ben Darnell;2010-12-13 12:33:25 -0800;Override initialize() instead of __init__() in RequestHandler subclasses.
This is a slight simplification and makes it easier to create further
application-specific subclasses.

Closes #191.

==

tornado/web.py
==================
cce8218a;Jon Parise;2010-12-13 10:28:09 -0800;tornado.httpserver is unused in this scope

==

demos/chat/chatdemo.py
==================
ade3ce2e;Ben Darnell;2010-12-10 17:03:21 -0800;Add a simple HTTP benchmark

==

demos/benchmark/benchmark.py
==================
dfac3a67;Ben Darnell;2010-12-10 10:56:07 -0800;Avoid unnecessary work in HTTPHeaders._normalize_name.

==

tornado/httputil.py
==================
dd706f9f;Ben Darnell;2010-12-10 16:04:39 -0800;Implement ExceptionStackContext independently of StackContext to improve performance.

==

tornado/stack_context.py
==================
6e7c8b99;Ben Darnell;2010-12-10 15:56:38 -0800;Avoid use of the @contextlib.contextmanager decorator.
This decorator has over 5x the overhead of a hand-written class
with __enter__ and __exit__ methods.

==

tornado/stack_context.py
tornado/web.py
==================
8e4a7730;Ben Darnell;2010-12-03 15:33:13 -0800;Merge remote branch 'slay2k/fb_fix_graph_mixin'

==
==================
a18eead8;Ben Darnell;2010-11-30 22:28:53 -0800;Fix duplicated remote_ip field in HTTPRequest.__repr__
Closes #185.

==

tornado/httpserver.py
==================
ffe291f2;Romy Maxwell;2010-11-29 01:44:51 -0800;A few fixes for FacebookGraphMixin
- Added error handler for _on_access_token
- Modified to allow for extra returned fields in the auth call
- Removed username, which seems to have been deprecated

==

tornado/auth.py
==================
96ecb660;Ben Darnell;2010-11-29 15:01:16 -0800;Use request.uri instead of request.path as default redirect for auth.py.
This allows the next parameter (added by @authenticated) to be preserved.

Closes #161.

==

tornado/auth.py
==================
6151498d;Ben Darnell;2010-11-29 14:08:01 -0800;Log malformed HTTP requests more gracefully.
Malformed requests are now logged as a single INFO line (which
includes the IP address) instead of a verbose but uninformative stack
trace.

==

tornado/httpserver.py
==================
ae3cc317;Ben Darnell;2010-11-29 13:49:06 -0800;Treat HEAD requests the same as GET for e.g. sending Etag headers.
Closes #180.

==

tornado/web.py
==================
eededcf5;Ben Darnell;2010-11-29 13:34:15 -0800;Preserve the order of css_files from UIModules, like we already do for JS

==

tornado/web.py
==================
00b9ee91;Ben Darnell;2010-11-29 13:17:03 -0800;Expose the client's SSL certificate as HTTPRequest.get_ssl_certificate().

==

tornado/httpserver.py
==================
263994e8;Josh Staiger;2010-11-22 19:31:08 -0500;Fix bug in multipart/form-data requests.
In Firefox and Safari, I'm seeing k = " boundary"
for multipart/form-data posts.  

" boundary" != "boundary", so the mime fields
aren't parsed.  

This commit gets rid of the leading space.
==

tornado/httpserver.py
==================
b0578819;Josh Staiger;2010-11-20 11:51:39 -0500;Update pydoc to mention response.rethrow instead of reraise.

==

tornado/httpclient.py
==================
9e965556;Ben Darnell;2010-11-19 14:04:53 -0800;Don't assume 'boundary' is last field in Content-Type header.
http://groups.google.com/group/python-tornado/browse_thread/thread/d0531e331c189c56#

Closes #172.

==

tornado/httpserver.py
==================
cb232b22;Ben Darnell;2010-11-18 11:26:14 -0800;Merge remote branch 'vijayp/master'

==
==================
905a215a;vijayp;2010-11-18 13:58:44 -0500;Set proxy to '' if no proxy is explicitly set in the request. If this is not done, curls with proxies set are re-inserted into the empty list, and are then reused. This causes connections to be randomly proxied, if some requests use a proxy, and others don't.

==

tornado/httpclient.py
==================
d0620d67;Ben Darnell;2010-11-16 16:37:53 -0800;Add debug logging for queuing in simple_httpclient.
Also remove some old extremely verbose debug logging.

==

tornado/simple_httpclient.py
==================
08e5ba5d;Ben Darnell;2010-11-16 16:30:51 -0800;Add address parameter to Application.listen to match HTTPServer.listen

==

tornado/web.py
==================
0b607c10;Ben Darnell;2010-11-15 21:32:51 -0800;Fixes for python 2.5

==

tornado/iostream.py
tornado/test/simple_httpclient_test.py
==================
a853850e;Ben Darnell;2010-11-15 21:15:32 -0800;Add convenience method Application.listen(port) so most apps don't need to explicitly touch HTTPServer.

==

demos/chat/chatdemo.py
tornado/web.py
website/templates/documentation.txt
website/templates/index.html
==================
5f5e0bb3;Ben Darnell;2010-11-15 16:53:44 -0800;Implement max_clients limitation and queueing for SimpleAsyncHTTPClient

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
7750fe77;Ben Darnell;2010-11-15 16:11:09 -0800;Port pseudo-singleton magic from AsyncHTTPClient to SimpleAsyncHTTPClient

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
f2aa302b;Ben Darnell;2010-11-14 14:45:17 -0800;Add timeout support to simple_httpclient

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
8a941c42;Ben Darnell;2010-11-14 12:58:14 -0800;Improve docs for IOLoop.add/remove_timeout()

==

tornado/ioloop.py
==================
31b0ab0c;Ben Darnell;2010-11-09 11:52:34 -0800;Fix typo in docs

==

website/templates/documentation.txt
==================
3dc7ebad;Ben Darnell;2010-11-08 11:53:36 -0800;Add Amharic to tornado.locale's list of languages.
Closes #168.

==

tornado/locale.py
==================
0dcee8d7;Ben Darnell;2010-11-08 11:27:27 -0800;Fix mangled language names in tornado.locale for Chinese, Japanese, Korean.
For Chinese, also follow Google's example and reduce number of
variants to two: Simplified (zh_CN) and Traditional (zh_TW) (since I
couldn't find an appropriate copy-paste source for localized versions
of "Chinese (Hong Kong)" and "Chinese (Taiwan)")

Closes #168.

==

tornado/locale.py
==================
ee55403c;Ben Darnell;2010-11-08 10:54:50 -0800;Support X-Forwarded-Proto in addition to X-Scheme

==

tornado/httpserver.py
==================
7ed8fbe1;Ben Darnell;2010-11-08 10:51:02 -0800;Support websockets over https.
Closes #164.

==

tornado/websocket.py
==================
965099ed;Ben Darnell;2010-11-08 10:49:03 -0800;Support "from x import y" in templates, not just "import x"

==

tornado/template.py
==================
3e44643d;Ben Darnell;2010-11-06 11:07:59 -0700;Fix typo from commit 2b44fac
Closes #169.

==

tornado/iostream.py
==================
9ec87c2b;Ben Darnell;2010-11-05 11:19:18 -0700;Capture StackContext explicitly in HTTPConnection to prevent leaks from one request to the next.

==

tornado/httpserver.py
==================
2b44fac4;Ben Darnell;2010-11-04 11:47:34 -0700;Check for a closed connection in _add_io_state.
Closes #163.

==

tornado/iostream.py
==================
c467cf02;Paul Buchheit;2010-11-03 17:12:31 -0700;fix linkify regex plus add unit test

==

tornado/escape.py
tornado/test/escape_test.py
tornado/test/runtests.py
==================
b914a94a;Ben Darnell;2010-10-27 21:23:29 -0700;Don't manually set Content-Length in StaticFileHandler.
Content-Length will be set automatically in RequestHandler.finish.  This
change fixes a bug in which RequestHandler.finish's Etag support strips
the response body without changing any headers.  Transfer headers
(including Content-Length and Transfer-Encoding) are the responsibility
of the framework, not the "application-level" handlers (which includes
StaticFileHandler).

Closes #160.

==

tornado/web.py
==================
5e987aa6;Ben Darnell;2010-10-27 12:11:59 -0700;Merge remote branch 'szeim/master'

==
==================
88111779;Ben Darnell;2010-10-27 11:47:25 -0700;Merge remote branch 'fiam/master'

==
==================
2dbb05d5;Imre SZEBENYI;2010-10-27 13:36:12 +0200;SSLIOStream._do_ssl_handshake SSL error check

==

tornado/iostream.py
==================
3b486fc4;Imre SZEBENYI;2010-10-27 13:34:47 +0200;Fixed IOStream._handle_events (try/except block)
Fixed IOStream._handle_events (try/except block) to prevent
infinite loop when an unhandled exception occurs

==

tornado/iostream.py
==================
bd4ef586;Alberto García Hierro;2010-10-02 18:57:35 +0200;Make exception handling in AsyncHTTPClient more customizable
Call handle_callback_exception() with the callback as argument
instead of hardcoding the call to logging.debug(). This way, users
can add their own exception handling code by subclassing
AsyncHTTPClient.

Default implementation for handle_callback_exception() calls that
same function on the IOLoop associated to this AsyncHTTPClient
instance, so users can handle any exceptions raised from their
callbacks just by overriding handle_callback_exception() in IOLoop.

==

tornado/httpclient.py
==================
af3d0b3b;Ben Darnell;2010-10-21 16:00:42 -0700;Add gzip support to SimpleAsyncHTTPClient

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
d06f8f4b;Ben Darnell;2010-10-21 15:17:06 -0700;Support minor HTTP request attributes in SimpleAsyncHTTPClient.
Adds allow_nonstandard_methods and user_agent, and gives an explicit
warning for network_interface.

==

tornado/simple_httpclient.py
==================
3d19e103;Ben Darnell;2010-10-21 14:58:30 -0700;Add basic auth support to SimpleAsyncHTTPClient

==

tornado/simple_httpclient.py
tornado/test/simple_httpclient_test.py
==================
83d623a1;Ben Darnell;2010-10-21 14:56:30 -0700;Use AsyncHTTPTestCase.fetch instead of overriding it with a less useful version.

==

tornado/test/simple_httpclient_test.py
==================
09c0c9d7;Ben Darnell;2010-10-21 14:55:29 -0700;Reindent to 4 spaces

==

tornado/test/simple_httpclient_test.py
==================
d47c453c;Ben Darnell;2010-10-19 14:12:33 -0700;Attempt to fix StaticFileHandler when os.path.sep != '/'.

==

tornado/web.py
==================
fe517276;Ben Darnell;2010-10-19 14:09:47 -0700;Merge remote branch 'mdg/default_filename'

==
==================
e7553f75;Ben Darnell;2010-10-19 12:28:47 -0700;Add test case for encoding of request parameters and paths, in response to a mailing list thread that raised questions about handling of '%3F' and '?'.

==

tornado/test/web_test.py
==================
11fdd479;Ben Darnell;2010-10-19 12:26:10 -0700;Add a convenience method for synchronous fetches in AsyncHTTPTestCase

==

tornado/testing.py
==================
c4102921;Ben Darnell;2010-10-18 19:13:44 -0700;Add test suite to tarball releases.

==

setup.py
==================
638a151d;Matthew Graham;2010-10-09 15:27:13 -0400;make StaticFileHandler support default filename
allows an app to configure a handler so that if a request to '/dir', the
handler will return '/dir/index.html' if it exists.  the default
filename, the 'index.html' part is configurable when creating the
Handler object.  Using the default filename is optional.

==

tornado/web.py
==================
86bd681f;Ben Darnell;2010-10-13 14:58:49 -0700;Support websockets over HTTP proxies.
Adapted from
http://github.com/cbecker333/tornado/commit/ce02250ed3579706f800cfc5e622da834d79f933

==

tornado/websocket.py
==================
334b1270;Ben Darnell;2010-10-13 14:05:31 -0700;Windows compatibility for non-blocking IOStream.connect.
socket.connect returns a different errno, and read methods do not work
before the socket is connected (fixed docs and examples).

==

tornado/iostream.py
==================
f10c7176;Ben Darnell;2010-10-12 17:59:29 -0700;Refactor async connect logic from SimpleAsyncHTTPClient to IOStream.
Closes #146.

==

tornado/iostream.py
tornado/simple_httpclient.py
==================
b57bfd35;Ben Darnell;2010-10-11 17:24:11 -0700;Reindent example in docstring, which apparently trips up emacs' indentation detection.

==

tornado/stack_context.py
==================
7c7b0117;Ben Darnell;2010-10-11 17:17:13 -0700;Make Locale.format_date() behave sanely with dates in the future.
Closes #150.

==

tornado/locale.py
==================
3ce6d3da;Ben Darnell;2010-10-11 17:02:15 -0700;Run all IOStream callbacks inside a NullContext so that exception handlers are run in the right order.

==

tornado/iostream.py
==================
925af504;Ben Darnell;2010-10-11 14:39:38 -0700;Make USE_SIMPLE_HTTPCLIENT work without pycurl installed.

==

tornado/httpclient.py
tornado/test/httpserver_test.py
==================
dd5cad99;Ben Darnell;2010-10-11 14:16:52 -0700;Add initial version of non-curl-based AsyncHTTPClient.

==

tornado/httpclient.py
tornado/simple_httpclient.py
tornado/test/runtests.py
tornado/test/simple_httpclient_test.py
==================
5fffe5a8;Ben Darnell;2010-10-11 11:20:25 -0700;Limit the amount of data sent to socket.send at a time (for windows).
Closes #97.

==

tornado/iostream.py
==================
160c961f;Ben Darnell;2010-10-08 11:56:16 -0700;Move Links section from index.html to the wiki. Remove links to unmaintained social media accounts.

==

website/templates/index.html
==================
b1995344;Ben Darnell;2010-10-08 11:25:52 -0700;Fix StackContext in IOStream.  IOStream._handle_events now runs in a NullContext, and user callbacks are wrapped on entry to IOStream.
Also added logging for uncaught exceptions and made stack_context.wrap
None-safe.

http://groups.google.com/group/python-tornado/browse_thread/thread/9b5044def39c2ed9

==

tornado/iostream.py
tornado/stack_context.py
==================
f732f980;Paul Buchheit;2010-09-30 14:41:13 -0700;add a linkify() function for converting text to html with link detection. Also changed xhtml_escape to not convert return value to utf8, since pages should be assembed in unicode and not utf8 encoded until they are ready to write().

==

demos/chat/templates/message.html
tornado/escape.py
==================
75bfe842;Ben Darnell;2010-09-28 20:11:42 -0700;Handle IOStream.read_bytes(0) gracefully.

==

tornado/iostream.py
tornado/test/iostream_test.py
tornado/test/runtests.py
==================
e210a644;Ben Darnell;2010-09-28 20:10:56 -0700;Make AsyncTestCase.stop() prefer _arg over **kwargs, even when the former is not truthy.

==

tornado/testing.py
==================
8ecaa437;Ben Darnell;2010-09-28 15:46:21 -0700;Remove references to async_callback from documentation

==

tornado/web.py
website/templates/documentation.txt
==================
12218657;Ben Darnell;2010-09-27 14:08:56 -0700;In the select()-based IOLoop, always listen for reads so we can tell when the other side closed the connection.
Closes #37.

==

tornado/ioloop.py
tornado/test/web_test.py
tornado/web.py
==================
8300c7ff;Ben Darnell;2010-09-27 12:46:20 -0700;Close the IOStream when the remote connection is closed.
This was a regression introduced by http://github.com/facebook/tornado/commit/f6f7f83719a48083f3e5ed999e19c0ec67de9b9b

Closes #143.

==

tornado/iostream.py
tornado/test/web_test.py
==================
b02a31b6;Ben Darnell;2010-09-27 12:04:43 -0700;Factor port-selection logic out of AsyncHTTPTestCase so it can be used from lower-level tests

==

tornado/testing.py
==================
7a7e2414;Ben Darnell;2010-09-24 11:42:33 -0700;Make StackContext more usable in libraries by reducing the need to explicitly use IOLoop.add_callback or NullContext.
This change also simplifies and codifies the ordering behavior of
StackContext:  When a wrapped callback is executed, the innermost
StackContexts are those that were active when the callback was
wrapped.  Additional StackContexts (possibly including other copies
of the same contexts) may be present in outer levels of the stack, but
since the role of most StackContexts is to catch exceptions this should
not have any effect.

Backwards compatibility note:  StackContexts that do something other than
catch exceptions may need to be modified to be reentrant.

==

tornado/stack_context.py
tornado/test/stack_context_test.py
==================
4973e296;Ben Darnell;2010-09-23 09:37:32 -0700;Update installation instructions in README.
Closes #142.

==

README
==================
a1d94db4;Ben Darnell;2010-09-21 12:15:02 -0700;Fix default_host redirect.
Closes #141.

==

tornado/web.py
==================
9f529b89;Ben Darnell;2010-09-18 13:22:30 -0700;Fix improperly-renamed variable in set_blocking_signal_threshold

==

tornado/ioloop.py
==================
81a3eae5;Ben Darnell;2010-09-17 14:46:43 -0700;Make xhtml_escape available in the template namespace under its own name in addition to "escape".

==

tornado/template.py
website/templates/documentation.txt
==================
625a9bef;Ben Darnell;2010-09-17 14:45:45 -0700;Move cookie-signing code from set_secure_cookie to a new method for non-cookie use cases

==

tornado/web.py
==================
8c4fb076;Ben Darnell;2010-09-17 11:02:43 -0700;Document the entire template namespace

==

website/templates/documentation.txt
==================
f46cfa42;Ben Darnell;2010-09-16 17:14:31 -0700;Generalize IOLoop.set_blocking_log_threshold by allowing user-specified signal handlers (via a new set_blocking_signal_threshold method).
Also support a handler value of None to kill the process (SIG_DFL)

==

tornado/ioloop.py
==================
f6f7f837;Ben Darnell;2010-09-16 13:45:13 -0700;Refactor IOStream reading logic to fix problems with SSL sockets.
Now reads from the socket until it would block.  This ensures that we
see data in SSLSocket's internal buffers, which are otherwise invisible
to functions like select().

Added a test that makes a large POST request to an SSL server, which was
the scenario that originally exposed this bug.

==

tornado/iostream.py
tornado/test/httpserver_test.py
==================
7b17caa0;Szabó Antal;2010-09-13 00:32:39 +0200;Fixed another two win32_support import

==

tornado/ioloop.py
==================
0e21608e;Szabó Antal;2010-09-13 00:24:22 +0200;Fixed win32_support import

==

tornado/httpserver.py
==================
dbd0051a;Szabó Antal;2010-09-12 23:58:31 +0200;Added binary flag to _waker_reader and _waker_writer

==

tornado/ioloop.py
==================
a1b5c33b;Szabó Antal;2010-09-12 23:34:38 +0200;Replaced map() in web.py with for loop

==

tornado/web.py
==================
4118b8e7;Szabó Antal;2010-09-12 23:22:30 +0200;Changed e[0] to e.args[0]

==

tornado/httpclient.py
tornado/httpserver.py
tornado/ioloop.py
tornado/iostream.py
==================
fb08c11b;Ben Darnell;2010-09-14 10:42:56 -0700;Update docs to mention requirement of pycurl 7.18.2.

==

website/templates/documentation.txt
website/templates/index.html
==================
8dd551b9;Ben Darnell;2010-09-13 13:41:14 -0700;Merge remote branch 'fiam/master'

==
==================
a352f5ed;Alberto García Hierro;2010-09-13 20:10:23 +0200;When forking multiple processes, properly initialize the random seed
Avoid seeding the random module with the same value in all processes.
If available, use the same method used by random.py, otherwise
generate a seed using the current time in milliseconds and the pid.

==

tornado/httpserver.py
==================
98e4344f;Alberto García Hierro;2010-09-13 20:09:40 +0200;Avoid raising a KeyError when there's no session expiration date
It happens when the token is requested with the 'offline_access'
extended permission.

==

tornado/auth.py
==================
6e1dbe24;Ben Darnell;2010-09-13 11:18:46 -0700;Fix calls to getattr (which, unlike dict.get, does not default to None).
Reported in issue #137.

==

tornado/ioloop.py
==================
34f04945;Ben Darnell;2010-09-09 10:06:47 -0700;Add download url to setup.py for pypi

==

setup.py
==================
9163e347;Ben Darnell;2010-09-08 15:06:21 -0700;Check self._running before rescheduling a PeriodicCallback, so stop() can be called from inside the callback.
Closes #135.

==

tornado/ioloop.py
==================
2338348e;Ben Darnell;2010-09-07 17:05:12 -0700;Bump version number to 1.1

==

setup.py
tornado/__init__.py
website/templates/documentation.txt
website/templates/index.html
==================
afb82f68;Ben Darnell;2010-09-07 17:02:50 -0700;Disable SSL test on versions of libcurl with blocking SSL handshakes. (using gnutls instead of openssl and libcurl < 7.21.0).

==

tornado/test/httpserver_test.py
==================
bb8d2fa4;Ben Darnell;2010-09-07 16:01:22 -0700;Disable SSL test on python 2.5

==

tornado/test/httpserver_test.py
==================
2e288577;Ben Darnell;2010-09-07 16:01:04 -0700;Use the older name for threading.activeCount for compatibility with python 2.5

==

tornado/httpclient.py
==================
e6d93d93;Ben Darnell;2010-09-07 15:19:21 -0700;Fix error in comment

==

tornado/websocket.py
==================
6d7e515e;Ben Darnell;2010-09-06 11:24:09 -0700;Fix typo in websocket.py
Closes #133.

==

tornado/websocket.py
==================
8e34c59e;Ben Darnell;2010-09-06 00:00:52 -0700;Remove superfluous lambdas in tornado.escape.
Closes #132.

==

tornado/escape.py
==================
93fc3d09;Ben Darnell;2010-09-04 20:38:59 -0700;Document why RequestHandler.write does not convert lists to JSON.

==

tornado/web.py
==================
890d8291;Ben Darnell;2010-09-04 12:19:46 -0700;Add more documentation for request.files.

==

website/templates/documentation.txt
==================
5b9e79e7;Joe Bowman;2010-08-31 11:38:06 -0400;auth.py updates for OAuth 1.0a and 2.0.
OAuthMixin now supports both 1.0a and 1.0 (defaults to 1.0a).  TwitterMixin
and GoogleMixin now use 1.0a, FriendfeedMixin remains at 1.0.  This adds
support for the callback_uri parameter to TwitterMixin.

New classes OAuth2Mixin and FacebookGraphMixin are introduced for the new
Facebook APIs.

Backwards compatibility notes:

Pending authorizations begun prior to this change will not be able to
be completed after it (tokens issued under prior versions of this code
will still work; this warning applies only to users who have started
but not yet completed their initial authorizations).

If you have used OAuthMixin directly (not one of the subclasses in this
module) to access a service that does not support OAuth 1.0a, set
_OAUTH_VERSION = "1.0" in your subclass.

Pull requests:
http://github.com/facebook/tornado/pull/126
http://github.com/facebook/tornado/pull/128
http://github.com/facebook/tornado/pull/130

Written by Joe Bowman, rebased from http://github.com/joerussbowman/tornado/commit/1572ecc6726f1ab33d2153798af0f13ad9e75ab6 by Ben Darnell.

==

tornado/auth.py
==================
d1b58414;Ben Darnell;2010-09-01 15:27:32 -0700;Remove the statement that tornado has only been tested with firefox.

==

website/templates/documentation.txt
==================
0aae8f90;Ben Darnell;2010-09-01 15:16:57 -0700;Remove __del__ method from HTTPResponse.  Closing cStringIO objects isn't really necessary, and the presence of a __del__ method prevents python's GC from breaking cyclical references (which happen on errors as HTTPError and HTTPResponse refer to each other).
Closes #125.

==

tornado/httpclient.py
==================
aab1be8b;Ben Darnell;2010-08-30 12:18:21 -0700;Update class docstring for HTTPServer.
Closes #123.

==

tornado/httpserver.py
==================
2ccfb35f;Aaron Raddon;2009-12-22 10:40:59 -0800;adding support for http method OPTIONS used by firefox, safari, for cross domain
Closes #46.

==

tornado/web.py
==================
b4c5aba7;Ben Darnell;2010-08-26 11:52:41 -0700;Fix reference to slice.indices.
Is this used anywhere?

Closes: #13.

==

tornado/template.py
==================
86667742;Ben Darnell;2010-08-26 11:40:49 -0700;Document the limitations of multi-process mode.
Closes #65.

==

tornado/httpserver.py
==================
c4413f5b;Ben Darnell;2010-08-26 11:31:54 -0700;Document the fact that add_handlers should only be called once for each host_pattern.

==

tornado/web.py
==================
318ec31c;Ben Darnell;2010-08-26 11:09:56 -0700;Set pycurl.NOSIGNAL when multiple threads are detected.
Closes #121.

==

tornado/httpclient.py
==================
fcab3583;Ben Darnell;2010-08-25 17:17:44 -0700;Set PeriodicCallback._running to True in start instead of __init__
Closes #72.

==

tornado/ioloop.py
==================
803f33c1;Ben Darnell;2010-08-25 16:54:02 -0700;Add a tornado.version variable, and use it anywhere we use the current tornado version to produce a Server: header.
Closes #22.

==

tornado/__init__.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
3f0740c8;Ben Darnell;2010-08-25 16:34:41 -0700;Check in Jacob Kristhammar's updated websocket implementation.
http://groups.google.com/group/python-tornado/browse_thread/thread/065823d0c6593b85

==

tornado/websocket.py
==================
e571668d;Ben Darnell;2010-08-25 15:34:21 -0700;Add more documentation of overridable methods in RequestHandler

==

website/templates/documentation.txt
==================
1580728f;Ben Darnell;2010-08-25 11:36:44 -0700;Move AuthRedirectTest from httpserver_test to web_test where it belongs

==

tornado/test/httpserver_test.py
tornado/test/web_test.py
==================
b398a816;Ben Darnell;2010-08-25 11:33:09 -0700;Add a test for HTTPServer's SSL support

==

tornado/test/httpserver_test.py
tornado/test/test.crt
tornado/test/test.key
tornado/testing.py
==================
b3e953ea;Ben Darnell;2010-08-25 11:32:10 -0700;Don't swallow SSL errors - always reraise or return

==

tornado/httpserver.py
==================
9d605f2b;Ben Darnell;2010-08-19 14:25:15 -0400;Make the SSL handshake non-blocking.
Based on work by mgenti.  See
http://github.com/mgenti/tornado/commit/197e88e62f1970b65a3807ac37160194fab7d496
and its ancestors.

==

tornado/httpserver.py
tornado/iostream.py
==================
252a2bb9;Ben Darnell;2010-08-19 13:57:47 -0400;Merge remote branch 'tomhsx/proxy-support'

==
==================
4e10c31f;Ben Darnell;2010-08-19 13:52:09 -0400;Add HTTPServer(..., xheaders=True) to the web documentation.

==

website/templates/documentation.txt
==================
55b4eae8;Ben Darnell;2010-08-19 13:48:08 -0400;Add a links section to the website

==

website/templates/index.html
==================
00f9e48d;tomhsx;2010-08-16 01:37:16 -0400;Added proxy support to httpclient

==

tornado/httpclient.py
==================
51d6ba42;Ben Darnell;2010-08-15 18:17:42 -0700;Suppress tornado's default logging setup if there is any existing logging config, not just --log_file_prefix.

==

tornado/options.py
==================
221058e1;Ben Darnell;2010-08-15 18:11:48 -0700;In LogTrapTestCase, leave everything alone rather than throwing an exception if the logging config is not as expected.

==

tornado/testing.py
==================
551ea94d;Ben Darnell;2010-08-15 18:04:34 -0700;Initialize member variables in AsyncTestCase.__init__ instead of setUp to avoid masking the real error in _stack_context() if run() throws an exception.

==

tornado/testing.py
==================
33fe4a4e;Ben Darnell;2010-08-13 14:49:03 -0700;Fix another link to 1.0.1

==

website/templates/index.html
==================
0ece9ed6;Ben Darnell;2010-08-13 10:51:50 -0700;Check in symlink to tornado package in website directory

==

website/tornado
==================
d8b265dd;Ben Darnell;2010-08-13 10:50:37 -0700;Update links to 1.0.1 release

==

website/templates/documentation.txt
website/templates/index.html
==================
bbc1ef12;Ben Darnell;2010-08-13 10:19:26 -0700;Test case for secure cookie change

==

tornado/test/runtests.py
tornado/test/web_test.py
==================
a770a7cf;Ben Darnell;2010-08-13 10:18:28 -0700;Check for far-future timestamps in secure cookies.

==

tornado/web.py
==================
8d607129;Ben Darnell;2010-08-13 00:34:23 -0700;Add future import to fix tests on 2.5

==

tornado/test/stack_context_test.py
==================
db3d0219;Ben Darnell;2010-08-11 11:34:40 -0700;Add a mention of on_connection_close to the html docs.  Add a warning about proxies keeping connections open.

==

tornado/web.py
website/templates/documentation.txt
==================
41c14b82;Ben Darnell;2010-08-10 14:00:18 -0700;Remove the ability to pre-bind parameters in stack_context.wrap.
This functionality was incorrect and unused, and unlike async_callback,
I don't think the implicit binding is a good fit for this API.

==

tornado/stack_context.py
==================
9d4444e3;Ben Darnell;2010-08-10 13:57:32 -0700;Reindent everything to 4 spaces.

==

tornado/httpclient.py
tornado/httpserver.py
tornado/stack_context.py
tornado/template.py
tornado/test/httpserver_test.py
tornado/test/stack_context_test.py
tornado/test/testing_test.py
tornado/web.py
tornado/wsgi.py
==================
02d07def;Ben Darnell;2010-08-10 13:51:53 -0700;StackContext should not re-wrap previously-wrapped callbacks.
This allows for library code to "pop" back up to a previous version of the
stack.

==

tornado/stack_context.py
tornado/test/stack_context_test.py
==================
cd888f2f;Ben Darnell;2010-08-09 14:33:32 -0700;Be less picky about line endings in headers in httpclient.
HTTP requires that lines end with \r\n, but some buggy servers (including
news.ycombinator.com) just use \n.  Libcurl tolerates this and sends the
line as-is to the header callback, so we need to be prepared to handle
either form.

==

tornado/httpclient.py
==================
00ce7d4d;Ben Darnell;2010-08-09 14:12:33 -0700;Add a simple main function to httpclient.py for manual testing

==

tornado/httpclient.py
==================
fef1129b;Ben Darnell;2010-08-09 14:01:48 -0700;The periodic call to multi_socket_all needs to be followed by  _finish_pending_request or else those requests won't be finished until after the next one is started.

==

tornado/httpclient.py
==================
91c1bcba;Ben Darnell;2010-08-06 16:09:04 -0700;Record more detailed timing information from AsyncHTTPClient, and make it available as HTTPResponse.time_info.

==

tornado/httpclient.py
==================
98d41261;Ben Darnell;2010-08-06 13:12:14 -0700;When login_url is absolute, use an absolute url for the next redirect.
Closes: GH-119

==

tornado/test/httpserver_test.py
tornado/test/runtests.py
tornado/web.py
==================
ae3c3545;Ben Darnell;2010-08-04 18:47:42 -0700;Use the right IOLoop in AsyncHTTPClient's PeriodicCallback

==

tornado/httpclient.py
==================
e5bd0c06;Ben Darnell;2010-08-04 17:42:07 -0700;Use POST instead of GET for OpenID check_authentication.
Google apparently doesn't check for this, but other OpenID providers do.

==

tornado/auth.py
==================
becb5f27;Ben Darnell;2010-08-04 17:40:24 -0700;Suppress libcurl's magic "Expect: 100-continue" behavior.
This was motivated by the discovery of bug
https://sourceforge.net/tracker/?func=detail&atid=100976&aid=3039744&group_id=976

==

tornado/httpclient.py
==================
8995f5a0;Ben Darnell;2010-08-04 17:30:20 -0700;Add a brute-force workaround for the class of libcurl bugs that cause file descriptors or timeouts to get silently dropped.  (the old fdset/perform implementation of AsycnHTTPClient had a similar workaround).

==

tornado/httpclient.py
==================
0875b784;Ben Darnell;2010-08-04 14:00:34 -0700;Fix a typo in docstring

==

tornado/web.py
==================
2aa89273;Ben Darnell;2010-08-04 12:02:05 -0700;Parse form bodies on PUT as well as POST.
HTML5 adds support for PUT and DELETE in forms, so x-www-form-urlencoded
PUT bodies are now possible.

==

tornado/httpserver.py
==================
805ac65d;Ben Darnell;2010-08-03 14:35:45 -0700;Work around the "MySQL server has gone away" issue by closing and reopening connections that have been idle for too long.

==

tornado/database.py
==================
9a083095;Ben Darnell;2010-08-03 14:21:24 -0700;Use the more portable multiprocessing.cpu_count() to detect the number of cpus where available (python 2.6).

==

tornado/httpserver.py
==================
8c17e79b;Ben Darnell;2010-07-30 17:22:53 -0700;Add a workaround for missing multi.socket_action on older versions of pycurl.

==

tornado/httpclient.py
==================
293d15d5;Ben Darnell;2010-07-30 16:47:13 -0700;Only catch pycurl.error, not all Exceptions around a call to multi.socket_action.
This was hiding an AttributeError being thrown on older versions of pycurl
(which did not expose the socket_action method).

==

tornado/httpclient.py
==================
252cb1c0;Ben Darnell;2010-07-30 14:21:37 -0700;Docstring updates

==

tornado/testing.py
==================
6df410aa;Ben Darnell;2010-07-29 19:08:30 -0700;Fix a StackContext-related bug that was causing exceptions in callbacks to result in timeouts instead of making wait() re-throw the exception. Add a test to verify that this works.

==

tornado/test/runtests.py
tornado/test/testing_test.py
tornado/testing.py
==================
b260c92d;Ben Darnell;2010-07-29 19:01:13 -0700;Add __future__ import for python2.5 compatibility

==

tornado/testing.py
==================
66f94d2c;Ben Darnell;2010-07-29 19:00:06 -0700;Update test_ioloop to use AsyncTestCase.  Rename it to ioloop_test and make other stylistic changes for consistency.

==

tornado/test/ioloop_test.py
tornado/test/runtests.py
tornado/test/test_ioloop.py
==================
15e5bf08;Ben Darnell;2010-07-29 18:53:18 -0700;Add a test framework for IOLoop-based async code

==

tornado/httputil.py
tornado/test/__init__.py
tornado/test/runtests.py
tornado/test/stack_context_test.py
tornado/testing.py
==================
28adce30;Ben Darnell;2010-07-29 17:03:40 -0700;Make all internal imports of tornado modules absolute

==

tornado/auth.py
tornado/autoreload.py
tornado/httpclient.py
tornado/httpserver.py
tornado/ioloop.py
tornado/iostream.py
tornado/s3server.py
tornado/template.py
tornado/web.py
tornado/wsgi.py
==================
83864d60;Ben Darnell;2010-07-26 12:04:00 -0700;Add an initialize() method to RequestHandler for use by subclasses.
This is simpler than overriding __init__ since it doesn't require
knowledge of the application and request arguments that must be
passed through to the superclass's __init__.

==

tornado/web.py
==================
dbfdf46c;Ben Darnell;2010-07-26 11:49:05 -0700;Remove unused transforms parameter to RequestHandler.__init__. Transforms are actually passed in via _execute.

==

tornado/web.py
==================
721e25d0;Ben Darnell;2010-07-23 12:35:08 -0700;Introduce StackContext, a way to automatically manage exception handling and other stack-related state for asynchronous callbacks. This means that it is no longer necessary to wrap everything in RequestHandler.async_callback.

==

tornado/httpclient.py
tornado/ioloop.py
tornado/stack_context.py
tornado/test/stack_context_test.py
tornado/web.py
==================
94f073b7;Ben Darnell;2010-07-23 11:12:56 -0700;Remove the old AsyncHTTPClient (fdset) and make AsyncHTTPClient2 (socket_action) the standard.

==

tornado/httpclient.py
==================
eb5b3d8d;Ben Darnell;2010-07-22 15:15:37 -0700;Set version number to 1.0

==

setup.py
tornado/web.py
website/templates/documentation.txt
website/templates/index.html
==================
d90ba2e0;Ben Darnell;2010-07-22 16:50:59 -0700;Remove old release tarballs and redirect previous urls to github

==

website/app.yaml
website/static/tornado-0.1.tar.gz
website/static/tornado-0.2.tar.gz
website/website.py
==================
22f45256;Ben Darnell;2010-07-22 15:13:25 -0700;Move download links to github

==

website/templates/documentation.txt
website/templates/index.html
==================
0bb985a8;Ben Darnell;2010-07-22 14:29:07 -0700;Remove websocket.py.  The websocket protocol has changed in incompatible ways (and is still not yet final), so the version implemented in this module is not compatible with current browsers.  This module may be reintroduced in the future when we have an implementation of the new protocol.

==

tornado/websocket.py
==================
7a288245;Ben Darnell;2010-07-22 13:04:10 -0700;Update installation instructions.

==

website/templates/documentation.txt
website/templates/index.html
==================
2c89b895;Ben Darnell;2010-07-20 10:25:25 -0700;Accept None (i.e. unmatched optional groups) when extracting parameters from the path.
http://github.com/facebook/tornado/issues/issue/115

==

tornado/web.py
==================
ad104ffb;Ben Darnell;2010-07-19 19:39:42 -0700;When no json library is found, don't throw an exception unless json functionality is used, to make the simplejson dependency optional for python 2.5 users.

==

tornado/escape.py
==================
ea032b6c;Ben Darnell;2010-07-19 13:09:28 -0700;Check for EINTR in a more flexible way for compatibility with older pythons and poll implementations.
Original commit:
http://github.com/eklitzke/tornado/commit/31c33737c5534f21a99371bb21e02cd4791f9010

==

tornado/ioloop.py
==================
7a30f9f6;Ben Darnell;2010-07-14 18:12:16 -0700;Fix typo in support for multiple ui_method/ui_module containers

==

tornado/web.py
==================
c78ab55d;Ben Darnell;2010-07-14 16:31:22 -0700;Better timeout handling in AsyncHTTPClient2.  Tornado and libcurl may use different clock functions, which can cause timeouts to be delayed (in some cases until the next fetch is started).  This change resynchronizes the schedule after each timeout call.

==

tornado/httpclient.py
==================
64d8d4e5;David Novakovic;2010-07-14 21:00:57 +1000;Fix small bug in database set up.

==

tornado/database.py
==================
e2181b03;Robert Buchholz;2010-07-13 10:28:52 +0200;Make iteration over sql fields clearer

==

tornado/database.py
==================
a9090a97;Robert Buchholz;2010-07-13 10:26:01 +0200;Remove unused imports and variables

==

tornado/auth.py
tornado/autoreload.py
tornado/database.py
tornado/httpclient.py
tornado/httpserver.py
tornado/locale.py
==================
b42c61c8;Ben Darnell;2010-07-09 18:15:12 -0700;In AsyncHTTPClient2, disable IPv6 for versions of libcurl with the socket-reopening bug (i.e. <= 7.21.0).  (this can be overridden if needed with a prepare_curl_callback)

==

tornado/httpclient.py
==================
557da3db;Ben Darnell;2010-07-09 13:07:43 -0700;Unquote percent escapes in captured groups in the path component of the URI, to be more consistent with our handling of query parameters.
This change is slightly backwards-incompatible:  applications that have
already added an unquote() call on arguments to RequestHandler.get/post
will need to remove them.

This change replaces an earlier (reverted) commit:
http://github.com/facebook/tornado/commit/7b80c2f4db226d6fa3a7f3dfa59277da1d642f91

==

tornado/web.py
==================
455eb75b;Ben Darnell;2010-07-09 12:57:01 -0700;Revert "Parse percent escapes in the path component of the uri, to be more"
This reverts commit 7b80c2f4db226d6fa3a7f3dfa59277da1d642f91.

URI spec requires that '/' and '%2F' be distinguishable, so it's incorrect
to escape at this level.  The next commit will instead unquote captured
groups before passing them to get()/post() in web.py

==

tornado/httpserver.py
==================
7b80c2f4;Ben Darnell;2010-07-08 18:27:43 -0700;Parse percent escapes in the path component of the uri, to be more consistent with our handling of query parameters (especially important when capturing groups are used in the URLSpec regex).
This change is slightly backwards-incompatible:  applications that have
already added an unquote() call on arguments to RequestHandler.get/post
or use percent escapes in URLSpec patterns will need to remove them.

==

tornado/httpserver.py
==================
a7dc5bc4;Ben Darnell;2010-07-08 17:06:03 -0700;Consolidate the various HTTP header dictionary classes into one, which includes better handling of headers with repeated values (e.g. Set-Cookie)

==

tornado/httpclient.py
tornado/httpserver.py
tornado/httputil.py
tornado/wsgi.py
==================
e98735bf;Ben Darnell;2010-07-08 15:52:44 -0700;Disable preforking by default in HTTPServer.start().
This makes "server.listen(port)" and "server.bind(port);
server.start()" equivalent.

==

tornado/httpserver.py
==================
2ac74268;Ben Darnell;2010-06-28 09:52:46 -0700;UTF8-encode more user-supplied strings in httpclient (headers and user-agent)

==

tornado/httpclient.py
==================
52c378f7;Ben Darnell;2010-06-26 16:00:26 -0700;Update the set of active file descriptors immediately after calling perform instead of after running user callbacks, since those callbacks might have started using file descriptors that were closed by curl in perform().
Thanks to David Novakovic for the fix.  Adapted from
http://github.com/dpnova/tornado/commit/6df99e948e0832c60966f7c34190de87af87ffc5

==

tornado/httpclient.py
==================
33c3f8d2;Ben Darnell;2010-06-26 15:16:15 -0700;Include the HTTPResponse object as an attribute of HTTPError

==

tornado/httpclient.py
==================
60ef8d5d;Ben Darnell;2010-06-23 18:01:30 -0700;Remove unused "overwrite" argument to options.parse_config_file

==

tornado/options.py
==================
e7654cda;Ben Darnell;2010-06-21 09:29:27 -0700;Fix typo in comment

==

tornado/httpserver.py
==================
1ba0161e;Ben Darnell;2010-06-19 19:38:02 -0700;Add a second implementation of AsyncHTTPClient, using a new libcurl api.
Adapted from Jacob Kristhammar's work:
http://github.com/sris/tornado/blob/master/tornado/httpclient2.py

==

tornado/httpclient.py
==================
df0d88eb;Ben Darnell;2010-06-18 15:59:19 -0700;Close wsgi responses correctly - the close method, if present, will be on the result of self.wsgi_application() and not on the list of output we're building up.

==

tornado/wsgi.py
==================
39ac6d16;Ben Darnell;2010-06-10 14:49:57 -0700;In the libcurl file descriptor limit hack, log to both stderr and logging.error since they may got to different places and one may be more visible than the other.

==

tornado/httpclient.py
==================
27171cde;Ben Darnell;2010-06-08 11:48:43 -0700;Catch and log exceptions from user callbacks in AsyncHTTPClient.

==

tornado/httpclient.py
==================
b8271f94;Ben Darnell;2010-06-07 00:43:59 -0700;Fix missing import

==

tornado/httpclient.py
==================
d1e14503;Ben Darnell;2010-05-30 23:04:10 -0700;Optionally allow nonstandard http methods to be used in httpclient.
By default we check that the method is one of the standard ones (and
is capitalized correctly), but this can be overridden to work with a
server that has implemented nonstandard methods (e.g. CouchDB)

http://github.com/facebook/tornado/issues/issue/90

==

tornado/httpclient.py
==================
d5a3d8a0;Mike Lewis;2010-05-27 15:38:37 -0700;Changed it so one can access the StringIO buffer
This allows for people to use the file-like object
that already exists without having to convert the body
back to the StringIO

==

tornado/httpclient.py
==================
6f6c9505;Ben Darnell;2010-05-30 22:50:11 -0700;Clear the close_callback set on the IOStream by RequestHandlers in finish(), so that the close_callback does not prevent garbage collection of the handlers.
http://github.com/facebook/tornado/issues/issue/95/

==

tornado/web.py
==================
5d430b10;Ben Darnell;2010-05-30 22:42:53 -0700;Close the socket on uncaught exceptions from iostream handlers.
This prevents a possible denial of service if erroneous requests are
made faster than garbage collection can reclaim socket file
descriptors.

http://groups.google.com/group/python-tornado/browse_frm/thread/7a5d61e6ba0c71b8/8af41b48ac02cc6c

==

tornado/iostream.py
==================
2b068402;Ben Darnell;2010-05-30 22:16:11 -0700;Improve parsing of multipart/form-data headers.
This change was motivated by google app engine's xmpp support,
which uses different spacing in the header than other common clients
and quotes its boundary string.

Based on changes by jehiah:
http://github.com/jehiah/tornado/commit/18cb45ca73859fa81883bd10c9cd8e051865096a
http://github.com/jehiah/tornado/commit/9d67963466878550368b932746bb4a244a593905

==

tornado/httpserver.py
tornado/wsgi.py
==================
982554e7;Ben Darnell;2010-05-30 21:56:44 -0700;Added RequestHandler.get_arguments(), which does the same normalization as get_argument() but returns a list for repeated arguments.
Based on changes by jehiah:
http://github.com/jehiah/tornado/commit/cbe2eeb1753de7d1a16a86c6a96b5f8e7c99dd52
http://github.com/jehiah/tornado/commit/af08ab067fb7ad1661fc56039004cbd86356716c

==

tornado/web.py
==================
548bd70d;Ben Darnell;2010-05-28 17:25:59 -0700;Update documentation for WebSocketHandler

==

tornado/websocket.py
==================
70a37708;Ben Darnell;2010-05-28 17:12:34 -0700;Revert "websockets: continue listening for messages after parsing completion"
This reverts commit 9ea5f8a277db96557ae7867375c7db4d8c5f633a.

The one-shot behavior of receive_message was intentional, and simply
requeuing the old callback every time will eventually overflow the
stack due to repeated async_callback wrappers.  An alternate interface
that doesn't require receive_message to be called for every message
may be added in a future change.

See discussion at
http://github.com/facebook/tornado/commit/9ea5f8a277db96557ae7867375c7db4d8c5f633a

==

tornado/websocket.py
==================
7f8725c7;Ben Darnell;2010-05-25 14:36:50 -0700;Allow StaticFileHandler subclasses to set additional headers on the response

==

tornado/web.py
==================
57a9ac03;Ben Darnell;2010-05-25 11:40:42 -0700;Don't try to compute max() of an empty sequence (which throws an exception)

==

tornado/httpclient.py
==================
d6002caf;Ben Darnell;2010-05-24 19:06:31 -0700;Add a hacky workaround for libcurl's FD_SETSIZE bug.  It's ugly, but better than undefined behavior.

==

tornado/httpclient.py
==================
b9a9ccc3;Ben Darnell;2010-05-20 13:50:03 -0700;Make it possible to override template_path at the handler level

==

tornado/web.py
==================
0c363662;Ben Darnell;2010-05-16 19:33:59 -0700;Use a lambda instead of functools.partial for pycurl.HEADERFUNCTION. Older versions of pycurl (including 7.16.2.1, which is the recommended version for Mac OS X 10.5) only work with real functions, not objects with a __call__ method like functools.partial.
Remove exception-swallowing - curl versions that predate HEADERFUNCTION
are no longer supported.

==

tornado/httpclient.py
==================
e8dec4d0;Ben Darnell;2010-05-09 18:54:34 -0700;Merge remote branch 'dlo/master'

==
==================
f0a3d895;Ben Darnell;2010-05-09 18:51:49 -0700;Translate </ to <\/ in json output to avoid issues with the string "</script>".

==

tornado/escape.py
==================
26af9e40;Ben Darnell;2010-05-09 18:46:06 -0700;Support additional keyword arguments on cookies (to be handled by the underlying stdlib Cookie module)

==

tornado/web.py
==================
9ea5f8a2;Dan Loewenherz;2010-05-04 15:59:22 -0700;websockets: continue listening for messages after parsing completion
The prior implementation stops listening for messages after the first
message is received.

==

tornado/websocket.py
==================
00ad92f3;Ben Darnell;2010-04-30 17:28:40 -0700;Allow for missing "expires" field in facebook session, which can happen if offline_access is granted.

==

tornado/auth.py
==================
339f08bd;Jon Parise;2010-04-28 23:27:45 -0700;Correcting a grammatical error (attribute -> attributes).

==

website/templates/documentation.txt
==================
80847391;Evan Klitzke;2010-04-27 05:41:22 +0800;UIModule.css_files returns CSS files, not Javascript files

==

tornado/web.py
==================
bbdf2076;Joseph Bowman;2010-04-23 22:26:49 -0400;Updating base Twitter url

==

tornado/auth.py
==================
0fcef4e2;Ben Darnell;2010-04-22 16:12:41 -0700;Clear itimer signals in autoreload so the combination of autoreload and ioloop.set_blocking_log_threshold doesn't cause the new process to get killed.

==

tornado/autoreload.py
==================
9f7c9a38;Ben Darnell;2010-04-21 14:17:22 -0700;Use escape.utf8() instead of .encode('utf-8') so we don't double-encode

==

tornado/httpclient.py
tornado/wsgi.py
==================
c87e84f0;Ben Darnell;2010-04-21 13:57:05 -0700;cStringIO's constructor uses a 16-bit encoding when given a unicode string.  This is inconsistent with its write method, which encodes all strings as ascii (and rejects unicode strings iff they have any non-ascii characters).  This change uses utf-8 as the default encoding when constructing cStringIO objects in tornado.

==

tornado/httpclient.py
tornado/wsgi.py
==================
b686d6d4;Ben Darnell;2010-04-21 11:57:44 -0700;Add an option to log a stack trace any time the ioloop is blocked for more than a specified amount of time.

==

tornado/ioloop.py
==================
ca8002fa;Ben Darnell;2010-04-20 15:40:33 -0700;Send all logging to the root logger instead of per-module loggers. This undoes the effect of http://github.com/facebook/tornado/commit/e391fd289ed085671344504cc5b1fa84f5a3c774
Per-module loggers are problematic because only the top-level convenience
logging.{error,warning,...} functions configure logging on-demand, so
an app that only uses per-module loggers will produce no output except
"no handlers found for logger X".  Since tornado.ioloop swallows and logs
all exceptions, this makes it too hard to tell what's going on for apps
that do not configure logging explicitly.

Instead of setting log levels on individual module's loggers,
logging.Handler.addFilter can be used with a filter that examines
the module attribute of the log record.

==

tornado/auth.py
tornado/autoreload.py
tornado/database.py
tornado/httpclient.py
tornado/httpserver.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/template.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
40ac8d36;Ben Darnell;2010-04-19 17:07:20 -0700;Fix header parsing in httpclient for headers whose value contains ':'

==

tornado/httpclient.py
==================
b8a28243;Ben Darnell;2010-04-19 11:20:03 -0700;Better HTTP header parsing: Allow (and strip) any amount of leading and trailing whitespace around header values instead of just a single space.  Such whitespace is legal but appears to be uncommon (and nginx apparently normalizes everything to a single space) http://tools.ietf.org/html/rfc2616#page-31

==

tornado/httpclient.py
tornado/httpserver.py
tornado/wsgi.py
==================
43e02a2d;Ben Darnell;2010-04-19 11:03:06 -0700;Add a closed flag to AsyncHTTPClient so that a scheduled perform callback won't cause an exception after the client is closed.

==

tornado/httpclient.py
==================
fc00b617;Ben Darnell;2010-04-12 16:06:39 -0700;Use the original request's protocol as the openid realm instead of hard-coding http.

==

tornado/auth.py
==================
62bc2e40;Ben Darnell;2010-04-07 16:54:34 -0700;Add support for reading translation from gettext .mo files instead of CSV.
Based on http://github.com/wmark/anzu/commits/gettext

==

tornado/locale.py
==================
002ba2c1;Ben Darnell;2010-04-05 14:21:16 -0700;Log a warning when multiple handlers have the same name.

==

tornado/web.py
==================
b5365d8c;Ben Darnell;2010-04-05 12:23:24 -0700;Make options.__getattr__ raise AttributeError instead of Error for consistency with standard attribute lookups (so getattr(options, 'foo', None) works if no option 'foo' has been defined).

==

tornado/options.py
==================
218dd1ed;Ben Darnell;2010-04-02 11:47:39 -0700;Escape double quotes in addition to angle brackets and ampersands.

==

tornado/escape.py
==================
e520b21e;Elias Torres;2010-02-15 00:10:11 -0500;Adding for the ability of ui-modules to add something at the end of the body of a document.

==

tornado/web.py
==================
794685b8;Ben Darnell;2010-04-02 11:32:18 -0700;Merge remote branch 'mgenti/master'

==
==================
5f4413be;Ben Darnell;2010-03-31 15:37:29 -0700;Return a write method from start_response, as required by the wsgi spec.

==

tornado/wsgi.py
==================
c33709a0;unknown;2010-03-30 08:40:17 -0500;When using the select based IOLoop, select can throw an error if based to many socket.  This does not have an errno

==

tornado/ioloop.py
==================
32a31f4e;Ben Darnell;2010-03-27 10:30:46 -0700;Don't try to colorize log output on terminals that don't support it

==

tornado/options.py
==================
a4ba9181;Ben Darnell;2010-03-26 15:55:04 -0700;Make add_handlers (for multiple hostnames) usable with static_path (which forces the creation of a wildcard handler) by maintaining a sensible order for handler groups.

==

tornado/web.py
==================
6326f827;Ben Darnell;2010-03-25 16:09:37 -0700;Add a warning about the experimental status of our win32 support

==

tornado/win32_support.py
==================
7b458119;Ben Darnell;2010-03-25 16:00:09 -0700;Be consistent in platform checks:  use os.name == 'nt' everywhere, replacing uses of os.name == 'posix' and sys.platform.startswith('win')

==

tornado/httpserver.py
tornado/ioloop.py
==================
064cc469;Ben Darnell;2010-03-25 15:59:18 -0700;Make ioloop test runnable on unix (chmod +x and add #! line), and remove hard-coded PYTHONPATH manipulations.  Add a small readme for tests.

==

tornado/test/README
tornado/test/test_ioloop.py
==================
3e1d57b2;unknown;2010-03-24 10:14:03 -0500;Fix for raising an exception; Fix for waking loop; Added test

==

tornado/ioloop.py
tornado/test/test_ioloop.py
tornado/win32_support.py
==================
73fbe284;unknown;2010-03-24 08:25:23 -0500;Merge branch 'master' of git://github.com/facebook/tornado

==
==================
e391fd28;Brandon Bickford;2010-03-15 14:48:17 -0700;Use per-module loggers instead of the root logger.

==

tornado/auth.py
tornado/autoreload.py
tornado/database.py
tornado/httpclient.py
tornado/httpserver.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/options.py
tornado/template.py
tornado/web.py
tornado/websocket.py
tornado/wsgi.py
==================
e3404914;Ben Darnell;2010-03-23 17:31:14 -0700;Add __slots__ to ioloop._Timeout to reduce memory overhead when there are many pending timeouts.

==

tornado/ioloop.py
==================
9f4c6af8;unknown;2010-03-23 09:29:46 -0500;Implementing suggested changes

==

tornado/fcntl_win32.py
tornado/httpserver.py
tornado/ioloop.py
tornado/win32_support.py
==================
ae7f90bf;unknown;2010-03-23 09:24:34 -0500;Merge remote branch 'upstream/master'

==
==================
33a587b0;Ben Darnell;2010-03-22 16:35:05 -0700;Don't put wsgi response headers in a dictionary to support repeated headers with the same value (mainly important for Set-Cookie)

==

tornado/wsgi.py
==================
7fda8c5d;Ben Darnell;2010-03-20 12:20:42 -0700;Don't set the etag header if the handler already did it.

==

tornado/web.py
==================
bce36a7c;Ben Darnell;2010-03-19 11:20:56 -0700;Add a callback to handle headers in httpclient as they come in, so they will be available for data handled by streaming_callback.

==

tornado/httpclient.py
==================
70fb42d6;Ben Darnell;2010-03-18 13:27:49 -0700;Add a close method to AsyncHTTPClient.

==

tornado/httpclient.py
==================
03308b1a;Dolapo Falola;2010-03-17 18:44:16 -0700;add a template_loader application setting for using custom template loaders. a slight refactoring of TemplateLoader's load method to expose some internals. also, add a reset method to the loader that's called in debug mode to flush the template cache.

==

tornado/template.py
tornado/web.py
==================
8359c05c;Ben Darnell;2010-03-17 18:51:37 -0700;Support named groups in url pattern regexes.  Note that either all or none of the groups to be passed to the handler must be named.

==

tornado/web.py
==================
fca7c831;Ben Darnell;2010-03-17 18:48:32 -0700;Allow more than two consecutive curlies to appear in templates (and use the innermost).  This was previously a syntax error in the generated python.

==

tornado/template.py
==================
8c096b23;Ben Darnell;2010-03-17 18:29:03 -0700;Combine repeated headers with the same name into a single comma-separated string http://www.w3.org/Protocols/HTTP/1.0/spec.html#Message-Headers

==

tornado/httpclient.py
==================
40ce72c1;Ben Darnell;2010-03-17 14:59:17 -0700;Replace all tabs with spaces.

==

demos/appengine/templates/archive.html
demos/appengine/templates/base.html
demos/appengine/templates/feed.xml
demos/blog/templates/archive.html
demos/blog/templates/base.html
demos/blog/templates/feed.xml
demos/chat/static/chat.js
demos/chat/templates/index.html
demos/facebook/templates/stream.html
tornado/epoll.c
website/markdown/extensions/toc.py
website/templates/base.html
website/templates/index.html
==================
6d070f77;Fabricio Zuardi;2010-03-14 00:08:26 -0300;updated the gitignore to include files generated on installation

==

.gitignore
==================
6704dc99;unknown;2010-03-10 15:40:36 -0600;win32 needs to open the files as binary

==

tornado/web.py
==================
bec0552e;unknown;2010-03-10 15:39:50 -0600;Trying to better re-use code

==

tornado/ioloop.py
==================
248c5780;unknown;2010-03-10 15:37:58 -0600;Merge remote branch 'upstream/master'

==
==================
d2ca9ad6;Ben Darnell;2010-03-09 09:17:23 -0800;Fix bug with IOLoop's 'waker' pipe which rendered it ineffective on linux and mac (where pipes are unidirectional) and caused high cpu usage on solaris (where pipes are bidirectional).  Thanks to Jari Ahonen for finding the bug.

==

tornado/ioloop.py
==================
45f76c51;Ben Darnell;2010-03-07 12:47:52 -0800;In finish(), test if chunk is None rather than using truthiness to decide whether to call write().
This fixes a discrepancy between finish() and write() when outputting json.
Now both write({}) and finish({}) will output an empty json object.

==

tornado/web.py
==================
8637a738;Ben Darnell;2010-03-04 12:30:26 -0800;Set the close-on-exec flag on file descriptors used by IOLoop (epoll/kqueue and pipe) so that long-lived autoreloading processes don't leak file descriptors.

==

tornado/ioloop.py
==================
f4359bc1;Ben Darnell;2010-03-04 11:52:18 -0800;Use a WeakKeyDictionary instead of a regular dictionary to associate IOLoop and AsyncHTTPClients.  This prevents leaks of memory and file descriptors when one process (in my case a unit test runner) create many IOLoop/AsyncHTTPClient pairs.

==

tornado/httpclient.py
==================
d42334e3;Ben Darnell;2010-03-03 19:14:45 -0800;Allow subclasses of IOLoop to override the default logging of uncaught exceptions in callbacks.

==

tornado/ioloop.py
==================
a0af68cc;Ben Darnell;2010-03-03 17:22:48 -0800;Ensure that self.io_loop is set in HTTPServer.start(), so that HTTPServer.stop can clean up correctly.

==

tornado/httpserver.py
==================
62cdb36b;Ben Darnell;2010-03-01 18:55:38 -0800;Revamp logging configuration.
* If --logging=none, tornado will not touch the python logging config.
* Colored output is optional.  If curses is not available or stderr is not
  a tty, non-colorized output will be used.
* Log output to stderr can be suppressed with --log_to_stderr=false
* Logs can be written to a file (non-colorized) with --log_file_prefix.
  Logs will be rotated, which can be controlled with --log_file_max_size
  and --log_file_num_backups.
* By default, logs go to a file if --log_file_prefix is set and to stderr
  if it is not.  To log to both stderr and a file, --log_to_stderr must
  be set to true explicitly.

==

tornado/options.py
==================
61f0fafe;Ben Darnell;2010-02-26 16:36:21 -0800;Call the close() method on the wsgi response object if it exists. This is required by the WSGI spec, and cherrypy leaks memory without it.

==

tornado/wsgi.py
==================
f6266ba8;Ben Darnell;2010-02-26 14:08:09 -0800;Add SERVER_PROTOCOL variable to wsgi environment.  This turns out to be necessary for using cherrypy in a tornado WSGIContainer.

==

tornado/wsgi.py
==================
1ae186a5;Ben Weaver;2010-02-26 13:11:27 -0500;Add exc_info parameter to start_response() in WSGIContainer.

==

tornado/wsgi.py
==================
c5627d2f;Ben Darnell;2010-02-25 15:49:08 -0800;Work around an odd error I occasionally see in autoreload (which causes autoreload to loop endlessly without restarting the process)

==

tornado/autoreload.py
==================
f9cda863;Ben Darnell;2010-02-24 16:37:11 -0800;Add a workaround for a bug in os.execv when used on Mac OS X versions prior to 10.6 when there are multiple threads in the process.

==

tornado/autoreload.py
==================
010271d7;Ben Darnell;2010-02-24 15:18:39 -0800;Always reraise KeyboardInterrupt and SystemExit whenever IOLoop tries to swallow exceptions.

==

tornado/ioloop.py
==================
15ceda22;Ben Darnell;2010-02-16 12:47:32 -0800;Fix ioloop._KQueue to work correctly when listening for both read and write.
kqueue.control must be called separately for each type of filter, not just
once with the filters or'd together.

Fixes http://github.com/facebook/tornado/issues/issue/59/
Change adapted from
http://github.com/weaver/tornado/commit/97e528cf6b92bbb590579864962e2d51c22202e0

==

tornado/ioloop.py
==================
ef83f4b6;Bret Taylor;2010-02-05 10:24:57 -0800;Support passing in cookie value directly in cases where you have to parse the value from other sources (e.g., from the URL for Flash requests). Also fix documentation error for Facebook Connect.

==

tornado/auth.py
tornado/web.py
==================
7ffb4423;Ben Darnell;2010-02-04 13:18:43 -0800;Don't set content-length in StaticFileHandler unless we're actually sending the content.  Some browsers get confused by this (e.g. the version of webkit embedded in fluid, but not the version used in chrome).

==

tornado/web.py
==================
c1be85fc;Bret Taylor;2010-02-04 00:02:09 -0800;Add backwards compatability for secure cookie reading

==

tornado/web.py
==================
4daeb8d8;Bret Taylor;2010-02-03 23:51:20 -0800;Simplify JavaScript path ordering patch

==

tornado/web.py
==================
a34dc422;Ben Darnell;2010-02-03 15:49:05 -0800;Import setuptools if it's available.

==

setup.py
==================
ae1ed234;Elias Torres;2010-02-03 18:02:11 -0500;Making sure StaticFileHandlers get first, if not, a catch all handler would break the static handlers.

==

tornado/web.py
==================
3e9a285a;Ben Darnell;2010-02-03 12:18:44 -0800;Include cookie name in signature so that a value signed for use in one cookie can't be used in another.  Note that this invalidates all existing signed cookies.

==

tornado/web.py
==================
efbc2e09;unknown;2010-02-03 14:17:28 -0600;using os specific path seperator

==

tornado/web.py
==================
8aae3263;Elias Torres;2009-11-12 17:27:11 -0500;Fix for maintaining script inclusion order

==

tornado/web.py
==================
0984e008;Elias Torres;2009-11-26 00:30:58 -0500;Added the ability to stop an HTTPServer. Mostly for unittesting.

==

tornado/httpserver.py
==================
74f75616;Ben Darnell;2010-02-03 12:06:43 -0800;Stop parsing arguments after --

==

tornado/options.py
==================
20361993;Ben Darnell;2010-02-03 12:05:03 -0800;Fix EINTR exception handling for non-english locales.

==

tornado/ioloop.py
==================
8186101e;Ben Darnell;2010-02-03 11:56:57 -0800;Set headers earlier in StaticFileHandler, so we return the correct content-type with 304 results (instead of always returning text/html)

==

tornado/web.py
==================
77eb5867;Ben Darnell;2010-02-03 11:49:32 -0800;Add static_url_prefix setting to allow serving of static files somewhere other than /static/

==

tornado/web.py
==================
123771a0;unknown;2010-02-03 10:03:01 -0600;Added support for running Tornado on win32

==

tornado/fcntl_win32.py
tornado/httpserver.py
tornado/ioloop.py
==================
e30e28bc;Ben Darnell;2010-01-28 16:44:20 -0800;Add a hook to allow applications to modify the curl objects directly.

==

tornado/httpclient.py
==================
b6ad0f63;Casey Muller;2010-01-28 00:28:22 -0800;Merge branch 'master' of git://github.com/bdarnell/tornado

==
==================
a2adfa1f;Casey Muller;2010-01-27 23:46:12 -0800;allow connect and request timeouts of zero

==

tornado/httpclient.py
==================
47db0277;Casey Muller;2010-01-27 23:35:17 -0800;use self.headers for cases where no headers were passed in

==

tornado/httpserver.py
==================
a1991136;Ben Darnell;2010-01-22 13:09:51 -0800;Make parse_command_line initialize logging even when there are non-option arguments.

==

tornado/options.py
==================
adcc1039;Ben Darnell;2010-01-22 13:08:33 -0800;Merge branch 'master' of git://github.com/facebook/tornado

==
==================
1e291eb5;Bret Taylor;2010-01-18 11:39:39 -0800;Add HTML 5 WebSocket support (see http://bret.appspot.com/entry/web-sockets-in-tornado)

==

tornado/websocket.py
==================
fb66140d;Bret Taylor;2010-01-17 21:12:24 -0800;Fix httpclient / epoll interaction errors, per http://groups.google.com/group/python-tornado/browse_thread/thread/276059a076593266. Thanks everyone for the patch and discussion.

==

tornado/httpclient.py
tornado/ioloop.py
==================
57ec818a;Ben Darnell;2010-01-15 20:27:42 -0800;Catch both IOError and OSError in another place.

==

tornado/httpclient.py
==================
8c2429db;Ben Darnell;2010-01-15 18:42:00 -0800;Catch IOError in addition to OSError in IOLoop.remove_handler (friendfeed's epoll module throws OSError, while the one in the standard library throws IOError)

==

tornado/ioloop.py
==================
7e3ace86;Benjamin Golub;2010-01-14 06:07:58 -0500;fb demo fix

==

demos/facebook/templates/modules/post.html
==================
c436d7aa;Bret Taylor;2010-01-11 14:17:27 -0800;Fix new connection close handler for WSGI handlers

==

tornado/web.py
==================
9107b6be;Bret Taylor;2010-01-11 11:53:21 -0800;Add reverse_url to RequestHandler class as well

==

tornado/web.py
==================
70144176;Bret Taylor;2010-01-11 11:02:23 -0800;Merge remote branch 'bdarnell/master'

==
==================
e4c6eec2;Gary Burd;2010-01-11 10:31:41 -0800;Use time indepdent compare for secure cookie.

==

tornado/web.py
==================
1ea5df5e;Ben Darnell;2010-01-07 19:06:11 -0800;Add a method to RequestHandler that can be used to detect when the connection has been closed by the client.
This has always been supported via
self.request.connection.stream.set_close_callback, but putting it in
RequestHandler directly is more discoverable and less fragile.

==

tornado/web.py
==================
d877a65d;Ben Darnell;2010-01-07 18:53:47 -0800;Add a kqueue-based implementation of IOLoop for BSD/Mac systems.
The main reason for this is to be able to detect when a connection has
been closed on the other side.
(http://github.com/facebook/tornado/issues/#issue/37)

This has been supported with epoll but not select, and it turned out to be
easier to add kqueue support than to figure out how to detect and handle
this case with select.

This change has not been tested in a production environment, but I have tested
it on my mac (10.6) and everything appears to work, and
IOStream.set_close_callback now works as expected.

==

tornado/ioloop.py
==================
52d20a0d;Ben Darnell;2009-12-28 17:55:00 -0800;Don't try to write to a stream that was closed out from under us. This should get rid of all the "exception after headers written" spam in our logs.

==

tornado/httpserver.py
==================
6ee22230;Ben Darnell;2009-12-28 17:27:05 -0800;Add httpclient support for the delete method.

==

tornado/httpclient.py
==================
3ab63905;Ben Darnell;2009-12-16 17:01:37 -0800;If IOLoop.stop is called before the loop is running, make the next call to IOLoop.start return immediately, so that one call each to start and stop will result in the loop not running rather than running infinitely, even if the call to stop happens first.

==

tornado/ioloop.py
==================
22d840ed;Chris Wetherell;2009-12-14 15:21:26 -0800;Added kwargs to get_error_html in the RequestHandler so that downstream actors can render or otherwise use the exception object thrown. This is a backwards-incompatible change for anyone who has overridden get_error_html().

==

tornado/web.py
==================
4381df04;Ben Darnell;2009-12-09 17:07:18 -0800;Use empty dictionary instead of None as default for kwargs

==

tornado/web.py
==================
1823a772;Ben Darnell;2009-12-09 16:59:04 -0800;Fix missed variable rename

==

tornado/web.py
==================
df5c994a;Ben Darnell;2009-12-09 16:44:19 -0800;Add Application.reverse_url, which can generate a url to a handler by name. This minimizes repetition of url patterns for links and redirects.
Internally, handler mappings are now maintained as a list of URLSpec objects
instead of tuples.  The Application constructor and add_handlers method
will accept either URLSpecs or (pattern, handler, [kwargs]) tuples.

Inspired by similar functionality in django, and based on
http://github.com/apgwoz/tornado/commit/0b57fbcf992647b6674ad9e433bffffac900f83a
by apgwoz.

==

tornado/web.py
==================
9ade7050;Ben Darnell;2009-12-09 15:23:08 -0800;Merge branch 'master' of git://github.com/facebook/tornado

==
==================
b3d98c4a;Bret Taylor;2009-12-09 01:48:50 -0800;Add basic error checking so you can't add a server to the IOLoop twice

==

tornado/httpserver.py
==================
8d4dde80;Bret Taylor;2009-12-09 01:45:05 -0800;Typo in error message

==

tornado/httpserver.py
==================
6fb90ae6;Bret Taylor;2009-12-09 00:24:03 -0800;Pre-forking implementation so a single Tornado server can utilize all CPU cores

==

tornado/httpserver.py
tornado/ioloop.py
==================
1da2b3c5;Bret Taylor;2009-12-08 08:56:02 -0800;Add gzip Content-Encoding support with 'gzip' application option

==

tornado/web.py
==================
41a94730;Ben Darnell;2009-12-07 16:17:19 -0800;Add REMOTE_ADDR to WSGIContainer

==

tornado/wsgi.py
==================
ce20498a;Ben Darnell;2009-12-07 15:53:28 -0800;Merge branch 'master' of http://github.com/facebook/tornado

==
==================
400d2c9f;Ben Darnell;2009-12-07 15:47:16 -0800;Make WSGIContainer._environ public and static, so it can be used to adapt tornado requests to WSGI environments without a full WSGIContainer.

==

tornado/wsgi.py
==================
41e46d97;Bret Taylor;2009-12-07 01:28:06 -0800;Fix transform headers bug

==

tornado/web.py
==================
c50d9b8c;Bret Taylor;2009-12-05 19:36:50 -0800;Ignore XSRF cookie check when X-Requested-With XMLHttpRequest header is present

==

tornado/web.py
==================
5fc06caf;Ben Darnell;2009-12-03 11:57:52 -0800;Add a FallbackHandler class to allow use of other applications (e.g. tornado.wsgi.WSGIContainer) from within a tornado.web.Application to facilitate migration from other web frameworks.

==

tornado/web.py
==================
595ffa19;Bret Taylor;2009-11-24 10:27:38 -0800;Add support for Squid proxy headers

==

tornado/httpserver.py
==================
7546f8d3;Bret Taylor;2009-10-28 02:00:23 -0700;Ask for more Facebook Connect fields by default

==

tornado/auth.py
tornado/database.py
==================
b5c6ccb3;Bret Taylor;2009-10-06 00:13:50 -0700;Initial support for SSL (thanks to Dan McDougall for suggesting this and code samples)

==

tornado/httpserver.py
==================
718c1816;Bret Taylor;2009-10-01 20:41:49 -0700;Missing website images

==

website/static/facebook.png
website/static/friendfeed.png
website/static/twitter.png
==================
4e0a8433;Bret Taylor;2009-10-01 20:41:29 -0700;Fix embedded CSS bug

==

tornado/web.py
==================
681d4d2f;Bret Taylor;2009-09-30 14:56:36 -0700;Add links to FB, Twitter, FF on web site

==

website/templates/index.html
==================
b32b6b4b;Bret Taylor;2009-09-30 01:01:00 -0700;Bug fix

==

tornado/ioloop.py
==================
aa836cdf;Bret Taylor;2009-09-30 00:32:40 -0700;CSS/JS embeds after files

==

tornado/web.py
==================
571dd056;caseymrm;2009-09-23 11:46:17 -0700;add address param to listen

==

tornado/httpserver.py
==================
50528c01;Bret Taylor;2009-09-21 09:38:33 -0700;Typo in PeriodicCallback

==

tornado/ioloop.py
==================
d6e9cd5a;Bret Taylor;2009-09-17 19:53:10 -0700;New 0.2 distribution from the past week's bug fixes

==

setup.py
website/static/tornado-0.2.tar.gz
website/templates/documentation.txt
website/templates/index.html
==================
11503326;Bret Taylor;2009-09-17 19:47:32 -0700;Turn on auto-reloading when 'debug' setting is given

==

demos/auth/authdemo.py
tornado/autoreload.py
tornado/web.py
tornado/wsgi.py
==================
c4f682d4;Bret Taylor;2009-09-17 17:46:46 -0700;Bug in locale.py and increase poll time for autoreloader

==

tornado/autoreload.py
tornado/locale.py
==================
6e1cb0dd;paul;2009-09-16 22:59:42 -0700;add streaming_callback option to httpclient

==

tornado/httpclient.py
==================
237944d5;Bret Taylor;2009-09-16 01:49:58 -0700;Rename auto-reload module

==

tornado/autoreload.py
tornado/web.py
==================
be71a24f;Bret Taylor;2009-09-16 01:29:12 -0700;Experimental module auto-reloading on modification

==

tornado/ioloop.py
tornado/reloader.py
tornado/web.py
==================
dd6cadf2;btaylor;2009-09-14 18:10:06 -0700;Auto-reconnect on MySQL connection failur

==

tornado/database.py
==================
f524cc6a;btaylor;2009-09-14 17:40:45 -0700;Add gitignore file

==

.gitignore
==================
016dee1e;Benjamin Golub;2009-09-14 15:43:07 -0400;use correct module

==

demos/appengine/blog.py
==================
c59cf2ab;Casey;2009-09-14 11:08:27 -0700;make logout link work

==

demos/chat/chatdemo.py
==================
2be82a07;Bret Taylor;2009-09-14 09:45:24 -0700;Fix multipart/form-data for WSGIApplication

==

tornado/wsgi.py
==================
91d90b2f;Bret Taylor;2009-09-14 09:37:36 -0700;Get rid of unnecessary/inconsistent mixin

==

demos/chat/chatdemo.py
==================
82a2de53;Bret Taylor;2009-09-13 14:13:55 -0700;Add addslash and removeslash decorators for, e.g., redirecting '/dir' to '/dir/'

==

tornado/web.py
==================
37e67120;Bret Taylor;2009-09-13 12:26:16 -0700;Two minor typos

==

demos/helloworld/helloworld.py
tornado/iostream.py
==================
8ca61608;Bret Taylor;2009-09-13 11:19:57 -0700;Add initial WSGI container support for running other frameworks on Tornado's HTTP server

==

tornado/wsgi.py
==================
9c51d01b;Bret Taylor;2009-09-12 09:25:03 -0700;Don't reference Exception.message due to deprecation in Python 2.6

==

tornado/httpclient.py
==================
6b07e695;Casey;2009-09-11 11:43:08 -0700;documentation typos

==

website/templates/documentation.txt
==================
9e24ae16;Benjamin Golub;2009-09-11 07:47:33 -0400;s/Google Code/GitHub

==

tornado/web.py
==================
f6798502;Casey;2009-09-10 14:39:28 -0700;Merge branch 'master' of git@github.com:facebook/tornado

==
==================
cdcfb263;Casey;2009-09-10 14:39:23 -0700;make sign out clickable, ignoring automatic redirect for now

==

demos/chat/static/chat.css
demos/chat/templates/index.html
==================
72707599;Bret Taylor;2009-09-10 14:24:33 -0700;Merge branch 'master' of git://github.com/jaybaird/tornado

==
==================
e0526867;Casey;2009-09-10 14:10:23 -0700;typo

==

website/templates/index.html
==================
41ea6da5;Casey;2009-09-10 13:41:13 -0700;both links work, but this one seems canonical

==

website/templates/base.html
==================
2fd2ad6d;Jay Baird;2009-09-10 13:24:39 -0700;remove cases where intern is used. This will prevent a DoS via memory starvation if a lot of requests are sent using random headers

==

tornado/httpserver.py
tornado/wsgi.py
==================
19c8610e;Casey;2009-09-10 12:01:36 -0700;typo

==

website/templates/documentation.txt
==================
2e1e2a79;Bret Taylor;2009-09-10 11:49:27 -0700;Add python-dev to apt-get command per http://groups.google.com/group/python-tornado/browse_thread/thread/d88de85aa33193a7

==

website/templates/documentation.txt
website/templates/index.html
==================
e48e2b11;Casey;2009-09-10 11:35:29 -0700;typo

==

website/templates/documentation.txt
==================
e997ac0a;Benjamin Golub;2009-09-10 14:11:56 -0400;Merge branch 'master' of github.com:facebook/tornado

==
==================
01405d0b;Benjamin Golub;2009-09-10 14:11:39 -0400;typos

==

website/templates/documentation.txt
website/templates/index.html
==================
6794fced;Casey;2009-09-10 11:09:28 -0700;Merge branch 'master' of git@github.com:facebook/tornado

==
==================
f431c9e5;Casey;2009-09-10 11:09:21 -0700;updated tarball

==

website/static/tornado-0.1.tar.gz
==================
d9d3e9ca;Benjamin Golub;2009-09-10 13:52:26 -0400;fix README

==

demos/facebook/README
==================
e197a479;Casey;2009-09-10 10:47:19 -0700;escape more

==

demos/chat/templates/message.html
==================
e4d56d91;Casey;2009-09-10 10:38:08 -0700;typo

==

website/templates/documentation.txt
==================
71a44bc0;Bret Taylor;2009-09-10 10:24:52 -0700;Another typo (thanks, Ben)

==

website/templates/index.html
==================
9a8bd2fb;Bret Taylor;2009-09-10 09:29:49 -0700;Add prerequisites to Tornado docs

==

website/templates/documentation.txt
==================
98a6bd9a;Bret Taylor;2009-09-10 01:16:44 -0700;Fixed typo (thanks Casey)

==

website/templates/base.html
==================
efd4666d;Bret Taylor;2009-09-10 00:53:07 -0700;No favicon for Tornado web site

==

website/app.yaml
==================
2afa9734;Bret Taylor;2009-09-10 00:50:51 -0700;Move Tornado project to Github

==

MANIFEST.in
README
demos/appengine/README
demos/appengine/app.yaml
demos/appengine/blog.py
demos/appengine/markdown.py
demos/appengine/static/blog.css
demos/appengine/templates/archive.html
demos/appengine/templates/base.html
demos/appengine/templates/compose.html
demos/appengine/templates/entry.html
demos/appengine/templates/feed.xml
demos/appengine/templates/home.html
demos/appengine/templates/modules/entry.html
demos/auth/authdemo.py
demos/blog/README
demos/blog/blog.py
demos/blog/markdown.py
demos/blog/schema.sql
demos/blog/static/blog.css
demos/blog/templates/archive.html
demos/blog/templates/base.html
demos/blog/templates/compose.html
demos/blog/templates/entry.html
demos/blog/templates/feed.xml
demos/blog/templates/home.html
demos/blog/templates/modules/entry.html
demos/chat/chatdemo.py
demos/chat/static/chat.css
demos/chat/static/chat.js
demos/chat/templates/index.html
demos/chat/templates/message.html
demos/facebook/README
demos/facebook/facebook.py
demos/facebook/static/facebook.css
demos/facebook/static/facebook.js
demos/facebook/templates/modules/post.html
demos/facebook/templates/stream.html
demos/facebook/uimodules.py
demos/helloworld/helloworld.py
setup.py
tornado/__init__.py
tornado/auth.py
tornado/database.py
tornado/epoll.c
tornado/escape.py
tornado/httpclient.py
tornado/httpserver.py
tornado/ioloop.py
tornado/iostream.py
tornado/locale.py
tornado/options.py
tornado/s3server.py
tornado/template.py
tornado/web.py
tornado/wsgi.py
website/app.yaml
website/index.yaml
website/markdown/__init__.py
website/markdown/blockparser.py
website/markdown/blockprocessors.py
website/markdown/commandline.py
website/markdown/etree_loader.py
website/markdown/extensions/__init__.py
website/markdown/extensions/toc.py
website/markdown/html4.py
website/markdown/inlinepatterns.py
website/markdown/odict.py
website/markdown/postprocessors.py
website/markdown/preprocessors.py
website/markdown/treeprocessors.py
website/static/base.css
website/static/robots.txt
website/static/tornado-0.1.tar.gz
website/static/tornado.png
website/templates/base.html
website/templates/documentation.html
website/templates/documentation.txt
website/templates/index.html
website/website.py
==================
07e5e8c4;Bret Taylor;2009-09-08 22:15:18 -0700;Wrote initial README file

==

README
==================
11de50a8;Facebook;2009-09-08 22:01:24 -0700;Created project

==

README
